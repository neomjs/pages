(()=>{var e,t,n={49:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o=n(583);const s={BODY:1,BUTTON:1,EMBED:1,IFRAME:1,INPUT:1,OBJECT:1,SELECT:1,TEXTAREA:1};class r extends o.A{static config={className:"Neo.main.DomUtils"};static closest(e,t,n=document.body){for(;e?.nodeType===Node.ELEMENT_NODE&&e!==n;){if(t(e))return e;e=e.parentNode}}static isFocusable(e){return r.isTabbable(e)||Number(e.getAttribute("tabIndex"))<0}static isTabbable(e){const{nodeName:t}=e,n=getComputedStyle(e),o=e.getAttribute("tabIndex");return!(!e.isConnected||!e.offsetParent||"hidden"===n.getPropertyValue("visibility")||Number(o)<0)&&(s[t]||("A"===t||"LINK"===t)&&!!e.href||null!=o&&Number(o)>=0||"true"===e.contentEditable)}static query(e,t){return[e,...e.querySelectorAll("*")].find(t)}static queryAll(e,t){return[e,...e.querySelectorAll("*")].filter(t)}}const i=Neo.setupClass(r)},126:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var o=n(583),s=n(983),r=n(160),i=n(358);class a{constructor(e){e.destination=e.destination||"main",e.id=e.id||i.A.getId(Neo.workerId),e.origin=e.origin||Neo.workerId,Object.assign(this,e)}}Neo.ns("Neo.worker",!0).Message=a;const l=a;var c=n(691);class d extends o.A{static config={className:"Neo.worker.mixin.RemoteMethodAccess",mixin:!0};assignPort(e,t){if(e){const{appName:n,port:o,windowId:s}=e;Object.assign(t,{appName:n,port:o,windowId:s})}}generateRemote(e,t){let n=this,{origin:o}=e;return function(s,r){let i={action:"remoteMethod",data:s,destination:o,remoteClassName:e.className,remoteMethod:t};return n.isSharedWorker&&n.assignPort(s,i),n.promiseMessage(o,i,r)}}onRegisterRemote(e){if(e.destination===Neo.workerId){let t=this,{className:n,methods:o}=e,s=Neo.ns(n,!0);o.forEach((o=>{if("main"!==e.origin&&s[o])throw new Error("Duplicate remote method definition "+n+"."+o);s[o]??=t.generateRemote(e,o)}))}}onRemoteMethod(e){let t,n,o=this,s=Neo.ns(e.remoteClassName);if(!s)throw new Error('Invalid remote namespace "'+e.remoteClassName+'"');if(n=s[e.remoteMethod],!n)throw new Error('Invalid remote method name "'+e.remoteMethod+'"');t=Array.isArray(e.data)?n.call(s,...e.data):n.call(s,e.data),t instanceof Promise?t.catch((t=>{o.reject(e,t)})).then((t=>{o.resolve(e,t)})):o.resolve(e,t)}reject(e,t){let n=this,o={action:"reply",data:t,reject:!0,replyId:e.id};n.isSharedWorker&&n.assignPort(e,o),n.sendMessage(e.origin,o)}resolve(e,t){let n=this,o={action:"reply",data:t,replyId:e.id};n.isSharedWorker&&n.assignPort(e,o),n.sendMessage(e.origin,o)}}const u=Neo.setupClass(d),h=Neo.config,m="development"===h.environment;class p extends o.A{static config={className:"Neo.worker.Manager",singleton:!0,activeWorkers:0,appNames:[],basePath:h.workerBasePath||"worker/",constructedThreads:0,mixins:[c.A,u],sharedWorkersEnabled:!1,stopCommunication:!1,webWorkersEnabled:!1,windowId:(new Date).getTime(),workers:{app:{fileName:m?"App.mjs":"appworker.js"},canvas:{fileName:m?"Canvas.mjs":"canvasworker.js"},data:{fileName:m?"Data.mjs":"dataworker.js"},task:{fileName:m?"Task.mjs":"taskworker.js"},vdom:{fileName:m?"VDom.mjs":"vdomworker.js"}}};serviceWorker=null;construct(e){super.construct(e);let t=this;t.detectFeatures(),!Neo.insideWorker&&t.createWorkers(),Neo.workerId="main",t.promises={},t.on({"message:addDomListener":{fn:r.A.addDomListener,scope:r.A},"message:getOffscreenCanvas":{fn:s.A.onGetOffscreenCanvas,scope:s.A},"message:readDom":{fn:s.A.onReadDom,scope:s.A},"message:registerRemote":{fn:t.onRegisterRemote,scope:t},"message:workerConstructed":{fn:t.onWorkerConstructed,scope:t}})}broadcast(e){Object.keys(this.workers).forEach((t=>{"canvas"===t&&!h.useCanvasWorker||"task"===t&&!h.useTaskWorker||"vdom"===t&&!h.useVdomWorker||this.sendMessage(t,e)}))}createWorker(e){let t=this,{fileName:n}=e,o=(e.basePath||t.basePath)+n,s=`neomjs-${n.substring(0,n.indexOf(".")).toLowerCase()}-worker`,r=t.sharedWorkersEnabled&&h.useSharedWorkers,i=new(r?SharedWorker:Worker)(o,m?{name:s,type:"module"}:{name:s});return(r?i.port:i).onmessage=t.onWorkerMessage.bind(t),(r?i.port:i).onerror=t.onWorkerError.bind(t),t.activeWorkers++,i}createWorkers(){let e,t,n=this,o=Neo.clone(h,!0),{hash:s,href:i,search:a}=location,{windowId:l}=n;for([e,t]of(delete o.cesiumJsToken,s&&(o.hash={hash:r.A.parseHash(s.substring(1)),hashString:s.substring(1),windowId:l}),o.url={href:i,search:a},Object.entries(n.workers)))if(!("canvas"===e&&!o.useCanvasWorker||"task"===e&&!o.useTaskWorker||"vdom"===e&&!o.useVdomWorker)){try{t.worker=n.createWorker(t)}catch(e){document.body.innerHTML=e,n.stopCommunication=!0;break}n.sendMessage(e,{action:"registerNeoConfig",data:{...o,windowId:l}})}}detectFeatures(){if(h.hasMouseEvents=matchMedia("(pointer:fine)").matches,h.hasTouchEvents="ontouchstart"in window||navigator.maxTouchPoints>0,document.body.classList.add(h.hasMouseEvents?"neo-mouse":"neo-no-mouse"),!window.Worker)throw new Error("Your browser does not support Web Workers");this.webWorkersEnabled=!0,window.SharedWorker&&(this.sharedWorkersEnabled=!0)}getWorker(e){return"service"===e?navigator.serviceWorker?.controller||this.serviceWorker:e instanceof Worker?e:this.workers[e].worker}loadApplication(e){this.sendMessage("app",{action:"loadApplication",path:e,resourcesPath:h.resourcesPath})}onWorkerConstructed(e){let t=this;t.constructedThreads++,t.constructedThreads===t.activeWorkers&&h.appPath&&t.timeout(h.loadApplicationDelay).then((()=>{t.loadApplication(h.appPath)}))}onWorkerError(e){!m&&console.log("Worker Error:",e)}onWorkerMessage(e){let t,n=this,{data:o}=e,s=null;const{action:r,destination:i,replyId:a}=o;if(n.fire("message:"+r,o),"reply"===r&&(t=n.promises[a],t?("main"===o.destination&&(o=o.data),t[o.reject?"reject":"resolve"](o),delete n.promises[a]):o.data&&(o.data.autoMount&&n.fire("automount",o),o.data.updateVdom&&n.fire("updateVdom",o),n.promiseForwardMessage(o).then((e=>{n.sendMessage(e.destination,e)})))),"main"!==i&&"reply"!==r)o.transfer&&(s=[o.transfer]),n.promiseMessage(i,o,s).then((e=>{n.sendMessage(e.destination,e)})).catch((e=>{n.sendMessage(o.origin,{action:"reply",reject:!0,replyId:o.id,error:e.message})}));else if("main"===i&&"registerAppName"===r){let{appName:e}=o;n.appNames.push(e),n.broadcast({action:"registerApp",appName:e})}else"main"===i&&"remoteMethod"===r&&n.onRemoteMethod(o)}promiseForwardMessage(e){return new Promise(((t,n)=>{this.promises[e.replyId]={data:e,reject:n,resolve:t}}))}promiseMessage(e,t,n){let o=this;return new Promise(((s,r)=>{let i=o.sendMessage(e,t,n).id;o.promises[i]={reject:r,resolve:s}}))}resolveDomOperationPromise(e){if(e){let{promises:t}=this,n=t[e];n&&(n.resolve(n.data),delete t[e])}}sendMessage(e,t,n){let o,s,r=this;if(!r.stopCommunication){if(t.channelPort?(s=t.channelPort,delete t.channelPort):s=r.getWorker(e),!s)throw new Error("Called sendMessage for a worker that does not exist: "+e);return t.destination=e,o=new l(t),(s.port?s.port:s).postMessage(o,n),o}}}const g=Neo.setupClass(p)},160:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var o=n(583);n(691),n(596);class s extends o.A{static config={className:"Neo.main.mixin.TouchDomEvents"};onTouchCancel(e){let t=this;t.sendMessageToApp(t.getEventData(e)),t.firstTouch=null,t.lastTouch=null}onTouchEnd(e){let t=this;t.sendMessageToApp(t.getEventData(e)),t.firstTouch=null,t.lastTouch=null}onTouchEnter(e){this.sendMessageToApp(this.getEventData(e))}onTouchLeave(e){this.sendMessageToApp(this.getEventData(e))}onTouchMove(e){let t=this,n=t.getEventData(e),o=e.touches[0],{lastTouch:s}=t;s&&Object.assign(n,{deltaX:o.clientX-s.clientX,deltaY:o.clientY-s.clientY}),t.sendMessageToApp(n),t.lastTouch=o,t.testPathInclusion(e,["neo-helix"])&&e.preventDefault()}onTouchStart(e){let t=this;t.firstTouch=e.touches[0],t.lastTouch=e.touches[0],t.sendMessageToApp(t.getEventData(e))}}const r=Neo.setupClass(s),i=[{name:"change",handler:"onChange"},{name:"click",handler:"onClick"},{name:"contextmenu",handler:"onContextMenu"},{name:"dblclick",handler:"onDoubleClick"},{name:"focusin",handler:"onFocusIn"},{name:"focusout",handler:"onFocusOut"},{name:"input",handler:"onChange"},{name:"keydown",handler:"onKeyDown"},{name:"keyup",handler:"onKeyUp"},{name:"mousedown",handler:"onMouseDown"},{name:"mouseenter",handler:"onMouseEnter",options:{capture:!0}},{name:"mouseleave",handler:"onMouseLeave",options:{capture:!0}},{name:"mouseup",handler:"onMouseUp"},{name:"scroll",handler:"onScroll",options:{capture:!0}},{name:"wheel",handler:"onWheel",options:{passive:!1}}],a=[{name:"touchcancel",handler:"onTouchCancel"},{name:"touchend",handler:"onTouchEnd"},{name:"touchenter",handler:"onTouchEnter"},{name:"touchleave",handler:"onTouchLeave"},{name:"touchmove",handler:"onTouchMove",options:{passive:!1}},{name:"touchstart",handler:"onTouchStart"}],l=["neo-c-m-scrollcontainer","neo-c-w-scrollcontainer","neo-calendar-yearcomponent","neo-circle-component","neo-dateselector","neo-gallery","neo-helix"],c={"neo-c-m-scrollcontainer":100,"neo-c-w-scrollcontainer":100,"neo-calendar-yearcomponent":300,"neo-dateselector":300},d=["neo-c-m-scrollcontainer","neo-c-w-scrollcontainer"],u={date:null,target:null},h={},m=[],p=[];class g extends o.A{static observable=!0;static config={className:"Neo.main.DomEvents",mixins:[r],singleton:!0,remote:{app:["addDomListener","registerDisabledInputChars","registerPreventDefaultTargets","unregisterDisabledInputChars"]}};lastTouch=null;construct(e){super.construct(e);let t=this;document.addEventListener("DOMContentLoaded",t.onDomContentLoaded.bind(t)),document.addEventListener("selectionchange",t.onSelectionChange.bind(t)),window.addEventListener("orientationchange",t.onOrientationChange.bind(t)),window.addEventListener("hashchange",t.onHashChange.bind(t)),Neo.config.useSharedWorkers&&window.addEventListener("beforeunload",t.onBeforeUnload.bind(t))}addDomListener(e){let t,n,o,s=this,r=0,i=e.events.length,a=null;for(;r<i;r++)t=e.events[r],s[t.handler]||(s[t.handler]=Neo.emptyFn),n=t.vnodeId||e.vnodeId,o="document.body"===n?document.body:Neo.config.useDomIds?document.getElementById(n):document.querySelector(`[data-neo-id='${n}']`),o?o.addEventListener(t.name,s[t.handler].bind(s)):a=n;a&&"development"===Neo.config.environment&&console.warn("DomEvents:addDomListener() => target node not found:",a),Neo.worker.Manager.sendMessage(e.origin,{action:"reply",data:e,replyId:e.id,success:!a})}addGlobalDomListeners(){let e=this;[...i].concat(Neo.config.hasTouchEvents?a:[]).forEach((t=>{document.body.addEventListener(t.name,e[t.handler].bind(e),t.options)}))}domEventListener(e){let{target:t}=e,n={action:"domEvent",eventName:e.type,data:{...this.getEventData(e),id:t.id,value:t.value}};"mousemove"===e.type?Object.assign(n.data,this.getMouseEventData(e)):e.preventDefault(),Neo.worker.Manager.sendMessage("app",n)}getDistance(e,t,n,o){return Math.sqrt((n-e)**2+(o-t)**2)}getEventData(e){let t=e.composedPath();t.length<1&&(t=e.path);const n={path:t.map((e=>this.getTargetData(e))),target:this.getTargetData(e.target),timeStamp:e.timeStamp,type:e.type,data:{...e.target.dataset}};return e.relatedTarget&&(n.relatedTarget=this.getTargetData(e.relatedTarget)),n}getKeyboardEventData(e){let{altKey:t,code:n,ctrlKey:o,key:s,keyCode:r,metaKey:i,shiftKey:a}=e;return{...this.getEventData(e),altKey:t,code:n,ctrlKey:o,key:s,keyCode:r,metaKey:i,shiftKey:a}}getMouseEventData(e){let{altKey:t,clientX:n,clientY:o,ctrlKey:s,detail:r,metaKey:i,offsetX:a,offsetY:l,pageX:c,pageY:d,screenX:u,screenY:h,shiftKey:m}=e;return{...this.getEventData(e),altKey:t,clientX:n,clientY:o,ctrlKey:s,detail:r,metaKey:i,offsetX:a,offsetY:l,pageX:c,pageY:d,screenX:u,screenY:h,shiftKey:m}}getPathFromElement(e){let t=[];if(e)for(t.push(e);e.parentNode;)t.push(e.parentNode),e=e.parentNode;return t}getSelectionPath(e,t){return t.parentNode&&t.id.split("__").length>1&&(e=this.getSelectionPath(e,t.parentNode)),e.push(this.getTargetData(t)),e}getTargetData(e){let t=e.getBoundingClientRect?.(),n=t&&this.parseDomRect(t)||{};return{checked:e.checked,childElementCount:e.childElementCount,clientHeight:e.clientHeight,clientLeft:e.clientLeft,clientTop:e.clientTop,clientWidth:e.clientWidth,cls:e.classList?[...e.classList]:[],data:{...e.dataset},draggable:e.draggable,hidden:e.hidden,id:Neo.config.useDomIds?e.id:e.dataset?.neoId,inert:e.inert,isConnected:e.isConnected,isContentEditable:e.isContentEditable,nodeType:e.nodeType,offsetHeight:e.offsetHeight,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,offsetWidth:e.offsetWidth,rect:n,scrollHeight:e.scrollHeight,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollWidth:e.scrollWidth,style:e.style?.cssText,tabIndex:e.tabIndex,tagName:e.tagName?.toLowerCase()}}getTouchCoords(e){let{touches:t,changedTouches:n}=e;return t?.[0]||n?.[0]}onBeforeUnload(e){let{Manager:t}=Neo.worker;t.appNames.forEach((e=>{t.broadcast({action:"disconnect",appName:e,windowId:t.windowId})}))}onChange(e){let{target:t}=e,n={...this.getEventData(e),valid:t.checkValidity?.(),value:t.value};t.files&&(n.files=t.files),this.sendMessageToApp(n)}onClick(e){let t=this;t.sendMessageToApp(t.getMouseEventData(e)),t.testPathInclusion(e,m)&&e.preventDefault()}onContextMenu(e){let t=this;t.sendMessageToApp(t.getMouseEventData(e)),(e.ctrlKey||t.testPathInclusion(e,p))&&e.preventDefault()}onDomContentLoaded(){this.addGlobalDomListeners(),this.fire("domContentLoaded")}onDoubleClick(e){let t=this;t.sendMessageToApp(t.getMouseEventData(e)),t.testPathInclusion(e,m)&&e.preventDefault()}onFocusIn(e){this.sendMessageToApp(this.getEventData(e))}onFocusOut(e){this.sendMessageToApp(this.getEventData(e))}onHashChange(){let{Manager:e}=Neo.worker,t=location.hash.substring(1);e.sendMessage("app",{action:"hashChange",data:{appNames:e.appNames,hash:this.parseHash(t),hashString:t,windowId:e.windowId}})}onKeyDown(e){let t=this,{target:n}=e,{tagName:o}=n,s="INPUT"===o||"TEXTAREA"===o;s&&h[n.id]?.includes(e.key)?e.preventDefault():(t.sendMessageToApp(t.getKeyboardEventData(e)),s&&"Tab"===e.key&&t.testPathInclusion(e,["neo-grid-editor","neo-table-editor"],!0)&&e.preventDefault(),!s&&["ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(e.key)&&t.testPathInclusion(e,["neo-selection"],!0)&&e.preventDefault())}onKeyUp(e){this.sendMessageToApp(this.getKeyboardEventData(e))}onMouseDown(e){this.sendMessageToApp(this.getMouseEventData(e))}onMouseEnter(e){let t=this,n={...t.getMouseEventData(e),fromElementId:e.fromElement?.id||null,toElementId:e.toElement?.id||null};t.sendMessageToApp(n),t.fire("mouseEnter",n)}onMouseLeave(e){let t=this,n={...t.getMouseEventData(e),fromElementId:e.fromElement?.id||null,toElementId:e.toElement?.id||null};t.sendMessageToApp(n),t.fire("mouseLeave",n)}onMouseUp(e){this.sendMessageToApp(this.getMouseEventData(e))}onOrientationChange(e){let{orientation:t}=screen,{angle:n,type:o}=t,s=0===n||180===n?"portrait":"landscape";Neo.worker.Manager.sendMessage("app",{action:"orientationChange",data:{angle:n,layout:s,type:o}})}onScroll(e){let t,n=this,{firstTouch:o,lastTouch:s}=n,{clientHeight:r,clientWidth:i,scrollLeft:a,scrollTop:l}=e.target;e.preventDefault(),t={...n.getEventData(e),clientHeight:r,clientWidth:i,scrollLeft:a,scrollTop:l},o&&(t.touches={firstTouch:{clientX:o.clientX,clientY:o.clientY},lastTouch:{clientX:s.clientX,clientY:s.clientY}}),n.sendMessageToApp(t)}onSelectionChange(e){let t,n,o=this,{target:s}=e,r=s.type?s:s.activeElement;"BODY"!==s.tagName&&(t=o.getSelectionPath([],r),n=o.getTargetData(r),o.sendMessageToApp({path:t,selection:{direction:r.selectionDirection,end:r.selectionEnd,start:r.selectionStart},target:n,timeStamp:e.timeStamp,type:"selectionchange"}))}onWheel(e){let t,n=this.testPathInclusion(e,l),o=!1;if(n){if(t=n.cls,c[n.cls]){let e=new Date;u.date&&u.target===t&&e-u.date<c[t]?o=!0:Object.assign(u,{date:e,target:t})}if(!o){let{deltaX:t,deltaY:o,deltaZ:s}=e;this.sendMessageToApp({...this.getEventData(e),clientHeight:n.node.clientHeight,clientWidth:n.node.clientWidth,deltaX:t,deltaY:o,deltaZ:s,scrollLeft:n.node.scrollLeft,scrollTop:n.node.scrollTop})}d.includes(t)||e.preventDefault()}}parseDomRect(e){let{bottom:t,height:n,left:o,right:s,top:r,width:i,x:a,y:l}=e;return{bottom:t,height:n,left:o,right:s,top:r,width:i,x:a,y:l}}parseHash(e){if(""===e)return{};let t,n,o,s,r=e.split("&"),i={};for(t=0;t<r.length;t++)o=r[t].split("="),o.length<2&&o.push(""),n=decodeURIComponent(o[0]),s=decodeURIComponent(o[1]),-1!==n.indexOf("[]")?(n=n.substring(0,n.indexOf("[]")),void 0===i[n]&&(i[n]=[]),i[n].push(this.parseValue(s))):i[n]=this.parseValue(s);return i}parseValue(e){return e==parseInt(e)?e=parseInt(e):"false"===e?e=!1:"true"===e&&(e=!0),e}registerDisabledInputChars(e){h[e.id]=e.chars}registerPreventDefaultTargets(e){let t;switch(Array.isArray(e.cls)||(e.cls=[e.cls]),e.name){case"click":t=m;break;case"contextmenu":t=p}e.cls.forEach((e=>{!t.includes(e)&&t.push(e)}))}sendMessageToApp(e){Neo.worker.Manager.sendMessage("app",{action:"domEvent",eventName:e.type,data:e})}stripHtml(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent||""}testPathInclusion(e,t,n=!1){let o,s,r=t.length,i=e.path||e.composedPath(),a=0,l=i.length;for(;a<l;a++)for(s=i[a],o=0;o<r;o++)if(n&&s.classList?.value?.includes(t[o])||s.classList?.contains(t[o]))return{cls:t[o],node:s};return!1}unregisterDisabledInputChars(e){delete h[e.id]}}const f=Neo.setupClass(g)},358:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const o=Neo.setupClass(class{static config={className:"Neo.core.IdGenerator",ntype:"id-generator",base:"neo-",singleton:!0};construct(e){let t=this;t.idCounter={},Neo.getId=t.getId.bind(t)}getId(e){e=e||"neo";let t=this.idCounter,n=t[e]||0;return t[e]=++n,this.base+("neo"===e?"":e+"-")+n}init(){}onAfterConstructed(){}onConstructed(){}})},406:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});const o=Object.freeze([]),s=(e=0)=>{switch(Array.isArray(e)||(e=[e]),e.length){case 1:return e.length=4,e.fill(e[0],1,4);case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]]}return e},r=e=>{const t=a[e.ourEdge],n=a[e.theirEdge];return`${t}${e.ourEdgeOffset}${e.ourEdgeUnit}-${n}${e.theirEdgeOffset}${e.theirEdgeUnit}`},i=e=>{const t=e instanceof DOMRect?e:(1===e?.nodeType?e:"string"==typeof e?document.getElementById(e):null)?.getBoundingClientRect();return t&&new p(t.x,t.y,t.width,t.height)},a={t:"b",r:"l",b:"t",l:"r"},l={t:0,r:1,b:2,l:3},c=["top","right","bottom","left"],d=["t","r","b","l"],u=["width","height"],h=[0,0,0,0],m=/^([trblc])(\d*)(%|px)?-([trblc])(\d*)(%|px)?$/;class p extends DOMRect{static config={className:"Neo.util.Rectangle"};minHeight=null;minWidth=null;static excludes(e,t){return e.bottom<t.top||e.left>t.right||e.right<t.left||e.top>t.bottom}static getIntersection(e,t){let n=Math.max(e.x,t.x),o=Math.max(e.y,t.y),s=Math.min(e.right,t.right),r=Math.min(e.bottom,t.bottom),i=Math.max(0,s-n),a=Math.max(0,r-o);return a<1||i<1?null:new p(n,o,i,a)}static includes(e,t){return e.bottom>=t.bottom&&e.left<=t.left&&e.right>=t.right&&e.top<=t.top}static leavesSide(e,t,n){return!p.includes(e,t)&&("bottom"===n?e.bottom<t.bottom:"left"===n?e.left>t.left:"right"===n?e.right<t.right:"top"===n?e.top>t.top:void 0)}static moveBy(e,t=null,n=null){let o={...e};return Neo.isNumber(t)&&(o.left+=t,o.right+=t,o.x+=t),Neo.isNumber(n)&&(o.bottom+=n,o.top+=n,o.y+=n),o}static moveTo(e,t=null,n=null){let o={...e};return Neo.isNumber(t)&&(o.left=t,o.right=t+o.width,o.x=t),Neo.isNumber(n)&&(o.bottom=n+o.height,o.top=n,o.y=n),o}set bottom(e){this.height+=e-this.bottom}get bottom(){return super.bottom}set right(e){this.width+=e-this.right}get right(){return super.right}changeX(e){const t=this.x-e;this.x=e,this.width+=t}changeY(e){const t=this.y-e;this.y=e,this.height+=t}clone(){return p.clone(this)}static clone(e){const t=new p(e.x,e.y,e.width,e.height);return t.minWidth=e.minWidth,t.minHeight=e.minHeight,t}intersects(e){const t=this;if(e.height&&e.width){const n=Math.max(t.x,e.x),o=Math.max(t.y,e.y),s=Math.min(t.x+t.width,e.x+e.width),r=Math.min(t.y+t.height,e.y+e.height);return!(n>=s||o>=r)&&new p(n,o,s-n,r-o)}return e.x>=t.x&&e.y>=t.y&&e.right<=t.right&&e.bottom<=t.bottom}contains(e){return this.bottom>=e.bottom&&this.left<=e.left&&this.right>=e.right&&this.top<=e.top}expand(e){return e=s(e),new this.constructor(this.x-e[3],this.y-e[0],this.width+e[1]+e[3],this.height+e[0]+e[2])}moveBy(e=0,t=0){const n=this.clone();return Array.isArray(e)&&(t=e[1],e=e[0]),n.x+=e,n.y+=t,n}contains(e){return this.constructor.includes(this,e)}constrainTo(e){const t=this,n=t.minWidth||t.width;if((t.minHeight||t.height)>e.height||n>e.width)return!1;const o=t.clone();return o.x=Math.max(t.x+Math.min(e.right-o.right,0),e.x),o.y=Math.max(t.y+Math.min(e.bottom-o.bottom,0),e.y),o.bottom=Math.min(o.bottom,e.bottom),o.right=Math.min(o.right,e.right),o}alignTo(e){const t=this,{constrainTo:n,target:o,edgeAlign:p,axisLock:g,offset:f,matchSize:y}=e,b=e.targetMargin?s(e.targetMargin):h,v=i(o),w=i(n),N=(e=>{const t=m.exec(e),n=l[t[1]],o=l[t[4]];return{ourEdge:t[1],ourEdgeOffset:parseInt(t[2]||50),ourEdgeUnit:t[3]||"%",ourEdgeZone:n,theirEdge:t[4],theirEdgeOffset:parseInt(t[5]||50),theirEdgeUnit:t[6]||"%",theirEdgeZone:o,edgeAligned:(1&n)==(1&o)&&n!==o}})(p),E=u[1&N.theirEdgeZone];let A=t.clone();y&&(A[E]=v[E]);const C=A.getAnchorPoint(N.ourEdgeZone,N.ourEdgeOffset,N.ourEdgeUnit),T=v.getAnchorPoint(N.theirEdgeZone,N.theirEdgeOffset,N.theirEdgeUnit,b),M=[T[0]-C[0],T[1]-C[1]];if(A=A.moveBy(M),A.zone=N.theirEdgeZone,A.position=c[A.zone],w&&!w.contains(A)){if(v.intersects(A))return A;let e=N.theirEdgeZone;const n=[{zone:e,edgeAlign:p}];if(g)n[1]={zone:e=(e+2)%4,edgeAlign:r(N)},n.push({zone:e=(N.theirEdgeZone+1)%4,edgeAlign:`${a[d[e]]}-${d[e]}`}),n.push({zone:e=(N.theirEdgeZone+3)%4,edgeAlign:`${a[d[e]]}-${d[e]}`});else for(let t=1;t<4;t++)n.push({zone:e=(e+1)%4,edgeAlign:`${a[d[e]]}-${d[e]}`});for(let e=0;e<n.length;e++){const t=w.clone();switch(n[e].zone){case 0:t.bottom=v.y-b[0];break;case 1:t.changeX(v.right+b[1]);break;case 2:t.changeY(v.bottom+b[2]);break;case 3:t.right=v.x-b[3]}n[e].constrainRect=t}for(let e=0;e<n.length;e++){const{zone:o,edgeAlign:s,constrainRect:r}=n[e],i=d[o];y&&(A[E]=i===N.theirEdge||i==a[N.theirEdge]?v[E]:t[E]),A=A.alignTo({target:v,edgeAlign:s,targetMargin:b});let l=A.constrainTo(r);if(l)return l.zone=o,l.position=c[o],l}}return f&&A.moveBy(f),A}getAnchorPoint(e,t,n,s=o){const r=this;let i;switch(e){case 0:i=[r.x,r.y-(s[0]||0),r.width,0];break;case 1:i=[r.x+r.width+(s[1]||0),r.y,r.height,1];break;case 2:i=[r.x,r.y+r.height+(s[2]||0),r.width,0];break;case 3:i=[r.x-(s[3]||0),r.y,r.height,1]}return i[i[3]]+="%"===n?i[2]/100*t:t,i.length=2,i}equals(e){return e instanceof DOMRect&&e.x===this.x&&e.y===this.y&&e.height===this.height&&e.width===this.width}show(e="red"){const t=document.createElement("div");return t.style=`\n            position:absolute;\n            transform:translate3d(${this.x}px, ${this.y}px, 0);\n            height:${this.height}px;\n            width:${this.width}px;\n            background-color:${e}\n        `,document.body.appendChild(t),setTimeout((()=>t.remove()),3e4),t}toJSON(){const{bottom:e,height:t,left:n,minHeight:o,minWidth:s,right:r,top:i,width:a,x:l,y:c}=this;return{bottom:e,height:t,left:n,minHeight:o,minWidth:s,right:r,top:i,width:a,x:l,y:c}}}},439:(e,t,n)=>{"use strict";function o(e,t,n=300){let o;const s=function(...r){clearTimeout(o),s.isPending=!0,o=setTimeout((()=>{o=0,s.isPending=!1,e.apply(t,r)}),n)};return s.cancel=()=>{s.isPending=!1,clearTimeout(o)},s}function s(e,t,n=300){let o;return function(...s){Neo.isNumber(o)?(clearTimeout(o),o=setTimeout((()=>{t?.id&&e.apply(t,s),o=setTimeout((()=>{o=null}),n)}),n)):(t?.id&&e.apply(t,s),o=setTimeout((()=>{o=null}),n))}}function r(e,t,n,o,s=null){let r=e[t];return e[t]=function(){return!1===n.apply(o||e,arguments)?s:r.apply(e,arguments)}}function i(e,t=this){if("string"==typeof e){if(!t[e]&&e.startsWith("up."))for(e=e.slice(3);!t[e]&&(t=t.parent););e=t[e]}return{fn:e,scope:t}}function a(e,t,n=300){let o,s;return function(...r){o?(clearTimeout(s),s=setTimeout((function(){Date.now()-o>=n&&(t?.id&&e.apply(t,r),o=Date.now())}),n-(Date.now()-o))):(t?.id&&e.apply(t,r),o=Date.now())}}n.d(t,{Ap:()=>i,Zc:()=>r,nF:()=>a,r:()=>o,sg:()=>s})},583:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var o=n(439),s=n(358);const r=Symbol.for("configSymbol"),i=Symbol("forceAssignConfigs"),a=Symbol("isInstance");class l{static delayable={};static instanceManagerAvailable=!1;static methodNameRegex=/\n.*\n\s+at\s+.*\.(\w+)\s+.*/;static observable=!1;static overwrittenMethods={};static config={className:"Neo.core.Base",ntype:"base",delayable:null,id_:null,isConstructed:!1,mixins:null,module:null};#e=[];construct(e={}){let t=this;Object.defineProperties(t,{[r]:{configurable:!0,enumerable:!1,value:{},writable:!0},[a]:{enumerable:!1,value:!0}}),t.createId(e.id||t.id),delete e.id,t.constructor.config&&delete t.constructor.config.id,t.getStaticConfig("observable")&&t.initObservable(e),e=t.setFields(e),t.initConfig(e),Object.defineProperty(t,"configsApplied",{enumerable:!1,value:!0}),t.applyDelayable(),(0,o.Zc)(t,"destroy",t.isDestroyedCheck,t),t.remote&&setTimeout(t.initRemote.bind(t),1)}afterSetId(e,t){let n=this,o=!0===l.instanceManagerAvailable;t&&(o?Neo.manager.Instance.unregister(t):delete Neo.idMap[t]),e&&(o?Neo.manager.Instance.register(n):(Neo.idMap=Neo.idMap||{},Neo.idMap[n.id]=n))}applyDelayable(){let e=this,t=e.constructor.delayable,n=e.delayable?Neo.merge({},e.delayable,t):t;Object.entries(n).forEach((([t,n])=>{if(n){let s={buffer(){e[t]=new o.r(e[t],e,n.timer)},debounce(){e[t]=new o.sg(e[t],e,n.timer)},throttle(){e[t]=new o.nF(e[t],e,n.timer)}};s[n.type]?.()}}))}static applyOverwrites(e){let t,n,o=Neo.ns(e.className,!1,Neo.overwrites);if(o){for(n in o)Neo.isFunction(o[n])&&(t=this.prototype,t[n]&&(t.constructor.overwrittenMethods[n]=t[n]));Object.assign(e,o)}}beforeSetEnumValue(e,t,n,o=n+"s"){let s=Array.isArray(o)?o:this.getStaticConfig(o);return s.includes(e)?e:(console.error(`Supported values for ${n} are:`,...s,this),t)}callOverwritten(...e){let t=(new Error).stack.match(l.methodNameRegex)[1];this.__proto__.constructor.overwrittenMethods[t].call(this,...e)}createId(e){this.id=e||s.A.getId(this.getIdKey())}destroy(){let e=this;e.#e.forEach((e=>{clearTimeout(e)})),!0===l.instanceManagerAvailable?Neo.manager.Instance.unregister(e):Neo.idMap&&delete Neo.idMap[e.id],Object.keys(e).forEach((t=>{Object.getOwnPropertyDescriptor(e,t).writable&&"destroy"!==t&&"_id"!==t&&delete e[t]})),Neo.isFunction(e.fire)&&(e.fire=Neo.emptyFn),e.isDestroyed=!0}getIdKey(){return this.ntype}getStaticConfig(e){return this.constructor[e]}hasNtype(e){return this.constructor.ntypeChain.includes(e)}init(){}initConfig(e,t){let n=this;n.isConfiguring=!0,Object.assign(n[r],n.mergeConfig(e,t)),n.processConfigs(),n.isConfiguring=!1}initRemote(){let e=this,{className:t,remote:n}=e,{currentWorker:o}=Neo;if(!e.singleton&&!e.isMainThreadAddon)throw new Error("Remote method access is only functional for Singleton classes "+t);!Neo.config.unitTestMode&&Neo.isObject(n)&&("main"!==Neo.workerId&&o.isSharedWorker&&!o.isConnected?o.on("connected",(()=>{l.sendRemotes(t,n)}),e,{once:!0}):l.sendRemotes(t,n))}isDestroyedCheck(){return!this.isDestroyed}mergeConfig(e,t){let n=this,o=n.constructor;if(!o.config)throw new Error("Neo.applyClassConfig has not been run on "+n.className);return t||(n.originalConfig=Neo.clone(e,!0,!0)),{...o.config,...e}}onAfterConstructed(){let e=this;e.isConstructed=!0,e.getStaticConfig("observable")&&e.fire("constructed",e)}onConstructed(){}parseItemConfigs(e){let t,n,o,s,i=this;e&&(Array.isArray(e)||(e=[e]),e.forEach((e=>{e&&Object.entries(e).forEach((([a,l])=>{Array.isArray(l)?i.parseItemConfigs(l):"string"==typeof l&&l.startsWith("@config:")&&(n=l.substring(8).trim().split("."),o=n.pop(),t=Neo.ns(n,!1,i),void 0===t[o]?console.error("The used @config does not exist:",o,n.join(".")):(s=Neo.ns(n,!1,i[r]),s&&Object.hasOwn(s,o)?e[a]=s[o]:e[a]=t[o]))}))})))}processConfigs(e=!1){let t=this,n=Object.keys(t[r]);t[i]=e,n.length>0&&(!e&&t.hasOwnProperty(n[0])||(t[n[0]]=t[r][n[0]]),delete t[r][n[0]],t.processConfigs(e))}static sendRemotes(e,t){let n;Object.entries(t).forEach((([t,o])=>{Neo.workerId!==t&&(n="main"===Neo.workerId?Neo.worker.Manager:Neo.currentWorker,n.sendMessage(t,{action:"registerRemote",className:e,methods:o}))}))}set(e={}){let t=this;e=t.setFields(e),!0!==t[i]&&Object.keys(t[r]).length>0&&t.processConfigs(),Object.assign(t[r],e),t.processConfigs(!0)}setFields(e){let t=this,n=t.constructor.config;return Object.entries(e).forEach((([o,s])=>{n.hasOwnProperty(o)||Neo.hasPropertySetter(t,o)||(t[o]=s,delete e[o])})),e}setStaticConfig(e,t){let n=this.constructor.staticConfig;return!!n.hasOwnProperty(e)&&(n[e]=t,!0)}timeout(e){return new Promise((t=>{let n=this.#e,o=setTimeout((()=>{n.splice(n.indexOf(o),1),t()}),e);n.push(o)}))}get[Symbol.toStringTag](){return`${this.className} (id: ${this.id})`}static[Symbol.hasInstance](e){return!!e&&!0===e[a]&&super[Symbol.hasInstance](e)}}const c=Neo.setupClass(l)},596:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(583);class s extends o.A{static charEntityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;",$:"&dollar;","\\":"&bsol;","/":"&sol;"};static charPattern=/[&<>"'$\\]/g;static entityPattern=/(&amp;)|(&lt;)|(&gt;)|(&quot;)|(&apos;)|(&dollar;)|(&bsol;)|(&sol;)/g;static config={className:"Neo.util.String"};static escapeHtml(e){let t=this;return Neo.isString(e)?e.replace(t.charPattern,t.getEntityFromChar.bind(t)):e}static getCharFromEntity(e){return Object.keys(this.charEntityMap).find((t=>this.charEntityMap[t]===e))||e}static getEntityFromChar(e){return this.charEntityMap[e]||e}static unescapeHtml(e){let t=this;return Neo.isString(e)?e.replace(t.entityPattern,t.getCharFromEntity.bind(t)):e}static uncapitalize(e){return e&&e[0].toLowerCase()+e.substring(1)}}const r=Neo.setupClass(s)},644:(e,t,n)=>{var o={"./AmCharts.mjs":[718,718],"./AnalyticsByGoogle.mjs":[647,647],"./Base.mjs":[96,96],"./CesiumJS.mjs":[104,104],"./CloneNode.mjs":[582,582],"./Cookie.mjs":[741,741],"./DragDrop.mjs":[650,650],"./FileSystemAccess.mjs":[432,51],"./GoogleMaps.mjs":[803,803],"./HighlightJS.mjs":[264,264],"./IntersectionObserver.mjs":[666,666],"./LocalStorage.mjs":[375,375],"./MapboxGL.mjs":[391,391],"./Markdown.mjs":[51,432],"./MonacoEditor.mjs":[265,265],"./Mwc.mjs":[790,790],"./Navigator.mjs":[942,942],"./Popover.mjs":[190,190],"./PrefixField.mjs":[89,89],"./ResizeObserver.mjs":[789,789],"./ScrollSync.mjs":[393,393],"./ServiceWorker.mjs":[274,274],"./Siesta.mjs":[25,406],"./Stylesheet.mjs":[487,487],"./WebComponent.mjs":[883,883],"./WindowPosition.mjs":[682,682]};function s(e){if(!n.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],s=t[0];return n.e(t[1]).then((()=>n(s)))}s.keys=()=>Object.keys(o),s.id=644,e.exports=s},691:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o=n(583),s=n(439);class r extends o.A{static config={className:"Neo.core.Observable",ntype:"mixin-observable",mixin:!0};addListener(e,t,n,o,s,r){let i,a,l,c=this,d=0,u="object"==typeof e,h=!1,m=typeof t;if("object"==typeof o&&"function"===m&&(o.fn=t,t=o,m="object",o=null),u)e.hasOwnProperty("delay")&&(d=e.delay,delete e.delay),e.hasOwnProperty("once")&&(h=e.once,delete e.once),e.hasOwnProperty("scope")&&(n=e.scope,delete e.scope),Object.entries(e).forEach((([e,t])=>{Neo.isObject(t)?c.addListener(e,{delay:d,once:h,scope:n,...t}):c.addListener(e,{delay:d,fn:t,once:h,scope:n})}));else if("object"===m)d=d||t.delay,o=o||t.eventId,i=t.fn,h=h||t.once,r=r||t.order,n=n||t.scope;else if("function"===m)i=t;else{if("string"!==m)throw new Error("Invalid addListener call: "+e);i=t}return u?null:(l={data:s,delay:d,fn:i,id:o||Neo.getId("event"),once:h,scope:n},(a=c.listeners?.[e])?(a.forEach((t=>{(t.id===o||t.fn===i&&t.scope===n)&&console.error("Duplicate event handler attached:",e,c)})),"number"==typeof r?a.splice(r,0,l):"before"===r?a.unshift(l):a.push(l)):c.listeners[e]=[l],l.id)}callback(e,t=this,n){if(e){const o=(0,s.Ap)(e,t);o.fn.apply(o.scope,n)}}delayedCallback(e,t,n){this.timeout(n).then((()=>{e.fn.apply(e.scope,t)}))}fire(e){let t,n,o,r,i,a=this,l=[].slice.call(arguments,1),c=a.listeners;if(c&&c[e])for(o=[...c[e]],i=o.length,r=0;r<i;r++){n=o[r],t=n.delay;const i=(0,s.Ap)(n.fn,n.scope||a);i.scope&&!i.scope.id?c[e].splice(r,1):a.suspendEvents||(1===l.length&&Neo.isObject(l[0])&&(l[0].source=a.id),n.once&&c[e].splice(r,1),Neo.isNumber(t)&&t>0?a.delayedCallback(i,n.data?l.concat(n.data):l,t):i.fn.apply(i.scope,n.data?l.concat(n.data):l))}}initObservable(e){let t,n=this,o=n.__proto__,s=o.constructor;for(e.listeners&&(n.listeners=e.listeners,delete e.listeners),t=n.listeners,n.listeners={},t&&(Neo.isObject(t)&&(t={...t}),n.addListener(t));o?.constructor.isClass;)s=o.constructor,s.observable&&!s.listeners&&Object.assign(s,{addListener:n.addListener,fire:n.fire,listeners:{},on:n.on,removeListener:n.removeListener,un:n.un}),o=o.__proto__}on(...e){return this.addListener(...e)}removeListener(e,t,n){let o,s,r,i,a,l=this;Neo.isFunction(t)?l.removeListener({[e]:t,scope:n}):Neo.isObject(e)?(e.scope&&(n=e.scope,delete e.scope),Object.entries(e).forEach((([e,t])=>{for(i=l.listeners[e]||[],o=0,s=i.length;o<s;o++)if(r=i[o],r.fn.name===(Neo.isString(t)?t:t.name)&&r.scope===n){i.splice(o,1);break}}))):Neo.isString(t)&&(i=l.listeners[e],a=!1,i.forEach(((e,n)=>{if(e.id===t)return a=n})),!1!==a&&i.splice(a,1))}un(...e){this.removeListener(...e)}}const i=Neo.setupClass(r)},983:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var o=n(583);class s extends o.A{static config={className:"Neo.main.mixin.DeltaUpdates"};du_changeNodeName(e,t){let n,{attributes:o}=e,s=document.createElement(t),r=0,i=o.length;if(e){for(;r<i;r++)n=o.item(r),s.setAttribute(n.nodeName,n.nodeValue);s.innerHTML=e.innerHTML,e.parentNode.replaceChild(s,e)}}du_focusNode(e){this.getElement(e.id)?.focus()}du_insertNode(e){let t,{index:n}=e,o=this.getElementOrBody(e.parentId),s=o?.childNodes.length,r=0,i=n,a=!1;if(o){if(s<=20&&"TBODY"!==o.nodeName)for(;r<s;r++)8===o.childNodes[r].nodeType&&(r<i&&i++,a=!0);if(a)t=this.htmlStringToElement(e.outerHTML),s>0&&s>i?o.insertBefore(t,o.childNodes[i]):o.appendChild(t);else{if(s=o.children.length,n>0&&n>=s)return void o.insertAdjacentHTML("beforeend",e.outerHTML);s>0&&s>n?o.children[n].insertAdjacentHTML("beforebegin",e.outerHTML):s>0?o.children[s-1].insertAdjacentHTML("afterend",e.outerHTML):o.insertAdjacentHTML("beforeend",e.outerHTML)}}}du_moveNode({id:e,index:t,parentId:n}){let o,s=this.getElement(e),r=this.getElement(n);s&&r&&(t>=r.children.length?r.appendChild(s):(o=r.children[t],s&&o.id!==e&&(s===o.nextElementSibling&&s.replaceWith(o),r.insertBefore(s,o))))}du_removeAll(e){let t=this.getElement(e.parentId);t&&(t.innerHTML="")}du_removeNode(e){let t,n,o=this.getElement(e.id);o?o.remove():(o=e.parentId&&this.getElementOrBody(e.parentId),o&&(n=`\x3c!-- ${e.id} --\x3e`,t=new RegExp(n+"[\\s\\S]*?\x3c!-- /neo-vtext --\x3e"),o.innerHTML=o.innerHTML.replace(t,"")))}du_replaceChild(e){let t=this,n=t.getElement(e.parentId);n?.replaceChild(t.getElement(e.toId),t.getElement(e.fromId))}du_setTextContent(e){let t=this.getElement(e.id);t&&(t.textContent=e.value)}du_updateNode(e){let t=this,n=t.getElementOrBody(e.id);n&&Object.entries(e).forEach((([e,o])=>{switch(e){case"attributes":Object.entries(o).forEach((([e,o])=>{t.voidAttributes.includes(e)?n[e]="true"===o:null===o||""===o?"value"===e?n[e]="":n.removeAttribute(e):"id"===e?n[Neo.config.useDomIds?"id":"data-neo-id"]=o:"spellcheck"===e&&"false"===o?n[e]=!1:"value"===e?n[e]=o:n.setAttribute(e,o)}));break;case"cls":o.add&&n.classList.add(...o.add),o.remove&&n.classList.remove(...o.remove);break;case"innerHTML":n.innerHTML=o||"";break;case"nodeName":t.du_changeNodeName(n,o);break;case"outerHTML":n.outerHTML=o||"";break;case"style":Neo.isObject(o)&&Object.entries(o).forEach((([e,t])=>{let o;Neo.isString(t)&&t.includes("!important")&&(t=t.replace("!important","").trim(),o="important"),n.style.setProperty(Neo.decamel(e),t,o)}))}}))}du_updateVtext(e){let t=this.getElement(e.parentId),n=t.innerHTML,o=`\x3c!-- ${e.id} --\x3e`,s=new RegExp(o+"[\\s\\S]*?\x3c!-- /neo-vtext --\x3e");t.innerHTML=n.replace(s,e.value)}htmlStringToElement(e){const t=document.createElement("template");return t.innerHTML=e,t.content}update(e){let t,n,o=this,{deltas:s}=e,r=0;for(s=Array.isArray(s)?s:[s],t=s.length,Neo.config.logDeltaUpdates&&t>0&&(o.countDeltas+=t,o.countUpdates++,console.log("update "+o.countUpdates,"total deltas ",o.countDeltas,Neo.clone(e,!0))),Neo.config.renderCountDeltas&&t>0&&(o.countDeltasPer250ms+=t),n={focusNode:o.du_focusNode,insertNode:o.du_insertNode,moveNode:o.du_moveNode,removeAll:o.du_removeAll,removeNode:o.du_removeNode,replaceChild:o.du_replaceChild,setTextContent:o.du_setTextContent,updateVtext:o.du_updateVtext,default:o.du_updateNode};r<t;r++)(n[s[r].action]||n.default).call(o,s[r]);Neo.worker.Manager.sendMessage(e.origin||"app",{action:"reply",replyId:e.id,success:!0})}}const r=Neo.setupClass(s);var i=n(49),a=n(691),l=n(406),c=n(596);const d=e=>e.preventDefault(),u=e=>!e.classList.contains("neo-focus-trap")&&i.A.isTabbable(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP,h=/^\d+\w+$/,m={capture:!0,passive:!0},p=["font-family","font-kerning","font-size","font-size-adjust","font-stretch","font-style","font-weight","letter-spacing","line-height","text-decoration","text-transform","word-break"],g={Shift:1,Alt:1,Meta:1,Control:1};class f extends o.A{static config={className:"Neo.main.DomAccess",countDeltas:0,countDeltasPer250ms:0,countUpdates:0,mixins:[r,a.A],remote:{app:["addScript","align","applyBodyCls","blur","execCommand","focus","getAttributes","getBoundingClientRect","getScrollingDimensions","measure","monitorAutoGrow","monitorAutoGrowHandler","navigate","navigateTo","scrollBy","scrollIntoView","scrollTo","scrollToTableRow","selectNode","setBodyCls","setStyle","syncModalMask","trapFocus","windowScrollTo"]},renderCountDeltas_:!1,singleton:!0,voidAttributes:["checked","required"]};logDeltasIntervalId=0;get modalMask(){let e=this;return e._modalMask||(e._modalMask=document.createElement("div"),e._modalMask.className="neo-dialog-modal-mask",e._modalMask.addEventListener("mousedown",d,{capture:!0})),e._modalMask}construct(e){super.construct(e);let t=this;Neo.config.renderCountDeltas&&(t.renderCountDeltas=!0),t.initGlobalListeners(),t.syncAligns=t.syncAligns.bind(t)}addAligned(e){const t=this,{id:n}=e,o=t._aligns||(t._aligns=new Map),s=t._alignResizeObserver||(t._alignResizeObserver=new ResizeObserver(t.syncAligns)),{constrainToElement:r}=e;o.has(n)||(s.observe(e.offsetParent),s.observe(e.targetElement),r&&s.observe(r)),t.hasDocumentScrollListener||(document.addEventListener("scroll",t.syncAligns,{capture:!0,passive:!0}),t.hasDocumentScrollListener=!0),t.documentMutationObserver||(t.documentMutationObserver=new MutationObserver(t.onDocumentMutation.bind(t)),t.documentMutationObserver.observe(document.body,{childList:!0,subtree:!0})),o.set(n,e)}addScript(e){let t=document.createElement("script");e.hasOwnProperty("async")||(e.async=!0),Object.assign(t,e),document.head.appendChild(t)}afterSetRenderCountDeltas(e,t){let n,o=this,{logDeltasIntervalId:s}=o;e?0===s&&(o.logDeltasIntervalId=setInterval((()=>{n=document.getElementById("neo-delta-updates"),n&&(n.innerHTML=String(4*o.countDeltasPer250ms)),o.countDeltasPer250ms=0}),250)):(s&&clearInterval(s),o.logDeltasInterval=0)}async align(e){const t=this,{constrainTo:n}=e,o=e.subject=t.getElement(e.id),{style:s}=o,r={...e},i=t._aligns?.get(e.id);if(i&&o.classList.remove(`neo-aligned-${i.result.position}`),t.resetDimensions(r),r.target=t.getClippedRect({id:e.targetElement=t.getElementOrBody(e.target)}),!r.target)return Neo.worker.App.setConfigs({id:e.id,hidden:!0});e.offsetParent=e.targetElement.offsetParent,n&&(r.constrainTo=t.getBoundingClientRect({id:e.constrainToElement=t.getElementOrBody(n)}));const a=t.getBoundingClientRect(e),l=e.result=a.alignTo(r);Object.assign(s,{top:0,left:0,transform:`translate(${l.x}px,${l.y}px)`}),l.width!==a.width&&(s.width=`${l.width}px`),l.height!==a.height&&(s.height=`${l.height}px`),o.classList.add(`neo-aligned-${l.position}`),t.addAligned(e)}applyBodyCls(e){let t=e.cls||[];document.body.classList.add(...t)}blur(e){return this.getElement(e.id)?.blur(),{id:e.id}}execCommand(e){return document.execCommand(e.command),e}focus({children:e,id:t}){let n=this.getElement(t);return n&&(!i.A.isFocusable(n)&&e&&(n=i.A.query(n,i.A.isFocusable)),n&&(n.focus(),Neo.isNumber(n.selectionStart)&&(n.selectionStart=n.selectionEnd=n.value.length))),{id:t}}getAttributes({attributes:e,id:t}){let n;if(Array.isArray(t))n=[],t.forEach((t=>{n.push(this.getAttributes({attributes:e,id:t}))}));else{let o=this.getElementOrBody(t);n={},o&&(Array.isArray(e)||(e=[e]),e.forEach((e=>{n[e]=o[e]})))}return n}getBoundingClientRect(e){let t,n=this;if(Array.isArray(e.id))return e.id.map((e=>n.getBoundingClientRect({id:e})));{let o,s,r,i=n.getElementOrBody(e.nodeType?e:e.id),a={};t={},i&&(a=i.getBoundingClientRect(),r=i.ownerDocument.defaultView.getComputedStyle(i),o=r.getPropertyValue("min-width"),s=r.getPropertyValue("min-height"),t=l.A.clone(a),h.test(o)&&"0px"!==o&&(t.minWidth=n.measure({value:o,id:i})),h.test(s)&&"0px"!==s&&(t.minHeight=n.measure({value:s,id:i})))}return t}getClippedRect(e){let t=this.getElement("object"==typeof e?e.id:e),{defaultView:n}=t.ownerDocument,o=this.getBoundingClientRect(t);for(let e=t.offsetParent;e&&o&&e!==document.documentElement;e=e.parentElement)"visible"!==n.getComputedStyle(e).getPropertyValue("overflow")&&(o=o.intersects(this.getBoundingClientRect(e)));return o}getElement(e){return(e?.nodeType?e:Neo.config.useDomIds?document.getElementById(e):document.querySelector(`[data-neo-id='${e}']`))||null}getElementOrBody(e="document.body"){return e?e.nodeType?e:"body"===e||"document.body"===e?document.body:this.getElement(e):null}getScrollingDimensions(e){let t=this;if(Array.isArray(e.id))return e.id.map((e=>t.getScrollingDimensions({id:e})));{let n=e.nodeType?e:t.getElementOrBody(e.id);return{clientHeight:n?.clientHeight,clientWidth:n?.clientWidth,scrollHeight:n?.scrollHeight,scrollWidth:n?.scrollWidth}}}initGlobalListeners(){let e=this;document.addEventListener("blur",e.onDocumentBlur.bind(e),m),document.addEventListener("keydown",e.onDocumentKeyDown.bind(e),m),document.addEventListener("keyup",e.onDocumentKeyUp.bind(e),m),document.addEventListener("mousedown",e.onDocumentMouseDown.bind(e),{capture:!0})}isAlignSubject(e){return[...this._aligns?.values()].some((t=>t.subject===e))}loadScript(e,t={defer:!0}){let n;return new Promise(((o,s)=>{n=document.createElement("script"),Object.assign(n,{...t,onerror:s,onload:o,src:e}),document.head.appendChild(n)}))}loadStylesheet(e,t=null){let n;return new Promise(((o,s)=>{n=document.createElement("link"),Object.assign(n,{href:e,onerror:s,onload:o,rel:"stylesheet",type:"text/css"}),t&&Object.assign(n.dataset,t),document.head.appendChild(n)}))}measure({value:e,id:t}){const n=1===t.nodeType?t:this.getElement(t);if(e.endsWith("%")){const t=parseFloat(e)/100;return(n.offsetParent?.getBoundingClientRect().height||0)*t}if(isNaN(e)&&!e.endsWith("px")){const t=n.ownerDocument.defaultView.getComputedStyle(n);let o=this._measuringDiv;o||(o=this._measuringDiv=document.createElement("div"),o.style="position:fixed;top:-10000px;left:-10000px"),document.body.appendChild(o),p.forEach((e=>{o.style[e]=t[e]})),o.className=n.className,o.style.width=e,e=t.width}else e=parseFloat(e);return e}async monitorAutoGrow(e){const t=this,n=e.subject=t.getElement(e.id);n[e.autoGrow?"addEventListener":"removeEventListener"]("input",t.monitorAutoGrowHandler),e.autoGrow&&t.monitorAutoGrowHandler({target:n})}monitorAutoGrowHandler(e){const t=e.target||this.getElement(e.id);if(t){const{style:e}=t,{style:n}=t.closest(".neo-textarea");e.height=e.minHeight=0,n.setProperty("--textfield-input-height",`${t.scrollHeight+5}px`),n.setProperty("height",""),e.height=e.minHeight=""}}onDocumentBlur(){Neo.altKeyDown=Neo.controlKeyDown=Neo.metaKeyDown=Neo.shiftKeyDown=!1}onDocumentKeyDown(e){g[e.key]&&(Neo[`${c.A.uncapitalize(e.key)}KeyDown`]=!0)}onDocumentKeyUp(e){g[e.key]&&(Neo[`${c.A.uncapitalize(e.key)}KeyDown`]=!1)}onDocumentMutation(e){const t=this;e.every((({type:e,addedNodes:n,removedNodes:o})=>{if("childList"===e)return[...Array.from(n),...Array.from(o)].every((e=>t.isAlignSubject(e)))}))||t.syncAligns()}onDocumentMouseDown(e){let t=e.target?.closest("[data-focus]");t&&(e.preventDefault(),document.getElementById(t.dataset.focus)?.focus())}onDomContentLoaded(){Neo.config.applyBodyCls&&this.applyBodyCls({cls:["neo-body"]}),Neo.config.applyFixedPositionToHtmlTag&&document.documentElement.style.setProperty("position","fixed")}onGetOffscreenCanvas(e){let t=this.getElement(e.nodeId).transferControlToOffscreen();e.offscreen=t,Neo.worker.Manager.sendMessage(e.origin,{action:"reply",data:e,replyId:e.id,success:!0},[t])}onReadDom(e){let t,n,o=e.attributes||[],s=e.functions||[],r=e.styles||[],{vnodeId:i}=e,a={},l={},c={},d=i?this.getElement(i):null;o.forEach((e=>{a[e]=d[e]})),s.forEach(((e,o)=>{Neo.isObject(e)?(e.params=e.params||[],e.paramIsDomNode=e.paramIsDomNode||[],n=e.scope?document[e.scope]:d,e.params.forEach(((t,n)=>{!0===e.paramIsDomNode[n]&&(e.params[n]=this.getElement(e.params[n]))})),t=e.returnFnName?e.returnFnName:o,l[t]=n[e.fn](...e.params),e.returnValue&&(l[t]=l[t][e.returnValue])):l[e]=d[e]()})),r.forEach((e=>{c[e]=d.style[e]})),Object.assign(e,{attributes:a,functions:l,styles:c}),Neo.worker.Manager.sendMessage(e.origin,{action:"reply",data:e,replyId:e.id,success:!0})}onTrappedFocusMovement({target:e,relatedTarget:t}){const n=t&&4&e.compareDocumentPosition(t);if(e.matches(".neo-focus-trap")){const t=e.parentElement,o=t.$treeWalker,s=t.$topFocusTrap,r=t.$bottomFocusTrap;o.currentNode=n?r:s,o[n?"previousNode":"nextNode"](),requestAnimationFrame((()=>o.currentNode.focus()))}}read(e){"function"==typeof e&&e()}resetDimensions(e){Object.assign(this.getElement(e.id).style,{flex:e.configuredFlex,height:e.configuredHeight,maxHeight:e.configuredMaxHeight,maxWidth:e.configuredMaxWidth,minHeight:e.configuredMinHeight,minWidth:e.configuredMinWidth,width:e.configuredWidth})}scrollBy({behavior:e="auto",direction:t="top",id:n,value:o}){return this.getElement(n)?.scrollBy({behavior:e,[t]:o}),{id:n}}scrollIntoView({id:e,behavior:t="smooth",block:n="start",delay:o=500,inline:s="nearest",querySelector:r}){let i=e?this.getElement(e):document.querySelector(r),a={behavior:t,block:n,inline:s};if("smooth"===t)return new Promise((e=>{if(i){let t="scrollend"in window;t&&document.addEventListener("scrollend",(()=>e()),{capture:!0,once:!0}),i.scrollIntoView(a),!t&&this.timeout(o).then((()=>{e()}))}else e()}));i.scrollIntoView(a)}scrollTo({behavior:e="auto",direction:t="top",id:n,value:o}){return this.getElement(n)?.scrollTo({behavior:e,[t]:o}),{id:n}}scrollToTableRow({id:e,behavior:t="smooth",offset:n=34}){let o=this.getElement(e);if(o){let e=o.parentNode.parentNode,s=e.parentNode,r=e.getBoundingClientRect().top,i=o.getBoundingClientRect().top;s.scrollTo({behavior:t,top:i-r-n})}return{id:e}}selectNode(e){let t=this.getElement(e.id),n=Neo.isNumber(e.start)?e.start:0,o=Neo.isNumber(e.end)?e.end:99999;return t&&(t.select(),t.setSelectionRange(n,o)),{id:e.id}}setBodyCls(e){document.body.classList.remove(...e.remove||[]),document.body.classList.add(...e.add||[])}setStyle(e){let t=this.getElementOrBody(e.id);return t&&Object.entries(e.style).forEach((([e,n])=>{Neo.isString(n)&&n.includes("!important")?(n=n.replace("!important","").trim(),t.style.setProperty(Neo.decamel(e),n,"important")):t.style[Neo.decamel(e)]=n})),{id:e.id}}syncAligns(){const e=this,{_aligns:t}=e;t?.forEach((n=>{const o=document.contains(n.targetElement);if(document.contains(n.subject)&&o)e.align(n);else{o||Neo.worker.App.setConfigs({id:n.id,hidden:!0});const{_alignResizeObserver:s}=e,{constrainToElement:r}=n;s.unobserve(n.subject),s.unobserve(n.offsetParent),s.unobserve(n.targetElement),r&&s.unobserve(r),n.subject.classList.remove(`neo-aligned-${n.result?.position}`),t.delete(n.id)}}))}syncModalMask({id:e,modal:t}){const n=e&&this.getElement(e);if(n&&t&&n.ownerDocument.contains(n)&&"none"!==n.ownerDocument.defaultView.getComputedStyle(n).getPropertyValue("display"))document.body.insertBefore(this.modalMask,n);else{const e=document.querySelectorAll(".neo-modal"),t=e[e.length-1];t?this.syncModalMask({id:t.id,modal:!0}):this._modalMask?.remove()}}async trapFocus(e){const t=this,n=t.$boundOnTrappedFocusMovement||(t.$boundOnTrappedFocusMovement=t.onTrappedFocusMovement.bind(t)),o=e.subject=t.getElement(e.id),{trap:s=!0}=e;if(!o)return;let r=o.$topFocusTrap,i=o.$bottomFocusTrap;s?(o.$treeWalker||(o.$treeWalker=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,{acceptNode:u}),r=o.$topFocusTrap=document.createElement("div"),i=o.$bottomFocusTrap=document.createElement("div"),r.className=i.className="neo-focus-trap",r.setAttribute("tabIndex",0),i.setAttribute("tabIndex",0),o.addEventListener("focusin",n)),o.insertBefore(r,o.firstChild),o.appendChild(i)):o.removeEventListener("focusin",n)}windowScrollTo(e){window.scrollTo({behavior:e.behavior||"smooth",left:e.left||0,top:e.top||0})}write(e){this.du_insertNode({index:e.parentIndex,outerHTML:e.html||e.outerHTML,parentId:e.parentId})}}const y=Neo.setupClass(f)}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e](r,r.exports,s),r.exports}s.m=n,s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>"chunks/main/"+e+".js",s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="neo.mjs:",s.l=(n,o,r,i)=>{if(e[n])e[n].push(o);else{var a,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+r){a=u;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",t+r),a.src=n),e[n]=[o];var h=(t,o)=>{a.onerror=a.onload=null,clearTimeout(m);var s=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((e=>e(o))),t)return t(o)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="",(()=>{var e={792:0};s.f.j=(t,n)=>{var o=s.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise(((n,s)=>o=e[t]=[n,s]));n.push(o[2]=r);var i=s.p+s.u(t),a=new Error;s.l(i,(n=>{if(s.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",a.name="ChunkLoadError",a.type=r,a.request=i,o[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,r,[i,a,l]=n,c=0;if(i.some((t=>0!==e[t]))){for(o in a)s.o(a,o)&&(s.m[o]=a[o]);l&&l(s)}for(t&&t(n);c<i.length;c++)r=i[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";const e=globalThis.Neo||{};e.config=e.config||{};const t={applyBodyCls:!0,applyFixedPositionToHtmlTag:!0,appPath:null,basePath:"./",enableComponentLogger:!0,enableLogsInProduction:!1,environment:"dist/production",isGitHubPages:!0,isInsideSiesta:!1,loadApplicationDelay:20,locale:"default",logDeltaUpdates:!1,logVdomUpdateCollisions:!1,mainThreadAddons:["DragDrop","Navigator","Stylesheet"],remotesApiUrl:null,renderCountDeltas:!1,themes:["neo-theme-light","neo-theme-dark","neo-theme-neo-light"],unitTestMode:!1,useCanvasWorker:!1,useDomIds:!0,useFontAwesome:!0,useGoogleAnalytics:!1,useServiceWorker:!1,useSharedWorkers:!1,useTaskWorker:!1,useVdomWorker:!0,version:"8.22.0"};Object.assign(t,{resourcesPath:`${e.config.basePath||t.basePath}resources/`,workerBasePath:`${e.config.basePath||t.basePath}src/worker/`});const n=t,o=/-./g,r=Symbol.for("configSymbol"),i=Symbol("getSetCache"),a={function:e=>{if(e.prototype?.constructor.isClass)return"NeoClass"},object:e=>{if(e.constructor.isClass&&e instanceof l.core.Base)return"NeoInstance"}};let l=globalThis.Neo||{};l=globalThis.Neo=Object.assign({ntypeMap:{},insideWorker:"undefined"!=typeof DedicatedWorkerGlobalScope||"undefined"!=typeof WorkerGlobalScope,applyFromNs(e,t,n,o){let s;return e&&"Object"===l.typeOf(n)&&Object.entries(n).forEach((([n,r])=>{s=t[r],e[n]=o?s.bind(t):s})),e},applyToGlobalNs(e){let t="function"==typeof e?e.prototype:e,n=(t.isClass?t.config.className:t.className).split("."),o=n.pop();l.ns(n,!0)[o]=e},assignDefaults:(e,t)=>(e&&"Object"===l.typeOf(t)&&Object.entries(t).forEach((([t,n])=>{Object.hasOwn(e,t)||(e[t]=n)})),e),assignToNs(e,t,n=globalThis,o=!0){let s;(e=Array.isArray(e)?e:e.split(".")).length>1?(s=e.pop(),n=l.ns(e,!0,n)):s=e,(o||void 0===n[s])&&(n[s]=t)},camel:e=>e.replace(o,(e=>e[1].toUpperCase())),capitalize:e=>e[0].toUpperCase()+e.slice(1),clone(e,t=!1,n=!1){let o;return{Array:()=>t?[...e.map((e=>l.clone(e,t,n)))]:[...e],Date:()=>new Date(e.valueOf()),Map:()=>new Map(e),NeoInstance:()=>n?e:this.cloneNeoInstance(e),Set:()=>new Set(e),Object:()=>(o={},Object.entries(e).forEach((([e,s])=>{o[e]=t?l.clone(s,t,n):s})),o)}[l.typeOf(e)]?.()||e},cloneNeoInstance(e){let t={...e.originalConfig};return delete t._id,delete t.id,l.create(e.className,t)},create(e,t){let n,o,s=l.typeOf(e);if("NeoClass"===s)n=e;else{if("Object"===s){if(!(t=e).className&&!t.module)return console.error("Class created with object configuration missing className or module property",t),null;e=t.className||t.module.prototype.className}if(!m(e))throw new Error("Class "+e+" does not exist");n=l.ns(e)}return o=new n,o.construct(t),o.onConstructed(),o.onAfterConstructed(),o.init(),o},emptyFn(){},hasPropertySetter(e,t){let n;for(;e.__proto__;){if(n=Object.getOwnPropertyDescriptor(e,t),"object"==typeof n&&"function"==typeof n.set)return!0;e=e.__proto__}return!1},merge(e,t,n){if(n)return l.merge(l.merge(e,n),t);for(const n in t){const o=t[n];"Object"===l.typeOf(o)?e[n]=l.merge(e[n]||{},o):e[n]=o}return e},ns:(e,t=!1,n)=>(e=Array.isArray(e)?e:e.split(".")).reduce(((e,n)=>{if(t&&!e[n]&&(e[n]={}),e)return e[n]}),n||globalThis),nsWithArrays:(e,t=!1,n)=>(e=Array.isArray(e)?e:e.split(".")).reduce(((e,n)=>{if(t&&!e[n]){if(n.endsWith("]"))return h(!0,n,e);e[n]={}}if(e)return n.endsWith("]")?h(!1,n,e):e[n]}),n||globalThis),ntype(e,t){if("object"==typeof e){if(!(t=e).ntype)throw new Error("Class defined with object configuration missing ntype property. "+t.ntype);e=t.ntype}let n=l.ntypeMap[e];if(!n)throw new Error("ntype "+e+" does not exist");return l.create(n,t)},setupClass(e){let t,n,o,s,a=null,c=[],{ntypeMap:d}=l,u=e.prototype||e,h=l.ns(u.constructor.config.className,!1),f=[];if(h)return h;for(;u.__proto__;){if(o=u.constructor,Object.hasOwn(o,"classConfigApplied")){a=l.clone(o.config,!0),c=[...o.ntypeChain];break}f.unshift(u),u=u.__proto__}return n=a||{},f.forEach((a=>{let u;if(o=a.constructor,t=o.config||{},l.overwrites&&o.applyOverwrites?.(t),Object.entries(t).forEach((([e,n])=>{"_"===e.slice(-1)?(delete t[e],e=e.slice(0,-1),t[e]=n,function(e,t){if(l.hasPropertySetter(e,t))throw"Config "+t+"_ ("+e.className+") already has a set method, use beforeGet, beforeSet & afterSet instead";l[i]||(l[i]={}),l[i][t]||(l[i][t]={get(){let e=this,n=`beforeGet${t[0].toUpperCase()+t.slice(1)}`,o=Object.hasOwn(e[r],t),s=e[r][t],i=o?s:e["_"+t];return Array.isArray(i)?"items"!==t&&(i=[...i]):i instanceof Date&&(i=new Date(i.valueOf())),o&&(e[t]=i,i=e["_"+t],delete e[r][t]),"function"==typeof e[n]&&(i=e[n](i)),i},set(e){if(void 0===e)return;let n=this,o="_"+t,s=t[0].toUpperCase()+t.slice(1),i="beforeSet"+s,a="afterSet"+s,c=n[o];if(delete n[r][t],"items"!==t&&"vnode"!==t&&(e=l.clone(e,!0,!0)),n[o]=e,"function"==typeof n[i]){if(void 0===(e=n[i](e,c)))return void(n[o]=c);n[o]=e}("vnode"===t&&e!==c||!l.isEqual(e,c))&&(n[a]?.(e,c),n.afterSetConfig?.(t,e,c))}}),Object.defineProperty(e,t,l[i][t])}(a,e)):l.hasPropertySetter(a,e)||Object.defineProperty(a,e,{enumerable:!0,value:n,writable:!0})})),Object.hasOwn(t,"ntype")){if(s=t.ntype,c.unshift(s),Object.hasOwn(d,s)&&t.className!==d[s])throw new Error(`ntype conflict for '${s}' inside the classes:\n${d[s]}\n${t.className}`);d[s]=t.className}u=Object.hasOwn(n,"mixins")&&n.mixins||[],o.observable&&u.push("Neo.core.Observable"),Object.hasOwn(t,"mixins")&&Array.isArray(t.mixins)&&t.mixins.length>0&&u.push(...t.mixins),u.length>0&&(function(e,t){Array.isArray(t)||(t=[t]);let n,o,s,r=0,i=t.length,a={};for(;r<i;r++){if(n=t[r],n.isClass)s=n.prototype,o=l.ns(s.className);else{if(!m(n))throw new Error("Attempting to mixin an undefined class: "+n+", "+e.prototype.className);o=l.ns(n),s=o.prototype}s.className.split(".").reduce(g(o),a),Object.getOwnPropertyNames(s).forEach(p(e.prototype,s))}e.prototype.mixins=a}(o,u),l.ns("Neo.core.Observable",!1,o.prototype.mixins)&&(o.observable=!0)),delete t.mixins,delete n.mixins,Object.assign(n,t),Object.assign(o,{classConfigApplied:!0,config:l.clone(n,!0),isClass:!0,ntypeChain:c}),!n.singleton&&this.applyToGlobalNs(e)})),u=e.prototype||e,c.forEach((e=>{u[`is${l.capitalize(l.camel(e))}`]=!0})),u.singleton&&(e=l.create(e),l.applyToGlobalNs(e)),e},typeOf:e=>null==e?null:a[typeof e]?.(e)||e.constructor.name},l);const c=["_name","classConfigApplied","className","constructor","isClass","mixin","ntype","observable"],d=/\d+/g,u=/^(\w+)\s*((?:\[\s*\d+\s*\]\s*)*)$/;function h(e,t,n){let o,s,r=(l=t,(u.exec(l)||[null]).slice(1).reduce(((e,t)=>[e].concat(t.match(d))))),i=1,a=r.length;var l;if(e?n[r[0]]=s=n[r[0]]||[]:s=n[r[0]],s){for(;i<a;i++)o=parseInt(r[i]),e&&(s[o]=s[o]||{}),s=s[o];return s}}function m(e){try{return!!e.split(".").reduce(((e,t)=>e[t]),globalThis)}catch(e){return!1}}function p(e,t){return function(n){if(!~c.indexOf(n)){if(e[n]?._from){if(t.className===e[n]._from)return void console.warn("Mixin set multiple times or already defined on a Base Class",e.className,t.className,n);throw new Error(`${e.className}: Multiple mixins defining same property (${t.className}, ${e[n]._from}) => ${n}`)}e[n]=t[n],Object.getOwnPropertyDescriptor(e,n)._from=t.className,"function"==typeof e[n]&&(e[n]._name=n)}}}function g(e){return(t,n,o,s)=>t[n]=o!==s.length-1?t[n]||{}:e}l.config=l.config||{},l.assignDefaults(l.config,n);const f=l;var y=s(583);class b extends y.A{static config={className:"Neo.core.Compare"};static map={Array:"compareArrays",Date:"compareDates",Function:"compareFunctions",Map:"compareMaps",NeoInstance:"compareNeoInstances",Object:"compareObjects",RegExp:"compareRegExps",Set:"compareSets"};static compareArrays(e,t){if(e.length!==t.length)return!1;for(const[n,o]of e.entries())if(!b.isEqual(o,t[n]))return!1;return!0}static compareDates(e,t){return e.valueOf()===t.valueOf()}static compareFunctions(e,t){return e.name===t.name&&e.toString()===t.toString()}static compareMaps(e,t){if(e.size!==t.size)return!1;let n;for(const[o,s]of e)if(n=t.get(o),n!==s||void 0===n&&!t.has(o))return!1;return!0}static compareNeoInstances(e,t){return e.id===t.id}static compareObjects(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!b.isEqual(e[n],t[n]))return!1;return!0}static compareRegExps(e,t){return e.toString()===t.toString()}static compareSets(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}static isEqual(e,t){if(e===t)return!0;let n=Neo.typeOf(e);return n===Neo.typeOf(t)&&(b.map[n]?b[b.map[n]](e,t):e===t)}}b=Neo.setupClass(b),Neo.isEqual=b.isEqual,s(358),s(691);class v extends y.A{static decamelRegEx=/([a-z])([A-Z])/g;static config={className:"Neo.core.Util",ntype:"core-util"};static bindMethods(e,t){t.forEach((t=>{e[t]=e[t].bind(e)}))}static createStyleObject(e){let t;return e.split(/;(?=[^\)]*(?:\(|$))/g).reduce(((e,n)=>(t=n.split(/:(.+)/).map((function(e){let t=parseFloat(e);return e==t?t:e.trim()})),""!==t[0]&&(t[0]=t[0].replace(/-([a-z])/g,((e,t)=>t.toUpperCase())),e[t[0]]=t[1]),e)),{})}static createStyles(e){let t="";return Object.entries(e).forEach((([e,n])=>{null!=n&&(t+=v.decamel(e)+":"+n+";")})),t}static decamel(e){return e.replace(v.decamelRegEx,"$1-$2").toLowerCase()}static isArray(e){return Array.isArray(e)}static isBoolean(e){return"boolean"==typeof e}static isDefined(e){return void 0!==e}static isEmpty(e){return null==e||(Array.isArray(e)?0===e.length:!(e instanceof Date||(v.isObject(e)?0!==Object.keys(e).length:!v.isString(e)||""!==e)))}static isFunction(e){return"function"==typeof e}static isNumber(e){return"number"==typeof e&&isFinite(e)}static isObject(e){return"Object"===e?.constructor?.name||!1}static isRecord(e){return"Record"===e?.constructor?.name||!1}static isString(e){return"string"==typeof e}static toArray(e,t,n){let o;return e&&(o=e.length)?"string"==typeof e?e.split(""):Array.prototype.slice.call(e,t||0,n||o):[]}}v=Neo.setupClass(v),Neo.applyFromNs(Neo,v,{bindMethods:"bindMethods",createStyleObject:"createStyleObject",createStyles:"createStyles",decamel:"decamel",isArray:"isArray",isBoolean:"isBoolean",isDefined:"isDefined",isEmpty:"isEmpty",isFunction:"isFunction",isNumber:"isNumber",isObject:"isObject",isRecord:"isRecord",isString:"isString",toArray:"toArray"},!0);var w=s(983),N=s(160),E=s(126);class A extends y.A{static observable=!0;static config={className:"Neo.Main",mode:"read",openWindows:{},readQueue:[],remote:{app:["alert","editRoute","getByPath","getWindowData","importAddon","log","redirectTo","reloadWindow","setNeoConfig","setRoute","windowClose","windowCloseAll","windowMoveTo","windowOpen","windowResizeTo"]},running:!1,showFps:!1,singleton:!0,timeLimit:15,totalFrameCount:0,updateQueue:[],writeQueue:[]};construct(e){super.construct(e);let t=this;E.A.on({automount:t.onRender,"message:mountDom":t.onMountDom,"message:updateDom":t.onUpdateDom,updateVdom:t.onUpdateVdom,scope:t}),N.A.on("domContentLoaded",t.onDomContentLoaded,t),"loading"!==document.readyState&&N.A.onDomContentLoaded()}alert(e){alert(e.message)}editRoute(e){let t=N.A.parseHash(window.location.hash.substr(1)),n=[];"string"==typeof e&&(e=N.A.parseHash(e)),Object.assign(t,e),Object.entries(t).forEach((([e,t])=>{null!==t&&n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))})),window.location.hash=n.join("&")}getByPath({params:e=[],path:t}){let n=f.nsWithArrays(t);return f.isFunction(n)?n(...e):n}getWindowData(){let e=window,{screen:t}=e;return{innerHeight:e.innerHeight,innerWidth:e.innerWidth,outerHeight:e.outerHeight,outerWidth:e.outerWidth,screen:{availHeight:t.availHeight,availLeft:t.availLeft,availTop:t.availTop,availWidth:t.availWidth,colorDepth:t.colorDepth,height:t.height,orientation:{angle:t.orientation?.angle,type:t.orientation?.type},pixelDepth:t.pixelDepth,width:t.width},screenLeft:e.screenLeft,screenTop:e.screenTop}}async importAddon(e){let t,{name:n}=e;return t=n.startsWith("WS/")?await s(644)(`./${n.substring(3)}.mjs`):await s(644)(`./${n}.mjs`),this.registerAddon(t.default),await this.timeout(20),!0}log(e){return console[e.method||"log"](e.value),!0}async onDomContentLoaded(){let e,t=this,{config:n}=f,{mainThreadAddons:o}=n,r=[];w.A.onDomContentLoaded(),"development"!==n.environment&&(s.p=n.basePath.substring(6)),n.useGoogleAnalytics&&!o.includes("AnalyticsByGoogle")&&o.push("AnalyticsByGoogle"),!0!==n.useServiceWorker&&n.useServiceWorker!==n.environment||o.includes("ServiceWorker")||o.push("ServiceWorker"),o.forEach((e=>{e.startsWith("WS/")?r.push(s(644)(`./${e.substring(3)}.mjs`)):r.push(s(644)(`./${e}.mjs`))})),e=await Promise.all(r),t.addon={},e.forEach((e=>{t.registerAddon(e.default)})),E.A.onWorkerConstructed({origin:"main"})}onMountDom(e){this.queueWrite(e),E.A.sendMessage(e.origin||"app",{action:"reply",replyId:e.id,success:!0})}onRender(e){e.data.replyId=e.replyId,this.queueWrite(e.data)}onUpdateDom(e){this.queueUpdate(e)}onUpdateVdom(e){e.data.replyId=e.replyId,this.queueUpdate(e.data)}processQueue(e,t){let n,o=this,s=o.timeLimit;for(;n=e.shift();){if(new Date-t>s)return e.unshift(n),requestAnimationFrame(o.renderFrame.bind(o));w.A[o.mode](n),E.A.resolveDomOperationPromise(n.replyId)}}queueRead(e){let t=this;t.readQueue.push(e),t.running||(t.running=!0,requestAnimationFrame(t.renderFrame.bind(t)))}queueUpdate(e){let t=this;t.updateQueue.push(e),t.running||(t.running=!0,requestAnimationFrame(t.renderFrame.bind(t)))}queueWrite(e){let t=this;t.writeQueue.push(e),t.running||(t.running=!0,requestAnimationFrame(t.renderFrame.bind(t)))}redirectTo(e){window.location.href=e.url}registerAddon(e){"NeoClass"===f.typeOf(e)&&("NeoInstance"!==f.typeOf(f.ns(e.prototype.className))&&(e=f.create(e)),f.applyToGlobalNs(e)),this.addon[e.constructor.name]=e}reloadWindow(e){location.reload()}renderFrame(){let e=this,t=e.readQueue,n=e.updateQueue,o=e.writeQueue,s="read"===e.mode,r=new Date;f.config.logDeltaUpdates&&(e.totalFrameCount++,console.log("Total Frames: "+e.totalFrameCount)),(!s&&o.length||(e.mode="read",!e.processQueue(t,r)))&&(n.length&&(e.mode="update",e.processQueue(n,r))||o.length&&(e.mode="write",e.processQueue(o,r))||(e.running=!1))}setNeoConfig(e){let{key:t,value:n}=e;f.config[t]=e.value,"renderCountDeltas"===t&&w.A.set({[t]:n})}setRoute(e){window.location.hash=e.value}windowClose(e){Array.isArray(e.names)||(e.names=[e.names]),e.names.forEach((e=>{this.openWindows[e]?.close(),delete this.openWindows[e]}))}windowCloseAll(e){Object.values(this.openWindows).forEach((e=>{console.log(e),e.close()})),this.openWindows={}}windowMoveTo(e){this.openWindows[e.windowName]?.moveTo(e.x,e.y)}windowOpen(e){let t=window.open(e.url,e.windowName,e.windowFeatures),n=!!t;return n&&(this.openWindows[e.windowName]=t),n}windowResizeTo(e){let t=this.openWindows[e.windowName],n=e.height||t.outerHeight,o=e.width||t.outerWidth;t.resizeTo(o,n)}}f.setupClass(A)})()})();