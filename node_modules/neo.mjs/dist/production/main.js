(()=>{var e,t,r={17:(e,t,r)=>{"use strict";r.d(t,{o:()=>o});const o=Symbol.for("Neo.Config.isDescriptor")},49:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var o=r(110);const n={BODY:1,BUTTON:1,EMBED:1,IFRAME:1,INPUT:1,OBJECT:1,SELECT:1,TEXTAREA:1};class s extends o.A{static config={className:"Neo.main.DomUtils"};static closest(e,t,r=document.body){for(;e?.nodeType===Node.ELEMENT_NODE&&e!==r;){if(t(e))return e;e=e.parentNode}}static isFocusable(e){return s.isTabbable(e)||Number(e.getAttribute("tabIndex"))<0}static isTabbable(e){const{nodeName:t}=e,r=getComputedStyle(e),o=e.getAttribute("tabIndex");return!(!e.isConnected||!e.offsetParent||"hidden"===r.getPropertyValue("visibility")||Number(o)<0)&&(n[t]||("A"===t||"LINK"===t)&&!!e.href||null!=o&&Number(o)>=0||"true"===e.contentEditable)}static query(e,t){return[e,...e.querySelectorAll("*")].find(t)}static queryAll(e,t){return[e,...e.querySelectorAll("*")].filter(t)}}const i=Neo.setupClass(s)},110:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var o=r(439),n=(r(561),r(528),r(17));const s=class{#e;#t=new Set;mergeStrategy="deep";isEqual=Neo.isEqual;constructor(e){Neo.isObject(e)&&!0===e[n.o]?this.initDescriptor(e):this.#e=e}get(){return this.#e}initDescriptor({isEqual:e,merge:t,value:r}){let o=this;o.#e=r,o.mergeStrategy=t||o.mergeStrategy,o.isEqual=e||o.isEqual}notify(e,t){for(const r of this.#t)r(e,t)}set(e){if(void 0===e)return!1;const t=this,r=t.#e;return!t.isEqual(e,r)&&(t.#e=e,t.notify(e,r),!0)}setRaw(e){this.#e=e}subscribe(e){return this.#t.add(e),()=>this.#t.delete(e)}};var i=r(358);const a=Symbol.for("configSymbol"),l=Symbol("forceAssignConfigs"),c=Symbol("isInstance");class d{static delayable={};static instanceManagerAvailable=!1;static methodNameRegex=/\n.*\n\s+at\s+.*\.(\w+)\s+.*/;static observable=!1;static overwrittenMethods={};static config={className:"Neo.core.Base",ntype:"base",delayable:null,id_:null,interceptRemotes:null,isConstructed:!1,isReady_:!1,mixins:null,module:null,remote_:null};#r={};#o=[];construct(e={}){let t=this;Object.defineProperties(t,{[a]:{configurable:!0,enumerable:!1,value:{},writable:!0},[c]:{enumerable:!1,value:!0}}),t.id=e.id||i.A.getId(this.getIdKey()),delete e.id,t.getStaticConfig("observable")&&t.initObservable(e),e=t.setFields(e),t.initConfig(e),Object.defineProperty(t,"configsApplied",{enumerable:!1,value:!0}),t.applyDelayable(),(0,o.Zc)(t,"destroy",t.isDestroyedCheck,t),Promise.resolve().then(async()=>{await t.initAsync(),t.isReady=!0})}afterSetId(e,t){let r=this,o=!0===d.instanceManagerAvailable;t&&(o?Neo.manager.Instance.unregister(t):delete Neo.idMap[t]),e&&(o?Neo.manager.Instance.register(r):(Neo.idMap??={},Neo.idMap[r.id]=r))}applyDelayable(){let e=this,t=e.constructor.delayable,r=e.delayable?Neo.merge({},e.delayable,t):t;Object.entries(r).forEach(([t,r])=>{if(r){let n={buffer(){e[t]=new o.r(e[t],e,r.timer)},debounce(){e[t]=new o.sg(e[t],e,r.timer)},throttle(){e[t]=new o.nF(e[t],e,r.timer)}};n[r.type]?.()}})}static applyOverwrites(e){let t,r,o=Neo.ns(e.className,!1,Neo.overwrites);if(o){for(r in o)Neo.isFunction(o[r])&&(t=this.prototype,t[r]&&(t.constructor.overwrittenMethods[r]=t[r]));Object.assign(e,o)}}beforeSetEnumValue(e,t,r,o=r+"s"){let n=Array.isArray(o)?o:this.getStaticConfig(o);return n.includes(e)?e:(console.error(`Supported values for ${r} are:`,...n,this),t)}beforeSetRemote(e,t){let r=this;if(e&&!r.singleton&&!r.isMainThreadAddon)throw new Error("Remote method access is only functional for Singleton classes "+r.className);return e}bindCallback(e,t,r=this,n=this){if(e&&Neo.isString(e)){const s=(0,o.Ap)(e,r);n[t]=s.fn.bind(s.scope)}}callOverwritten(...e){let t=(new Error).stack.match(d.methodNameRegex)[1];this.__proto__.constructor.overwrittenMethods[t].call(this,...e)}destroy(){let e=this;e.#o.forEach(e=>{clearTimeout(e)}),!0===d.instanceManagerAvailable?Neo.manager.Instance.unregister(e):Neo.idMap&&delete Neo.idMap[e.id],Object.keys(e).forEach(t=>{Object.getOwnPropertyDescriptor(e,t).writable&&"destroy"!==t&&"_id"!==t&&delete e[t]}),Neo.isFunction(e.fire)&&(e.fire=Neo.emptyFn),e.isDestroyed=!0}getConfig(e){let t=this;return!t.#r[e]&&t.isConfig(e)&&(t.#r[e]=new s),t.#r[e]}getIdKey(){return this.ntype}getStaticConfig(e){return this.constructor[e]}hasNtype(e){return this.constructor.ntypeChain.includes(e)}init(){}async initAsync(){this.remote&&this.initRemote()}initConfig(e,t){let r=this;r.isConfiguring=!0,Object.assign(r[a],r.mergeConfig(e,t)),delete r[a].id,r.processConfigs(),r.isConfiguring=!1}initRemote(){let{className:e,remote:t}=this,{currentWorker:r}=Neo;Neo.config.unitTestMode||("main"!==Neo.workerId&&r.isSharedWorker&&!r.isConnected?r.on("connected",()=>{d.sendRemotes(e,t)},this,{once:!0}):d.sendRemotes(e,t))}isDestroyedCheck(){return!this.isDestroyed}isConfig(e){return Neo.hasPropertySetter(this,e)&&e in this.constructor.config}mergeConfig(e,t){let r=this,o=r.constructor;if(!o.config)throw new Error("Neo.applyClassConfig has not been run on "+r.className);return t||(r.originalConfig=Neo.clone(e,!0,!0)),{...o.config,...e}}onAfterConstructed(){let e=this;e.isConstructed=!0,e.getStaticConfig("observable")&&e.fire("constructed",e)}onConstructed(){}onInterceptRemotes(e){}parseItemConfigs(e){let t,r,o,n,s=this;e&&(Array.isArray(e)||(e=[e]),e.forEach(e=>{e&&Object.entries(e).forEach(([i,l])=>{Array.isArray(l)?s.parseItemConfigs(l):"string"==typeof l&&l.startsWith("@config:")&&(r=l.substring(8).trim().split("."),o=r.pop(),t=Neo.ns(r,!1,s),void 0===t[o]?console.error("The used @config does not exist:",o,r.join(".")):(n=Neo.ns(r,!1,s[a]),n&&Object.hasOwn(n,o)?e[i]=n[o]:e[i]=t[o]))})}))}processConfigs(e=!1){let t=this,r=Object.keys(t[a]);t[l]=e,r.length>0&&(!e&&t.hasOwnProperty(r[0])||(t[r[0]]=t[a][r[0]]),delete t[a][r[0]],t.processConfigs(e))}static sendRemotes(e,t){let r;Object.entries(t).forEach(([t,o])=>{Neo.workerId!==t&&(r="main"===Neo.workerId?Neo.worker.Manager:Neo.currentWorker,r.sendMessage(t,{action:"registerRemote",className:e,methods:o}))})}set(e={}){let t=this;e=t.setFields(e),!0!==t[l]&&Object.keys(t[a]).length>0&&t.processConfigs(),Object.assign(t[a],e),t.processConfigs(!0)}setFields(e){let t=this,r=t.constructor.config;return Object.entries(e).forEach(([o,n])=>{r.hasOwnProperty(o)||Neo.hasPropertySetter(t,o)||(t[o]=n,delete e[o])}),e}setStaticConfig(e,t){let r=this.constructor.staticConfig;return!!r.hasOwnProperty(e)&&(r[e]=t,!0)}timeout(e){return new Promise(t=>{let r=this.#o,o=setTimeout(()=>{r.splice(r.indexOf(o),1),t()},e);r.push(o)})}get[Symbol.toStringTag](){return`${this.className} (id: ${this.id})`}static[Symbol.hasInstance](e){return!!e&&!0===e[c]&&super[Symbol.hasInstance](e)}}const u=Neo.setupClass(d)},126:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var o=r(110),n=r(392),s=r(160),i=r(358);class a{constructor(e){e.destination=e.destination||"main",e.id=e.id||i.A.getId(Neo.workerId),e.origin=e.origin||Neo.workerId,Object.assign(this,e)}}Neo.ns("Neo.worker",!0).Message=a;const l=a;var c=r(691);class d extends o.A{static config={className:"Neo.worker.mixin.RemoteMethodAccess",mixin:!0};assignPort(e,t){if(e){const{appName:r,port:o,windowId:n}=e;Object.assign(t,{appName:r,port:o,windowId:n})}}generateRemote(e,t){let r=this,{origin:o}=e;return function(n,s){let i={action:"remoteMethod",data:n,destination:o,remoteClassName:e.className,remoteMethod:t};return r.isSharedWorker&&r.assignPort(n,i),r.promiseMessage(o,i,s)}}onRegisterRemote(e){if(e.destination===Neo.workerId){let t=this,{className:r,methods:o}=e,n=Neo.ns(r,!0);o.forEach(o=>{if("main"!==e.origin&&n[o])throw new Error("Duplicate remote method definition "+r+"."+o);n[o]??=t.generateRemote(e,o)})}}onRemoteMethod(e){let t,r,o=this,n=Neo.ns(e.remoteClassName);if(!n)throw new Error('Invalid remote namespace "'+e.remoteClassName+'"');if(r=n[e.remoteMethod],!r)throw new Error('Invalid remote method name "'+e.remoteMethod+'"');t=!n.isReady&&n.interceptRemotes?.includes(e.remoteMethod)?n.onInterceptRemotes(e):Array.isArray(e.data)?r.call(n,...e.data):r.call(n,e.data),Neo.isPromise(t)?t.catch(t=>{console.error(t),o.reject(e,t)}).then(t=>{o.resolve(e,t)}):o.resolve(e,t)}reject(e,t){let r=this,o={action:"reply",data:t,reject:!0,replyId:e.id};r.isSharedWorker&&r.assignPort(e,o),r.sendMessage(e.origin,o)}resolve(e,t){let r=this,o={action:"reply",data:t,replyId:e.id};r.isSharedWorker&&r.assignPort(e,o),r.sendMessage(e.origin,o)}}const u=Neo.setupClass(d),h=Neo.config,p="development"===h.environment||"dist/esm"===h.environment;navigator.serviceWorker?.addEventListener("controllerchange",function(){window.location.reload()},{once:!0});class m extends o.A{static config={className:"Neo.worker.Manager",activeWorkers:0,appNames:[],constructedThreads:0,mixins:[c.A,u],remote:{app:["setNeoConfig"],canvas:["setNeoConfig"],data:["setNeoConfig"],task:["setNeoConfig"],vdom:["setNeoConfig"]},sharedWorkersEnabled:!1,singleton:!0,stopCommunication:!1,webWorkersEnabled:!1,windowId:(new Date).getTime(),workers:{app:{fileName:p?"App.mjs":"appworker.js"},canvas:{fileName:p?"Canvas.mjs":"canvasworker.js"},data:{fileName:p?"Data.mjs":"dataworker.js"},task:{fileName:p?"Task.mjs":"taskworker.js"},vdom:{fileName:p?"VDom.mjs":"vdomworker.js"}}};serviceWorker=null;construct(e){super.construct(e);let t=this;t.detectFeatures(),!Neo.insideWorker&&t.createWorkers(),Neo.setGlobalConfig=t.setGlobalConfig.bind(t),Neo.workerId="main",t.promises={},t.on({"message:addDomListener":{fn:s.A.addDomListener,scope:s.A},"message:getOffscreenCanvas":{fn:n.A.onGetOffscreenCanvas,scope:n.A},"message:readDom":{fn:n.A.onReadDom,scope:n.A},"message:registerRemote":{fn:t.onRegisterRemote,scope:t},"message:workerConstructed":{fn:t.onWorkerConstructed,scope:t}})}broadcast(e,t){let r=this;Object.keys(r.workers).forEach(o=>{o!==t&&r.getWorker(o)&&r.sendMessage(o,e)})}createWorker(e){let t=this,{fileName:r}=e,o=(e.basePath||Neo.config.workerBasePath)+r,n=`neomjs-${r.substring(0,r.indexOf(".")).toLowerCase()}-worker`,s=t.sharedWorkersEnabled&&h.useSharedWorkers,i=new(s?SharedWorker:Worker)(o,p?{name:n,type:"module"}:{name:n});return(s?i.port:i).onmessage=t.onWorkerMessage.bind(t),(s?i.port:i).onerror=t.onWorkerError.bind(t),t.activeWorkers++,i}createWorkers(){let e,t,r=this,o=Neo.clone(h,!0),{hash:n,href:i,search:a}=location,{windowId:l}=r;for([e,t]of(delete o.cesiumJsToken,n&&(o.hash={hash:s.A.parseHash(n.substring(1)),hashString:n.substring(1),windowId:l}),o.url={href:i,search:a},Object.entries(r.workers)))if(!("canvas"===e&&!o.useCanvasWorker||"task"===e&&!o.useTaskWorker||"vdom"===e&&!o.useVdomWorker)){try{t.worker=r.createWorker(t)}catch(e){document.body.innerHTML=e,r.stopCommunication=!0;break}r.sendMessage(e,{action:"registerNeoConfig",data:{...o,windowId:l}})}}detectFeatures(){if(h.hasMouseEvents=matchMedia("(pointer:fine)").matches,h.hasTouchEvents="ontouchstart"in window||navigator.maxTouchPoints>0,document.body.classList.add(h.hasMouseEvents?"neo-mouse":"neo-no-mouse"),!window.Worker)throw new Error("Your browser does not support Web Workers");this.webWorkersEnabled=!0,window.SharedWorker&&(this.sharedWorkersEnabled=!0)}getWorker(e){return"service"===e?navigator.serviceWorker?.controller||this.serviceWorker:e instanceof Worker?e:this.workers[e].worker}loadApplication(){this.sendMessage("app",{action:"loadApplication"})}onWorkerConstructed(e){let t=this;t.constructedThreads++,t.constructedThreads===t.activeWorkers&&h.appPath&&t.timeout(h.loadApplicationDelay).then(()=>{t.loadApplication()})}onWorkerError(e){!p&&console.log("Worker Error:",e)}onWorkerMessage(e){let t,r=this,{data:o}=e,n=null;const{action:s,destination:i,replyId:a}=o;if(r.fire("message:"+s,o),"reply"===s&&(t=r.promises[a],t?("main"===i&&(o=o.data),o&&(t[o.reject?"reject":"resolve"](o),delete r.promises[a])):o.data&&(o.data.autoMount&&r.fire("automount",o),o.data.updateVdom&&r.fire("updateVdom",o),r.promiseForwardMessage(o).then(e=>{r.sendMessage(e.destination,e)}))),"main"!==i&&"reply"!==s)o.transfer&&(n=[o.transfer]),r.promiseMessage(i,o,n).then(e=>{r.sendMessage(e.destination,e)}).catch(e=>{r.sendMessage(o.origin,{action:"reply",reject:!0,replyId:o.id,error:e.message})});else if("main"===i&&"registerAppName"===s){let{appName:e}=o;r.appNames.push(e),r.broadcast({action:"registerApp",appName:e})}else"main"===i&&"remoteMethod"===s&&r.onRemoteMethod(o)}promiseForwardMessage(e){return new Promise((t,r)=>{this.promises[e.replyId]={data:e,reject:r,resolve:t}})}promiseMessage(e,t,r){let o=this;return new Promise((n,s)=>{let i,a=o.sendMessage(e,t,r);a?(i=a.id,o.promises[i]={reject:s,resolve:n}):s(new Error(o.stopCommunication?"Communication is stopped.":`Target worker '${e}' does not exist.`))})}resolveDomOperationPromise(e){if(e){let{promises:t}=this,r=t[e];r&&(r.resolve(r.data),delete t[e])}}sendMessage(e,t,r){let o,n;return!this.stopCommunication&&(t.channelPort?(n=t.channelPort,delete t.channelPort):n=this.getWorker(e),n)?(t.destination=e,o=new l(t),(n.port?n.port:n).postMessage(o,r),o):null}setGlobalConfig(e){Neo.worker.App.setGlobalConfig(e)}setNeoConfig({broadcast:e,config:t,excludeOrigin:r}){Neo.merge(Neo.config,t),this.fire("neoConfigChange",t),e&&this.broadcast({action:"setNeoConfig",config:t},r)}}const g=Neo.setupClass(m)},160:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var o=r(110);r(691),r(596);class n extends o.A{static config={className:"Neo.main.mixin.TouchDomEvents"};onTouchCancel(e){let t=this;t.sendMessageToApp(t.getEventData(e)),t.firstTouch=null,t.lastTouch=null}onTouchEnd(e){let t=this;t.sendMessageToApp(t.getEventData(e)),t.firstTouch=null,t.lastTouch=null}onTouchEnter(e){this.sendMessageToApp(this.getEventData(e))}onTouchLeave(e){this.sendMessageToApp(this.getEventData(e))}onTouchMove(e){let t=this,r=t.getEventData(e),o=e.touches[0],{lastTouch:n}=t;n&&Object.assign(r,{deltaX:o.clientX-n.clientX,deltaY:o.clientY-n.clientY}),t.sendMessageToApp(r),t.lastTouch=o,t.testPathInclusion(e,["neo-helix"])&&e.preventDefault()}onTouchStart(e){let t=this;t.firstTouch=e.touches[0],t.lastTouch=e.touches[0],t.sendMessageToApp(t.getEventData(e))}}const s=Neo.setupClass(n),i=[{name:"change",handler:"onChange"},{name:"click",handler:"onClick"},{name:"contextmenu",handler:"onContextMenu"},{name:"dblclick",handler:"onDoubleClick"},{name:"focusin",handler:"onFocusIn"},{name:"focusout",handler:"onFocusOut"},{name:"input",handler:"onChange"},{name:"keydown",handler:"onKeyDown"},{name:"keyup",handler:"onKeyUp"},{name:"mousedown",handler:"onMouseDown"},{name:"mouseenter",handler:"onMouseEnter",options:{capture:!0}},{name:"mouseleave",handler:"onMouseLeave",options:{capture:!0}},{name:"mouseup",handler:"onMouseUp"},{name:"scroll",handler:"onScroll",options:{capture:!0}},{name:"wheel",handler:"onWheel",options:{passive:!1}}],a=[{name:"touchcancel",handler:"onTouchCancel"},{name:"touchend",handler:"onTouchEnd"},{name:"touchenter",handler:"onTouchEnter"},{name:"touchleave",handler:"onTouchLeave"},{name:"touchmove",handler:"onTouchMove",options:{passive:!1}},{name:"touchstart",handler:"onTouchStart"}],l=["neo-c-m-scrollcontainer","neo-c-w-scrollcontainer","neo-calendar-yearcomponent","neo-circle-component","neo-dateselector","neo-gallery","neo-helix"],c={"neo-c-m-scrollcontainer":100,"neo-c-w-scrollcontainer":100,"neo-calendar-yearcomponent":300,"neo-dateselector":300},d=["neo-c-m-scrollcontainer","neo-c-w-scrollcontainer"],u={date:null,target:null},h={},p=[],m=[];class g extends o.A{static observable=!0;static config={className:"Neo.main.DomEvents",mixins:[s],singleton:!0,remote:{app:["addDomListener","registerDisabledInputChars","registerPreventDefaultTargets","unregisterDisabledInputChars"]}};lastTouch=null;construct(e){super.construct(e);let t=this;document.addEventListener("DOMContentLoaded",t.onDomContentLoaded.bind(t)),document.addEventListener("selectionchange",t.onSelectionChange.bind(t)),window.addEventListener("orientationchange",t.onOrientationChange.bind(t)),window.addEventListener("hashchange",t.onHashChange.bind(t)),Neo.config.useSharedWorkers&&window.addEventListener("beforeunload",t.onBeforeUnload.bind(t))}addDomListener(e){let t,r,o,n=this,s=0,i=e.events.length,a=null;for(;s<i;s++)t=e.events[s],n[t.handler]||(n[t.handler]=Neo.emptyFn),r=t.vnodeId||e.vnodeId,o="document.body"===r?document.body:Neo.config.useDomIds?document.getElementById(r):document.querySelector(`[data-neo-id='${r}']`),o?o.addEventListener(t.name,n[t.handler].bind(n)):a=r;a&&"development"===Neo.config.environment&&console.warn("DomEvents:addDomListener() => target node not found:",a),Neo.worker.Manager.sendMessage(e.origin,{action:"reply",data:e,replyId:e.id,success:!a})}addGlobalDomListeners(){let e=this;[...i].concat(Neo.config.hasTouchEvents?a:[]).forEach(t=>{document.body.addEventListener(t.name,e[t.handler].bind(e),t.options)})}domEventListener(e){let{target:t}=e,r={action:"domEvent",eventName:e.type,data:{...this.getEventData(e),id:t.id,value:t.value}};"mousemove"===e.type?Object.assign(r.data,this.getMouseEventData(e)):e.preventDefault(),Neo.worker.Manager.sendMessage("app",r)}geAriaAttributes(e){let t,r={},{attributes:o}=e,n=0,s=o?.length||0;for(;n<s;n++)t=o[n],t.name.startsWith("aria-")&&(r[t.name.substring(5)]=t.value);return r}getDistance(e,t,r,o){return Math.sqrt((r-e)**2+(o-t)**2)}getEventData(e){let t=e.composedPath();t.length<1&&(t=e.path);const r={path:t.map(e=>this.getTargetData(e)),target:this.getTargetData(e.target),timeStamp:e.timeStamp,type:e.type,data:{...e.target.dataset}};return e.relatedTarget&&(r.relatedTarget=this.getTargetData(e.relatedTarget)),r}getKeyboardEventData(e){let{altKey:t,code:r,ctrlKey:o,key:n,keyCode:s,metaKey:i,shiftKey:a}=e;return{...this.getEventData(e),altKey:t,code:r,ctrlKey:o,key:n,keyCode:s,metaKey:i,shiftKey:a}}getMouseEventData(e){let{altKey:t,clientX:r,clientY:o,ctrlKey:n,detail:s,metaKey:i,offsetX:a,offsetY:l,pageX:c,pageY:d,screenX:u,screenY:h,shiftKey:p}=e;return{...this.getEventData(e),altKey:t,clientX:r,clientY:o,ctrlKey:n,detail:s,metaKey:i,offsetX:a,offsetY:l,pageX:c,pageY:d,screenX:u,screenY:h,shiftKey:p}}getPathFromElement(e){let t=[];if(e)for(t.push(e);e.parentNode;)t.push(e.parentNode),e=e.parentNode;return t}getSelectionPath(e,t){return t.parentNode&&t.id.split("__").length>1&&(e=this.getSelectionPath(e,t.parentNode)),e.push(this.getTargetData(t)),e}getTargetData(e){let t=e.getBoundingClientRect?.(),r=t&&this.parseDomRect(t)||{};return{aria:this.geAriaAttributes(e),checked:e.checked,childElementCount:e.childElementCount,clientHeight:e.clientHeight,clientLeft:e.clientLeft,clientTop:e.clientTop,clientWidth:e.clientWidth,cls:e.classList?[...e.classList]:[],data:{...e.dataset},draggable:e.draggable,hidden:e.hidden,id:Neo.config.useDomIds?e.id:e.dataset?.neoId,inert:e.inert,isConnected:e.isConnected,isContentEditable:e.isContentEditable,nodeType:e.nodeType,offsetHeight:e.offsetHeight,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,offsetWidth:e.offsetWidth,rect:r,role:e.role,scrollHeight:e.scrollHeight,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollWidth:e.scrollWidth,style:e.style?.cssText,tabIndex:e.getAttribute?.("tabindex")?e.tabIndex:null,tagName:e.tagName?.toLowerCase()}}getTouchCoords(e){let{touches:t,changedTouches:r}=e;return t?.[0]||r?.[0]}onBeforeUnload(e){let{Manager:t}=Neo.worker;t.appNames.forEach(e=>{t.broadcast({action:"disconnect",appName:e,windowId:t.windowId})})}onChange(e){let{target:t}=e,r={...this.getEventData(e),valid:t.checkValidity?.(),value:t.value};t.files&&(r.files=t.files),this.sendMessageToApp(r)}onClick(e){let t=this;t.sendMessageToApp(t.getMouseEventData(e)),t.testPathInclusion(e,p)&&e.preventDefault()}onContextMenu(e){let t=this;t.sendMessageToApp(t.getMouseEventData(e)),(e.ctrlKey||t.testPathInclusion(e,m))&&e.preventDefault()}onDomContentLoaded(){this.addGlobalDomListeners(),this.fire("domContentLoaded")}onDoubleClick(e){let t=this;t.sendMessageToApp(t.getMouseEventData(e)),t.testPathInclusion(e,p)&&e.preventDefault()}onFocusIn(e){this.sendMessageToApp(this.getEventData(e))}onFocusOut(e){this.sendMessageToApp(this.getEventData(e))}onHashChange(){let{Manager:e}=Neo.worker,t=location.hash.substring(1);e.sendMessage("app",{action:"hashChange",data:{appNames:e.appNames,hash:this.parseHash(t),hashString:t,windowId:e.windowId}})}onKeyDown(e){let t=this,{target:r}=e,{tagName:o}=r,n="INPUT"===o||"TEXTAREA"===o;n&&h[r.id]?.includes(e.key)?e.preventDefault():(t.sendMessageToApp(t.getKeyboardEventData(e)),n&&"Tab"===e.key&&t.testPathInclusion(e,["neo-grid-editor","neo-table-editor"],!0)&&e.preventDefault(),!n&&["ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(e.key)&&t.testPathInclusion(e,["neo-selection"],!0)&&e.preventDefault())}onKeyUp(e){this.sendMessageToApp(this.getKeyboardEventData(e))}onMouseDown(e){this.sendMessageToApp(this.getMouseEventData(e))}onMouseEnter(e){let t=this,r={...t.getMouseEventData(e),fromElementId:e.fromElement?.id||null,toElementId:e.toElement?.id||null};t.sendMessageToApp(r),t.fire("mouseEnter",r)}onMouseLeave(e){let t=this,r={...t.getMouseEventData(e),fromElementId:e.fromElement?.id||null,toElementId:e.toElement?.id||null};t.sendMessageToApp(r),t.fire("mouseLeave",r)}onMouseUp(e){this.sendMessageToApp(this.getMouseEventData(e))}onOrientationChange(e){let{orientation:t}=screen,{angle:r,type:o}=t,n=0===r||180===r?"portrait":"landscape";Neo.worker.Manager.sendMessage("app",{action:"orientationChange",data:{angle:r,layout:n,type:o}})}onScroll(e){let t,r=this,{firstTouch:o,lastTouch:n}=r,{clientHeight:s,clientWidth:i,scrollLeft:a,scrollTop:l}=e.target;e.preventDefault(),t={...r.getEventData(e),clientHeight:s,clientWidth:i,scrollLeft:a,scrollTop:l},o&&(t.touches={firstTouch:{clientX:o.clientX,clientY:o.clientY},lastTouch:{clientX:n.clientX,clientY:n.clientY}}),r.sendMessageToApp(t)}onSelectionChange(e){let t,r,o=this,{target:n}=e,s=n.type?n:n.activeElement;"BODY"!==n.tagName&&(t=o.getSelectionPath([],s),r=o.getTargetData(s),o.sendMessageToApp({path:t,selection:{direction:s.selectionDirection,end:s.selectionEnd,start:s.selectionStart},target:r,timeStamp:e.timeStamp,type:"selectionchange"}))}onWheel(e){let t,r=this.testPathInclusion(e,l),o=!1;if(r){if(t=r.cls,c[r.cls]){let e=new Date;u.date&&u.target===t&&e-u.date<c[t]?o=!0:Object.assign(u,{date:e,target:t})}if(!o){let{deltaX:t,deltaY:o,deltaZ:n}=e;this.sendMessageToApp({...this.getEventData(e),clientHeight:r.node.clientHeight,clientWidth:r.node.clientWidth,deltaX:t,deltaY:o,deltaZ:n,scrollLeft:r.node.scrollLeft,scrollTop:r.node.scrollTop})}d.includes(t)||e.preventDefault()}}parseDomRect(e){let{bottom:t,height:r,left:o,right:n,top:s,width:i,x:a,y:l}=e;return{bottom:t,height:r,left:o,right:n,top:s,width:i,x:a,y:l}}parseHash(e){if(""===e)return{};let t,r,o,n,s=e.split("&"),i={};for(t=0;t<s.length;t++)o=s[t].split("="),o.length<2&&o.push(""),r=decodeURIComponent(o[0]),n=decodeURIComponent(o[1]),-1!==r.indexOf("[]")?(r=r.substring(0,r.indexOf("[]")),void 0===i[r]&&(i[r]=[]),i[r].push(this.parseValue(n))):i[r]=this.parseValue(n);return i}parseValue(e){return e==parseInt(e)?e=parseInt(e):"false"===e?e=!1:"true"===e&&(e=!0),e}registerDisabledInputChars(e){h[e.id]=e.chars}registerPreventDefaultTargets(e){let t;switch(Array.isArray(e.cls)||(e.cls=[e.cls]),e.name){case"click":t=p;break;case"contextmenu":t=m}e.cls.forEach(e=>{!t.includes(e)&&t.push(e)})}sendMessageToApp(e){Neo.worker.Manager.sendMessage("app",{action:"domEvent",eventName:e.type,data:e})}stripHtml(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent||""}testPathInclusion(e,t,r=!1){let o,n,s=t.length,i=e.path||e.composedPath(),a=0,l=i.length;for(;a<l;a++)for(n=i[a],o=0;o<s;o++)if(r&&n.classList?.value?.includes(t[o])||n.classList?.contains(t[o]))return{cls:t[o],node:n};return!1}unregisterDisabledInputChars(e){delete h[e.id]}}const f=Neo.setupClass(g)},270:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var o=r(110);class n extends o.A{static config={className:"Neo.util.Array"};static add(e,t){return Array.isArray(t)||(t=[t]),t.forEach(t=>{e.includes(t)||e.push(t)}),e}static difference(e=[],t=[]){return e.filter(e=>!t.includes(e))}static hasItem(e,t){return e.includes(t)}static insert(e,t,r){Array.isArray(r)||(r=[r]);let o,n,s=r.length-1;for(;s>-1;s--)n=r[s],o=e.indexOf(n),t!==o&&(o>-1?this.move(e,o,t):e.splice(t,0,n));return e}static intersection(e=[],t=[]){return e.filter(e=>t.includes(e))}static move(e,t,r){return t===r||(t>=e.length&&(t=e.length-1),e.splice(r,0,e.splice(t,1)[0])),e}static remove(e,t){let r;return Array.isArray(t)||(t=[t]),t.forEach(t=>{r=e.indexOf(t),r>-1&&e.splice(r,1)}),e}static removeAdd(e,t,r){return this.remove(e,t),this.add(e,r)}static toggle(e,t,r=!this.hasItem(e,t)){return this[r?"add":"remove"](e,t)}static union(){return[...new Set(Array.prototype.concat(...arguments))]}static unshift(e,t){return Array.isArray(t)||(t=[t]),t.forEach(t=>{e.includes(t)||e.unshift(t)}),e}}const s=Neo.setupClass(n)},358:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});const o=Neo.setupClass(class{static config={className:"Neo.core.IdGenerator",ntype:"id-generator",base:"neo-",singleton:!0};construct(e){let t=this;t.idCounter={},Neo.getId=t.getId.bind(t)}getId(e){e=e||"neo";let t=this.idCounter,r=t[e]||0;return t[e]=++r,this.base+("neo"===e?"":e+"-")+r}init(){}onAfterConstructed(){}onConstructed(){}})},392:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var o=r(110),n=r(49),s=r(406),i=r(596);const a=e=>e.preventDefault(),l=e=>!e.classList.contains("neo-focus-trap")&&n.A.isTabbable(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP,c=/^\d+\w+$/,d={capture:!0,passive:!0},u=["font-family","font-kerning","font-size","font-size-adjust","font-stretch","font-style","font-weight","letter-spacing","line-height","text-decoration","text-transform","word-break"],h={Shift:1,Alt:1,Meta:1,Control:1};class p extends o.A{static observable=!0;static config={className:"Neo.main.DomAccess",remote:{app:["addScript","align","applyBodyCls","blur","execCommand","focus","getAttributes","getBoundingClientRect","getScrollingDimensions","measure","monitorAutoGrow","monitorAutoGrowHandler","navigate","navigateTo","scrollBy","scrollIntoView","scrollTo","scrollToTableRow","selectNode","setBodyCls","setStyle","syncModalMask","trapFocus","windowScrollTo"]},singleton:!0};get modalMask(){let e=this;return e._modalMask||(e._modalMask=document.createElement("div"),e._modalMask.className="neo-dialog-modal-mask",e._modalMask.addEventListener("mousedown",a,{capture:!0})),e._modalMask}construct(e){super.construct(e);let t=this;t.initGlobalListeners(),t.syncAligns=t.syncAligns.bind(t)}addAligned(e){const t=this,{id:r}=e,o=t._aligns||(t._aligns=new Map),n=t._alignResizeObserver||(t._alignResizeObserver=new ResizeObserver(t.syncAligns)),{constrainToElement:s}=e;o.has(r)||(n.observe(e.offsetParent),n.observe(e.targetElement),s&&n.observe(s)),t.hasDocumentScrollListener||(document.addEventListener("scroll",t.syncAligns,{capture:!0,passive:!0}),t.hasDocumentScrollListener=!0),t.documentMutationObserver||(t.documentMutationObserver=new MutationObserver(t.onDocumentMutation.bind(t)),t.documentMutationObserver.observe(document.body,{childList:!0,subtree:!0})),o.set(r,e)}addScript(e){let t=document.createElement("script");e.hasOwnProperty("async")||(e.async=!0),Object.assign(t,e),document.head.appendChild(t)}async align(e){const t=this,{constrainTo:r}=e,o=e.subject=t.getElement(e.id),{style:n}=o,s={...e},i=t._aligns?.get(e.id);if(i&&o.classList.remove(`neo-aligned-${i.result.position}`),t.resetDimensions(s),s.target=t.getClippedRect({id:e.targetElement=t.getElementOrBody(e.target)}),!s.target)return Neo.worker.App.setConfigs({id:e.id,hidden:!0});e.offsetParent=e.targetElement.offsetParent,r&&(s.constrainTo=t.getBoundingClientRect({id:e.constrainToElement=t.getElementOrBody(r)}));const a=t.getBoundingClientRect(e),l=e.result=a.alignTo(s);Object.assign(n,{top:0,left:0,transform:`translate(${l.x}px,${l.y}px)`}),l.width!==a.width&&(n.width=`${l.width}px`),l.height!==a.height&&(n.height=`${l.height}px`),o.classList.add(`neo-aligned-${l.position}`),t.addAligned(e)}applyBodyCls(e){let t=e.cls||[];document.body.classList.add(...t)}blur(e){return this.getElement(e.id)?.blur(),{id:e.id}}execCommand(e){return document.execCommand(e.command),e}focus({children:e,id:t}){let r=this.getElement(t);return r&&(!n.A.isFocusable(r)&&e&&(r=n.A.query(r,n.A.isFocusable)),r&&(r.focus(),Neo.isNumber(r.selectionStart)&&(r.selectionStart=r.selectionEnd=r.value.length))),{id:t}}getAttributes({attributes:e,id:t}){let r;if(Array.isArray(t))r=[],t.forEach(t=>{r.push(this.getAttributes({attributes:e,id:t}))});else{let o=this.getElementOrBody(t);r={},o&&(Array.isArray(e)||(e=[e]),e.forEach(e=>{r[e]=o[e]}))}return r}getBoundingClientRect(e){let t,r=this;if(Array.isArray(e.id))return e.id.map(e=>r.getBoundingClientRect({id:e}));{let o,n,i,a=r.getElementOrBody(e.nodeType?e:e.id),l={};t={},a&&(l=a.getBoundingClientRect(),i=a.ownerDocument.defaultView.getComputedStyle(a),o=i.getPropertyValue("min-width"),n=i.getPropertyValue("min-height"),t=s.A.clone(l),c.test(o)&&"0px"!==o&&(t.minWidth=r.measure({value:o,id:a})),c.test(n)&&"0px"!==n&&(t.minHeight=r.measure({value:n,id:a})))}return t}getClippedRect(e){let t=this.getElement("object"==typeof e?e.id:e),{defaultView:r}=t.ownerDocument,o=this.getBoundingClientRect(t);for(let e=t.offsetParent;e&&o&&e!==document.documentElement;e=e.parentElement)"visible"!==r.getComputedStyle(e).getPropertyValue("overflow")&&(o=o.intersects(this.getBoundingClientRect(e)));return o}getElement(e){return(e?.nodeType?e:Neo.config.useDomIds?document.getElementById(e):document.querySelector(`[data-neo-id='${e}']`))||null}getElementOrBody(e="document.body"){return e?e.nodeType?e:"body"===e||"document.body"===e?document.body:this.getElement(e):null}getScrollingDimensions(e){let t=this;if(Array.isArray(e.id))return e.id.map(e=>t.getScrollingDimensions({id:e}));{let r=e.nodeType?e:t.getElementOrBody(e.id);return{clientHeight:r?.clientHeight,clientWidth:r?.clientWidth,scrollHeight:r?.scrollHeight,scrollWidth:r?.scrollWidth}}}initGlobalListeners(){let e=this;document.addEventListener("blur",e.onDocumentBlur.bind(e),d),document.addEventListener("keydown",e.onDocumentKeyDown.bind(e),d),document.addEventListener("keyup",e.onDocumentKeyUp.bind(e),d),document.addEventListener("mousedown",e.onDocumentMouseDown.bind(e),{capture:!0})}isAlignSubject(e){return[...this._aligns?.values()].some(t=>t.subject===e)}loadScript(e,t={defer:!0}){let r;return new Promise((o,n)=>{r=document.createElement("script"),Object.assign(r,{...t,onerror:n,onload:o,src:e}),document.head.appendChild(r)})}loadStylesheet(e,t=null){let r;return new Promise((o,n)=>{r=document.createElement("link"),Object.assign(r,{href:e,onerror:n,onload:o,rel:"stylesheet",type:"text/css"}),t&&Object.assign(r.dataset,t),document.head.appendChild(r)})}measure({value:e,id:t}){const r=1===t.nodeType?t:this.getElement(t);if(e.endsWith("%")){const t=parseFloat(e)/100;return(r.offsetParent?.getBoundingClientRect().height||0)*t}if(isNaN(e)&&!e.endsWith("px")){const t=r.ownerDocument.defaultView.getComputedStyle(r);let o=this._measuringDiv;o||(o=this._measuringDiv=document.createElement("div"),o.style="position:fixed;top:-10000px;left:-10000px"),document.body.appendChild(o),u.forEach(e=>{o.style[e]=t[e]}),o.className=r.className,o.style.width=e,e=t.width}else e=parseFloat(e);return e}async monitorAutoGrow(e){const t=this,r=e.subject=t.getElement(e.id);r[e.autoGrow?"addEventListener":"removeEventListener"]("input",t.monitorAutoGrowHandler),e.autoGrow&&t.monitorAutoGrowHandler({target:r})}monitorAutoGrowHandler(e){const t=e.target||this.getElement(e.id);if(t){const{style:e}=t,{style:r}=t.closest(".neo-textarea");e.height=e.minHeight=0,r.setProperty("--textfield-input-height",`${t.scrollHeight+5}px`),r.setProperty("height",""),e.height=e.minHeight=""}}onDocumentBlur(){Neo.altKeyDown=Neo.controlKeyDown=Neo.metaKeyDown=Neo.shiftKeyDown=!1}onDocumentKeyDown(e){h[e.key]&&(Neo[`${i.A.uncapitalize(e.key)}KeyDown`]=!0)}onDocumentKeyUp(e){h[e.key]&&(Neo[`${i.A.uncapitalize(e.key)}KeyDown`]=!1)}onDocumentMutation(e){const t=this;e.every(({type:e,addedNodes:r,removedNodes:o})=>{if("childList"===e)return[...Array.from(r),...Array.from(o)].every(e=>t.isAlignSubject(e))})||t.syncAligns()}onDocumentMouseDown(e){let t=e.target?.closest("[data-focus]");t&&(e.preventDefault(),document.getElementById(t.dataset.focus)?.focus())}onDomContentLoaded(){Neo.config.applyBodyCls&&this.applyBodyCls({cls:["neo-body"]}),Neo.config.applyFixedPositionToHtmlTag&&document.documentElement.style.setProperty("position","fixed")}onGetOffscreenCanvas(e){let t=this.getElement(e.nodeId).transferControlToOffscreen();e.offscreen=t,Neo.worker.Manager.sendMessage(e.origin,{action:"reply",data:e,replyId:e.id,success:!0},[t])}onReadDom(e){let t,r,o=e.attributes||[],n=e.functions||[],s=e.styles||[],{vnodeId:i}=e,a={},l={},c={},d=i?this.getElement(i):null;o.forEach(e=>{a[e]=d[e]}),n.forEach((e,o)=>{Neo.isObject(e)?(e.params=e.params||[],e.paramIsDomNode=e.paramIsDomNode||[],r=e.scope?document[e.scope]:d,e.params.forEach((t,r)=>{!0===e.paramIsDomNode[r]&&(e.params[r]=this.getElement(e.params[r]))}),t=e.returnFnName?e.returnFnName:o,l[t]=r[e.fn](...e.params),e.returnValue&&(l[t]=l[t][e.returnValue])):l[e]=d[e]()}),s.forEach(e=>{c[e]=d.style[e]}),Object.assign(e,{attributes:a,functions:l,styles:c}),Neo.worker.Manager.sendMessage(e.origin,{action:"reply",data:e,replyId:e.id,success:!0})}onTrappedFocusMovement({target:e,relatedTarget:t}){const r=t&&4&e.compareDocumentPosition(t);if(e.matches(".neo-focus-trap")){const t=e.parentElement,o=t.$treeWalker,n=t.$topFocusTrap,s=t.$bottomFocusTrap;o.currentNode=r?s:n,o[r?"previousNode":"nextNode"](),requestAnimationFrame(()=>o.currentNode.focus())}}read(e){Neo.isFunction(e)&&e()}resetDimensions(e){Object.assign(this.getElement(e.id).style,{flex:e.configuredFlex,height:e.configuredHeight,maxHeight:e.configuredMaxHeight,maxWidth:e.configuredMaxWidth,minHeight:e.configuredMinHeight,minWidth:e.configuredMinWidth,width:e.configuredWidth})}scrollBy({behavior:e="auto",direction:t="top",id:r,value:o}){return this.getElement(r)?.scrollBy({behavior:e,[t]:o}),{id:r}}scrollIntoView({id:e,behavior:t="smooth",block:r="start",delay:o=500,inline:n="nearest",querySelector:s}){let i=e?this.getElement(e):document.querySelector(s),a={behavior:t,block:r,inline:n};if("smooth"===t)return new Promise(e=>{if(i){let t="scrollend"in window;t&&document.addEventListener("scrollend",()=>e(),{capture:!0,once:!0}),i.scrollIntoView(a),!t&&this.timeout(o).then(()=>{e()})}else e()});i.scrollIntoView(a)}scrollTo({behavior:e="auto",direction:t="top",id:r,value:o}){return this.getElement(r)?.scrollTo({behavior:e,[t]:o}),{id:r}}scrollToTableRow({id:e,behavior:t="smooth",offset:r=34}){let o=this.getElement(e);if(o){let e=o.parentNode.parentNode,n=e.parentNode,s=e.getBoundingClientRect().top,i=o.getBoundingClientRect().top;n.scrollTo({behavior:t,top:i-s-r})}return{id:e}}selectNode(e){let t=this.getElement(e.id),r=Neo.isNumber(e.start)?e.start:0,o=Neo.isNumber(e.end)?e.end:99999;return t&&(t.select(),t.setSelectionRange(r,o)),{id:e.id}}setBodyCls(e){document.body.classList.remove(...e.remove||[]),document.body.classList.add(...e.add||[])}setStyle(e){let t=this.getElementOrBody(e.id);return t&&Object.entries(e.style).forEach(([e,r])=>{Neo.isString(r)&&r.includes("!important")?(r=r.replace("!important","").trim(),t.style.setProperty(Neo.decamel(e),r,"important")):t.style[Neo.decamel(e)]=r}),{id:e.id}}syncAligns(){const e=this,{_aligns:t}=e;t?.forEach(r=>{const o=document.contains(r.targetElement);if(document.contains(r.subject)&&o)e.align(r);else{o||Neo.worker.App.setConfigs({id:r.id,hidden:!0});const{_alignResizeObserver:n}=e,{constrainToElement:s}=r;n.unobserve(r.subject),n.unobserve(r.offsetParent),n.unobserve(r.targetElement),s&&n.unobserve(s),r.subject.classList.remove(`neo-aligned-${r.result?.position}`),t.delete(r.id)}})}syncModalMask({id:e,modal:t}){const r=e&&this.getElement(e);if(r&&t&&r.ownerDocument.contains(r)&&"none"!==r.ownerDocument.defaultView.getComputedStyle(r).getPropertyValue("display"))document.body.insertBefore(this.modalMask,r);else{const e=document.querySelectorAll(".neo-modal"),t=e[e.length-1];t?this.syncModalMask({id:t.id,modal:!0}):this._modalMask?.remove()}}async trapFocus(e){const t=this,r=t.$boundOnTrappedFocusMovement||(t.$boundOnTrappedFocusMovement=t.onTrappedFocusMovement.bind(t)),o=e.subject=t.getElement(e.id),{trap:n=!0}=e;if(!o)return;let s=o.$topFocusTrap,i=o.$bottomFocusTrap;n?(o.$treeWalker||(o.$treeWalker=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,{acceptNode:l}),s=o.$topFocusTrap=document.createElement("div"),i=o.$bottomFocusTrap=document.createElement("div"),s.className=i.className="neo-focus-trap",s.setAttribute("tabIndex",0),i.setAttribute("tabIndex",0),o.addEventListener("focusin",r)),o.insertBefore(s,o.firstChild),o.appendChild(i)):o.removeEventListener("focusin",r)}windowScrollTo(e){window.scrollTo({behavior:e.behavior||"smooth",left:e.left||0,top:e.top||0})}}const m=Neo.setupClass(p)},406:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});const o=Object.freeze([]),n=(e=0)=>{switch(Array.isArray(e)||(e=[e]),e.length){case 1:return e.length=4,e.fill(e[0],1,4);case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]]}return e},s=e=>{const t=a[e.ourEdge],r=a[e.theirEdge];return`${t}${e.ourEdgeOffset}${e.ourEdgeUnit}-${r}${e.theirEdgeOffset}${e.theirEdgeUnit}`},i=e=>{const t=e instanceof DOMRect?e:(1===e?.nodeType?e:"string"==typeof e?document.getElementById(e):null)?.getBoundingClientRect();return t&&new m(t.x,t.y,t.width,t.height)},a={t:"b",r:"l",b:"t",l:"r"},l={t:0,r:1,b:2,l:3},c=["top","right","bottom","left"],d=["t","r","b","l"],u=["width","height"],h=[0,0,0,0],p=/^([trblc])(\d*)(%|px)?-([trblc])(\d*)(%|px)?$/;class m extends DOMRect{static config={className:"Neo.util.Rectangle"};minHeight=null;minWidth=null;static excludes(e,t){return e.bottom<t.top||e.left>t.right||e.right<t.left||e.top>t.bottom}static getIntersection(e,t){let r=Math.max(e.x,t.x),o=Math.max(e.y,t.y),n=Math.min(e.right,t.right),s=Math.min(e.bottom,t.bottom),i=Math.max(0,n-r),a=Math.max(0,s-o);return a<1||i<1?null:new m(r,o,i,a)}static includes(e,t){return e.bottom>=t.bottom&&e.left<=t.left&&e.right>=t.right&&e.top<=t.top}static leavesSide(e,t,r){return!m.includes(e,t)&&("bottom"===r?e.bottom<t.bottom:"left"===r?e.left>t.left:"right"===r?e.right<t.right:"top"===r?e.top>t.top:void 0)}static moveBy(e,t=null,r=null){let o={...e};return Neo.isNumber(t)&&(o.left+=t,o.right+=t,o.x+=t),Neo.isNumber(r)&&(o.bottom+=r,o.top+=r,o.y+=r),o}static moveTo(e,t=null,r=null){let o={...e};return Neo.isNumber(t)&&(o.left=t,o.right=t+o.width,o.x=t),Neo.isNumber(r)&&(o.bottom=r+o.height,o.top=r,o.y=r),o}set bottom(e){this.height+=e-this.bottom}get bottom(){return super.bottom}set right(e){this.width+=e-this.right}get right(){return super.right}changeX(e){const t=this.x-e;this.x=e,this.width+=t}changeY(e){const t=this.y-e;this.y=e,this.height+=t}clone(){return m.clone(this)}static clone(e){const t=new m(e.x,e.y,e.width,e.height);return t.minWidth=e.minWidth,t.minHeight=e.minHeight,t}intersects(e){const t=this;if(e.height&&e.width){const r=Math.max(t.x,e.x),o=Math.max(t.y,e.y),n=Math.min(t.x+t.width,e.x+e.width),s=Math.min(t.y+t.height,e.y+e.height);return!(r>=n||o>=s)&&new m(r,o,n-r,s-o)}return e.x>=t.x&&e.y>=t.y&&e.right<=t.right&&e.bottom<=t.bottom}contains(e){return this.bottom>=e.bottom&&this.left<=e.left&&this.right>=e.right&&this.top<=e.top}expand(e){return e=n(e),new this.constructor(this.x-e[3],this.y-e[0],this.width+e[1]+e[3],this.height+e[0]+e[2])}moveBy(e=0,t=0){const r=this.clone();return Array.isArray(e)&&(t=e[1],e=e[0]),r.x+=e,r.y+=t,r}contains(e){return this.constructor.includes(this,e)}constrainTo(e){const t=this,r=t.minWidth||t.width;if((t.minHeight||t.height)>e.height||r>e.width)return!1;const o=t.clone();return o.x=Math.max(t.x+Math.min(e.right-o.right,0),e.x),o.y=Math.max(t.y+Math.min(e.bottom-o.bottom,0),e.y),o.bottom=Math.min(o.bottom,e.bottom),o.right=Math.min(o.right,e.right),o}alignTo(e){const t=this,{constrainTo:r,target:o,edgeAlign:m,axisLock:g,offset:f,matchSize:y}=e,b=e.targetMargin?n(e.targetMargin):h,v=i(o),N=i(r),w=(e=>{const t=p.exec(e),r=l[t[1]],o=l[t[4]];return{ourEdge:t[1],ourEdgeOffset:parseInt(t[2]||50),ourEdgeUnit:t[3]||"%",ourEdgeZone:r,theirEdge:t[4],theirEdgeOffset:parseInt(t[5]||50),theirEdgeUnit:t[6]||"%",theirEdgeZone:o,edgeAligned:(1&r)==(1&o)&&r!==o}})(m),E=u[1&w.theirEdgeZone];let C=t.clone();y&&(C[E]=v[E]);const A=C.getAnchorPoint(w.ourEdgeZone,w.ourEdgeOffset,w.ourEdgeUnit),S=v.getAnchorPoint(w.theirEdgeZone,w.theirEdgeOffset,w.theirEdgeUnit,b),M=[S[0]-A[0],S[1]-A[1]];if(C=C.moveBy(M),C.zone=w.theirEdgeZone,C.position=c[C.zone],N&&!N.contains(C)){if(v.intersects(C))return C;let e=w.theirEdgeZone;const r=[{zone:e,edgeAlign:m}];if(g)r[1]={zone:e=(e+2)%4,edgeAlign:s(w)},r.push({zone:e=(w.theirEdgeZone+1)%4,edgeAlign:`${a[d[e]]}-${d[e]}`}),r.push({zone:e=(w.theirEdgeZone+3)%4,edgeAlign:`${a[d[e]]}-${d[e]}`});else for(let t=1;t<4;t++)r.push({zone:e=(e+1)%4,edgeAlign:`${a[d[e]]}-${d[e]}`});for(let e=0;e<r.length;e++){const t=N.clone();switch(r[e].zone){case 0:t.bottom=v.y-b[0];break;case 1:t.changeX(v.right+b[1]);break;case 2:t.changeY(v.bottom+b[2]);break;case 3:t.right=v.x-b[3]}r[e].constrainRect=t}for(let e=0;e<r.length;e++){const{zone:o,edgeAlign:n,constrainRect:s}=r[e],i=d[o];y&&(C[E]=i===w.theirEdge||i==a[w.theirEdge]?v[E]:t[E]),C=C.alignTo({target:v,edgeAlign:n,targetMargin:b});let l=C.constrainTo(s);if(l)return l.zone=o,l.position=c[o],l}}return f&&C.moveBy(f),C}getAnchorPoint(e,t,r,n=o){const s=this;let i;switch(e){case 0:i=[s.x,s.y-(n[0]||0),s.width,0];break;case 1:i=[s.x+s.width+(n[1]||0),s.y,s.height,1];break;case 2:i=[s.x,s.y+s.height+(n[2]||0),s.width,0];break;case 3:i=[s.x-(n[3]||0),s.y,s.height,1]}return i[i[3]]+="%"===r?i[2]/100*t:t,i.length=2,i}equals(e){return e instanceof DOMRect&&e.x===this.x&&e.y===this.y&&e.height===this.height&&e.width===this.width}show(e="red"){const t=document.createElement("div");return t.style=`\n            position:absolute;\n            transform:translate3d(${this.x}px, ${this.y}px, 0);\n            height:${this.height}px;\n            width:${this.width}px;\n            background-color:${e}\n        `,document.body.appendChild(t),setTimeout(()=>t.remove(),3e4),t}toJSON(){const{bottom:e,height:t,left:r,minHeight:o,minWidth:n,right:s,top:i,width:a,x:l,y:c}=this;return{bottom:e,height:t,left:r,minHeight:o,minWidth:n,right:s,top:i,width:a,x:l,y:c}}}},439:(e,t,r)=>{"use strict";function o(e,t,r=300){let o;const n=function(...s){clearTimeout(o),n.isPending=!0,o=setTimeout(()=>{o=0,n.isPending=!1,e.apply(t,s)},r)};return n.cancel=()=>{n.isPending=!1,clearTimeout(o)},n}function n(e,t,r=300){let o;return function(...n){Neo.isNumber(o)?(clearTimeout(o),o=setTimeout(()=>{t?.id&&e.apply(t,n),o=setTimeout(()=>{o=null},r)},r)):(t?.id&&e.apply(t,n),o=setTimeout(()=>{o=null},r))}}function s(e,t,r,o,n=null){let s=e[t];return e[t]=function(){return!1===r.apply(o||e,arguments)?n:s.apply(e,arguments)}}function i(e,t=this){if(Neo.isString(e)){if(!t[e]&&e.startsWith("up."))for(e=e.slice(3);!t[e]&&(t=t.parent););else t=t.getController?.()?.getHandlerScope(e,null)||t;e=t[e]}return{fn:e,scope:t}}function a(e,t,r=300){let o,n;return function(...s){o?(clearTimeout(n),n=setTimeout(function(){Date.now()-o>=r&&(t?.id&&e.apply(t,s),o=Date.now())},r-(Date.now()-o))):(t?.id&&e.apply(t,s),o=Date.now())}}r.d(t,{Ap:()=>i,Zc:()=>s,nF:()=>a,r:()=>o,sg:()=>n}),Symbol("originalMethod"),Symbol("sequencedFns")},528:()=>{"use strict";class e{static decamelRegEx=/([a-z])([A-Z])/g;static bindMethods(e,t){t.forEach(t=>{e[t]=e[t].bind(e)})}static createStyleObject(e){let t;return e.split(/;(?=[^\)]*(?:\(|$))/g).reduce((e,r)=>(t=r.split(/:(.+)/).map(function(e){let t=parseFloat(e);return e==t?t:e.trim()}),""!==t[0]&&(t[0]=t[0].replace(/-([a-z])/g,(e,t)=>t.toUpperCase()),e[t[0]]=t[1]),e),{})}static createStyles(t){let r="";return Object.entries(t).forEach(([t,o])=>{null!=o&&(r+=e.decamel(t)+":"+o+";")}),r}static decamel(t){return t.replace(e.decamelRegEx,"$1-$2").toLowerCase()}static isArray(e){return Array.isArray(e)}static isBoolean(e){return"boolean"==typeof e}static isDefined(e){return void 0!==e}static isEmpty(t){return null==t||(Array.isArray(t)?0===t.length:!(t instanceof Date||(e.isObject(t)?0!==Object.keys(t).length:!e.isString(t)||""!==t)))}static isFunction(e){return"function"==typeof e}static isNumber(e){return"number"==typeof e&&isFinite(e)}static isObject(e){return"Object"===e?.constructor?.name}static isPromise(e){return"function"==typeof e?.then}static isRecord(e){return"Record"===e?.constructor?.name}static isString(e){return"string"==typeof e}static toArray(e,t,r){let o;return e&&(o=e.length)?"string"==typeof e?e.split(""):Array.prototype.slice.call(e,t||0,r||o):[]}}Neo.ns("Neo.core",!0).Util=e,Neo.applyFromNs(Neo,e,{bindMethods:"bindMethods",createStyleObject:"createStyleObject",createStyles:"createStyles",decamel:"decamel",isArray:"isArray",isBoolean:"isBoolean",isDefined:"isDefined",isEmpty:"isEmpty",isFunction:"isFunction",isNumber:"isNumber",isObject:"isObject",isPromise:"isPromise",isRecord:"isRecord",isString:"isString",toArray:"toArray"},!0)},561:()=>{"use strict";class e{static map={Array:"compareArrays",Date:"compareDates",Function:"compareFunctions",Map:"compareMaps",NeoInstance:"compareNeoInstances",Object:"compareObjects",RegExp:"compareRegExps",Set:"compareSets"};static compareArrays(t,r){if(t.length!==r.length)return!1;for(const[o,n]of t.entries())if(!e.isEqual(n,r[o]))return!1;return!0}static compareDates(e,t){return e.valueOf()===t.valueOf()}static compareFunctions(e,t){return e.name===t.name&&e.toString()===t.toString()}static compareMaps(e,t){if(e.size!==t.size)return!1;let r;for(const[o,n]of e)if(r=t.get(o),r!==n||void 0===r&&!t.has(o))return!1;return!0}static compareNeoInstances(e,t){return e.id===t.id}static compareObjects(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(let o in t)if(!e.isEqual(t[o],r[o]))return!1;return!0}static compareRegExps(e,t){return e.toString()===t.toString()}static compareSets(e,t){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}static isEqual(t,r){if(t===r)return!0;let o=Neo.typeOf(t);return o===Neo.typeOf(r)&&(e.map[o]?e[e.map[o]](t,r):t===r)}}Neo.ns("Neo.core",!0).Compare=e,Neo.isEqual=e.isEqual},596:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var o=r(110);class n extends o.A{static charEntityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;",$:"&dollar;","\\":"&bsol;","/":"&sol;"};static charPattern=/[&<>"'$\\]/g;static entityPattern=/(&amp;)|(&lt;)|(&gt;)|(&quot;)|(&apos;)|(&dollar;)|(&bsol;)|(&sol;)/g;static config={className:"Neo.util.String"};static escapeHtml(e){let t=this;return Neo.isString(e)?e.replace(t.charPattern,t.getEntityFromChar.bind(t)):e}static getCharFromEntity(e){return Object.keys(this.charEntityMap).find(t=>this.charEntityMap[t]===e)||e}static getEntityFromChar(e){return this.charEntityMap[e]||e}static unescapeHtml(e){let t=this;return Neo.isString(e)?e.replace(t.entityPattern,t.getCharFromEntity.bind(t)):e}static uncapitalize(e){return e&&e[0].toLowerCase()+e.substring(1)}}const s=Neo.setupClass(n)},644:(e,t,r)=>{var o={"./AmCharts.mjs":[337,718],"./AnalyticsByGoogle.mjs":[647,647],"./Base.mjs":[96,96],"./CesiumJS.mjs":[104,104],"./CloneNode.mjs":[582,582],"./Cookie.mjs":[741,741],"./DragDrop.mjs":[650,650],"./FileSystemAccess.mjs":[432,51],"./GoogleMaps.mjs":[803,803],"./HighlightJS.mjs":[264,264],"./IntersectionObserver.mjs":[666,666],"./LocalStorage.mjs":[375,375],"./MapboxGL.mjs":[391,391],"./Markdown.mjs":[51,432],"./MonacoEditor.mjs":[265,265],"./Mwc.mjs":[790,790],"./Navigator.mjs":[942,942],"./Popover.mjs":[190,190],"./PrefixField.mjs":[89,89],"./ResizeObserver.mjs":[789,789],"./ScrollSync.mjs":[393,393],"./ServiceWorker.mjs":[274,274],"./Siesta.mjs":[25,406],"./Stylesheet.mjs":[487,487],"./WebComponent.mjs":[883,883],"./WindowPosition.mjs":[682,682]};function n(e){if(!r.o(o,e))return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=o[e],n=t[0];return r.e(t[1]).then(()=>r(n))}n.keys=()=>Object.keys(o),n.id=644,e.exports=n},691:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var o=r(110),n=r(270),s=r(439);class i extends o.A{static config={className:"Neo.core.Observable",ntype:"mixin-observable",mixin:!0};addListener(e,t,r,o,n,s){let i,a,l,c=this,d=0,u="object"==typeof e,h=!1,p=typeof t;if("object"==typeof o&&"function"===p&&(o.fn=t,t=o,p="object",o=null),u)e.hasOwnProperty("delay")&&(d=e.delay,delete e.delay),e.hasOwnProperty("once")&&(h=e.once,delete e.once),e.hasOwnProperty("order")&&(s=e.order,delete e.order),e.hasOwnProperty("scope")&&(r=e.scope,delete e.scope),Object.entries(e).forEach(([e,t])=>{Neo.isObject(t)?c.addListener(e,{delay:d,once:h,order:s,scope:r,...t}):c.addListener(e,{delay:d,fn:t,once:h,order:s,scope:r})});else if("object"===p)d=d||t.delay,o=o||t.eventId,i=t.fn,h=h||t.once,s=s||t.order,r=r||t.scope;else if("function"===p)i=t;else{if("string"!==p)throw new Error("Invalid addListener call: "+e);i=t}return u?null:(l={fn:i,id:o||Neo.getId("event")},n&&(l.data=n),d>0&&(l.delay=d),h&&(l.once=h),r&&(l.scope=r),(a=c.listeners?.[e])?(a.forEach(t=>{(t.id===o||t.fn===i&&t.scope===r)&&console.error("Duplicate event handler attached:",e,c)}),"number"==typeof s?a.splice(s,0,l):"before"===s?a.unshift(l):a.push(l)):c.listeners[e]=[l],l.id)}callback(e,t=this,r){if(e){const o=(0,s.Ap)(e,t);o.fn.apply(o.scope,r)}}delayedCallback(e,t,r){this.timeout(r).then(()=>{e.fn.apply(e.scope,t)})}fire(e){let t,r,o,i,a,l=this,c=[].slice.call(arguments,1),d=l.listeners;if(d&&d[e])for(o=[...d[e]],a=o.length,i=0;i<a;i++){r=o[i],t=r.delay;const a=(0,s.Ap)(r.fn,r.scope||l);a.scope&&!a.scope.id?n.A.remove(d[e],r):l.suspendEvents||(1===c.length&&Neo.isObject(c[0])&&(c[0].source=l.id),r.once&&n.A.remove(d[e],r),Neo.isNumber(t)&&t>0?l.delayedCallback(a,r.data?c.concat(r.data):c,t):a.fn.apply(a.scope,r.data?c.concat(r.data):c))}}initObservable(e){let t,r=this,o=r.__proto__,n=o.constructor;for(e.listeners&&(r.listeners=e.listeners,delete e.listeners),t=r.listeners,r.listeners={},t&&(Neo.isObject(t)&&(t={...t}),r.addListener(t));o?.constructor.isClass;)n=o.constructor,n.observable&&!n.listeners&&Object.assign(n,{addListener:r.addListener,fire:r.fire,listeners:{},on:r.on,removeListener:r.removeListener,un:r.un}),o=o.__proto__}on(...e){return this.addListener(...e)}removeListener(e,t,r){let o,n,s,i,a,l=this;Neo.isFunction(t)?l.removeListener({[e]:t,scope:r}):Neo.isObject(e)?(e.scope&&(r=e.scope,delete e.scope),Object.entries(e).forEach(([e,t])=>{for(i=l.listeners[e]||[],o=0,n=i.length;o<n;o++)if(s=i[o],s.fn.name===(Neo.isString(t)?t:t.name)&&s.scope===r){i.splice(o,1);break}})):Neo.isString(t)&&(i=l.listeners[e],a=!1,i.forEach((e,r)=>{if(e.id===t)return a=r}),!1!==a&&i.splice(a,1))}un(...e){this.removeListener(...e)}}const a=Neo.setupClass(i)},994:(e,t,r)=>{"use strict";r.d(t,{yL:()=>o}),new Set(["circle","clipPath","ellipse","filter","foreignObject","image","marker","mask","pattern","rect","svg","use"]);const o=new Set(["checked","defer","disabled","ismap","multiple","nohref","noresize","noshade","nowrap","open","readonly","required","reversed","selected"]);new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"])}},o={};function n(e){var t=o[e];if(void 0!==t)return t.exports;var s=o[e]={exports:{}};return r[e](s,s.exports,n),s.exports}n.m=r,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"chunks/main/"+e+".js",n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="neo.mjs:",n.l=(r,o,s,i)=>{if(e[r])e[r].push(o);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+s){a=u;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[o];var h=(t,o)=>{a.onerror=a.onload=null,clearTimeout(p);var n=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),n&&n.forEach(e=>e(o)),t)return t(o)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var s=new Promise((r,n)=>o=e[t]=[r,n]);r.push(o[2]=s);var i=n.p+n.u(t),a=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var s=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",a.name="ChunkLoadError",a.type=s,a.request=i,o[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var o,s,[i,a,l]=r,c=0;if(i.some(t=>0!==e[t])){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);l&&l(n)}for(t&&t(r);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";const e=globalThis.Neo||{};e.config=e.config||{};const t={applyBodyCls:!0,applyFixedPositionToHtmlTag:!0,appPath:null,basePath:"./",enableComponentLogger:!0,enableLogsInProduction:!1,environment:"dist/production",isGitHubPages:!0,isInsideSiesta:!1,loadApplicationDelay:20,locale:"default",logDeltaUpdates:!1,logVdomUpdateCollisions:!1,mainThreadAddons:["DragDrop","Navigator","Stylesheet"],remotesApiUrl:null,renderCountDeltas:!1,themes:["neo-theme-light","neo-theme-dark","neo-theme-neo-light"],unitTestMode:!1,useCanvasWorker:!1,useDomApiRenderer:!0,useDomIds:!0,useFontAwesome:!0,useGoogleAnalytics:!1,useServiceWorker:!1,useSharedWorkers:!1,useTaskWorker:!1,useVdomWorker:!0,version:"10.0.0-beta.4"};Object.assign(t,{resourcesPath:`${e.config.basePath||t.basePath}resources/`,workerBasePath:`${e.config.basePath||t.basePath}src/worker/`});const r=t;n(17);const o=/-./g,s=Symbol.for("configSymbol"),i=Symbol("getSetCache"),a={function:e=>{if(e.prototype?.constructor.isClass)return"NeoClass"},object:e=>{if(e.constructor.isClass&&e instanceof l.core.Base)return"NeoInstance"}};let l=globalThis.Neo||{};l=globalThis.Neo=Object.assign({ntypeMap:{},insideWorker:"undefined"!=typeof DedicatedWorkerGlobalScope||"undefined"!=typeof WorkerGlobalScope,applyFromNs(e,t,r,o){let n;return e&&"Object"===l.typeOf(r)&&Object.entries(r).forEach(([r,s])=>{n=t[s],e[r]=o?n.bind(t):n}),e},applyToGlobalNs(e){let t="function"==typeof e?e.prototype:e,r=(t.isClass?t.config.className:t.className).split("."),o=r.pop();l.ns(r,!0)[o]=e},assignDefaults:(e,t)=>(e&&"Object"===l.typeOf(t)&&Object.entries(t).forEach(([t,r])=>{Object.hasOwn(e,t)||(e[t]=r)}),e),assignToNs(e,t,r=globalThis,o=!0){let n;(e=Array.isArray(e)?e:e.split(".")).length>1?(n=e.pop(),r=l.ns(e,!0,r)):n=e,(o||void 0===r[n])&&(r[n]=t)},camel:e=>e.replace(o,e=>e[1].toUpperCase()),capitalize:e=>e[0].toUpperCase()+e.slice(1),clone(e,t=!1,r=!1){let o;return{Array:()=>t?[...e.map(e=>l.clone(e,t,r))]:[...e],Date:()=>new Date(e.valueOf()),Map:()=>new Map(e),NeoInstance:()=>r?e:this.cloneNeoInstance(e),Set:()=>new Set(e),Object:()=>(o={},Object.entries(e).forEach(([e,n])=>{o[e]=t?l.clone(n,t,r):n}),o)}[l.typeOf(e)]?.()||e},cloneNeoInstance(e){let t={...e.originalConfig};return delete t._id,delete t.id,l.create(e.className,t)},create(e,t){let r,o,n=l.typeOf(e);if("NeoClass"===n)r=e;else{if("Object"===n){if(!(t=e).className&&!t.module)return console.error("Class created with object configuration missing className or module property",t),null;e=t.className||t.module.prototype.className}if(!p(e))throw new Error("Class "+e+" does not exist");r=l.ns(e)}return o=new r,o.construct(t),o.onConstructed(),o.onAfterConstructed(),o.init(),o},emptyFn(){},hasPropertySetter(e,t){let r;for(;e.__proto__;){if(r=Object.getOwnPropertyDescriptor(e,t),"object"==typeof r&&"function"==typeof r.set)return!0;e=e.__proto__}return!1},merge(e,t,r){if(r)return l.merge(l.merge(e,r),t);for(const r in t){const o=t[r];"Object"===l.typeOf(o)?e[r]=l.merge(e[r]||{},o):e[r]=o}return e},ns:(e,t=!1,r)=>(e=Array.isArray(e)?e:e.split(".")).reduce((e,r)=>{if(t&&!e[r]&&(e[r]={}),e)return e[r]},r||globalThis),nsWithArrays:(e,t=!1,r)=>(e=Array.isArray(e)?e:e.split(".")).reduce((e,r)=>{if(t&&!e[r]){if(r.endsWith("]"))return h(!0,r,e);e[r]={}}if(e)return r.endsWith("]")?h(!1,r,e):e[r]},r||globalThis),ntype(e,t){if("object"==typeof e){if(!(t=e).ntype)throw new Error("Class defined with object configuration missing ntype property. "+t.ntype);e=t.ntype}let r=l.ntypeMap[e];if(!r)throw new Error("ntype "+e+" does not exist");return l.create(r,t)},setupClass(e){let t,r,o,n,a,c=null,d=[],{ntypeMap:u}=l,h=e.prototype||e,f=l.ns(h.constructor.config.className,!1),y=[];if(f)return f;for(;h.__proto__;){if(o=h.constructor,Object.hasOwn(o,"classConfigApplied")){c=l.clone(o.config,!0),d=[...o.ntypeChain];break}y.unshift(h),h=h.__proto__}return r=c||{},y.forEach(n=>{let c;if(o=n.constructor,t=o.config||{},l.overwrites&&o.applyOverwrites?.(t),Object.entries(t).forEach(([e,r])=>{"_"===e.slice(-1)?(delete t[e],e=e.slice(0,-1),t[e]=r,function(e,t){if(l.hasPropertySetter(e,t))throw"Config "+t+"_ ("+e.className+") already has a set method, use beforeGet, beforeSet & afterSet instead";const r="_"+t,o=t[0].toUpperCase()+t.slice(1),n="beforeGet"+o,a="beforeSet"+o,c="afterSet"+o;if(l[i]||(l[i]={}),!l[i][t]){const e={get(){let e=this,o=Object.hasOwn(e[s],t),i=e[s][t],a=o?i:e[r];return Array.isArray(a)?"items"!==t&&(a=[...a]):a instanceof Date&&(a=new Date(a.valueOf())),o&&(e[t]=a,a=e[r],delete e[s][t]),"function"==typeof e[n]&&(a=e[n](a)),a},set(e){if(void 0===e)return;const r=this.getConfig(t);if(!r)return;let o=this,n=r.get();delete o[s][t],"items"!==t&&"vnode"!==t&&(e=l.clone(e,!0,!0)),"function"==typeof o[a]&&void 0===(e=o[a](e,n))||r.set(e)&&(o[c]?.(e,n),o.afterSetConfig?.(t,e,n))}},o={get(){return this.getConfig(t)?.get()},set(e){this.getConfig(t)?.setRaw(e)}};l[i][t]=e,l[i][r]=o}Object.defineProperty(e,t,l[i][t]),Object.defineProperty(e,r,l[i][r])}(n,e)):l.hasPropertySetter(n,e)||Object.defineProperty(n,e,{enumerable:!0,value:r,writable:!0})}),Object.hasOwn(t,"ntype")){if(a=t.ntype,d.unshift(a),Object.hasOwn(u,a)&&t.className!==u[a])throw new Error(`ntype conflict for '${a}' inside the classes:\n${u[a]}\n${t.className}`);u[a]=t.className}c=Object.hasOwn(r,"mixins")&&r.mixins||[],o.observable&&c.push("Neo.core.Observable"),Object.hasOwn(t,"mixins")&&Array.isArray(t.mixins)&&t.mixins.length>0&&c.push(...t.mixins),c.length>0&&(function(e,t){Array.isArray(t)||(t=[t]);let r,o,n,s=0,i=t.length,a={};for(;s<i;s++){if(r=t[s],r.isClass)n=r.prototype,o=l.ns(n.className);else{if(!p(r))throw new Error("Attempting to mixin an undefined class: "+r+", "+e.prototype.className);o=l.ns(r),n=o.prototype}n.className.split(".").reduce(g(o),a),Object.getOwnPropertyNames(n).forEach(m(e.prototype,n))}e.prototype.mixins=a}(o,c),l.ns("Neo.core.Observable",!1,o.prototype.mixins)&&(o.observable=!0)),delete t.mixins,delete r.mixins,Object.assign(r,t),Object.assign(o,{classConfigApplied:!0,config:l.clone(r,!0),isClass:!0,ntypeChain:d}),!r.singleton&&this.applyToGlobalNs(e)}),h=e.prototype||e,d.forEach(e=>{h[`is${l.capitalize(l.camel(e))}`]=!0}),h.singleton&&(e=l.create(e),l.applyToGlobalNs(e)),n={className:h.className,module:e,ntype:Object.hasOwn(h,"ntype")?h.ntype:null,parentClassName:h.__proto__?.className||null},l.manager?.ClassHierarchy?l.manager.ClassHierarchy.add(n):(l.classHierarchyMap??={},l.classHierarchyMap[h.className]=n),e},typeOf:e=>null==e?null:a[typeof e]?.(e)||e.constructor.name},l);const c=["_name","classConfigApplied","className","constructor","isClass","mixin","ntype","observable"],d=/\d+/g,u=/^(\w+)\s*((?:\[\s*\d+\s*\]\s*)*)$/;function h(e,t,r){let o,n,s=(l=t,(u.exec(l)||[null]).slice(1).reduce((e,t)=>[e].concat(t.match(d)))),i=1,a=s.length;var l;if(e?r[s[0]]=n=r[s[0]]||[]:n=r[s[0]],n){for(;i<a;i++)o=parseInt(s[i]),e&&(n[o]=n[o]||{}),n=n[o];return n}}function p(e){try{return!!e.split(".").reduce((e,t)=>e[t],globalThis)}catch(e){return!1}}function m(e,t){return function(r){if(!~c.indexOf(r)){if(e[r]?._from){if(t.className===e[r]._from)return void console.warn("Mixin set multiple times or already defined on a Base Class",e.className,t.className,r);throw new Error(`${e.className}: Multiple mixins defining same property (${t.className}, ${e[r]._from}) => ${r}`)}e[r]=t[r],Object.getOwnPropertyDescriptor(e,r)._from=t.className,"function"==typeof e[r]&&(e[r]._name=r)}}}function g(e){return(t,r,o,n)=>t[r]=o!==n.length-1?t[r]||{}:e}l.config=l.config||{},l.assignDefaults(l.config,r);const f=l;var y=n(110);n(561),n(358),n(691),n(528);class b extends y.A{static observable=!0;static operators=["==","===","!=","!==","<","<=",">",">=","endsWith","excluded","included","isDefined","isUndefined","like","startsWith"];static config={className:"Neo.collection.Filter",ntype:"filter",disabled_:!1,filterBy_:null,includeEmptyValues:!0,isUpdating_:!1,listenerApplied:!1,operator_:"===",property_:"id",scope:null,value_:null};afterSetDisabled(...e){this.fireChangeEvent(...e)}afterSetFilterBy(e,t){}afterSetIsUpdating(e,t){!1===e&&this.fireChangeEvent(e,t)}afterSetOperator(...e){this.fireChangeEvent(...e)}afterSetProperty(...e){this.fireChangeEvent(...e)}afterSetValue(...e){this.fireChangeEvent(...e)}beforeSetFilterBy(e,t){return e&&"function"!=typeof e?(Neo.logError("filterBy has to be a function",this),t):e}beforeSetOperator(e,t){return this.beforeSetEnumValue(e,t,"operator")}export(){let{operator:e,property:t,value:r}=this;return this.filterBy?null:{operator:e,property:t,value:r}}fireChangeEvent(e,t){let r=this;if(void 0!==t&&!0!==r.isUpdating){let{operator:e,property:t,value:o}=r;r.fire("change",{operator:e,property:t,value:o})}}isFiltered(e,t,r){let o,n,s=this;return!s._disabled&&(s._filterBy?s.filterBy.call(s.scope||s,{allItems:r,filteredItems:t,item:e,value:s._value}):(!s.includeEmptyValues||null!==s._value&&!Neo.isEmpty(s._value))&&(o=s._value,n=e[s._property],o instanceof Date&&n instanceof Date&&(o=o.valueOf(),n=n.valueOf()),!b[s._operator](n,o)))}static"=="(e,t){return e==t}static"==="(e,t){return e===t}static"!="(e,t){return e!=t}static"!=="(e,t){return e!==t}static"<"(e,t){return e<t}static"<="(e,t){return e<=t}static">"(e,t){return e>t}static">="(e,t){return e>=t}static endsWith(e,t){return Neo.isString(e)||(e=String(e)),Neo.isString(t)||(t=String(t)),e?.toLowerCase().endsWith(t?.toLowerCase())||!1}static excluded(e,t){return t.indexOf(e)<0}static included(e,t){return t.indexOf(e)>-1}static isDefined(e,t){return void 0!==e}static isUndefined(e,t){return void 0===e}static like(e,t){return Neo.isString(e)||(e=String(e)),Neo.isString(t)||(t=String(t)),e?.toLowerCase().includes(t?.toLowerCase())||!1}static startsWith(e,t){return Neo.isString(e)||(e=String(e)),Neo.isString(t)||(t=String(t)),e?.toLowerCase().startsWith(t?.toLowerCase())||!1}}const v=Neo.setupClass(b);class N extends y.A{static config={className:"Neo.util.Logger",level_:"info",singleton:!0};logChars={error:"E",info:"I",log:"L",warn:"W"};logColors={error:"indianred",info:"#acacac",log:"#448888",warn:"#6d6d00"};logLevels=["info","log","warn","error"];construct(e){super.construct(e);let t=this;Neo.applyFromNs(Neo,t,{error:"error",info:"info",log:"log",logError:"logError",warn:"warn"},!0),t.timeout(50).then(()=>{Neo.config.enableLogsInProduction||"dist/production"!==Neo.config.environment||(t.write=Neo.emptyFn)})}beforeSetLevel(e,t){return this.logLevels.indexOf(e)}error(e){throw new Error(e)}getCaller(){let e,t,r,o=(new Error).stack.split("\n"),n=!1;for(t in o)if(r=o[t],!n&&/Logger\.mjs/.test(r))n=!0;else if(n&&!/Logger\.mjs/.test(r)){r=r.replace(")",""),e=r.match(/([^\/]+)$/)[1].match(/([^ ]+)$/)[1];break}return e}info(...e){e=this.resolveArgs(...e),this.write(e,"info")}log(...e){e=this.resolveArgs(...e),this.write(e,"log")}logError(...e){e=this.resolveArgs(...e),this.write(e,"error")}onContextMenu(e){let{config:t}=Neo;if(t.enableComponentLogger&&("dist/production"!==t.env||!t.enableLogsInProduction)){let t,r=!1;e.path.forEach(e=>{t=Neo.getComponent(e.id,!1),t&&(r||(r=!0,console.group(e.id)),console.log(t))}),r&&console.groupEnd()}}resolveArgs(...e){let t=e[0],r={};return 1===e.length?Neo.isString(t)?r.msg=e[0]:Neo.isObject(t)&&(r=t):e.length>2&&(r.msg=e[0],r.data=e.slice(1)),r}warn(...e){e=this.resolveArgs(...e),this.write(e,"warn")}write(e,t){let r=this;if(r.beforeSetLevel(t)<r.level)return;console.log("#",e.msg,t);let o=r.logColors[t],n=r.logChars[t],s=`background-color:${o}; color: white; font-weight: 900;`,i=`color:${o};`,a=`[${r.getCaller()}] ${e.msg}`;e.data?(console.groupCollapsed(`%c ${n} %c ${a}`,s,i),console.log(e.data),console.groupEnd()):console.log(`%c ${n} %c ${a}`,s,i)}}const w=Neo.setupClass(N);n(270);class E extends y.A{static observable=!0;static config={className:"Neo.collection.Sorter",ntype:"sorter",directionMultiplier:1,direction_:"ASC",listenerApplied:!1,property_:"id",sortBy:null,useTransformValue:!0};afterSetDirection(e,t){let r=this;r.directionMultiplier="ASC"===e?1:-1,t&&r.fire("change",{direction:r.direction,property:r.property})}afterSetProperty(e,t){let r=this;t&&r.fire("change",{direction:r.direction,property:r.property})}defaultSortBy(e,t){let r=this;return e=e[r.property],t=t[r.property],r.useTransformValue&&(e=r.transformValue(e),t=r.transformValue(t)),e>t?1*r.directionMultiplier:e<t?-1*r.directionMultiplier:0}export(){let{direction:e,property:t}=this;return!this.sortBy&&e&&t?{direction:e,property:t}:null}transformValue(e){return"string"==typeof e&&(e=e.toLowerCase()),e}}const C=Neo.setupClass(E),A=Symbol("countMutations"),S=Symbol("isFiltered"),M=Symbol("isSorted"),D=Symbol("silentUpdateMode"),k=Symbol("toAddArray"),T=Symbol("toRemoveArray"),O=Symbol("updatingIndex");class x extends y.A{static observable=!0;static config={className:"Neo.collection.Base",ntype:"collection",allItems:null,autoSort:!0,count_:0,filterMode:"primitive",filters_:[],items_:null,keyProperty:"id",keyPropertyIndex:-1,map_:null,sortDirections:null,sortProperties:null,sorters_:[],sourceId_:null};construct(e){super.construct(e);let t=this,r={enumerable:!1,writable:!0};t.items=t.items||[],Object.defineProperties(t,{[A]:{...r,value:!1},[S]:{...r,value:!1},[M]:{...r,value:!1},[D]:{...r,value:!1},[k]:{...r,value:[]},[T]:{...r,value:[]},[O]:{...r,value:0}}),t.autoSort&&t._sorters.length>0&&t.doSort()}add(e){return this.splice(null,null,e).addedItems}afterSetCount(e,t){this.fire("countChange",{oldValue:t,value:e})}afterSetFilters(e,t){let r=this;e.forEach(e=>{!1===e.listenerApplied&&(e.on("change",r.onFilterChange,r),e.listenerApplied=!0)}),t&&r.filter()}afterSetItems(e,t){if(e){let t,r=this,{keyProperty:o}=r,n=0,s=e.length;for(;n<s;n++)t=e[n],r.map.set(t[o],t);r.count=s}}afterSetSorters(e,t){let r=this;r.applySorterConfigs(),e.forEach(e=>{!1===e.listenerApplied&&(e.on("change",r.onSorterChange,r),e.listenerApplied=!0)}),t&&r.autoSort&&r.doSort()}afterSetSourceId(e,t){if(e){let r=this,o=Neo.get(e);r._items=[...o._items],r.map=new Map(o.map);const n={mutate:r.onMutate,scope:r};o.on(n),t&&(o=Neo.get(t),o.un(n))}}applySorterConfigs(){let e=this;e.sortDirections=[],e.sortProperties=[],e.sorters.forEach(t=>{e.sortDirections.push(t.directionMultiplier),e.sortProperties.push(t.property)})}beforeSetFilters(e,t){Array.isArray(e)||(e=e?[e]:[]);let r,o,n=t&&t.length||0;return e.forEach((s,i)=>{if(t)for(r=!1,o=0;o<n;o++){if(t[o]===s){t[o].set({operator:s.operator,property:s.property,value:s.value}),r=!0;break}if(t[o].operator===(s.operator||"===")&&t[o].property===s.property&&t[o].value===s.value){r=!0;break}}r?(e[i]=t[o],t.splice(o,1),n--):e[i]=Neo.create(v,s)}),Array.isArray(t)&&t.forEach(e=>{e.destroy()}),e}beforeSetMap(e,t){return e||new Map}beforeSetSorters(e,t){Array.isArray(e)||(e=e?[e]:[]);let r,o,n=t?.length||0;return e.forEach((s,i)=>{if(t){r=!1,o=0;let{direction:e,property:i}=s;for(;o<n;o++){if(t[o]===s){t[o].set({direction:e,property:i}),r=!0;break}if(t[o].property===i&&t[o].direction===e){r=!0;break}}}r?(e[i]=t[o],t.splice(o,1),n--):e[i]=Neo.create(C,s)}),t?.forEach(e=>{e.destroy()}),e}cacheUpdate(e){}clear(){this.splice(0,this.getCount())}clearFilters(e){this.filters=e?Neo.clone(this.originalConfig.filters,!0,!0):null}clearSilent(){let e=this;e._items.splice(0,e.getCount()),e.map.clear()}clearSorters(e){this.sorters=e?Neo.clone(this.originalConfig.sorters,!0,!0):null}clone(){let e=this,t=Neo.clone(e.originalConfig,!0),r=e._filters||[],o=e._sorters||[];return delete t.id,delete t.filters,delete t.items,delete t.sorters,e._items.length>0&&(t.items=[...e._items]),t.filters=[],t.sorters=[],r.forEach(function(e){t.filters.push(e.originalConfig)}),o.forEach(function(e){t.sorters.push(e.originalConfig)}),Neo.create(x,t)}destroy(){let e=this;e._items.splice(0,e._items.length),e.map.clear(),super.destroy()}doSort(e=this._items,t=!1){let r,o,n,s,i,a,l=this,c=[...e],{sorters:d,sortDirections:u,sortProperties:h}=l,p=h.length||0,m=!1,g=!1;p>0&&(d.forEach(e=>{e.sortBy&&(m=!0),e.useTransformValue&&(g=!0)}),m?l._items.sort((e,t)=>{for(r=0;r<p;r++)if(s=d[r],a=s[s.sortBy?"sortBy":"defaultSortBy"](e,t),0!==a)return a;return 0}):(o=g?e.map((e,t)=>{for(n={index:t},r=0;r<p;r++)d[r].useTransformValue?n[h[r]]=d[r].transformValue(e[h[r]]):n[h[r]]=e[h[r]];return n}):e,o.sort((e,t)=>{for(r=0;r<p;r++){if(i=h[r],e[i]>t[i])return 1*u[r];if(e[i]<t[i])return-1*u[r]}return 0}),g&&(l._items=o.map(t=>e[t.index])))),l[M]=p>0,t||0!==l[O]||l.fire("sort",{items:l._items,previousItems:c,scope:l})}endUpdate(e){const t=this;t[O]>0&&t[O]--,e?t[D]=!1:(t.fire("mutate",{addedItems:t[k],removedItems:t[T]}),t[k].splice(0,t[k].length),t[T].splice(0,t[T].length))}exportFilters(){let e,t=[];return this.filters?.forEach(r=>{e=r.export(),e&&t.push(e)}),t}exportSorters(){let e,t=[];return this.sorters?.forEach(r=>{e=r.export(),e&&t.push(e)}),t}filter(){let e,t,r,o,n,s=this,i=s._filters,a=i.length,l=0,c=s.allItems?._items||s._items,d=0,u=c.length,h=[],p=!1,m=[...s._items];for(;d<a;d++)i[d].disabled||l++;if(0===l&&s.allItems)s.sorters.length>0&&(p=!0),s.clearSilent(),s.items=[...s.allItems._items];else if(s.allItems||(e={...s.originalConfig},delete e.filters,delete e.items,delete e.sorters,s.allItems=Neo.create(x,{...Neo.clone(e,!0,!0),id:s.id+"-all",keyProperty:s.keyProperty,sourceId:s.id})),s.map.clear(),"primitive"===s.filterMode){for(d=0;d<u;d++){for(t=!0,r=c[d],o=0;o<a;o++)if(i[o].isFiltered(r,c,c)){t=!1;break}t&&(h.push(r),s.map.set(r[s.keyProperty],r))}s._items=h}else{for(h=[...c],o=0;o<a;o++){for(n=[],d=0;d<u;d++)i[o].isFiltered(h[d],h,c)||n.push(h[d]);h=[...n],u=h.length}s.items=h}s[S]=0!==l,p&&s.doSort(s.items,!0),s.count=s.items.length,s.fire("filter",{isFiltered:s[S],items:s.items,oldItems:m,scope:s})}find(e,t,r=!1){let o,n,s,i,a=this,l=[],c=a.isItem(e);for(o of(c&&(s=Object.entries(e),i=s.length),a.items))if(c){if(n=[],s.forEach(([e,t])=>{Neo.ns(e,!1,o)===t&&n.push(!0)}),n.length===i){if(r)return o;l.push(o)}}else if(Neo.ns(e,!1,o)===t){if(r)return o;l.push(o)}return r?null:l}findBy(e,t=this,r=0,o=this.getCount()){let n=this,s=[],i=r;for(;i<o;i++)e.call(t,n.items[i])&&s.push(n.items[i]);return s}findFirst(e,t){return this.find(e,t,!0)}first(){return this._items[0]}get(e){return this.map.get(e)||null}getAt(e){return this._items[e]}getCount(){return this._count||0}getCountMutations(){return this[A]}getFilter(e){let t=this.filters||[],r=0,o=t.length;for(;r<o;r++)if(t[r].property===e)return t[r];return null}getKeyAt(e){let t=this._items[e];return t?.[this.keyProperty]}getRange(e,t){return this._items.slice(e,t)}getSource(){return this.sourceId&&Neo.get(this.sourceId)}has(e){return this.map.has(e)}hasItem(e){return this.map.has(e[this.keyProperty])}indexOf(e){let t=this;return t._items.indexOf(t.isItem(e)?e:t.map.get(e))}indexOfItem(e){return this._items.indexOf(e)}indexOfKey(e){return this._items.indexOf(this.map.get(e))}insert(e,t){return this.splice(e,0,t).addedItems}isFiltered(){return this[S]}isFilteredItem(e){let t=this._filters,r=0,o=t.length,n=!1;for(;r<o;r++)if(t[r].isFiltered(e)){n=!0;break}return n}isItem(e){return"object"==typeof e}isSorted(){return this[M]}last(){return this._items[this.getCount()-1]}move(e,t){if(e===t)return;let{items:r}=this;e>=r.length&&(e=r.length-1),r.splice(t,0,r.splice(e,1)[0])}onFilterChange(e){this.filter()}onMutate(e){this.preventBubbleUp=!0,this.splice(null,e.removedItems,e.addedItems)}onSorterChange(e){this.applySorterConfigs(),this.doSort()}pop(){return this.splice(this.getCount()-1,1).removedItems[0]}push(e){return this.add(e)}remove(e){return this.splice(0,Array.isArray(e)?e:[e]),this.getCount()}removeAt(e){return this.splice(e,1),this.getCount()}reverse(){return this._items.reverse()}shift(){return this.splice(0,1).addedItems[0]}some(...e){return this._items.some(...e)}splice(e,t,r){let o,n,s,i,a,l=this,{keyProperty:c,map:d}=l,u=l.getSource(),h=[],p=l._items,m=[],g=Neo.isNumber(t)?t:null,f=Array.isArray(t)?t:null;if(!Neo.isNumber(e)&&g&&w.error(l.id+": If index is not passed, removeCountAtIndex cannot be used"),r=r&&!Array.isArray(r)?[r]:r,f&&(i=f.length)>0)for(r&&r.length>0&&(a=r.map(e=>e[c])),o=0;o<i;o++)n=f[o],s=l.isItem(n)?n[c]:n,d.has(s)&&(!a||a&&a.indexOf(s)<0)&&(m.push(p.splice(l.indexOfKey(s),1)[0]),d.delete(s));else g&&g>0&&(m.push(...p.splice(e,g)),m.forEach(e=>{d.delete(e[c])}));if(r&&(i=r.length)>0){for(o=0;o<i;o++)n=r[o],s=n[c],s||(n[c]=s=l.keyPropertyIndex,l.keyPropertyIndex--),d.has(s)||l.isFilteredItem(n)||(h.push(n),d.set(s,n));h.length>0&&(0===p.length?l._items=h:p.splice(Neo.isNumber(e)?e:p.length,0,...h),l.autoSort&&l._sorters.length>0&&l.doSort())}return u&&(u.getSource()||(u.preventBubbleUp=!0),l.preventBubbleUp||(l.startUpdate(!0),u.splice(null,f||m,r),l.endUpdate(!0)),delete u.preventBubbleUp),(h.length>0||m.length>0)&&l[A]++,0===l[O]?(l.count=l._items.length,l.fire("mutate",{addedItems:r,preventBubbleUp:l.preventBubbleUp,removedItems:f||m})):l[D]||l.cacheUpdate({addedItems:h,removedItems:m}),0===l[O]&&delete l.preventBubbleUp,{addedItems:h,removedItems:m}}startUpdate(e){e&&(this[D]=!0),this[O]++}unshift(e){return this.splice(0,0,e),this.getCount()}}const I=Neo.setupClass(x),j=Neo.setupClass(class extends I{static config={className:"Neo.manager.Base"};getById(e){return e&&this.get(e)||null}register(e){let t=this;t.get(e.id)?Neo.logError("Trying to create an item with an already existing id",e,t.get(e.id)):t.push(e)}unregister(e){this.remove(e)}});Neo.setupClass(class extends j{static config={className:"Neo.manager.ClassHierarchy",keyProperty:"className",singleton:!0};isAQueryMap=new Map;construct(e){super.construct(e),this.consumeTempMap()}consumeTempMap(){Neo.classHierarchyMap&&(this.add(Object.values(Neo.classHierarchyMap)),delete Neo.classHierarchyMap)}isA(e,t){if(e===t)return!0;let r=e,{isAQueryMap:o}=this,n=`${e},${t}`,s=!1;if(o.has(n))return o.get(n);for(;r=this.get(r)?.parentClassName;){if(r===t){s=!0;break}if("Neo.component.Base"===r&&"Neo.core.Base"!==t){s=!1;break}if("Neo.core.Base"===r){s=!1;break}}return o.set(n,s),s}});var P=n(392),L=n(994);const W=Neo.config;class _ extends y.A{static config={className:"Neo.main.DeltaUpdates",countDeltas:0,countDeltasPer250ms:0,countUpdates:0,renderCountDeltas_:!1,singleton:!0};logDeltasIntervalId=0;construct(e){super.construct(e);let{environment:t}=W;W.renderCountDeltas&&(this.renderCountDeltas=!0),"dist/development"!==t&&"dist/production"!==t||(n.p=W.basePath.substring(6))}afterSetRenderCountDeltas(e,t){let r,o=this,{logDeltasIntervalId:n}=o;e?0===n&&(o.logDeltasIntervalId=setInterval(()=>{r=document.getElementById("neo-delta-updates"),r&&(r.innerHTML=String(4*o.countDeltasPer250ms)),o.countDeltasPer250ms=0},250)):(n&&clearInterval(n),o.logDeltasInterval=0)}changeNodeName(e,t){let r,{attributes:o}=e,n=document.createElement(t),s=0,i=o.length;if(e){for(;s<i;s++)r=o.item(s),n.setAttribute(r.nodeName,r.nodeValue);n.innerHTML=e.innerHTML,e.parentNode.replaceChild(n,e)}}focusNode({id:e}){P.A.getElement(e)?.focus()}async importRenderer(){const{render:e}=Neo.main;W.useDomApiRenderer?e?.DomApiRenderer||await n.e(276).then(n.bind(n,276)):e?.StringBasedRenderer||await n.e(337).then(n.bind(n,718))}async initAsync(){super.initAsync();let e=this;Neo.worker.Manager.on({neoConfigChange:e.onNeoConfigChange,scope:e}),await e.importRenderer()}insertNode({hasLeadingTextChildren:e,index:t,outerHTML:r,parentId:o,vnode:n}){this.checkRendererAvailability();let{render:s}=Neo.main,i=P.A.getElementOrBody(o);i&&(W.useDomApiRenderer?s.DomApiRenderer.createDomTree({index:t,isRoot:!0,parentNode:i,vnode:n}):s.StringBasedRenderer.insertNodeAsString({hasLeadingTextChildren:e,index:t,outerHTML:r,parentNode:i}))}checkRendererAvailability(){const{render:e}=Neo.main;if(W.useDomApiRenderer){if(!e?.DomApiRenderer)throw new Error("Neo.main.DeltaUpdates: DomApiRenderer is not loaded yet!")}else if(!e?.StringBasedRenderer)throw new Error("Neo.main.DeltaUpdates: StringBasedRenderer is not loaded yet!")}moveNode({id:e,index:t,parentId:r}){let o=P.A.getElement(e),n=P.A.getElement(r);if(o&&n)if(t>=n.childNodes.length)n.appendChild(o);else{let e=n.childNodes[t];o!==e&&(1===o.nodeType&&o===e.nextElementSibling&&o.replaceWith(e),n.insertBefore(o,e))}}async onNeoConfigChange(e){Object.hasOwn(e,"useDomApiRenderer")&&await this.importRenderer()}removeAll({parentId:e}){let t=P.A.getElement(e);t&&(t.innerHTML="")}removeNode({id:e,parentId:t}){const r=P.A.getElement(e);if(r)r.remove();else if(t){const r=P.A.getElementOrBody(t),o=Node.COMMENT_NODE;if(r){const t=Array.from(r.childNodes).find(t=>t.nodeType===o&&t.nodeValue.includes(` ${e} `));if(t){const e=t.nextSibling,r=e?.nextSibling?.nodeType===o?e.nextSibling:null;t.remove(),e?.remove(),r?.remove()}}}}replaceChild({fromId:e,parentId:t,toId:r}){let o=P.A.getElement(t);o?.replaceChild(P.A.getElement(r),P.A.getElement(e))}updateNode(e){let t=this,r=P.A.getElementOrBody(e.id);r||console.log("node not found",e.id),r&&Object.entries(e).forEach(([e,o])=>{switch(e){case"attributes":Object.entries(o).forEach(([e,t])=>{L.yL.has(e)?r[e]="true"===t:null===t||""===t?"value"===e?r[e]="":r.removeAttribute(e):"id"===e?r[W.useDomIds?"id":"data-neo-id"]=t:"spellcheck"===e&&"false"===t?r[e]=!1:"value"===e?r[e]=t:r.setAttribute(e,t)});break;case"cls":o.add&&r.classList.add(...o.add),o.remove&&r.classList.remove(...o.remove);break;case"innerHTML":r.innerHTML=o||"";break;case"nodeName":t.changeNodeName(r,o);break;case"outerHTML":r.outerHTML=o||"";break;case"style":Neo.isObject(o)&&Object.entries(o).forEach(([e,t])=>{let o;Neo.isString(t)&&t.includes("!important")&&(t=t.replace("!important","").trim(),o="important"),r.style.setProperty(Neo.decamel(e),t,o)});break;case"textContent":r.textContent=o}})}updateVtext({id:e,parentId:t,value:r}){let o=P.A.getElement(t),n=o.innerHTML,s=new RegExp(`\x3c!-- ${e} --\x3e[\\s\\S]*?\x3c!-- /neo-vtext --\x3e`);o.innerHTML=n.replace(s,r)}update(e){this.checkRendererAvailability();let t,r=this,{deltas:o}=e,n=0;for(o=Array.isArray(o)?o:[o],t=o.length,W.logDeltaUpdates&&t>0&&(r.countDeltas+=t,r.countUpdates++,console.log("update "+r.countUpdates,"total deltas ",r.countDeltas,Neo.clone(e,!0))),W.renderCountDeltas&&t>0&&(r.countDeltasPer250ms+=t);n<t;n++)r[o[n].action||"updateNode"](o[n]);Neo.worker.Manager.sendMessage(e.origin||"app",{action:"reply",replyId:e.id,success:!0})}}const R=Neo.setupClass(_);var F=n(160),B=n(126);class $ extends y.A{static observable=!0;static config={className:"Neo.Main",mode:"read",openWindows:{},readQueue:[],remote:{app:["alert","editRoute","getByPath","getWindowData","importAddon","log","redirectTo","reloadWindow","setNeoConfig","setRoute","windowClose","windowCloseAll","windowMoveTo","windowOpen","windowResizeTo"]},running:!1,showFps:!1,singleton:!0,timeLimit:15,totalFrameCount:0,updateQueue:[],writeQueue:[]};construct(e){super.construct(e);let t=this;B.A.on({automount:t.onRender,"message:mountDom":t.onMountDom,"message:updateDom":t.onUpdateDom,updateVdom:t.onUpdateVdom,scope:t}),F.A.on("domContentLoaded",t.onDomContentLoaded,t),"loading"!==document.readyState&&F.A.onDomContentLoaded()}alert(e){alert(e.message)}editRoute(e){let t=F.A.parseHash(window.location.hash.substr(1)),r=[];"string"==typeof e&&(e=F.A.parseHash(e)),Object.assign(t,e),Object.entries(t).forEach(([e,t])=>{null!==t&&r.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}),window.location.hash=r.join("&")}getByPath({params:e=[],path:t}){let r=f.nsWithArrays(t);return f.isFunction(r)?r(...e):r}getWindowData(){let e=window,{screen:t}=e;return{innerHeight:e.innerHeight,innerWidth:e.innerWidth,outerHeight:e.outerHeight,outerWidth:e.outerWidth,screen:{availHeight:t.availHeight,availLeft:t.availLeft,availTop:t.availTop,availWidth:t.availWidth,colorDepth:t.colorDepth,height:t.height,orientation:{angle:t.orientation?.angle,type:t.orientation?.type},pixelDepth:t.pixelDepth,width:t.width},screenLeft:e.screenLeft,screenTop:e.screenTop}}async importAddon(e){let t,{name:r}=e;return t=r.startsWith("WS/")?await n(644)(`./${r.substring(3)}.mjs`):await n(644)(`./${r}.mjs`),this.registerAddon(t.default),await this.timeout(20),!0}log(e){return console[e.method||"log"](e.value),!0}async onDomContentLoaded(){let e,t=this,{config:r}=f,o=[],{environment:s,mainThreadAddons:i,useServiceWorker:a}=r;P.A.onDomContentLoaded(),r.useGoogleAnalytics&&!i.includes("AnalyticsByGoogle")&&i.push("AnalyticsByGoogle"),!0!==a&&a!==s&&("dist/production"!==a||"dist/esm"!==s)||i.includes("ServiceWorker")||i.push("ServiceWorker"),i.forEach(e=>{e.startsWith("WS/")?o.push(n(644)(`./${e.substring(3)}.mjs`)):o.push(n(644)(`./${e}.mjs`))}),e=await Promise.all(o),t.addon={},e.forEach(e=>{t.registerAddon(e.default)}),B.A.onWorkerConstructed({origin:"main"})}onMountDom(e){this.queueWrite(e),B.A.sendMessage(e.origin||"app",{action:"reply",replyId:e.id,success:!0})}onRender(e){e.data.replyId=e.replyId,this.queueWrite(e.data)}onUpdateDom(e){this.queueUpdate(e)}onUpdateVdom(e){e.data.replyId=e.replyId,this.queueUpdate(e.data)}processQueue(e,t){let r,o=this,{mode:n}=o,s=o.timeLimit;for(;r=e.shift();){if(new Date-t>s)return e.unshift(r),requestAnimationFrame(o.renderFrame.bind(o));"read"===n?P.A.read(r):"write"===n?R.insertNode(r):R.update(r),B.A.resolveDomOperationPromise(r.replyId)}}queueRead(e){let t=this;t.readQueue.push(e),t.running||(t.running=!0,requestAnimationFrame(t.renderFrame.bind(t)))}queueUpdate(e){let t=this;t.updateQueue.push(e),t.running||(t.running=!0,requestAnimationFrame(t.renderFrame.bind(t)))}queueWrite(e){let t=this;t.writeQueue.push(e),t.running||(t.running=!0,requestAnimationFrame(t.renderFrame.bind(t)))}redirectTo(e){window.location.href=e.url}registerAddon(e){"NeoClass"===f.typeOf(e)&&("NeoInstance"!==f.typeOf(f.ns(e.prototype.className))&&(e=f.create(e)),f.applyToGlobalNs(e)),this.addon[e.constructor.name]=e}reloadWindow(e){location.reload()}renderFrame(){let e=this,t=e.readQueue,r=e.updateQueue,o=e.writeQueue,n="read"===e.mode,s=new Date;f.config.logDeltaUpdates&&(e.totalFrameCount++,console.log("Total Frames: "+e.totalFrameCount)),(!n&&o.length||(e.mode="read",!e.processQueue(t,s)))&&(r.length&&(e.mode="update",e.processQueue(r,s))||o.length&&(e.mode="write",e.processQueue(o,s))||(e.running=!1))}setNeoConfig(e){let{key:t,value:r}=e;f.config[t]=e.value,"renderCountDeltas"===t&&R.set({[t]:r})}setRoute(e){window.location.hash=e.value}windowClose(e){Array.isArray(e.names)||(e.names=[e.names]),e.names.forEach(e=>{this.openWindows[e]?.close(),delete this.openWindows[e]})}windowCloseAll(e){Object.values(this.openWindows).forEach(e=>{console.log(e),e.close()}),this.openWindows={}}windowMoveTo(e){this.openWindows[e.windowName]?.moveTo(e.x,e.y)}windowOpen(e){let t=window.open(e.url,e.windowName,e.windowFeatures),r=!!t;return r&&(this.openWindows[e.windowName]=t),r}windowResizeTo(e){let t=this.openWindows[e.windowName],r=e.height||t.outerHeight,o=e.width||t.outerWidth;t.resizeTo(o,r)}}f.setupClass($)})()})();