import{default as e}from"./DefaultConfig.mjs";var t,r,o={5644(e,t,r){var o={"./AmCharts.mjs":[8718,[718]],"./AnalyticsByGoogle.mjs":[647,[647]],"./Base.mjs":[1096,[96]],"./CesiumJS.mjs":[7104,[104]],"./CloneNode.mjs":[5582,[582]],"./Cookie.mjs":[3741,[741]],"./DocumentHead.mjs":[5506,[506]],"./DragDrop.mjs":[1650,[650]],"./EventSimulator.mjs":[8393,[393]],"./FileSystemAccess.mjs":[1432,[432]],"./GoogleMaps.mjs":[803,[803]],"./GridDragScroll.mjs":[7158,[158]],"./HighlightJS.mjs":[264,[264]],"./IntersectionObserver.mjs":[7666,[666]],"./LocalStorage.mjs":[2375,[375]],"./MapboxGL.mjs":[391,[391]],"./Markdown.mjs":[9432,[51]],"./Mermaid.mjs":[7e3,[0]],"./MonacoEditor.mjs":[2265,[265]],"./Mwc.mjs":[2790,[790]],"./Navigator.mjs":[6942,[942]],"./OpenStreetMaps.mjs":[8423,[423]],"./Popover.mjs":[1190,[190]],"./PrefixField.mjs":[5089,[89]],"./ResizeObserver.mjs":[6789,[789]],"./ScrollSync.mjs":[9393,[774]],"./ServerSideRendering.mjs":[1369,[369]],"./ServiceWorker.mjs":[1274,[274]],"./Stylesheet.mjs":[7487,[487]],"./WebComponent.mjs":[1264,[883]],"./WindowPosition.mjs":[8682,[682]]};function n(e){try{if(!r.o(o,e))return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}catch(e){return Promise.reject(e)}var t=o[e],n=t[0];return r.e(t[1][0]).then(()=>r(n))}n.keys=()=>Object.keys(o),n.id=5644,e.exports=n},8247(e,t,r){r.d(t,{A:()=>m});var o=r(3439);r(8561),r(1528);const n={effectStack:[],isTrackingPaused:!1,pauseCounter:0,queuedEffects:new Set,addDependency(e){this.isTrackingPaused||this.getActiveEffect()?.addDependency(e)},getActiveEffect(){return this.effectStack[this.effectStack.length-1]},isPaused(){return this.pauseCounter>0},pause(){this.pauseCounter++},pauseTracking(){this.isTrackingPaused=!0},pop(){return this.effectStack.pop()},push(e){this.effectStack.push(e)},queue(e){this.queuedEffects.add(e)},resume(){let e=this;if(e.pauseCounter>0&&(e.pauseCounter--,0===e.pauseCounter&&e.queuedEffects.size>0)){const t=[...e.queuedEffects];e.queuedEffects.clear(),t.forEach(e=>e.run())}},resumeTracking(){this.isTrackingPaused=!1}},s=Neo.gatekeep(n,"Neo.core.EffectManager",()=>{Neo.batch=function(e){n.pause();try{e()}finally{n.resume()}}});var i=r(5017);class a{#e={};#t;constructor(e){Neo.isObject(e)&&!0===e[i.ol]?this.initDescriptor(e):this.#t=e}get(){return s.addDependency(this),this.#t}initDescriptor({clone:e,cloneOnGet:t,isEqual:r,merge:o}){let n=this;e&&e!==n.clone&&Object.defineProperty(n,"clone",{configurable:!0,enumerable:!0,value:e,writable:!0}),t&&t!==n.cloneOnGet&&Object.defineProperty(n,"cloneOnGet",{configurable:!0,enumerable:!0,value:t,writable:!0}),r&&r!==n.isEqual&&Object.defineProperty(n,"isEqual",{configurable:!0,enumerable:!0,value:r,writable:!0}),o&&o!==n.mergeStrategy&&Object.defineProperty(n,"mergeStrategy",{configurable:!0,enumerable:!0,value:o,writable:!0})}notify(e,t){for(const r in this.#e)if(this.#e.hasOwnProperty(r)){const o=this.#e[r];for(const[r,n]of o)for(const o of n)r.call(o||null,e,t)}}set(e){if(void 0===e)return!1;const t=this,r=t.#t;return!t.isEqual(e,r)&&(t.#t=e,t.notify(e,r),!0)}setRaw(e){this.#t=e}subscribe({id:e,fn:t,scope:r}){if("string"!=typeof e||0===e.length||"function"!=typeof t)throw new Error(["Config.subscribe: options must be an object with a non-empty string `id` ","(the subscription owner's id), and a callback function `fn`."].join(""));const o=this;o.#e[e]||(o.#e[e]=new Map);const n=o.#e[e];return n.has(t)||n.set(t,new Set),n.get(t).add(r),()=>{const n=o.#e[e];if(n){const s=n.get(t);s&&(s.delete(r),0===s.size&&(n.delete(t),0===n.size&&delete o.#e[e]))}}}}Object.defineProperties(a.prototype,{clone:{configurable:!0,enumerable:!1,value:"deep",writable:!1},cloneOnGet:{configurable:!0,enumerable:!1,value:null,writable:!1},isEqual:{configurable:!0,enumerable:!1,value:Neo.isEqual,writable:!1},mergeStrategy:{configurable:!0,enumerable:!1,value:"replace",writable:!1}});const l=Neo.gatekeep(a,"Neo.core.Config");var c=r(358);const d=Symbol.for("configSymbol"),u=Symbol("forceAssignConfigs"),p=Symbol("isInstance");class h{static delayable={};static instanceManagerAvailable=!1;static methodNameRegex=/\n.*\n\s+at\s+.*\.(\w+)\s+.*/;static observable=!1;static overwrittenMethods={};static config={className:"Neo.core.Base",ntype:"base",delayable:null,id_:null,interceptRemotes:null,isConstructed:!1,isDestroying_:!1,isReady_:!1,mixins:null,module:null,remote_:{[i.ol]:!0,merge:"deepArrays",value:null}};#r=new Map;#o={};#n=[];#s=null;#i=null;#a=null;#l=null;construct(e={}){let t=this;Object.defineProperties(t,{[d]:{configurable:!0,enumerable:!1,value:{},writable:!0},[p]:{enumerable:!1,value:!0}}),t.id=e.id||t.constructor.config.id||c.A.getId(this.getIdKey()),delete e.id,e=t.setFields(e),t.initConfig(e),Object.defineProperty(t,"configsApplied",{enumerable:!1,value:!0}),t.applyDelayable(),(0,o.Zc)(t,"destroy",t.#c,t),t.#s=new Promise(e=>{t.#i=e}),t.#a=new Promise(e=>{t.#l=e}),Promise.resolve().then(async()=>{try{await t.initAsync(),t.isReady=!0}catch(e){if(e!==Neo.isDestroyed)throw e}})}afterSetId(e,t){let r=!0===h.instanceManagerAvailable;t&&(r?Neo.manager.Instance.unregister(t):Neo.idMap&&delete Neo.idMap[t]),e&&(r?Neo.manager.Instance.register(this):(Neo.idMap??={},Neo.idMap[e]=this))}afterSetIsReady(e,t){if(e){let e=this;e.#i?.(),e.getStaticConfig("observable")&&e.fire("ready")}}applyDelayable(){let e=this,t=e.constructor.delayable,r=e.delayable?Neo.merge({},e.delayable,t):t;Object.entries(r).forEach(([t,r])=>{if(r){let n={buffer(){e[t]=new o.r(e[t],e,r.timer)},debounce(){e[t]=new o.sg(e[t],e,r.timer)},throttle(){e[t]=new o.nF(e[t],e,r.timer)}};n[r.type]?.()}})}static applyOverwrites(e){let t,r,o=Neo.ns(e.className,!1,Neo.overwrites);if(o){for(r in o)Neo.isFunction(o[r])&&(t=this.prototype,t[r]&&(t.constructor.overwrittenMethods[r]=t[r]));Object.assign(e,o)}}beforeSetEnumValue(e,t,r,o=r+"s"){let n=Array.isArray(o)?o:this.getStaticConfig(o);return n.includes(e)?e:(console.error(`Supported values for ${r} are:`,...n,this),t)}beforeSetRemote(e,t){let r=this;if(e&&!r.singleton&&!r.isMainThreadAddon)throw new Error("Remote method access is only functional for Singleton classes "+r.className);return e}bindCallback(e,t,r=this,n=this){if(e&&Neo.isString(e)){const s=(0,o.Ap)(e,r);n[t]=s.fn.bind(s.scope)}}callOverwritten(...e){let t=(new Error).stack.match(h.methodNameRegex)[1];this.__proto__.constructor.overwrittenMethods[t].call(this,...e)}destroy(){let e=this;e.#r.forEach((e,t)=>{Neo.isNumber(t)&&clearTimeout(t),e(Neo.isDestroyed)}),e.#r.clear(),e.#n.forEach(e=>{e()}),!0===h.instanceManagerAvailable?Neo.manager.Instance.unregister(e):Neo.idMap&&delete Neo.idMap[e.id],Object.keys(e).forEach(t=>{Object.getOwnPropertyDescriptor(e,t).writable&&"destroy"!==t&&"_id"!==t&&delete e[t]}),Neo.isFunction(e.fire)&&(e.fire=Neo.emptyFn),e.isDestroyed=!0}getConfig(e){let t=this;return!t.#o[e]&&t.isConfig(e)&&(t.#o[e]=new l(t.constructor.configDescriptors?.[e])),t.#o[e]}getIdKey(){return this.ntype}getStaticConfig(e){return this.constructor[e]}hasNtype(e){return this.constructor.ntypeChain.includes(e)}init(){}async initAsync(){let e=this;e.remote&&await e.initRemote(),e.#l()}initConfig(e,t){let r=this;r.isConfiguring=!0,Object.assign(r[d],r.mergeConfig(e,t)),delete r[d].id,r.processConfigs(),r.isConfiguring=!1}async initRemote(){let{className:e,remote:t}=this,{currentWorker:r}=Neo;Neo.config.isMiddleware||Neo.config.unitTestMode||("main"!==Neo.workerId&&r.isSharedWorker?(t.main&&r.remotesToRegister.push({className:e,methods:t.main}),r.isConnected||await new Promise(e=>{r.on("connected",()=>e(),this,{once:!0})})):"service"===Neo.workerId&&t.app&&r.remotesToRegister.push({className:e,methods:t.app}),await h.promiseRemotes(e,t))}isConfig(e){let t=this;return t.#o[e]||Neo.hasPropertySetter(t,e)&&e in t.constructor.config}mergeConfig(e,t){let r,o,n=this,s=n.constructor;if(!s.config)throw new Error("Neo.applyClassConfig has not been run on "+n.className);return t||(n.originalConfig=Neo.clone(e,!0,!0)),r=s.configDescriptors,o=s.config,r&&Object.entries(e).forEach(([t,n])=>{const s=r[t];s?.merge&&(e[t]=Neo.mergeConfig(o[t],n,s.merge))}),{...o,...e}}observeConfig(e,t,r){let o=e;if(Neo.isString(e)&&(o=Neo.get(e),!o))return console.warn(`Publisher instance with ID '${e}' not found. Cannot subscribe.`),Neo.emptyFn;if(!(o instanceof Neo.core.Base))return console.warn("Invalid publisher provided. Must be a Neo.core.Base instance or its ID."),Neo.emptyFn;const n=o.getConfig(t);if(!n)return console.warn(`Config '${t}' not found on publisher instance ${o.id}. Cannot subscribe.`),Neo.emptyFn;const s=n.subscribe({id:this.id,fn:r});return this.#n.push(s),s}onAfterConstructed(){let e=this;e.isConstructed=!0,e.getStaticConfig("observable")&&e.fire("constructed",e)}onConstructed(){}onInterceptRemotes(e){}parseItemConfigs(e){let t,r,o,n,s=this;if(e){if(!Array.isArray(e)){if(Neo.isObject(e))return void Object.keys(e).forEach(t=>{let r=e[t];r&&(r[i.fc]&&s[r[i.fc]]&&(e[t]=Neo.mergeConfig(s[r[i.fc]],r,"deep"),r=e[t],delete r[i.fc]),s.parseItemConfigs([r]))});e=[e]}e.forEach((a,l)=>{a&&(a[i.fc]&&s[a[i.fc]]&&(e[l]=Neo.mergeConfig(s[a[i.fc]],a,"deep"),delete(a=e[l])[i.fc]),Object.entries(a).forEach(([e,i])=>{Array.isArray(i)||Neo.isObject(i)&&"items"===e?s.parseItemConfigs(i):"string"==typeof i&&i.startsWith("@config:")&&(r=i.substring(8).trim().split("."),o=r.pop(),t=Neo.ns(r,!1,s),void 0===t[o]?console.error("The used @config does not exist:",o,r.join(".")):(n=Neo.ns(r,!1,s[d]),n&&Object.hasOwn(n,o)?a[e]=n[o]:a[e]=t[o]))}))})}}#c(){return this.isDestroying=!0,!this.isDestroyed}processConfigs(e=!1){let t=this,r=Object.keys(t[d]);t[u]=e,r.length>0&&(!e&&t.hasOwnProperty(r[0])||(t[r[0]]=t[d][r[0]]),delete t[d][r[0]],t.processConfigs(e))}ready(){return this.#s}remotesReady(){return this.#a}static async promiseRemotes(e,t){let r,o=[];Object.entries(t).forEach(([t,n])=>{Neo.workerId!==t&&(r="main"===Neo.workerId?Neo.worker.Manager:Neo.currentWorker,r.hasWorker(t)&&o.push(r.promiseMessage(t,{action:"registerRemote",className:e,methods:n})))}),await Promise.all(o)}serializeConfig(e){let t=this,r=Neo.typeOf(e);if("Array"===r)return e.map(e=>t.serializeConfig(e));if("NeoInstance"===r)return{className:e.className,id:e.id};if("Object"!==r)return"NeoClass"===r?e.prototype.className:e;let o={};return Object.entries(e).forEach(([e,n])=>{r=Neo.typeOf(n),"NeoClass"===r?"module"===e?o.className=n.prototype.className:o[e]=n.prototype.className:o[e]="NeoInstance"===r?{className:n.className,id:n.id}:"Object"===r||"Array"===r?t.serializeConfig(n):"Function"!==r?n:"[Function]"}),o}set(e={}){let t=this,r={};s.pause();try{e=t.setFields(e),!0!==t[u]&&Object.keys(t[d]).length>0&&t.processConfigs(),Object.entries(e).forEach(([o,n])=>{t.isConfig(o)||(r[o]=n,delete e[o])}),Object.assign(t[d],e),Object.entries(r).forEach(([e,r])=>{t[e]=r}),t.processConfigs(!0)}finally{s.resume()}}setFields(e){let t=this;return Object.entries(e).forEach(([r,o])=>{t.isConfig(r)||Neo.hasPropertySetter(t,r)||(t[r]=o,delete e[r])}),e}setStaticConfig(e,t){let r=this.constructor.staticConfig;return!!r.hasOwnProperty(e)&&(r[e]=t,!0)}timeout(e){let t=this;return new Promise((r,o)=>{let n=setTimeout(()=>{t.unregisterAsync(n),r()},e);t.registerAsync(n,o)})}trap(e){let t=this;return new Promise((r,o)=>{const n=Symbol();t.registerAsync(n,o),e.then(e=>{t.unregisterAsync(n),r(e)}).catch(e=>{t.unregisterAsync(n),o(e)})})}unregisterAsync(e){this.#r.delete(e)}registerAsync(e,t){this.#r.set(e,t)}getMixins(e=this.mixins,t=[]){return e&&Object.values(e).forEach(e=>{e&&e.prototype?t.push(e):Neo.isObject(e)&&this.getMixins(e,t)}),t}toJSON(){let e=this;if(e.__inToJSON)return{className:e.className,id:e.id,isDestroyed:e.isDestroyed,ntype:e.ntype,remote:e.remote};e.__inToJSON=!0;try{let t={className:e.className,id:e.id,isDestroyed:e.isDestroyed,ntype:e.ntype,remote:e.remote};return e.getMixins().forEach(r=>{r.prototype.toJSON&&Object.assign(t,r.prototype.toJSON.call(e))}),t}finally{delete e.__inToJSON}}get[Symbol.toStringTag](){return this.className}static[Symbol.hasInstance](e){return!!e&&!0===e[p]&&super[Symbol.hasInstance](e)}}const m=Neo.setupClass(h)},8561(){class e{static map={Array:"compareArrays",Date:"compareDates",Function:"compareFunctions",Map:"compareMaps",NeoInstance:"compareNeoInstances",Object:"compareObjects",RegExp:"compareRegExps",Set:"compareSets"};static compareArrays(t,r){if(t.length!==r.length)return!1;for(const[o,n]of t.entries())if(!e.isEqual(n,r[o]))return!1;return!0}static compareDates(e,t){return e.valueOf()===t.valueOf()}static compareFunctions(e,t){return e.name===t.name&&e.toString()===t.toString()}static compareMaps(e,t){if(e.size!==t.size)return!1;let r;for(const[o,n]of e)if(r=t.get(o),r!==n||void 0===r&&!t.has(o))return!1;return!0}static compareNeoInstances(e,t){return e.id===t.id}static compareObjects(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(let o in t)if(!e.isEqual(t[o],r[o]))return!1;return!0}static compareRegExps(e,t){return e.toString()===t.toString()}static compareSets(e,t){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}static isEqual(t,r){if(t===r)return!0;let o=Neo.typeOf(t);return o===Neo.typeOf(r)&&(e.map[o]?e[e.map[o]](t,r):t===r)}}Neo.gatekeep(e,"Neo.core.Compare",()=>{Neo.isEqual=e.isEqual})},5017(e,t,r){r.d(t,{fc:()=>n,ol:()=>o}),Symbol.for("Neo.internalId");const o=Symbol.for("Neo.Config.isDescriptor"),n=Symbol.for("Neo.Config.mergeFrom")},358(e,t,r){r.d(t,{A:()=>n});const o={base:"neo-",idCounter:{},getId(e){e=e||"neo";let t=this.idCounter,r=t[e]||0;return t[e]=++r,this.base+("neo"===e?"":e+"-")+r}},n=Neo.gatekeep(o,"Neo.core.IdGenerator",()=>{Neo.getId=o.getId.bind(o)})},6215(e,t,r){r.d(t,{A:()=>d});var o=r(8247);class n extends o.A{static config={className:"Neo.util.Array"};static add(e,t){return Array.isArray(t)||(t=[t]),t.forEach(t=>{e.includes(t)||e.push(t)}),e}static difference(e=[],t=[]){return e.filter(e=>!t.includes(e))}static hasItem(e,t){return e.includes(t)}static insert(e,t,r){Array.isArray(r)||(r=[r]);let o,n,s=r.length-1;for(;s>-1;s--)n=r[s],o=e.indexOf(n),t!==o&&(o>-1?this.move(e,o,t):e.splice(t,0,n));return e}static intersection(e=[],t=[]){return e.filter(e=>t.includes(e))}static move(e,t,r){return t===r||(t>=e.length&&(t=e.length-1),e.splice(r,0,e.splice(t,1)[0])),e}static remove(e,t){let r;return Array.isArray(t)||(t=[t]),t.forEach(t=>{r=e.indexOf(t),r>-1&&e.splice(r,1)}),e}static removeAdd(e,t,r){return this.remove(e,t),this.add(e,r)}static toggle(e,t,r=!this.hasItem(e,t)){return this[r?"add":"remove"](e,t)}static union(){return[...new Set(Array.prototype.concat(...arguments))]}static unshift(e,t){return Array.isArray(t)||(t=[t]),t.forEach(t=>{e.includes(t)||e.unshift(t)}),e}}const s=Neo.setupClass(n);var i=r(5017),a=r(3439);const l=Symbol("eventMap");class c extends o.A{static config={className:"Neo.core.Observable",ntype:"mixin-observable",listeners_:{[i.ol]:!0,merge:"deep",value:{}}};addListener(e,t,r,o,n,s){let i,a,c,d=this,u=0,p="object"==typeof e,h=!1,m=typeof t;if("object"==typeof o&&"function"===m&&(o.fn=t,t=o,m="object",o=null),p)e.hasOwnProperty("delay")&&(u=e.delay,delete e.delay),e.hasOwnProperty("once")&&(h=e.once,delete e.once),e.hasOwnProperty("order")&&(s=e.order,delete e.order),e.hasOwnProperty("scope")&&(r=e.scope,delete e.scope),Object.entries(e).forEach(([e,t])=>{Neo.isObject(t)?d.addListener(e,{delay:u,once:h,order:s,scope:r,...t}):d.addListener(e,{delay:u,fn:t,once:h,order:s,scope:r})});else if("object"===m)u=u||t.delay,o=o||t.eventId,i=t.fn,h=h||t.once,s=s||t.order,r=r||t.scope;else if("function"===m)i=t;else{if("string"!==m)throw new Error("Invalid addListener call: "+e);i=t}return p?null:(d[l]??={},c={fn:i,id:o||Neo.getId("event")},n&&(c.data=n),u>0&&(c.delay=u),h&&(c.once=h),r&&(c.scope=r),(a=d[l][e])?(a.forEach(t=>{(t.id===o||t.fn===i&&t.scope===r)&&console.error("Duplicate event handler attached:",e,d)}),"number"==typeof s?a.splice(s,0,c):"before"===s?a.unshift(c):a.push(c)):d[l][e]=[c],c.id)}afterSetListeners(e,t){t&&Object.keys(t).length>0&&this.un(t),e&&Object.keys(e).length>0&&this.on(e)}callback(e,t=this,r){if(e){const o=(0,a.Ap)(e,t);o.fn.apply(o.scope,r)}}delayedCallback(e,t,r){this.timeout(r).then(()=>{e.fn.apply(e.scope,t)})}fire(e){let t,r,o,n,i,c=this,d=[].slice.call(arguments,1),u=c[l];if(u&&u[e])for(o=[...u[e]],i=o.length,n=0;n<i;n++){r=o[n],t=r.delay;const i=(0,a.Ap)(r.fn,r.scope||c);i.scope&&!i.scope.id?s.remove(u[e],r):c.suspendEvents||(1===d.length&&Neo.isObject(d[0])&&(d[0].source=c.id),r.once&&s.remove(u[e],r),Neo.isNumber(t)&&t>0?c.delayedCallback(i,r.data?d.concat(r.data):d,t):i.fn.apply(i.scope,r.data?d.concat(r.data):d))}}on(...e){return this.addListener(...e)}removeListener(e,t,r){let o,n,s,i,a,c=this;c[l]??={},Neo.isFunction(t)?c.removeListener({[e]:t,scope:r}):Neo.isObject(e)?(e.scope&&(r=e.scope,delete e.scope),Object.entries(e).forEach(([e,t])=>{for(i=c[l][e]||[],o=0,n=i.length;o<n;o++)if(s=i[o],s.fn.name===(Neo.isString(t)?t:t.name)&&s.scope===r){i.splice(o,1);break}})):Neo.isString(t)&&(i=c[l][e],a=!1,i.forEach((e,r)=>{if(e.id===t)return a=r}),!1!==a&&i.splice(a,1))}un(...e){this.removeListener(...e)}toJSON(){let e=this,t={},r=e[l];return r&&Object.entries(r).forEach(([r,o])=>{o.length>0&&(t[r]=o.map(t=>e.serializeConfig(t)))}),{...super.toJSON(),listeners:t}}}const d=Neo.setupClass(c)},1528(){class e{static decamelRegEx=/([a-z])([A-Z])/g;static bindMethods(e,t){t.forEach(t=>{e[t]=e[t].bind(e)})}static createStyleObject(e){let t;return e.split(/;(?=[^\)]*(?:\(|$))/g).reduce((e,r)=>(t=r.split(/:(.+)/).map(function(e){let t=parseFloat(e);return e==t?t:e.trim()}),""!==t[0]&&(t[0]=t[0].replace(/-([a-z])/g,(e,t)=>t.toUpperCase()),e[t[0]]=t[1]),e),{})}static createStyles(t){let r="";return Object.entries(t).forEach(([t,o])=>{null!=o&&(r+=e.decamel(t)+":"+o+";")}),r}static decamel(t){return t.replace(e.decamelRegEx,"$1-$2").toLowerCase()}static isArray(e){return Array.isArray(e)}static isBoolean(e){return"boolean"==typeof e}static isDefined(e){return void 0!==e}static isEmpty(t){return null==t||(Array.isArray(t)?0===t.length:!(t instanceof Date||(e.isObject(t)?0!==Object.keys(t).length:!e.isString(t)||""!==t)))}static isFunction(e){return"function"==typeof e}static isNumber(e){return"number"==typeof e&&isFinite(e)}static isObject(e){return"Object"===e?.constructor?.name}static isPromise(e){return"function"==typeof e?.then}static isRecord(e){return"Record"===e?.constructor?.name}static isString(e){return"string"==typeof e}static snakeToCamel(e){return e.replace(/(_\w)/g,e=>e[1].toUpperCase())}static toArray(e,t,r){let o;return e&&(o=e.length)?"string"==typeof e?e.split(""):Array.prototype.slice.call(e,t||0,r||o):[]}}Neo.ns("Neo.core",!0).Util=e,Neo.applyFromNs(Neo,e,{bindMethods:"bindMethods",createStyleObject:"createStyleObject",createStyles:"createStyles",decamel:"decamel",isArray:"isArray",isBoolean:"isBoolean",isDefined:"isDefined",isEmpty:"isEmpty",isFunction:"isFunction",isNumber:"isNumber",isObject:"isObject",isPromise:"isPromise",isRecord:"isRecord",isString:"isString",snakeToCamel:"snakeToCamel",toArray:"toArray"},!0)},4392(e,t,r){r.d(t,{A:()=>m});var o=r(8247),n=r(6049),s=r(1406),i=r(8596);const a=e=>e.preventDefault(),l=e=>!e.classList.contains("neo-focus-trap")&&n.A.isTabbable(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP,c=/^\d+\w+$/,d={capture:!0,passive:!0},u=["font-family","font-kerning","font-size","font-size-adjust","font-stretch","font-style","font-weight","letter-spacing","line-height","text-decoration","text-transform","word-break"],p={Shift:1,Alt:1,Meta:1,Control:1};class h extends o.A{static observable=!0;static config={className:"Neo.main.DomAccess",remote:{app:["addScript","align","applyBodyCls","blur","execCommand","focus","getAttributes","getBoundingClientRect","getComputedStyle","getOffscreenCanvas","getScrollingDimensions","measure","monitorAutoGrow","monitorAutoGrowHandler","scrollBy","scrollIntoView","scrollTo","scrollToTableRow","selectNode","setBodyCls","setStyle","startViewTransition","syncModalMask","trapFocus","windowScrollTo"]},singleton:!0};get modalMask(){let e=this;return e._modalMask||(e._modalMask=document.createElement("div"),e._modalMask.className="neo-dialog-modal-mask",e._modalMask.addEventListener("mousedown",a,{capture:!0})),e._modalMask}construct(e){super.construct(e);let t=this;t.initGlobalListeners(),t.syncAligns=t.syncAligns.bind(t)}addAligned(e){const t=this,{id:r}=e,o=t._aligns||(t._aligns=new Map),n=t._alignResizeObserver||(t._alignResizeObserver=new ResizeObserver(t.syncAligns)),{constrainToElement:s}=e;o.has(r)||(n.observe(e.offsetParent),n.observe(e.targetElement),s&&n.observe(s)),t.hasDocumentScrollListener||(document.addEventListener("scroll",t.syncAligns,{capture:!0,passive:!0}),t.hasDocumentScrollListener=!0),t.documentMutationObserver||(t.documentMutationObserver=new MutationObserver(t.onDocumentMutation.bind(t)),t.documentMutationObserver.observe(document.body,{childList:!0,subtree:!0})),o.set(r,e)}addScript(e){let t=document.createElement("script");e.hasOwnProperty("async")||(e.async=!0),Object.assign(t,e),document.head.appendChild(t)}async align(e){const t=this,{constrainTo:r}=e,o=e.subject=t.getElement(e.id),{style:n}=o,s={...e},i=t._aligns?.get(e.id);if(i&&o.classList.remove(`neo-aligned-${i.result.position}`),t.resetDimensions(s),s.target=t.getClippedRect({id:e.targetElement=t.getElementOrBody(e.target)}),!s.target)return Neo.worker.App.setConfigs({id:e.id,hidden:!0});e.offsetParent=e.targetElement.offsetParent,r&&(s.constrainTo=t.getBoundingClientRect({id:e.constrainToElement=t.getElementOrBody(r)}));const a=t.getBoundingClientRect(e),l=e.result=a.alignTo(s);Object.assign(n,{top:0,left:0,transform:`translate(${l.x}px,${l.y}px)`}),l.width!==a.width&&(n.width=`${l.width}px`),l.height!==a.height&&(n.height=`${l.height}px`),o.classList.add(`neo-aligned-${l.position}`),t.addAligned(e)}applyBodyCls(e){let t=e.cls||[];document.body.classList.add(...t)}blur(e){return this.getElement(e.id)?.blur(),{id:e.id}}execCommand(e){return document.execCommand(e.command),e}focus({children:e,id:t,preventScroll:r}){let o=this.getElement(t);return o&&(!n.A.isFocusable(o)&&e&&(o=n.A.query(o,n.A.isFocusable)),o&&(o.focus({preventScroll:r}),Neo.isNumber(o.selectionStart)&&(o.selectionStart=o.selectionEnd=o.value.length))),{id:t}}getAttributes({attributes:e,id:t}){let r;if(Array.isArray(t))r=[],t.forEach(t=>{r.push(this.getAttributes({attributes:e,id:t}))});else{let o=this.getElementOrBody(t);r={},o&&(Array.isArray(e)||(e=[e]),e.forEach(e=>{r[e]=o[e]}))}return r}getBoundingClientRect(e){let t,r=this;if(Array.isArray(e.id))return e.id.map(e=>r.getBoundingClientRect({id:e}));{let o,n,i,a=r.getElementOrBody(e.nodeType?e:e.id),l={};t={},a&&(l=a.getBoundingClientRect(),i=a.ownerDocument.defaultView.getComputedStyle(a),o=i.getPropertyValue("min-width"),n=i.getPropertyValue("min-height"),t=s.A.clone(l),c.test(o)&&"0px"!==o&&(t.minWidth=r.measure({value:o,id:a})),c.test(n)&&"0px"!==n&&(t.minHeight=r.measure({value:n,id:a})))}return t}getClippedRect(e){let t=this.getElement("object"==typeof e?e.id:e),{defaultView:r}=t.ownerDocument,o=this.getBoundingClientRect(t);for(let e=t.offsetParent;e&&o&&e!==document.documentElement;e=e.parentElement)"visible"!==r.getComputedStyle(e).getPropertyValue("overflow")&&(o=o.intersects(this.getBoundingClientRect(e)));return o}getComputedStyle({id:e,style:t}){let r=this.getElement(e),o={};if(r){let e=window.getComputedStyle(r);Array.isArray(t)||(t=[t]),t.forEach(t=>{o[t]=e.getPropertyValue(t)})}return o}getElement(e){return"window"===e?globalThis:"document"===e?document:"document.body"===e||"body"===e?document.body:(e?.nodeType?e:Neo.config.useDomIds?document.getElementById(e):document.querySelector(`[data-neo-id='${e}']`))||null}getElementOrBody(e="document.body"){return e?this.getElement(e):null}getScrollingDimensions(e){let t=this;if(Array.isArray(e.id))return e.id.map(e=>t.getScrollingDimensions({id:e}));{let r=e.nodeType?e:t.getElementOrBody(e.id);return{clientHeight:r?.clientHeight,clientWidth:r?.clientWidth,scrollHeight:r?.scrollHeight,scrollWidth:r?.scrollWidth}}}initGlobalListeners(){let e=this;document.addEventListener("blur",e.onDocumentBlur.bind(e),d),document.addEventListener("keydown",e.onDocumentKeyDown.bind(e),d),document.addEventListener("keyup",e.onDocumentKeyUp.bind(e),d),document.addEventListener("mousedown",e.onDocumentMouseDown.bind(e),{capture:!0})}isAlignSubject(e){return[...this._aligns?.values()].some(t=>t.subject===e)}loadScript(e,t={defer:!0}){let r;return new Promise((o,n)=>{r=document.createElement("script"),Object.assign(r,{...t,onerror:n,onload:o,src:e}),document.head.appendChild(r)})}loadStylesheet(e,t=null){let r;return new Promise((o,n)=>{r=document.createElement("link"),Object.assign(r,{href:e,onerror:n,onload:o,rel:"stylesheet",type:"text/css"}),t&&Object.assign(r.dataset,t),document.head.appendChild(r)})}measure({value:e,id:t}){const r=1===t.nodeType?t:this.getElement(t);if(e.endsWith("%")){const t=parseFloat(e)/100;return(r.offsetParent?.getBoundingClientRect().height||0)*t}if(isNaN(e)&&!e.endsWith("px")){const t=r.ownerDocument.defaultView.getComputedStyle(r);let o=this._measuringDiv;o||(o=this._measuringDiv=document.createElement("div"),o.style="position:fixed;top:-10000px;left:-10000px"),document.body.appendChild(o),u.forEach(e=>{o.style[e]=t[e]}),o.className=r.className,o.style.width=e,e=t.width}else e=parseFloat(e);return e}async monitorAutoGrow(e){const t=this,r=e.subject=t.getElement(e.id);r[e.autoGrow?"addEventListener":"removeEventListener"]("input",t.monitorAutoGrowHandler),e.autoGrow&&t.monitorAutoGrowHandler({target:r})}monitorAutoGrowHandler(e){const t=e.target||this.getElement(e.id);if(t){const{style:e}=t,{style:r}=t.closest(".neo-textarea");e.height=e.minHeight=0,r.setProperty("--textfield-input-height",`${t.scrollHeight+5}px`),r.setProperty("height",""),e.height=e.minHeight=""}}onDocumentBlur(){Neo.altKeyDown=Neo.controlKeyDown=Neo.metaKeyDown=Neo.shiftKeyDown=!1}onDocumentKeyDown(e){p[e.key]&&(Neo[`${i.A.uncapitalize(e.key)}KeyDown`]=!0)}onDocumentKeyUp(e){p[e.key]&&(Neo[`${i.A.uncapitalize(e.key)}KeyDown`]=!1)}onDocumentMutation(e){const t=this;e.every(({type:e,addedNodes:r,removedNodes:o})=>{if("childList"===e)return[...Array.from(r),...Array.from(o)].every(e=>t.isAlignSubject(e))})||t.syncAligns()}onDocumentMouseDown(e){let t=e.target?.closest("[data-focus]");t&&(e.preventDefault(),document.getElementById(t.dataset.focus)?.focus())}onDomContentLoaded(){Neo.config.applyBodyCls&&this.applyBodyCls({cls:["neo-body"]}),Neo.config.applyFixedPositionToHtmlTag&&document.documentElement.style.setProperty("position","fixed")}getOffscreenCanvas(e){let t,r=this.getElement(e.nodeId);if(!r)return{result:{success:!1}};try{return t=r.transferControlToOffscreen(),{result:{offscreen:t},transfer:[t]}}catch(e){return{transferred:!0}}}onReadDom(e){let t,r,o=e.attributes||[],n=e.functions||[],s=e.styles||[],{vnodeId:i}=e,a={},l={},c={},d=i?this.getElement(i):null;o.forEach(e=>{a[e]=d[e]}),n.forEach((e,o)=>{Neo.isObject(e)?(e.params=e.params||[],e.paramIsDomNode=e.paramIsDomNode||[],r=e.scope?document[e.scope]:d,e.params.forEach((t,r)=>{!0===e.paramIsDomNode[r]&&(e.params[r]=this.getElement(e.params[r]))}),t=e.returnFnName?e.returnFnName:o,l[t]=r[e.fn](...e.params),e.returnValue&&(l[t]=l[t][e.returnValue])):l[e]=d[e]()}),s.forEach(e=>{c[e]=d.style[e]}),Object.assign(e,{attributes:a,functions:l,styles:c}),Neo.worker.Manager.sendMessage(e.origin,{action:"reply",data:e,replyId:e.id,success:!0})}onTrappedFocusMovement({target:e,relatedTarget:t}){const r=t&&4&e.compareDocumentPosition(t);if(e.matches(".neo-focus-trap")){const t=e.parentElement,o=t.$treeWalker,n=t.$topFocusTrap,s=t.$bottomFocusTrap;o.currentNode=r?s:n,o[r?"previousNode":"nextNode"](),requestAnimationFrame(()=>o.currentNode.focus())}}read(e){Neo.isFunction(e)&&e()}resetDimensions(e){Object.assign(this.getElement(e.id).style,{flex:e.configuredFlex,height:e.configuredHeight,maxHeight:e.configuredMaxHeight,maxWidth:e.configuredMaxWidth,minHeight:e.configuredMinHeight,minWidth:e.configuredMinWidth,width:e.configuredWidth})}async startViewTransition(e){if(!document.startViewTransition)return!1;const t=document.startViewTransition(async()=>{await this.timeout(e.delay||50)});return e.animate&&t.ready.then(()=>{document.documentElement.animate(e.animate.keyframes,e.animate.options)}),!0}scrollBy({behavior:e="auto",direction:t="top",id:r,value:o}){return this.getElement(r)?.scrollBy({behavior:e,[t]:o}),{id:r}}scrollIntoView({id:e,behavior:t="smooth",block:r="start",delay:o=500,inline:n="nearest",querySelector:s}){let i=e?this.getElement(e):document.querySelector(s),a={behavior:t,block:r,inline:n};if("smooth"===t)return new Promise(e=>{if(i){let t="scrollend"in window;t&&document.addEventListener("scrollend",()=>e(),{capture:!0,once:!0}),i.scrollIntoView(a),!t&&this.timeout(o).then(()=>{e()})}else e()});i.scrollIntoView(a)}scrollTo({behavior:e="auto",direction:t="top",id:r,value:o}){return this.getElement(r)?.scrollTo({behavior:e,[t]:o}),{id:r}}scrollToTableRow({id:e,behavior:t="smooth",offset:r=34}){let o=this.getElement(e);if(o){let e=o.parentNode.parentNode,n=e.parentNode,s=e.getBoundingClientRect().top,i=o.getBoundingClientRect().top;n.scrollTo({behavior:t,top:i-s-r})}return{id:e}}selectNode(e){let t=this.getElement(e.id),r=Neo.isNumber(e.start)?e.start:0,o=Neo.isNumber(e.end)?e.end:99999;return t&&(t.select(),t.setSelectionRange(r,o)),{id:e.id}}setBodyCls(e){document.body.classList.remove(...e.remove||[]),document.body.classList.add(...e.add||[])}setStyle(e){let t=this.getElementOrBody(e.id);return t&&Object.entries(e.style).forEach(([e,r])=>{Neo.isString(r)&&r.includes("!important")?(r=r.replace("!important","").trim(),t.style.setProperty(Neo.decamel(e),r,"important")):t.style[Neo.decamel(e)]=r}),{id:e.id}}syncAligns(e){const t=this,{_aligns:r}=t,o="scroll"===e?.type,n=o?e.target:null,s=o&&(n===document||n===document.documentElement);r?.forEach(e=>{const i=document.contains(e.targetElement);if(document.contains(e.subject)&&i){if(o&&!s&&!(n.contains(e.targetElement)||e.constrainToElement&&n.contains(e.constrainToElement)))return;t.align(e)}else{i||Neo.worker.App.setConfigs({id:e.id,hidden:!0});const{_alignResizeObserver:o}=t,{constrainToElement:n}=e;o.unobserve(e.subject),o.unobserve(e.offsetParent),o.unobserve(e.targetElement),n&&o.unobserve(n),e.subject.classList.remove(`neo-aligned-${e.result?.position}`),r.delete(e.id)}})}syncModalMask({id:e,modal:t}){const r=e&&this.getElement(e);if(r&&t&&r.ownerDocument.contains(r)&&"none"!==r.ownerDocument.defaultView.getComputedStyle(r).getPropertyValue("display"))document.body.insertBefore(this.modalMask,r);else{const e=document.querySelectorAll(".neo-modal"),t=e[e.length-1];t?this.syncModalMask({id:t.id,modal:!0}):this._modalMask?.remove()}}async trapFocus(e){const t=this,r=t.$boundOnTrappedFocusMovement||(t.$boundOnTrappedFocusMovement=t.onTrappedFocusMovement.bind(t)),o=e.subject=t.getElement(e.id),{trap:n=!0}=e;if(!o)return;let s=o.$topFocusTrap,i=o.$bottomFocusTrap;n?(o.$treeWalker||(o.$treeWalker=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,{acceptNode:l}),s=o.$topFocusTrap=document.createElement("div"),i=o.$bottomFocusTrap=document.createElement("div"),s.className=i.className="neo-focus-trap",s.setAttribute("tabIndex",0),i.setAttribute("tabIndex",0),o.addEventListener("focusin",r)),o.insertBefore(s,o.firstChild),o.appendChild(i)):o.removeEventListener("focusin",r)}windowScrollTo(e){window.scrollTo({behavior:e.behavior||"smooth",left:e.left||0,top:e.top||0})}}const m=Neo.setupClass(h)},9160(e,t,r){r.d(t,{A:()=>f});var o=r(8247);r(6215),r(8596);class n extends o.A{static config={className:"Neo.main.mixin.TouchDomEvents"};onTouchCancel(e){let t=this;t.sendMessageToApp(t.getEventData(e)),t.firstTouch=null,t.lastTouch=null}onTouchEnd(e){let t=this;t.sendMessageToApp(t.getEventData(e)),t.firstTouch=null,t.lastTouch=null}onTouchEnter(e){this.sendMessageToApp(this.getEventData(e))}onTouchLeave(e){this.sendMessageToApp(this.getEventData(e))}onTouchMove(e){let t=this,r=t.getEventData(e),o=e.touches[0],{lastTouch:n}=t;n&&Object.assign(r,{deltaX:o.clientX-n.clientX,deltaY:o.clientY-n.clientY}),t.sendMessageToApp(r),t.lastTouch=o,t.testPathInclusion(e,["neo-helix"])&&e.preventDefault()}onTouchStart(e){let t=this;t.firstTouch=e.touches[0],t.lastTouch=e.touches[0],t.sendMessageToApp(t.getEventData(e))}}const s=Neo.setupClass(n),i=[{name:"change",handler:"onChange"},{name:"click",handler:"onClick"},{name:"contextmenu",handler:"onContextMenu"},{name:"dblclick",handler:"onDoubleClick"},{name:"focusin",handler:"onFocusIn"},{name:"focusout",handler:"onFocusOut"},{name:"input",handler:"onChange"},{name:"keydown",handler:"onKeyDown"},{name:"keyup",handler:"onKeyUp"},{name:"mousedown",handler:"onMouseDown"},{name:"mouseenter",handler:"onMouseEnter",options:{capture:!0}},{name:"mouseleave",handler:"onMouseLeave",options:{capture:!0}},{name:"mouseup",handler:"onMouseUp"},{name:"scroll",handler:"onScroll",options:{capture:!0}},{name:"wheel",handler:"onWheel",options:{passive:!0}}],a=[{name:"touchcancel",handler:"onTouchCancel"},{name:"touchend",handler:"onTouchEnd"},{name:"touchenter",handler:"onTouchEnter"},{name:"touchleave",handler:"onTouchLeave"},{name:"touchmove",handler:"onTouchMove",options:{passive:!1}},{name:"touchstart",handler:"onTouchStart"}],l=["neo-c-m-scrollcontainer","neo-c-w-scrollcontainer","neo-calendar-yearcomponent","neo-circle-component","neo-dateselector","neo-gallery","neo-helix"],c={"neo-c-m-scrollcontainer":100,"neo-c-w-scrollcontainer":100,"neo-calendar-yearcomponent":300,"neo-dateselector":300},d=["neo-c-m-scrollcontainer","neo-c-w-scrollcontainer"],u={date:null,target:null},p={},h=[],m=[];class g extends o.A{static observable=!0;static config={className:"Neo.main.DomEvents",mixins:[s],singleton:!0,remote:{app:["addDomListener","registerDisabledInputChars","registerPreventDefaultTargets","unregisterDisabledInputChars"]}};lastMouseMoveData=null;lastTouch=null;mouseMoveReqId=null;construct(e){super.construct(e);let t=this;document.addEventListener("DOMContentLoaded",t.onDomContentLoaded.bind(t)),document.addEventListener("selectionchange",t.onSelectionChange.bind(t)),document.addEventListener("visibilitychange",t.onVisibilitychange.bind(t)),window.addEventListener("orientationchange",t.onOrientationChange.bind(t)),window.addEventListener("hashchange",t.onHashChange.bind(t)),Neo.config.useSharedWorkers&&window.addEventListener("beforeunload",t.onBeforeUnload.bind(t))}addDomListener(e){let t,r,o,n=this,s=0,i=e.events.length,a=null;for(;s<i;s++)t=e.events[s],n[t.handler]||(n[t.handler]=Neo.emptyFn),r=t.vnodeId||e.vnodeId,o="document.body"===r?document.body:Neo.config.useDomIds?document.getElementById(r):document.querySelector(`[data-neo-id='${r}']`),o?o.addEventListener(t.name,n[t.handler].bind(n),t.options):a=r;a&&"development"===Neo.config.environment&&console.warn("DomEvents:addDomListener() => target node not found:",a),Neo.worker.Manager.sendMessage(e.origin,{action:"reply",data:e,replyId:e.id,success:!a})}addGlobalDomListeners(){let e=this;[...i].concat(Neo.config.hasTouchEvents?a:[]).forEach(t=>{document.body.addEventListener(t.name,e[t.handler].bind(e),t.options)})}domEventListener(e){let{target:t}=e,r={action:"domEvent",eventName:e.type,data:{...this.getEventData(e),id:t.id,value:t.value}};"mousemove"===e.type?Object.assign(r.data,this.getMouseEventData(e)):e.cancelable&&e.preventDefault(),Neo.worker.Manager.sendMessage("app",r)}geAriaAttributes(e){let t,r={},{attributes:o}=e,n=0,s=o?.length||0;for(;n<s;n++)t=o[n],t.name.startsWith("aria-")&&(r[t.name.substring(5)]=t.value);return r}getDistance(e,t,r,o){return Math.sqrt((r-e)**2+(o-t)**2)}getEventData(e){let t=e.composedPath();t.length<1&&(t=e.path||[]);const r={path:t.map(e=>this.getTargetData(e)),target:this.getTargetData(e.target),timeStamp:e.timeStamp,type:e.type,data:{...e.target.dataset}};return e.relatedTarget&&(r.relatedTarget=this.getTargetData(e.relatedTarget)),r}getKeyboardEventData(e){let{altKey:t,code:r,ctrlKey:o,key:n,keyCode:s,metaKey:i,shiftKey:a}=e;return{...this.getEventData(e),altKey:t,code:r,ctrlKey:o,key:n,keyCode:s,metaKey:i,shiftKey:a}}getMouseEventData(e){let{altKey:t,button:r,buttons:o,clientX:n,clientY:s,ctrlKey:i,detail:a,metaKey:l,offsetX:c,offsetY:d,pageX:u,pageY:p,screenX:h,screenY:m,shiftKey:g}=e;return{...this.getEventData(e),altKey:t,button:r,buttons:o,clientX:n,clientY:s,ctrlKey:i,detail:a,metaKey:l,offsetX:c,offsetY:d,pageX:u,pageY:p,screenX:h,screenY:m,shiftKey:g}}getPathFromElement(e){let t=[];if(e)for(t.push(e);e.parentNode;)t.push(e.parentNode),e=e.parentNode;return t}getSelectionPath(e,t){return t.parentNode&&t.id.split("__").length>1&&(e=this.getSelectionPath(e,t.parentNode)),e.push(this.getTargetData(t)),e}getTargetData(e){let t=e.getBoundingClientRect?.(),r=t&&this.parseDomRect(t)||{};return{aria:this.geAriaAttributes(e),checked:e.checked,childElementCount:e.childElementCount,clientHeight:e.clientHeight,clientLeft:e.clientLeft,clientTop:e.clientTop,clientWidth:e.clientWidth,cls:e.classList?[...e.classList]:[],data:{...e.dataset},draggable:e.draggable,hidden:e.hidden,id:Neo.config.useDomIds?e.id:e.dataset?.neoId,inert:e.inert,isConnected:e.isConnected,isContentEditable:e.isContentEditable,nodeType:e.nodeType,offsetHeight:e.offsetHeight,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,offsetWidth:e.offsetWidth,rect:r,role:e.role,scrollHeight:e.scrollHeight,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollWidth:e.scrollWidth,style:e.style?.cssText,tabIndex:e.getAttribute?.("tabindex")?e.tabIndex:null,tagName:e.tagName?.toLowerCase()}}getTouchCoords(e){let{touches:t,changedTouches:r}=e;return t?.[0]||r?.[0]}onBeforeUnload(e){let{Manager:t}=Neo.worker;t.appNames.forEach(e=>{t.broadcast({action:"disconnect",appName:e,windowId:t.windowId})})}onChange(e){let{target:t}=e,r={...this.getEventData(e),valid:t.checkValidity?.(),value:t.value};t.files&&(r.files=t.files),this.sendMessageToApp(r)}onClick(e){let t=this;t.sendMessageToApp(t.getMouseEventData(e)),t.testPathInclusion(e,h)&&e.preventDefault()}onContextMenu(e){let t=this;t.sendMessageToApp(t.getMouseEventData(e)),(e.ctrlKey||t.testPathInclusion(e,m))&&e.preventDefault()}onDomContentLoaded(){this.addGlobalDomListeners(),this.fire("domContentLoaded")}onDoubleClick(e){let t=this;t.sendMessageToApp(t.getMouseEventData(e)),t.testPathInclusion(e,h)&&e.preventDefault()}onFocusIn(e){this.sendMessageToApp(this.getEventData(e))}onFocusOut(e){this.sendMessageToApp(this.getEventData(e))}onHashChange(){let{Manager:e}=Neo.worker,t=location.hash.substring(1);e.sendMessage("app",{action:"hashChange",data:{appNames:e.appNames,hash:this.parseHash(t),hashString:t,windowId:e.windowId}})}onKeyDown(e){let t=this,{target:r}=e,{tagName:o}=r,n="INPUT"===o||"TEXTAREA"===o;n&&p[r.id]?.includes(e.key)?e.preventDefault():(t.sendMessageToApp(t.getKeyboardEventData(e)),n&&"Tab"===e.key&&t.testPathInclusion(e,["neo-grid-editor","neo-table-editor"],!0)&&e.preventDefault(),!n&&["ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(e.key)&&t.testPathInclusion(e,["neo-selection"],!0)&&e.preventDefault())}onKeyUp(e){this.sendMessageToApp(this.getKeyboardEventData(e))}onMouseDown(e){this.sendMessageToApp(this.getMouseEventData(e))}onMouseEnter(e){let t=this,r={...t.getMouseEventData(e),fromElementId:e.fromElement?.id||null,toElementId:e.toElement?.id||null};t.sendMessageToApp(r),t.fire("mouseEnter",r)}onMouseLeave(e){let t=this,r={...t.getMouseEventData(e),fromElementId:e.fromElement?.id||null,toElementId:e.toElement?.id||null};t.sendMessageToApp(r),t.fire("mouseLeave",r)}onMouseMove(e){let t=this;t.lastMouseMoveData=t.getMouseEventData(e),t.mouseMoveReqId||(t.mouseMoveReqId=requestAnimationFrame(t.flushMouseMove.bind(t)))}flushMouseMove(){let e=this;e.lastMouseMoveData&&(e.sendMessageToApp(e.lastMouseMoveData),e.lastMouseMoveData=null),e.mouseMoveReqId=null}onMouseUp(e){this.sendMessageToApp(this.getMouseEventData(e))}onOrientationChange(e){let{orientation:t}=screen,{angle:r,type:o}=t,n=0===r||180===r?"portrait":"landscape";Neo.worker.Manager.sendMessage("app",{action:"orientationChange",data:{angle:r,layout:n,type:o}})}onScroll(e){let t,r=this,{firstTouch:o,lastTouch:n}=r,{clientHeight:s,clientWidth:i,scrollLeft:a,scrollTop:l}=e.target;e.preventDefault(),t={...r.getEventData(e),clientHeight:s,clientWidth:i,scrollLeft:a,scrollTop:l},o&&(t.touches={firstTouch:{clientX:o.clientX,clientY:o.clientY},lastTouch:{clientX:n.clientX,clientY:n.clientY}}),r.sendMessageToApp(t)}onSelectionChange(e){let t,r,o=this,{target:n}=e,s=n.type?n:n.activeElement;"BODY"!==n.tagName&&(t=o.getSelectionPath([],s),r=o.getTargetData(s),o.sendMessageToApp({path:t,selection:{direction:s.selectionDirection,end:s.selectionEnd,start:s.selectionStart},target:r,timeStamp:e.timeStamp,type:"selectionchange"}))}onVisibilitychange(e){Neo.worker.Manager.sendMessage("app",{action:"visibilityChange",data:{hidden:document.hidden,visibilityState:document.visibilityState,windowId:Neo.worker.Manager.windowId}})}onWheel(e){let t,r=this.testPathInclusion(e,l),o=!1;if(r){if(t=r.cls,c[r.cls]){let e=new Date;u.date&&u.target===t&&e-u.date<c[t]?o=!0:Object.assign(u,{date:e,target:t})}if(!o){let{deltaX:t,deltaY:o,deltaZ:n}=e;this.sendMessageToApp({...this.getEventData(e),clientHeight:r.node.clientHeight,clientWidth:r.node.clientWidth,deltaX:t,deltaY:o,deltaZ:n,scrollLeft:r.node.scrollLeft,scrollTop:r.node.scrollTop})}d.includes(t)||e.currentTarget!==document.body&&(e.preventDefault(),e.stopPropagation())}}parseDomRect(e){let{bottom:t,height:r,left:o,right:n,top:s,width:i,x:a,y:l}=e;return{bottom:t,height:r,left:o,right:n,top:s,width:i,x:a,y:l}}parseHash(e){if(""===e)return{};let t,r,o,n,s=e.split("&"),i={};for(t=0;t<s.length;t++)o=s[t].split("="),o.length<2&&o.push(""),r=decodeURIComponent(o[0]),n=decodeURIComponent(o[1]),-1!==r.indexOf("[]")?(r=r.substring(0,r.indexOf("[]")),void 0===i[r]&&(i[r]=[]),i[r].push(this.parseValue(n))):i[r]=this.parseValue(n);return i}parseValue(e){return e==parseInt(e)?e=parseInt(e):"false"===e?e=!1:"true"===e&&(e=!0),e}registerDisabledInputChars(e){p[e.id]=e.chars}registerPreventDefaultTargets(e){let t;switch(Array.isArray(e.cls)||(e.cls=[e.cls]),e.name){case"click":t=h;break;case"contextmenu":t=m}e.cls.forEach(e=>{!t.includes(e)&&t.push(e)})}sendMessageToApp(e){Neo.worker.Manager.sendMessage("app",{action:"domEvent",eventName:e.type,data:e})}stripHtml(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent||""}testPathInclusion(e,t,r=!1){let o,n,s=t.length,i=e.path||e.composedPath(),a=0,l=i.length;for(;a<l;a++)for(n=i[a],o=0;o<s;o++)if(r&&n.classList?.value?.includes(t[o])||n.classList?.contains(t[o]))return{cls:t[o],node:n};return!1}unregisterDisabledInputChars(e){delete p[e.id]}}const f=Neo.setupClass(g)},6049(e,t,r){r.d(t,{A:()=>i});var o=r(8247);const n={BODY:1,BUTTON:1,EMBED:1,IFRAME:1,INPUT:1,OBJECT:1,SELECT:1,TEXTAREA:1};class s extends o.A{static config={className:"Neo.main.DomUtils"};static closest(e,t,r=document.body){for(;e?.nodeType===Node.ELEMENT_NODE&&e!==r;){if(t(e))return e;e=e.parentNode}}static isFocusable(e){return s.isTabbable(e)||Number(e.getAttribute("tabIndex"))<0}static isTabbable(e){const{nodeName:t}=e,r=getComputedStyle(e),o=e.getAttribute("tabIndex");return!(!e.isConnected||!e.offsetParent||"hidden"===r.getPropertyValue("visibility")||Number(o)<0)&&(n[t]||("A"===t||"LINK"===t)&&!!e.href||null!=o&&Number(o)>=0||"true"===e.contentEditable)}static query(e,t){return[e,...e.querySelectorAll("*")].find(t)}static queryAll(e,t){return[e,...e.querySelectorAll("*")].filter(t)}}const i=Neo.setupClass(s)},3439(e,t,r){function o(e,t,r=300){let o;const n=function(...s){clearTimeout(o),n.isPending=!0,o=setTimeout(()=>{o=0,n.isPending=!1,e.apply(t,s)},r)};return n.cancel=()=>{n.isPending=!1,clearTimeout(o)},n}function n(e,t,r=300){let o;return function(...n){Neo.isNumber(o)?(clearTimeout(o),o=setTimeout(()=>{t?.id&&e.apply(t,n),o=setTimeout(()=>{o=null},r)},r)):(t?.id&&e.apply(t,n),o=setTimeout(()=>{o=null},r))}}function s(e,t,r,o,n=null){let s=e[t];return e[t]=function(){return!1===r.apply(o||e,arguments)?n:s.apply(e,arguments)}}function i(e,t=this){if(Neo.isString(e)){if(!t[e]&&e.startsWith("up."))for(e=e.slice(3);!t[e]&&(t=t.parent););else t=t.getController?.()?.getHandlerScope(e,null)||t;e=t[e]}return{fn:e,scope:t}}function a(e,t,r=300){let o,n,s=0;return function(...i){const a=Date.now();o=i,a-s>=r?(n&&(clearTimeout(n),n=null),t?.id&&e.apply(t,o),s=a):n||(n=setTimeout(()=>{n=null,s=Date.now(),t?.id&&e.apply(t,o)},r-(a-s)))}}r.d(t,{Ap:()=>i,Zc:()=>s,nF:()=>a,r:()=>o,sg:()=>n}),Symbol("originalMethod"),Symbol("sequencedFns")},1406(e,t,r){r.d(t,{A:()=>m});const o=Object.freeze([]),n=(e=0)=>{switch(Array.isArray(e)||(e=[e]),e.length){case 1:return e.length=4,e.fill(e[0],1,4);case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]]}return e},s=e=>{const t=a[e.ourEdge],r=a[e.theirEdge];return`${t}${e.ourEdgeOffset}${e.ourEdgeUnit}-${r}${e.theirEdgeOffset}${e.theirEdgeUnit}`},i=e=>{const t=e instanceof DOMRect?e:(1===e?.nodeType?e:"string"==typeof e?document.getElementById(e):null)?.getBoundingClientRect();return t&&new m(t.x,t.y,t.width,t.height)},a={t:"b",r:"l",b:"t",l:"r"},l={t:0,r:1,b:2,l:3},c=["top","right","bottom","left"],d=["t","r","b","l"],u=["width","height"],p=[0,0,0,0],h=/^([trblc])(\d*)(%|px)?-([trblc])(\d*)(%|px)?$/;class m extends DOMRect{static config={className:"Neo.util.Rectangle"};minHeight=null;minWidth=null;static excludes(e,t){return e.bottom<t.top||e.left>t.right||e.right<t.left||e.top>t.bottom}static getIntersection(e,t){let r=Math.max(e.x,t.x),o=Math.max(e.y,t.y),n=Math.min(e.right,t.right),s=Math.min(e.bottom,t.bottom),i=Math.max(0,n-r),a=Math.max(0,s-o);return a<1||i<1?null:new m(r,o,i,a)}static includes(e,t){return e.bottom>=t.bottom&&e.left<=t.left&&e.right>=t.right&&e.top<=t.top}static leavesSide(e,t,r){return!m.includes(e,t)&&("bottom"===r?e.bottom<t.bottom:"left"===r?e.left>t.left:"right"===r?e.right<t.right:"top"===r?e.top>t.top:void 0)}static moveBy(e,t=null,r=null){let o={...e};return Neo.isNumber(t)&&(o.left+=t,o.right+=t,o.x+=t),Neo.isNumber(r)&&(o.bottom+=r,o.top+=r,o.y+=r),o}static moveTo(e,t=null,r=null){let o={...e};return Neo.isNumber(t)&&(o.left=t,o.right=t+o.width,o.x=t),Neo.isNumber(r)&&(o.bottom=r+o.height,o.top=r,o.y=r),o}set bottom(e){this.height+=e-this.bottom}get bottom(){return super.bottom}set right(e){this.width+=e-this.right}get right(){return super.right}changeX(e){const t=this.x-e;this.x=e,this.width+=t}changeY(e){const t=this.y-e;this.y=e,this.height+=t}clone(){return m.clone(this)}static clone(e){const t=new m(e.x,e.y,e.width,e.height);return t.minWidth=e.minWidth,t.minHeight=e.minHeight,t}intersects(e){const t=this;if(e.height&&e.width){const r=Math.max(t.x,e.x),o=Math.max(t.y,e.y),n=Math.min(t.x+t.width,e.x+e.width),s=Math.min(t.y+t.height,e.y+e.height);return!(r>=n||o>=s)&&new m(r,o,n-r,s-o)}return e.x>=t.x&&e.y>=t.y&&e.right<=t.right&&e.bottom<=t.bottom}expand(e){return e=n(e),new this.constructor(this.x-e[3],this.y-e[0],this.width+e[1]+e[3],this.height+e[0]+e[2])}moveBy(e=0,t=0){const r=this.clone();return Array.isArray(e)&&(t=e[1],e=e[0]),r.x+=e,r.y+=t,r}contains(e){return m.includes(this,e)}constrainTo(e){const t=this,r=t.minWidth||t.width;if((t.minHeight||t.height)>e.height||r>e.width)return!1;const o=t.clone();return o.x=Math.max(t.x+Math.min(e.right-o.right,0),e.x),o.y=Math.max(t.y+Math.min(e.bottom-o.bottom,0),e.y),o.bottom=Math.min(o.bottom,e.bottom),o.right=Math.min(o.right,e.right),o}alignTo(e){const t=this,{constrainTo:r,target:o,edgeAlign:m,axisLock:g,offset:f,matchSize:y}=e,b=e.targetMargin?n(e.targetMargin):p,v=i(o),N=i(r),w=(e=>{const t=h.exec(e),r=l[t[1]],o=l[t[4]];return{ourEdge:t[1],ourEdgeOffset:parseInt(t[2]||50),ourEdgeUnit:t[3]||"%",ourEdgeZone:r,theirEdge:t[4],theirEdgeOffset:parseInt(t[5]||50),theirEdgeUnit:t[6]||"%",theirEdgeZone:o,edgeAligned:(1&r)==(1&o)&&r!==o}})(m),E=u[1&w.theirEdgeZone];let C=t.clone();y&&(C[E]=v[E]);const A=C.getAnchorPoint(w.ourEdgeZone,w.ourEdgeOffset,w.ourEdgeUnit),S=v.getAnchorPoint(w.theirEdgeZone,w.theirEdgeOffset,w.theirEdgeUnit,b),M=[S[0]-A[0],S[1]-A[1]];if(C=C.moveBy(M),C.zone=w.theirEdgeZone,C.position=c[C.zone],N&&!N.contains(C)){if(v.intersects(C))return C;let e=w.theirEdgeZone;const r=[{zone:e,edgeAlign:m}];if(g)r[1]={zone:e=(e+2)%4,edgeAlign:s(w)},r.push({zone:e=(w.theirEdgeZone+1)%4,edgeAlign:`${a[d[e]]}-${d[e]}`}),r.push({zone:e=(w.theirEdgeZone+3)%4,edgeAlign:`${a[d[e]]}-${d[e]}`});else for(let t=1;t<4;t++)r.push({zone:e=(e+1)%4,edgeAlign:`${a[d[e]]}-${d[e]}`});for(let e=0;e<r.length;e++){const t=N.clone();switch(r[e].zone){case 0:t.bottom=v.y-b[0];break;case 1:t.changeX(v.right+b[1]);break;case 2:t.changeY(v.bottom+b[2]);break;case 3:t.right=v.x-b[3]}r[e].constrainRect=t}for(let e=0;e<r.length;e++){const{zone:o,edgeAlign:n,constrainRect:s}=r[e],i=d[o];y&&(C[E]=i===w.theirEdge||i==a[w.theirEdge]?v[E]:t[E]),C=C.alignTo({target:v,edgeAlign:n,targetMargin:b});let l=C.constrainTo(s);if(l)return l.zone=o,l.position=c[o],l}}return f&&C.moveBy(f),C}getAnchorPoint(e,t,r,n=o){const s=this;let i;switch(e){case 0:i=[s.x,s.y-(n[0]||0),s.width,0];break;case 1:i=[s.x+s.width+(n[1]||0),s.y,s.height,1];break;case 2:i=[s.x,s.y+s.height+(n[2]||0),s.width,0];break;case 3:i=[s.x-(n[3]||0),s.y,s.height,1]}return i[i[3]]+="%"===r?i[2]/100*t:t,i.length=2,i}equals(e){return e instanceof DOMRect&&e.x===this.x&&e.y===this.y&&e.height===this.height&&e.width===this.width}show(e="red"){const t=document.createElement("div");return t.style=`\n            position:absolute;\n            transform:translate3d(${this.x}px, ${this.y}px, 0);\n            height:${this.height}px;\n            width:${this.width}px;\n            background-color:${e}\n        `,document.body.appendChild(t),setTimeout(()=>t.remove(),3e4),t}toJSON(){const{bottom:e,height:t,left:r,minHeight:o,minWidth:n,right:s,top:i,width:a,x:l,y:c}=this;return{bottom:e,height:t,left:r,minHeight:o,minWidth:n,right:s,top:i,width:a,x:l,y:c}}}},8596(e,t,r){r.d(t,{A:()=>s});var o=r(8247);class n extends o.A{static charEntityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;",$:"&dollar;","\\":"&bsol;","/":"&sol;"};static charPattern=/[&<>"'$\\]/g;static entityPattern=/(&amp;)|(&lt;)|(&gt;)|(&quot;)|(&apos;)|(&dollar;)|(&bsol;)|(&sol;)/g;static config={className:"Neo.util.String"};static escapeHtml(e){let t=this;return Neo.isString(e)?e.replace(t.charPattern,t.getEntityFromChar.bind(t)):e}static getCharFromEntity(e){return Object.keys(this.charEntityMap).find(t=>this.charEntityMap[t]===e)||e}static getEntityFromChar(e){return this.charEntityMap[e]||e}static unescapeHtml(e){let t=this;return Neo.isString(e)?e.replace(t.entityPattern,t.getCharFromEntity.bind(t)):e}static uncapitalize(e){return e&&e[0].toLowerCase()+e.substring(1)}}const s=Neo.setupClass(n)},3994(e,t,r){r.d(t,{yL:()=>o}),new Set(["circle","clipPath","ellipse","filter","foreignObject","image","marker","mask","pattern","rect","svg","use"]);const o=new Set(["checked","defer","disabled","ismap","multiple","nohref","noresize","noshade","nowrap","open","readonly","required","reversed","selected"]);new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"])},126(e,t,r){r.d(t,{A:()=>g});var o=r(8247),n=r(4392),s=r(9160),i=r(358);class a{constructor(e){e.destination=e.destination||"main",e.id=e.id||i.A.getId(Neo.workerId),e.origin=e.origin||Neo.workerId,Object.assign(this,e)}}Neo.ns("Neo.worker",!0).Message=a;const l=a;var c=r(6215);class d extends o.A{static config={className:"Neo.worker.mixin.RemoteMethodAccess"};assignPort(e,t){if(e){const{appName:r,port:o,windowId:n}=e;Object.assign(t,{appName:r,port:o,windowId:n})}}generateRemote(e,t){let r=this,{origin:o}=e;return function(n,s){let i={action:"remoteMethod",data:n,destination:o,remoteClassName:e.className,remoteMethod:t};return"main"===o&&n?.windowId&&(i.destination=n.windowId),r.isSharedWorker&&r.assignPort(n,i),r.promiseMessage(i.destination,i,s)}}onRegisterRemote(e){if(e.destination===Neo.workerId){let t=this,{className:r,methods:o}=e,n=Neo.ns(r,!0);o.forEach(o=>{if("main"!==e.origin&&n[o])throw new Error("Duplicate remote method definition "+r+"."+o);n[o]??=t.generateRemote(e,o)}),e.id&&t.resolve(e,!0)}}onRemoteMethod(e){let t,r,o=this,n=Neo.ns(e.remoteClassName);if(!n)throw new Error('Invalid remote namespace "'+e.remoteClassName+'"');if(r=n[e.remoteMethod],!r)throw new Error('Invalid remote method name "'+e.remoteMethod+'" in namespace "'+e.remoteClassName+'"');t=!n.isReady&&n.interceptRemotes?.includes(e.remoteMethod)?n.onInterceptRemotes(e):Array.isArray(e.data)?r.call(n,...e.data):r.call(n,e.data),Neo.isPromise(t)?t.catch(t=>{t!==Neo.isDestroyed&&console.error(t),o.reject(e,t)}).then(t=>{o.resolve(e,t)}):o.resolve(e,t)}reject(e,t){let r=this,o={action:"reply",data:t,reject:!0,replyId:e.id};r.isSharedWorker&&(r.assignPort(e,o),"main"===e.origin&&o.windowId&&(e.origin=o.windowId)),r.sendMessage(e.origin,o)}resolve(e,t){let r,o=this,n=null;Neo.isObject(t)&&Array.isArray(t.transfer)&&(n=t.transfer,t=t.result||t),r={action:"reply",data:t,replyId:e.id},o.isSharedWorker&&(o.assignPort(e,r),"main"===e.origin&&r.windowId&&(e.origin=r.windowId)),o.sendMessage(e.origin,r,n)}}const u=Neo.setupClass(d),p=Neo.config,h="development"===p.environment||"dist/esm"===p.environment;navigator.serviceWorker?.addEventListener("controllerchange",function(){window.location.reload()},{once:!0});class m extends o.A{static config={className:"Neo.worker.Manager",activeWorkers:0,appNames:[],applicationLoaded:!1,constructedThreads:0,mixins:[c.A,u],remote:{app:["setNeoConfig","startWorker"],canvas:["setNeoConfig"],data:["setNeoConfig"],task:["setNeoConfig"],vdom:["setNeoConfig"]},sharedWorkersEnabled:!1,singleton:!0,stopCommunication:!1,webWorkersEnabled:!1,windowId:window.__NEO_SSR__?.windowId||crypto.randomUUID(),workers:{app:{fileName:h?"App.mjs":"appworker.js"},canvas:{fileName:h?"Canvas.mjs":"canvasworker.js"},data:{fileName:h?"Data.mjs":"dataworker.js"},task:{fileName:h?"Task.mjs":"taskworker.js"},vdom:{fileName:h?"VDom.mjs":"vdomworker.js"}}};serviceWorker=null;construct(e){let t=this;t.promises={},super.construct(e),t.detectFeatures(),!Neo.insideWorker&&t.createWorkers(),navigator.serviceWorker&&(navigator.serviceWorker.onmessage=t.onWorkerMessage.bind(t),t.checkServiceWorkerVersion()),Neo.setGlobalConfig=t.setGlobalConfig.bind(t),Neo.workerId="main",t.on({"message:addDomListener":{fn:s.A.addDomListener,scope:s.A},"message:getOffscreenCanvas":{fn:n.A.onGetOffscreenCanvas,scope:n.A},"message:readDom":{fn:n.A.onReadDom,scope:n.A},"message:registerRemote":{fn:t.onRegisterRemote,scope:t},"message:workerConstructed":{fn:t.onWorkerConstructed,scope:t}})}broadcast(e,t){let r=this;Object.keys(r.workers).forEach(o=>{o!==t&&r.getWorker(o)&&r.sendMessage(o,e)})}async checkServiceWorkerVersion(){if(navigator.serviceWorker?.controller){let e=await this.promiseMessage("service",{action:"getVersion"});if(e?.version&&e.version!==Neo.config.version){const t="neoVersionReload",r=parseInt(sessionStorage.getItem(t)||"0"),o=Date.now();if(o-r<5e3)return void console.error("Reload loop detected. Aborting version enforcement.");sessionStorage.setItem(t,String(o)),console.error(`Version Mismatch! Client: ${Neo.config.version}, SW: ${e.version}. Reloading.`),location.reload(!0)}}}createWorker(e){let t=this,{fileName:r}=e,o=(e.basePath||Neo.config.workerBasePath)+r,n=`neomjs-${r.substring(0,r.indexOf(".")).toLowerCase()}-worker`,s=t.sharedWorkersEnabled&&p.useSharedWorkers,i=new(s?SharedWorker:Worker)(o,{name:n,type:"module"});return(s?i.port:i).onmessage=t.onWorkerMessage.bind(t),(s?i.port:i).onerror=t.onWorkerError.bind(t),t.activeWorkers++,i}createWorkers(){let e,t,r=this,o=Neo.clone(p,!0),{hash:n,href:i,search:a}=location,{windowId:l}=r,c=window.__NEO_SSR__;for([e,t]of(delete o.cesiumJsToken,n&&(o.hash={hash:s.A.parseHash(n.substring(1)),hashString:n.substring(1),windowId:l}),o.url={href:i,search:a},Object.entries(r.workers))){if("canvas"===e&&!o.useCanvasWorker||"task"===e&&!o.useTaskWorker||"vdom"===e&&!o.useVdomWorker)continue;try{t.worker=r.createWorker(t)}catch(e){document.body.innerHTML=e,r.stopCommunication=!0;break}let n={...o,windowId:l};c&&"app"===e&&(Object.assign(n,{cssMap:c.cssMap,useSSR:!0,vnode:c.vnode}),c.hash&&(n.hash=c.hash)),r.sendMessage(e,{action:"registerNeoConfig",data:n})}}detectFeatures(){if(p.devicePixelRatio=window.devicePixelRatio||1,p.hasMouseEvents=matchMedia("(pointer:fine)").matches,p.hasTouchEvents="ontouchstart"in window||navigator.maxTouchPoints>0,p.prefersDarkTheme=matchMedia("(prefers-color-scheme: dark)").matches,document.body.classList.add(p.hasMouseEvents?"neo-mouse":"neo-no-mouse"),!window.Worker)throw new Error("Your browser does not support Web Workers");this.webWorkersEnabled=!0,window.SharedWorker&&(this.sharedWorkersEnabled=!0)}getWorker(e){if("service"===e)return navigator.serviceWorker?.controller||this.serviceWorker;const t=this.workers[e];return t?e instanceof Worker?e:t.worker:null}hasWorker(e){return!!this.getWorker(e)}handleDomUpdate(e,t,r,o=!1){let n=this;if(t?.length>0)return n.promiseForwardMessage(e).then(e=>{n.sendMessage(r,o?e:{action:"reply",replyId:e.id,success:!0})}),void n.fire("updateVdom",o?e:{data:e,replyId:e.id});n.sendMessage(r,o?e:{action:"reply",replyId:e.id,success:!0})}loadApplication(){this.sendMessage("app",{action:"loadApplication"})}onWorkerConstructed(e){let t=this;t.constructedThreads++,t.applicationLoaded||t.constructedThreads!==t.activeWorkers+1||(t.applicationLoaded=!0,p.appPath&&t.timeout(p.loadApplicationDelay).then(()=>{t.loadApplication()}))}onWorkerError(e){!h&&console.log("Worker Error:",e)}onWorkerMessage(e){let t,r=this,{data:o}=e,n=null;const{action:s,destination:i,replyId:a}=o;if(r.fire("message:"+s,o),"updateVdom"===s)return o.replyId=o.id,void r.handleDomUpdate(o,o.deltas,o.origin,!1);if("reply"===s)if(t=r.promises[a],t)"main"===i&&(o=o.data),o&&(t[o.reject?"reject":"resolve"](o),delete r.promises[a]);else{let e=o.data;if(e)if(e.autoMount||e.updateVdom){let t=e.deltas;e.autoMount&&(t=[{action:"insertNode",index:e.parentIndex,outerHTML:e.outerHTML,parentId:e.parentId,vnode:e.vnode}],e.deltas=t),r.handleDomUpdate(o,t,i,!0)}else r.sendMessage(i,o)}if("main"!==i&&i!==r.windowId&&"reply"!==s)o.transfer&&(n=[o.transfer]),r.promiseMessage(i,o,n).then(e=>{r.sendMessage(e.destination,e)}).catch(e=>{r.sendMessage(o.origin,{action:"reply",reject:!0,replyId:o.id,error:e.message})});else if("main"!==i&&i!==r.windowId||"registerAppName"!==s)"main"!==i&&i!==r.windowId||"remoteMethod"!==s||r.onRemoteMethod(o);else{let{appName:e}=o;r.appNames.push(e),r.broadcast({action:"registerApp",appName:e})}}promiseForwardMessage(e){return new Promise((t,r)=>{this.promises[e.replyId]={data:e,reject:r,resolve:t}})}promiseMessage(e,t,r){let o=this;return new Promise((n,s)=>{let i,a=o.sendMessage(e,t,r);a?(i=a.id,o.promises[i]={reject:s,resolve:n}):s(new Error(o.stopCommunication?"Communication is stopped.":`Target worker '${e}' does not exist.`))})}resolveDomOperationPromise(e){if(e){let{promises:t}=this,r=t[e];r&&(r.resolve(r.data),delete t[e])}}sendMessage(e,t,r){let o,n,s=this;return!s.stopCommunication&&(t.channelPort?(n=t.channelPort,delete t.channelPort):n=s.getWorker(e),n)?(t.destination=e,t.windowId??=s.windowId,o=new l(t),(n.port?n.port:n).postMessage(o,r),o):null}setGlobalConfig(e){Neo.worker.App.setGlobalConfig(e)}setNeoConfig({broadcast:e,config:t,excludeOrigin:r}){Neo.merge(Neo.config,t),this.fire("neoConfigChange",t),e&&this.broadcast({action:"setNeoConfig",config:t},r)}startWorker({name:e}){let t=this;if(t.hasWorker(e))return!0;let r=t.workers[e];if(!r)return console.error(`Worker with name '${e}' is not defined.`),!1;let o="use"+Neo.capitalize(e)+"Worker";!1===p[o]&&(p[o]=!0),r.worker=t.createWorker(r);let n=Neo.clone(p,!0),{hash:i,href:a,search:l}=location,{windowId:c}=t;delete n.cesiumJsToken,n.url={href:a,search:l},i&&(n.hash={hash:s.A.parseHash(i.substring(1)),hashString:i.substring(1),windowId:c});let d={...n,windowId:c};return t.sendMessage(e,{action:"registerNeoConfig",data:d}),!0}}const g=Neo.setupClass(m)}},n={};function s(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return o[e](r,r.exports,s),r.exports}s.m=o,s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce((t,r)=>(s.f[r](e,t),t),[])),s.u=e=>"chunks/main/"+e+".js",s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t={792:0},r=e=>{var r,o,{__webpack_esm_ids__:n,__webpack_esm_modules__:i,__webpack_esm_runtime__:a}=e,l=0;for(r in i)s.o(i,r)&&(s.m[r]=i[r]);for(a&&a(s);l<n.length;l++)o=n[l],s.o(t,o)&&t[o]&&t[o][0](),t[n[l]]=0},s.f.j=(e,o)=>{var n=s.o(t,e)?t[e]:void 0;if(0!==n)if(n)o.push(n[1]);else{var i=import("./"+s.u(e)).then(r,r=>{throw 0!==t[e]&&(t[e]=void 0),r});i=Promise.race([i,new Promise(r=>n=t[e]=[r])]),o.push(n[1]=i)}};var i=s(5017);const a=/-./g,l=Symbol.for("configSymbol"),c=Symbol("getSetCache"),d={Array:(e,t,r)=>t?e.map(e=>p.clone(e,t,r)):e.slice(),Date:e=>new Date(e.valueOf()),Map:e=>new Map(e),NeoInstance:(e,t)=>t?e:p.cloneNeoInstance(e),Set:e=>new Set(e),Object(e,t,r){const o={};for(const n of Reflect.ownKeys(e)){const s=e[n];o[n]=t?p.clone(s,t,r):s}return o}},u={function(e){if(e.prototype?.constructor?.isClass)return"NeoClass"},object(e){if(e.constructor?.isClass&&e instanceof p.core.Base)return"NeoInstance"}};let p=globalThis.Neo||{};p=globalThis.Neo=Object.assign({ntypeMap:{},insideWorker:"undefined"!=typeof DedicatedWorkerGlobalScope||"undefined"!=typeof WorkerGlobalScope,isDestroyed:Symbol.for("Neo.isDestroyed"),applyFromNs(e,t,r,o){let n;if(e&&"Object"===p.typeOf(r))for(const s in r)n=t[r[s]],e[s]=o?n.bind(t):n;return e},applyToGlobalNs(e){let t="function"==typeof e?e.prototype:e,r=(t.isClass?t.config.className:t.className).split("."),o=r.pop();p.ns(r,!0)[o]=e},assignDefaults(e,t){if(e&&"Object"===p.typeOf(t))for(const r in t)Object.hasOwn(e,r)||(e[r]=t[r]);return e},assignToNs(e,t,r=globalThis,o=!0){let n;(e=Array.isArray(e)?e:e.split(".")).length>1?(n=e.pop(),r=p.ns(e,!0,r)):n=e,(o||void 0===r[n])&&(r[n]=t)},camel:e=>e.includes("-")?e.replace(a,e=>e[1].toUpperCase()):e,capitalize:e=>e[0].toUpperCase()+e.slice(1),clone:(e,t=!1,r=!1)=>d[p.typeOf(e)]?.(e,t,r)||e,cloneNeoInstance(e){let t={...e.originalConfig};return delete t._id,delete t.id,p.create(e.className,t)},create(e,t){let r,o,n=p.typeOf(e);if("NeoClass"===n)r=e;else{if("Object"===n){if(!(t=e).className&&!t.module)return console.error("Class created with object configuration missing className or module property",t),null;e=t.className||t.module.prototype.className}if(!y(e))throw new Error("Class "+e+" does not exist");r=p.ns(e)}return o=new r,o.construct(t),o.onConstructed(),o.onAfterConstructed(),o.init(),o},createConfig(e,t,r){if(p.hasPropertySetter(e,t))throw`Invalid config in ${e.className}: '${t}_'. The config '${t}' is already defined as reactive by a parent class.\nTo override the default value, use '${t}' (without the underscore) in your static config.\nIf you intended to create custom logic, use the 'beforeGet${p.capitalize(t)}()', 'beforeSet${p.capitalize(t)}()',and 'afterSet${p.capitalize(t)}()' hooks instead of redefining the config.`;const o="_"+t,n=t[0].toUpperCase()+t.slice(1),s="beforeGet"+n,i="beforeSet"+n,a="afterSet"+n;p[c]??={},p[c][t]||(p[c][t]={get(){let e=this,r=e.getConfig(t),n=Object.hasOwn(e[l],t),i=e[l][t],a=n?i:e[o];if(a instanceof Date)a=new Date(a.valueOf());else if(r.cloneOnGet){const{cloneOnGet:e}=r;if("deep"===e)a=p.clone(a,!0,!0);else if("shallow"===e){const e=p.typeOf(a);"Array"===e?a=[...a]:"Object"===e&&(a={...a})}}else Array.isArray(a)&&(a=[...a]);return n&&(e[t]=a,a=e[o],delete e[l][t]),"function"==typeof e[s]&&(a=e[s](a)),a},set(e){if(void 0===e)return;const r=this.getConfig(t);if(!r)return;let n=this,s=r.get(),{EffectManager:c}=p.core,d=!c?.isPaused();d&&c?.pause();try{switch(delete n[l][t],r.clone){case"deep":e=p.clone(e,!0,!0);break;case"shallow":e=p.clone(e,!1,!0)}if(n[o]=e,"function"==typeof n[i]&&void 0===(e=n[i](e,s)))return void(n[o]=s);n[o]=s,r.set(e)&&(n[a]?.(e,s),n.afterSetConfig?.(t,e,s))}finally{d&&c?.resume()}}},p[c][o]={get(){return this.getConfig(t)?.get()},set(e){this.getConfig(t)?.setRaw(e)}}),Object.defineProperty(e,t,p[c][t]),Object.defineProperty(e,o,p[c][o]),void 0!==r&&(e[t]=r)},emptyFn(){},gatekeep(e,t,r){const o=p.ns(t,!1);if(o)return o;const n=t.split("."),s=n.pop(),i=p.ns(n,!0);return i[s]=e,r?.(e),i[s]},hasPropertySetter(e,t){let r;for(;e.__proto__;){if(r=Object.getOwnPropertyDescriptor(e,t),"object"==typeof r&&"function"==typeof r.set)return!0;e=e.__proto__}return!1},merge(e,t,r){if(r)return p.merge(p.merge(e,r),t);if(!e)return t;for(const r in t){const o=t[r];"Object"===p.typeOf(o)?e[r]=p.merge(e[r]||{},o):e[r]=o}return e},mergeDeepArrays(e,t){if(!e)return t;if(!t)return e;if(Array.isArray(e)&&Array.isArray(t)){const r=new Map,o=p.clone(e,!0,!0),n=e=>e&&"object"==typeof e?e.id??e.name??null:null;return o.forEach((e,t)=>{const o=n(e);null!==o&&r.set(o,t)}),t.forEach(e=>{const t=n(e),s=null!==t?r.get(t):-1;void 0!==s&&s>-1?o[s]=p.mergeDeepArrays(o[s],e):-1===o.findIndex(t=>p.isEqual(t,e))&&o.push(p.clone(e,!0,!0))}),o}let r=p.clone(e,!0);return Object.entries(t).forEach(([e,t])=>{r[e]&&(Array.isArray(r[e])&&Array.isArray(t)||p.isObject(r[e])&&p.isObject(t))?r[e]=p.mergeDeepArrays(r[e],t):r[e]=t}),r},mergeConfig(e,t,r){const o=p.typeOf(e),n=p.typeOf(t);if("shallow"===r){if("Object"===o&&"Object"===n)return{...e,...t}}else if("deep"===r){if("Object"===o&&"Object"===n)return p.merge(p.clone(e,!0),t)}else if("deepArrays"===r){if("Object"===o&&"Object"===n)return p.mergeDeepArrays(e,t);if("Array"===o&&"Array"===n)return p.mergeDeepArrays(e,t)}else if("function"==typeof r)return r(e,t);return t},ns:(e,t=!1,r)=>(e=Array.isArray(e)?e:e.split(".")).reduce((e,r)=>{if(t&&!e[r]&&(e[r]={}),e)return e[r]},r||globalThis),nsWithArrays:(e,t=!1,r)=>(e=Array.isArray(e)?e:e.split(".")).reduce((e,r)=>{if(t&&!e[r]){if(r.endsWith("]"))return f(!0,r,e);e[r]={}}if(e)return r.endsWith("]")?f(!1,r,e):e[r]},r||globalThis),ntype(e,t){if("object"==typeof e){if(!(t=e).ntype)throw new Error("Class defined with object configuration missing ntype property. "+t.ntype);e=t.ntype}let r=p.ntypeMap[e];if(!r)throw new Error("ntype "+e+" does not exist");return p.create(r,t)},setupClass(e){let t,r,o,n,s,a,l=null,c=null,d=[],{ntypeMap:u}=p,h=e.prototype||e,m=p.ns(h.constructor.config.className,!1),g=[];if(m){if(p.config.unitTestMode)throw new Error("Namespace collision in unitTestMode for "+h.constructor.config.className);return m}for(;h.__proto__;){if(n=h.constructor,Object.hasOwn(n,"classConfigApplied")){l=p.clone(n.config,!0),c=p.clone(n.configDescriptors,!0),d=[...n.ntypeChain];break}g.unshift(h),h=h.__proto__}return r=l||{},o=c||{},g.forEach(s=>{let l,c={};if(n=s.constructor,t=n.config?p.clone(n.config,!0):{},p.overwrites&&n.applyOverwrites?.(t),Object.entries(t).forEach(([e,r])=>{const o="_"===e.slice(-1),n=o?e.slice(0,-1):e;p.isObject(r)&&!0===r[i.ol]&&(c[n]=p.clone(r,!0),r=r.value,o||(t[e]=r)),o?(delete t[e],t[n]=r,p.createConfig(s,n)):p.hasPropertySetter(s,e)||Object.defineProperty(s,e,{enumerable:!0,value:r,writable:!0})}),Object.keys(c).length>0)for(const e in c)Object.hasOwn(o,e)?Object.assign(o[e],c[e]):o[e]=c[e];if(Object.hasOwn(t,"ntype")){if(a=t.ntype,d.unshift(a),Object.hasOwn(u,a)&&t.className!==u[a])throw new Error(`ntype conflict for '${a}' inside the classes:\n${u[a]}\n${t.className}`);u[a]=t.className}l=Object.hasOwn(r,"mixins")&&r.mixins||[],n.observable&&l.push("Neo.core.Observable"),Object.hasOwn(t,"mixins")&&Array.isArray(t.mixins)&&t.mixins.length>0&&l.push(...t.mixins),l.length>0&&(function(e,t,r){Array.isArray(t)||(t=[t]);let o,n,s,i=0,a=t.length,l={};for(;i<a;i++){if(o=t[i],o.isClass)s=o.prototype,n=p.ns(s.className);else{if(!y(o))throw new Error("Attempting to mixin an undefined class: "+o+", "+e.prototype.className);n=p.ns(o),s=n.prototype}s.className.split(".").reduce(v(n),l),Object.entries(Object.getOwnPropertyDescriptors(s)).forEach(b(e.prototype,s,r))}e.prototype.mixins=l}(n,l,t),p.ns("Neo.core.Observable",!1,n.prototype.mixins)&&(n.observable=!0)),delete t.mixins,delete r.mixins,Object.entries(t).forEach(([e,t])=>{const n=o[e];r[e]=n?.merge?p.mergeConfig(r[e],t,n.merge):t}),Object.assign(n,{classConfigApplied:!0,config:p.clone(r,!0),configDescriptors:p.clone(o,!0),isClass:!0,ntypeChain:d}),!r.singleton&&this.applyToGlobalNs(e)}),h=e.prototype||e,d.forEach(e=>{h[`is${p.capitalize(p.camel(e))}`]=!0}),h.singleton&&(e=p.create(e),p.applyToGlobalNs(e)),s={className:h.className,module:e,ntype:Object.hasOwn(h,"ntype")?h.ntype:null,parentClassName:h.__proto__?.className||null},p.manager?.ClassHierarchy?p.manager.ClassHierarchy.add(s):(p.classHierarchyMap??={},p.classHierarchyMap[h.className]=s),e},typeOf:e=>null==e?null:u[typeof e]?.(e)||e.constructor?.name},p);const h=["_name","classConfigApplied","className","constructor","id","isClass","mixin","ntype","observable","toJSON"],m=/\d+/g,g=/^(\w+)\s*((?:\[\s*\d+\s*\]\s*)*)$/;function f(e,t,r){let o,n,s=(l=t,(g.exec(l)||[null]).slice(1).reduce((e,t)=>[e].concat(t.match(m)))),i=1,a=s.length;var l;if(e?r[s[0]]=n=r[s[0]]||[]:n=r[s[0]],n){for(;i<a;i++)o=parseInt(s[i]),e&&(n[o]=n[o]||{}),n=n[o];return n}}function y(e){try{return!!e.split(".").reduce((e,t)=>e[t],globalThis)}catch(e){return!1}}function b(e,t,r){return function([o,n]){if(!h.includes(o)&&!p.hasPropertySetter(e,o)){if(n.get&&n.set){p.createConfig(e,o);const n=t.constructor.config;return void(Object.hasOwn(n,o)&&(r[o]=n[o]))}if(e[o]?._from){if(t.className===e[o]._from)return void console.warn("Mixin set multiple times or already defined on a Base Class",e.className,t.className,o);throw new Error(`${e.className}: Multiple mixins defining same property (${t.className}, ${e[o]._from}) => ${o}`)}e[o]=t[o],Object.getOwnPropertyDescriptor(e,o)._from=t.className,"function"==typeof e[o]&&(e[o]._name=o)}}}function v(e){return(t,r,o,n)=>t[r]=o!==n.length-1?t[r]||{}:e}if(p.config??={},p.assignDefaults(p.config,e),"function"==typeof globalThis.addEventListener)globalThis.addEventListener("unhandledrejection",e=>{e.reason===p.isDestroyed&&e.preventDefault()});else if("undefined"!=typeof process&&"function"==typeof process.emit){const e=process.emit;process.emit=function(t,r,...o){return"unhandledRejection"===t&&r===p.isDestroyed||e.apply(this,arguments)}}const N=p;var w=s(8247);s(8561),s(358),s(6215),s(1528);class E extends w.A{static observable=!0;static operators=["==","===","!=","!==","<","<=",">",">=","doesNotStartWith","endsWith","excluded","included","isDefined","isUndefined","like","startsWith"];static config={className:"Neo.collection.Filter",ntype:"filter",disabled_:!1,filterBy_:null,includeEmptyValues:!0,isUpdating_:!1,listenerApplied:!1,operator_:"===",property_:"id",scope:null,value_:null};afterSetDisabled(...e){this.fireChangeEvent(...e)}afterSetFilterBy(e,t){}afterSetIsUpdating(e,t){!1===e&&this.fireChangeEvent(e,t)}afterSetOperator(...e){this.fireChangeEvent(...e)}afterSetProperty(...e){this.fireChangeEvent(...e)}afterSetValue(...e){this.fireChangeEvent(...e)}beforeSetFilterBy(e,t){return e&&"function"!=typeof e?(Neo.logError("filterBy has to be a function",this),t):e}beforeSetOperator(e,t){return this.beforeSetEnumValue(e,t,"operator")}export(){let{operator:e,property:t,value:r}=this;return this.filterBy?null:{operator:e,property:t,value:r}}fireChangeEvent(e,t){let r=this;if(void 0!==t&&!0!==r.isUpdating){let{operator:e,property:t,value:o}=r;r.fire("change",{operator:e,property:t,value:o})}}isFiltered(e,t,r){let o,n,s=this;return!s._disabled&&(!e||(s._filterBy?s.filterBy.call(s.scope||s,{allItems:r,filteredItems:t,item:e,value:s._value}):(!s.includeEmptyValues||null!==s._value&&!Neo.isEmpty(s._value))&&(o=s._value,n=e[s._property],o instanceof Date&&n instanceof Date&&(o=o.valueOf(),n=n.valueOf()),!E[s._operator](n,o))))}toJSON(){let e=this;return{...super.toJSON(),disabled:e.disabled,operator:e.operator,property:e.property,value:e.value}}static"=="(e,t){return e==t}static"==="(e,t){return e===t}static"!="(e,t){return e!=t}static"!=="(e,t){return e!==t}static"<"(e,t){return e<t}static"<="(e,t){return e<=t}static">"(e,t){return e>t}static">="(e,t){return e>=t}static doesNotStartWith(e,t){return Neo.isString(e)||(e=String(e)),Neo.isString(t)||(t=String(t)),!e?.toLowerCase().startsWith(t?.toLowerCase())}static endsWith(e,t){return Neo.isString(e)||(e=String(e)),Neo.isString(t)||(t=String(t)),e?.toLowerCase().endsWith(t?.toLowerCase())||!1}static excluded(e,t){return t.indexOf(e)<0}static included(e,t){return t.indexOf(e)>-1}static isDefined(e,t){return void 0!==e}static isUndefined(e,t){return void 0===e}static like(e,t){return Neo.isString(e)||(e=String(e)),Neo.isString(t)||(t=String(t)),e?.toLowerCase().includes(t?.toLowerCase())||!1}static startsWith(e,t){return Neo.isString(e)||(e=String(e)),Neo.isString(t)||(t=String(t)),e?.toLowerCase().startsWith(t?.toLowerCase())||!1}}const C=Neo.setupClass(E);class A extends w.A{static config={className:"Neo.util.Logger",level_:"info",singleton:!0};logChars={error:"E",info:"I",log:"L",warn:"W"};logColors={error:"indianred",info:"#acacac",log:"#448888",warn:"#6d6d00"};logLevels=["info","log","warn","error"];construct(e){super.construct(e);let t=this;Neo.applyFromNs(Neo,t,{error:"error",info:"info",log:"log",logError:"logError",warn:"warn"},!0),t.timeout(50).then(()=>{Neo.config.enableLogsInProduction||"dist/production"!==Neo.config.environment||(t.write=Neo.emptyFn)})}beforeSetLevel(e,t){return this.logLevels.indexOf(e)}error(e){throw new Error(e)}getCaller(){let e,t,r,o=(new Error).stack.split("\n"),n=!1;for(t in o)if(r=o[t],!n&&/Logger\.mjs/.test(r))n=!0;else if(n&&!/Logger\.mjs/.test(r)){r=r.replace(")",""),e=r.match(/([^\/]+)$/)[1].match(/([^ ]+)$/)[1];break}return e}info(...e){e=this.resolveArgs(...e),this.write(e,"info")}log(...e){e=this.resolveArgs(...e),this.write(e,"log")}logError(...e){e=this.resolveArgs(...e),this.write(e,"error")}onContextMenu(e){let{config:t}=Neo;if(t.enableComponentLogger&&("dist/production"!==t.env||!t.enableLogsInProduction)){let t,r=!1;e.path.forEach(e=>{t=Neo.getComponent(e.id,!1),t&&(r||(r=!0,console.group(e.id)),console.log(t))}),r&&console.groupEnd()}}resolveArgs(...e){let t=e[0],r={};return 1===e.length?Neo.isString(t)?r.msg=e[0]:Neo.isObject(t)&&(r=t):e.length>2&&(r.msg=e[0],r.data=e.slice(1)),r}warn(...e){e=this.resolveArgs(...e),this.write(e,"warn")}write(e,t){let r=this;if(r.beforeSetLevel(t)<r.level)return;console.log("#",e.msg,t);let o=r.logColors[t],n=r.logChars[t],s=`background-color:${o}; color: white; font-weight: 900;`,i=`color:${o};`,a=`[${r.getCaller()}] ${e.msg}`;e.data?(console.groupCollapsed(`%c ${n} %c ${a}`,s,i),console.log(e.data),console.groupEnd()):console.log(`%c ${n} %c ${a}`,s,i)}}const S=Neo.setupClass(A);class M extends w.A{static observable=!0;static config={className:"Neo.collection.Sorter",ntype:"sorter",directionMultiplier:1,direction_:"ASC",listenerApplied:!1,property_:"id",sortBy:null,useTransformValue:!0};afterSetDirection(e,t){let r=this;r.directionMultiplier="ASC"===e?1:-1,t&&r.fire("change",{direction:r.direction,property:r.property})}afterSetProperty(e,t){let r=this;t&&r.fire("change",{direction:r.direction,property:r.property})}defaultSortBy(e,t){let r=this;return e=e[r.property],t=t[r.property],r.useTransformValue&&(e=r.transformValue(e),t=r.transformValue(t)),null==e&&null!=t?1:null!=e&&null==t?-1:e>t?1*r.directionMultiplier:e<t?-1*r.directionMultiplier:0}export(){let{direction:e,property:t}=this;return!this.sortBy&&e&&t?{direction:e,property:t}:null}toJSON(){return{...super.toJSON(),direction:this.direction,property:this.property}}transformValue(e){return"string"==typeof e&&(e=e.toLowerCase()),e}}const I=Neo.setupClass(M),O=Symbol("countMutations"),k=Symbol.for("initialIndex"),D=Symbol("isFiltered"),T=Symbol("isSorted"),x=Symbol("silentUpdateMode"),j=Symbol("toAddArray"),_=Symbol("toRemoveArray"),P=Symbol("updatingIndex");class R extends w.A{static observable=!0;static config={className:"Neo.collection.Base",ntype:"collection",allItems:null,autoSort:!0,count_:0,filterMode:"primitive",filters_:[],internalIdMap_:null,items_:{[i.ol]:!0,clone:"shallow",value:null},keyProperty:"id",keyPropertyIndex:-1,map_:null,sortDirections:null,sortProperties:null,sorters_:[],sourceId_:null,trackInternalId:!1};initialIndexCounter=0;construct(e){let t=this,r={enumerable:!1,writable:!0};Object.defineProperties(t,{[O]:{...r,value:!1},[D]:{...r,value:!1},[T]:{...r,value:!1},[x]:{...r,value:!1},[j]:{...r,value:[]},[_]:{...r,value:[]},[P]:{...r,value:0}}),super.construct(e),t.items=t.items||[],t.autoSort&&t._sorters.length>0&&t.doSort()}add(e){return this.splice(null,null,e).addedItems}afterSetFilters(e,t){let r=this;e.forEach(e=>{!1===e.listenerApplied&&(e.on("change",r.onFilterChange,r),e.listenerApplied=!0)}),t&&r.filter()}afterSetItems(e,t){if(e){let t,r,o=this,n=0,s=e.length;for(;n<s;n++)r=e[n],o.itemFactory?.(r),r&&(o.map.set(o.getKey(r),r),o.trackInternalId&&(t=o.getInternalKey(r),t&&o.internalIdMap.set(t,r)));o.count=s}}afterSetSorters(e,t){let r=this;r.applySorterConfigs(),e.forEach(e=>{!1===e.listenerApplied&&(e.on("change",r.onSorterChange,r),e.listenerApplied=!0)}),t&&r.autoSort&&r.doSort()}afterSetSourceId(e,t){if(e){let r=this,o=Neo.get(e);r._items=o._items.slice(),r.map=new Map(o.map),r.count=r._items.length,r.trackInternalId&&o.trackInternalId&&(r.internalIdMap=new Map(o.internalIdMap));const n={mutate:r.onMutate,scope:r};o.on(n),t&&(o=Neo.get(t),o.un(n))}}applySorterConfigs(){let e=this;e.sortDirections=[],e.sortProperties=[],e.sorters.forEach(t=>{e.sortDirections.push(t.directionMultiplier),e.sortProperties.push(t.property)})}beforeSetFilters(e,t){Array.isArray(e)||(e=e?[e]:[]);let r,o,n=t&&t.length||0;return e.forEach((s,i)=>{if(t)for(r=!1,o=0;o<n;o++){if(t[o]===s){t[o].set({operator:s.operator,property:s.property,value:s.value}),r=!0;break}if(t[o].operator===(s.operator||"===")&&t[o].property===s.property&&t[o].value===s.value){r=!0;break}}r?(e[i]=t[o],t.splice(o,1),n--):e[i]=Neo.create(C,s)}),Array.isArray(t)&&t.forEach(e=>{e.destroy()}),e}beforeSetInternalIdMap(e,t){return!e&&this.trackInternalId?new Map:e}beforeSetMap(e,t){return e||new Map}beforeSetSorters(e,t){Array.isArray(e)||(e=e?[e]:[]);let r,o,n=t?.length||0;return e.forEach((s,i)=>{if(t){r=!1,o=0;let{direction:e,property:i}=s;for(;o<n;o++){if(t[o]===s){t[o].set({direction:e,property:i}),r=!0;break}if(t[o].property===i&&t[o].direction===e){r=!0;break}}}r?(e[i]=t[o],t.splice(o,1),n--):e[i]=Neo.create(I,s)}),t?.forEach(e=>{e.destroy()}),e}cacheUpdate(e){}clear(e=!0){let t=this;e&&t.allItems?.clear(),t.splice(0,t.count),t.initialIndexCounter=0}clearFilters(e){this.filters=e?Neo.clone(this.originalConfig.filters,!0,!0):null}clearSilent(e=!0){let t=this;e&&t.allItems?.clearSilent(),t._items.splice(0,t.count),t.map.clear(),t.internalIdMap?.clear(),t.initialIndexCounter=0}clearSorters(e){this.sorters=e?Neo.clone(this.originalConfig.sorters,!0,!0):null}clone(){let e=this,t=Neo.clone(e.originalConfig,!0),r=e._filters||[],o=e._sorters||[];return t.keyProperty=e.keyProperty,delete t.id,delete t.filters,delete t.items,delete t.sorters,e._items.length>0&&(t.items=e._items.slice(),t.count=t.items.length),t.filters=[],t.sorters=[],r.forEach(function(e){t.filters.push(e.originalConfig)}),o.forEach(function(e){t.sorters.push(e.originalConfig)}),Neo.create(R,t)}createAllItems(e){return Neo.create(this.constructor,e)}destroy(){let e=this;e.allItems?.destroy(),e.filters?.forEach(e=>e?.destroy()),e.sorters?.forEach(e=>e?.destroy()),e._items.splice(0,e._items.length),e.map.clear(),e.internalIdMap?.clear(),super.destroy()}doSort(e=this._items,t=!1){let r,o,n,s,i,a,l,c,d=this,u=e.slice(),{sorters:p,sortDirections:h,sortProperties:m}=d,g=m.length||0,f=!1,y=!1;g>0&&(p.forEach(e=>{e.sortBy&&(f=!0),e.useTransformValue&&(y=!0)}),f?d._items.sort((e,t)=>{for(r=0;r<g;r++)if(s=p[r],a=s[s.sortBy?"sortBy":"defaultSortBy"](e,t),0!==a)return a;return 0}):(o=y?e.map((e,t)=>{for(n={index:t},r=0;r<g;r++)p[r].useTransformValue?n[m[r]]=p[r].transformValue(e[m[r]]):n[m[r]]=e[m[r]];return n}):e,o.sort((e,t)=>{for(r=0;r<g;r++){if(i=m[r],l=e[i],c=t[i],null==l&&null!=c)return 1;if(null!=l&&null==c)return-1;if(l>c)return 1*h[r];if(l<c)return-1*h[r]}return 0}),y&&(d._items=o.map(t=>e[t.index])))),d[T]=g>0,t||0!==d[P]||d.fire("sort",{items:d._items,previousItems:u,scope:d})}endUpdate(e){const t=this;t[P]>0&&t[P]--,e?t[x]=!1:(t.fire("mutate",{addedItems:t[j],removedItems:t[_]}),t[j].splice(0,t[j].length),t[_].splice(0,t[_].length))}exportFilters(){let e,t=[];return this.filters?.forEach(r=>{e=r.export(),e&&t.push(e)}),t}exportSorters(){let e,t=[];return this.sorters?.forEach(r=>{e=r.export(),e&&t.push(e)}),t}filter(){let e,t,r,o,n,s=this,i=s._filters,a=i.length,l=0,c=s.allItems?._items||s._items,d=0,u=c.length,p=[],h=!1,m=s._items.slice();for(;d<a;d++)i[d].disabled||l++;if(0===l&&s.allItems)s.sorters.length>0&&(h=!0),s._items.splice(0,s.count),s.map.clear(),s.internalIdMap?.clear(),s.initialIndexCounter=0,s.items=s.allItems._items.slice();else if(s.allItems||(e={...s.originalConfig},delete e.filters,delete e.items,delete e.sorters,s.allItems=s.createAllItems({...Neo.clone(e,!0,!0),id:s.id+"-all",keyProperty:s.keyProperty,sourceId:s.id}),s.allItems.items=s._items.slice()),s.map.clear(),s.internalIdMap?.clear(),"primitive"===s.filterMode){for(d=0;d<u;d++){for(t=!0,r=c[d],o=0;o<a;o++)if(i[o].isFiltered(r,c,c)){t=!1;break}if(t&&(p.push(r),s.map.set(s.getKey(r),r),s.trackInternalId)){const e=s.getInternalKey(r);e&&s.internalIdMap.set(e,r)}}s._items=p}else{for(p=c.slice(),o=0;o<a;o++){for(n=[],d=0;d<u;d++)i[o].isFiltered(p[d],p,c)||n.push(p[d]);p=n.slice(),u=p.length}s.items=p}s[D]=0!==l,h&&s.doSort(s.items,!0),s.count=s.items.length,s.fire("filter",{isFiltered:s[D],items:s.items,oldItems:m,scope:s})}find(e,t,r=!1){let o,n,s,i,a=this,l=[],c=a.isItem(e);for(o of(c&&(s=Object.entries(e),i=s.length),a.items))if(c){if(n=[],s.forEach(([e,t])=>{Neo.ns(e,!1,o)===t&&n.push(!0)}),n.length===i){if(r)return o;l.push(o)}}else if(Neo.ns(e,!1,o)===t){if(r)return o;l.push(o)}return r?null:l}findBy(e,t=this,r=0,o=this.count){let n=this,s=[],i=r;for(;i<o;i++)e.call(t,n.items[i])&&s.push(n.items[i]);return s}findFirst(e,t){return this.find(e,t,!0)}first(){return this.getAt(0)}get(e){return this.map.get(e)||this.trackInternalId&&this.internalIdMap?.get(e)||null}getAt(e){return this._items[e]}getByInternalId(e){return this.internalIdMap?.get(e)||null}getCount(){return this._count||0}getCountMutations(){return this[O]}getFilter(e){let t=this.filters||[],r=0,o=t.length;for(;r<o;r++)if(t[r].property===e)return t[r];return null}getInternalKey(e){return null}getKey(e){return e[this.keyProperty]}getKeyAt(e){let t=this._items[e];return t&&this.getKey(t)}getRange(e,t){return this._items.slice(e,t)}getSource(){return this.sourceId&&Neo.get(this.sourceId)}has(e){return this.map.has(e)}hasItem(e){return this.map.has(this.getKey(e))}indexOf(e){let t=this;return t._items.indexOf(t.isItem(e)?e:t.map.get(e))}indexOfItem(e){return this._items.indexOf(e)}indexOfKey(e){return this._items.indexOf(this.map.get(e))}insert(e,t){return this.splice(e,0,t).addedItems}isFiltered(){return this[D]}isFilteredItem(e){let t=this._filters,r=0,o=t.length,n=!1;for(;r<o;r++)if(t[r].isFiltered(e)){n=!0;break}return n}isItem(e){return"object"==typeof e}isSorted(){return this[T]}last(){return this.getAt(this.count-1)}move(e,t){if(e===t)return;let r=this._items;e>=r.length&&(e=r.length-1);const o=r.splice(e,1)[0];r.splice(t,0,o)}onFilterChange(e){this.filter()}onMutate(e){this.preventBubbleUp=!0,this.splice(null,e.removedItems,e.addedItems)}onSorterChange(e){this.applySorterConfigs(),this.doSort()}pop(){return this.splice(this.count-1,1).removedItems[0]}push(e){return this.add(e)}remove(e){return this.splice(0,Array.isArray(e)?e:[e]),this.count}removeAt(e){return this.splice(e,1),this.count}reverse(){return this._items.reverse()}shift(){return this.splice(0,1).addedItems[0]}some(...e){return this._items.some(...e)}forEach(e,t){this._items.forEach(e,t)}splice(e,t,r){let o,n,s,i,a,l,c=this,{keyProperty:d,map:u}=c,p=c.getSource(),h=[],m=c._items,g=[],f=Neo.isNumber(t)?t:null,y=Array.isArray(t)?t:null;if(!Neo.isNumber(e)&&f&&S.error(c.id+": If index is not passed, removeCountAtIndex cannot be used"),r=r&&!Array.isArray(r)?[r]:r,y&&(a=y.length)>0){for(r&&r.length>0&&(l=r.map(e=>c.getKey(e))),n=0;n<a;n++)if(s=y[n],i=c.isItem(s)?c.getKey(s):s,u.has(i)&&(!l||l&&l.indexOf(i)<0)){const e=m.splice(c.indexOfKey(i),1)[0];g.push(e),u.delete(i),c.trackInternalId&&(o=c.getInternalKey(e),o&&c.internalIdMap.delete(o))}}else f&&f>0&&(0===e&&f===c.count?(g=m,c._items=[],u.clear(),c.internalIdMap?.clear()):(g=m.splice(e,f),g.forEach(e=>{u.delete(c.getKey(e)),c.trackInternalId&&(o=c.getInternalKey(e),o&&c.internalIdMap.delete(o))})));if(r&&(a=r.length)>0){for(n=0;n<a;n++)s=r[n],c.itemFactory?.(s),i=c.getKey(s),null==i&&(s[d]=i=c.keyPropertyIndex,c.keyPropertyIndex--),Object.hasOwn(s,k)&&(s[k]=c.initialIndexCounter++),u.has(i)||c.isFilteredItem(s)||(h.push(s),u.set(i,s),c.trackInternalId&&(o=c.getInternalKey(s),o&&c.internalIdMap.set(o,s)));if(h.length>0){if(m&&0!==m.length){const t=Neo.isNumber(e)?e:m.length;if(h.length>5e3){const e=m.slice(0,t),r=m.slice(t);c._items=e.concat(h,r)}else m.splice(t,0,...h)}else c._items=h;c.autoSort&&c._sorters.length>0&&c.doSort(void 0,!0)}}return p&&(p.getSource()||(p.preventBubbleUp=!0),c.preventBubbleUp||(c.startUpdate(!0),p.splice(null,y||g,r),c.endUpdate(!0)),delete p.preventBubbleUp),(h.length>0||g.length>0)&&c[O]++,0===c[P]?(c.count=c._items.length,c.fire("mutate",{addedItems:r,preventBubbleUp:c.preventBubbleUp,removedItems:y||g})):c[x]||c.cacheUpdate({addedItems:h,removedItems:g}),0===c[P]&&delete c.preventBubbleUp,{addedItems:h,removedItems:g}}startUpdate(e){e&&(this[x]=!0),this[P]++}toJSON(){let e=this;return{...super.toJSON(),count:e.count,filters:e.filters.map(e=>e.toJSON()),keyProperty:e.keyProperty,sorters:e.sorters.map(e=>e.toJSON()),sourceId:e.sourceId}}unshift(e){return this.splice(0,0,e),this.count}}const L=Neo.setupClass(R),W=Neo.setupClass(class extends L{static config={className:"Neo.manager.Base"};getById(e){return e&&this.get(e)||null}register(e){let t=this;t.get(e.id)?Neo.logError("Trying to create an item with an already existing id",e,t.get(e.id)):t.push(e)}unregister(e){this.remove(e)}});Neo.setupClass(class extends W{static config={className:"Neo.manager.ClassHierarchy",keyProperty:"className",singleton:!0};isAQueryMap=new Map;construct(e){super.construct(e),this.consumeTempMap()}consumeTempMap(){Neo.classHierarchyMap&&(this.add(Object.values(Neo.classHierarchyMap)),delete Neo.classHierarchyMap)}isA(e,t){if(e===t)return!0;let r=e,{isAQueryMap:o}=this,n=`${e},${t}`,s=!1;if(o.has(n))return o.get(n);for(;r=this.get(r)?.parentClassName;){if(r===t){s=!0;break}if("Neo.component.Base"===r&&"Neo.core.Base"!==t){s=!1;break}if("Neo.core.Base"===r){s=!1;break}}return o.set(n,s),s}});var F=s(4392),B=s(3994);const $=Neo.config;class H extends w.A{static config={className:"Neo.main.DeltaUpdates",countDeltas:0,countDeltasPer250ms:0,countUpdates:0,renderCountDeltas_:!1,singleton:!0};logDeltasIntervalId=0;nativeMoveBefore=null;construct(e){super.construct(e),$.renderCountDeltas&&(this.renderCountDeltas=!0)}afterSetRenderCountDeltas(e,t){let r,o=this,{logDeltasIntervalId:n}=o;e?0===n&&(o.logDeltasIntervalId=setInterval(()=>{r=document.getElementById("neo-delta-updates"),r&&(r.innerHTML=String(4*o.countDeltasPer250ms)),o.countDeltasPer250ms=0},250)):(n&&clearInterval(n),o.logDeltasInterval=0)}changeNodeName(e,t){let r,{attributes:o}=e,n=document.createElement(t),s=0,i=o.length;if(e){for(;s<i;s++)r=o.item(s),n.setAttribute(r.nodeName,r.nodeValue);for(;e.firstChild;)n.appendChild(e.firstChild);void 0!==e.value&&e.value!==n.value&&(n.value=e.value),void 0!==e.checked&&e.checked!==n.checked&&(n.checked=e.checked),void 0!==e.selectedIndex&&e.selectedIndex!==n.selectedIndex&&(n.selectedIndex=e.selectedIndex),e.scrollTop>0&&(n.scrollTop=e.scrollTop),e.scrollLeft>0&&(n.scrollLeft=e.scrollLeft),e.parentNode.replaceChild(n,e)}}checkRendererAvailability(){const{render:e}=Neo.main;if($.useDomApiRenderer){if(!e?.DomApiRenderer)throw new Error("Neo.main.DeltaUpdates: DomApiRenderer is not loaded yet!")}else if(!e?.StringBasedRenderer)throw new Error("Neo.main.DeltaUpdates: StringBasedRenderer is not loaded yet!")}focusNode({id:e}){F.A.getElement(e)?.focus()}async importRenderer(){const{render:e}=Neo.main;$.useDomApiRenderer?e?.DomApiRenderer||await s.e(276).then(s.bind(s,276)):e?.StringBasedRenderer||await s.e(337).then(s.bind(s,2718))}async initAsync(){super.initAsync();let e=this;Neo.worker.Manager.on({neoConfigChange:e.onNeoConfigChange,scope:e}),await e.importRenderer()}getFragmentStart(e){const t=`//comment()[.=' ${e}-start ']`;return document.evaluate(t,document.body,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}getFragmentSibling(e,t,r){let o=e.nextSibling,n=0;for(;o&&n<t;)o!==r&&n++,o=o.nextSibling;return o}getFragmentNodes(e,t){if(!e)return null;const r=Node.COMMENT_NODE,o=` ${t}-start `,n=e.childNodes;let s,i=null,a=0,l=n.length;for(;a<l;a++)if(s=n[a],s.nodeType===r&&s.nodeValue===o){i=s;break}if(!i)return null;const c=` ${t}-end `,d=[];let u=i.nextSibling;for(;u;){if(u.nodeType===r&&u.nodeValue===c)return{startNode:i,endNode:u,nodes:d};d.push(u),u=u.nextSibling}return null}insertNode({hasLeadingTextChildren:e,index:t,outerHTML:r,parentId:o,postMountUpdates:n,vnode:s}){this.checkRendererAvailability();let i,{render:a}=Neo.main,l=F.A.getElement(o);if(l)i=l.childNodes[t];else{const e=this.getFragmentStart(o);e&&(l=e.parentNode,i=this.getFragmentSibling(e,t))}if(l){let e,t=[];$.useDomApiRenderer?e=a.DomApiRenderer.createDomTree({index:-1,isRoot:!0,parentNode:null,postMountUpdates:t,vnode:s}):(e=a.StringBasedRenderer.createNode({outerHTML:r}),n?.length>0&&t.push(...n)),e?(l.insertBefore(e,i||null),t.length>0&&t.forEach(e=>{if(e.node)e.vnode.scrollLeft&&(e.node.scrollLeft=e.vnode.scrollLeft),e.vnode.scrollTop&&(e.node.scrollTop=e.vnode.scrollTop);else{let t=F.A.getElement(e.id);t&&(e.scrollLeft&&(t.scrollLeft=e.scrollLeft),e.scrollTop&&(t.scrollTop=e.scrollTop))}})):console.error("insertNode: Failed to create newNode",{outerHTML:r,vnode:s})}else console.error("insertNode: Parent not found",{parentId:o,index:t})}insertNodeBatch(e){const t=e[0],r=t.parentId,o=t.index;let n,s=F.A.getElement(r);if(s)n=s.childNodes[o];else{const e=this.getFragmentStart(r);e&&(s=e.parentNode,n=this.getFragmentSibling(e,o))}if(s){const t=document.createDocumentFragment(),{render:r}=Neo.main,o=[];e.forEach(e=>{let n,s=e.postMountUpdates||[];n=$.useDomApiRenderer?r.DomApiRenderer.createDomTree({index:-1,isRoot:!0,parentNode:null,postMountUpdates:s,vnode:e.vnode}):r.StringBasedRenderer.createNode({outerHTML:e.outerHTML}),n?(t.appendChild(n),s.length>0&&o.push(...s)):console.error("insertNodeBatch: Failed to create node",e)}),s.insertBefore(t,n||null),o.length>0&&o.forEach(e=>{if(e.node)e.vnode.scrollLeft&&(e.node.scrollLeft=e.vnode.scrollLeft),e.vnode.scrollTop&&(e.node.scrollTop=e.vnode.scrollTop);else{let t=F.A.getElement(e.id);t&&(e.scrollLeft&&(t.scrollLeft=e.scrollLeft),e.scrollTop&&(t.scrollTop=e.scrollTop))}})}else console.error("insertNodeBatch: Parent not found",{parentId:r,index:o})}moveNode({id:e,index:t,parentId:r}){let o,n=F.A.getElement(e),s=F.A.getElement(r);if(s){if(n&&n.parentNode===s){const e=Array.prototype.indexOf.call(s.childNodes,n);e>-1&&e<t&&t++}o=t<s.childNodes.length?s.childNodes[t]:null}else{const e=this.getFragmentStart(r);e&&(s=e.parentNode,o=this.getFragmentSibling(e,t))}if(!n&&s){const t=`//comment()[.=' ${e}-start ']`,r=document.evaluate(t,document.body,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;if(r){const t=this.getFragmentNodes(r.parentNode,e);if(t){const e=document.createDocumentFragment();e.append(t.startNode,...t.nodes,t.endNode),n=e}}}if(n&&s&&n!==o)if(null===this.nativeMoveBefore&&(this.nativeMoveBefore="function"==typeof s.moveBefore),this.nativeMoveBefore)s.moveBefore(n,o||null);else{const e=document.activeElement,t=e&&(n===e||n.contains(e));1===n.nodeType&&o&&n===o.nextElementSibling&&n.replaceWith(o),s.insertBefore(n,o||null),t&&e.focus()}}async onNeoConfigChange(e){Object.hasOwn(e,"useDomApiRenderer")&&await this.importRenderer()}removeAll({parentId:e}){let t=F.A.getElement(e);t&&(t.innerHTML="")}removeNode({id:e,parentId:t}){const r=F.A.getElement(e);if(r)r.remove();else if(t){const r=F.A.getElementOrBody(t);if(r){const t=this.getFragmentNodes(r,e);if(t)return t.startNode.remove(),t.endNode.remove(),void t.nodes.forEach(e=>e.remove());const o=Node.COMMENT_NODE,n=` ${e} `,s=r.childNodes;let i,a=null,l=0,c=s.length;for(;l<c;l++)if(i=s[l],i.nodeType===o&&i.nodeValue.includes(n)){a=i;break}if(a){const e=a.nextSibling,t=e?.nextSibling?.nodeType===o?e.nextSibling:null;a.remove(),e?.remove(),t?.remove()}}}}replaceChild({fromId:e,parentId:t,toId:r}){let o=F.A.getElement(t);o?.replaceChild(F.A.getElement(r),F.A.getElement(e))}updateNode(e){let t,r,o,n,s=this,i=F.A.getElementOrBody(e.id);if(i)for(r in e)switch(n=e[r],r){case"attributes":for(t in n)o=n[t],B.yL.has(t)?i[t]="true"===o:null===o||""===o?"value"===t?i[t]="":i.removeAttribute(t):"id"===t?i[$.useDomIds?"id":"data-neo-id"]=o:"spellcheck"===t&&"false"===o?i[t]=!1:"value"===t?i[t]=o:i.setAttribute(t,o);break;case"cls":n.add&&i.classList.add(...n.add),n.remove&&i.classList.remove(...n.remove);break;case"innerHTML":i.innerHTML=n||"";break;case"nodeName":s.changeNodeName(i,n);break;case"outerHTML":i.outerHTML=n||"";break;case"scrollLeft":case"scrollTop":i[r]=n;break;case"style":if(Neo.isObject(n))for(t in n){let e;o=n[t],Neo.isString(o)&&o.includes("!important")&&(o=o.replace("!important","").trim(),e="important"),i.style.setProperty(Neo.decamel(t),o,e)}break;case"textContent":i.textContent=n}}updateVtext({id:e,parentId:t,value:r}){const o=F.A.getElement(t),n=Node.COMMENT_NODE,s=` ${e} `;if(o){const e=o.childNodes;let t,i=null,a=0,l=e.length;for(;a<l;a++)if(t=e[a],t.nodeType===n&&t.nodeValue===s){i=t;break}i?.nextSibling&&(i.nextSibling.nodeValue=r)}}update(e){this.checkRendererAvailability();let t,r=this,{deltas:o}=e,n=0;for(o=Array.isArray(o)?o:[o],t=o.length,$.logDeltaUpdates&&t>0&&(r.countDeltas+=t,r.countUpdates++,console.log("update "+r.countUpdates,"total deltas ",r.countDeltas,Neo.clone(e,!0))),$.renderCountDeltas&&t>0&&(r.countDeltasPer250ms+=t);n<t;){const e=o[n];if("insertNode"===e.action&&n<t-1){let s=n+1,i=[e];for(;s<t;){const t=o[s],r=o[s-1];if("insertNode"!==t.action||t.parentId!==e.parentId||t.index!==r.index+1)break;i.push(t),s++}if(i.length>1){r.insertNodeBatch(i),n=s;continue}}r[e.action||"updateNode"](e),n++}}}const U=Neo.setupClass(H);var V=s(9160),K=s(126);class z extends w.A{static observable=!0;static config={className:"Neo.Main",mode:"read",openWindows:{},readQueue:[],remote:{app:["alert","editRoute","getByPath","getWindowData","importAddon","log","redirectTo","reloadWindow","setNeoConfig","setRoute","windowClose","windowCloseAll","windowMoveTo","windowOpen","windowResizeTo"]},running:!1,showFps:!1,singleton:!0,timeLimit:15,totalFrameCount:0,writeQueue:[]};construct(e){super.construct(e);let t=this;K.A.on({automount:t.onRender,updateVdom:t.onUpdateVdom,scope:t}),V.A.on("domContentLoaded",t.onDomContentLoaded,t),"loading"!==document.readyState&&V.A.onDomContentLoaded()}alert(e){alert(e.message)}editRoute(e){let t=V.A.parseHash(window.location.hash.substr(1)),r=[];"string"==typeof e&&(e=V.A.parseHash(e)),Object.assign(t,e),Object.entries(t).forEach(([e,t])=>{null!==t&&r.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}),window.location.hash=r.join("&")}getByPath({params:e=[],path:t}){let r=N.nsWithArrays(t);return N.isFunction(r)?r(...e):r}getWindowData(){let e=window,{screen:t}=e;return{innerHeight:e.innerHeight,innerWidth:e.innerWidth,mozInnerScreenX:e.mozInnerScreenX,mozInnerScreenY:e.mozInnerScreenY,outerHeight:e.outerHeight,outerWidth:e.outerWidth,screen:{availHeight:t.availHeight,availLeft:t.availLeft,availTop:t.availTop,availWidth:t.availWidth,colorDepth:t.colorDepth,height:t.height,orientation:{angle:t.orientation?.angle,type:t.orientation?.type},pixelDepth:t.pixelDepth,width:t.width},screenLeft:e.screenLeft,screenTop:e.screenTop}}async importAddon(e){let t,{name:r}=e;return t=r.startsWith("WS/")?await s(5644)(`./${r.substring(3)}.mjs`):await s(5644)(`./${r}.mjs`),this.registerAddon(t.default),await this.timeout(20),!0}log(e){return console[e.method||"log"](e.value),!0}async onDomContentLoaded(){let e,t=this,{config:r}=N,o=[],{environment:n,mainThreadAddons:i,useServiceWorker:a}=r;if(t.addon={},window.__NEO_SSR__){r.useSSR=!0;let e=await s.e(369).then(s.bind(s,1369));t.registerAddon(e.default)}F.A.onDomContentLoaded(),r.useGoogleAnalytics&&!i.includes("AnalyticsByGoogle")&&i.push("AnalyticsByGoogle"),!0!==a&&a!==n&&("dist/production"!==a||"dist/esm"!==n)||i.includes("ServiceWorker")||i.push("ServiceWorker"),i.forEach(e=>{e.startsWith("WS/")?o.push(s(5644)(`./${e.substring(3)}.mjs`)):o.push(s(5644)(`./${e}.mjs`))}),e=await Promise.all(o);const l=e.map(e=>t.registerAddon(e.default));await Promise.all(l.map(e=>e.remotesReady())),await t.remotesReady(),K.A.onWorkerConstructed({origin:"main"})}onRender(e){e.data.replyId=e.replyId,this.queueWrite(e.data)}onUpdateVdom(e){e.data.replyId=e.replyId,this.queueWrite(e.data)}processQueue(e,t){let r,o=this,{mode:n}=o,s=o.timeLimit;for(;r=e.shift();){if(new Date-t>s)return e.unshift(r),requestAnimationFrame(o.renderFrame.bind(o));"read"===n?F.A.read(r):U.update(r),K.A.resolveDomOperationPromise(r.replyId)}}queueRead(e){let t=this;t.readQueue.push(e),t.running||(t.running=!0,requestAnimationFrame(t.renderFrame.bind(t)))}queueWrite(e){let t=this;t.writeQueue.push(e),t.running||(t.running=!0,requestAnimationFrame(t.renderFrame.bind(t)))}redirectTo(e){window.location.href=e.url}registerAddon(e){return"NeoClass"===N.typeOf(e)&&"NeoInstance"!==N.typeOf(N.ns(e.prototype.className))&&(e=N.create(e),N.applyToGlobalNs(e)),this.addon[e.constructor.name]=e,e}reloadWindow(e){location.reload(e?.force)}renderFrame(){let e=this,t=e.readQueue,r=e.writeQueue,o="read"===e.mode,n=new Date;N.config.logDeltaUpdates&&(e.totalFrameCount++,console.log("Total Frames: "+e.totalFrameCount)),(!o&&r.length||(e.mode="read",!e.processQueue(t,n)))&&(r.length&&(e.mode="write",e.processQueue(r,n))||(e.running=!1))}setNeoConfig(e){let{key:t,value:r}=e;N.config[t]=e.value,"renderCountDeltas"===t&&U.set({[t]:r})}setRoute(e){window.location.hash=e.value}windowClose(e){Array.isArray(e.names)||(e.names=[e.names]),e.names.forEach(e=>{this.openWindows[e]?.win.close(),delete this.openWindows[e]})}windowCloseAll(e){Object.values(this.openWindows).forEach(e=>{e.win.close()}),this.openWindows={}}windowMoveTo(e){this.openWindows[e.windowName]?.win.moveTo(e.x,e.y)}windowOpen({url:e,useTotalHeight:t=!0,windowFeatures:r,windowName:o}){let n,s=this.openWindows[o];n=s&&!s.win.closed?s.targetName:crypto.randomUUID();let i=window.open(e,n,r),a=!!i;return a&&(t&&i.resizeTo(i.outerWidth,i.innerHeight),this.openWindows[o]={targetName:n,win:i}),a}windowResizeTo(e){let t=this.openWindows[e.windowName]?.win,r=e.height||t.outerHeight,o=e.width||t.outerWidth;t.resizeTo(o,r)}}const q=N.setupClass(z);export{q as default};