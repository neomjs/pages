export const __webpack_esm_id__=557;export const __webpack_esm_ids__=[557];export const __webpack_esm_modules__={557(e,t,o){o.d(t,{default:()=>O}),o.r(t);var n=o(293),i=o(439),r=o(342),s=o(270);class a extends r.A{static isTouchedEvents=["focusEnter","focusLeave"];static config={className:"Neo.form.field.Base",ntype:"basefield",formGroup_:null,keys:{},isTouched_:!1,isTouchedEvent_:"focusLeave",name_:null,renderName_:!0,renderPath:!0,value_:null};formGroupString=null;get isDirty(){return!Neo.isEqual(this.getSubmitValue(),this.originalConfig.value)}path=null;construct(e){super.construct(e);let t=this;(0,i.gh)(t,"afterSetValue",(e,o)=>{void 0!==o&&t.fireChangeEvent(e,o)},t)}afterSetIsTouched(e,t){let{cls:o}=this;s.A.toggle(o,"neo-is-touched",e),this.cls=o}afterSetName(e,t){let o=this;o.renderName&&o.changeInputElKey("name",o.renderPath?o.getPath():e)}afterSetRole(e,t){this.getInputEl().role=e,this.update()}afterSetValue(e,t){}beforeGetFormGroup(e){let t,o=this,i=[];return o.formGroupString?o.formGroupString:(e&&i.push(e),n.A.getParents(o).forEach(e=>{e.formGroup&&i.unshift(e.formGroup)}),t=i.join("."),o.formGroupString=t,t)}beforeSetIsTouchedEvent(e,t){return this.beforeSetEnumValue(e,t,"isTouchedEvent")}changeInputElKey(e,t,o=!1){let n=this;t||Neo.isBoolean(t)||0===t?n.getInputEl()[e]=t:delete n.getInputEl()[e],!o&&n.update()}doFireChangeEvent(e,t,o){let i=this,r=Neo.form?.Container,s="field"+Neo.capitalize(o),a={component:i,oldValue:t,value:e};Neo.isFunction(i.getGroupValue)&&(a.groupValue=i.getGroupValue()),i.fire(o,a),i.suspendEvents||n.A.getParents(i).forEach(e=>{r&&e instanceof r&&e.fire(s,a)})}fireChangeEvent(e,t){this.doFireChangeEvent(e,t,"change")}fireUserChangeEvent(e,t){this.doFireChangeEvent(e,t,"userChange")}getClosestForm(){let e,t=this,o=Neo.form?.Container;for(e of n.A.getParents(t))if(o&&e instanceof o)return e;return null}getInputEl(){return this.vdom}getPath(){let e,t=this;if(!t.name)return null;if(!t.path){if(e=t.formGroup?t.formGroup.split("."):[],t.name&&e.push(t.name),e.length<1)return null;t.path=e.join(".")}return t.path||(t.path="none"),"none"===t.path?null:t.path}getSubmitValue(){return this.value}getValue(){return this.getSubmitValue()}isValid(){return!0}onFocusEnter(e){super.onFocusLeave(e),"focusEnter"===this.isTouchedEvent&&(this.isTouched=!0)}onFocusLeave(e){super.onFocusLeave(e);let t=this,o=Neo.form?.Container,i={...e,component:t,value:t.getSubmitValue()};"focusLeave"===t.isTouchedEvent&&(t.isTouched=!0),Neo.isFunction(t.getGroupValue)&&(i.groupValue=t.getGroupValue()),t.suspendEvents||n.A.getParents(t).forEach(e=>{o&&e instanceof o&&e.fire("fieldFocusLeave",i)})}reset(e=null){this.originalConfig.value=e,this.value=e}validate(e=!0){return!0}toJSON(){let e=this;return{...super.toJSON(),formGroup:e.formGroup,isDirty:e.isDirty,isTouched:e.isTouched,isValid:e.isValid(),name:e.name,value:e.value}}}const l=Neo.setupClass(a),d=Neo.setupClass(class extends l{static labelPositions=["left","top"];static config={className:"Neo.form.field.CheckBox",ntype:"checkboxfield",baseCls:["neo-checkboxfield"],checked_:!1,error_:null,errorPositionAbsolute_:!1,errorTextGroupRequired:e=>`Please check at least one item of the group: ${e.name}`,errorTextRequired:"Required",groupRequired_:!1,hideLabel_:!1,iconCls:["far","fa-square"],iconClsChecked:["fas","fa-check"],inputType_:"checkbox",labelBaseCls:["neo-checkbox-label"],labelCls_:[],labelId_:null,labelIdCls_:[],labelIdSeparator_:" · ",labelPosition_:"left",labelText_:"LabelText",labelWidth_:150,required_:!1,showErrorTexts_:!0,uncheckedValue:!1,useAlertState_:!1,value:!0,valueLabel_:null,_vdom:{cn:[{tag:"label",cls:["neo-checkbox-label"],cn:[{tag:"span",cls:[]},{tag:"input",cls:["neo-checkbox-input"]},{tag:"i",cls:["neo-checkbox-icon"]},{tag:"span",cls:["neo-checkbox-value-label"]}]},{cls:["neo-error-wrapper"],removeDom:!0,cn:[{cls:["neo-error"]}]}]}};clean=!0;construct(e){super.construct(e);let t=this;t.addDomListeners({change:t.onInputValueChange,scope:t})}afterSetChecked(e,t){let o=this,n=o.vdom.cn[0],i=n.cn[2].cls,r=e?o.iconClsChecked:o.iconCls,a=e?o.iconCls:o.iconClsChecked;t&&(o.clean=!1),o.validate(),n.cn[1].checked=e,s.A.removeAdd(i,a,r),o.update(),void 0!==t&&o.fireChangeEvent(o.getSubmitValue(),o.getOldSubmitValue())}afterSetError(e,t){this.updateError(e)}afterSetErrorPositionAbsolute(e,t){let o=this.vdom.cn[1].cn[0].cls;s.A[e?"add":"remove"](o,"neo-absolute"),this.update()}afterSetGroupRequired(e,t){void 0!==t&&this.validate(!1)}afterSetHideLabel(e,t){this.getLabelEl().removeDom=e,this.update()}ensureStableIds(){super.ensureStableIds();let e=this,t=e.vdom.cn[0];t.cn[0].id=e.getLabelId(),t.cn[1].id=e.getInputElId(),t.cn[2].id=e.getIconElId(),t.cn[3].id=e.getValueLabelId()}afterSetInputType(e,t){this.changeInputElKey("type",e)}afterSetLabelCls(e,t){let o=this.getLabelEl().cls;s.A.remove(o,t),s.A.add(o,e),this.update()}afterSetLabelPosition(e,t){let{cls:o}=this;s.A.remove(o,"neo-label-"+t),s.A.add(o,"neo-label-"+e),this.cls=o}afterSetLabelText(e,t){let o=this,n=o.getLabelEl();o.labelId?(e=[{tag:"span",cls:o.labelIdCls,text:o.labelId},{tag:"span",text:o.labelIdSeparator},...Array.isArray(e)?e:Neo.isString(e)?[{text:e}]:[e]],n.cn=e,delete n.text):Neo.isString(e)?(n.text=e,delete n.cn):(n.cn=Array.isArray(e)?e:[e],delete n.text),o.update()}afterSetLabelWidth(e,t){let o=this;o.hideLabel||(o.getLabelEl().width=e,o.update())}afterSetRequired(e,t){void 0!==t&&this.validate(!1)}afterSetShowErrorTexts(e,t){void 0!==t&&this.validate(!1)}afterSetUseAlertState(e,t){let{cls:o}=this;s.A.toggle(o,"neo-use-alert-state",e),this.cls=o}afterSetValue(e,t){this.changeInputElKey("value",e)}afterSetValueLabel(e,t){let o=this.vdom.cn[0].cn[3],n=!!e;n&&(Neo.isString(e)?(o.text=e,delete o.cn):(o.cn=Array.isArray(e)?e:[e],delete o.text)),o.removeDom=!n,this.update()}beforeSetGroupRequired(e,t){return e&&this.required?(console.warn("Do not use groupRequired & required at the same time. Switching to required.",this),!1):e}beforeSetLabelCls(e,t){return s.A.union(e||[],this.labelBaseCls)}beforeSetLabelPosition(e,t){return this.beforeSetEnumValue(e,t,"labelPosition")}beforeSetRenderName(e,t){return!0}getGroupValue(){let e,t=this.getClosestForm(),o=this.getPath(),i=[];return o&&(e=n.A.find({path:o}),e.forEach(e=>{e.checked&&e.getClosestForm()===t&&s.A.add(i,e.value)})),i}getIconElId(){return`${this.id}__icon`}getInputEl(){return this.vdom.cn[0].cn[1]}getInputElId(){return`${this.id}__input`}getLabelEl(){return this.vdom.cn[0].cn[0]}getLabelId(){return`${this.id}__label`}getOldSubmitValue(){let e=this;return e.checked?e.uncheckedValue:e.value}getOldValue(){return this.getOldSubmitValue()}getSubmitValue(){let e=this;return e.checked?e.value:e.uncheckedValue}getValueLabelId(){return`${this.id}__value-label`}isEmptyAndRequired(){return!this.validate(!1)}isValid(){return this.validate(!0),!this.error&&super.isValid()}onInputValueChange(e){let t=this,o=e.target.checked;t.vnode.childNodes[0].childNodes[t.hideLabel?0:1].attributes.checked=`${o}`,t.checked=o,t.fireUserChangeEvent(t.getSubmitValue(),t.getOldSubmitValue())}updateError(e,t=!1){let o,n,i=this,{cls:r}=i,a=e&&i.showErrorTexts;i.clean&&!i.mounted||(i._error=e,s.A.toggle(r,"neo-invalid",e),i.cls=r,n=i.vdom.cn[1],o=n.cn[0],a?o.text=e:delete o.text,n.removeDom=!a,!t&&i.update())}validate(e=!0){let t,o,i=this,{name:r}=i,s=!0;if(e||(i.clean=!1),i.groupRequired){for(t of(s=!1,o=n.A.find({ntype:i.ntype,name:r}),o))if(t.checked){s=!0;break}for(t of o)t.id!==i.id&&(i.clean||(t.clean=!1),t[i.clean?"_error":"error"]=s?null:t.errorTextGroupRequired({name:r}));s||(i._error=i.errorTextGroupRequired({name:r}))}else i.required&&!i.checked&&(i._error=i.errorTextRequired,s=!1);return s&&(i._error=null),!i.clean&&i.updateError(i._error,e),!!s&&super.validate(e)}toJSON(){let e=this;return{...super.toJSON(),checked:e.checked,hideLabel:e.hideLabel,inputType:e.inputType,labelPosition:e.labelPosition,labelText:e.labelText,valueLabel:e.valueLabel}}toJSON(){let e=this;return{...super.toJSON(),checked:e.checked,error:e.error,groupRequired:e.groupRequired,hideLabel:e.hideLabel,iconCls:e.iconCls,iconClsChecked:e.iconClsChecked,inputType:e.inputType,labelPosition:e.labelPosition,labelText:e.labelText,labelWidth:e.labelWidth,required:e.required,uncheckedValue:e.uncheckedValue,valueLabel:e.valueLabel}}});class u extends r.A{static config={className:"Neo.component.Canvas",ntype:"canvas",monitorSize_:!0,offscreen:!0,offscreenRegistered_:!1,_vdom:{tag:"canvas"}};async afterSetMounted(e,t){super.afterSetMounted(e,t);let o=this,n=o.getCanvasId(),{offscreen:i,windowId:r}=o;if(e){if(await o.timeout(30),o.monitorSize&&o.addDomListeners([{delegate:`#${o.getMonitorTargetId()}`,resize:o.onDomResize,scope:o}]),i){let e,t=50;for(;o.mounted&&!o.offscreenRegistered&&!o.isDestroyed;){if(e=await Neo.main.DomAccess.getOffscreenCanvas({nodeId:n,windowId:r}),e.offscreen){await Neo.worker.Canvas.registerCanvas({node:e.offscreen,nodeId:n,windowId:r},[e.offscreen]),o.offscreenRegistered=!0;break}if(e.transferred&&Neo.config.useSharedWorkers&&(await Neo.worker.Canvas.retrieveCanvas({nodeId:n,windowId:r})).hasCanvas){o.offscreenRegistered=!0;break}await o.timeout(t),t<1e3&&(t*=2)}}}else i&&(o.offscreenRegistered&&Neo.worker.Canvas.unregisterCanvas({nodeId:n}),o.offscreenRegistered=!1)}afterSetWindowId(e,t){super.afterSetWindowId(e,t),t&&(this.offscreenRegistered=!1)}destroy(...e){this.offscreenRegistered&&Neo.worker.Canvas.unregisterCanvas({nodeId:this.id}),super.destroy(...e)}getCanvasId(){return this.id}getMonitorTargetId(){return this.vdom.id}onDomResize(e){this.fire("resize",e)}}const c=Neo.setupClass(u);var p=o(17);class h extends r.A{static badgePositions=["bottom-left","bottom-right","top-left","top-right"];static iconPositions=["top","right","bottom","left"];static config={className:"Neo.button.Base",ntype:"button",badgePosition_:"top-right",badgeText_:null,baseCls:["neo-button"],editRoute:!0,handler_:{[p.ol]:!0,value:null,isEqual:(e,t)=>!(Neo.isFunction(e)&&Neo.isFunction(t)||e!==t)},handlerScope:null,iconCls_:null,iconColor_:null,iconPosition_:"left",menu_:null,pressed_:!1,route_:null,text:null,url_:null,urlTarget_:"_blank",useRippleEffect_:!0,_vdom:{tag:"button",type:"button",cn:[{tag:"span",cls:["neo-button-glyph"]},{tag:"span",cls:["neo-button-text"]},{cls:["neo-button-badge"]},{cls:["neo-button-ripple-wrapper"],cn:[{cls:["neo-button-ripple"]}]}]}};get badgeNode(){return this.getVdomRoot().cn[2]}get iconNode(){return this.getVdomRoot().cn[0]}rippleEffectDuration=400;#e=null;get rippleWrapper(){return this.getVdomRoot().cn[3]}get textNode(){return this.getVdomRoot().cn[1]}construct(e){super.construct(e);let t=this;t.addDomListeners({click:t.onClick,scope:t})}afterSetBadgePosition(e,t){let{badgeNode:o}=this,n=o.cls||[];s.A.remove(n,"neo-"+t),s.A.add(n,"neo-"+e),o.cls=n,this.update()}afterSetBadgeText(e,t){let{badgeNode:o}=this;o.removeDom=!Boolean(e),o.text=e,this.update()}afterSetIconCls(e,t){let{iconNode:o}=this;s.A.remove(o.cls,t),s.A.add(o.cls,e),o.removeDom=!e||""===e,this.update()}afterSetIconColor(e,t){let{iconNode:o}=this;o.style||(o.style={}),""===e&&(e=null),o.style.color=e,this.update()}afterSetIconPosition(e,t){let o=this.cls;s.A.remove(o,"icon-"+t),s.A.add(o,"icon-"+e),this.cls=o}afterSetMenu(e,t){e&&o.e(399).then(o.bind(o,399)).then(t=>{let o=this,n=Array.isArray(e),i=n?e:e.items,r=n?{}:e,s=o.getStateProvider(),{appName:a,theme:l,windowId:d}=o,u=Neo.merge({module:t.default,align:{edgeAlign:"t0-b0",target:o.id},appName:a,displayField:"text",floating:!0,hidden:!0,parentComponent:o,theme:l,windowId:d},r);i&&(u.items=i),s&&(u.stateProvider={parent:s}),o.menuList=Neo.create(u)})}afterSetPressed(e,t){let o=this.cls;s.A.toggle(o,"pressed",!0===e),this.cls=o}afterSetRoute(e,t){!this.editRoute&&this.updateTag()}afterSetTheme(e,t){super.afterSetTheme(e,t);let{menuList:o}=this;o&&(o.theme=e)}afterSetText(e,t){let o=this,n=!e||""===e,i=o.getVdomRoot(),{textNode:r}=o;s.A.toggle(o._cls,"no-text",n),s.A.toggle(i.cls,"no-text",n),r.removeDom=n,n||(Neo.isArray(e)?(r.cn=e,delete r.text):(r.text=e,delete r.cn)),o.update()}afterSetUrl(e,t){this.updateTag()}afterSetUseRippleEffect(e,t){this.rippleWrapper.removeDom=!0,this.update()}afterSetUrlTarget(e,t){let o=this,n=o.getVdomRoot();o.url?n.target=e:delete n.target,o.update()}afterSetWindowId(e,t){super.afterSetWindowId(e,t);let{menuList:o}=this;o&&(o.windowId=e)}beforeGetIconCls(){let e=this._iconCls;return Array.isArray(e)?e.join(" "):e}beforeSetBadgePosition(e,t){return this.beforeSetEnumValue(e,t,"badgePosition")}beforeSetIconCls(e,t){return e&&!Array.isArray(e)&&(e=e.split(" ").filter(Boolean)),e}beforeSetIconPosition(e,t){return this.beforeSetEnumValue(e,t,"iconPosition")}changeRoute(){this.editRoute&&Neo.Main.editRoute(this.route)}destroy(...e){this.menuList?.destroy(!0,!1),super.destroy(...e)}onClick(e){let t=this;t.bindCallback(t.handler,"handler",t.handlerScope||t),t.handler?.(e),t.menu&&t.toggleMenu(),t.route&&t.changeRoute(),t.useRippleEffect&&t.showRipple(e)}async showRipple(e){let t,o=this,n=e.path[0].rect,i=Math.max(n.height,n.width),r=i/2,s=o.rippleEffectDuration,{rippleWrapper:a}=o,l=a.cn[0];l.style=Object.assign(l.style||{},{animation:"none",height:`${i}px`,left:e.clientX-n.left-r+"px",top:e.clientY-n.top-r+"px",width:`${i}px`}),delete a.removeDom,o.update(),await o.timeout(1),l.style.animation=`ripple ${s}ms linear`,o.update(),o.#e=t=setTimeout(()=>{o.#e===t&&(o.#e=null,a.removeDom=!0,o.update())},s)}async toggleMenu(){let{menuList:e}=this,t=!e.hidden;e.hidden=t,t||await this.timeout(50)}toJSON(){let e=this,t=e.handler;return{...super.toJSON(),badgePosition:e.badgePosition,badgeText:e.badgeText,handler:Neo.isString(t)?t:Neo.isFunction(t)?"function":null,iconCls:e.iconCls,iconColor:e.iconColor,iconPosition:e.iconPosition,pressed:e.pressed,route:e.route,text:e.text,url:e.url,urlTarget:e.urlTarget}}updateTag(){let e=this,{editRoute:t,route:o,url:n}=e,i=!t&&o||n,r=e.getVdomRoot();t||!1!==o?.startsWith("#")||(i="#"+i),i?(r.href=i,r.tag="a"):(delete r.href,r.tag="button"),e.update()}}const g=Neo.setupClass(h);var m=o(122);o(414);class f extends m.A{static dockPositions=["top","right","bottom","left",null];static config={className:"Neo.toolbar.Base",ntype:"toolbar",baseCls:["neo-toolbar"],dock_:null,itemDefaults:{ntype:"button"},layout:{ntype:"flexbox",align:"center",direction:"row",pack:"start"}};afterSetDock(e,t){if(!e&&!t)return;let o=this,{cls:n}=o,i=o.getStaticConfig("dockPositions"),r=o.getLayoutConfig();i.forEach(t=>{null!==t&&s.A.toggle(n,"neo-dock-"+t,t===e)}),o.layout?(o.layout.set(r),o.cls=n):(r.ntype="flexbox",o.set({cls:n,layout:r}))}beforeSetDock(e,t){return this.beforeSetEnumValue(e,t,"dock","dockPositions")}createItems(){let e=this._items;return Array.isArray(e)&&(this._items=e.map(e=>this.replaceSpacer(e))),super.createItems()}getLayoutConfig(){let e,t=this;if(t.dock)switch(t.dock){case"bottom":case"top":e={align:"center",direction:"row",pack:"start"};break;case"left":e={align:"center",direction:"column-reverse",pack:"start"};break;case"right":e={align:"center",direction:"column",pack:"start"}}return e||t.layout}insert(e,t,o=!1){return t=Array.isArray(t)?t.map(e=>this.replaceSpacer(e)):this.replaceSpacer(t),super.insert(e,t,o)}replaceSpacer(e){return"->"===e?{module:r.A,flex:1}:e}toJSON(){return{...super.toJSON(),dock:this.dock}}}Neo.setupClass(f);class v extends m.A{static config={className:"Neo.container.Panel",ntype:"panel",baseCls:["neo-panel","neo-container"],containerConfig:null,headerDefaults:null,headers:null,_layout:{ntype:"vbox",align:"stretch"},verticalHeadersFirst:!1};construct(e){super.construct(e);let t=this;t.hasHeaders()&&!0===t.verticalHeadersFirst&&(t.layout={ntype:"hbox",align:"stretch"})}static createHeaderConfig(e){if("NeoInstance"===Neo.typeOf(e))return e;let t={flex:"0 1 auto"};return e.module||e.ntype||(t.cls=["neo-panel-header-toolbar","neo-toolbar"],t.ntype="toolbar"),e.text&&(t.items=[{ntype:"label",cls:["neo-panel-header-text","neo-label"],text:e.text}],delete e.text),Array.isArray(e.items)&&e.items.forEach(e=>{"label"===e.ntype&&(e.cls=["neo-panel-header-text","neo-label"])}),{...t,...e}}createItems(){let e=this,t=e.containerConfig;if(e.hasHeaders()){let o,n=!1===e.verticalHeadersFirst,i=e.headers||[],r=i.filter(e=>e.dock===(n?"bottom":"right")),s=i.filter(e=>e.dock===(n?"left":"top")),a=i.filter(e=>e.dock===(n?"right":"bottom")),l=i.filter(e=>e.dock===(n?"top":"left")),d=r.length>0||l.length>0,u=s.length>0||a.length>0,{items:c}=e,p=[],h=[];l.forEach(e=>{h.push(v.createHeaderConfig(e))}),u&&(n&&d||!n&&d)?(s.forEach(e=>{p.push(v.createHeaderConfig(e))}),o={ntype:"container",flex:1,items:c,itemDefaults:e.itemDefaults,...t},p.push({...e.headerDefaults,...o}),a.forEach(e=>{p.push(v.createHeaderConfig(e))}),h.push({ntype:"container",items:p,layout:{ntype:n?"hbox":"vbox",align:"stretch"},reference:"bodyContainer"})):(o={ntype:"container",flex:1,items:c,itemDefaults:e.itemDefaults,reference:"bodyContainer",...t},h.push({...e.headerDefaults,...o})),r.forEach(e=>{h.push(v.createHeaderConfig(e))}),e.items=h,e.itemDefaults=null,super.createItems()}else t&&e.set(t),super.createItems()}hasHeaders(){return Array.isArray(this.headers)&&this.headers.length>0}}const b=Neo.setupClass(v);class y extends m.A{static config={className:"Neo.container.Viewport",ntype:"viewport",applyBodyCls:!0,autoMount:!0,baseCls:["neo-viewport"],monitorSize_:!1};afterSetMounted(e,t){super.afterSetMounted(e,t);let o=this;e&&o.monitorSize&&o.addDomListeners([{resize:o.onDomResize,scope:o}])}onConstructed(){super.onConstructed();let{windowId:e}=this;this.applyBodyCls&&Neo.main.DomAccess.applyBodyCls({cls:["neo-body-viewport"],windowId:e})}onDomResize(e){this.fire("resize",e)}}const C=Neo.setupClass(y),N=[{name:"neo-theme-light",label:"Theme Light"},{name:"neo-theme-dark",label:"Theme Dark"},{name:"neo-theme-neo-light",label:"Theme Neo-Light"}],w=Neo.setupClass(class extends C{static config={className:"Neo.examples.ConfigurationViewport",ntype:"configuration-viewport",baseCls:["neo-examples-configuration-viewport","neo-viewport"],configItemLabelWidth:150,configItemWidth:270,configPanelFlex:1,configPanelMaxWidth:null,configPanelMinWidth:350,exampleComponent:null,exampleComponentFlex:2,layout:{ntype:"hbox",align:"stretch"}};async createConfigurationComponents(){return null}createExampleComponent(){return null}logInstance(e){console.log(this.exampleComponent)}onConfigChange(e,t){this.exampleComponent[e]=t.value}async onConstructed(){let e,t,o=this,n=o.exampleContainerConfig?.style;n&&delete o.exampleContainerConfig.style,o.exampleComponent=o.createExampleComponent(),e=Neo.typeOf(o.exampleComponent),"NeoClass"!==e&&"Object"!==e||(o.exampleComponent=Neo.create(o.exampleComponent)),o.configurationComponents=await o.createConfigurationComponents()||[],t=o.exampleComponent.getTheme?.()||"neo-theme-light",o.items=[{module:m.A,cls:["neo-example-container"],items:[o.exampleComponent],flex:o.exampleComponentFlex,layout:"base",style:{overflow:"auto",padding:"20px",...n},...o.exampleContainerConfig},{module:b,cls:["neo-panel","neo-container","neo-configuration-panel"],flex:o.configPanelFlex,style:{maxWidth:o.configPanelMaxWidth+"px",margin:"20px",minWidth:o.configPanelMinWidth+"px"},headers:[{cls:["neo-configuration-header-toolbar"],dock:"top",items:[{ntype:"label",text:"Configuration"},{ntype:"component",flex:1},{module:g,handler:o.onSwitchTheme.bind(o),id:o.id+"__switchThemeButton",text:"neo-theme-dark"===t?"Theme Light":"Theme Dark"}]}],items:[{module:m.A,layout:{ntype:"vbox",align:null},cls:["neo-configuration-panel-body"],itemDefaults:{clearToOriginalValue:!0,labelWidth:o.configItemLabelWidth,width:o.configItemWidth},items:[...o.configurationComponents,{module:g,handler:(0,i.ij)(o.onSwitchTheme,o,"cmp"),style:{marginTop:"20px"},text:"neo-theme-dark"===t?"Theme Light":"Theme Dark",width:130},{module:g,handler:o.logInstance.bind(o),text:"Log Instance",width:130}]}]}],super.onConstructed()}onRadioChange(e,t,o){!0===o.value&&(this.exampleComponent[e]=t)}onSwitchTheme(e,t){let o,n,i,r=e.component,s=N.length;N.forEach((e,t)=>{r.text===e.label&&(n=e.name,i=t)}),o=(i+s+1)%s,r.text=N[o].label,"cmp"===t?this.exampleComponent.theme=n:this.app.mainView.theme=n}});class I extends r.A{static alignValues=["end","start"];static config={className:"Neo.form.field.trigger.Base",ntype:"trigger",align:"end",baseCls:["neo-field-trigger"],field_:null,iconCls_:null,isHovered:!1,scope:null,showOnHover:!1,type:"base",weight_:10};construct(e){super.construct(e);let t=this;t.addDomListeners({click:t.onTriggerClick,scope:t}),t.showOnHover&&(t.hidden=!0,t.field.on("constructed",()=>{t.field.addDomListeners([{mouseenter:t.onMouseEnter,scope:t},{mouseleave:t.onMouseLeave,scope:t}])},t))}afterSetAlign(e,t){let o=this.cls;s.A["start"===e?"add":"remove"](o,"neo-align-start"),this.cls=o}afterSetField(e,t){(this.vdom.data||(this.vdom.data={})).focus=e?.getInputElId()}afterSetHidden(e,t){let{style:o}=this;o.display=e?"none":"inherit",this.style=o}afterSetIconCls(e,t){let{cls:o}=this;s.A.remove(o,t?.split(" ")),e&&""!==e&&s.A.add(o,e?.split(" ")),this.cls=o}beforeSetAlign(e,t){return this.beforeSetEnumValue(e,t,"align","alignValues")}destroy(e,t){let o=this;o.removeDomListeners({click:o.onTriggerClick,scope:o}),delete o.field,super.destroy(e,t)}onMouseEnter(){this.isHovered=!0,this.hidden=!1}onMouseLeave(){this.isHovered=!1,this.hidden=!0}onTriggerClick(e){let t=this,o=t.scope||t;t.handler&&o[t.handler].call(o)}toJSON(){let e=this;return{...super.toJSON(),iconCls:e.iconCls,showOnHover:e.showOnHover,type:e.type,weight:e.weight}}}const S=Neo.setupClass(I),x=Neo.setupClass(class extends S{static config={className:"Neo.form.field.trigger.SpinDown",ntype:"trigger-spindown",align:"start",iconCls:"fa fa-chevron-left",type:"spindown"};onTriggerClick(e){this.field.onSpinButtonDownClick()}}),A=Neo.setupClass(class extends S{static config={className:"Neo.form.field.trigger.SpinUp",ntype:"trigger-spinup",iconCls:"fa fa-chevron-right",type:"spinup"};onTriggerClick(e){this.field.onSpinButtonUpClick()}}),V=Neo.setupClass(class extends S{static config={className:"Neo.form.field.trigger.SpinUpDown",ntype:"trigger-spinupdown",baseCls:["neo-field-trigger","neo-spin-buttons"],spinButtonDownIconCls:"fa fa-chevron-down",spinButtonUpIconCls:"fa fa-chevron-up",type:"spinupdown"};onConstructed(){let e=this;e.vdom.cn=[{cls:["neo-spin-button","neo-up",...e.spinButtonUpIconCls.split(" ")]},{cls:["neo-spin-button","neo-down",...e.spinButtonDownIconCls.split(" ")]}],e.update(),super.onConstructed()}onTriggerClick(e){let t=e.path[0].cls.join(" ");t.includes("neo-down")?this.field.onSpinButtonDownClick():t.includes("neo-up")&&this.field.onSpinButtonUpClick()}toJSON(){return{...super.toJSON(),spinButtonDownIconCls:this.spinButtonDownIconCls,spinButtonUpIconCls:this.spinButtonUpIconCls}}}),E=Neo.setupClass(class extends S{static config={className:"Neo.form.field.trigger.Clear",ntype:"trigger-clear",baseCls:["neo-field-trigger","neo-trigger-clear"],iconCls:"fa fa-times",type:"clear",weight:20};afterSetHidden(e,t){let{cls:o}=this;s.A[e?"add":"remove"](o,"neo-is-hidden"),this.cls=o}beforeSetHidden(e,t){return!(!this.showOnHover||this.isHovered)||e}destroy(...e){let t=this;t.field.un({change:t.onFieldChange,changeClearToOriginalValue:t.onFieldChange,scope:t}),super.destroy(...e)}getHiddenState(){let{field:e}=this,{value:t}=e;return e.clearToOriginalValue?t===e.originalConfig.value:(0===t&&(t="0"),!e.value||t.toString().length<1)}onFieldChange(e){this.hidden=this.getHiddenState()}onConstructed(){super.onConstructed();let e=this;e.field.on({change:e.onFieldChange,changeClearToOriginalValue:e.onFieldChange,scope:e}),e.hidden=e.getHiddenState()}onMouseEnter(){let e=this;e.isHovered=!0,e.hidden=e.getHiddenState()}onTriggerClick(e){this.field.clear()}});var _=o(247);class T extends _.A{static charEntityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;",$:"&dollar;","\\":"&bsol;","/":"&sol;"};static charPattern=/[&<>"'$\\]/g;static entityPattern=/(&amp;)|(&lt;)|(&gt;)|(&quot;)|(&apos;)|(&dollar;)|(&bsol;)|(&sol;)/g;static config={className:"Neo.util.String"};static escapeHtml(e){let t=this;return Neo.isString(e)?e.replace(t.charPattern,t.getEntityFromChar.bind(t)):e}static getCharFromEntity(e){return Object.keys(this.charEntityMap).find(t=>this.charEntityMap[t]===e)||e}static getEntityFromChar(e){return this.charEntityMap[e]||e}static unescapeHtml(e){let t=this;return Neo.isString(e)?e.replace(t.entityPattern,t.getCharFromEntity.bind(t)):e}static uncapitalize(e){return e&&e[0].toLowerCase()+e.substring(1)}}const k=Neo.setupClass(T);var D=o(825),M=o(483);const P=Neo.setupClass(class extends l{static autoCapitalizeValues=["characters","none","on","off","sentences","words"];static labelPositions=["bottom","inline","left","right","top"];static config={className:"Neo.form.field.Text",ntype:"textfield",autoCapitalize_:"off",autoComplete_:!1,baseCls:["neo-textfield"],centerBorderElWidth:null,clearable_:!0,clearToOriginalValue_:!1,disabledChars_:null,editable_:!0,emptyValue:null,error_:null,errorPositionAbsolute_:!1,errorTextInputPattern:e=>`Input pattern violation: ${e.inputPattern}`,errorTextMaxLength:e=>`Max length violation: ${e.valueLength} / ${e.maxLength}`,errorTextMinLength:e=>`Min length violation: ${e.valueLength} / ${e.minLength}`,errorTextRequired:"Required",hideLabel_:!1,inputPattern_:null,inputPatternDOM_:!0,inputType_:"text",inputValue_:null,labelBaseCls:["neo-textfield-label"],labelCls_:[],labelId_:null,labelIdCls_:[],labelIdSeparator_:" · ",labelOptionalText_:" (Optional)",labelPosition_:"left",labelText_:"LabelText",labelWidth_:150,maxLength_:null,minLength_:null,placeholderText_:null,readOnly_:!1,required_:!1,showOptionalText_:!1,spellCheck_:!1,subLabelBaseCls:["neo-textfield-sublabel"],subLabelCls_:[],subLabelText_:null,triggers_:null,useAlertState_:!1,validator:null,xssProtected_:!1,_vdom:{cn:[{tag:"label",cls:[],style:{}},{tag:"label",cls:[]},{tag:"input",cls:["neo-textfield-input"],flag:"neo-real-input",style:{}},{cls:["neo-textfield-error-wrapper"],removeDom:!0,cn:[{cls:["neo-textfield-error"]}]}]}};clean=!0;construct(e){super.construct(e);let t=this;t.addDomListeners([{input:t.onInputValueChange,scope:t},{mouseenter:t.onMouseEnter,scope:t},{mouseleave:t.onMouseLeave,scope:t}])}afterSetAppName(e,t){super.afterSetAppName(e,t),e&&this.triggers?.forEach(t=>{t.appName=e})}afterSetAutoCapitalize(e,t){this.changeInputElKey("autocapitalize","off"===e||"none"===e?null:e)}afterSetAutoComplete(e,t){this.changeInputElKey("autocomplete",e?null:"no")}afterSetClearable(e,t){let o,n=this;e?(o=n.triggers||[],o.unshift(E),n.triggers=o):n.removeTrigger("clear")}afterSetClearToOriginalValue(e,t){this.fire("changeClearToOriginalValue",{oldValue:t,value:e})}afterSetDisabledChars(e,t){if(e){let t=this;Neo.main.DomEvents.registerDisabledInputChars({chars:e,id:t.getInputEl().id,windowId:t.windowId})}}afterSetEditable(e,t){let o=this,{cls:n}=o;s.A.toggle(n,"neo-not-editable",!e),o.cls=n,o.updateReadOnlyState()}afterSetError(e,t){this.updateError(e)}afterSetErrorPositionAbsolute(e,t){let o=D.A.find(this.vdom,{cls:"neo-textfield-error"}).vdom.cls;s.A[e?"add":"remove"](o,"neo-absolute"),this.update()}afterSetHideLabel(e,t){let o=this;("inline"===o.labelPosition?o.getCenterBorderEl():o.vdom.cn[0]).removeDom=e,o.updateInputWidth()}ensureStableIds(){super.ensureStableIds();let e=this,t=e.getInputEl(),o=e.getInputElId(),n=e.getLabelEl();t.id=o,n.id=e.getLabelId(),n.for=o}afterSetInputPattern(e,t){this.inputPatternDOM&&(e&&(e=(e=e.toString()).substring(1,e.length-1)),this.changeInputElKey("pattern",e))}afterSetInputType(e,t){this.changeInputElKey("type",e)}afterSetInputValue(e,t){let o=this,{cls:n}=o;o.getInputEl().value=o.containsFocus?e:o.inputValueRenderer(e),o.useAlertState&&s.A.toggle(n,"neo-empty-required",o.isEmpty()&&o.required),s.A.toggle(n,"neo-has-content",o.hasContent()),o.cls=n,o.updateValueFromInputValue(e)}afterSetLabelCls(e,t){let o=this.getLabelEl().cls;s.A.remove(o,t),s.A.add(o,e),this.update()}afterSetLabelOptionalText(e,t){this.labelText=this.labelText}afterSetLabelPosition(e,t){let o,n,i=this,{cls:r,vdom:a}=i;a.cn[1].removeDom="top"!==e||!Boolean(i.subLabelText),s.A.remove(r,"label-"+t),s.A.add(r,"label-"+e),i.cls=r,"inline"===t?(a.cn[0]=i.getLabelEl(),a.cn[0].removeDom=i.hideLabel,a.cn[0].width=i.labelWidth,i.updateInputWidth()):"inline"===e?(o=["neo-center-border"],n=i.isEmpty(),a=i.vdom,!n&&o.push("neo-float-above"),delete a.cn[0].width,a.cn[0]={cls:["neo-label-wrapper"],cn:[{cls:["neo-left-border"]},{cls:o,cn:[a.cn[0]],removeDom:i.hideLabel},{cls:["neo-right-border"]}]},i.updateInputWidth(),!n&&i.timeout(20).then(()=>{i.updateCenterBorderElWidth(!1)})):i.updateInputWidth()}afterSetLabelText(e,t){let o=this,n=o.isEmpty(),i=o.getLabelEl();o.labelId?(e=[{tag:"span",cls:o.labelIdCls,text:o.labelId},{tag:"span",text:o.labelIdSeparator},...Array.isArray(e)?e:Neo.isString(e)?[{text:e}]:[e]],i.cn=e,delete i.text):Neo.isString(e)?(i.text=e,delete i.cn):(i.cn=Array.isArray(e)?e:[e],delete i.text),o.hideLabel||("inline"===o.labelPosition?(n||delete o.getCenterBorderEl()?.width,o.promiseUpdate().then(()=>{o.updateCenterBorderElWidth(n)})):o.update())}afterSetLabelWidth(e,t){if("inline"!==this.labelPosition){let t=this;t.vdom.cn[0].width=e,!t.hideLabel&&t.updateInputWidth()}}afterSetMaxLength(e,t){this.validate(),this.changeInputElKey("maxlength",e)}afterSetMinLength(e,t){this.validate(),this.changeInputElKey("minlength",e)}afterSetMounted(e,t){super.afterSetMounted(e,t);let o=this;if(void 0!==t){let t=o.triggers||[],n=0,i=t.length;for(;n<i;n++)t[n].vdom.removeDom||(t[n].mounted=e);"inline"===o.labelPosition&&(e?o.updateCenterBorderElWidth():delete o.getCenterBorderEl().width)}}afterSetPlaceholderText(e,t){let o=this,{cls:n}=o;o.changeInputElKey("placeholder",""===e?null:e),Neo.isEmpty(e)!==Neo.isEmpty(t)&&(s.A[null!==e&&e.toString().length>0?"add":"remove"](n,"neo-has-content"),o.cls=n)}afterSetReadOnly(e,t){let o=this,{cls:n}=o;s.A[e?"add":"remove"](n,"neo-readonly"),o.cls=n,o.updateReadOnlyState(),o.triggers?.forEach(t=>{t.hidden=!!e||t.getHiddenState?.()||!1})}afterSetRequired(e,t){let o=this;o.silentVdomUpdate=!0,void 0!==t&&o.validate(o.clean),o.changeInputElKey("required",e||null),o.labelText=o.labelText,o.silentVdomUpdate=!1,o.update()}afterSetShowOptionalText(e,t){this.labelText=this.labelText}afterSetSpellCheck(e,t){this.changeInputElKey("spellcheck",Neo.isBoolean(e)?e:null)}afterSetSubLabelCls(e,t){let{cls:o}=this.vdom.cn[1];s.A.remove(o,t),s.A.add(o,e),this.update()}afterSetSubLabelText(e,t){let o=this,n="top"===o.labelPosition,i=o.vdom.cn[1];i.removeDom=!n,i.text=e,o.update()}afterSetTriggers(e,t){let o,n=this,{vdom:i}=n,r=i.cn[2],s=[],a=[];t?.forEach(e=>{n.getTrigger(e.type)||e.destroy()}),e.length>0?(e.forEach(e=>{"start"===e.align?s.push(e):a.push(e)}),a.sort((e,t)=>t.weight-e.weight),s.sort((e,t)=>e.weight-t.weight),a=a.map(e=>e.createVdomReference()),s=s.map(e=>e.createVdomReference()),"input"===r.tag?(i.cn[2]={cls:["neo-input-wrapper"],cn:[...s,r,...a],id:n.getInputWrapperId(),width:r.width},delete r.width):r.cn=[...s,n.getInputEl(),...a]):"input"!==r.tag&&(o=r.width,i.cn[2]=n.getInputEl(),i.cn[2].width=o),n.promiseUpdate().then(()=>{n.updateTriggerVnodes()})}afterSetValue(e,t){let o,n=this;n.silentVdomUpdate=!0,n.updateInputValueFromValue(e),n.validate(),o=n.cls,s.A.toggle(o,"neo-is-dirty",n.isDirty),n.cls=o,n.silentVdomUpdate=!1,n.update(),super.afterSetValue(e,t)}afterSetWidth(e,t){super.afterSetWidth(e,t),this.updateInputWidth()}afterSetWindowId(e,t){super.afterSetWindowId(e,t),e&&this.triggers?.forEach(t=>{t.windowId=e})}beforeGetTriggers(e){return Array.isArray(e)?[...e]:e}beforeSetAutoCapitalize(e,t){return this.beforeSetEnumValue(e,t,"autoCapitalize","autoCapitalizeValues")}beforeSetLabelCls(e,t){return s.A.union(e||[],this.labelBaseCls)}beforeSetLabelPosition(e,t){return this.beforeSetEnumValue(e,t,"labelPosition")}beforeSetLabelText(e,t){let o=this,n=o.labelOptionalText,i=e.endsWith(n);return o.showOptionalText&&!o.required?i||(e+=n):e&&i&&(e=e.replace(n,"")),e}beforeSetSubLabelCls(e,t){return s.A.union(e||[],this.subLabelBaseCls)}beforeSetTriggers(e,t){e?Array.isArray(e)||(e=[e]):e=[];let o=this,{appName:n,windowId:i}=o;return e.forEach((t,r)=>{t.isClass?e[r]=Neo.create(t,{appName:n,id:o.getTriggerId(t.prototype.type),field:o,windowId:i}):t instanceof S||(t.module||t.ntype||(t.ntype="trigger"),t.module&&(t.className=t.module.prototype.className,t.id=o.getTriggerId(t.module.prototype.type)),e[r]=Neo[t.className?"create":"ntype"]({...t,appName:n,field:o,windowId:i}))}),e}beforeSetValue(e,t){return null===e||""===e?this.emptyValue:e}clear(){let e=this;e.value=e.clearToOriginalValue?e.originalConfig.value:null,e.fire("clear")}destroy(...e){let t=this;t.disabledChars&&Neo.main.DomEvents.unregisterDisabledInputChars({id:t.getInputEl().id,windowId:t.windowId}),t.triggers?.forEach(e=>{e.destroy()}),super.destroy(...e)}focus(e){super.focus(this.getInputElId())}getCenterBorderEl(){return D.A.find(this.vdom,{cls:"neo-center-border"})?.vdom||null}getInputEl(){return D.A.find(this.vdom,{flag:"neo-real-input"})?.vdom||null}getInputElId(){return`${this.id}__input`}getInputWidth(){let e=this,t=e.hideLabel||"bottom"===e.labelPosition||"inline"===e.labelPosition||"top"===e.labelPosition?0:e.labelWidth,{width:o}=e;return t&&o?parseInt(o)-parseInt(t):o||null}getInputWrapperId(){return`${this.id}__input-wrapper`}getLabelEl(){return D.A.find(this.vdom,{tag:"label"})?.vdom||null}getLabelId(){return`${this.id}__label`}getSubmitValue(){let e=super.getSubmitValue();return this.xssProtected?k.escapeHtml(e):e}getTrigger(e){let t=this.triggers||[],o=0,n=t.length;for(;o<n;o++)if(t[o].type===e)return t[o];return null}getTriggerById(e){let t=this.triggers||[],o=0,n=t.length;for(;o<n;o++)if(t[o].id===e)return t[o];return null}getTriggerId(e){return this.id+"-trigger-"+e}hasContent(){let e=this.inputValue;return this.placeholderText?.length>0||null!==e&&e.toString().length>0}hasTrigger(e){let t=this.triggers||[],o=0,n=t.length;for(;o<n;o++)if(t[o].type===e)return!0;return!1}inputValueAdjustor(e){return e}inputValueRenderer(e){return e}isEmpty(){return!(this.value?.toString().length>0)}isEmptyAndRequired(){return this.isEmpty()&&this.required}isValid(){return this.validate(!0),!this.error&&super.isValid()}mergeConfig(...e){let t=super.mergeConfig(...e),o=t.triggers||this.triggers;return this[o?"triggers":"_triggers"]=o,delete t.triggers,t}onFocusEnter(e){super.onFocusEnter(e);let t=this,{cls:o}=t;t.readOnly||(s.A.add(o,"neo-focus"),t.cls=o,"inline"===t.labelPosition&&(t.centerBorderElWidth?(t.getCenterBorderEl().width=t.centerBorderElWidth,t.update()):t.updateCenterBorderElWidth(!1)))}onFocusLeave(e){let t,o=this,n=o.getCenterBorderEl();o.readOnly||(o.validate(!1),t=o.cls,s.A.remove(t,"neo-focus"),o.cls=t,n&&o.isEmpty()&&delete n.width),Neo.isString(o.value)&&(o.value=o.value.trim()),o.update(),super.onFocusLeave(e)}onInputValueChange(e){let t=this,o=t.value,n=e.value;const{vnode:i}=M.A.find(t.vnode,{nodeName:"input"})||{};i&&(i.attributes.value=n),Neo.isString(n)&&(n=n.trim()),t.clean=!1,t.inputValue=t.inputValueAdjustor(n),t.fireUserChangeEvent(t.value,o)}onMouseEnter(e){let t=this,{cls:o}=t;t.readOnly||(s.A.add(o,"neo-hovered"),t.cls=o)}onMouseLeave(e){let t=this,{cls:o}=t;t.readOnly||(s.A.remove(o,"neo-hovered"),t.cls=o)}removeTrigger(e,t=!1,o){let n,i=!1,r=o||this.triggers||[],a=0,l=r.length;for(;a<l;a++)n=r[a],n.type===e&&(s.A.remove(r,n),l--,i=!0);return i&&!t&&(this.triggers=r),i}reset(e=null){let t=this;t.clearToOriginalValue&&(e?t.originalConfig.value=e:e=t.originalConfig.value),super.reset(e),null===e&&t.clean&&t.updateError(null)}updateCenterBorderElWidth(e=!1){let t=this;t.mounted&&t.getDomRect(t.getCenterBorderEl().id).then(o=>{t.centerBorderElWidth=Math.round(.7*o.width)+8,e||(t.getCenterBorderEl().width=t.centerBorderElWidth,t.update())})}updateError(e,t=!1){let o,n,i=this,{cls:r}=i;i.clean&&!i.mounted||(s.A[e?"add":"remove"](r,"neo-invalid"),i.cls=r,n=D.A.find(i.vdom,{cls:"neo-textfield-error-wrapper"}).vdom,o=n.cn[0],e?o.text=e:delete o.text,n.removeDom=!e,!t&&i.update())}updateInputValueFromValue(e){this.inputValue=e}updateInputWidth(){let e=this,t=e.getInputWidth();null!==t&&t!==e.width?e.vdom.cn[1].width=t:delete e.vdom.cn[1].width,e.update()}updateReadOnlyState(){let e=this;e.changeInputElKey("readonly",!e.editable||e.readOnly||null)}updateTriggerVnodes(){let e,t=this,o=t.vnode?.childNodes[1];(o?.childNodes||[]).forEach(o=>{e=t.getTriggerById(o.id),e&&Object.assign(e,{vnode:o,_mounted:!0,_vnodeInitialized:!0})})}updateValueFromInputValue(e){this.value=e}validate(e=!0){let t,o=this,{inputPattern:n,maxLength:i,minLength:r,required:s,value:a}=o,l=!0,d=a?.toString().length,u=0!==a&&(!a||d<1),c={inputPattern:n,maxLength:i,minLength:r,valueLength:d};return e||(o.clean=!1),u?s&&(o._error=o.errorTextRequired,l=!1):Neo.isNumber(i)&&d>i?(o._error=o.errorTextMaxLength(c),l=!1):Neo.isNumber(r)&&d<r?(o._error=o.errorTextMinLength(c),l=!1):n&&!n.test(a)?(o._error=o.errorTextInputPattern(c),l=!1):o.validator&&(o.bindCallback(o.validator,"validator"),t=o.validator(o),!0!==t&&(o._error=t,l=!1)),l&&(o._error=null),!o.clean&&o.updateError(o._error,e),!!l&&super.validate(e)}toJSON(){let e=this;return{...super.toJSON(),autoCapitalize:e.autoCapitalize,autoComplete:e.autoComplete,clearable:e.clearable,editable:e.editable,hideLabel:e.hideLabel,inputPattern:e.inputPattern?.toString(),inputType:e.inputType,inputValue:e.inputValue,labelPosition:e.labelPosition,labelText:e.labelText,maxLength:e.maxLength,minLength:e.minLength,placeholderText:e.placeholderText,readOnly:e.readOnly,required:e.required,triggers:e.triggers?.map(e=>e.toJSON())}}}),L=Neo.setupClass(class extends P{static triggerPositions=["right","sides"];static config={className:"Neo.form.field.Number",ntype:"numberfield",baseCls:["neo-numberfield","neo-textfield"],disabledChars:["e","E"],errorTextMaxValue:e=>`Max value violation: ${e.value} / ${e.maxValue}`,errorTextMinValue:e=>`Min value violation: ${e.value} / ${e.minValue}`,errorTextStepSize:e=>`step-size violation: ${e.value} / ${e.stepSize}`,excludedValues:null,inputEditable_:!0,inputType:"number",maxValue_:100,minValue_:0,stepSize_:1,triggerPosition_:"right",useSpinButtons_:!0};stepSizeDigits=null;afterSetInputEditable(e,t){let o=this.getInputEl().style||{};e?delete o.pointerEvents:o.pointerEvents="none",this.update()}afterSetMaxValue(e,t){this.validate(),this.changeInputElKey("max",e)}afterSetMinValue(e,t){this.validate(),this.changeInputElKey("min",e)}afterSetStepSize(e,t){let o,n,i=this,r=i.value;i.changeInputElKey("step",e),n=String(e),i.stepSizeDigits=n.includes(".")?n.split(".")[1].length:0,null!==r&&(o=(r-i.minValue)%e,0!==o&&(o/e>.5?r+e-o<i.maxValue?i.value=r+e-o:r-o>i.minValue&&(i.value=r-o):r-o>i.minValue?i.value=r-o:r+e-o<i.maxValue&&(i.value=r+e-o)))}afterSetTriggerPosition(e,t){t&&this.updateTriggers()}afterSetUseSpinButtons(e,t){Neo.isBoolean(t)&&this.updateTriggers()}beforeSetMaxLength(e,t){return null!==e&&console.warn("input type number does not support maxLength. use maxValue instead.",this),null}beforeSetMinLength(e,t){return null!==e&&console.warn("input type number does not support minLength. use minValue instead.",this),null}beforeSetTriggerPosition(e,t){return this.beforeSetEnumValue(e,t,"triggerPosition")}beforeSetValue(e,t){return null===e||""===e?null:(Neo.isNumber(e)||(e=+e),this.stepSizeDigits>0&&(e=+e.toFixed(this.stepSizeDigits)),e)}fitsStepSize(e){return null===e||parseInt(e.toString().replace(".",""))*(1/this.stepSize)%1==0}isValid(){let{maxValue:e,minValue:t,value:o}=this,n=Neo.isNumber(o);return!(Neo.isNumber(e)&&n&&o>e)&&!(Neo.isNumber(t)&&n&&o<t)&&!!this.fitsStepSize(o)&&super.isValid()}onConstructed(){this.updateTriggers(),super.onConstructed()}onFocusLeave(e){let t=this,{value:o}=t;null!==o&&(o=t.stepSizeDigits>0?parseFloat(o):parseInt(o),o=Math.max(t.minValue,o),o=Math.min(t.maxValue,o),t.value!==o?t.value=o:t.getInputEl().value=t.inputValueRenderer(o)),super.onFocusLeave(e)}onSpinButtonDownClick(){let e=this,{stepSize:t}=e,o=Neo.isNumber(e.value)?e.value:e.minValue,n=o-t<e.minValue?e.maxValue:o-t;if(e.excludedValues)for(;e.excludedValues.includes(n);)n=Math.max(e.minValue,n-t);o!==n&&(e.value=n)}onSpinButtonUpClick(){let e=this,{stepSize:t}=e,o=Neo.isNumber(e.value)?e.value:e.maxValue,n=o+t>e.maxValue?e.minValue:o+t;if(e.excludedValues)for(;e.excludedValues.includes(n);)n=Math.min(e.maxValue,n+t);o!==n&&(e.value=n)}updateTriggers(){let e=this,t=e.triggers||[];e.useSpinButtons?"right"===e.triggerPosition?(e.hasTrigger("spinupdown")||t.push(V),e.removeTrigger("spindown",!0,t),e.removeTrigger("spinup",!0,t)):(e.hasTrigger("spindown")||t.push(x),e.hasTrigger("spinup")||t.push(A),e.removeTrigger("spinupdown",!0,t)):(e.removeTrigger("spindown",!0,t),e.removeTrigger("spinup",!0,t),e.removeTrigger("spinupdown",!0,t)),e.triggers=t}validate(e=!0){let t=this,{maxValue:o,minValue:n,stepSize:i,value:r}=t,s=Neo.isNumber(r),a=super.validate(e),l={maxValue:o,minValue:n,stepSize:i,value:r};return a&&(Neo.isNumber(o)&&s&&r>o?(t._error=t.errorTextMaxValue(l),a=!1):Neo.isNumber(n)&&s&&r<n?(t._error=t.errorTextMinValue(l),a=!1):t.fitsStepSize(r)||(t._error=t.errorTextStepSize(l),a=!1)),!a&&!t.clean&&t.updateError(t._error,e),a}toJSON(){let e=this;return{...super.toJSON(),maxValue:e.maxValue,minValue:e.minValue,stepSize:e.stepSize,useSpinButtons:e.useSpinButtons}}}),O=Neo.setupClass(class extends w{static config={className:"Neo.examples.component.canvas.MainContainer",autoMount:!0,configItemLabelWidth:110,configItemWidth:230,layout:{ntype:"hbox",align:"stretch"}};createConfigurationComponents(){let e=this;return[{module:d,checked:e.exampleComponent.offscreen,labelText:"offscreen",listeners:{change:e.onConfigChange.bind(e,"offscreen")}},{module:L,clearable:!0,labelText:"height",listeners:{change:e.onConfigChange.bind(e,"height")},maxValue:800,minValue:100,stepSize:5,style:{marginTop:"10px"},value:e.exampleComponent.height},{module:L,clearable:!0,labelText:"width",listeners:{change:e.onConfigChange.bind(e,"width")},maxValue:800,minValue:100,stepSize:5,value:e.exampleComponent.width}]}createExampleComponent(){return Neo.create({module:c,height:400,offscreen:!0,width:400})}})},342(e,t,o){o.d(t,{A:()=>B});var n=o(247),i=o(778),r=o(293),s=o(270);class a extends n.A{static config={className:"Neo.manager.Focus",history:[],lastFocusInDate:null,lastFocusOutDate:null,maxFocusInOutGap:50,maxHistoryLength:20,singleton:!0};addToHistory(e){let t=this.history;t.unshift(e),t.length>=this.maxHistoryLength&&t.pop()}focusEnter(e){this.setComponentFocus(e,!0),this.addToHistory(e)}focusLeave(e){this.setComponentFocus(e,!1)}focusMove(e){let t,o,n=this,{history:i}=n,r=e.componentPath,a=i[0].componentPath,l=s.A.difference(r,a),d=s.A.difference(a,r),u=s.A.intersection(r,a);n.setComponentFocus({componentPath:d,data:e.data},!1),n.setComponentFocus({componentPath:l,data:e.data},!0),u.forEach(n=>{t=Neo.getComponent(n),t&&(o={component:t,path:e.data.path,oldPath:i[0].data.path},t.onFocusMove?.(o),t.fire("focusMove",o),t.onFocusChange?.(o),t.fire("focusChange",o))}),n.addToHistory(e)}onFocusin(e){let t=this;t.lastFocusInDate=new Date,t.lastFocusOutDate&&t.lastFocusInDate-t.lastFocusOutDate<t.maxFocusInOutGap?t.focusMove(e):t.focusEnter(e)}onFocusout(e){let t=this;t.lastFocusOutDate=new Date,t.timeout(t.maxFocusInOutGap).then(()=>{t.lastFocusOutDate>t.lastFocusInDate&&t.focusLeave(e)})}setComponentFocus(e,t){let o,n={relatedTarget:e.data.relatedTarget},i=e.componentPath.map(e=>Neo.getComponent(e));i.forEach(e=>{e&&(e.containsFocus=t)}),i.forEach(i=>{i&&(n.component=i,n[t?"path":"oldPath"]=e.data.path,o=t?"onFocusEnter":"onFocusLeave",i[o]?.(n),i.fire(t?"focusEnter":"focusLeave",n),i.onFocusChange?.(n),i.fire("focusChange",n))})}}const l=Neo.setupClass(a);var d=o(599),u=o(825),c=o(483);const p=["bubble","delegate","local","scope","vnodeId"],h={change:"onChange",click:"onClick",contextmenu:"onContextMenu",dblclick:"onDoubleClick",focusin:"onFocusIn",focusout:"onFocusOut",input:"onChange",keydown:"onKeyDown",keyup:"onKeyUp",mousedown:"onMouseDown",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove",mouseup:"onMouseUp",scroll:"onScroll",wheel:"onWheel"},g=["change","click","contextmenu","dblclick","drag:end","drag:move","drag:start","focusin","focusout","input","intersect","keydown","keyup","mousedown","mouseenter","mouseleave","mouseup","neonavigate","scroll","selectionchange","touchmove","wheel"];class m extends n.A{static config={className:"Neo.manager.DomEvent",items:{},map:{},singleton:!0};mountTimeouts={};async addResizeObserver(e,t){let{windowId:o}=e,n=e.id,i=await Neo.currentWorker.getAddon("ResizeObserver",o);t.delegate?.startsWith("#")&&(n=t.delegate.substring(1)),i.register({componentId:e.id,id:n,windowId:o})}fire(e){let t=this,o=!0,n=e.data||{},{eventName:i}=e;if("resize"===i&&Array.isArray(n.componentIds))return void n.componentIds.forEach(e=>{let o=Neo.getComponent(e),r=t.items[e]?.[i];o&&r&&r.forEach(e=>{let i=Neo.clone(n,!0,!0);i.component=o,i.currentTarget=n.id,Neo.isString(e.fn)&&t.bindCallback(e.fn,"fn",e.scope,e),e.fn.apply(e.scope||globalThis,[i])})});let s,a,d,u,c=0,p=null,h=n.path?n.path.map(e=>e.id):[],g=r.A.getParentPath(h),f=g.length;for(;c<f&&(d=g[c],s=Neo.getComponent(d),s&&("resize"===i||!s.disabled));c++){if("scroll"===i&&s.saveScrollPosition&&"function"==typeof s.onScrollCapture&&s.onScrollCapture(n),p=t.items[d]?.[i],p&&Array.isArray(p)&&p.every(e=>{let r;return e&&e.fn&&(a=t.verifyDelegationPath(e,n.path,g),!1!==a&&(u=!1,"mouseenter"!==i&&"mouseleave"!==i||(u=!m.verifyMouseEnterLeave(s,n,a,i)),u||(n=Neo.clone(n,!0,!0),n.component=s,n.currentTarget=a,Neo.isString(e.fn)&&t.bindCallback(e.fn,"fn",e.scope,e),r=e.fn.apply(e.scope||globalThis,[n]),e.bubble||(o=!1)))),!1!==r}),"focusin"===i||"focusout"===i){l["on"+Neo.capitalize(i)]({componentPath:g,data:n});break}if(!o||n.cancelBubble)break}if("contextmenu"===i&&n.ctrlKey)Neo.util?.Logger?.onContextMenu(n);else if(i.startsWith("drag:")||i.startsWith("drop")){let e=n.dragZoneId&&Neo.get(n.dragZoneId);e&&(i.startsWith("drag:")?e["drag:move"===i?"onDragMove":"onDragEnd"]?.(n):(e.fire(i,n),e[{drop:"onDrop","drop:enter":"onDropEnter","drop:leave":"onDropLeave"}[i]].call(e,n)))}}generateListenerConfig(e,t){return{bubble:e.bubble,delegate:e.delegate,eventName:e.eventName,id:t.id,opts:e,priority:e.priority,scope:e.scope||t,vnodeId:e.vnodeId||t.vdom.id}}getEventName(e){let t=null;return Neo.isObject(e)&&Object.keys(e).forEach(e=>{p.includes(e)||(t=e)}),t}getListener(e){let t,o=this.items;if(o?.[e.id])return t=o[e.id][e.eventName],t||null}mountDomListeners(e){let t=this,o=t.items[e.id],n=[];o&&(Object.entries(o).forEach(([o,i])=>{i.forEach(i=>{if("resize"===(o=i.eventName))t.addResizeObserver(e,i);else if(o&&!i.mounted&&(i.local||!g.includes(o))){i.mounted=!0;let e={};i.opts&&(Object.hasOwn(i.opts,"capture")&&(e.capture=i.opts.capture),Object.hasOwn(i.opts,"once")&&(e.once=i.opts.once),Object.hasOwn(i.opts,"passive")&&(e.passive=i.opts.passive)),n.push({name:o,handler:h[o]||"domEventListener",options:e,vnodeId:i.vnodeId})}})}),n.length>0&&Neo.worker.App.promiseMessage(e.windowId,{action:"addDomListener",appName:e.appName,events:n}).then(e=>{}).catch(e=>{console.log("App: Got error attempting to add a domListener",e)}))}register(e){let t,o,n,i,r=!1,{eventName:s,id:a,opts:l,scope:d}=e,u=this.items,c=typeof l;if(e.ownerId&&(a=e.ownerId),"function"===c||"string"===c?t=l:(t=l.fn,d=l.scope||d),u[a]||(u[a]={}),u[a][s]?(o=u[a][s],Object.keys(o).forEach(n=>{o[n].fn.toString()===t.toString()&&o[n].scope===d&&o[n].delegate===e.delegate&&(r=!0)})):u[a][s]=[],!0===r)return!1;i=Neo.getId("dom-event"),e.listenerId=i;let p=e.local||Neo.isObject(l)&&l.local||!1;return n={bubble:e.hasOwnProperty("bubble")?e.bubble:!l.hasOwnProperty("bubble")||l.bubble,delegate:e.delegate,eventName:s,fn:t,id:i,local:p,mounted:!p&&g.includes(s),originalConfig:e.originalConfig,ownerId:e.ownerId,priority:e.priority||l.priority||1,scope:d,vnodeId:e.vnodeId},this.map[i]=n,u[a][s].push(n),u[a][s].sort((e,t)=>t.priority-e.priority),!0}resetMountedDomListeners(e){let t=this.items[e.id];t&&Object.entries(t).forEach(([e,t])=>{t.forEach(t=>{"resize"===(e=t.eventName)||!e||!t.local&&g.includes(e)||(t.mounted=!1)})})}unregister(e,t){console.log("unregister",e),console.log(this.generateListenerConfig(e,t))}updateDomListeners(e,t,o){let n,i,r,a=this,l=a.items[e.id]||{};Array.isArray(t)?(Array.isArray(o)&&o.forEach(e=>{if(!t.includes(e))for(r=l[a.getEventName(e)]||[],n=0,i=r.length;n<i;n++)if(r[n].originalConfig===e){s.A.remove(r,r[n]);break}}),t.forEach(t=>{Object.entries(t).forEach(([o,n])=>{p.includes(o)||a.register({bubble:t.bubble||n.bubble,delegate:t.delegate||n.delegate||"#"+(e.vdom.id||e.id),eventName:o,id:e.vdom.id||e.id,opts:n,originalConfig:t,ownerId:e.id,priority:t.priority||n.priority||1,scope:t.scope||e,vnodeId:t.vnodeId||n.vnodeId||e.vdom.id})})}),e.mounted&&t?.length>0&&(a.mountTimeouts[e.id]&&clearTimeout(a.mountTimeouts[e.id]),a.mountTimeouts[e.id]=setTimeout(()=>{a.mountDomListeners(e),delete a.mountTimeouts[e.id]},50))):d.A.logError("Component.domListeners have to be an array",e)}verifyDelegationPath(e,t,o){let n,{delegate:i}=e,r=0,s=t.length;if("function"==typeof i)r=i(t),null!=r&&(n=t[r].id);else{let e,o,a,l,d=i.split(" ");for(o=d.length-1;o>=0;o--){for(e=!1,a=d[o],l=a.startsWith("#"),(l||a.startsWith("."))&&(a=a.substring(1));r<s;r++)if(l&&t[r].id===a||t[r].cls.includes(a)){e=!0,n=t[r].id;break}if(!e)return!1}}for(let o=r;o<s;o++)if(t[o].id===e.vnodeId)return n;if(o?.length>0){let e=o[0];for(let o=r;o<s;o++)if(t[o].id===e)return n}return!1}static verifyMouseEnterLeave(e,t,o,n){let i,r="mouseenter"===n?t.fromElementId:t.toElementId;return!(r&&r!==o&&(i=u.A.find(e.vdom,o),!i||i.vdom&&u.A.find(i.vdom,r)))}}const f=Neo.setupClass(m);class v extends n.A{static config={className:"Neo.mixin.DomEvents",domListeners_:null};addDomListeners(e){Array.isArray(e)||(e=[e]);let t=this.domListeners;t.push(...e),this.domListeners=t}afterSetDomListeners(e,t){(e?.[0]||t?.[0])&&f.updateDomListeners(this,e,t)}beforeSetDomListeners(e,t){return Neo.isObject(e)&&(e=[e]),e||[]}initDomEvents(){let e=this;e.domListeners?.length>0&&e.timeout(150).then(()=>{f.mountDomListeners(e)}).catch(e=>{if(e!==Neo.isDestroyed)throw e})}resetMountedDomEvents(){f.resetMountedDomListeners(this)}removeDomEvents(){this.domListeners=[]}removeDomListeners(e){Array.isArray(e)||(e=[e]);let t,o,{domListeners:n}=this;e.forEach(e=>{for(t=0,o=n.length;t<o;t++)if(Neo.isEqual(e,n[t])){n.splice(t,1);break}}),this.domListeners=n}}const b=Neo.setupClass(v);var y=o(691);class C extends n.A{static config={className:"Neo.util.vdom.TreeBuilder",singleton:!0};#t(e,t,o,n){if("object"!=typeof e||null===e)return e;"cn"!==n||e.id||(e.id=Neo.getId("text"===e.vtype?"vtext":"vnode"));let i={...e};if(e[n]){i[n]=[];for(let s=0,a=e[n].length;s<a;s++){let a,l=e[n][s],d=l;if(d.componentId){const e=r.A.get(d.componentId);if(-1!==t&&e?.vnode){const e=o?.has(d.componentId);if(1===t&&!e||o&&!e){i[n].push({...d,neoIgnore:!0});continue}}if(t>1||-1===t||o?.has(d.componentId)||!e?.vnode){const t="cn"===n?e?.vdom:e?.vnode;t&&(d=t)}}a=l.componentId?-1===t?-1:Math.max(0,t-1):t,i[n].push(this.#t(d,a,o,n))}}return i}getVdomTree(e,t=-1,o=null){return this.#t(e,t,o,"cn")}getVnodeTree(e,t=-1,o=null){return this.#t(e,t,o,"childNodes")}}const N=Neo.setupClass(C);var w=o(259);class I extends w.A{static config={className:"Neo.manager.VDomUpdate",mergedCallbackMap:null,postUpdateQueueMap:null,singleton:!0};descendantInFlightMap=new Map;inFlightUpdateMap=null;preUpdateMap=new Map;promiseCallbackMap=null;construct(e){super.construct(e);const t=this;t.inFlightUpdateMap=new Map,t.mergedCallbackMap=Neo.create(w.A,{keyProperty:"ownerId"}),t.postUpdateQueueMap=Neo.create(w.A,{keyProperty:"ownerId"}),t.promiseCallbackMap=new Map}addPromiseCallback(e,t){let o=this;o.promiseCallbackMap.has(e)||o.promiseCallbackMap.set(e,[]),o.promiseCallbackMap.get(e).push(t)}executeCallbacks(e,t,o){let n=this,i=n.mergedCallbackMap.get(e),r=t?[t]:[];if(i&&o){for(const e of o)i.children.has(e)&&(n.executePromiseCallbacks(e,...r),i.children.delete(e));0===i.children.size&&n.mergedCallbackMap.remove(e)}n.executePromiseCallbacks(e,...r)}executePreUpdates(e){let t=this.preUpdateMap.get(e);t&&(this.preUpdateMap.delete(e),t())}executePromiseCallbacks(e,t){let o=this,n=o.promiseCallbackMap.get(e);if(n){for(let e=0,o=n.length;e<o;e++)n[e](t);o.promiseCallbackMap.delete(e)}}getAdjustedUpdateDepth(e){let t,o=Neo.getComponent(e),n=this.mergedCallbackMap.get(e),i=o?.updateDepth??1;if(n){for(const e of n.children.values())t=-1===e.childUpdateDepth?-1:e.distance+e.childUpdateDepth,-1===t?i=-1:-1!==i&&(i=Math.max(i,t));return i}return null}hasInFlightDescendants(e){return this.descendantInFlightMap.has(e)}getInFlightUpdateDepth(e){return this.inFlightUpdateMap.get(e)}getMergedChildIds(e){const t=this.mergedCallbackMap.get(e);if(t){const o=new Set(t.children.keys());for(const[n,i]of t.children)if(i.distance>1){let t=Neo.getComponent(n);for(;t&&t.parentId&&t.parentId!==e;)t=Neo.getComponent(t.parentId),t&&o.add(t.id)}return o}return null}registerInFlightUpdate(e,t){this.inFlightUpdateMap.set(e,t);const o=Neo.manager.Component.getParentIds(Neo.getComponent(e));for(let t=0,n=o.length;t<n;t++){let n=o[t],i=this.descendantInFlightMap.get(n);i||(i=new Map,this.descendantInFlightMap.set(n,i)),i.set(e,!0)}}registerMerged(e,t,o,n){let i=this.mergedCallbackMap.get(e);i||(i={ownerId:e,children:new Map},this.mergedCallbackMap.add(i)),i.children.set(t,{childUpdateDepth:o,distance:n})}registerPostUpdate(e,t,o){let n=this.postUpdateQueueMap.get(e);n||(n={ownerId:e,children:[]},this.postUpdateQueueMap.add(n)),n.children.push({childId:t,resolve:o})}registerPreUpdate(e,t){this.preUpdateMap.set(e,t)}triggerPostUpdates(e){let t,o=this,n=o.postUpdateQueueMap.get(e);if(n){for(let e=0,i=n.children.length;e<i;e++){let i=n.children[e];t=Neo.getComponent(i.childId),t&&(i.resolve&&o.addPromiseCallback(t.id,i.resolve),t.update())}o.postUpdateQueueMap.remove(n)}}unregisterInFlightUpdate(e){this.inFlightUpdateMap.delete(e);for(const[t,o]of this.descendantInFlightMap)o.has(e)&&(o.delete(e),0===o.size&&this.descendantInFlightMap.delete(t))}}const S=Neo.setupClass(I);var x=o(17);const{currentWorker:A}=Neo;class V extends n.A{static config={className:"Neo.mixin.VdomLifecycle",autoInitVnode:!1,autoMount:!1,isVdomUpdating_:!1,isVnodeInitializing_:!1,mounted_:!1,needsVdomUpdate_:!1,silentVdomUpdate_:!1,updateDepth_:1,vnode_:{[x.ol]:!0,clone:"none",cloneOnGet:"none",isEqual:(e,t)=>e===t,value:null},vnodeInitialized_:!1};afterSetVdom(e,t){this.updateVdom()}afterSetVnode(e,t){e&&this.syncVnodeTree()}afterSetVnodeInitialized(e,t){let o=this;e&&(o.fire("vnodeInitialized",o.id),o.needsVdomUpdate&&o.update())}createVdomReference(){let e=this,t={componentId:e.id},o=e.vdom.id;return o&&e.id!==o&&(t.id=o),t}ensureStableIds(){const e=this,t=e.vdom,o=e.getVdomRoot();o&&(o.id=e.id,t!==o&&(t.id=e.id+"__wrapper"))}async executeVdomUpdate(e,t){let o=this;e&&S.addPromiseCallback(o.id,e),o.isVdomUpdating=!0,S.registerInFlightUpdate(o.id,o.updateDepth);try{await new Promise(e=>setTimeout(e,1));const e={},t=new Map,n=new Set,i=new Map,r=s=>{if(n.has(s))return;n.add(s);const a=Neo.getComponent(s);if(!a||a.isDestroyed)return;if(!a.vnode)return;if(a.windowId!==o.windowId)return;const l=S.getMergedChildIds(s);t.set(s,a.updateDepth),l&&i.set(s,l);const d=1!==a.updateDepth?l:null;if(e[s]=a.getVdomUpdatePayload(d,null),l)for(const e of l)r(e)};r(o.id);for(const o in e)if(Object.hasOwn(e,o)){let n=Neo.getComponent(o)?.parent,i=1;for(;n;){if(e[n.id]){const r=t.get(n.id);if(-1===r||r>i){delete e[o];break}}n=n.parent,i++}}const s={updates:e};A?.isSharedWorker&&(s.appName=o.appName,s.windowId=o.windowId);const a=await Promise.resolve(Neo.vdom.Helper.updateBatch(s));if(o.id){!Neo.config.useVdomWorker&&a.deltas?.length>0&&await Neo.applyDeltas(o.windowId,a.deltas);for(const e in a.vnodes)if(Object.hasOwn(a.vnodes,e)){const t=a.vnodes[e],o=Neo.getComponent(e);o&&!o.isDestroyed&&(o.vnode=t,o.resolveVdomUpdate({deltas:a.deltas,vnode:t},i.get(e)))}}}catch(e){o.isVdomUpdating=!1,S.unregisterInFlightUpdate(o.id),t?.(e)}}getMountedParentId(){let e=this.parentId,t=Neo.getComponent(e),o=t?.getVdomItemsRoot?.();return o?o.id:e}getMountedParentIndex(){let e,t=this.parent,o=t?.items||[],n=0,i=0,r=o.length;for(;n<r;n++){if(e=o[n],e===this)return i;e.hidden||"removeDom"!==e.hideMode||i++}}getVdomUpdatePayload(e,t){let o=this,n=t??o.updateDepth,{vdom:i,vnode:r}=o,s={vdom:N.getVdomTree(i,n,e),vnode:N.getVnodeTree(r,n,e)};return A?.isSharedWorker&&(s.appName=o.appName,s.windowId=o.windowId),o._needsVdomUpdate=!1,o.afterSetNeedsVdomUpdate?.(!1,!0),o._updateDepth=o.constructor.config.updateDepth,s}getVdomChild(e,t=this.vdom){return u.A.find(t,e)?.vdom}getVdomRoot(){return this.vdom}getVnodeRoot(){return this.vnode}canMergeUpdate(e,t){return!0}hasUpdateCollision(e,t){return-1===e||t<e}async initVnode(e){let t=this,o=e||t.autoMount,{app:n}=t,{allowVdomUpdatesInTests:i,unitTestMode:r,useVdomWorker:s}=Neo.config;if(!r||i)if(r||!o||0===A.countLoadingThemeFiles){t.isVnodeInitializing=!0,n.vnodeInitialized||(n.isVnodeInitializing=!0);try{if(t.vdom){t.isVdomUpdating=!0,t.ensureStableIds(),S.registerInFlightUpdate(t.id,-1),delete t.vdom.removeDom,t._needsVdomUpdate=!1,t.afterSetNeedsVdomUpdate?.(!1,!0);const e=await Promise.resolve(Neo.vdom.Helper.create({appName:t.appName,autoMount:o,parentId:o?t.getMountedParentId():void 0,parentIndex:o?t.getMountedParentIndex():void 0,vdom:N.getVdomTree(t.vdom,-1),windowId:t.windowId}));return t.onInitVnode(e.vnode,!!s&&o),o&&!s&&(await Neo.applyDeltas(t.windowId,[{action:"insertNode",id:t.id,index:t.getMountedParentIndex(),outerHTML:e.outerHTML,parentId:t.getMountedParentId(),vnode:e.vnode}]),t.mounted=!0),e.deltas||(e.deltas=[]),t.resolveVdomUpdate(e),e}}catch(e){throw console.error("initVnode error",e,t.id),e}}else A.on("themeFilesLoaded",function(){!t.mounted&&t.initVnode(e)},t,{once:!0})}isChildUpdating(e){let t=this;if(S.hasInFlightDescendants(t.id)){let o=S.descendantInFlightMap.get(t.id).keys().next().value;return Neo.config.logVdomUpdateCollisions&&console.warn("vdom child update conflict with:",o,"for:",t),S.registerPostUpdate(o,t.id,e),!0}return!1}isParentUpdating(e=this.parentId,t,o=1){if("document.body"!==e){let n=this,i=Neo.getComponent(e);if(i){if(i.isVdomUpdating){const e=S.getInFlightUpdateDepth(i.id);return!!n.hasUpdateCollision(e,o)&&(Neo.config.logVdomUpdateCollisions&&console.warn("vdom parent update conflict with:",i,"for:",n),S.registerPostUpdate(i.id,n.id,t),!0)}return n.isParentUpdating(i.parentId,t,o+1)}}return!1}mergeIntoParentUpdate(e=this.parentId,t=1){if("document.body"!==e){let o=this,n=Neo.getComponent(e);if(n)return n.needsVdomUpdate&&o.canMergeUpdate(n.updateDepth,t)?(S.registerMerged(n.id,o.id,o.updateDepth,t),!0):o.mergeIntoParentUpdate(n.parentId,t+1)}return!1}onInitVnode(e,t){let o=this,{app:n}=o;if(o.isVnodeInitializing=!1,n){n.vnodeInitialized||(n.isVnodeInitializing=!1,n.vnodeInitialized=!0,n.fire("vnodeInitialized")),o.vnode=e;let i,s=r.A.getChildIds(e),a=0,l=s.length;for(;a<l;a++)i=Neo.getComponent(s[a]),i&&(i.vnodeInitialized=!0);o.vnodeInitialized=!0,t&&(o.mounted=!0,n.mounted||(n.mounted=!0,n.fire("mounted")))}}promiseUpdate(){let e=this;return new Promise((t,o)=>{const n=Symbol();e.registerAsync(n,o),e.updateVdom(o=>{e.unregisterAsync(n),t(o)},t=>{e.unregisterAsync(n),o(t)})})}resolveVdomUpdate(e,t){let o=this;o.isVdomUpdating=!1,S.executeCallbacks(o.id,e,t),S.unregisterInFlightUpdate(o.id),S.triggerPostUpdates(o.id),S.executePreUpdates(o.id),o.needsVdomUpdate&&o.update()}syncVdomState(e=this.vnode,t=this.vdom,o=!1){u.A.syncVdomState(e,t,o)}syncVnodeTree(e=this.vnode){let t,o=this,n=r.A.getChildren(o),i={};o.syncVdomState(),e&&o.id!==e.id&&r.A.registerWrapperNode(e.id,o);for(let e=0,s=n.length;e<s;e++){let s=n[e];t=c.A.find(o.vnode,s.vdom.id)?.vnode,t&&(i[s.id]=t,s.id!==t.id&&r.A.registerWrapperNode(t.id,s))}for(let e=0,o=n.length;e<o;e++){let o=n[e];t=i[o.id],t?(o._vnode=r.A.addVnodeComponentReferences(t,o.id),o.vnodeInitialized=!0,o.mounted=!0):console.warn("syncVnodeTree: Could not replace the child vnode for",o.id)}let s=r.A.getDirectChildren(o.id);for(let e=0,i=s.length;e<i;e++){let i=s[e];n.includes(i)||(t=null,o.vnode&&(t=c.A.find(o.vnode,i.vdom.id)?.vnode),t||i.floating||(i._vnode=null,i.mounted=!1))}o._vnode=e?r.A.addVnodeComponentReferences(e,o.id):null}update(){this.afterSetVdom(this.vdom,null)}updateVdom(e,t){if(!this.isConstructed)return void e?.();let o=this,{mounted:n,parentId:i,vnode:r}=o,{config:s}=Neo;!s.unitTestMode||s.allowVdomUpdatesInTests?(o.ensureStableIds(),e&&S.addPromiseCallback(o.id,e),o.mergeIntoParentUpdate(i)||o.isVdomUpdating||!o.vnodeInitialized||o.silentVdomUpdate?o.needsVdomUpdate=!0:n?o.isParentUpdating(i,e)||o.isChildUpdating(e)||!r||(s.isMiddleware||s.unitTestMode||0===A.countLoadingThemeFiles?o.executeVdomUpdate(null,t):A.on("themeFilesLoaded",function(){o.updateVdom(e,t)},o,{once:!0})):o.isAwaitingMount||(o.isAwaitingMount=!0,o.mountedPromise.then(()=>{o.isAwaitingMount=!1,o.vnode&&o.update()}))):t?.()}}const E=Neo.setupClass(V),_=(Symbol.for("closestController"),Symbol.for("closestProvider")),T=Symbol.for("twoWayBinding");class k extends n.A{static config={className:"Neo.component.Abstract",ntype:"abstract-component",additionalThemeFiles:null,appName_:null,bind_:{[x.ol]:!0,merge:"deep",value:null},cls_:null,data_:null,disabled_:!1,mixins:[b,y.A,E],modelData:null,mounted_:!1,parentComponent_:null,parentId_:"document.body",saveScrollPosition:!0,stateProvider_:null,unmountConfigs_:{[x.ol]:!0,merge:"deep",value:null},windowId_:null};isAwaitingMount=!1;get app(){return Neo.apps[this.windowId]||Neo.appsByName[this.appName]?.[0]||null}get mountedPromise(){let e=this;return e._mountedPromise||(e._mountedPromise=new Promise(t=>{e.mounted?t(e):e.mountedPromiseResolve=t})),e._mountedPromise}get parent(){let e=this;return e.parentComponent||("document.body"===e.parentId?null:Neo.getComponent(e.parentId))}afterSetConfig(e,t,o){let n=this;if(Neo.isUsingStateProviders&&n[T]){if(n._skipTwoWayPush===e)return;let o=n.bind?.[e];o?.twoWay&&this.getStateProvider()?.setData(o.key,t)}}afterSetId(e,t){super.afterSetId(e,t),t&&r.A.unregister(t),e&&r.A.register(this)}afterSetMounted(e,t){if(void 0!==t){const t=this;e?(t.initDomEvents?.(),t.mountedPromiseResolve?.(this),delete t.mountedPromiseResolve,S.executeCallbacks(t.id,{deltas:[],vnode:t.vnode})):(delete t._mountedPromise,t.resetMountedDomEvents?.(),t.unmountConfigs&&t.set(t.unmountConfigs))}}afterSetParentId(e,t){r.A.onParentIdChange(this,t)}afterSetStateProvider(e,t){e?.createBindings(this)}afterSetWindowId(e,t){const o=this;e&&(o.controller&&(o.controller.windowId=e),o.stateProvider&&(o.stateProvider.windowId=e),Neo.currentWorker.insertThemeFiles(e,o.__proto__)),t&&(o.isVdomUpdating=!1)}beforeGetData(e){return this.getStateProvider()?.getHierarchyData()}beforeSetStateProvider(e,t){if(t?.destroy(),e){let t=this,o={component:t,windowId:t.windowId};return t.modelData&&(o.data=t.modelData),i.A.beforeSetInstance(e,"Neo.state.Provider",o)}return null}destroy(){this.removeDomEvents(),r.A.unregister(this),this.stateProvider=null,super.destroy()}getConfigInstanceByNtype(e,t){let o=this,n=o[e],{parentComponent:i}=o;return!n||t&&t!==n.ntype?(!i&&o.parentId&&(i=o.parent||Neo.get(o.parentId)),i?i===o?(console.error("Circular parent reference detected",o.id),null):i.getConfigInstanceByNtype?.(e,t):null):n}getState(...e){return this.getStateProvider().getData(...e)}getStateProvider(e){if(!Neo.isUsingStateProviders)return null;let t,o=this;return!e&&(t=o[_],t)||(t=o.getConfigInstanceByNtype("stateProvider",e),e||(o[_]=t)),t}initConfig(...e){super.initConfig(...e),this.getStateProvider()?.createBindings(this)}onScrollCapture(e){let t;this.vnode&&(t=c.A.getById(this.vnode,e.target.id),t&&(t.scrollTop=e.scrollTop,t.scrollLeft=e.scrollLeft))}set(e={},t=!1){const o=this,n=o.hidden;return o.setSilent(e),!t&&o.needsVdomUpdate?n&&!o.hidden?(o.show?.(),Promise.resolve()):o.promiseUpdate():Promise.resolve()}setSilent(e={}){this.silentVdomUpdate=!0,super.set(e),this.silentVdomUpdate=!1}setState(...e){this.getStateProvider().setData(...e)}toJSON(){let e=this;return{...super.toJSON(),appName:e.appName,bind:e.bind?Object.keys(e.bind):null,mounted:e.mounted,parentId:e.parentId,stateProvider:e.stateProvider?.toJSON(),windowId:e.windowId}}}const D=Neo.setupClass(k);class M extends n.A{static config={className:"Neo.util.KeyNavigation",ntype:"keynav",component_:null,keyDownEventBubble:!1,keys_:null};add(e){this._keys.push(...this.parseKeys(e))}beforeGetComponent(){return Neo.getComponent(this._component)}beforeSetComponent(e){return e?.id}destroy(){this.unregister(),super.destroy()}onKeyDown(e){if(e.key){let t,o=this,n=e.key.toUpperCase();n=o.parseUpperCaseKey(n),o.keys.forEach(i=>{t=Neo.isString(i.scope)?Neo.get(i.scope):i.scope,i.key.toUpperCase()===n&&(Neo.isFunction(i.fn)?i.fn.apply(t,[e,o.component]):t[i.fn]?.apply(t,[e,o.component]))})}}parseKeys(e){if(!Array.isArray(e)){let t=this._component,o=[];t&&(Object.entries(e).forEach(([n,i])=>{"scope"!==n&&o.push({fn:i,key:n,scope:e.scope||t})}),e=o)}return e}parseUpperCaseKey(e){switch(e){case" ":e="SPACE";break;case"ARROWDOWN":e="DOWN";break;case"ARROWLEFT":e="LEFT";break;case"ARROWRIGHT":e="RIGHT";break;case"ARROWUP":e="UP"}return e}register(e){let t=this;t.component=e,t.keys=t.parseKeys(t.keys),e.addDomListeners({keydown:{bubble:t.keyDownEventBubble,fn:t.onKeyDown,scope:t}})}removeKey(e){let t,o=this._keys,n=0,i=o.length;for(;n<i;n++)if(t=o[n],Neo.isEqual(t,e)){s.A.remove(o,t);break}}removeKeys(e){Array.isArray(e)&&e.forEach(e=>this.removeKey(e))}unregister(){}toJSON(){let e=this;return{...super.toJSON(),component:e.serializeConfig(e.component),keys:e.serializeConfig(e.keys)}}}const P=Neo.setupClass(M);var L=o(406);class O extends n.A{static config={className:"Neo.util.Style"};static compareStyles(e,t){let o={};return Neo.isString(e)&&(e=Neo.createStyleObject(e)),Neo.isString(t)&&(t=Neo.createStyleObject(t)),e||t?t?(e&&Object.keys(e).forEach(n=>{t.hasOwnProperty(n)&&t[n]===e[n]||(o[n]=e[n])}),Object.keys(t).forEach(t=>{e&&e.hasOwnProperty(t)||(o[t]=null)}),Object.keys(o).length>0?o:null):Neo.clone(e):null}}Neo.setupClass(O);const R=e=>null==e||isNaN(e)?e:`${e}px`,F=Symbol.for("closestController"),U=/^\d+\w+$/;class W extends D{static hideModes=["removeDom","visibility"];static config={className:"Neo.component.Base",ntype:"component",align_:{[x.ol]:!0,merge:"deep",value:{edgeAlign:"t-b",constrainTo:"document.body"}},baseCls:[],containsFocus_:!1,controller_:null,droppable_:!1,dropZone:null,dropZoneConfig:null,floating:!1,hasBeenMounted:!1,height_:null,hidden_:!1,hideMode_:"removeDom",html_:null,isLoading_:!1,keys_:null,loadingSpinnerCls_:["fa","fa-spinner","fa-spin"],maxHeight_:null,maxWidth_:null,minHeight_:null,minWidth_:null,plugins_:null,reference_:null,responsive_:null,role_:null,scrollable_:!1,style_:{[x.ol]:!0,merge:"shallow",value:null},theme_:null,tag_:null,text_:null,tooltip_:null,ui_:null,width_:null,wrapperCls_:null,wrapperStyle_:{[x.ol]:!0,merge:"shallow",value:null},_vdom:{}};construct(e){let t=this;!Object.hasOwn(t,"_vdom")&&t._vdom&&(t._vdom=Neo.clone(t._vdom,!0)),super.construct(e)}get isVisible(){return this.mounted&&!this.hidden&&(!this.parent||this.parent.isVisible)}get vdom(){return this._vdom}set vdom(e){this.afterSetVdom(e,e)}addCls(e){let{cls:t}=this;s.A.add(t,e),this.cls=t}addStyle(e){return Neo.isString(e)&&(e=Neo.createStyleObject(e)),this.style=Object.assign(this.style,e)}addWrapperCls(e){let{wrapperCls:t}=this;s.A.add(t,e),this.wrapperCls=t}afterSetAppName(e,t){}afterSetCls(e,t){t=t||[];let o,n=this,i=n.vdom,r=n.getVdomRoot();i!==r?r.cls=[...e]:(o=s.A.union(n.wrapperCls,e),s.A.remove(o,s.A.difference(t,e)),i.cls=o),n.update()}afterSetDisabled(e,t){let o=this.cls;s.A[e?"add":"remove"](o,"neo-disabled"),this.cls=o}afterSetDroppable(e,t){let n=this;e&&!n.dropZone&&o.e(857).then(o.bind(o,857)).then(e=>{n.dropZone=Neo.create({module:e.default,appName:n.appName,owner:n,windowId:n.windowId,...n.dropZoneConfig})})}afterSetHeight(e,t){this.configuredHeight=R(e),this.changeVdomRootKey("height",e)}afterSetHidden(e,t){let o=this,n=e?"hide":"show";e&&void 0===t&&"removeDom"===o.hideMode?o.vdom.removeDom=!0:(e||void 0!==t)&&o[n](),e||o.revertFocus(),o.fire(n,{id:o.id}),o.fire("hiddenChange",{id:o.id,oldValue:t,value:e})}afterSetHtml(e,t){this.changeVdomRootKey("html",e)}afterSetId(e,t){super.afterSetId(e,t);let o=this;o.configsApplied&&(o.ensureStableIds(),o.update())}afterSetIsLoading(e,t){if(e||void 0!==t){let o,n=this,{wrapperCls:i,vdom:r}=n;void 0!==t&&r.cn&&(o=r.cn.findLastIndex(e=>e.cls?.includes("neo-load-mask")),-1!==o&&r.cn.splice(o,1)),e&&(r.cn||(r.cn=[]),r.cn.push(n.createLoadingMask(e))),s.A.toggle(i,"neo-masked",e),n.set({vdom:r,wrapperCls:i})}}afterSetMaxHeight(e,t){this.configuredMaxHeight=R(e),this.changeVdomRootKey("maxHeight",e)}afterSetMaxWidth(e,t){this.configuredMaxWidth=R(e),this.changeVdomRootKey("maxWidth",e)}afterSetMinHeight(e,t){this.configuredMinHeight=R(e),this.changeVdomRootKey("minHeight",e)}afterSetMinWidth(e,t){this.configuredMinWidth=R(e),this.changeVdomRootKey("minWidth",e)}afterSetMounted(e,t){if(super.afterSetMounted(e,t),void 0!==t){let t=this;e?(t.hasBeenMounted=!0,t.floating&&(t.alignTo(),t.focus(t.id,!0)),t.fire("mounted",t.id)):t.revertFocus()}}afterSetReference(e,t){e&&this.changeVdomRootKey("data-ref",e)}async afterSetResponsive(e,t){if(e&&!this.getPlugin("responsive")){let t=this,n=await o.e(858).then(o.bind(o,858)),i=t.plugins||[];i.push({module:n.default,appName:t.appName,value:e}),t.plugins=i}}afterSetRole(e,t){this.changeVdomRootKey("role",e)}afterSetScrollable(e,t){if(void 0===t&&!e)return;let o=this;if(t){let e="overflow";Neo.isBoolean(t)||(e+=Neo.capitalize(t)),o.removeStyle([e])}if(!Neo.isEmpty(e)){let t="overflow";e&&!Neo.isBoolean(e)&&(t+=Neo.capitalize(e)),e?(o.addStyle(t+":auto"),o.addCls("neo-scrollable")):o.removeCls("neo-scrollable")}}afterSetStyle(e,t){(e||void 0!==t)&&this.updateStyle()}afterSetTag(e,t){e&&this.changeVdomRootKey("tag",e)}afterSetTheme(e,t){if(e||void 0!==t){let o=this,{cls:n}=o,i=!1;t&&n.includes(t)&&(s.A.remove(n,t),i=!0),e!==o.parent?.theme&&(e&&s.A.add(n,e),i=!0),i&&(o.cls=n)}}afterSetText(e,t){this.changeVdomRootKey("text",e)}afterSetTooltip(e,t){t?.destroy?.(),e&&(Neo.ns("Neo.tooltip.Base")?this.createTooltip(e):o.e(451).then(o.bind(o,451)).then(()=>{this.createTooltip(e)}))}afterSetUi(e,t){let o=this,n=o.cls;t&&s.A.remove(n,`neo-${o.ntype}-${t}`),e&&""!==e&&s.A.add(n,`neo-${o.ntype}-${e}`),o.cls=n}afterSetWidth(e,t){this.configuredWidth=R(e),this.changeVdomRootKey("width",e)}afterSetWindowId(e,t){super.afterSetWindowId(e,t);let o=this.controller;o&&(o.windowId=e)}afterSetWrapperCls(e,t){t=t||[],e=e||[];let o=this,{vdom:n}=o,i=o.getVdomRoot(),r=n.cls||[];n===i?(r=s.A.union(r,e),s.A.remove(r,s.A.difference(t,e)),n.cls=r):(e=e||[],t&&s.A.remove(r,t),s.A.add(r,e),n.cls=r),o.update()}afterSetWrapperStyle(e,t){(e||void 0!==t)&&this.updateStyle()}async alignTo(e={}){const t=this,o={...t.align,...e,id:t.id,configuredFlex:t.configuredFlex,configuredWidth:t.configuredWidth,configuredHeight:t.configuredHeight,configuredMinWidth:t.configuredMinWidth,configuredMinHeight:t.configuredMinHeight,configuredMaxWidth:t.configuredMaxWidth,configuredMaxHeight:t.configuredMaxHeight,windowId:t.windowId};o.target&&await Neo.main.DomAccess.align(o)}beforeGetCls(e){return e?[...e]:[]}beforeGetStyle(e){return{...e}}beforeGetWrapperCls(e){return e?[...e]:[]}beforeGetWrapperStyle(e){return{...Object.assign(this.vdom.style||{},e)}}beforeSetAlign(e,t){return"string"==typeof e&&(e={edgeAlign:e}),e}beforeSetCls(e,t){return s.A.union(e||[],this.baseCls,this.getBaseClass())}beforeSetController(e,t){return t?.destroy(),e?i.A.beforeSetInstance(e,"Neo.controller.Component",{component:this,windowId:this.windowId}):e}beforeSetDomListeners(e,t){return Neo.isObject(e)&&(e=[e]),e||[]}beforeSetHideMode(e,t){return this.beforeSetEnumValue(e,t,"hideMode")}beforeSetKeys(e,t){return t?.destroy(),e&&(e=i.A.beforeSetInstance(e,P,{keyDownEventBubble:!0,keys:e})),e}beforeSetPlugins(e,t){return Array.isArray(e)&&e.forEach((t,o)=>{e[o]=i.A.beforeSetInstance(t,null,{owner:this})}),e}beforeSetSilentVdomUpdate(e,t){return!0===e?Neo.isNumber(t)?t+1:1:Neo.isNumber(t)&&t>0?t-1:0}beforeSetUpdateDepth(e,t){return void 0===t?e:-1===t||-1===e?-1:Math.max(e,t)}changeVdomRootKey(e,t){let o=this.getVdomRoot();t?o[e]=t:delete o[e],this.update()}createLoadingMask(e){return{cls:["neo-load-mask"],cn:[{cls:["neo-load-mask-body"],cn:[{cls:this.loadingSpinnerCls},{cls:["neo-loading-message"],removeDom:!Neo.isString(e),text:e}]}]}}createTooltip(e){"string"==typeof e&&(e={text:e});let t=this;e.ownInstance?t._tooltip=Neo.create("Neo.tooltip.Base",{...e,appName:t.appName,componentId:t.id,windowId:t.windowId}):(t._tooltip=e,Neo.tooltip.Base.createSingleton(t.app),t.addCls("neo-uses-shared-tooltip"),t.update())}destroy(e=!1,t=!1){let o,n=this,{parent:i,parentId:r}=n;n.revertFocus(),n.controller=null,n.reference&&n.getController()?.removeReference(n),n.plugins?.forEach(e=>{e.destroy()}),e&&r&&("document.body"===r?Neo.applyDeltas(n.windowId,{action:"removeNode",id:n.vdom.id}):(o=i.vdom,u.A.removeVdomChild(o,n.vdom.id),i[t?"_vdom":"vdom"]=o)),super.destroy(),n.onFocusLeave=Neo.emptyFn,n.unmount=Neo.emptyFn}down(e,t=!0){return r.A.down(this,e,t)}focus(e=this.id,t=!1,o){Neo.main.DomAccess.focus({children:t,id:e,preventScroll:o,windowId:this.windowId})}getBaseClass(){const e=[];return this.floating&&e.push("neo-floating"),e}getController(e){let t,o=this;return!e&&(t=o[F],t)||(t=o.getConfigInstanceByNtype("controller",e),e||(o[F]=t)),t}async getDomRect(e=this.id,t=this.windowId){let o=await this.trap(Neo.main.DomAccess.getBoundingClientRect({id:e,windowId:t}));return Array.isArray(o)?o.map(e=>L.A.clone(e)):L.A.clone(o)}getParents(){return r.A.getParents(this)}getPlugin(e){Neo.isString(e)&&(e.startsWith("plugin-")||(e="plugin-"+e),e={ntype:e});let t,o=this;for(const n of o.plugins||[]){t=!0;for(const o in e)if(n[o]!==e[o]){t=!1;break}if(t)return n}return null}getReference(e){return this.down({reference:e})}getTheme(){let e,t,o=this,n="neo-theme-";for(const e of o.cls||[])if(e.startsWith(n))return e;if(e=o.app?.mainView,e){t=u.A.getParentNodes(e.vdom,o.id);for(const e of t||[])for(const t of e.cls||[])if(t.startsWith(n))return t}return Neo.config.themes?.[0]}hide(e){let t=this;if("visibility"!==t.hideMode){let o=function(){"document.body"!==t.parentId?(t.vdom.removeDom=!0,t.parent.updateDepth=2,t.parent.update()):t.unmount()};e?t.timeout(e).then(o):o()}else{let e=t.style;e.visibility="hidden",t.style=e}t._hidden=!0}init(){this.autoInitVnode&&this.initVnode()}isFloating(){let e=this;return!!e.floating||!!e.parent&&e.parent.floating}async measure(e){if(null!=e)if(e.endsWith("px"))e=parseFloat(e);else if(U.test(e)){let{id:t,windowId:o}=this;e=await this.trap(Neo.main.DomAccess.measure({id:t,value:e,windowId:o}))}else isNaN(e)||(e=parseFloat(e));return e}mergeConfig(...e){let t=super.mergeConfig(...e),o=t.vdom||t._vdom||{};return this._vdom=Neo.clone({...o,...this._vdom||{}},!0),this.ensureStableIds(),delete t._vdom,delete t.vdom,t}async mount(){return this.initVnode(!0)}onConstructed(){super.onConstructed(),this.keys?.register(this)}onScrollCapture(e){super.onScrollCapture(e);let t=this;if(t._vdom){let o=u.A.getById(t._vdom,e.target.id);o&&(o.scrollTop=e.scrollTop,o.scrollLeft=e.scrollLeft)}}onFocusEnter(e){this.focusEnterData=e}onFocusLeave(e){this.focusEnterData=null}removeCls(e){let t=this.cls;s.A.remove(t,e),this.cls=t}removeStyle(e){Array.isArray(e)||(e=[e]);let{style:t}=this,o=!1;return Object.keys(t).forEach(n=>{e.indexOf(n)>-1&&(delete t[n],o=!0)}),o&&(this.style=t),t}revertFocus(){let e=this.focusEnterData?.relatedTarget;this.containsFocus&&e&&Neo.getComponent(e.id)?.focus()}show(){let e=this;if("visibility"!==e.hideMode)delete e.vdom.removeDom,e.silentVdomUpdate?e.needsVdomUpdate=!0:"document.body"!==e.parentId?(e.parent.updateDepth=-1,e.parent.update()):!e.mounted&&e.initVnode(!0);else{let t=e.style;t.visibility=null,e.style=t}e._hidden=!1}toggleCls(e,t){let o=this.cls;s.A.toggle(o,e,t),this.cls=o}unmount(){let e=this;e.vdom.removeDom=!0,e._hidden=!0,e.mounted=!1,Neo.applyDeltas(e.windowId,{action:"removeNode",id:e.vdom.id})}up(e){return r.A.up(this.id,e)}toJSON(){let e=this;return{...super.toJSON(),align:e.align,cls:e.cls,controller:e.controller?.toJSON(),disabled:e.disabled,height:e.height,hidden:e.hidden,keys:e.keys?.toJSON(),reference:e.reference,role:e.role,style:e.style,theme:e.theme,ui:e.ui,vdom:e.vdom,vnode:e.vnode,width:e.width,wrapperCls:e.wrapperCls,wrapperStyle:e.wrapperStyle}}updateStyle(){let e=this,{vdom:t}=e,o=e.getVdomRoot();t!==o?(t.style=e.wrapperStyle,o.style=e.style):t.style={...e.wrapperStyle,...e.style},e.update()}async waitForDomRect({attempts:e=10,delay:t=50,id:o=this.id,windowId:n=this.windowId}={}){let i=this,r=await i.getDomRect(o),s=!1;return Array.isArray(r)?r.forEach(e=>{(e.height<1||e.width<1)&&(s=!0)}):(r.height<1||r.width<1)&&(s=!0),s&&e>0?(await i.timeout(t),await i.waitForDomRect({attempts:e-1,delay:t,id:o,windowId:n})):r}}const B=Neo.setupClass(W)},414(e,t,o){o.d(t,{A:()=>r});var n=o(342);class i extends n.A{static config={className:"Neo.component.Label",ntype:"label",baseCls:["neo-label"],tag:"label"}}const r=Neo.setupClass(i)},122(e,t,o){o.d(t,{A:()=>p});var n=o(342),i=o(247),r=o(270);class s extends i.A{static config={className:"Neo.layout.Base",ntype:"layout-base",appName_:null,containerId:null,containerCls_:null,isLayout:!0,windowId_:null};get container(){let{containerId:e}=this;return Neo.getComponent(e)||Neo.get(e)}afterSetWindowId(e,t){e&&Neo.currentWorker.insertThemeFiles(e,this.__proto__)}applyChildAttributes(e,t){}applyRenderAttributes(e=!1){let t=this,{container:o,containerCls:n}=t,{wrapperCls:i}=o;n&&(o||Neo.logError(t.className+": applyRenderAttributes -> container not yet created",t.containerId),r.A.add(i,n),o[e?"setSilent":"set"]({wrapperCls:i}))}destroy(){let e=this;e.bind&&e.getStateProvider()?.removeBindings(e.id),super.destroy()}getStateProvider(e){return this.container.getStateProvider(e)}initConfig(e,t){super.initConfig(e,t);let o=this;o.bind&&o.container.getStateProvider()?.createBindings(o)}removeChildAttributes(e,t){}removeRenderAttributes(){let e=this,{container:t,containerCls:o}=e,{wrapperCls:n}=t;o&&(t||Neo.logError(e.className+": removeRenderAttributes -> container not yet created",e.containerId),r.A.remove(n,o),t.wrapperCls=n)}set(e={},t=!1){let{container:o}=this;return o.silentVdomUpdate=!0,super.set(e),o.silentVdomUpdate=!1,t||!o.needsVdomUpdate?Promise.resolve():o.promiseUpdate()}setSilent(e={}){return this.set(e,!0)}toJSON(){let e=this;return{...super.toJSON(),appName:e.appName,containerCls:e.containerCls,containerId:e.containerId,windowId:e.windowId}}}const a=Neo.setupClass(s);Neo.setupClass(class extends a{static activeItemCls="neo-active-item";static inactiveItemCls="neo-inactive-item";static itemCls="neo-layout-card-item";static slideDirections=["horizontal","vertical",null];static config={className:"Neo.layout.Card",ntype:"layout-card",activeIndex_:0,containerCls:"neo-layout-card",removeInactiveCards:!0,slideDirection_:null};async afterSetActiveIndex(e,t){let o,n,i,s,a,l,d,u=this,{container:c,removeInactiveCards:p}=u,h=u.constructor,g=u.slideDirection&&void 0!==t,m=!1;if(Neo.isNumber(e)&&c){for(s=c.items,a=s.length,s[e]||Neo.error("Trying to activate a non existing card",e,s),o=0;o<a;o++)if(l=s[o].module,o===e&&"Function"===Neo.typeOf(l)){m=!0;break}for(o=0;o<a;o++)n=o===e,i=s[o],l=i.module,n&&"Function"===Neo.typeOf(l)&&(i=await u.loadModule(i,o)),i instanceof Neo.component.Base&&(d=i.wrapperCls,r.A.remove(d,n?h.inactiveItemCls:h.activeItemCls),r.A.add(d,n?h.activeItemCls:h.inactiveItemCls),(p||m)&&(n?(delete i.vdom.removeDom,!g&&i.activate?.()):p&&(i.mounted=!1,i.vdom.removeDom=!0)),i.wrapperCls=d);g?await u.slideCards(e,t):(p||m)&&(c.updateDepth=-1,c.update())}}applyChildAttributes(e,t,o=!1){let n=this,i=n.activeIndex===t,s=n.constructor,a=e.wrapperCls||[],{vdom:l}=e;r.A.add(a,s.itemCls),r.A.add(a,i?s.activeItemCls:s.inactiveItemCls),!o&&n.removeInactiveCards?(l.removeDom=!i,e.wrapperCls=a,e.update?.()):e.wrapperCls=a}beforeSetSlideDirection(e,t){return this.beforeSetEnumValue(e,t,"slideDirection")}async loadModule(e,t){let o,{container:n}=this,i=n.items,{module:r}=e;return Neo.isNumber(t)||(t=i.indexOf(e)),e.isLoading=!0,r=await r(),r=r.default,o=r.prototype,e.className=o.className,e.module=r,delete e.isLoading,delete e.vdom,i[t]=e=Neo.create(e),this.applyChildAttributes(e,t),n.getVdomItemsRoot().cn[t]=e.createVdomReference(),n.fire("cardLoaded",{item:e}),e}async slideCards(e,t){let o,n,i,r,s=this,{container:a}=s,l="vertical"===s.slideDirection,{items:d,vdom:u}=a,c=d[e],p=d[t],h=e>t,g=await a.getDomRect(a.id);delete p.vdom.removeDom,l?(r=h?0:-g.height,n={flexDirection:"column",height:2*g.height+"px",transform:`translateY(${r}px)`,width:`${g.width}px`}):(i=h?0:-g.width,n={height:`${g.height}px`,transform:`translateX(${i}px)`,width:2*g.width+"px"}),u.cn=[{cls:["neo-relative"],cn:[{cls:["neo-animation-wrapper"],style:n,cn:[c.createVdomReference()]}]}],o=u.cn[0].cn[0],o.cn[h?"unshift":"push"](p.createVdomReference()),a.updateDepth=-1,await a.promiseUpdate(),o.style.transform=l?`translateY(${h?-g.height:0}px)`:`translateX(${h?-g.width:0}px)`,await a.promiseUpdate(),await s.timeout(300),u.cn=[],a.items.forEach(e=>{u.cn.push(e.createVdomReference())}),p.vdom.removeDom=!0,a.updateDepth=-1,await a.promiseUpdate()}toJSON(){let e=this;return{...super.toJSON(),activeIndex:e.activeIndex,containerCls:e.containerCls,removeInactiveCards:e.removeInactiveCards,slideDirection:e.slideDirection}}}),Neo.setupClass(class extends a{static config={className:"Neo.layout.Fit",ntype:"layout-fit",containerCls:"neo-layout-fit"};applyChildAttributes(e,t){e.ignoreLayout||(e.wrapperCls=r.A.union(e.wrapperCls,"neo-layout-fit-item"))}removeChildAttributes(e,t){if(!e.ignoreLayout){let{wrapperCls:t}=e;r.A.remove(t,"neo-layout-fit-item"),e.wrapperCls=t}}}),Neo.setupClass(class extends a{static config={className:"Neo.layout.Grid",ntype:"layout-grid",containerCls:"neo-layout-grid"}});const l=Neo.setupClass(class extends a{static alignValues=["center","end","start","stretch",null];static directionValues=["column","column-reverse","row","row-reverse",null];static packValues=["center","end","start",null];static wrapValues=["nowrap","wrap","wrap-reverse"];static config={className:"Neo.layout.Flexbox",ntype:"layout-flexbox",align_:null,direction_:null,gap_:null,pack_:null,prefix:"neo-flex-",wrap_:"nowrap"};afterSetAlign(e,t){t&&this.updateInputValue(e,t,"align")}afterSetDirection(e,t){t&&this.updateInputValue(e,t,"direction")}afterSetGap(e,t){if(!e&&!t)return;let{container:o}=this,{wrapperStyle:n}=o;n.gap=e,o.wrapperStyle=n}afterSetPack(e,t){t&&this.updateInputValue(e,t,"pack")}afterSetWrap(e,t){t&&this.updateInputValue(e,t,"wrap")}applyChildAttributes(e,t){if(!e.wrapperStyle)return;let o=e.wrapperStyle,n=o.flex||e.flex||("stretch"===this.align?1:"0 1 auto");Neo.isNumber(n)&&(n=`${n} 1 0%`),o.flex=n,e.wrapperStyle=o}applyRenderAttributes(){let e=this,{container:t,prefix:o}=e,{wrapperCls:n}=t;t||Neo.logError("layout.Flexbox: applyRenderAttributes -> container not yet created",e.containerId),r.A.add(n,o+"container"),e.align&&r.A.add(n,o+"align-"+e.align),e.direction&&r.A.add(n,o+"direction-"+e.direction),e.pack&&r.A.add(n,o+"pack-"+e.pack),e.wrap&&r.A.add(n,o+"wrap-"+e.wrap),t.wrapperCls=n}beforeSetAlign(e,t){return this.testInputValue(e,t,"alignValues","align")}beforeSetDirection(e,t){return this.testInputValue(e,t,"directionValues","direction")}beforeSetPack(e,t){return this.testInputValue(e,t,"packValues","pack")}beforeSetWrap(e,t){return this.testInputValue(e,t,"wrapValues","wrap")}removeChildAttributes(e,t){let o=e.wrapperStyle||{};o.flex=e.flex||null,e.wrapperStyle=o}removeRenderAttributes(){let e=this,{container:t,prefix:o}=e,{wrapperCls:n}=t;t||Neo.logError("layout.Flexbox: removeRenderAttributes -> container not yet created",e.containerId),r.A.remove(n,o+"container"),e.align&&r.A.remove(n,o+"align-"+e.align),e.direction&&r.A.remove(n,o+"direction-"+e.direction),e.pack&&r.A.remove(n,o+"pack-"+e.pack),e.wrap&&r.A.remove(n,o+"wrap-"+e.wrap),t.wrapperCls=n}testInputValue(e,t,o,n){let i=this.getStaticConfig(o);return r.A.hasItem(i,e)?e:(Neo.logError(this.containerId,'-> layout: supported values for "'+n+'" are',i),t)}toJSON(){let e=this;return{...super.toJSON(),align:e.align,direction:e.direction,gap:e.gap,pack:e.pack,prefix:e.prefix,wrap:e.wrap}}updateInputValue(e,t,o){let{container:n,prefix:i}=this,{wrapperCls:s}=n;n?.vnodeInitialized&&(r.A.remove(s,i+o+"-"+t),null!==e&&r.A.add(s,i+o+"-"+e),n.wrapperCls=s)}});Neo.setupClass(class extends l{static config={className:"Neo.layout.HBox",ntype:"layout-hbox",direction:"row"};applyChildAttributes(e,t){!e.width&&super.applyChildAttributes(e,t)}}),Neo.setupClass(class extends l{static config={className:"Neo.layout.VBox",ntype:"layout-vbox",direction:"column"};applyChildAttributes(e,t){!e.height&&super.applyChildAttributes(e,t)}}),o(599);var d=o(17);const u=({weight:e=0},{weight:t=0})=>e-t;class c extends n.A{static config={className:"Neo.container.Base",ntype:"container",baseCls:["neo-container"],dragResortable_:!1,itemDefaults_:{[d.ol]:!0,merge:"deep",value:null},items_:{[d.ol]:!0,clone:"shallow",cloneOnGet:"none",isEqual:()=>!1,value:[]},layout_:{ntype:"vbox",align:"stretch"},sortZone:null,sortZoneCls:"Neo.draggable.container.SortZone",sortZoneConfig:null,_vdom:{cn:[]}};add(e,t=!1,o=!0){let n=this;return n.insert(n.items?n.items.length:0,e,t,o)}afterSetAppName(e,t){let o=this;super.afterSetAppName(e,t),e&&o.items&&o.items.forEach(t=>{Neo.isString(t)||(t.appName=e)}),e&&o.layout&&(o.layout.appName=e),o.sortZone&&(o.sortZone.appName=e)}afterSetLayout(e,t){this.vnodeInitialized&&(t?.removeRenderAttributes(),e?.applyRenderAttributes(),this.items.forEach((o,n)=>{t?.removeChildAttributes(o,n),e?.applyChildAttributes(o,n)})),t?.destroy?.()}afterSetMounted(e,t){if(void 0!==t){super.afterSetMounted(e,t);for(let t=0,{items:o}=this,{length:n}=o;t<n;t++)o[t].vdom.removeDom||(o[t].mounted=e)}}afterSetNeedsVdomUpdate(e,t){e||this.items?.forEach(e=>{"string"!=typeof e&&(e._needsVdomUpdate=!1,e.afterSetNeedsVdomUpdate?.(!1,!0))})}afterSetIsVnodeInitializing(e,t){if(void 0!==t){let{items:t}=this,o=0,n=t.length;for(;o<n;o++)t[o].vdom.removeDom||(t[o].isVnodeInitializing=e)}}async afterSetDragResortable(e,t){let o,n=this;e&&!n.sortZone&&(n.sortZoneConfig?.module?(o=n.sortZoneConfig.module,n.isConstructed||await Promise.resolve()):(o=await n.loadSortZoneModule(),o=o.default),n.createSortZone(Neo.merge({module:o,appName:n.appName,boundaryContainerId:n.id,owner:n,windowId:n.windowId},n.sortZoneConfig)))}afterSetTheme(e,t){super.afterSetTheme(e,t),e&&this.items?.forEach(t=>{Neo.isString(t)||(t.theme=e)})}afterSetWindowId(e,t){super.afterSetWindowId(e,t);let o=this,{layout:n}=o;e&&o.items?.forEach(t=>{Neo.isString(t)||(t.windowId=e)}),e&&n&&!Neo.isString(n)&&(n.windowId=e),o.sortZone&&(o.sortZone.windowId=e)}beforeSetItems(e,t){if("Object"===Neo.typeOf(e)){let t,o,n=[];for(const i in e)o=e[i],o.reference=i,n.push(o),t||="weight"in o;t&&n.sort(u),e=n}return e}beforeSetLayout(e,t){return this.createLayout(e)}createItem(e,t,o=!0){let i,r,s,a=this,l={appName:a.appName,parentId:a.id,parentIndex:t,windowId:a.windowId},d={...a.itemDefaults};switch(d&&(e.module&&delete d.ntype,e.ntype&&delete d.module),Neo.typeOf(e)){case"NeoClass":e=Neo.create({theme:e.config.theme||a.theme,...d,module:e,...l});break;case"NeoInstance":s=e.parent,s&&s!==a&&(o&&(s.remove?.(e,!1),delete e.vdom.removeDom),s.windowId!==a.windowId&&(e[o?"mounted":"_mounted"]=!1),e.controller||a.getController()||!s.getController?.()||(e.controller={parent:s.getController()})),e.set(l),e.getStateProvider?.()?.createBindings(e);break;case"Object":d&&Neo.assignDefaults(e,d),e.module||e.ntype||e.className||(e.module=n.A),r=e.module,i=r&&!r.isClass&&Neo.isFunction(r),r&&!i&&(e.className=r.prototype.className,e.theme=d.theme||r.config.theme||a.theme),"this"===e.handlerScope&&(e.handlerScope=a,"String"===Neo.typeOf(e.handler)&&"Function"===Neo.typeOf(a[e.handler])&&(e.handler=a[e.handler])),Object.assign(e,l),i?e.vdom=Object.assign(e.vdom||{},{removeDom:!0}):e=Neo[e.className?"create":"ntype"](e);break;case"String":e=Neo.create({module:n.A,vdom:{text:e},...l})}return e}createItems(){let e,t=this,o=t._items,n=t.getVdomItemsRoot(),{layout:i}=t;n.cn=[],o.forEach((r,s)=>{o[s]=r=t.createItem(r,s),r instanceof Neo.core.Base?(i?.applyChildAttributes(r,s),e=r.createVdomReference()):e=r.vdom,n.cn.push(e)}),t.updateDepth=-1,t.isConstructed&&t.update(),t.fire("itemsCreated",{id:t.id,items:o})}createLayout(e){if(e){let t=this,{appName:o,id:n,windowId:i}=t;e instanceof a&&e.isLayout?Object.assign(e,{appName:o,containerId:n,windowId:i}):(e=t.parseLayoutClass(e),Object.assign(e,{appName:o,containerId:n,windowId:i}),e=Neo.ntype(e))}return e}createSortZone(e){this.sortZone=Neo.create(e)}destroy(e=!1,t=!1){this.layout?.destroy(),this.items?.forEach(e=>{e.destroy?.(!1,!0)}),super.destroy(e,t)}getItem(e,t=this.items){let o,n,i=0,r=t.length;for(;i<r;i++){if(n=t[i],n.reference===e)return n;if(n.items&&(o=this.getItem(e,n.items),o))return o}return null}getVdomItemsRoot(){return this.getVdomRoot()}indexOf(e){let t=this,o=0,n=t.items?.length||0;for(Neo.isString(e)||(e=e.id);o<n;o++)if(t.items[o].id===e)return o;return-1}insert(e,t,o=!1,n=!0){let i,r,s,a,l,d,u,c,p=this,{items:h}=p,g=null;if(Array.isArray(t)){for(i=0,a=t.length,c=[];i<a;i++)c.unshift(p.insert(e,t[a-1-i],!0,n));t=c}else{if(s=Neo.typeOf(t),"NeoInstance"===s){if(r=t.parent,r===p&&h.indexOf(t)===e)return t;r&&r!==p&&n&&(l=r,l.windowId===p.windowId&&(d=[p,...p.getParents()],u=[l,...l.getParents()],g=d.find(e=>u.includes(e))),g&&(l.remove(t,!1,!0,!0),n=!1))}t=p.createItem(t,e,n),p.layout?.applyChildAttributes(t,e,!0),h.splice(e,0,t),p.items=h,p.getVdomItemsRoot().cn.splice(e,0,t.createVdomReference())}return o||((g||p).updateDepth=-1,(g||p).promiseUpdate().then(()=>{p.fire("insert",{index:e,item:t})})),t}async loadItems({options:e={},url:t}){let o=this,n=await o.trap(fetch(t,e)),i=await o.trap(n.json());return i.modules?.length>0&&await o.trap(Promise.all(i.modules.map(e=>(e.startsWith("http")||(e=("development"===Neo.config.environment?"../../":"../../../../")+e),import(e))))),i.items}loadSortZoneModule(){return o.e(551).then(o.bind(o,551))}mergeConfig(...e){let t,o=this,n=super.mergeConfig(...e);return n.items&&(t=o.constructor.config.items,"Object"===Neo.typeOf(n.items)?Neo.isArray(t)?o.items=Neo.clone(n.items,!0,!0):o.items=Neo.merge(Neo.clone(t),n.items):o._items=Neo.clone(n.items,!0,!0),delete n.items),n}moveTo(e,t){let o=this.items[e];return e!==t&&this.switchItems(t,e),o}onConstructed(){let e=this,t=e.layout;!t||t instanceof a||(t=Neo.clone(t,!0)),e._layout=e.createLayout(t),e._layout?.applyRenderAttributes(),super.onConstructed(),e.parseItemConfigs(e._items),e.createItems()}parseLayoutClass(e){return Neo.isObject(e)?e.ntype.startsWith("layout-")||(e.ntype=`layout-${e.ntype}`):e={ntype:e.startsWith("layout-")?e:`layout-${e}`},e}remove(e,t=!0,o=!1,n=!1){let i=[...this.items],r=0,s=i.length;for(;r<s;r++)if(i[r].id===e.id)return this.removeAt(r,t,o,n)}removeAll(e=!0,t=!1){let o=this;o.items.forEach(t=>{e?t.destroy(!0,!0):t.mounted=!1}),o.items=[],o.getVdomItemsRoot().cn=[],t&&!e||o.update()}removeAt(e,t=!0,o=!1,n=!1){let i,r=this,{items:s}=r;if(!(e>=s.length))return i=s[e],s.splice(e,1),r.getVdomItemsRoot().cn.splice(e,1),r.updateDepth=2,!o&&r.update(),t?(i.destroy(!0,o),null):(r.layout?.removeChildAttributes(i),n||(i.mounted=!1),i);Neo.warn("Container.removeAt: index >= items.length. "+r.id)}removeLast(e=!0,t=!1){this.removeAt(this.items.length-1,e,t)}replaceAt(e,t,o=!0,n=!1){this.removeAt(e,o,!0),this.insert(e,t,n)}switchItems(e,t){let o=this,n=Neo.isNumber(e)?e:o.indexOf(e),i=Neo.isNumber(t)?t:o.indexOf(t);r.A.move(o.items,i,n),r.A.move(o.getVdomItemsRoot().cn,i,n),o.updateDepth=2,o.update()}toJSON(){let e=this;return{...super.toJSON(),dragResortable:e.dragResortable,itemCount:e.items?.length||0,itemDefaults:e.itemDefaults,items:e.items?.map(t=>{const o=Neo.typeOf(t);return"NeoInstance"===o?t.id:"Object"===o&&Neo.isFunction(t.module)&&!t.module.isClass?{...t,module:t.module.toString()}:e.serializeConfig(t)}),layout:e.layout?.toJSON()}}}const p=Neo.setupClass(c)},293(e,t,o){o.d(t,{A:()=>a});var n=o(115),i=o(825),r=o(483);class s extends n.A{static config={className:"Neo.manager.Component",singleton:!0};childMap=new Map;wrapperNodes=new Map;construct(e){super.construct(e);let t=this;Neo.first=t.getFirst.bind(t),Neo.getComponent=t.get.bind(t)}addVnodeComponentReferences(e,t){e={...e};let o,n,r,s,a,l=this,d=e?.childNodes?[...e.childNodes]:[];return e.childNodes=d,d.forEach((e,u)=>{o=e.id,e.componentId||o===t||(n=l.get(o),n||(n=l.wrapperNodes.get(o),n&&(r=n.id,s=i.A.find(n.parent.vdom,{componentId:r},!1),s&&(s.vdom.id=o))),n&&(r=n.id,a={componentId:r,id:o})),d[u]=n?a:l.addVnodeComponentReferences(e,t)}),e}down(e,t,o=!0){Neo.isString(e)&&(e=this.getById(e));let n,i,r,s,a=this,l=[],d=null,u=0,c=[];if(Neo.isString(t)?t={ntype:t}:t||(t={}),i=Object.entries(t),r=i.length,i.forEach(([t,o])=>{(e[t]===o||"ntype"===t&&a.hasPrototypePropertyValue(e,t,o))&&l.push(!0)}),l.length===r){if(o)return e;c.push(e)}for(n=a.getDirectChildren(e.id),s=n.length;u<s;u++)if(d=a.down(n[u],t,o),o){if(null!==d)return d}else d.length>0&&c.push(...d);return o?null:c}findParentComponent(e){let t,o=this,n=0,i=e?.length||0;for(;n<i;n++)if(t=e[n],t&&o.has(t))return t;return null}get(e,t=!0){if(t){let t=this.wrapperNodes.get(e);if(t)return t}return super.get(e)}getChildComponents(e){let t,o=this,n=o.getDirectChildren(e.id),i=[];return n.forEach(e=>{i.push(e),t=o.getChildComponents(e),t&&i.push(...t)}),i}getChildIds(e,t=[]){return r.A.getChildIds(e,t)}getChildren(e){let t,o=[];return r.A.getChildIds(e.vnode).forEach(e=>{t=this.get(e),t&&o.push(t)}),o}getDirectChildren(e){if(!e)return[];let t,o=this,n=o.childMap.get(e);return n?(t=[],n.forEach(e=>{let i=o.get(e);i?t.push(i):n.delete(e)}),t):[]}getDistance(e,t){let o=this.get(e),n=0;for(;o?.parentId;){if(n++,o.parentId===t)return n;o=this.get(o.parentId)}return-1}getFirst(e,t=!0){let o=[],n=Object.values(Neo.apps)[0].mainView;if(Neo.isString(e)){const t=/(\w*)(\[[^\]]*\])|(\w*)/g;let n;for(;n=t.exec(e);){let e,[,i,r,s]=n;if(i=i||s,e={ntype:i},r){const t=/\[(.*?)\]/,o=r.match(t);o&&o[1].split(",").forEach(t=>{const[o,n]=t.split("=");e[o]=n.replace(/"/g,"")})}o.push(e),t.lastIndex++}}else Neo.isObject(e)?o.push(e):Neo.isArray(e)&&(o=e);return o.reduce((e,o)=>{if(e){let n=e.down(o,t);if(n)return n}return null},n)}getParentIds(e){let t=[];for(;e?.parentId;)(e=this.get(e.parentId))&&t.push(e.id);return t}getParentPath(e){let t,o,n=this,i=[],r=0,s=e?.length||0;for(;r<s;r++)if(o=e[r],n.has(o)||n.wrapperNodes.get(o)){for(t=n.get(o);t;)i.push(t.id),t=t.parent;break}return i}getParents(e){Neo.isString(e)&&(e=this.get(e));let t=[];for(;e?.parentId;)(e=this.get(e.parentId))&&t.push(e);return t}hasParent(e,t){let o=this.get(e);for(;o?.parentId;){if(o.parentId===t)return!0;o=this.get(o.parentId)}return!1}hasPrototypePropertyValue(e,t,o){for(;null!==e;){if(e.hasOwnProperty(t)&&e[t]===o)return!0;e=e.__proto__}return!1}onParentIdChange(e,t){let o,n=this,i=e.parentId;t&&(o=n.childMap.get(t),o&&(o.delete(e.id),0===o.size&&n.childMap.delete(t))),i&&(o=n.childMap.get(i),o||(o=new Set,n.childMap.set(i,o)),o.add(e.id))}register(e){super.register(e);const{id:t,parentId:o}=e;if(o){let e=this,n=e.childMap.get(o);n||(n=new Set,e.childMap.set(o,n)),n.add(t)}}registerWrapperNode(e,t){this.wrapperNodes.set(e,t)}unregister(e){let t=this,o=e;if(e&&(Neo.isString(e)&&(t.wrapperNodes.delete(e),o=t.get(e)),o)){const{id:e,parentId:n,vdom:i}=o;if(i&&e!==i.id&&t.wrapperNodes.delete(i.id),n){let o=t.childMap.get(n);o&&(o.delete(e),0===o.size&&t.childMap.delete(n))}}super.unregister(e)}up(e,t,o=!0){let n,i,r,s=this.get(e),a=[];for(Neo.isString(t)?t={ntype:t}:t||(t={}),n=Object.entries(t),i=n.length;s?.parentId;){if(s=this.get(s.parentId),!s)return o?null:a;if(r=[],n.forEach(([e,t])=>{s[e]===t&&r.push(!0)}),r.length===i){if(o)return s;a.push(s)}}}}const a=Neo.setupClass(s)},778(e,t,o){o.d(t,{A:()=>r});var n=o(247);class i extends n.A{static config={className:"Neo.util.ClassSystem"};static beforeSetInstance(e,t=null,o={}){let n=Neo.typeOf(e);if(Neo.isString(t)&&(t=Neo.ns(t)),!e&&t)e=Neo.create(t,o);else if("NeoClass"===n)e=Neo.create(e,o);else if("Object"===n)if(e.ntype)e=Neo.ntype({...o,...e});else{let n={};t&&(n.module=t),Object.assign(n,{...o,...e}),e=Neo.create(n)}else"NeoInstance"===n&&o?.listeners&&e.on(o.listeners);return e}}const r=Neo.setupClass(i)},406(e,t,o){o.d(t,{A:()=>g});const n=Object.freeze([]),i=(e=0)=>{switch(Array.isArray(e)||(e=[e]),e.length){case 1:return e.length=4,e.fill(e[0],1,4);case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]]}return e},r=e=>{const t=a[e.ourEdge],o=a[e.theirEdge];return`${t}${e.ourEdgeOffset}${e.ourEdgeUnit}-${o}${e.theirEdgeOffset}${e.theirEdgeUnit}`},s=e=>{const t=e instanceof DOMRect?e:(1===e?.nodeType?e:"string"==typeof e?document.getElementById(e):null)?.getBoundingClientRect();return t&&new g(t.x,t.y,t.width,t.height)},a={t:"b",r:"l",b:"t",l:"r"},l={t:0,r:1,b:2,l:3},d=["top","right","bottom","left"],u=["t","r","b","l"],c=["width","height"],p=[0,0,0,0],h=/^([trblc])(\d*)(%|px)?-([trblc])(\d*)(%|px)?$/;class g extends DOMRect{static config={className:"Neo.util.Rectangle"};minHeight=null;minWidth=null;static excludes(e,t){return e.bottom<t.top||e.left>t.right||e.right<t.left||e.top>t.bottom}static getIntersection(e,t){let o=Math.max(e.x,t.x),n=Math.max(e.y,t.y),i=Math.min(e.right,t.right),r=Math.min(e.bottom,t.bottom),s=Math.max(0,i-o),a=Math.max(0,r-n);return a<1||s<1?null:new g(o,n,s,a)}static includes(e,t){return e.bottom>=t.bottom&&e.left<=t.left&&e.right>=t.right&&e.top<=t.top}static leavesSide(e,t,o){return!g.includes(e,t)&&("bottom"===o?e.bottom<t.bottom:"left"===o?e.left>t.left:"right"===o?e.right<t.right:"top"===o?e.top>t.top:void 0)}static moveBy(e,t=null,o=null){let n={...e};return Neo.isNumber(t)&&(n.left+=t,n.right+=t,n.x+=t),Neo.isNumber(o)&&(n.bottom+=o,n.top+=o,n.y+=o),n}static moveTo(e,t=null,o=null){let n={...e};return Neo.isNumber(t)&&(n.left=t,n.right=t+n.width,n.x=t),Neo.isNumber(o)&&(n.bottom=o+n.height,n.top=o,n.y=o),n}set bottom(e){this.height+=e-this.bottom}get bottom(){return super.bottom}set right(e){this.width+=e-this.right}get right(){return super.right}changeX(e){const t=this.x-e;this.x=e,this.width+=t}changeY(e){const t=this.y-e;this.y=e,this.height+=t}clone(){return g.clone(this)}static clone(e){const t=new g(e.x,e.y,e.width,e.height);return t.minWidth=e.minWidth,t.minHeight=e.minHeight,t}intersects(e){const t=this;if(e.height&&e.width){const o=Math.max(t.x,e.x),n=Math.max(t.y,e.y),i=Math.min(t.x+t.width,e.x+e.width),r=Math.min(t.y+t.height,e.y+e.height);return!(o>=i||n>=r)&&new g(o,n,i-o,r-n)}return e.x>=t.x&&e.y>=t.y&&e.right<=t.right&&e.bottom<=t.bottom}expand(e){return e=i(e),new this.constructor(this.x-e[3],this.y-e[0],this.width+e[1]+e[3],this.height+e[0]+e[2])}moveBy(e=0,t=0){const o=this.clone();return Array.isArray(e)&&(t=e[1],e=e[0]),o.x+=e,o.y+=t,o}contains(e){return g.includes(this,e)}constrainTo(e){const t=this,o=t.minWidth||t.width;if((t.minHeight||t.height)>e.height||o>e.width)return!1;const n=t.clone();return n.x=Math.max(t.x+Math.min(e.right-n.right,0),e.x),n.y=Math.max(t.y+Math.min(e.bottom-n.bottom,0),e.y),n.bottom=Math.min(n.bottom,e.bottom),n.right=Math.min(n.right,e.right),n}alignTo(e){const t=this,{constrainTo:o,target:n,edgeAlign:g,axisLock:m,offset:f,matchSize:v}=e,b=e.targetMargin?i(e.targetMargin):p,y=s(n),C=s(o),N=(e=>{const t=h.exec(e),o=l[t[1]],n=l[t[4]];return{ourEdge:t[1],ourEdgeOffset:parseInt(t[2]||50),ourEdgeUnit:t[3]||"%",ourEdgeZone:o,theirEdge:t[4],theirEdgeOffset:parseInt(t[5]||50),theirEdgeUnit:t[6]||"%",theirEdgeZone:n,edgeAligned:(1&o)==(1&n)&&o!==n}})(g),w=c[1&N.theirEdgeZone];let I=t.clone();v&&(I[w]=y[w]);const S=I.getAnchorPoint(N.ourEdgeZone,N.ourEdgeOffset,N.ourEdgeUnit),x=y.getAnchorPoint(N.theirEdgeZone,N.theirEdgeOffset,N.theirEdgeUnit,b),A=[x[0]-S[0],x[1]-S[1]];if(I=I.moveBy(A),I.zone=N.theirEdgeZone,I.position=d[I.zone],C&&!C.contains(I)){if(y.intersects(I))return I;let e=N.theirEdgeZone;const o=[{zone:e,edgeAlign:g}];if(m)o[1]={zone:e=(e+2)%4,edgeAlign:r(N)},o.push({zone:e=(N.theirEdgeZone+1)%4,edgeAlign:`${a[u[e]]}-${u[e]}`}),o.push({zone:e=(N.theirEdgeZone+3)%4,edgeAlign:`${a[u[e]]}-${u[e]}`});else for(let t=1;t<4;t++)o.push({zone:e=(e+1)%4,edgeAlign:`${a[u[e]]}-${u[e]}`});for(let e=0;e<o.length;e++){const t=C.clone();switch(o[e].zone){case 0:t.bottom=y.y-b[0];break;case 1:t.changeX(y.right+b[1]);break;case 2:t.changeY(y.bottom+b[2]);break;case 3:t.right=y.x-b[3]}o[e].constrainRect=t}for(let e=0;e<o.length;e++){const{zone:n,edgeAlign:i,constrainRect:r}=o[e],s=u[n];v&&(I[w]=s===N.theirEdge||s==a[N.theirEdge]?y[w]:t[w]),I=I.alignTo({target:y,edgeAlign:i,targetMargin:b});let l=I.constrainTo(r);if(l)return l.zone=n,l.position=d[n],l}}return f&&I.moveBy(f),I}getAnchorPoint(e,t,o,i=n){const r=this;let s;switch(e){case 0:s=[r.x,r.y-(i[0]||0),r.width,0];break;case 1:s=[r.x+r.width+(i[1]||0),r.y,r.height,1];break;case 2:s=[r.x,r.y+r.height+(i[2]||0),r.width,0];break;case 3:s=[r.x-(i[3]||0),r.y,r.height,1]}return s[s[3]]+="%"===o?s[2]/100*t:t,s.length=2,s}equals(e){return e instanceof DOMRect&&e.x===this.x&&e.y===this.y&&e.height===this.height&&e.width===this.width}show(e="red"){const t=document.createElement("div");return t.style=`\n            position:absolute;\n            transform:translate3d(${this.x}px, ${this.y}px, 0);\n            height:${this.height}px;\n            width:${this.width}px;\n            background-color:${e}\n        `,document.body.appendChild(t),setTimeout(()=>t.remove(),3e4),t}toJSON(){const{bottom:e,height:t,left:o,minHeight:n,minWidth:i,right:r,top:s,width:a,x:l,y:d}=this;return{bottom:e,height:t,left:o,minHeight:n,minWidth:i,right:r,top:s,width:a,x:l,y:d}}}},825(e,t,o){o.d(t,{A:()=>s});var n=o(247),i=o(293);class r extends n.A{static config={className:"Neo.util.VDom"};static clone(e,t=!0){let o=Neo.clone(e,!0);return t&&delete o.id,o.cn&&o.cn.forEach((e,n)=>{o.cn[n]=r.clone(e,t)}),o}static find(e,t,o=!0,n,i){n=n||0,t=Neo.isString(t)?{id:t}:t,o&&(e=r.getVdom(e));let s,a=null,l=[],d=!0,u=0,c=e.cn?.length,p=Object.entries(t),h=p.length;if(p.forEach(([t,o])=>{if(e.hasOwnProperty(t))switch(t){case"cls":if("string"==typeof o&&Neo.isArray(e[t]))e[t].includes(o)&&l.push(!0);else if("string"==typeof o&&"string"==typeof e[t])e[t]===o&&l.push(!0);else if(Neo.isArray(o)&&Neo.isArray(e[t]))throw new Error("find: cls matching not supported for target & source types of Arrays");break;case"style":if("string"==typeof o&&"string"==typeof e[t])e[t]===o&&l.push(!0);else{if(!Neo.isObject(o)||!Neo.isObject(e[t]))throw new Error("find: style matching not supported for mixed target & source types (Object VS String)");Object.entries(o).forEach(([o,n])=>{e[t].hasOwnProperty(o)&&e[t][o]===n||(d=!1)}),d&&l.push(!0)}break;default:e[t]===o&&l.push(!0)}}),l.length===h)return{index:n,parentNode:i,vdom:e};if(e.cn)for(;u<c;u++)if(e.cn[u]&&(s=r.find(e.cn[u],t,o,u,e),s)){a={index:s.index,parentNode:s.parentNode,vdom:s.vdom};break}return a}static getByFlag(e,t){return r.find(e,{flag:t})?.vdom}static getById(e,t){if(!(e=r.getVdom(e)))return null;let o,n=e.cn||[],i=0,s=n.length;if(e.id===t)return e;for(;i<s;i++)if(o=r.getVdom(n[i]),o){if(o.id===t)return o;if(o=r.getById(o,t),o)return o}return null}static getChildIds(e,t=[]){return e=r.getVdom(e),(e?.cn||[]).forEach(e=>{e.id&&t.push(e.id),t=r.getChildIds(e,t)}),t}static getColumnNodes(e,t){e=r.getVdom(e);let o=[];return e.cn?.forEach(e=>{e.cn?.[t]&&o.push(e.cn[t])}),o}static getColumnNodesIds(e,t){return r.getColumnNodes(e,t).map(e=>e.id)}static getFlags(e,t,o){return e=r.getVdom(e),o||(o=[],e.flag===t&&o.push(e)),(e?.cn||[]).forEach(e=>{e.flag===t&&o.push(e),o=r.getFlags(e,t,o)}),o}static getParentNodes(e,t,o=!0){e=r.getVdom(e);let n=null,i=0,s=e.cn?.length||0;if(e.id===t)return[];for(;i<s;i++)if(n=r.getParentNodes(e.cn[i],t,!1),n){n.push(e.cn[i]);break}return o&&n&&n.push(e),n}static getVdom(e){if(e.componentId){const t=i.A.get(e.componentId);if(!t)throw new Error(`util.VDom.getVdom: Component not found for id: ${e.componentId}`);e=t.vdom}return e}static insertAfterNode(e,t,o){return r.insertNode(e,t,o,!1)}static insertBeforeNode(e,t,o){return r.insertNode(e,t,o,!0)}static insertNode(e,t,o,n){Neo.isObject(o)&&(o=o.id);let i,s=r.find(e,o);return!!s&&(i=n?s.index:s.index+1,s.parentNode.cn.splice(i,0,t),!0)}static removeVdomChild(e,t){let o=r.find(e,t);return!!o&&(o.parentNode.cn.splice(o.index,1),!0)}static replaceVdomChild(e,t,o){let n,i=(e=r.getVdom(e)).cn||[],s=0,a=i.length;if(e.id===t)throw new Error("replaceVdomChild: target id matches the root vnode id: "+t);for(;s<a;s++){if(n=i[s],n.id===t)return i[s]=o,!0;if(r.replaceVdomChild(n,t,o))return!0}return!1}static syncVdomState(e,t,o=!1){if(e&&t){let n,i,s,a=(t=r.getVdom(t)).cn;if(Neo.isNumber(t.scrollTop)&&(e.scrollTop=t.scrollTop),Neo.isNumber(t.scrollLeft)&&(e.scrollLeft=t.scrollLeft),a){if(n=a.map(e=>r.getVdom(e)),n=n.filter(e=>e&&!0!==e.removeDom),i=0,s=n?.length||0,e.childNodes&&e.childNodes.length!==s)return;for(;i<s;i++)e.childNodes&&r.syncVdomState(e.childNodes[i],n[i],o)}}}}const s=Neo.setupClass(r)},483(e,t,o){o.d(t,{A:()=>s});var n=o(247),i=o(293);class r extends n.A{static config={className:"Neo.util.VNode"};static find(e,t,o,n){e=r.getVnode(e),o=o||0,t="string"!=typeof t?t:{id:t};let i,s,a,l=!0,d=[],u=!0,c=0,p=e.childNodes?.length||0;if(i=Object.entries(t),s=i.length,i.forEach(([t,o])=>{if(e.hasOwnProperty(t))switch(t){case"attributes":Neo.isObject(o)&&Neo.isObject(e[t])&&(Object.entries(o).forEach(([o,n])=>{e[t].hasOwnProperty(o)&&e[t][o]===n||(l=!1)}),l&&d.push(!0));break;case"className":if("string"==typeof o&&Neo.isArray(e[t]))e[t].includes(o)&&d.push(!0);else if("string"==typeof o&&"string"==typeof e[t])e[t]===o&&d.push(!0);else if(Neo.isArray(o)&&Neo.isArray(e[t]))throw new Error("find: cls matching not supported for target & source types of Arrays");break;case"style":Neo.isObject(o)&&Neo.isObject(e[t])&&(Object.entries(o).forEach(([o,n])=>{e[t].hasOwnProperty(o)&&e[t][o]===n||(u=!1)}),u&&d.push(!0));break;default:e[t]===o&&d.push(!0)}}),d.length===s)return{index:o,parentNode:n,vnode:e};for(;c<p;c++)if(a=r.find(e.childNodes[c],t,c,e),a)return a;return null}static getById(e,t){if(!(e=r.getVnode(e)))return null;let o,n=e.childNodes||[],i=0,s=n.length;if(e.id===t)return e;for(;i<s;i++)if(o=r.getVnode(n[i]),o){if(o.id===t)return o;if(o=r.getById(o,t),o)return o}return null}static getChildIds(e,t=[]){return e?.childNodes?.forEach(e=>{e.id&&!e.componentId&&t.push(e.id),r.getChildIds(e,t)}),t}static getVnode(e){if(e?.componentId){const t=i.A.get(e.componentId);if(!t)throw new Error(`util.VNode.getVnode: Component not found for id: ${e.componentId}`);e=t.vnode}return e}static removeChildVnode(e,t){let o,n=(e=r.getVnode(e)).childNodes||[],i=0,s=n.length;if(e.id===t)throw new Error("removeChildVnode: target id matches the root vnode id: "+t);for(;i<s;i++){if(o=r.getVnode(n[i]),o.id===t)return n.splice(i,1),!0;if(r.removeChildVnode(o,t))return!0}return!1}static replaceChildVnode(e,t,o){let n,i=(e=r.getVnode(e)).childNodes||[],s=0,a=i.length;if(e.id===t)throw new Error("replaceChildVnode: target id matches the root vnode id: "+t);for(;s<a;s++){if(n=r.getVnode(i[s]),n.id===t)return i[s]=o,!0;if(r.replaceChildVnode(n,t,o))return!0}return!1}}const s=Neo.setupClass(r)}};