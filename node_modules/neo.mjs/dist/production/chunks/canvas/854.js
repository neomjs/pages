"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[854],{292(t,e,n){var a=n(247);class s extends a.A{static config={className:"AgentOS.canvas.Blackboard",remote:{app:["updateGraphData","updateSize","initGraph"]},singleton:!0};canvasId=null;canvasSize=null;context=null;links=[];nodes=[];construct(t){super.construct(t),this.nodes=[{id:"root",x:100,y:100,label:"Root Agent",color:"#4CAF50"},{id:"task1",x:200,y:150,label:"Task 1",color:"#2196F3"},{id:"task2",x:300,y:100,label:"Task 2",color:"#FFC107"}],this.links=[{source:"root",target:"task1"},{source:"root",target:"task2"}]}initGraph({canvasId:t,windowId:e}){let n=this,a=n.canvasId!==t;console.log("Blackboard: initGraph",t,a),this.canvasId=t;const s=()=>{const o=Neo.currentWorker.canvasWindowMap[t]?.[e];o?(n.context=o.getContext("2d"),a&&n.render()):setTimeout(s,50)};s()}updateGraphData(t){this.nodes=t.nodes||[],this.links=t.links||[]}updateSize(t){let e=this;e.canvasSize=t,e.context&&(e.context.canvas.width=t.width,e.context.canvas.height=t.height)}render(){let t=this;if(!t.context)return;const e=t.context,n=t.canvasSize?.width||800,a=t.canvasSize?.height||600;e.fillStyle="#000000",e.fillRect(0,0,n,a),e.fillStyle="#ffffff",e.font="20px Arial",e.fillText("Agent Swarm Blackboard (Canvas 2D)",20,30),e.strokeStyle="#666",e.lineWidth=2,t.links.forEach(n=>{const a=t.nodes.find(t=>t.id===n.source),s=t.nodes.find(t=>t.id===n.target);a&&s&&(e.beginPath(),e.moveTo(a.x,a.y),e.lineTo(s.x,s.y),e.stroke())}),t.nodes.forEach(t=>{e.beginPath(),e.arc(t.x,t.y,15,0,2*Math.PI),e.fillStyle=t.color||"#ccc",e.fill(),e.strokeStyle="#fff",e.lineWidth=2,e.stroke(),e.fillStyle="#eee",e.font="12px Arial",e.fillText(t.label||t.id,t.x+20,t.y+5)}),t.nodes.length>0&&(t.nodes[0].x=100+20*Math.sin(Date.now()/1e3)),setTimeout(t.render.bind(t),1e3/60)}}Neo.setupClass(s)},854(t,e,n){n.d(e,{onStart:()=>a}),n(292);const a=()=>{}}}]);