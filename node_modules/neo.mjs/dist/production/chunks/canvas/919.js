export const __webpack_esm_id__=919;export const __webpack_esm_ids__=[919];export const __webpack_esm_modules__={855(e,a,t){t.d(a,{A:()=>s});var r=t(247);class o extends r.A{static config={className:"Portal.canvas.Base",remote:{app:["clearGraph","initGraph","pause","resume","setTheme","updateMouseState","updateSize"]},theme_:"light"};animationId=null;canvasId=null;canvasSize=null;context=null;gradients={};isPaused=!1;mouse={x:-1e3,y:-1e3};time=0;renderLoop=this.render.bind(this);afterSetTheme(e,a){e&&this.canvasSize&&this.updateResources?.(this.canvasSize.width,this.canvasSize.height)}get canRender(){return!(!this.context||this.isPaused)}clearGraph(){let e=this;e.context=null,e.canvasId=null,e.canvasSize=null,e.animationId=null,e.isPaused=!1,e.gradients={},e.mouse={x:-1e3,y:-1e3},e.time=0}initGraph({canvasId:e,windowId:a}){let t=this,r=t.canvasId!==e;t.canvasId=e,t.waitForCanvas(e,a,r)}onMouseClick(e){}pause(){this.isPaused=!0}render(){}resume(){let e=this;e.isPaused&&(e.isPaused=!1,e.renderLoop())}setTheme(e){this.theme=e}updateMouseState(e){let a=this;e.leave?(a.mouse.x=-1e3,a.mouse.y=-1e3):(void 0!==e.x&&(a.mouse.x=e.x),void 0!==e.y&&(a.mouse.y=e.y),e.click&&a.onMouseClick(e))}updateSize(e){let a=this;a.canvasSize=e,a.context&&(a.context.canvas.width=e.width,a.context.canvas.height=e.height,a.updateResources?.(e.width,e.height))}waitForCanvas(e,a,t){let r=this,o=Neo.currentWorker.canvasWindowMap[e]?.[a];o?(r.context=o.getContext("2d"),r.updateSize({width:o.width,height:o.height}),r.onGraphMounted?.(o.width,o.height),t&&!r.animationId&&r.renderLoop()):setTimeout(r.waitForCanvas.bind(r,e,a,t),50)}}const s=Neo.setupClass(o)},919(e,a,t){t.d(a,{default:()=>h});var r=t(855);const o="function"==typeof requestAnimationFrame,s="#3E63DD",i="#536DFE",n="#00BFFF";class l extends r.A{static colors={dark:{background:["rgba(62, 99, 221, 0.1)","rgba(64, 196, 255, 0.2)","rgba(62, 99, 221, 0.1)"],background2:["rgba(139, 166, 255, 0.1)","rgba(64, 196, 255, 0.2)","rgba(139, 166, 255, 0.1)"],bgRibbon:["rgba(62, 99, 221, 0.02)","rgba(64, 196, 255, 0.05)","rgba(62, 99, 221, 0.02)"],fgRibbon:["rgba(62, 99, 221, 0.025)","rgba(64, 196, 255, 0.05)","rgba(62, 99, 221, 0.025)"],grad1:[s,n,s],grad2:[i,n,i],hover:n,particle:n,particleAlpha:{nebula:.2,dust:.2},shockwave:n},light:{background:["rgba(62, 99, 221, 0.1)","rgba(64, 196, 255, 0.2)","rgba(62, 99, 221, 0.1)"],background2:["rgba(139, 166, 255, 0.1)","rgba(64, 196, 255, 0.2)","rgba(139, 166, 255, 0.1)"],bgRibbon:["rgba(62, 99, 221, 0.02)","rgba(64, 196, 255, 0.05)","rgba(62, 99, 221, 0.02)"],fgRibbon:["rgba(62, 99, 221, 0.05)","rgba(64, 196, 255, 0.1)","rgba(62, 99, 221, 0.05)"],grad1:[s,n,s],grad2:[i,n,i],hover:s,particle:n,particleAlpha:{nebula:.2,dust:.2},shockwave:n}};static config={className:"Portal.canvas.HeaderCanvas",remote:{app:["updateActiveId","updateGraphData","updateHoverId","updateNavRects"]},singleton:!0};activeId=null;hoverId=null;navRects=[];particles=[];shockwaves=[];waveBuffers={bgA:null,bgB:null,fgA:null,fgB:null};clearGraph(){let e=this;super.clearGraph(),e.navRects=[],e.particles=[],e.shockwaves=[],e.waveBuffers={bgA:null,bgB:null,fgA:null,fgB:null}}onGraphMounted(e,a){this.initParticles(e,a)}initParticles(e,a){let t=this;t.particles=[];const r=t.constructor.colors[t.theme].particleAlpha;for(let o=0;o<60;o++){let o=Math.random()>.8;t.particles.push({isNebula:o,x:Math.random()*e,y:Math.random()*a,vx:o?.2*Math.random()+.05:.5*Math.random()+.1,vy:.2*(Math.random()-.5),size:o?30*Math.random()+20:2*Math.random()+.5,alpha:o?.15*Math.random()+r.nebula:.4*Math.random()+r.dust,baseAlpha:o?.15*Math.random()+r.nebula:.4*Math.random()+r.dust})}}render(){let e=this;if(!e.canRender)return;const a=e.context,t=e.canvasSize?.width||100,r=e.canvasSize?.height||50;e.time+=.05,60!==e.particles.length&&e.initParticles(t,r),a.clearRect(0,0,t,r),e.drawAmbientBackground(a,t,r),e.drawParticles(a,t,r),e.drawAuras(a,t,r),e.drawActiveOverlay(a,t),e.drawHoverOverlay(a,t),e.drawShockwaves(a,t),e.animationId=o?requestAnimationFrame(e.renderLoop):setTimeout(e.renderLoop,1e3/60)}calculateStrandGeometry(e,a){let t=this;if(!Array.isArray(t.navRects)||!t.waveBuffers.fgA)return null;const r=t.waveBuffers.fgA,o=t.waveBuffers.fgB,s=Math.ceil(e/2),i=a/2,n=(a-20)/2,l=2*Math.sin(.5*t.time),h=Math.min(6+l,n);let d=.75+.25*Math.sin(.5*t.time+Math.PI/2),c=.75+.25*Math.sin(.5*t.time+Math.PI/2+Math.PI/3);for(let n=0;n<s;n++){let s=2*n,{offsetY:l,intensity:d,isIconZone:c}=t.getStreamOffset(s,a,e),u=Math.sin(.002*s+.1*t.time)*(20+10*d),g=2*t.time,f=h*(1-.6*c),b=4*(Math.random()-.5)*d,v=4*(Math.random()-.5)*d,p=Math.sin(.04*(s+u)-g)*f,m=Math.sin(.04*(s+u)-g+Math.PI)*f,w=0;t.shockwaves.length>0&&t.shockwaves.forEach(e=>{let a=e.age*e.speed,t=s-e.x;if(Math.abs(t)<a&&Math.abs(t)>a-60){let r=Math.sin(t/a*Math.PI*10)*(1-e.age/e.life)*20;w+=r}}),r[n]=i+p-l+b+w,o[n]=i+m+l+v+w}return{shimmerA:d,shimmerB:c,count:s}}drawParticles(e,a,t){let r=this;const o=r.constructor.colors[r.theme].particle;r.particles.forEach(s=>{s.x+=s.vx,s.y+=s.vy,s.x>a+s.size&&(s.x=-s.size),s.x<-s.size&&(s.x=a+s.size),s.y>t+s.size&&(s.y=-s.size),s.y<-s.size&&(s.y=t+s.size);let i=s.x-r.mouse.x,n=s.y-r.mouse.y,l=Math.sqrt(i*i+n*n),h=s.isNebula?150:100;if(l<h&&l>0){let e=(h-l)/h,a=s.isNebula?5:1;s.x+=i/l*e*(2/a),s.y+=n/l*e*(2/a),s.alpha=Math.min(s.baseAlpha+e*(s.isNebula?.05:.5),.8)}if(r.shockwaves.length>0&&r.shockwaves.forEach(e=>{let a=s.x-e.x,t=s.y-e.y,r=Math.sqrt(a*a+t*t),o=e.age*e.speed;if(r<o&&r>o-40){let o=2*(1-e.age/e.life);s.x+=a/r*o*5,s.y+=t/r*o*5,s.alpha=Math.min(s.alpha+.3,1)}}),s.alpha>s.baseAlpha&&(s.alpha-=.005),e.globalAlpha=s.alpha,e.beginPath(),s.isNebula){let a=e.createRadialGradient(s.x,s.y,0,s.x,s.y,s.size);a.addColorStop(0,o),a.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=a,e.arc(s.x,s.y,s.size,0,2*Math.PI),e.fill()}else e.fillStyle=o,e.arc(s.x,s.y,s.size,0,2*Math.PI),e.fill()}),e.globalAlpha=1}drawActiveOverlay(e,a){let t,r=this;if(!r.activeId||!r.waveBuffers.fgA)return;for(const e of r.navRects)if(e.id===r.activeId){t=e;break}if(!t)return;const o=Math.max(0,t.x-10),s=Math.min(a,t.x+t.width+10),i=Math.floor(o/2),n=Math.ceil(s/2),l=r.waveBuffers.fgA,h=r.waveBuffers.fgB;e.save(),e.lineCap="round",e.lineJoin="round",e.shadowBlur=20,e.shadowColor="#FFFFFF",e.strokeStyle="#FFFFFF",e.lineWidth=2,e.globalAlpha=.6+.2*Math.sin(3*r.time),e.beginPath(),e.moveTo(2*i,l[i]);for(let a=i+1;a<=n;a++)e.lineTo(2*a,l[a]);e.stroke(),e.beginPath(),e.moveTo(2*i,h[i]);for(let a=i+1;a<=n;a++)e.lineTo(2*a,h[a]);e.stroke(),e.restore()}drawHoverOverlay(e,a){let t,r=this;if(!r.hoverId||!r.waveBuffers.fgA)return;for(const e of r.navRects)if(e.id===r.hoverId){t=e;break}if(!t)return;const o=Math.max(0,t.x-10),s=Math.min(a-3,t.x+t.width+10),i=Math.floor(o/2),n=Math.ceil(s/2),l=r.waveBuffers.fgA,h=r.waveBuffers.fgB,d=r.constructor.colors[r.theme];e.save(),e.lineCap="round",e.lineJoin="round",e.shadowBlur=15,e.shadowColor=d.hover,e.strokeStyle=d.hover,e.lineWidth=2,e.globalAlpha=1,e.beginPath(),e.moveTo(2*i,l[i]);for(let a=i+1;a<=n;a++)e.lineTo(2*a,l[a]);e.stroke(),e.beginPath(),e.moveTo(2*i,h[i]);for(let a=i+1;a<=n;a++)e.lineTo(2*a,h[a]);e.stroke(),e.restore()}drawAmbientBackground(e,a,t){let r=this;if(!r.waveBuffers.bgA)return;let o=.5*r.time,s=t/2,i=.4*t,n=Math.ceil(a/10),l=r.waveBuffers.bgA,h=r.waveBuffers.bgB;for(let e=0;e<n;e++){let a=10*e;l[e]=s+Math.sin(.01*a+o)*i,h[e]=s+Math.sin(.01*a+o+Math.PI)*i}e.fillStyle=r.gradients.bgRibbon,e.beginPath(),e.moveTo(0,l[0]);for(let a=1;a<n;a++)e.lineTo(10*a,l[a]);for(let a=n-1;a>=0;a--)e.lineTo(10*a,h[a]);e.closePath(),e.fill(),e.lineWidth=15,e.lineCap="round",e.lineJoin="round";const d=(a,t)=>{e.strokeStyle=t,e.beginPath(),e.moveTo(0,a[0]);for(let t=1;t<n;t++)e.lineTo(10*t,a[t]);e.stroke()};d(l,r.gradients.bgGrad1),d(h,r.gradients.bgGrad2)}drawAuras(e,a,t){let r=this;if(!Array.isArray(r.navRects))return;const o=r.calculateStrandGeometry(a,t);if(!o)return;const{shimmerA:s,shimmerB:i,count:n}=o,l=r.waveBuffers.fgA,h=r.waveBuffers.fgB,d=r.constructor.colors[r.theme];e.fillStyle=r.gradients.fgRibbon,e.beginPath(),e.moveTo(0,l[0]);for(let a=1;a<n;a++)e.lineTo(2*a,l[a]);for(let a=n-1;a>=0;a--)e.lineTo(2*a,h[a]);e.closePath(),e.fill(),e.lineCap="round",e.lineJoin="round";const c=(a,t,r,o,s)=>{e.beginPath(),e.strokeStyle=s?"#FFFFFF":t,e.lineWidth=s?1:3,e.globalAlpha=s?r+.2:r,s?e.shadowBlur=0:(e.shadowBlur=10,e.shadowColor=o),e.moveTo(0,a[0]);for(let t=1;t<n;t++)e.lineTo(2*t,a[t]);e.stroke()},u=d.grad1[0],g=d.grad2[0];c(l,r.gradients.grad1,s,u,!1),c(h,r.gradients.grad2,i,g,!1),c(l,null,s,null,!0),c(h,null,i,null,!0),e.shadowBlur=0,e.globalAlpha=1}getStreamOffset(e,a,t){let r=this,o=0,s=0,i=0;const n=a/2-10;for(const a of r.navRects){const t=40;if(e>=a.x-t&&e<=a.x+a.width+t){const l=a.width/a.height<1.5,h=a.x+a.width/2,d=a.width/2+t,c=Math.abs(e-h);if(c<d){let e;if(l){let a=c/d;e=Math.pow((1+Math.cos(Math.PI*a))/2,3),i=Math.max(i,e)}else e=(1+Math.cos(Math.PI*c/d))/2;let t=l?a.height/2:a.height/2+4,u=Math.min(t,n);o=Math.max(o,u*e);let g=r.mouse.x-h,f=r.mouse.y-(a.y+a.height/2),b=Math.sqrt(g*g+f*f);b<Math.max(a.width,a.height)&&(s=Math.max(s,1-b/150))}}}return{offsetY:o,intensity:s,isIconZone:i}}drawShockwaves(e,a){let t=this;if(0===t.shockwaves.length)return;const r=t.constructor.colors[t.theme];for(let o=t.shockwaves.length-1;o>=0;o--){let s=t.shockwaves[o];s.age+=1;let i=s.age/s.life;if(i>=1){t.shockwaves.splice(o,1);continue}let n=s.x-s.speed*s.age,l=s.x+s.speed*s.age,h=1-i,{height:d}=t.canvasSize;e.beginPath(),e.strokeStyle=r.shockwave,e.globalAlpha=h,e.lineWidth=4*(1-i),n>0&&(e.moveTo(n,0),e.quadraticCurveTo(n-20,d/2,n,d)),l<a&&(e.moveTo(l,0),e.quadraticCurveTo(l+20,d/2,l,d)),e.stroke(),e.globalAlpha=1}}updateActiveId(e){this.activeId=e?.id||null}updateGraphData(e){}updateHoverId(e){this.hoverId=e?.id||null}onMouseClick(e){this.shockwaves.push({x:e.x,y:e.y,age:0,life:60,speed:15})}updateNavRects(e){let a=e?.rects;Array.isArray(a)?this.navRects=a:this.navRects=[]}updateResources(e,a){let t=this,r=t.context;const o=Math.ceil(e/10)+1;t.waveBuffers.bgA=new Float32Array(o),t.waveBuffers.bgB=new Float32Array(o);const s=Math.ceil(e/2)+1;if(t.waveBuffers.fgA=new Float32Array(s),t.waveBuffers.fgB=new Float32Array(s),!r)return;const i=t.constructor.colors[t.theme],n=r.createLinearGradient(0,0,e,0);n.addColorStop(0,i.grad1[0]),n.addColorStop(.5,i.grad1[1]),n.addColorStop(1,i.grad1[2]),t.gradients.grad1=n;const l=r.createLinearGradient(0,0,e,0);l.addColorStop(0,i.grad2[0]),l.addColorStop(.5,i.grad2[1]),l.addColorStop(1,i.grad2[2]),t.gradients.grad2=l;const h=r.createLinearGradient(0,0,e,0);h.addColorStop(0,i.fgRibbon[0]),h.addColorStop(.5,i.fgRibbon[1]),h.addColorStop(1,i.fgRibbon[2]),t.gradients.fgRibbon=h;const d=r.createLinearGradient(0,0,e,0);d.addColorStop(0,i.background[0]),d.addColorStop(.5,i.background[1]),d.addColorStop(1,i.background[2]),t.gradients.bgGrad1=d;const c=r.createLinearGradient(0,0,e,0);c.addColorStop(0,i.background2[0]),c.addColorStop(.5,i.background2[1]),c.addColorStop(1,i.background2[2]),t.gradients.bgGrad2=c;const u=r.createLinearGradient(0,0,e,0);u.addColorStop(0,i.bgRibbon[0]),u.addColorStop(.5,i.bgRibbon[1]),u.addColorStop(1,i.bgRibbon[2]),t.gradients.bgRibbon=u}}const h=Neo.setupClass(l)}};