export const __webpack_esm_id__=9865;export const __webpack_esm_ids__=[9865];export const __webpack_esm_modules__={9865(e,t,s){s.d(t,{onStart:()=>n}),s.r(t);var a=s(5367);s(1748);class o extends a.A{static config={className:"AgentOS.swarm.view.Viewport",additionalThemeFiles:["AgentOS.view.Viewport"],cls:["agent-os-viewport"]}}const i=Neo.setupClass(o),n=()=>Neo.app({appThemeFolder:"agentos",mainView:i,name:"AgentSwarm"})},1748(e,t,s){s.d(t,{A:()=>i});var a=s(8829);class o extends a.A{static config={className:"AgentOS.view.Blackboard",_vdom:{tag:"div",cls:["neo-blackboard-wrapper"],style:{width:"100%",height:"100%"},cn:[{tag:"canvas",style:{width:"100%",height:"100%"}}]}};afterSetId(e,t){this.vdom.cn[0].id=`${e}__canvas`,super.afterSetId(e,t)}async afterSetOffscreenRegistered(e,t){if(e){let e=this;await AgentOS.canvas.Blackboard.initGraph({canvasId:e.getCanvasId(),windowId:e.windowId}),await e.updateSize()}}getCanvasId(){return this.vdom.cn[0].id}onDomResize(e){super.onDomResize(e),this.updateSize(e.contentRect)}async setData(e){await AgentOS.canvas.Blackboard.updateGraphData(e)}async updateSize(e){e&&0!==e.width&&0!==e.height||(e=await this.waitForDomRect({id:this.getCanvasId()})),await AgentOS.canvas.Blackboard.updateSize({width:e.width,height:e.height})}}const i=Neo.setupClass(o)},8829(e,t,s){s.d(t,{A:()=>i});var a=s(1741);class o extends a.A{static config={className:"Neo.component.Canvas",ntype:"canvas",monitorSize_:!0,offscreen:!0,offscreenRegistered_:!1,_vdom:{tag:"canvas"}};async afterSetMounted(e,t){super.afterSetMounted(e,t);let s=this,a=s.getCanvasId(),{offscreen:o,windowId:i}=s;if(e){if(await s.timeout(30),s.monitorSize&&s.addDomListeners([{delegate:`#${s.getMonitorTargetId()}`,resize:s.onDomResize,scope:s}]),o){let e,t=50;for(;s.mounted&&!s.offscreenRegistered&&!s.isDestroyed;){if(e=await Neo.main.DomAccess.getOffscreenCanvas({nodeId:a,windowId:i}),e.offscreen){await Neo.worker.Canvas.registerCanvas({node:e.offscreen,nodeId:a,windowId:i},[e.offscreen]),s.offscreenRegistered=!0;break}if(e.transferred&&Neo.config.useSharedWorkers&&(await Neo.worker.Canvas.retrieveCanvas({nodeId:a,windowId:i})).hasCanvas){s.offscreenRegistered=!0;break}await s.timeout(t),t<1e3&&(t*=2)}}}else o&&(s.offscreenRegistered&&Neo.worker.Canvas.unregisterCanvas({nodeId:a}),s.offscreenRegistered=!1)}afterSetWindowId(e,t){super.afterSetWindowId(e,t),t&&(this.offscreenRegistered=!1)}destroy(...e){this.offscreenRegistered&&Neo.worker.Canvas.unregisterCanvas({nodeId:this.id}),super.destroy(...e)}getCanvasId(){return this.id}getMonitorTargetId(){return this.vdom.id}onDomResize(e){this.fire("resize",e)}}const i=Neo.setupClass(o)},5367(e,t,s){s.d(t,{A:()=>i});var a=s(1184);class o extends a.A{static config={className:"Neo.container.Viewport",ntype:"viewport",applyBodyCls:!0,autoMount:!0,baseCls:["neo-viewport"],monitorSize_:!1};afterSetMounted(e,t){super.afterSetMounted(e,t);let s=this;e&&s.monitorSize&&s.addDomListeners([{resize:s.onDomResize,scope:s}])}onConstructed(){super.onConstructed();let{windowId:e}=this;this.applyBodyCls&&Neo.main.DomAccess.applyBodyCls({cls:["neo-body-viewport"],windowId:e})}onDomResize(e){this.fire("resize",e)}}const i=Neo.setupClass(o)}};