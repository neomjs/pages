"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[676],{676:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var r=s(2583);class n extends r.A{static config={className:"Neo.remotes.Api",singleton:!0};generateRemote(e,t){return function(...s){return Neo.currentWorker.promiseMessage("data",{action:"rpc",method:t,params:[...s],service:e})}}load(){let{config:e}=Neo,t=e.remotesApiUrl;t.includes("http")||(t=e.appPath.split("/"),t.pop(),t=`${t.join("/")}/${e.remotesApiUrl}`,t=("development"===e.environment?"../../":"./")+t),fetch(t).then((e=>e.json())).then((e=>{Neo.currentWorker.sendMessage("data",{action:"registerApi",data:e}),this.register(e)}))}register(e){let t;Object.entries(e.services).forEach((([s,r])=>{t=Neo.ns(`${e.namespace}.${s}`,!0),Object.entries(r.methods).forEach((([e,r])=>{t[e]=this.generateRemote(s,e)}))}))}}const o=Neo.setupClass(n)}}]);