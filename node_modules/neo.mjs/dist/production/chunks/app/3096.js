"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[3096],{3096:(e,t,o)=>{o.r(t),o.d(t,{onStart:()=>C});var a=o(1509),n=o(8031),i=o(4022),r=o(3846),l=o(6717),s=o(4404),d=o(2577);class c extends s.Z{static config={className:"SharedDialog.view.DemoDialog",title:"Drag me across Windows!",containerConfig:{style:{padding:"20px"}},itemDefaults:{labelWidth:70},items:[{module:d.Z,flex:"none",labelText:"Field 1"},{module:d.Z,flex:"none",labelText:"Field 2"}],wrapperStyle:{height:"40%",width:"40%"}}}Neo.applyClassConfig(c);const p=c;var h=o(5328),u=o(9375);class m extends u.Z{static config={className:"Neo.util.Rectangle"};static excludes(e,t){return e.bottom<t.top||e.left>t.right||e.right<t.left||e.top>t.bottom}static getIntersection(e,t){return m.getIntersectionDetails(e,t).area}static getIntersectionDetails(e,t){let o=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left)),a=Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top));return{area:a*o,height:a,width:o}}static includes(e,t){return e.bottom>=t.bottom&&e.left<=t.left&&e.right>=t.right&&e.top<=t.top}static leavesSide(e,t,o){return!m.includes(e,t)&&("bottom"===o?e.bottom<t.bottom:"left"===o?e.left>t.left:"right"===o?e.right<t.right:"top"===o?e.top>t.top:void 0)}static moveBy(e,t=null,o=null){let a={...e};return Neo.isNumber(t)&&(a.left+=t,a.right+=t,a.x+=t),Neo.isNumber(o)&&(a.bottom+=o,a.top+=o,a.y+=o),a}static moveTo(e,t=null,o=null){let a={...e};return Neo.isNumber(t)&&(a.left=t,a.right=t+a.width,a.x=t),Neo.isNumber(o)&&(a.bottom=o+a.height,a.top=o,a.y=o),a}}Neo.applyClassConfig(m);const g=m;class f extends r.Z{static config={className:"SharedDialog.view.MainContainerController",connectedApps:[],currentTheme:"neo-theme-light",dockedWindowAppName:"SharedDialog2",dockedWindowProxy:null,dockedWindowSide_:"right",dockedWindowSize:500,dialogRect:null,dragStartWindowRect:null,targetWindowSize:0};onConstructed(){super.onConstructed();let e=this;Neo.currentWorker.on({connect:e.onAppConnect,disconnect:e.onAppDisconnect,scope:e})}afterSetDockedWindowSide(e,t){this.hasDockedWindow()&&Neo.main.addon.WindowPosition.setDock({name:this.dockedWindowAppName,dock:e})}createDialog(e,t){let o=this;o.enableOpenDialogButtons(!1),o.dialog=Neo.create(p,{animateTargetId:e.component.id,appName:t,boundaryContainerId:null,cls:[o.currentTheme,"neo-dialog","neo-panel","neo-container"],dragZoneConfig:{alwaysFireDragMove:!0},listeners:{close:o.onDialogClose,dragZoneCreated:o.onDragZoneCreated,scope:o}})}destroyDockedWindowProxy(){let e=this;e.dockedWindowProxy&&(e.dockedWindowProxy.destroy(!0),e.dockedWindowProxy=null)}dropDialogBetweenWindows(e){let t,o=this,a=o.dialog,n=g.getIntersectionDetails(o.dragStartWindowRect,e),i=o.dockedWindowSide,r=e.height*e.width;if(n.area>r/2){switch(o.destroyDockedWindowProxy(),t=a.wrapperStyle,a.appName===o.dockedWindowAppName&&(i=o.getOppositeSide(i)),i){case"bottom":t.top=o.dragStartWindowRect.height-e.height+"px";break;case"left":t.left="0px";break;case"right":t.left=o.dragStartWindowRect.width-e.width+"px";break;case"top":t.top="0px"}a.wrapperStyle=t}else o.mountDialogInOtherWindow({fullyIncludeIntoWindow:!0,proxyRect:e})}enableOpenDialogButtons(e){this.getOpenDialogButtons().forEach((t=>{t.disabled=!e}))}getOpenDockedWindowButton(){return this.component.down({iconCls:"far fa-window-restore"})}getOpenDialogButtons(){return l.Z.find({flag:"open-dialog-button"})}getOppositeSide(e){return{bottom:"top",left:"right",right:"left",top:"bottom"}[e]}getProxyPosition(e,t,o=!1){let a,n,i=this.dragStartWindowRect,r=this.targetWindowSize;switch(t){case"bottom":a=`${e.left}px`,n=(o?0:e.top-i.height)+"px";break;case"left":a=`${o?r-e.width:r+e.left}px`,n=`${e.top}px`;break;case"right":a=(o?0:e.left-i.width)+"px",n=`${e.top}px`;break;case"top":a=`${e.left}px`,n=`${o?r-e.height:r+e.top}px`}return{left:a,top:n}}hasDockedWindow(){return this.connectedApps.includes(this.dockedWindowAppName)}mountDialogInOtherWindow(e){let t,o,a=this,n=a.component.appName,i=a.dialog,r=a.dockedWindowAppName,l=a.dockedWindowSide;i.appName===r&&(r=a.component.appName,l=a.getOppositeSide(a.dockedWindowSide)),t=a.getProxyPosition(e.proxyRect,l,e.fullyIncludeIntoWindow),i.unmount(),setTimeout((()=>{i.appName=i.appName===r?n:r,a.getOpenDialogButtons().forEach((e=>{e.appName===i.appName&&(i.animateTargetId=e.id)})),o=i.wrapperStyle,o.left=t.left,o.top=t.top,i.wrapperStyle=o,a.destroyDockedWindowProxy(),i.mount()}),70)}onAppConnect(e){let t=this,o=e.appName;h.Z.add(t.connectedApps,o),"SharedDialog"!==o&&"neo-theme-light"!==t.currentTheme&&t.switchThemeForApp(o,t.currentTheme),o===t.dockedWindowAppName&&(t.getOpenDockedWindowButton().disabled=!0),t.enableOpenDialogButtons(!t.dialog)}onAppDisconnect(e){let t=this,o=e.appName;"SharedDialog"===o?(h.Z.remove(t.connectedApps,"SharedDialog"),Neo.Main.windowClose({names:t.connectedApps})):(h.Z.remove(t.connectedApps,o),Neo.main.addon.WindowPosition.unregisterWindow({name:o})),o===t.dockedWindowAppName&&(t.getOpenDockedWindowButton().disabled=!1)}onCreateDialogButtonClick(e){this.createDialog(e,this.component.appName)}onDialogClose(){this.enableOpenDialogButtons(!0)}onDockedPositionChange(e){!0===e.value&&(this.dockedWindowSide=e.component.value)}onDragEnd(e){if(this.hasDockedWindow()){let t=this,o=t.dialog,a=t.dragStartWindowRect,n=g.moveTo(t.dialogRect,e.clientX-e.offsetX,e.clientY-e.offsetY),i=t.dockedWindowSide;o.appName===t.dockedWindowAppName&&(i=t.getOppositeSide(t.dockedWindowSide)),g.leavesSide(a,n,i)&&(g.excludes(a,n)?t.mountDialogInOtherWindow({proxyRect:n}):t.dropDialogBetweenWindows(n))}}onDragMove(e){if(this.hasDockedWindow()){let t,o,a=this,n=a.dialogRect,r=a.dockedWindowAppName,l=a.dragStartWindowRect,s=g.moveTo(n,e.clientX-e.offsetX,e.clientY-e.offsetY),d=a.dockedWindowSide;a.dialog.appName===r&&(r=a.component.appName,d=a.getOppositeSide(a.dockedWindowSide)),g.leavesSide(l,s,d)?(t=a.getProxyPosition(s,d),a.dockedWindowProxy?a.updateDockedWindowProxyStyle({...t,visibility:null}):(o=Neo.clone(a.dialog.dragZone.dragProxy.vdom,!0),delete o.id,Object.assign(o.style,{...t,transform:"none",transitionProperty:"none"}),a.dockedWindowProxy=Neo.create({module:i.Z,appName:r,autoMount:!0,autoRender:!0,cls:["neo-dialog-wrapper"],parentId:"document.body",vdom:o}),Neo.currentWorker.insertThemeFiles(r,Neo.dialog.Base.prototype))):a.updateDockedWindowProxyStyle({visibility:"hidden"})}}onDragStart(e){if(this.hasDockedWindow()){let t=this,o=t.component.appName,a="left"===t.dockedWindowSide||"right"===t.dockedWindowSide;t.dialogRect=e.dragElementRect;for(let o of e.eventData.path)if("body"===o.tagName){t.dragStartWindowRect=o.rect;break}t.hasDockedWindow()&&Neo.Main.getWindowData({appName:t.dialog.appName===o?t.dockedWindowAppName:o}).then((e=>{t.targetWindowSize=a?e.innerWidth:e.innerHeight}))}}onDragZoneCreated(e){let t=this;e.dragZone.on({dragEnd:t.onDragEnd,dragMove:t.onDragMove,dragStart:t.onDragStart,scope:t})}openDockedWindow(e){Neo.Main.getWindowData().then((e=>{let t,o,a,n,i=this,r=i.dockedWindowSide,l=i.dockedWindowSize;switch(r){case"bottom":t=l,o=e.screenLeft,a=e.outerHeight+e.screenTop-52,n=e.outerWidth;break;case"left":t=e.outerHeight-78,o=e.screenLeft-l,a=e.screenTop+28,n=l;break;case"right":t=e.outerHeight-78,o=e.outerWidth+e.screenLeft,a=e.screenTop+28,n=l;break;case"top":t=l,o=e.screenLeft,a=e.screenTop-l+28,n=e.outerWidth}Neo.Main.windowOpen({url:"../shareddialog2/index.html",windowFeatures:`height=${t},left=${o},top=${a},width=${n}`,windowName:i.dockedWindowAppName}),Neo.main.addon.WindowPosition.registerWindow({dock:r,name:i.dockedWindowAppName,size:l})}))}switchTheme(e){let t,o=this,a=e.component,n="Theme Light",i=o.dialog,r="fa fa-sun",l="neo-theme-dark";"Theme Light"===a.text&&(n="Theme Dark",r="fa fa-moon",l="neo-theme-light"),o.connectedApps.forEach((e=>{o.switchThemeForApp(e,l)})),a.set({iconCls:r,text:n}),i&&(t=i.cls,h.Z.removeAdd(t,o.currentTheme,l),i.cls=t),o.currentTheme=l}switchThemeForApp(e,t){Neo.main.DomAccess.setBodyCls({appName:e,add:[t],remove:[this.currentTheme]})}updateDockedWindowProxyStyle(e){let t=this.dockedWindowProxy;t&&(t.style=Object.assign(t.style||{},e))}}Neo.applyClassConfig(f);const b=f;var w=o(5031),y=o(1345);class x extends y.Z{static config={className:"SharedDialog.view.MainContainer",controller:b,items:[{module:w.Z,flex:"none",items:[{module:a.Z,flag:"open-dialog-button",handler:"onCreateDialogButtonClick",iconCls:"far fa-window-maximize",text:"Create Dialog"},"->",{module:a.Z,handler:"switchTheme",iconCls:"fa fa-moon",text:"Theme Dark"},{module:a.Z,handler:"openDockedWindow",iconCls:"far fa-window-restore",style:{marginLeft:"1em"},text:"Open docked Window"}]},{ntype:"container",flex:"none",layout:"hbox",style:{height:"72px",marginRight:"1em",marginTop:"1em"},items:[{ntype:"component",flex:1},{ntype:"container",flex:"none",itemDefaults:{module:n.Z,hideValueLabel:!1,labelText:"",labelWidth:50,name:"dockedPosition",listeners:{change:"onDockedPositionChange"}},items:[{labelText:"Dock",valueLabelText:"Top",value:"top"},{checked:!0,valueLabelText:"Right",value:"right"},{valueLabelText:"Bottom",value:"bottom"},{valueLabelText:"Left",value:"left"}]}]},{ntype:"component",flex:1,html:"#1",style:{alignItems:"center",color:"#bbb",display:"flex",fontSize:"200px",justifyContent:"center",marginBottom:"88px",userSelect:"none"}}],layout:{ntype:"vbox",align:"stretch"},style:{padding:"20px"}}}Neo.applyClassConfig(x);const N=x,C=()=>Neo.app({mainView:N,name:"SharedDialog"})},1509:(e,t,o)=>{o.d(t,{Z:()=>r});var a=o(4022),n=o(5328);class i extends a.Z{static badgePositions=["bottom-left","bottom-right","top-left","top-right"];static iconPositions=["top","right","bottom","left"];static config={className:"Neo.button.Base",ntype:"button",badgePosition_:"top-right",badgeText_:null,baseCls:["neo-button"],editRoute:!0,handler_:null,handlerScope:null,iconCls_:null,iconColor_:null,iconPosition_:"left",menu_:null,pressed_:!1,route_:null,text_:null,url_:null,urlTarget_:"_blank",useRippleEffect_:!0,_vdom:{tag:"button",type:"button",cn:[{tag:"span",cls:["neo-button-glyph"]},{tag:"span",cls:["neo-button-text"]},{cls:["neo-button-badge"]},{cls:["neo-button-ripple-wrapper"],cn:[{cls:["neo-button-ripple"]}]}]}};rippleEffectDuration=400;#e=null;construct(e){super.construct(e);let t=this;t.addDomListeners({click:t.onClick,scope:t})}afterSetBadgePosition(e,t){let o=this.getBadgeNode(),a=o.cls||[];n.Z.remove(a,"neo-"+t),n.Z.add(a,"neo-"+e),o.cls=a,this.update()}afterSetBadgeText(e,t){let o=this.getBadgeNode();o.html=e,o.removeDom=!Boolean(e),this.update()}afterSetIconCls(e,t){let o=this.getIconNode();n.Z.remove(o.cls,t),n.Z.add(o.cls,e),o.removeDom=!e||""===e,this.update()}afterSetIconColor(e,t){let o=this.getIconNode();o.style||(o.style={}),""===e&&(e=null),o.style.color=e,this.update()}afterSetIconPosition(e,t){let o=this.cls;n.Z.remove(o,"icon-"+t),n.Z.add(o,"icon-"+e),this.cls=o}afterSetMenu(e,t){e&&Promise.all([o.e(5959),o.e(9585),o.e(9258)]).then(o.bind(o,9258)).then((t=>{let o=this;o.menuList=Neo.create({module:t.default,appName:o.appName,displayField:"text",floating:!0,hidden:!0,items:e,parentComponent:o})}))}afterSetPressed(e,t){let o=this.cls;n.Z.toggle(o,"pressed",!0===e),this.cls=o}afterSetText(e,t){let o=this,a=!e||""===e,i=o.getVdomRoot(),r=i.cn[1];n.Z.toggle(o._cls,"no-text",a),n.Z.toggle(i.cls,"no-text",a),r.removeDom=a,a||(r.innerHTML=e),o.update()}afterSetUrl(e,t){let o=this.getVdomRoot();e?(o.href=e,o.tag="a"):(delete o.href,o.tag="button"),this.update()}afterSetUseRippleEffect(e,t){this.getRippleWrapper().removeDom=!0,this.update()}afterSetUrlTarget(e,t){let o=this,a=o.getVdomRoot();o.url?a.target=e:delete a.target,o.update()}beforeGetIconCls(){let e=this._iconCls;return Array.isArray(e)?e.join(" "):e}beforeSetBadgePosition(e,t){return this.beforeSetEnumValue(e,t,"badgePosition")}beforeSetIconCls(e,t){return e&&!Array.isArray(e)&&(e=e.split(" ").filter(Boolean)),e}beforeSetIconPosition(e,t){return this.beforeSetEnumValue(e,t,"iconPosition")}changeRoute(){let e=this;e.editRoute?Neo.Main.editRoute(e.route):Neo.Main.setRoute({value:e.route})}getBadgeNode(){return this.getVdomRoot().cn[2]}getIconNode(){return this.getVdomRoot().cn[0]}getRippleWrapper(){return this.getVdomRoot().cn[3]}onClick(e){let t=this;t.handler?.call(t.handlerScope||t,e),t.menu&&t.toggleMenu(),t.route&&t.changeRoute(),t.useRippleEffect&&t.showRipple(e)}async showRipple(e){let t,o=this,a=e.path[0].rect,n=Math.max(a.height,a.width),i=n/2,r=o.rippleEffectDuration,l=o.getRippleWrapper(),s=l.cn[0];s.style=Object.assign(s.style||{},{animation:"none",left:e.clientX-a.left-i+"px",height:`${n}px`,top:e.clientY-a.top-i+"px",width:`${n}px`}),delete l.removeDom,o.update(),await Neo.timeout(1),s.style.animation=`ripple ${r}ms linear`,o.update(),o.#e=t=setTimeout((()=>{o.#e===t&&(o.#e=null,l.removeDom=!0,o.update())}),r)}async toggleMenu(){let e=this.menuList,t=!e.hidden;e.hidden=t,t||(await Neo.timeout(50),e.focus())}}Neo.applyClassConfig(i);const r=i},5163:(e,t,o)=>{o.d(t,{Z:()=>i});var a=o(4022);class n extends a.Z{static config={className:"Neo.component.Label",ntype:"label",baseCls:["neo-label"],text_:"",_vdom:{tag:"label",draggable:!1}};afterSetText(e,t){this.vdom.html=e,this.update()}}Neo.applyClassConfig(n);const i=n},3921:(e,t,o)=>{o.d(t,{Z:()=>i});var a=o(9119);o(5031);class n extends a.Z{static config={className:"Neo.container.Panel",ntype:"panel",baseCls:["neo-panel","neo-container"],containerConfig:null,headerDefaults:null,headers:null,_layout:{ntype:"vbox",align:"stretch"},verticalHeadersFirst:!1};construct(e){super.construct(e);let t=this;t.hasHeaders()&&!0===t.verticalHeadersFirst&&(t.layout={ntype:"hbox",align:"stretch"})}static createHeaderConfig(e){if("NeoInstance"===Neo.typeOf(e))return e;let t={flex:"0 1 auto"};return e.module||e.ntype||(t.cls=["neo-panel-header-toolbar","neo-toolbar"],t.ntype="toolbar"),e.text&&(t.items=[{ntype:"label",cls:["neo-panel-header-text","neo-label"],text:e.text}],delete e.text),Array.isArray(e.items)&&e.items.forEach((e=>{"label"===e.ntype&&(e.cls=["neo-panel-header-text","neo-label"])})),{...t,...e}}createItems(){let e=this,t=e.containerConfig;if(e.hasHeaders()){let o,a=!1===e.verticalHeadersFirst,i=e.headers||[],r=i.filter((e=>e.dock===(a?"bottom":"right"))),l=i.filter((e=>e.dock===(a?"left":"top"))),s=i.filter((e=>e.dock===(a?"right":"bottom"))),d=i.filter((e=>e.dock===(a?"top":"left"))),c=r.length>0||d.length>0,p=l.length>0||s.length>0,h=e.items,u=[],m=[];d.forEach((e=>{m.push(n.createHeaderConfig(e))})),p&&(a&&c||!a&&c)?(l.forEach((e=>{u.push(n.createHeaderConfig(e))})),o={ntype:"container",flex:1,items:h,itemDefaults:e.itemDefaults,...t},u.push({...e.headerDefaults,...o}),s.forEach((e=>{u.push(n.createHeaderConfig(e))})),m.push({ntype:"container",items:u,layout:{ntype:a?"hbox":"vbox",align:"stretch"}})):(o={ntype:"container",flex:1,items:h,itemDefaults:e.itemDefaults,...t},m.push({...e.headerDefaults,...o})),r.forEach((e=>{m.push(n.createHeaderConfig(e))})),e.items=m,e.itemDefaults=null,super.createItems()}else t&&e.set(t),super.createItems()}hasHeaders(){return Array.isArray(this.headers)&&this.headers.length>0}}Neo.applyClassConfig(n);const i=n},1345:(e,t,o)=>{o.d(t,{Z:()=>i});var a=o(9119);class n extends a.Z{static config={className:"Neo.container.Viewport",ntype:"viewport",applyBodyCls:!0,autoMount:!0,baseCls:["neo-viewport"]};onConstructed(){super.onConstructed(),this.applyBodyCls&&Neo.main.DomAccess.applyBodyCls({appName:this.appName,cls:["neo-body-viewport"]})}}Neo.applyClassConfig(n);const i=n},3846:(e,t,o)=>{o.d(t,{Z:()=>r});var a=o(3106),n=(o(6717),o(2718),o(8041));class i extends a.Z{static config={className:"Neo.controller.Component",ntype:"component-controller",component:null,parent_:null,references:null};construct(e){super.construct(e);let t,o=this,a=o.component;o.references={},a.isConstructed?o.onComponentConstructed():t=a.on("constructed",(()=>{a.un("constructed",t),o.onComponentConstructed()}))}beforeSetParent(e,t){return e||this.getParent()}getHandlerScope(e){let t=this,o=t.parent;return Neo.isFunction(t[e])?t:o?o.getHandlerScope(e):null}getModel(e=!1){let t=this.component;return e?t.model:t.getModel()}getParent(){let e,t,o=this;return o.parent?o.parent:(t=o.component.parentId,e=t&&Neo.getComponent(t),e?.getController()||null)}getReference(e){let t=this,o=t.references[e];return o||(o=t.component.down({reference:e}),o&&(t.references[e]=o)),o||null}onComponentConstructed(){}parseConfig(e=this.component){let t,o,a=this,i=e.listeners,r=e.reference,l=e.validator;i&&Object.entries(i).forEach((([r,l])=>{"scope"!==r&&"delegate"!==r&&(Neo.isString(l)?(t=l,o=a.getHandlerScope(t),o?(i[r]={},i[r].fn=o[t].bind(o)):n.Z.logError("Unknown event handler for",t,e)):l.forEach((i=>{Neo.isObject(i)&&i.hasOwnProperty("fn")&&Neo.isString(i.fn)&&(t=i.fn,o=a.getHandlerScope(t),o?i.fn=o[t].bind(o):n.Z.logError("Unknown event handler for",t,e))})))})),Neo.isString(l)&&(o=a.getHandlerScope(l),o?e.validator=o[l].bind(o):n.Z.logError("Unknown validator for",e.id,e)),r&&(a.references[r]=e)}parseDomListeners(e=this.component){let t,o,a=this,i=e.domListeners;i&&i.forEach((i=>{Object.entries(i).forEach((([r,l])=>{t=null,"scope"!==r&&"delegate"!==r&&(Neo.isString(l)?t=l:Neo.isObject(l)&&l.hasOwnProperty("fn")&&Neo.isString(l.fn)&&(t=l.fn),t&&(o=a.getHandlerScope(t),o?i[r]=o[t].bind(o):n.Z.logError("Unknown domEvent handler for",t,e)))}))}))}removeReference(e){let t,o=this.references;for(t in o)if(e===o[t]){delete o[t];break}this.getParent()?.removeReference(e)}}Neo.applyClassConfig(i);const r=i},4404:(e,t,o)=>{o.d(t,{Z:()=>d});var a=o(3921),n=o(5328),i=o(9235),r=o(6500);let l;class s extends a.Z{static closeActions=["close","hide"];static config={className:"Neo.dialog.Base",ntype:"dialog",animateOnDragEnd:!1,animateTargetId_:null,autoMount:!0,autoRender:!0,baseCls:["neo-dialog","neo-panel","neo-container"],boundaryContainerId:"document.body",closeAction:"close",draggable_:!0,dragListenersAdded:!1,dragZone:null,dragZoneConfig:null,headerConfig:null,headerToolbar:null,isDragging:!1,maximizeCls:"far fa-window-maximize",maximized_:!1,minimizeCls:"far fa-window-minimize",resizable_:!0,resizablePluginConfig:null,title_:null,_vdom:{cls:["neo-dialog-wrapper"],cn:[{cn:[]}]}};construct(e){super.construct(e);let t=this;t.vdom.id=t.getWrapperId(),t.createHeader(),t.animateTargetId&&t.animateShow()}afterSetAnimateTargetId(e,t){this.autoMount=!e,this.autoRender=!e}afterSetAppName(e,t){let o=this,a=o.getPlugin({flag:"resizable"});o.dragZone&&(o.dragZone.appName=e),a&&(a.appName=e),super.afterSetAppName(e,t)}afterSetDraggable(e,t){let a,i=this,r=i.domListeners;void 0!==t&&i.headerToolbar&&(a=i.headerToolbar.cls,n.Z[e?"add":"remove"](a,"neo-draggable"),i.headerToolbar.cls=a),e&&o.e(957).then(o.bind(o,957)).then((e=>{l=e.default,i.dragListenersAdded||(r.push({"drag:end":i.onDragEnd,scope:i,delegate:".neo-header-toolbar"},{"drag:start":i.onDragStart,scope:i,delegate:".neo-header-toolbar"}),i.dragZoneConfig?.alwaysFireDragMove&&r.push({"drag:move":i.onDragMove,scope:i,delegate:".neo-header-toolbar"}),i.domListeners=r,i.dragListenersAdded=!0)}))}afterSetMaximized(e,t){let o=this.vdom.cls;n.Z[e?"add":"remove"](o,"neo-maximized"),this.update()}afterSetMounted(e,t){super.afterSetMounted(e,t);let o=this;e&&o.animateTargetId&&Neo.applyDeltas(o.appName,{action:"removeNode",id:o.getAnimateTargetId()})}afterSetResizable(e,t){e&&o.e(37).then(o.bind(o,37)).then((e=>{let t=this,o=t.plugins||[];t.getPlugin({flag:"resizable"})||(o.push({module:e.default,appName:t.appName,delegationCls:"neo-dialog",flag:"resizable",...t.resizablePluginConfig}),t.plugins=o)}))}afterSetTitle(e,t){this.headerToolbar&&(this.headerToolbar.title=e)}async animateHide(){let e=this,t=e.appName,o=e.getAnimateTargetId(),a=await e.getDomRect([e.id,e.animateTargetId]);await Neo.currentWorker.promiseMessage("main",{action:"mountDom",appName:t,html:`<div id="${o}" class="neo-animate-dialog neo-hide" style="height:${a[0].height}px;left:${a[0].left}px;top:${a[0].top}px;width:${a[0].width}px;"></div>`,parentId:"document.body"}),e.closeOrHide(!1),await Neo.timeout(30),await Neo.currentWorker.promiseMessage("main",{action:"updateDom",appName:t,deltas:[{id:o,style:{height:`${a[1].height}px`,left:`${a[1].left}px`,top:`${a[1].top}px`,width:`${a[1].width}px`}}]}),await Neo.timeout(250),await Neo.currentWorker.promiseMessage("main",{action:"updateDom",appName:t,deltas:[{action:"removeNode",id:o}]})}async animateShow(){let e=this,t=e.appName,o=e.getAnimateTargetId(),a=e.wrapperStyle,n=await e.getDomRect(e.animateTargetId);await Neo.currentWorker.promiseMessage("main",{action:"mountDom",appName:t,html:`<div id="${o}" class="neo-animate-dialog" style="height:${n.height}px;left:${n.left}px;top:${n.top}px;width:${n.width}px;"></div>`,parentId:"document.body"}),await Neo.timeout(30),await Neo.currentWorker.promiseMessage("main",{action:"updateDom",appName:t,deltas:[{id:o,style:{height:a?.height||"50%",left:a?.left||"50%",top:a?.top||"50%",transform:a?.transform||"translate(-50%, -50%)",width:a?.width||"50%"}}]}),await Neo.timeout(200),e.show(!1)}beforeSetCloseAction(e,t){return this.beforeSetEnumValue(e,t,"closeAction")}close(e=!!this.animateTargetId){let t=this;e?t.animateHide():(t.fire("close"),t.destroy(!0))}closeOrHide(e=!!this.animateTargetId){this[this.closeAction](e)}createHeader(){let e=this,t=["neo-header-toolbar","neo-toolbar"],o=e.headers||[];e.draggable&&t.push("neo-draggable"),e.headerToolbar=Neo.create({module:i.Z,appName:e.appName,cls:t,dock:"top",flex:"none",id:e.getHeaderToolbarId(),listeners:{headerAction:e.executeHeaderAction,scope:e},title:e.title,...e.headerConfig}),o.unshift(e.headerToolbar),e.headers=o}executeHeaderAction(e){let t=this,o={close:t.closeOrHide,maximize:t.maximize};o[e.action]?.call(t,e),t.fire("headerAction",{dialog:t,...e})}getAnimateTargetId(){return this.id+"-animate"}getHeaderToolbarId(){return this.id+"-header-toolbar"}getProxyVdom(){let e=r.Z.clone(this.vdom);return e.cn[0].cn[1].cn=[],e}getVdomRoot(){return this.vdom.cn[0]}getVnodeRoot(){return this.vnode.childNodes[0]}getWrapperId(){return this.id+"-wrapper"}hide(e=!!this.animateTargetId){let t=this;e?t.animateHide():(t.unmount(),t.fire("hide"))}maximize(e){let t=this;e.component.iconCls=t.maximized?t.maximizeCls:t.minimizeCls,t.maximized=!t.maximized}onConstructed(){super.onConstructed();let e=this;e.headerToolbar=e.down({id:e.getHeaderToolbarId()})}onDragEnd(e){let t,o,a=this;a.maximized||a.getDomRect(a.dragZone.dragProxy.id).then((n=>{o=a.wrapperStyle,Object.assign(o,{height:`${n.height}px`,left:`${n.left}px`,opacity:1,top:`${n.top}px`,transform:"none",width:`${n.width}px`}),a.animateOnDragEnd||(t=o.transitionProperty||null,o.transitionProperty="none",setTimeout((()=>{o=a.wrapperStyle,o.transitionProperty=t,a.wrapperStyle=o}),50)),a.wrapperStyle=o,a.dragZone.dragEnd(e),a.dragZone.boundaryContainerId=null,a.isDragging=!1}))}onDragMove(e){this.dragZone.dragMove(e)}onDragStart(e){let t,o=this,a=o.wrapperStyle||{};o.maximized||(o.isDragging=!0,t=o.getPlugin({flag:"resizable"}),t&&t.removeAllNodes(),o.dragZone?o.dragZone.boundaryContainerId=o.boundaryContainerId:(o.dragZone=Neo.create({module:l,appName:o.appName,bodyCursorStyle:"move !important",boundaryContainerId:o.boundaryContainerId,dragElement:o.vdom,dragProxyConfig:{vdom:o.getProxyVdom()},owner:o,useProxyWrapper:!1,...o.dragZoneConfig}),o.fire("dragZoneCreated",{dragZone:o.dragZone,id:o.id})),o.dragZone.dragStart(e),a.opacity=.7,o.wrapperStyle=a)}show(e=!!this.animateTargetId){let t=this;e?t.animateShow():(t.render(!0),t.fire("show"))}}Neo.applyClassConfig(s);const d=s},9235:(e,t,o)=>{o.d(t,{Z:()=>i});var a=o(5031);class n extends a.Z{static config={className:"Neo.dialog.header.Toolbar",title_:null};actionMap={close:()=>({action:"close",iconCls:"far fa-window-close"}),maximize:()=>({action:"maximize",iconCls:"far fa-window-maximize"})};actions=["maximize","close"];afterSetTitle(e,t){this.down({flag:"title-label"})?.set({hidden:!e,text:e})}createItems(){let e=this,t=e.fireAction.bind(e),o=e.items||[];o.push({ntype:"label",cls:["neo-panel-header-text","neo-label"],flag:"title-label",hidden:!e.title,text:e.title}),e.actions&&(o.push("->"),e.actions.forEach((a=>{"Object"!==Neo.typeOf(a)&&(a=e.actionMap[a]()),o.push({handler:t,...a})}))),e.items=o,super.createItems()}fireAction(e){let t=e.component;this.fire("headerAction",{action:t.action,component:t,scope:this})}}Neo.applyClassConfig(n);const i=n},3980:(e,t,o)=>{o.d(t,{Z:()=>r});var a=o(4022),n=o(6717);class i extends a.Z{static config={className:"Neo.form.field.Base",ntype:"basefield",formGroup_:null,name_:null,renderName_:!0,renderPath:!0,value_:null};formGroupString=null;path=null;afterSetName(e,t){let o=this;o.renderName&&o.changeInputElKey("name",o.renderPath?o.getPath():e)}afterSetValue(e,t){void 0!==t&&this.fireChangeEvent(e,t)}beforeGetFormGroup(e){let t,o=this,a=[];return o.formGroupString?o.formGroupString:(e&&a.push(e),n.Z.getParents(o).forEach((e=>{e.formGroup&&a.unshift(e.formGroup)})),t=a.join("."),o.formGroupString=t,t)}changeInputElKey(e,t,o=!1){let a=this;t||Neo.isBoolean(t)||0===t?a.getInputEl()[e]=t:delete a.getInputEl()[e],!o&&a.update()}fireChangeEvent(e,t){let o=this,a=Neo.form?.Container;o.fire("change",{component:o,oldValue:t,value:e}),o.suspendEvents||n.Z.getParents(o).forEach((n=>{a&&n instanceof a&&n.fire("fieldChange",{component:o,oldValue:t,value:e})}))}getInputEl(){return this.vdom}getPath(){let e,t=this;if(!t.path){if(e=t.formGroup?t.formGroup.split("."):[],t.name&&e.push(t.name),e.length<1)return null;t.path=e.join(".")}return t.path||(t.path="none"),"none"===t.path?null:t.path}getValue(){return this.value}isValid(){return!0}onFocusLeave(e){super.onFocusLeave?.(e);let t=this,o=Neo.form?.Container;t.suspendEvents||n.Z.getParents(t).forEach((a=>{o&&a instanceof o&&a.fire("fieldFocusLeave",{...e,component:t})}))}reset(e=null){this.value=e}validate(e=!0){return!0}}Neo.applyClassConfig(i);const r=i},4350:(e,t,o)=>{o.d(t,{Z:()=>l});var a=o(3980),n=o(6717),i=o(5328);class r extends a.Z{static labelPositions=["left","top"];static config={className:"Neo.form.field.CheckBox",ntype:"checkboxfield",baseCls:["neo-checkboxfield"],checked_:!1,error_:null,errorPositionAbsolute_:!1,errorTextGroupRequired:e=>`Please check at least one item of the group: ${e.name}`,errorTextRequired:"Required",groupRequired_:!1,hideLabel_:!1,iconCls:["far","fa-square"],iconClsChecked:["fas","fa-check"],inputType_:"checkbox",labelBaseCls:["neo-checkbox-label"],labelCls_:[],labelId_:null,labelIdCls_:[],labelIdSeparator_:" Â· ",labelPosition_:"left",labelText_:"LabelText",labelWidth_:150,required_:!1,showErrorTexts_:!0,uncheckedValue:!1,value:!0,valueLabelText_:null,_vdom:{cn:[{tag:"label",cls:["neo-checkbox-label"],cn:[{tag:"span",cls:[]},{tag:"input",cls:["neo-checkbox-input"]},{tag:"i",cls:["neo-checkbox-icon"]},{tag:"span",cls:["neo-checkbox-value-label"]}]},{cls:["neo-error-wrapper"],removeDom:!0,cn:[{cls:["neo-error"]}]}]}};clean=!0;construct(e){super.construct(e);let t=this;t.addDomListeners({change:t.onInputValueChange,scope:t})}afterSetChecked(e,t){let o=this,a=o.vdom.cn[0],n=a.cn[2].cls,r=e?o.iconClsChecked:o.iconCls,l=e?o.iconCls:o.iconClsChecked;t&&(o.clean=!1),o.validate(),a.cn[1].checked=e,i.Z.removeAdd(n,l,r),o.update(),void 0!==t&&o.fireChangeEvent(o.getValue(),null)}afterSetError(e,t){this.updateError(e)}afterSetErrorPositionAbsolute(e,t){let o=this.vdom.cn[1].cn[0].cls;i.Z[e?"add":"remove"](o,"neo-absolute"),this.update()}afterSetGroupRequired(e,t){void 0!==t&&this.validate(!1)}afterSetHideLabel(e,t){this.vdom.cn[0].cn[0].removeDom=e,this.update()}afterSetId(e,t){let o=this,a=o.vdom.cn[0];a.cn[0].id=o.getLabelId(),a.cn[1].id=o.getInputElId(),a.cn[2].id=o.getIconElId(),a.cn[3].id=o.getValueLabelId(),super.afterSetId(e,t)}afterSetInputType(e,t){this.changeInputElKey("type",e)}afterSetLabelCls(e,t){let o=this.vdom.cn[0].cn[0].cls;i.Z.remove(o,t),i.Z.add(o,e),this.update()}afterSetLabelPosition(e,t){let o=this.cls;i.Z.remove(o,"neo-label-"+t),i.Z.add(o,"neo-label-"+e),this.cls=o}afterSetLabelText(e,t){let o=this;o.labelId&&(e=`<span class="${o.labelIdCls.join(",")}">${o.labelId}</span>${o.labelIdSeparator+e}`),o.vdom.cn[0].cn[0].innerHTML=e,o.update()}afterSetLabelWidth(e,t){let o=this;o.hideLabel||(o.vdom.cn[0].cn[0].width=e,o.update())}afterSetRequired(e,t){void 0!==t&&this.validate(!1)}afterSetShowErrorTexts(e,t){void 0!==t&&this.validate(!1)}afterSetValue(e,t){this.changeInputElKey("value",e)}afterSetValueLabelText(e,t){let o=this.vdom.cn[0].cn[3],a=!!e;a&&(o.innerHTML=e),o.removeDom=!a,this.update()}beforeSetGroupRequired(e,t){return e&&this.required?(console.warn("Do not use groupRequired & required at the same time. Switching to required.",this),!1):e}beforeSetLabelCls(e,t){return i.Z.union(e||[],this.labelBaseCls)}beforeSetLabelPosition(e,t){return this.beforeSetEnumValue(e,t,"labelPosition")}beforeSetRenderName(e,t){return!0}getIconElId(){return`${this.id}__icon`}getInputEl(){return this.vdom.cn[0].cn[1]}getInputElId(){return`${this.id}__input`}getLabelId(){return`${this.id}__label`}getValue(){let e=this;return e.checked?e.value:e.uncheckedValue}getValueLabelId(){return`${this.id}__value-label`}isValid(){return!this.error&&super.isValid()}onInputValueChange(e){let t=this,o=e.target.checked;t.vnode.childNodes[0].childNodes[t.hideLabel?0:1].attributes.checked=`${o}`,t.checked=o}updateError(e,t=!1){let o,a,n=this,r=n.cls,l=e&&n.showErrorTexts;n.clean&&!n.mounted||(n._error=e,i.Z[e?"add":"remove"](r,"neo-invalid"),n.cls=r,a=n.vdom.cn[1],o=a.cn[0],l?o.html=e:delete o.html,a.removeDom=!l,!t&&n.update())}validate(e=!0){let t,o,a=this,i=a.name,r=!0;if(e||(a.clean=!1),a.groupRequired){for(t of(r=!1,o=n.Z.find({ntype:a.ntype,name:a.name}),o))if(t.checked){r=!0;break}for(t of o)t.id!==a.id&&(a.clean||(t.clean=!1),t[a.clean?"_error":"error"]=r?null:t.errorTextGroupRequired({name:i}));r||(a._error=a.errorTextGroupRequired({name:i}))}else a.required&&!a.checked&&(a._error=a.errorTextRequired,r=!1);return r&&(a._error=null),!a.clean&&a.updateError(a._error,e),!!r&&super.validate(e)}}Neo.applyClassConfig(r);const l=r},8031:(e,t,o)=>{o.d(t,{Z:()=>r});var a=o(4350),n=o(6717);class i extends a.Z{static config={className:"Neo.form.field.Radio",ntype:"radiofield",baseCls:["neo-radiofield","neo-checkboxfield"],iconCls:["far","fa-circle"],inputType:"radio"};afterSetChecked(e,t){super.afterSetChecked(e,t),e&&this.uncheckGroupItems()}getValue(){return this.checked?this.value:void 0}uncheckGroupItems(){let e,t=this;e=n.Z.find({ntype:"radiofield",name:t.name}),e.forEach((e=>{e.id!==t.id&&e._checked&&(e.checked=!1)}))}}Neo.applyClassConfig(i);const r=i},5031:(e,t,o)=>{o.d(t,{Z:()=>l}),o(1509);var a=o(4022),n=o(9119),i=(o(5163),o(5328));class r extends n.Z{static dockPositions=["top","right","bottom","left",null];static config={className:"Neo.toolbar.Base",ntype:"toolbar",baseCls:["neo-toolbar"],dock_:null,itemDefaults:{ntype:"button"},layout:{ntype:"hbox",align:"center",pack:"start"},sortable_:!1,sortZone:null,sortZoneConfig:null};afterSetAppName(e,t){super.afterSetAppName(e,t),this.sortZone&&(this.sortZone.appName=e)}afterSetDock(e,t){let o=this,a=o.cls;o.getStaticConfig("dockPositions").forEach((t=>{null!==t&&i.Z[t===e?"add":"remove"](a,"neo-dock-"+t)})),o.cls=a,o.layout=o.getLayoutConfig()}afterSetSortable(e,t){let a=this;e&&!a.sortZone&&o.e(1538).then(o.bind(o,1538)).then((e=>{a.sortZone=Neo.create({module:e.default,appName:a.appName,boundaryContainerId:a.id,owner:a,...a.sortZoneConfig})}))}beforeSetDock(e,t){return this.beforeSetEnumValue(e,t,"dock","dockPositions")}createItems(){let e=this._items;return Array.isArray(e)&&e.forEach(((t,o)=>{"->"===t&&(e[o]=Neo.create({module:a.Z,flex:1}))})),super.createItems()}getLayoutConfig(){let e,t=this;if(t.dock)switch(t.dock){case"bottom":case"top":e={ntype:"hbox",align:"center",pack:"start"};break;case"left":e={ntype:"vbox",align:"center",direction:"column-reverse",pack:"start"};break;case"right":e={ntype:"vbox",align:"center",direction:"column",pack:"start"}}return e||t.layout}}Neo.applyClassConfig(r);const l=r}}]);