export const __webpack_esm_id__=3325;export const __webpack_esm_ids__=[3325];export const __webpack_esm_modules__={3325(e,t,n){n.r(t),n.d(t,{default:()=>i});var o=n(7402),r=n(6743);class c extends o.A{static config={className:"Neo.manager.Window",isSafari:/^((?!chrome|android).)*safari/i.test(navigator.userAgent),singleton:!0};construct(e){super.construct(e);let t=this;Neo.currentWorker.on({connect:t.onWindowConnect,disconnect:t.onWindowDisconnect,scope:t})}getWindowAt(e,t){let n=this.items.find(n=>n.outerRect?.intersects({bottom:t,right:e,x:e,y:t}));return n?n.id:null}calculateGeometry(e){const{innerHeight:t,innerWidth:n,mozInnerScreenX:o,mozInnerScreenY:c,outerHeight:i,outerWidth:s,screenLeft:a,screenTop:d}=e,m=(s-n)/2,u=i-t-m,l={bottom:m,left:m,right:m,top:u};let w,h;return"number"==typeof o?(w=o,h=c):this.isSafari?(w=a+m,h=d+u):(w=a,h=d),{chrome:l,innerRect:new r.A(w,h,n,t),outerRect:new r.A(w-m,h-u,s,i)}}onWindowConnect({appName:e,windowData:t,windowId:n}){let o=null,r=null,c=null;t&&({chrome:o,innerRect:r,outerRect:c}=this.calculateGeometry(t)),console.log("Window.onWindowConnect",{windowId:n,appName:e,chrome:o,innerRect:r,outerRect:c}),this.register({appName:e,chrome:o,id:n,innerRect:r,outerRect:c})}onWindowDisconnect({windowId:e}){this.unregister(e)}onWindowPositionChange(e){const t=this,n=t.get(e.windowId),{chrome:o,innerRect:r,outerRect:c}=t.calculateGeometry(e);n?(n.chrome=o,n.innerRect=r,n.outerRect=c):t.register({chrome:o,id:e.windowId,innerRect:r,outerRect:c})}toJSON(){return{className:this.className,windows:this.items.map(e=>({id:e.id,appName:e.appName,chrome:e.chrome,innerRect:e.innerRect,outerRect:e.outerRect}))}}}const i=Neo.setupClass(c)}};