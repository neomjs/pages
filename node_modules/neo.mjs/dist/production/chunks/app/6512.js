"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[6512],{6512(e,t,a){a.r(t),a.d(t,{default:()=>w});var n=a(2167);class o extends n.A{static config={className:"Portal.view.news.release.Component"};getContentPath({path:e}){return e?Neo.config.basePath+e:null}}const s=Neo.setupClass(o);var r=a(3997);class l extends r.A{static config={className:"Portal.view.news.release.MainContainerController",routes:{"/news/releases":"onRouteDefault","/news/releases/{*itemId}":"onRouteItem"}};navigateTo(e){Neo.Main.setRoute({value:`/news/releases/${e}`,windowId:this.component.windowId})}onContentEdit(e){}onContentRefresh(e){this.getReference("tree").doFetchContent(e.record)}onIntersect(e){let t=this.getReference("page-sections-container").list,a=parseInt(e.data.recordId);t.isAnimating||t.selectionModel.select(t.store.get(a))}onNextPageButtonClick(e){this.navigateTo(this.getStateProvider().getData("nextPageRecord").id)}onPageSectionsToggleButtonClick(e){this.getReference("page-sections-container").toggleCls("neo-expanded")}onPreviousPageButtonClick(e){this.navigateTo(this.getStateProvider().getData("previousPageRecord").id)}onRouteDefault(e){let t=this.getStateProvider().getStore("tree");t.getCount()>0?this.navigateTo(t.getAt(1).id):t.on({load:()=>this.navigateTo(t.getAt(1).id),delay:10,once:!0})}onRouteItem({itemId:e}){let t=this.getStateProvider(),a=t.getStore("tree"),n=this.getReference("tree");"/news/releases"!==n.routePrefix&&(n.routePrefix="/news/releases"),a.getCount()>0?t.data.currentPageRecord=a.get(e):a.on({load:()=>{t.data.currentPageRecord=a.get(e)},delay:10,once:!0})}onSideNavToggleButtonClick(e){this.getReference("sidenav-container").toggleCls("neo-expanded")}}const i=Neo.setupClass(l);var c=a(7856),d=a(8544),g=a(1967);class u extends g.A{static config={className:"Portal.model.Release",fields:[{name:"collapsed",type:"Boolean",defaultValue:!0},{name:"date",type:"String"},{name:"path",type:"String"},{name:"title",type:"String"},{name:"isLeaf",type:"Boolean",defaultValue:!0},{name:"parentId",type:"String",defaultValue:null},{name:"treeNodeName",type:"html",calculate(e){const{date:t,id:a}=e;return t?`<b>${a}</b> <span class="release-date">[${new Date(t).toLocaleDateString()}]</span>`:a}},{name:"id",type:"String"}]}}const p=Neo.setupClass(u);var f=a(2779);class P extends f.A{static config={className:"Portal.store.Releases",keyProperty:"id",model:p,url:"../../apps/portal/resources/data/releases.json"}}const m=Neo.setupClass(P);var C=a(9943);class h extends C.A{static config={className:"Portal.view.news.release.MainContainerStateProvider",data:{countPages:null,countSections:null,currentPageRecord:null,nextPageRecord:null,previousPageRecord:null},stores:{sections:{module:d.A},tree:{autoLoad:!0,module:m}}};onDataPropertyChange(e,t,a){super.onDataPropertyChange(e,t,a);let n=this;switch(e){case"countSections":t<1&&n.component.getReference("page-sections-container")?.toggleCls("neo-expanded",!1);break;case"currentPageRecord":{let e,a,{data:o}=n,{countPages:s}=o,r=n.getStore("tree"),l=r.indexOf(t),i=null,c=null;for(e=l-1;e>=0;e--)if(a=r.getAt(e),a.isLeaf&&!n.recordIsHidden(a,r)){c=a;break}for(n.setData({previousPageRecord:c}),e=l+1;e<s;e++)if(a=r.getAt(e),a.isLeaf&&!n.recordIsHidden(a,r)){i=a;break}n.setData({nextPageRecord:i}),n.component.getReference("sidenav-container")?.toggleCls("neo-expanded",!1);break}}}recordIsHidden(e,t){return!!e.hidden||null!==e.parentId&&this.recordIsHidden(t.get(e.parentId),t)}}const v=Neo.setupClass(h);class R extends c.A{static config={className:"Portal.view.news.release.MainContainer",cls:["portal-release-maincontainer"],buttonTextField:"id",contentComponent:s,controller:i,stateProvider:v,treeConfig:{displayField:"treeNodeName"}}}const w=Neo.setupClass(R)}}]);