"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[8675],{8675(e,t,n){n.r(t),n.d(t,{default:()=>z});var o=n(1184),a=n(3176);class s extends a.A{static config={className:"Portal.view.learn.ContentTreeList",bind:{contentPath:e=>e.contentPath,currentPageRecord:e=>e.currentPageRecord,store:"stores.contentTree"},cls:["topics-tree"],contentPath_:null,currentPageRecord_:null,showCollapseExpandAllIcons:!1};afterSetContentPath(e,t){e&&this.doLoadStore()}async afterSetCurrentPageRecord(e,t){e&&(await this.timeout(20),this.selectionModel.select(e))}doLoadStore(){this.store.load({url:`${this.contentPath}tree.json`})}onLeafItemClick(e){super.onLeafItemClick(e),Neo.Main.setRoute({value:`/learn/${e.id}`,windowId:this.windowId})}onStoreLoad(){super.onStoreLoad(),this.getStateProvider().data.countPages=this.store.getCount()}}const r=Neo.setupClass(s);var i=n(3997),c=n(8659);class l extends c.A{static config={className:"Portal.view.learn.CubeLayoutButton",activeLayout_:null};activateText="Activate Cube-Layout";deactivateText="Deactivate Cube-Layout";get viewportController(){return this.getController("viewport-controller")}construct(e){super.construct(e);let t=this;t.activeLayout=t.viewportController.mainContentLayout,t.handler=t.changeLayout.bind(t)}afterSetActiveLayout(e,t){let n=this;e&&(n.viewportController.mainContentLayout=e,"card"===e?n.text=n.activateText:"mixed"===e&&(n.text=n.deactivateText))}changeLayout(e){let t=this;t.activeLayout=t.text===t.activateText?"mixed":"card"}}Neo.setupClass(l);class d extends i.A{static config={className:"Portal.view.learn.MainContainerController",routes:{"/learn":"onRouteDefault","/learn/{*itemId}":"onRouteLearnItem"}};construct(e){super.construct(e);let{windowId:t}=this;Neo.Main.getByPath({path:"location.search",windowId:t}).then(e=>{var t;this.setState({deck:(t=e,t?.startsWith("?")&&(t=t.substring(1)),t?JSON.parse(`{"${decodeURI(t.replace(/&/g,'","').replace(/=/g,'":"'))}"}`):{}).deck||"learnneo"})})}navigateTo(e){Neo.Main.setRoute({value:`/learn/${e}`,windowId:this.component.windowId})}async onContentEdit(e){const t=this.getStateProvider();console.log(e);const n=t.getData("editorConfig"),o=t.getData("deck");if(!n||!o)return;const a=`${n.root}/${o}/pages/${e.record.id}.md`;await fetch("http://localhost:3000/openInEditor",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:a,editor:n.editor})})}onContentRefresh(e){this.getReference("tree").doFetchContent(e.record)}onIntersect(e){let t=this.getReference("page-sections-container").list,n=parseInt(e.data.recordId);t.isAnimating||t.selectionModel.select(t.store.get(n))}onNextPageButtonClick(e){this.navigateTo(this.getStateProvider().getData("nextPageRecord").id)}onPageSectionsToggleButtonClick(e){this.getReference("page-sections-container").toggleCls("neo-expanded")}onPreviousPageButtonClick(e){this.navigateTo(this.getStateProvider().getData("previousPageRecord").id)}onRouteDefault(e){this.getStateProvider().data.currentPageRecord||this.onRouteLearnItem({itemId:"benefits/Introduction"})}onRouteLearnItem({itemId:e}){let t=this.getStateProvider(),n=t.getStore("contentTree");n.getCount()>0?t.data.currentPageRecord=n.get(e):n.on({load:()=>{t.data.currentPageRecord=n.get(e)},delay:10,once:!0})}onSideNavToggleButtonClick(e){this.getReference("sidenav-container").toggleCls("neo-expanded")}}const u=Neo.setupClass(d);var g=n(1967);class h extends g.A{static config={className:"Portal.model.ContentSection",fields:[{name:"id",type:"Int"},{name:"name",type:"String"},{name:"sourceId",type:"String"},{name:"tag",type:"String"}]}}const p=Neo.setupClass(h);var m=n(2779);class f extends m.A{static config={className:"Portal.store.ContentSections",model:p}}const v=Neo.setupClass(f);class P extends g.A{static config={className:"Portal.model.Content",fields:[{name:"className",type:"String"},{name:"collapsed",type:"Boolean"},{name:"hidden",type:"Boolean"},{name:"id",type:"String"},{name:"isLeaf",type:"Boolean",defaultValue:!0},{name:"name",type:"String"},{name:"parentId",type:"String"}]}}const C=Neo.setupClass(P);class x extends m.A{static config={className:"Portal.store.Content",model:C}}const S=Neo.setupClass(x);var w=n(9943);class y extends w.A{static config={className:"Portal.view.learn.MainContainerStateProvider",data:{contentPath:null,countPages:null,countSections:null,currentPageRecord:null,deck:null,nextPageRecord:null,previousPageRecord:null},stores:{contentSections:{module:v},contentTree:{module:S}}};onDataPropertyChange(e,t,n){super.onDataPropertyChange(e,t,n);let o=this;switch(e){case"countSections":t<1&&o.component.getReference("page-sections-container")?.toggleCls("neo-expanded",!1);break;case"currentPageRecord":{let e,n,{data:a}=o,{countPages:s}=a,r=o.getStore("contentTree"),i=r.indexOf(t),c=null,l=null,d=null,u=null;for(e=i-1;e>=0;e--)if(n=r.getAt(e),n.isLeaf&&!o.recordIsHidden(n,r)){d=n;break}for(o.setData({previousPageText:u,previousPageRecord:d}),e=i+1;e<s;e++)if(n=r.getAt(e),n.isLeaf&&!o.recordIsHidden(n,r)){c=n;break}o.setData({nextPageText:l,nextPageRecord:c}),o.component.getReference("sidenav-container")?.toggleCls("neo-expanded",!1);break}case"deck":if(t){const e="learnneo"===t?"learn/":`resources/data/deck/${t}/`;o.data.contentPath=Neo.config.basePath+e}}}recordIsHidden(e,t){return!!e.hidden||null!==e.parentId&&this.recordIsHidden(t.get(e.parentId),t)}}const b=Neo.setupClass(y);var I=n(6640);class R extends I.default{static config={className:"Portal.view.learn.ContentComponent",baseCls:["learn-content","neo-markdown-component"],bind:{record:e=>e.currentPageRecord},record_:null,tag:"article"};construct(e){super.construct(e);let t=this;t.addDomListeners({click:t.onClick,intersect:"onIntersect",scope:t})}afterSetMounted(e,t){super.afterSetMounted(e,t);let n=this;e&&n.timeout(50).then(()=>{Neo.main.addon.IntersectionObserver.register({callback:"findTopmostItem",id:n.id,root:`#${n.parentId}`,windowId:n.windowId})})}async afterSetRecord(e,t){if(e){let n=this;await n.doFetchContent(e),t&&(await n.timeout(50),Neo.main.DomAccess.scrollTo({direction:"top",id:n.parentId,value:0,windowId:n.windowId}))}}async doFetchContent(e){let t,n,o=this,{windowId:a}=o,s=o.getStateProvider().getData("contentPath"),r=s.includes("/learn/")?"":"pages/";s+=`${r+e.id.replaceAll(".","/")}.md`,e.isLeaf&&s&&(n=await fetch(s),t=await n.text(),o.value=t,o.toggleCls("lab",e.name?.startsWith("Lab:")),Neo.main.addon.IntersectionObserver.observe({disconnect:!0,id:o.id,observe:[".neo-h2",".neo-h3"],windowId:a}))}headlineData=null;onClick({altKey:e,metaKey:t,shiftKey:n}){let o=this,{record:a}=o;e&&!t&&n?o.fire("edit",{component:o,record:a}):!e&&t&&n&&o.fire("refresh",{component:o,record:a})}modifyMarkdown(e){this.headlineData=[];const t=super.modifyMarkdown(e);return this.getStateProvider().getStore("contentSections").data=this.headlineData,this.headlineData=null,t}onHeadline(e,t,n){const o=t.replaceAll("`","");return this.headlineData.push({id:n,name:o,sourceId:this.id,tag:e}),`<${e} class="neo-${e}" data-record-id="${n}">${t.replace(R.regexInlineCode,"<code>$1</code>")}</${e}>`}}const N=Neo.setupClass(R);var L=n(8310);class k extends o.A{static config={className:"Portal.view.learn.PageContainer",baseCls:["portal-learn-page-container","neo-container"],bind:{nextPageRecord:e=>e.nextPageRecord,previousPageRecord:e=>e.previousPageRecord},items:[{module:N,reference:"content",listeners:{edit:"onContentEdit",refresh:"onContentRefresh"}},{module:L.A,flex:"none",cls:["content-bottom-toolbar"],layout:"grid",tag:"nav",items:[{cls:["content-bottom-toolbar-previous"],handler:"onPreviousPageButtonClick",hidden:!0,iconCls:"fa fa-chevron-left",reference:"prev-page-button",ui:"secondary"},{cls:["content-bottom-toolbar-next"],handler:"onNextPageButtonClick",hidden:!0,iconCls:"fa fa-chevron-right",iconPosition:"right",reference:"next-page-button",ui:"secondary"}]}],nextPageRecord_:null,previousPageRecord_:null};get nextPageButton(){return this.getReference("next-page-button")}get prevPageButton(){return this.getReference("prev-page-button")}afterSetNextPageRecord(e,t){void 0!==t&&(e?this.nextPageButton.set({hidden:!1,text:e.name}):this.nextPageButton.hidden=!0)}afterSetPreviousPageRecord(e,t){void 0!==t&&(e?this.prevPageButton.set({hidden:!1,text:e.name}):this.prevPageButton.hidden=!0)}}const A=Neo.setupClass(k);var T=n(3123);class D extends T.A{static config={className:"Portal.view.learn.PageSectionsList",bind:{store:"stores.contentSections"},cls:["portal-page-sections-list","topics-tree"]};isAnimating=!1;createItemContent(e,t){return{cls:`neo-${e.tag}`,text:e[this.displayField]}}onConstructed(){super.onConstructed();let e=this;e.on("itemClick",e.onSelectionChange,e)}async onSelectionChange(e){let t=this,n=e.record;n&&(t.isAnimating=!0,t.fire("pageListSelect",{record:n}),await Neo.main.DomAccess.scrollIntoView({querySelector:`[data-record-id='${n.id}']`,windowId:t.windowId}),await t.timeout(200),t.isAnimating=!1)}onStoreLoad(){super.onStoreLoad(),this.getStateProvider().data.countSections=this.store.getCount()}}const B=Neo.setupClass(D);class $ extends o.A{static config={className:"Portal.view.learn.PageSectionsContainer",cls:["portal-page-sections-container"],items:[{ntype:"button",cls:["sections-container-button"],handler:"onPageSectionsToggleButtonClick",iconCls:"fas fa-bars",ui:"secondary",bind:{disabled:e=>e.countSections<1,hidden:e=>"large"===e.size}},{vdom:{cn:[{tag:"h3",text:"On this page"}]}},{module:B,listeners:{pageListSelect:"up.onPageListSelect"},reference:"list"}],layout:{ntype:"vbox"},tag:"aside"};get list(){return this.getReference("list")}onPageListSelect(e){this.toggleCls("neo-expanded",!1)}}const M=Neo.setupClass($);var _=n(1956);class O extends o.A{static config={className:"Portal.view.learn.MainContainer",cls:["portal-learn-maincontainer"],controller:u,items:[{module:o.A,cls:["sidenav-container"],flex:"none",layout:"fit",reference:"sidenav-container",tag:"aside",items:[{module:r,reference:"tree"},{ntype:"button",bind:{hidden:e=>"x-small"!==e.size},cls:["sidenav-button"],handler:"onSideNavToggleButtonClick",iconCls:"fas fa-bars",ui:"secondary"}]},{module:_.A,bind:{hidden:e=>"x-small"===e.size},cls:["main-content-splitter"],resizeTarget:"previous",size:3},{module:A},{module:M,reference:"page-sections-container"}],layout:{ntype:"hbox",align:"stretch"},stateProvider:b}}const z=Neo.setupClass(O)}}]);