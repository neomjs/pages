"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[4530],{3227:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(414);class l extends a.A{static config={className:"Neo.component.BoxLabel",ntype:"box-label",baseCls:["neo-box-label","neo-label"]}}const o=Neo.setupClass(l)},4530:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(3227),l=n(3079),o=n(6715),i=n(5293),s=n(625);class r extends i.A{static config={className:"SharedCovid.view.country.Helix",baseCls:["covid-country-helix","neo-helix"],bind:{country:{key:"country",twoWay:!0}},country_:null,deltaY:1.2,itemTpl:{cls:["surface","neo-helix-item"],style:{},tabIndex:"-1",cn:[{cls:["neo-item-wrapper"],style:{},cn:[{cls:["neo-country-helix-item"],style:{},cn:[{cls:["neo-item-header"],cn:[{tag:"img",cls:["neo-flag"]},{}]},{tag:"table",cls:["neo-content-table"],cn:[{tag:"tr",cn:[{tag:"td",text:"Cases"},{tag:"td",cls:["neo-align-right"]},{tag:"td",style:{width:"100%"}},{tag:"td",text:"Cases today"},{tag:"td",cls:["neo-align-right"]}]},{tag:"tr",cn:[{tag:"td",text:"Deaths"},{tag:"td",cls:["neo-align-right","neo-content-deaths"]},{tag:"td",style:{width:"100%"}},{tag:"td",text:"Deaths today"},{tag:"td",cls:["neo-align-right","neo-content-deaths"]}]},{tag:"tr",cn:[{tag:"td",text:"Recovered"},{tag:"td",cls:["neo-align-right","neo-content-recovered"]},{tag:"td",style:{width:"100%"}},{tag:"td",text:"Critical"},{tag:"td",cls:["neo-align-right","neo-content-critical"]}]}]}]}]}]},keyProperty:"country",radius:2500,rotationAngle:720,showCloneInfo:!1,store:o.A,translateY:500,translateZ:-2300};afterSetCountry(e,t){if(void 0!==t){let t=this,n=t.selectionModel;e&&!n.isSelected(e)&&(n.select(e,!1),t.onKeyDownSpace(null))}}createItem(e,t,n){let a=e.cn[0].cn[0],l=s.A.formatNumber,o=a.cn[1];return e.id=this.getItemVnodeId(t[this.keyProperty]),a.cn[0].cn[0].src=s.A.getCountryFlagUrl(t.country),a.cn[0].cn[1].text=t.country,o.cn[0].cn[1].text=l({value:t.cases}),o.cn[1].cn[1].text=l({value:t.deaths}),o.cn[2].cn[1].text=l({value:t.recovered}),o.cn[0].cn[4].text=l({value:t.todayCases}),o.cn[1].cn[4].text=l({value:t.todayDeaths}),o.cn[2].cn[4].text=l({value:t.critical}),e}getCloneTransform(){let e=this;return"matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,"+(e.offsetWidth-2800)/6+","+(e.offsetHeight-2700)/6+","+(100400+e.perspective/1.5)+",1)"}getItemId(e){return e.split("__")[1]}onSelect(e){this.country=e[0]||null}}const c=Neo.setupClass(r);var u=n(5800);class m extends u.A{static config={className:"SharedCovid.view.HelixContainerController",helix_:null};beforeGetHelix(e){return e||(this._helix=e=this.getReference("helix")),e}onCollapseButtonClick(e){const t=this.getReference("controls-panel"),n=40===t.width;t.width=n?250:40,e.component.text=n?"X":"+"}onFlipItemsButtonClick(e){this.helix.flipped=!this.helix.flipped}onFollowSelectionButtonClick(e){const t=e.component;"fa fa-square"===t.iconCls?(this.helix.followSelection=!0,t.iconCls="fa fa-check-square"):(this.helix.followSelection=!1,t.iconCls="fa fa-square")}onRangefieldChange(e){const t=e.component.name;["deltaY","maxOpacity","minOpacity"].includes(t)&&(e.value/=100),this.helix[t]=e.value}onRangefieldMounted(e){const t=Neo.getComponent(e);this.helix.on(t.eventName,function(e){e=Math.min(Math.max(e,t.minValue),t.maxValue),t.value=e})}onSortButtonClick(e){this.helix.store.sorters=[{property:e.component.field,direction:"DESC"}]}}const d=Neo.setupClass(m);var x=n(5078);n(5173);class p extends l.A{static config={className:"SharedCovid.view.HelixContainer",baseCls:["neo-helix-maincontainer","neo-viewport"],controller:d,helix:null,helixConfig:null,layout:{ntype:"hbox",align:"stretch"},items:[{ntype:"container",flex:1,items:[],layout:"fit"},{module:x.A,cls:["neo-configuration-panel","neo-panel","neo-container"],layout:{ntype:"vbox",align:"stretch"},reference:"controls-panel",style:{backgroundColor:"#2b2b2b"},width:250,containerConfig:{style:{overflowY:"scroll"}},headers:[{dock:"top",items:[{ntype:"button",handler:"onCollapseButtonClick",text:"X"},{ntype:"label",text:"Helix Controls"},"->",{ntype:"button",handler:"onWindowHelixMaximizeButtonClick",iconCls:"far fa-window-maximize"}]}],itemDefaults:{ntype:"rangefield",flex:"0 1 auto",labelWidth:"100px",style:{padding:"10px"},useInputEvent:!0,listeners:{change:"onRangefieldChange"}},items:[{labelText:"Translate X",maxValue:2e3,minValue:-2e3,name:"translateX",value:400},{labelText:"Translate Y",maxValue:2500,minValue:-2500,name:"translateY",value:-350},{eventName:"changeTranslateZ",labelText:"Translate Z",maxValue:4500,minValue:-4500,name:"translateZ",value:-1500,listeners:{change:"onRangefieldChange",mounted:"onRangefieldMounted"}},{labelText:"Delta Y",labelAlign:"top",maxValue:600,minValue:-600,name:"deltaY",value:70},{eventName:"changeRotation",labelText:"Rotate",minValue:-720,maxValue:720,name:"rotationAngle",value:0,listeners:{change:"onRangefieldChange",mounted:"onRangefieldMounted"}},{labelText:"Radius",maxValue:3500,minValue:900,name:"radius",value:1500},{labelText:"Perspective",minValue:50,maxValue:3e3,name:"perspective",value:800},{labelText:"Item Angle",minValue:1,maxValue:36,name:"itemAngle",value:8},{labelText:"Max Opacity",name:"maxOpacity",minValue:0,maxValue:100,value:80},{labelText:"Min Opacity",name:"minOpacity",minValue:0,maxValue:100,value:30},{ntype:"button",handler:"onFlipItemsButtonClick",text:"Flip Items",listeners:{},style:{margin:"20px"}},{ntype:"label",text:"Sort By:"},{ntype:"container",layout:{ntype:"hbox",align:"stretch"},style:{minHeight:"134px",padding:"0"},items:[{ntype:"container",layout:{ntype:"vbox",align:"stretch"},itemDefaults:{ntype:"button",handler:"onSortButtonClick"},items:[{field:"cases",text:"Cases",style:{margin:"10px",marginTop:"0"}},{field:"deaths",text:"Deaths",style:{margin:"10px",marginBottom:"10px",marginTop:0}},{field:"country",text:"Country",style:{margin:"10px",marginTop:0}},{field:"recovered",text:"Recovered",style:{margin:"10px",marginTop:0}}]},{ntype:"container",layout:{ntype:"vbox",align:"stretch"},itemDefaults:{ntype:"button",handler:"onSortButtonClick"},items:[{field:"todayCases",text:"Cases today",style:{margin:"10px",marginTop:"0"}},{field:"todayDeaths",text:"Deaths today",style:{margin:"10px",marginBottom:"10px",marginTop:0}},{field:"critical",text:"Critical",style:{margin:"10px",marginBottom:"43px",marginTop:0}}]}]},{ntype:"button",handler:"onFollowSelectionButtonClick",iconCls:"fa fa-square",text:"Follow Selection",listeners:{},style:{margin:"20px",marginBottom:"10px"}},{module:a.A,html:["<b>Navigation Concept</b>","<p>Click on an item to select it. Afterwards you can use the Arrow Keys to walk through the items.</p>","<p>Hit the Space Key to rotate the currently selected item to the front.</p>","<p>Hit the Enter Key to expand the currently selected item.</p>"].join("")}]}]};construct(e){super.construct(e);let t=this;t.helix=Neo.create({module:c,appName:t.appName,parentId:t.id,reference:"helix",stateProvider:{parent:t.getStateProvider()},...t.helixConfig}),t.items[0].items.push(t.helix)}}const h=Neo.setupClass(p)}}]);