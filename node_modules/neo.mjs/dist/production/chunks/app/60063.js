"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[60063],{10419:(e,t,o)=>{o.d(t,{A:()=>d});var a=o(67024),r=o(75632);const i=/\//g,n=/{[^\s/]+}/g,s=Neo.setupClass(class extends a.A{static config={className:"Neo.controller.Base",ntype:"controller",defaultHash:null,defaultRoute:null,handleRoutes:{},routes_:{}};construct(e){super.construct(e),r.A.on("change",this.onHashChange,this)}afterSetRoutes(e,t){let o=this,a=Object.keys(e);o.routes=a.sort(o.#e).reduce((t,o)=>(t[o]=e[o],t),{}),o.handleRoutes={},a.forEach(t=>{"default"===t.toLowerCase()?o.defaultRoute=e[t]:o.handleRoutes[t]=new RegExp(t.replace(n,"([\\w-.]+)")+"$")})}destroy(...e){r.A.un("change",this.onHashChange,this),super.destroy(...e)}async onConstructed(){let e=this,{defaultHash:t,windowId:o}=e,a=r.A.first(o);await e.timeout(1),a?a.windowId===o&&await e.onHashChange(a,null):!Neo.config.hash&&t&&Neo.Main.setRoute({value:t,windowId:o})}async onHashChange(e,t){if(e.windowId!==this.windowId)return;let o,a,r,i,s,l,d,c,u,p=this,h=0,m=!1,{handleRoutes:g,routes:f}=p,y=Object.keys(g),v=y.length;for(;v>0&&h<v&&!m;){if(i=y[h],r=null,l=null,d=null,s={},c=e.hashString.match(g[i]),c){if(o=i.match(n),a=c.splice(1,c.length-1),o&&o.length!==a.length)throw"Number of IDs and number of Values do not match";for(let e=0;o&&e<o.length;e++)s[o[e].substring(1,o[e].length-1)]=a[e];u=f[i],Neo.isString(u)?(r=u,d=!0):Neo.isObject(u)&&(r=u.handler,l=u.preHandler),m=!0}h++}m&&(d=!l||await(p[l]?.call(p,s,e,t)),d&&await(p[r]?.call(p,s,e,t))),y.length>0&&!m&&(p.defaultRoute?p[p.defaultRoute]?.(e,t):p.onNoRouteFound(e,t))}onNoRouteFound(e,t){}#e(e,t){return(e.match(i)||[]).length-(t.match(i)||[]).length}});var l=o(5728);const d=Neo.setupClass(class extends s{static config={className:"Neo.controller.Component",ntype:"component-controller",component:null,parent_:null,references:null,windowId:null};construct(e){super.construct(e);let t=this,{component:o}=t;t.references={},o.isConstructed?t.onComponentConstructed():o.on("constructed",()=>{t.onComponentConstructed()},t,{once:!0})}beforeSetParent(e,t){return e||this.getParent()}getHandlerScope(e,t){let o,a=this,{parent:r}=a;return!(!t||(o=(0,l.Ap)(e,t),!o.fn))||(Neo.isFunction(a[e])?a:r?.getHandlerScope(e)||null)}getParent(){let{parent:e}=this;return e||this.component.parent?.getController()||null}getReference(e){let t=this,o=t.references[e];return o||(o=t.component.down({reference:e}),o&&(t.references[e]=o)),o||null}getState(...e){return this.getStateProvider().getData(...e)}getStateProvider(e=!1){let{component:t}=this;return e?t.stateProvider:t.getStateProvider()}getStore(e){return this.getStateProvider().getStore(e)}onComponentConstructed(){}removeReference(e){let t,{references:o}=this;for(t in o)if(e===o[t]){delete o[t];break}this.getParent()?.removeReference(e)}setState(...e){this.getStateProvider().setData(...e)}})},12103:(e,t,o)=>{o.d(t,{A:()=>r});var a=o(97555);const r=Neo.setupClass(class extends a.A{static config={className:"Neo.selection.ListModel",ntype:"selection-listmodel"};onKeyDownEscape(e){}onKeyDownDown(e){}onKeyDownEnter(e){}onKeyDownLeft(e){}onKeyDownRight(e){}onKeyDownUp(e){}onListClick({currentTarget:e}){let t,{view:o}=this;o.disableSelection||(t=o.store.get(o.getItemRecordId(e)),t&&this.select(t))}onListNavigate(e){let{view:t}=this,{store:o}=t;e.record=o.getAt(Math.min(e.activeIndex,o.getCount())),t._focusIndex=o.indexOf(e.record),t.fire("itemNavigate",e)}register(e){super.register(e);let t=this,{id:o,view:a}=t;a.addDomListeners([{click:t.onListClick,scope:t,delegate:e=>{for(let t=0,{length:o}=e;t<o;t++){const{cls:o}=e[t];if(o.includes(a.itemCls)&&!o.includes("neo-disabled")&&!o.includes("neo-list-header"))return t}}},{neonavigate:t.onListNavigate,scope:t}]),a.keys?._keys.push({fn:"onKeyDownDown",key:"Down",scope:o},{fn:"onKeyDownEnter",key:"Enter",scope:o},{fn:"onKeyDownEscape",key:"Escape",scope:o},{fn:"onKeyDownLeft",key:"Left",scope:o},{fn:"onKeyDownRight",key:"Right",scope:o},{fn:"onKeyDownUp",key:"Up",scope:o})}selectAt(e){let{view:t}=this,o=t?.store.getKeyAt(e),a=o&&t.getItemId(o);a&&this.select(a)}unregister(){let{id:e,view:t}=this;t.keys?.removeKeys([{fn:"onKeyDownDown",key:"Down",scope:e},{fn:"onKeyDownEnter",key:"Enter",scope:e},{fn:"onKeyDownEscape",key:"Escape",scope:e},{fn:"onKeyDownLeft",key:"Left",scope:e},{fn:"onKeyDownRight",key:"Right",scope:e},{fn:"onKeyDownUp",key:"Up",scope:e}]),super.unregister()}})},13316:(e,t,o)=>{o.d(t,{A:()=>c});var a=o(5728),r=o(53403),i=o(70286),n=o(59447),s=o(87051),l=o(30759),d=o(33610);const c=Neo.setupClass(class extends s.A{static triggerActions=["all","filtered"];static config={className:"Neo.form.field.ComboBox",ntype:"combobox",activeRecordId:null,baseCls:["neo-combobox","neo-pickerfield","neo-textfield"],displayField:"name",filterDelay:50,filterOperator_:"like",forceSelection:!0,keys:{Down:"onKeyDownDown",Escape:"onKeyDownEscape"},lastManualInput:null,list:null,listConfig_:null,pickerHeight:null,role:"combobox",store_:null,triggerAction_:"all",typeAhead_:!0,useFilter_:!0,valueField:"id"};preStoreLoadValue=null;programmaticValueChange=!1;construct(e){super.construct(e);let t=this;t.filterOnInput=(0,a.r)(t.filterOnInput,t,t.filterDelay),t.typeAhead&&t.updateTypeAhead()}afterSetInputValue(e,t){super.afterSetInputValue(e,t),this.updateTypeAheadValue(e)}afterSetStore(e,t){let o,a,r=this;e&&(r.useFilter&&(o=e.filters||[],o.push({includeEmptyValues:!0,operator:r.filterOperator,property:r.displayField,value:e?.[r.displayField]||null}),e.filters=o),r.list&&(r.list.store=e),e.on("load",r.onStoreLoad,r),r.value&&(a=r.value,r._value=null,r.value=a))}afterSetTypeAhead(e,t){this.rendered&&this.updateTypeAhead()}afterSetValue(e,t){let o=this;if(o.programmaticValueChange=!0,super.afterSetValue(e,t),o.programmaticValueChange=!1,o._picker?.isVisible){let a=o.list?.selectionModel;e?(t&&a?.deselect(t),a?.select(e)):a.deselectAll()}}beforeSetListConfig(e,t){return e&&this.parseItemConfigs(e),e}beforeSetStore(e,t){let{displayField:o,valueField:a}=this;return!e&&this.bind?.store?null:(t?.destroy(),Array.isArray(e)&&(e={data:e.map((e,t)=>("string"==typeof e&&(e={[o]:e,[a]:e}),e))}),"Object"!==Neo.typeOf(e)||e.model||e.module||e.ntype||(e.model={fields:[{name:o,type:"String"},{name:a,type:"String"}]}),r.A.beforeSetInstance(e,l.A))}beforeSetTriggerAction(e,t){return this.beforeSetEnumValue(e,t,"triggerAction")}beforeSetValue(e,t){let o,{displayField:a,store:r}=this;return Neo.isRecord(e)?e:null===e?null:r?r.getCount()>0?(o=r.isFiltered()?r.allItems.get(e):r.get(e),o||r.find(a,e)[0]||null):(this.preStoreLoadValue=e,null):e}createPickerComponent(){const e=this;return e.list=Neo.create({module:n.A,appName:e.appName,displayField:e.displayField,itemRole:"option",itemsFocusable:!1,keepFocusIndex:!0,navigator:{eventSource:e.getInputElId()},parentId:e.id,role:"listbox",selectionModel:{stayInList:!1},store:e.store,windowId:e.windowId,...e.listConfig}),e.getInputEl()["aria-controls"]=e.list.id,e.list.addDomListeners({neonavigate:{fn:e.onListItemNavigate,scope:e}}),e.list.selectionModel.on({noChange:e.onListItemSelectionNoChange,selectionChange:e.onListItemSelectionChange,scope:e}),e.list}doFilter(e){let t=this,{picker:o,store:a}=t,r=t.value,i=a.getFilter(t.displayField);if(i&&(i.value=e),a.getCount()){t.showPicker();let{list:e}=t,{selectionModel:o}=e,i=a.indexOf(r);r&&(o.suspendEvents=!0,o.select(r),o.suspendEvents=!1),e._focusIndex=-1,e.focusIndex=i>-1?i:0}else o?.hide()}filterOnInput(e){e?this.doFilter(e):this.picker?.hide()}async fireChangeEvent(e,t){let o=this,a=Neo.form?.Container,r={component:o,oldValue:t,value:e};await o.timeout(30),o.fire("change",r),o.suspendEvents||i.A.getParents(o).forEach(e=>{a&&e instanceof a&&e.fire("fieldChange",r)})}getInputHintEl(){return d.A.find(this.vdom,this.getInputHintId())?.vdom}getInputHintId(){return this.id+"__input-hint"}getRecord(){let{list:e}=this,t=e.selectionModel.getSelection()[0];return t&&this.store.get(e.getItemRecordId(t))||null}getSubmitValue(){let e=this;return e.value?.[e.valueField]||e.emptyValue}onConstructed(){const e=this.getInputEl();e["aria-activedescendant"]="",e["aria-expanded"]=!1,e["aria-haspopup"]="listbox",super.onConstructed(...arguments)}onFocusLeave(e){let t=this;t.forceSelection&&!t.value&&(t.programmaticValueChange=!0,t.value=t.store.get(t.activeRecordId),t.programmaticValueChange=!1),t.updateTypeAheadValue(null),super.onFocusLeave(e)}onKeyDownDown(e){let t=this;t.picker&&!t.picker?.hidden||t.onPickerTriggerClick()}async onListItemSelectionChange({selection:e}){if(e?.length){let t=this,o=e[0],a="string"==typeof o?t.store.get(t.list.getItemRecordId(o)):o;t.hintRecordId=null,t.updateTypeAheadValue(null,!0),await t.hidePicker(),t.preventFiltering=!0,t.value=a,t.preventFiltering=!1,t.fire("select",{value:a})}}onListItemSelectionNoChange(){this.hidePicker()}onListItemNavigate(e){let{activeIndex:t}=e;if(t>=0){let o=this,{store:a}=o;o.activeRecord=e.record||a.getAt(t),o.activeRecordId=o.activeRecord[a.getKeyProperty()],o.typeAhead?o.updateTypeAheadValue(o.lastManualInput):o.update()}}onPickerHiddenChange({value:e}){const t=this.getInputEl();super.onPickerHiddenChange(...arguments),e&&(t["aria-activedescendant"]=""),t["aria-expanded"]=!e,this.update()}onStoreLoad(e){let t=this,o=t.preStoreLoadValue;null!==o&&(t._value=void 0,t.value=o)}selectFirstListItem(){this.selectListItem(0)}selectLastListItem(){this.selectListItem(this.store.getCount()-1)}selectListItem(e){let t=this;Neo.isNumber(e)||(e=t.activeRecordId?t.store.indexOfKey(t.activeRecordId):0),t.list.selectItem(e)}togglePicker(){let e=this,{picker:t}=e;!1===t?.hidden?t.hidden=!0:e.disabled||e.readOnly||e.doFilter(null)}updateInputValueFromValue(e){let t=null;Neo.isRecord(e)&&(t=e[this.displayField]),this.inputValue=t}updateTypeAhead(e=!1){let t=this,o=d.A.find(t.vdom,{flag:"neo-real-input"});t.typeAhead?o.parentNode.cn[o.index]={tag:"span",cls:["neo-input-field-wrapper"],cn:[{tag:"input",autocomplete:"no",autocorrect:"off",cls:["neo-textfield-input","neo-typeahead-input"],disabled:!0,id:t.getInputHintId(),spellcheck:"false"},o.vdom]}:d.A.replaceVdomChild(t.vdom,o.parentNode.id,o.vdom),!e&&t.update()}updateTypeAheadValue(e=this.lastManualInput,t=!1){let o=this,a=!1,r=o.getInputHintEl(),{displayField:i,store:n}=o;if(o.typeAhead){if(!o.value&&e?.length>0){const t=e.toLocaleLowerCase();a=n.items.find(e=>e[i]?.toLowerCase?.()?.startsWith(t)),a&&r&&(r.value=e+a[i].substr(e.length),o.activeRecord=a,o.activeRecordId=a[n.getKeyProperty()])}!a&&r&&(r.value=o.activeRecord=o.activeRecordId=null),!t&&o.update()}}updateValueFromInputValue(e){let t=this;t.lastManualInput=e,t.programmaticValueChange||(t._value=null,t.list?.selectionModel.deselectAll(),t.filterOnInput(e))}})},14788:(e,t,o)=>{o.d(t,{A:()=>r});var a=o(34821);const r=Neo.setupClass(class extends a.A{static config={className:"Neo.form.field.trigger.Picker",ntype:"trigger-picker",iconCls:"fa fa-caret-down",type:"picker"};onTriggerClick(e){this.field.onPickerTriggerClick()}})},22820:(e,t,o)=>{o.d(t,{A:()=>d});var a=o(67024),r=o(53403),i=o(59651);o(89408);const n=/data((?!(\.[a-z_]\w*\(\)))\.[a-z_]\w*)+/gi,s=Symbol.for("twoWayBinding"),l=/^\w*/,d=Neo.setupClass(class extends a.A{static observable=!0;static config={className:"Neo.state.Provider",ntype:"state-provider",bindings_:null,component:null,data_:null,formulas_:null,parent_:null,stores_:null};construct(e){Neo.currentWorker.isUsingStateProviders=!0,super.construct(e),this.bindings={}}addDataProperty(e,t){let o,a,r=this;Neo.ns(e,!0,r.data),o=r.getDataScope(e),a=o.scope,a[o.key]=t,r.createDataProperties(r.data,"data")}afterSetData(e,t){e&&this.createDataProperties(e,"data")}afterSetFormulas(e,t){e&&this.resolveFormulas(null)}beforeGetData(e){return e||{}}beforeSetParent(e,t){return e||this.getParent()}beforeSetStores(e,t){if(e){let t=this;Object.entries(e).forEach(([o,a])=>{Object.entries(a.listeners||{}).forEach(([e,o])=>{t.bindCallback(o,e,t,a.listeners)}),e[o]=r.A.beforeSetInstance(a)})}return e}callFormatter(e,t=null){return t||(t=this.getHierarchyData()),e.call(this,t)}createBinding(e,t,o,a){let r,i,n=this,s=n.getDataScope(t),l=s.scope,d=s.key;l?.hasOwnProperty(d)?(r=Neo.ns(`${t}.${e}`,!0,n.bindings),r[o]=a):(i=n.getParent(),i?i.createBinding(e,t,o,a):console.error("No state.Provider found with the specified data property",e,d,o))}createBindingByFormatter(e,t,o){let a=this,r=a.getFormatterVariables(t);return r.forEach(r=>{a.createBinding(e,r,o,t)}),r}createBindings(e){Object.entries(e.bind).forEach(([t,o])=>{let a,r=!1;Neo.isObject(o)&&(r=!0,o=o.value),this.isStoreValue(o)||(a=this.createBindingByFormatter(e.id,o,t),r&&(e.bind[t].key=a[0],e[s]=!0))})}createDataProperties(e,t){let o,a,r,i=this,n=Neo.ns(t,!1,i);Object.entries(e).forEach(([s,l])=>{s.startsWith("_")||(o=Object.getOwnPropertyDescriptor(n,s),r=`${t}.${s}`,"object"==typeof o&&"function"==typeof o.set||(a=e[s],i.createDataProperty(s,r,n),n[s]=a),Neo.isObject(l)&&i.createDataProperties(e[s],r))})}createDataProperty(e,t,o=this.data){let a=this;t?.startsWith("data.")&&(t=t.substring(5)),Object.defineProperty(o,e,{get(){let t=o["_"+e];return"Date"===Neo.typeOf(t)&&(t=new Date(t.valueOf())),t},set(r){let i=`_${e}`,n=o[i];o[i]?o[i]=r:Object.defineProperty(o,i,{enumerable:!1,value:r,writable:!0}),Neo.isEqual(r,n)||a.onDataPropertyChange(t||e,r,n)}})}getController(e){return this.component.getController(e)}getData(e,t=this){let o,a=this.getDataScope(e),{scope:r}=a,i=a.key;return r?.hasOwnProperty(i)?r[i]:(o=this.getParent(),o||console.error(`data property '${e}' does not exist.`,t),o.getData(e,t))}getDataScope(e){let t=e,{data:o}=this;return e.includes(".")&&(t=(e=e.split(".")).pop(),o=Neo.ns(e.join("."),!1,o)),{key:t,scope:o}}getFormatterVariables(e){let{environment:t}=Neo.config;if(Neo.isFunction(e)&&(e=e.toString()),"dist/esm"===t||"dist/production"===t){let t=e.match(l)[0],o=new RegExp(`(^|[^\\w.])(${t})(?!\\w)`,"g");e=e.replace(o,"$1data")}let o=e.match(n)||[],a=[];return o.forEach(e=>{e=e.substr(5),i.A.add(a,e)}),a.sort(),a}getHierarchyData(e=this.getPlainData()){let t=this,o=t.getParent();return o?{...o.getHierarchyData(e),...t.getPlainData()}:t.getPlainData()}getPlainData(e=this.data){let t={};return Object.entries(e).forEach(([e,o])=>{"Object"===Neo.typeOf(o)?t[e]=this.getPlainData(o):t[e]=o}),t}getParent(){let{parent:e}=this;return e||this.component.parent?.getStateProvider()||null}getStore(e,t=this){let o,{stores:a}=this;return a?.hasOwnProperty(e)?a[e]:(o=this.getParent(),o||console.error(`store '${e}' not found inside this stateProvider or parents.`,t),o.getStore(e,t))}internalSetData(e,t,o){let a,r,i,n,s=this;Neo.isObject(t)&&!t.isRecord?Object.entries(t).forEach(([t,a])=>{s.internalSetData(`${e}.${t}`,a,o)}):Neo.isObject(e)?Object.entries(e).forEach(([e,t])=>{s.internalSetData(e,t,o)}):(a=s.getDataScope(e),r=a.key,n=a.scope,n?.hasOwnProperty(r)?n[r]=t:o?(i=s.getParent(),i?i.internalSetData(e,t,o):o.addDataProperty(e,t)):s.addDataProperty(e,t))}isStoreValue(e){return Neo.isString(e)&&e.startsWith("stores.")}mergeConfig(e,t){return e.data&&(e.data=Neo.merge(Neo.clone(this.constructor.config.data,!0)||{},e.data)),super.mergeConfig(e,t)}onDataPropertyChange(e,t,o){let a,r,i,n,s=this,l=s.bindings&&Neo.ns(e,!1,s.bindings);l&&(i={},Object.entries(l).forEach(([e,t])=>{a=Neo.getComponent(e)||Neo.get(e),r={},n=a.getStateProvider()||s,i[n.id]||(i[n.id]=n.getHierarchyData()),Object.entries(t).forEach(([e,t])=>{r[e]=n.callFormatter(t,i[n.id])}),a?.set(r)})),s.formulas&&s.resolveFormulas({key:e,id:s.id,oldValue:o,value:t}),s.fire("dataPropertyChange",{key:e,id:s.id,oldValue:o,value:t})}parseConfig(e=this.component){let t=this,o={};e.bind&&(t.createBindings(e),Object.entries(e.bind).forEach(([a,r])=>{Neo.isObject(r)&&(r.key=t.getFormatterVariables(r.value)[0],r=r.value),t.isStoreValue(r)?t.resolveStore(e,a,r.substring(7)):o[a]=t.callFormatter(r)}),e.set(o))}removeBindings(e){Object.entries(this.bindings).forEach(([t,o])=>{delete o[e]}),this.getParent()?.removeBindings(e)}resolveFormulas(e){let t,o,a,r,i,n,s=this,{formulas:l}=s,d=!e;if(l)for([r,n]of(d||e.key&&e.value||console.warn("[StateProvider:formulas] missing key or value",e.key,e.value),Object.entries(l)))t=!0,d||(t=Object.values(n.bind).includes(e.key)),t&&(o=Neo.clone(n.bind),a=n.get,Object.keys(o).forEach((e,t)=>{o[e]=s.getData(o[e])}),i=a(o),isNaN(i)?s.setData(r,null):s.setData(r,i))}resolveStore(e,t,o){let a=this.getStore(o);e[t]!==a&&(e[t]=a)}setData(e,t){this.internalSetData(e,t,this)}setDataAtSameLevel(e,t){this.internalSetData(e,t)}})},32085:(e,t,o)=>{o.d(t,{A:()=>i});var a=o(67024),r=o(59651);const i=Neo.setupClass(class extends a.A{static config={className:"Neo.layout.Base",ntype:"layout-base",appName_:null,containerId:null,containerCls_:null,isLayout:!0,windowId_:null};get container(){let{containerId:e}=this;return Neo.getComponent(e)||Neo.get(e)}afterSetWindowId(e,t){e&&Neo.currentWorker.insertThemeFiles(e,this.__proto__)}applyChildAttributes(e,t){}applyRenderAttributes(e=!1){let t=this,{container:o,containerCls:a}=t,{wrapperCls:i}=o;a&&(o||Neo.logError(t.className+": applyRenderAttributes -> container not yet created",t.containerId),r.A.add(i,a),o[e?"setSilent":"set"]({wrapperCls:i}))}destroy(){let e=this;e.bind&&e.getStateProvider()?.removeBindings(e.id),super.destroy()}getStateProvider(e){return this.container.getStateProvider(e)}initConfig(e,t){super.initConfig(e,t);let o=this;o.bind&&o.container.getStateProvider()?.parseConfig(o)}removeChildAttributes(e,t){}removeRenderAttributes(){let e=this,{container:t,containerCls:o}=e,{wrapperCls:a}=t;o&&(t||Neo.logError(e.className+": removeRenderAttributes -> container not yet created",e.containerId),r.A.remove(a,o),t.wrapperCls=a)}set(e={},t=!1){let{container:o}=this;return o.silentVdomUpdate=!0,super.set(e),o.silentVdomUpdate=!1,t||!o.needsVdomUpdate?Promise.resolve():o.promiseUpdate()}setSilent(e={}){return this.set(e,!0)}})},33460:(e,t,o)=>{o.d(t,{A:()=>l});var a=o(31485),r=o(32085),i=(o(82072),o(59651));Neo.setupClass(class extends r.A{static config={className:"Neo.layout.Fit",ntype:"layout-fit",containerCls:"neo-layout-fit"};applyChildAttributes(e,t){e.ignoreLayout||(e.wrapperCls=i.A.union(e.wrapperCls,"neo-layout-fit-item"))}removeChildAttributes(e,t){if(!e.ignoreLayout){let{wrapperCls:t}=e;i.A.remove(t,"neo-layout-fit-item"),e.wrapperCls=t}}}),Neo.setupClass(class extends r.A{static config={className:"Neo.layout.Grid",ntype:"layout-grid",containerCls:"neo-layout-grid"}});const n=Neo.setupClass(class extends r.A{static alignValues=["center","end","start","stretch",null];static directionValues=["column","column-reverse","row","row-reverse",null];static packValues=["center","end","start",null];static wrapValues=["nowrap","wrap","wrap-reverse"];static config={className:"Neo.layout.Flexbox",ntype:"layout-flexbox",align_:null,direction_:null,gap_:null,pack_:null,prefix:"neo-flex-",wrap_:"nowrap"};afterSetAlign(e,t){t&&this.updateInputValue(e,t,"align")}afterSetDirection(e,t){t&&this.updateInputValue(e,t,"direction")}afterSetGap(e,t){if(!e&&!t)return;let{container:o}=this,{wrapperStyle:a}=o;a.gap=e,o.wrapperStyle=a}afterSetPack(e,t){t&&this.updateInputValue(e,t,"pack")}afterSetWrap(e,t){t&&this.updateInputValue(e,t,"wrap")}applyChildAttributes(e,t){let o=e.wrapperStyle,a=o.flex||e.flex||("stretch"===this.align?1:"0 1 auto");1===a&&(a="1 1 auto"),o.flex=a,e.wrapperStyle=o}applyRenderAttributes(){let e=this,{container:t,prefix:o}=e,{wrapperCls:a}=t;t||Neo.logError("layout.Flexbox: applyRenderAttributes -> container not yet created",e.containerId),i.A.add(a,o+"container"),e.align&&i.A.add(a,o+"align-"+e.align),e.direction&&i.A.add(a,o+"direction-"+e.direction),e.pack&&i.A.add(a,o+"pack-"+e.pack),e.wrap&&i.A.add(a,o+"wrap-"+e.wrap),t.wrapperCls=a}beforeSetAlign(e,t){return this.testInputValue(e,t,"alignValues","align")}beforeSetDirection(e,t){return this.testInputValue(e,t,"directionValues","direction")}beforeSetPack(e,t){return this.testInputValue(e,t,"packValues","pack")}beforeSetWrap(e,t){return this.testInputValue(e,t,"wrapValues","wrap")}removeChildAttributes(e,t){let o=e.wrapperStyle||{};o.flex=e.flex||null,e.wrapperStyle=o}removeRenderAttributes(){let e=this,{container:t,prefix:o}=e,{wrapperCls:a}=t;t||Neo.logError("layout.Flexbox: removeRenderAttributes -> container not yet created",e.containerId),i.A.remove(a,o+"container"),e.align&&i.A.remove(a,o+"align-"+e.align),e.direction&&i.A.remove(a,o+"direction-"+e.direction),e.pack&&i.A.remove(a,o+"pack-"+e.pack),e.wrap&&i.A.remove(a,o+"wrap-"+e.wrap),t.wrapperCls=a}testInputValue(e,t,o,a){let r=this.getStaticConfig(o);return i.A.hasItem(r,e)?e:(Neo.logError(this.containerId,'-> layout: supported values for "'+a+'" are',r),t)}updateInputValue(e,t,o){let{container:a,prefix:r}=this,{wrapperCls:n}=a;a?.rendered&&(i.A.remove(n,r+o+"-"+t),null!==e&&i.A.add(n,r+o+"-"+e),a.wrapperCls=n)}});Neo.setupClass(class extends n{static config={className:"Neo.layout.HBox",ntype:"layout-hbox",direction:"row"};applyChildAttributes(e,t){!e.width&&super.applyChildAttributes(e,t)}}),Neo.setupClass(class extends n{static config={className:"Neo.layout.VBox",ntype:"layout-vbox",direction:"column"};applyChildAttributes(e,t){!e.height&&super.applyChildAttributes(e,t)}}),o(99696);const s=({weight:e=0},{weight:t=0})=>e-t,l=Neo.setupClass(class extends a.A{static config={className:"Neo.container.Base",ntype:"container",baseCls:["neo-container"],itemDefaults_:null,items_:[],layout_:{ntype:"vbox",align:"stretch"},_vdom:{cn:[]}};add(e){let t=this;return t.insert(t.items?t.items.length:0,e)}afterSetAppName(e,t){let o=this;super.afterSetAppName(e,t),e&&o.items&&o.items.forEach(t=>{Neo.isString(t)||(t.appName=e)}),e&&o.layout&&(o.layout.appName=e)}afterSetLayout(e,t){this.rendered&&(t?.removeRenderAttributes(),e?.applyRenderAttributes(),this.items.forEach((o,a)=>{t?.removeChildAttributes(o,a),e?.applyChildAttributes(o,a)})),t?.destroy?.()}afterSetMounted(e,t){if(void 0!==t){super.afterSetMounted(e,t);for(let t=0,{items:o}=this,{length:a}=o;t<a;t++)o[t].vdom.removeDom||(o[t].mounted=e)}}afterSetNeedsVdomUpdate(e,t){e||this.items?.forEach(e=>{"string"!=typeof e&&(e._needsVdomUpdate=!1,e.afterSetNeedsVdomUpdate?.(!1,!0))})}afterSetRendering(e,t){if(void 0!==t){let{items:t}=this,o=0,a=t.length;for(;o<a;o++)t[o].vdom.removeDom||(t[o].rendering=e)}}afterSetTheme(e,t){super.afterSetTheme(e,t),e&&this.items?.forEach(t=>{Neo.isString(t)||(t.theme=e)})}afterSetWindowId(e,t){super.afterSetWindowId(e,t);let{layout:o}=this;e&&this.items?.forEach(t=>{Neo.isString(t)||(t.windowId=e)}),e&&o&&!Neo.isString(o)&&(o.windowId=e)}beforeSetItems(e,t){if("Object"===Neo.typeOf(e)){let t,o,a=[];for(const r in e)o=e[r],o.reference=r,a.push(o),t||="weight"in o;t&&a.sort(s),e=a}return e}beforeSetLayout(e,t){return this.createLayout(e)}createItem(e,t){let o,r,i,n=this,s={appName:n.appName,parentId:n.id,parentIndex:t,windowId:n.windowId},l={...n.itemDefaults};switch(l&&(e.module&&delete l.ntype,e.ntype&&delete l.module),Neo.typeOf(e)){case"NeoClass":e=Neo.create({theme:e.config.theme||n.theme,...l,module:e,...s});break;case"NeoInstance":i=e.parent,i&&i!==n&&(i.remove?.(e,!1),delete e.vdom.removeDom,e.controller||n.getController()||!i.getController()||(e.controller={parent:i.getController()})),e.set(s),e.getStateProvider()?.parseConfig(e);break;case"Object":l&&Neo.assignDefaults(e,l),e.module||e.ntype||e.className||(e.module=a.A),r=e.module,o=r&&!r.isClass&&Neo.isFunction(r),r&&!o&&(e.className=r.prototype.className,e.theme=l.theme||r.config.theme||n.theme),"this"===e.handlerScope&&(e.handlerScope=n,"String"===Neo.typeOf(e.handler)&&"Function"===Neo.typeOf(n[e.handler])&&(e.handler=n[e.handler])),Object.assign(e,s),o?e.vdom=Object.assign(e.vdom||{},{removeDom:!0}):e=Neo[e.className?"create":"ntype"](e);break;case"String":e=Neo.create({module:a.A,vdom:{html:e},...s})}return e}createItems(){let e,t=this,o=t._items,a=t.getVdomItemsRoot(),{layout:r}=t;a.cn=[],o.forEach((i,n)=>{o[n]=i=t.createItem(i,n),i instanceof Neo.core.Base?(r?.applyChildAttributes(i,n),e=i.createVdomReference()):e=i.vdom,a.cn.push(e)}),t.updateDepth=-1,t.update(),t.fire("itemsCreated",{id:t.id,items:o})}createLayout(e){if(e){let t=this,{appName:o,id:a,windowId:i}=t;e instanceof r.A&&e.isLayout?Object.assign(e,{appName:o,containerId:a,windowId:i}):(e=t.parseLayoutClass(e),Object.assign(e,{appName:o,containerId:a,windowId:i}),e=Neo.ntype(e))}return e}destroy(e=!1,t=!1){this.layout?.destroy(),this.items?.forEach(e=>{e.destroy?.(!1,!0)}),super.destroy(e,t)}getItem(e,t=this.items){let o,a,r=0,i=t.length;for(;r<i;r++){if(a=t[r],a.reference===e)return a;if(a.items&&(o=this.getItem(e,a.items),o))return o}return null}getVdomItemsRoot(){return this.getVdomRoot()}indexOf(e){let t=this,o=0,a=t.items?.length||0;for(Neo.isString(e)||(e=e.id);o<a;o++)if(t.items[o].id===e)return o;return-1}insert(e,t,o=!1){let a,r,i,n=this,{items:s}=n;if(Array.isArray(t)){for(a=0,r=t.length,i=[];a<r;a++)i.unshift(n.insert(e,t[r-1-a],!0));t=i}else t=n.createItem(t,e),n.layout.applyChildAttributes(t,e,!0),s.splice(e,0,t),n.items=s,n.getVdomItemsRoot().cn.splice(e,0,t.createVdomReference());return o||(n.updateDepth=-1,n.promiseUpdate().then(()=>{n.fire("insert",{index:e,item:t})})),t}async loadItems({options:e={},url:t}){let a=await fetch(t,e),r=await a.json();return r.modules?.length>0&&await Promise.all(r.modules.map(e=>(e.startsWith("http")||(e=("development"===Neo.config.environment?"../../":"../../../../")+e),o(5387)(e)))),r.items}mergeConfig(...e){let t,o=this,a=super.mergeConfig(...e);return a.itemDefaults&&(o._itemDefaults=Neo.clone(a.itemDefaults,!0,!0),delete a.itemDefaults),a.items&&(t=o.constructor.config.items,"Object"===Neo.typeOf(a.items)?Neo.isArray(t)?o.items=Neo.clone(a.items,!0,!0):o.items=Neo.merge(Neo.clone(t),a.items):o._items=Neo.clone(a.items,!0,!0),delete a.items),a}moveTo(e,t){let o=this.items[e];return e!==t&&this.switchItems(t,e),o}onConstructed(){let e=this;e._layout=e.createLayout(e.layout),e._layout?.applyRenderAttributes(),super.onConstructed(),e.parseItemConfigs(e.items),e.createItems()}parseLayoutClass(e){return Neo.isObject(e)?e.ntype.startsWith("layout-")||(e.ntype=`layout-${e.ntype}`):e={ntype:e.startsWith("layout-")?e:`layout-${e}`},e}remove(e,t=!0,o=!1){let a=[...this.items],r=0,i=a.length;for(;r<i;r++)if(a[r].id===e.id)return this.removeAt(r,t,o)}removeAll(e=!0,t=!1){let o=this;o.items.forEach(t=>{e?t.destroy(!0,!0):t.mounted=!1}),o.items=[],o.getVdomItemsRoot().cn=[],t&&!e||o.update()}removeAt(e,t=!0,o=!1){let a,r=this,{items:i}=r;if(!(e>=i.length))return a=i[e],i.splice(e,1),r.getVdomItemsRoot().cn.splice(e,1),r.updateDepth=2,!o&&r.update(),t?(a.destroy(!0,o),null):(r.layout?.removeChildAttributes(a),a.mounted=!1,a);Neo.warn("Container.removeAt: index >= items.length. "+r.id)}removeLast(e=!0,t=!1){this.removeAt(this.items.length-1,e,t)}replaceAt(e,t,o=!0,a=!1){this.removeAt(e,o,!0),this.insert(e,t,a)}switchItems(e,t){let o=this,a=Neo.isNumber(e)?e:o.indexOf(e),r=Neo.isNumber(t)?t:o.indexOf(t);i.A.move(o.items,r,a),i.A.move(o.getVdomItemsRoot().cn,r,a),o.updateDepth=2,o.update()}})},40729:(e,t,o)=>{o.d(t,{A:()=>r});var a=o(31485);const r=Neo.setupClass(class extends a.A{static config={className:"Neo.component.wrapper.AmChart",ntype:"am-chart",chartConfig_:null,chartData_:null,chartType:"XYChart",combineSeriesTooltip:!1,dataPath:"",package:"am4charts",style:{height:"100%"},_vdom:{style:{position:"relative"},cn:[{style:{position:"absolute",height:"100%",width:"100%"},cn:[{}]}]}};afterSetChartData(e,t){let{appName:o,dataPath:a,id:r,windowId:i}=this;e&&Neo.main.addon.AmCharts.updateData({appName:o,data:e,dataPath:a,id:r,windowId:i})}afterSetMounted(e,t){let o=this,{appName:a,id:r,windowId:i}=o,n={appName:a,id:r,windowId:i};!1===e&&void 0!==t&&Neo.main.addon.AmCharts.destroy(n),super.afterSetMounted(e,t),e&&(n={...n,combineSeriesTooltip:o.combineSeriesTooltip,config:o.chartConfig,package:o.package,type:o.chartType},o.chartData&&(n.data=o.chartData,n.dataPath=o.dataPath),o.timeout(50).then(()=>{Neo.main.addon.AmCharts.create(n).then(o.onChartMounted)}))}beforeSetChartConfig(e,t){return e||console.error("wrapper.AmChart defined without a chartConfig",this.id),this.parseItemConfigs(e),e}destroy(...e){let{appName:t,id:o,windowId:a}=this;Neo.main.addon.AmCharts.destroy({appName:t,id:o,windowId:a}),super.destroy(...e)}getVdomRoot(){return this.vdom.cn[0].cn[0]}getVnodeRoot(){return this.vnode.childNodes[0].childNodes[0]}onChartMounted(){}})},41613:(e,t,o)=>{o.d(t,{A:()=>r});var a=o(34821);const r=Neo.setupClass(class extends a.A{static config={className:"Neo.form.field.trigger.SpinUpDown",ntype:"trigger-spinupdown",baseCls:["neo-field-trigger","neo-spin-buttons"],spinButtonDownIconCls:"fa fa-chevron-down",spinButtonUpIconCls:"fa fa-chevron-up",type:"spinupdown"};onConstructed(){let e=this;e.vdom.cn=[{cls:["neo-spin-button","neo-up",...e.spinButtonUpIconCls.split(" ")]},{cls:["neo-spin-button","neo-down",...e.spinButtonDownIconCls.split(" ")]}],e.update(),super.onConstructed()}onTriggerClick(e){let t=e.path[0].cls.join(" ");t.includes("neo-down")?this.field.onSpinButtonDownClick():t.includes("neo-up")&&this.field.onSpinButtonUpClick()}})},53693:(e,t,o)=>{o.d(t,{A:()=>r});var a=o(34821);const r=Neo.setupClass(class extends a.A{static config={className:"Neo.form.field.trigger.SpinUp",ntype:"trigger-spinup",iconCls:"fa fa-chevron-right",type:"spinup"};onTriggerClick(e){this.field.onSpinButtonUpClick()}})},55547:(e,t,o)=>{o.d(t,{A:()=>r});var a=o(33460);const r=Neo.setupClass(class extends a.A{static config={className:"Neo.container.Viewport",ntype:"viewport",applyBodyCls:!0,autoMount:!0,baseCls:["neo-viewport"],monitorSize_:!1};afterSetMounted(e,t){super.afterSetMounted(e,t);let o=this;e&&o.monitorSize&&o.addDomListeners([{resize:o.onDomResize,scope:o}])}onConstructed(){super.onConstructed();let{appName:e,windowId:t}=this;this.applyBodyCls&&Neo.main.DomAccess.applyBodyCls({appName:e,cls:["neo-body-viewport"],windowId:t})}onDomResize(e){this.fire("resize",e)}})},58918:(e,t,o)=>{o.d(t,{A:()=>n});var a=o(70286),r=o(37478),i=o(59651);const n=Neo.setupClass(class extends r.A{static labelPositions=["left","top"];static config={className:"Neo.form.field.CheckBox",ntype:"checkboxfield",baseCls:["neo-checkboxfield"],checked_:!1,error_:null,errorPositionAbsolute_:!1,errorTextGroupRequired:e=>`Please check at least one item of the group: ${e.name}`,errorTextRequired:"Required",groupRequired_:!1,hideLabel_:!1,iconCls:["far","fa-square"],iconClsChecked:["fas","fa-check"],inputType_:"checkbox",labelBaseCls:["neo-checkbox-label"],labelCls_:[],labelId_:null,labelIdCls_:[],labelIdSeparator_:" · ",labelPosition_:"left",labelText_:"LabelText",labelWidth_:150,required_:!1,showErrorTexts_:!0,uncheckedValue:!1,useAlertState_:!1,value:!0,valueLabelText_:null,_vdom:{cn:[{tag:"label",cls:["neo-checkbox-label"],cn:[{tag:"span",cls:[]},{tag:"input",cls:["neo-checkbox-input"]},{tag:"i",cls:["neo-checkbox-icon"]},{tag:"span",cls:["neo-checkbox-value-label"]}]},{cls:["neo-error-wrapper"],removeDom:!0,cn:[{cls:["neo-error"]}]}]}};clean=!0;construct(e){super.construct(e);let t=this;t.addDomListeners({change:t.onInputValueChange,scope:t})}afterSetChecked(e,t){let o=this,a=o.vdom.cn[0],r=a.cn[2].cls,n=e?o.iconClsChecked:o.iconCls,s=e?o.iconCls:o.iconClsChecked;t&&(o.clean=!1),o.validate(),a.cn[1].checked=e,i.A.removeAdd(r,s,n),o.update(),void 0!==t&&o.fireChangeEvent(o.getSubmitValue(),o.getOldSubmitValue())}afterSetError(e,t){this.updateError(e)}afterSetErrorPositionAbsolute(e,t){let o=this.vdom.cn[1].cn[0].cls;i.A[e?"add":"remove"](o,"neo-absolute"),this.update()}afterSetGroupRequired(e,t){void 0!==t&&this.validate(!1)}afterSetHideLabel(e,t){this.vdom.cn[0].cn[0].removeDom=e,this.update()}afterSetId(e,t){let o=this,a=o.vdom.cn[0];a.cn[0].id=o.getLabelId(),a.cn[1].id=o.getInputElId(),a.cn[2].id=o.getIconElId(),a.cn[3].id=o.getValueLabelId(),super.afterSetId(e,t)}afterSetInputType(e,t){this.changeInputElKey("type",e)}afterSetLabelCls(e,t){let o=this.vdom.cn[0].cn[0].cls;i.A.remove(o,t),i.A.add(o,e),this.update()}afterSetLabelPosition(e,t){let{cls:o}=this;i.A.remove(o,"neo-label-"+t),i.A.add(o,"neo-label-"+e),this.cls=o}afterSetLabelText(e,t){let o=this;o.labelId&&(e=`<span class="${o.labelIdCls.join(",")}">${o.labelId}</span>${o.labelIdSeparator+e}`),o.vdom.cn[0].cn[0].html=e,o.update()}afterSetLabelWidth(e,t){let o=this;o.hideLabel||(o.vdom.cn[0].cn[0].width=e,o.update())}afterSetRequired(e,t){void 0!==t&&this.validate(!1)}afterSetShowErrorTexts(e,t){void 0!==t&&this.validate(!1)}afterSetUseAlertState(e,t){let{cls:o}=this;i.A.toggle(o,"neo-use-alert-state",e),this.cls=o}afterSetValue(e,t){this.changeInputElKey("value",e)}afterSetValueLabelText(e,t){let o=this.vdom.cn[0].cn[3],a=!!e;a&&(o.html=e),o.removeDom=!a,this.update()}beforeSetGroupRequired(e,t){return e&&this.required?(console.warn("Do not use groupRequired & required at the same time. Switching to required.",this),!1):e}beforeSetLabelCls(e,t){return i.A.union(e||[],this.labelBaseCls)}beforeSetLabelPosition(e,t){return this.beforeSetEnumValue(e,t,"labelPosition")}beforeSetRenderName(e,t){return!0}getGroupValue(){let e,t=this.getClosestForm(),o=this.getPath(),r=[];return o&&(e=a.A.find({path:o}),e.forEach(e=>{e.checked&&e.getClosestForm()===t&&i.A.add(r,e.value)})),r}getIconElId(){return`${this.id}__icon`}getInputEl(){return this.vdom.cn[0].cn[1]}getInputElId(){return`${this.id}__input`}getLabelId(){return`${this.id}__label`}getOldSubmitValue(){let e=this;return e.checked?e.uncheckedValue:e.value}getOldValue(){return this.getOldSubmitValue()}getSubmitValue(){let e=this;return e.checked?e.value:e.uncheckedValue}getValueLabelId(){return`${this.id}__value-label`}isEmptyAndRequired(){return!this.validate(!1)}isValid(){return this.validate(!0),!this.error&&super.isValid()}onInputValueChange(e){let t=this,o=e.target.checked;t.vnode.childNodes[0].childNodes[t.hideLabel?0:1].attributes.checked=`${o}`,t.checked=o,t.fireUserChangeEvent(t.getSubmitValue(),t.getOldSubmitValue())}updateError(e,t=!1){let o,a,r=this,{cls:n}=r,s=e&&r.showErrorTexts;r.clean&&!r.mounted||(r._error=e,i.A[e?"add":"remove"](n,"neo-invalid"),r.cls=n,a=r.vdom.cn[1],o=a.cn[0],s?o.html=e:delete o.html,a.removeDom=!s,!t&&r.update())}validate(e=!0){let t,o,r=this,{name:i}=r,n=!0;if(e||(r.clean=!1),r.groupRequired){for(t of(n=!1,o=a.A.find({ntype:r.ntype,name:i}),o))if(t.checked){n=!0;break}for(t of o)t.id!==r.id&&(r.clean||(t.clean=!1),t[r.clean?"_error":"error"]=n?null:t.errorTextGroupRequired({name:i}));n||(r._error=r.errorTextGroupRequired({name:i}))}else r.required&&!r.checked&&(r._error=r.errorTextRequired,n=!1);return n&&(r._error=null),!r.clean&&r.updateError(r._error,e),!!n&&super.validate(e)}})},59447:(e,t,o)=>{o.d(t,{A:()=>l});var a=o(53403),r=o(31485),i=o(12103),n=o(59651),s=o(30759);const l=Neo.setupClass(class extends r.A{static config={className:"Neo.list.Base",ntype:"list",animate_:!1,autoDestroyStore:!0,baseCls:["neo-list"],disabledField:"disabled",disableSelection_:!1,displayField:"name",draggable_:!1,dragZone:null,dragZoneConfig:null,focusIndex_:null,headerlessSelectedIndex_:null,highlightFilterValue:!0,itemCls:"neo-list-item",itemHeight_:null,itemTagName:"li",itemWidth_:null,itemsFocusable:!0,keepFocusIndex:!1,keys:{},pluginAnimateConfig:null,selectedIndex_:null,selectionModel_:null,selectOnFocus:!1,silentSelect:!1,store_:null,useCheckBoxes_:!1,useHeaders_:!1,useWrapperNode_:!1,_vdom:{tag:"ul",cn:[]}};itemRole=null;navigator={};scrollIntoViewOnFocus=!0;construct(e){super.construct(e);let t=this;t.useHeaders&&(t.scrollIntoViewOnFocus=!1),t.addDomListeners({click:t.onClick,scope:t})}afterSetAnimate(e,t){e&&!this.getPlugin("list-animate")&&o.e(5349).then(o.bind(o,5349)).then(e=>{let t=this,o=t.plugins||[];o.push({module:e.default,...t.pluginAnimateConfig}),t.plugins=o})}afterSetDisableSelection(e,t){e&&this.rendered&&this.selectionModel?.deselectAll()}afterSetDraggable(e,t){let a=this;e&&!a.dragZone&&o.e(99760).then(o.bind(o,99760)).then(e=>{a.dragZone=Neo.create({module:e.default,appName:a.appName,owner:a,windowId:a.windowId,...a.dragZoneConfig})})}afterSetFocusIndex(e,t){null!==e&&this.updateItemFocus(e)}afterSetHeaderlessSelectedIndex(e,t){let o=this;Neo.isNumber(e)?o.selectedIndex=o.store.getCount()?o.getSelectedIndex(e):null:Neo.isNumber(t)&&(o.selectedIndex=null)}afterSetMounted(e,t){let o=this;!e&&o.hasNavigator&&(Neo.main.addon.Navigator.unsubscribe(o.navigator),o.hasNavigator=!1,o.selectedIndex=null),e&&(o.hasNavigator||(o.navigator={appName:o.appName,autoClick:o.selectOnFocus,id:o.id,keepFocusIndex:o.keepFocusIndex,selector:`.${o.itemCls}:not(.neo-disabled,.neo-list-header)`,windowId:o.windowId,...o.navigator},o.hasNavigator=!0),Neo.main.addon.Navigator.subscribe(o.navigator)),super.afterSetMounted(e,t)}afterSetSelectedIndex(e,t){let o=this,{selectionModel:a}=o;Neo.isNumber(e)?(a?.selectAt(e),o.headerlessSelectedIndex=o.getHeaderlessIndex(e)):Neo.isNumber(t)&&(a.deselectAll(),o.headerlessSelectedIndex=null)}afterSetSelectionModel(e,t){this.rendered&&e.register(this)}afterSetStore(e,t){e?.on({filter:"onStoreFilter",load:"onStoreLoad",recordChange:"onStoreRecordChange",sort:"onStoreSort",scope:this}),e?.getCount()>0&&this.onStoreLoad()}afterSetUseCheckBoxes(e,t){let{cls:o}=this;n.A.toggle(o,"neo-use-checkicons",!!e),this.cls=o}afterSetUseHeaders(e,t){if(e){let e=this;e.vdom.tag="dl",e.itemTagName="dd"}}afterSetUseWrapperNode(e,t){let o=this,{cls:a,wrapperCls:r}=o;n.A[e?"add":"remove"](a,"neo-use-wrapper-node"),n.A[e?"add":"remove"](r,"neo-list-wrapper"),o.wrapperCls=r,o.cls=a}afterSetWindowId(e,t){super.afterSetWindowId(e,t);let{navigator:o}=this;o&&(o.windowId=e)}beforeSetSelectionModel(e,t){return t?.destroy(),a.A.beforeSetInstance(e,i.A)}beforeSetStore(e,t){return t?.destroy(),a.A.beforeSetInstance(e,s.A)}createItem(e,t){let o,a,r=this,i=[r.itemCls],s=null!==r.itemHeight,l=null!==r.itemWidth,d=r.useHeaders&&e.isHeader,c=r.createItemContent(e,t),u=r.getItemId(e[r.getKeyProperty()]),{selectionModel:p}=r,h=!r.disableSelection&&p?.isSelected(u);switch(d&&i.push("neo-list-header"),h&&i.push(p.selectedCls),e.cls&&n.A.add(i,e.cls),e[r.disabledField]&&i.push("neo-disabled"),o={id:u,tag:d?"dt":r.itemTagName,"aria-selected":h,cls:i},r.itemsFocusable&&(o.tabIndex=-1),(e.hidden||c.removeDom)&&(o.removeDom=!0),r.itemRole&&(o.role=r.itemRole),Neo.typeOf(c)){case null:return null;case"Array":o.cn=c,a=!0,c.forEach(e=>{e.removeDom||(a=!1)}),a&&(o.removeDom=!0);break;case"Object":c.cls&&(n.A.add(o.cls,c.cls),delete c.cls),Object.assign(o,c);break;case"Number":case"String":o.html=c}return(s||l)&&(o.style=o.style||{},s&&!o.hasOwnProperty("height")&&(o.style.height=`${r.itemHeight}px`),l&&!o.hasOwnProperty("width")&&(o.style.width=`${r.itemWidth}px`)),o}createItemContent(e,t){let o,a=this,r=e[a.displayField];return a.highlightFilterValue&&(o=a.store.getFilter(a.displayField),o&&null!==o.value&&""!==o.value&&(r=r.replace(new RegExp(o.value,"gi"),function(e){return'<span class="neo-highlight-search">'+e+"</span>"}))),r}createItems(e=!1){let t,o=this,{headerlessSelectedIndex:a}=o,r=o.getVdomRoot();Neo.isNumber(a)&&!Neo.isNumber(o.selectedIndex)&&o.afterSetHeaderlessSelectedIndex(a,null),o.animate&&!o.getPlugin("list-animate")||(r.cn=[],o.store.items.forEach((e,a)=>{t=o.createItem(e,a),t&&r.cn.push(t)}),!e&&o.promiseUpdate().then(()=>{o.fire("createItems")}))}destroy(...e){let t=this;t.selectionModel?.destroy(),t.autoDestroyStore&&t.store?.destroy(),super.destroy(...e)}focus(e=this.id){this.mounted&&Neo.main.addon.Navigator.navigateTo([e,this.navigator])}getSelectedIndex(e){let t=0,o=0,a=this.store.items,r=e;if(a.length<1)return null;for(;o<=r;o++)a[o].isHeader&&(t++,r++);return e+t}getHeaderlessIndex(e){let t=0,o=0,a=this.store.items;for(;o<e;o++)a[o].isHeader||t++;return t}getItemId(e){return`${this.id}__${e.isRecord?e[this.getKeyProperty()]:e}`}getItemRecordId(e){let t=e.split("__")[1],{model:o}=this.store,a=o?.getField(this.getKeyProperty()),r=a?.type?.toLowerCase();return"int"!==r&&"integer"!==r||(t=parseInt(t)),t}getKeyProperty(){return this.store.keyProperty||this.store.model.keyProperty}onClick(e){let t,o=this;if(e.path[0].id===o.id)o.onContainerClick(e);else for(t of e.path)if(t.cls.includes(o.itemCls)){o.onItemClick(t,e);break}}onConstructed(){super.onConstructed(),this.selectionModel?.register(this)}onContainerClick(e){this.fire("containerClick",e)}onItemClick(e,t){let o=this,a=o.store.get(o.getItemRecordId(e.id));t.record=a,o.fire("itemClick",{record:a})}onStoreFilter(){this.createItems()}onStoreLoad(){let e=this;!e.mounted&&e.rendering?e.on("mounted",()=>{e.createItems()},e,{once:!0}):e.createItems()}onStoreRecordChange(e){let t=this,{index:o}=e;o>-1&&(t.vdom.cn[o]=t.createItem(e.record,o),t.update())}onStoreSort(e){this.createItems()}selectItem(e){let t=this;t.disableSelection||(Neo.isNumber(e)?t.selectionModel?.selectAt(e):e&&t.selectionModel?.selectAt(t.store.indexOf(e)))}async updateItemFocus(e){let t=this,{navigateTo:o}=Neo.main.addon.Navigator;t.mounted?Neo.isNumber(e)?o([t.getHeaderlessIndex(e),t.navigator]):e&&o([t.getItemId(e[t.getKeyProperty()]),t.navigator]):t.on("mounted",()=>{e===t.focusIndex&&t.updateItemFocus(t.focusIndex)},t,{once:!0})}})},60063:(e,t,o)=>{o.r(t),o.d(t,{onStart:()=>N});var a=o(55547),r=o(40729);const i=Neo.setupClass(class extends r.A{static config={className:"Colors.view.BarChartComponent",baseCls:["colors-bar-chart"],chartType:"XYChart",chartConfig:{series:[{type:"ColumnSeries",columns:{propertyFields:{fill:"color",stroke:"color"}},dataFields:{categoryX:"color",valueY:"count"}}],xAxes:[{type:"CategoryAxis",dataFields:{category:"color",title:{text:"Colors"}}}],yAxes:[{type:"ValueAxis",title:{text:"Occurrences in grid cells"}}]}}});var n=o(58918),s=o(13316),l=o(93486),d=o(80338);const c=Neo.setupClass(class extends d.A{static config={className:"Colors.view.HeaderToolbar",cls:["colors-header-toolbar"],layout:{ntype:"hbox",align:"center",pack:"start",wrap:"wrap"},items:[{bind:{disabled:e=>e.isUpdating},handler:"onStartButtonClick",text:"Start"},{bind:{disabled:e=>!e.isUpdating},handler:"onStopButtonClick",text:"Stop"},{module:l.A,bind:{value:e=>e.amountColors},clearable:!1,editable:!1,labelPosition:"inline",labelText:"# Colors",listeners:{change:"onChangeAmountColors"},maxValue:10,minValue:3,width:90},{module:s.A,bind:{value:e=>String(e.amountColumns)},clearable:!1,editable:!1,labelPosition:"inline",labelText:"# Columns",listeners:{change:"onChangeAmountColumns"},store:["5","10","15","20","26"],width:90},{module:s.A,bind:{value:e=>String(e.amountRows)},clearable:!1,editable:!1,labelPosition:"inline",labelText:"# Rows",listeners:{change:"onChangeAmountRows"},store:["5","10","15","20"],width:90},{ntype:"component",cls:["header-spacer"],flex:1},{handler:"onDetachGridButtonClick",iconCls:"fas fa-table",reference:"detach-grid-button",text:"Grid"},{handler:"onDetachPieChartButtonClick",iconCls:"fas fa-chart-pie",reference:"detach-pie-chart-button",text:"Pie Chart"},{handler:"onDetachBarChartButtonClick",iconCls:"fas fa-chart-column",reference:"detach-bar-chart-button",text:"Bar Chart"},{module:n.A,bind:{checked:e=>e.openWidgetsAsPopups},hideLabel:!0,listeners:{change:"onChangeOpenWidgetsAsPopups"},showValueLabel:!0,valueLabelText:"Popups"}]}}),u=Neo.setupClass(class extends r.A{static config={className:"Colors.view.PieChartComponent",baseCls:["colors-pie-chart"],chartType:"PieChart",chartConfig:{series:[{type:"PieSeries",colors:{list:["#1c60a0","#206db6","#247acb","#2e87da","#4493de","#59a0e2","#6face6","#85b9ea","#9bc5ed","#b0d2f1"]},dataFields:{category:"color",value:"count"}}]}}});var p=o(4742);const h=Neo.setupClass(class extends p.A{static config={className:"Colors.view.GridContainer",amountColumns_:null,amountRows_:null,bind:{amountColumns:e=>e.amountColumns,amountRows:e=>e.amountRows,store:"stores.colors"},cls:["colors-grid-container"]};afterSetAmountColumns(e,t){if(Neo.isNumber(e)){let t,o="A".charCodeAt(0),a=0,r=[{cellAlign:"right",dataField:"id",text:"#",type:"index",width:40}];for(;a<e;a++)t=String.fromCharCode(o+a),r.push({dataField:"column"+t,renderer:"up.colorRenderer",text:t});this.columns=r}}afterSetAmountRows(e,t){this.store?.clear()}colorRenderer({value:e}){return{cls:["color-"+e],html:" "}}});var m=o(10419);const g=Neo.setupClass(class extends m.A{static config={className:"Colors.view.ViewportController"};connectedApps=[];intervalId=null;widgetIndexMap={"bar-chart":3,"pie-chart":2,grid:1};async createBrowserWindow(e){let t,o=this,{windowId:a}=o,{config:r,windowConfigs:i}=Neo,{environment:n}=r,s=parseInt(Object.keys(i)[0]),{basePath:l}=i[s];if("development"!==n&&(l=`${l+n}/`),t=`${l}apps/colors/childapps/widget/index.html?name=${e}`,o.getStateProvider().getData("openWidgetsAsPopups")){let r=o.getReference(e),i=await Neo.Main.getWindowData({windowId:a}),n=await o.component.getDomRect(r.vdom.id),{height:s,left:l,top:d,width:c}=n;s-=50,l+=i.screenLeft,d+=i.outerHeight-i.innerHeight+i.screenTop,await Neo.Main.windowOpen({url:t,windowFeatures:`height=${s},left=${l},top=${d},width=${c}`,windowName:e})}else await Neo.Main.windowOpen({url:t,windowName:"_blank"})}destroy(...e){this.intervalId&&clearInterval(this.intervalId),super.destroy(...e)}async onAppConnect(e){if("ColorsWidget"===e.appName){let t=this,o=Neo.apps[e.appName].mainView,{windowId:a}=e,r=await Neo.Main.getByPath({path:"document.URL",windowId:a}),i=new URL(r).searchParams.get("name"),n=t.getReference(i);t.connectedApps.push(i),t.getReference(`detach-${i}-button`).disabled=!0,o.add(n)}}async onAppDisconnect(e){let t=this,{appName:o,windowId:a}=e,r=await Neo.Main.getByPath({path:"document.URL",windowId:a}),i=new URL(r).searchParams.get("name"),n=t.getReference(i);"ColorsWidget"===o?(t.component.insert(t.widgetIndexMap[i],n),t.getReference(`detach-${i}-button`).disabled=!1):"Colors"===o&&Neo.Main.windowClose({names:t.connectedApps,windowId:a})}onChangeAmountColors(e){this.updateDataProperty(e,"amountColors",e.value)}onChangeAmountColumns(e){this.updateDataProperty(e,"amountColumns",parseInt(e.value.name))}onChangeAmountRows(e){this.updateDataProperty(e,"amountRows",parseInt(e.value.name))}onChangeOpenWidgetsAsPopups(e){this.setState("openWidgetsAsPopups",e.value)}onConstructed(){super.onConstructed();let e=this;Neo.currentWorker.on({connect:e.onAppConnect,disconnect:e.onAppDisconnect,scope:e})}onComponentConstructed(){super.onComponentConstructed(),this.updateWidgets()}async onDetachBarChartButtonClick(e){await this.createBrowserWindow("bar-chart")}async onDetachGridButtonClick(e){await this.createBrowserWindow("grid")}async onDetachPieChartButtonClick(e){await this.createBrowserWindow("pie-chart")}onStartButtonClick(e){let t=this;t.setState({isUpdating:!0}),t.intervalId||(t.intervalId=setInterval(()=>{t.updateWidgets()},1e3/60))}onStopButtonClick(e){let t=this;t.setState({isUpdating:!1}),t.intervalId&&(clearInterval(t.intervalId),t.intervalId=null)}updateCharts(e){this.getReference("bar-chart").chartData=e,this.getReference("pie-chart").chartData=e}updateDataProperty(e,t,o){let a=this.getStateProvider();a.setData(t,o),null===e.oldValue||a.getData("isUpdating")||this.updateWidgets()}updateGrid(e){let t=this.getReference("grid"),{store:o}=t;o.getCount()?t.bulkUpdateRecords(e):this.getStateProvider().getData("amountRows")===e.length&&(o.data=e)}async updateWidgets(){let e,t=this,o=t.getStateProvider();if(Colors.backend){if(e=await Colors.backend.ColorService.read({amountColors:o.getData("amountColors"),amountColumns:o.getData("amountColumns"),amountRows:o.getData("amountRows")}),!t.isDestroyed){let{data:o}=e;t.updateGrid(o.tableData),t.updateCharts(o.summaryData)}}else await t.timeout(50),t.updateWidgets()}});var f=o(35739);const y=Neo.setupClass(class extends f.A{static config={className:"Colors.model.Color"};construct(e){super.construct(e);let t="A".charCodeAt(0),o=0,a=[{name:"id",type:"String"}];for(;o<26;o++)a.push({name:"column"+String.fromCharCode(t+o),type:"String"});this.fields=a}});var v=o(30759);const b=Neo.setupClass(class extends v.A{static config={className:"Colors.store.Colors",model:y}});var C=o(22820);const w=Neo.setupClass(class extends C.A{static config={className:"Colors.view.ViewportStateProvider",data:{amountColors:10,amountColumns:10,amountRows:10,isUpdating:!1,openWidgetsAsPopups:!0},stores:{colors:{module:b}}}}),S=Neo.setupClass(class extends a.A{static config={className:"Colors.view.Viewport",cls:["colors-viewport"],controller:g,layout:{ntype:"vbox",align:"stretch"},items:[{module:c,flex:"none"},{module:h,reference:"grid"},{module:u,flex:1.3,reference:"pie-chart"},{module:i,flex:1.3,reference:"bar-chart"}],stateProvider:w}}),N=()=>Neo.app({mainView:S,name:"Colors"})},67134:(e,t,o)=>{o.d(t,{A:()=>r});var a=o(34821);const r=Neo.setupClass(class extends a.A{static config={className:"Neo.form.field.trigger.SpinDown",ntype:"trigger-spindown",align:"start",iconCls:"fa fa-chevron-left",type:"spindown"};onTriggerClick(e){this.field.onSpinButtonDownClick()}})},69933:(e,t,o)=>{o.d(t,{A:()=>r});var a=o(31485);const r=Neo.setupClass(class extends a.A{static config={className:"Neo.component.Label",ntype:"label",baseCls:["neo-label"],text_:"",_vdom:{tag:"label",draggable:!1}};afterSetText(e,t){this.vdom.html=e,this.update()}})},75632:(e,t,o)=>{o.d(t,{A:()=>r});var a=o(67024);o(89408);const r=Neo.setupClass(class extends a.A{static observable=!0;static config={className:"Neo.util.HashHistory",singleton:!0,maxItems:50,stacks:{}};first(e){return this.getAt(0,e)}getAt(e,t){return this.getStack(t)[e]}getCount(e){return this.getStack(e).length}getStack(e){let{stacks:t}=this,o=e||Object.keys(t)[0],a=t[o];return a||(t[o]=a=[]),a}push(e){let t=this,{windowId:o}=e,a=t.getStack(o);a[0]?.hashString!==e.hashString&&(delete e[o],a.unshift(e),a.length>t.maxItems&&a.pop(),t.fire("change",e,a[1]||null))}second(e){return this.getAt(0,e)}})},78847:(e,t,o)=>{o.d(t,{A:()=>i});var a=o(31485),r=o(59651);const i=Neo.setupClass(class extends a.A{static badgePositions=["bottom-left","bottom-right","top-left","top-right"];static iconPositions=["top","right","bottom","left"];static config={className:"Neo.button.Base",ntype:"button",badgePosition_:"top-right",badgeText_:null,baseCls:["neo-button"],editRoute:!0,handler_:null,handlerScope:null,iconCls_:null,iconColor_:null,iconPosition_:"left",menu_:null,pressed_:!1,route_:null,text_:null,url_:null,urlTarget_:"_blank",useRippleEffect_:!0,_vdom:{tag:"button",type:"button",cn:[{tag:"span",cls:["neo-button-glyph"]},{tag:"span",cls:["neo-button-text"]},{cls:["neo-button-badge"]},{cls:["neo-button-ripple-wrapper"],cn:[{cls:["neo-button-ripple"]}]}]}};get badgeNode(){return this.getVdomRoot().cn[2]}get iconNode(){return this.getVdomRoot().cn[0]}rippleEffectDuration=400;#e=null;get rippleWrapper(){return this.getVdomRoot().cn[3]}get textNode(){return this.getVdomRoot().cn[1]}construct(e){super.construct(e);let t=this;t.addDomListeners({click:t.onClick,scope:t})}afterSetId(e,t){super.afterSetId(e,t),this.textNode.id=e+"__text"}afterSetBadgePosition(e,t){let{badgeNode:o}=this,a=o.cls||[];r.A.remove(a,"neo-"+t),r.A.add(a,"neo-"+e),o.cls=a,this.update()}afterSetBadgeText(e,t){let{badgeNode:o}=this;o.removeDom=!Boolean(e),o.text=e,this.update()}afterSetIconCls(e,t){let{iconNode:o}=this;r.A.remove(o.cls,t),r.A.add(o.cls,e),o.removeDom=!e||""===e,this.update()}afterSetIconColor(e,t){let{iconNode:o}=this;o.style||(o.style={}),""===e&&(e=null),o.style.color=e,this.update()}afterSetIconPosition(e,t){let o=this.cls;r.A.remove(o,"icon-"+t),r.A.add(o,"icon-"+e),this.cls=o}afterSetMenu(e,t){e&&o.e(49971).then(o.bind(o,49971)).then(t=>{let o=this,a=Array.isArray(e),r=a?e:e.items,i=a?{}:e,n=o.getStateProvider(),{appName:s,theme:l,windowId:d}=o,c=Neo.merge({module:t.default,align:{edgeAlign:"t0-b0",target:o.id},appName:s,displayField:"text",floating:!0,hidden:!0,parentComponent:o,theme:l,windowId:d},i);r&&(c.items=r),n&&(c.stateProvider={parent:n}),o.menuList=Neo.create(c)})}afterSetPressed(e,t){let o=this.cls;r.A.toggle(o,"pressed",!0===e),this.cls=o}afterSetRoute(e,t){!this.editRoute&&this.updateTag()}afterSetTheme(e,t){super.afterSetTheme(e,t);let{menuList:o}=this;o&&(o.theme=e)}afterSetText(e,t){let o=this,a=!e||""===e,i=o.getVdomRoot(),{textNode:n}=o;r.A.toggle(o._cls,"no-text",a),r.A.toggle(i.cls,"no-text",a),n.removeDom=a,a||(n.text=e),o.update()}afterSetUrl(e,t){this.updateTag()}afterSetUseRippleEffect(e,t){this.rippleWrapper.removeDom=!0,this.update()}afterSetUrlTarget(e,t){let o=this,a=o.getVdomRoot();o.url?a.target=e:delete a.target,o.update()}afterSetWindowId(e,t){super.afterSetWindowId(e,t);let{menuList:o}=this;o&&(o.windowId=e)}beforeGetIconCls(){let e=this._iconCls;return Array.isArray(e)?e.join(" "):e}beforeSetBadgePosition(e,t){return this.beforeSetEnumValue(e,t,"badgePosition")}beforeSetIconCls(e,t){return e&&!Array.isArray(e)&&(e=e.split(" ").filter(Boolean)),e}beforeSetIconPosition(e,t){return this.beforeSetEnumValue(e,t,"iconPosition")}changeRoute(){this.editRoute&&Neo.Main.editRoute(this.route)}destroy(...e){this.menuList?.destroy(!0,!1),super.destroy(...e)}onClick(e){let t=this;t.bindCallback(t.handler,"handler",t.handlerScope||t),t.handler?.(e),t.menu&&t.toggleMenu(),t.route&&t.changeRoute(),t.useRippleEffect&&t.showRipple(e)}async showRipple(e){let t,o=this,a=e.path[0].rect,r=Math.max(a.height,a.width),i=r/2,n=o.rippleEffectDuration,{rippleWrapper:s}=o,l=s.cn[0];l.style=Object.assign(l.style||{},{animation:"none",height:`${r}px`,left:e.clientX-a.left-i+"px",top:e.clientY-a.top-i+"px",width:`${r}px`}),delete s.removeDom,o.update(),await o.timeout(1),l.style.animation=`ripple ${n}ms linear`,o.update(),o.#e=t=setTimeout(()=>{o.#e===t&&(o.#e=null,s.removeDom=!0,o.update())},n)}async toggleMenu(){let{menuList:e}=this,t=!e.hidden;e.hidden=t,t||await this.timeout(50)}updateTag(){let e=this,{editRoute:t,route:o,url:a}=e,r=!t&&o||a,i=e.getVdomRoot();t||!1!==o?.startsWith("#")||(r="#"+r),r?(i.href=r,i.tag="a"):(delete i.href,i.tag="button"),e.update()}})},80338:(e,t,o)=>{o.d(t,{A:()=>n}),o(78847);var a=o(31485),r=o(33460),i=(o(69933),o(59651));const n=Neo.setupClass(class extends r.A{static dockPositions=["top","right","bottom","left",null];static config={className:"Neo.toolbar.Base",ntype:"toolbar",baseCls:["neo-toolbar"],dock_:null,itemDefaults:{ntype:"button"},layout:{ntype:"flexbox",align:"center",direction:"row",pack:"start"},sortable_:!1,sortZone:null,sortZoneConfig:null};afterSetAppName(e,t){super.afterSetAppName(e,t),this.sortZone&&(this.sortZone.appName=e)}afterSetDock(e,t){if(!e&&!t)return;let o=this,{cls:a}=o,r=o.getStaticConfig("dockPositions"),n=o.getLayoutConfig();r.forEach(t=>{null!==t&&i.A.toggle(a,"neo-dock-"+t,t===e)}),o.layout?(o.layout.set(n),o.cls=a):(n.ntype="flexbox",o.set({cls:a,layout:n}))}afterSetSortable(e,t){let a=this;e&&!a.sortZone&&o.e(10600).then(o.bind(o,10600)).then(e=>{a.sortZone=Neo.create({module:e.default,appName:a.appName,boundaryContainerId:a.id,owner:a,windowId:a.windowId,...a.sortZoneConfig})})}afterSetWindowId(e,t){super.afterSetWindowId(e,t),this.sortZone&&(this.sortZone.windowId=e)}beforeSetDock(e,t){return this.beforeSetEnumValue(e,t,"dock","dockPositions")}createItems(){let e=this._items;return Array.isArray(e)&&(this._items=e.map(e=>this.replaceSpacer(e))),super.createItems()}getLayoutConfig(){let e,t=this;if(t.dock)switch(t.dock){case"bottom":case"top":e={align:"center",direction:"row",pack:"start"};break;case"left":e={align:"center",direction:"column-reverse",pack:"start"};break;case"right":e={align:"center",direction:"column",pack:"start"}}return e||t.layout}insert(e,t,o=!1){return t=Array.isArray(t)?t.map(e=>this.replaceSpacer(e)):this.replaceSpacer(t),super.insert(e,t,o)}replaceSpacer(e){return"->"===e?{module:a.A,flex:1}:e}})},82072:(e,t,o)=>{o.d(t,{A:()=>i});var a=o(32085),r=o(59651);const i=Neo.setupClass(class extends a.A{static activeItemCls="neo-active-item";static inactiveItemCls="neo-inactive-item";static itemCls="neo-layout-card-item";static slideDirections=["horizontal","vertical",null];static config={className:"Neo.layout.Card",ntype:"layout-card",activeIndex_:0,containerCls:"neo-layout-card",removeInactiveCards:!0,slideDirection_:null};async afterSetActiveIndex(e,t){let o,a,i,n,s,l,d,c=this,{container:u,removeInactiveCards:p}=c,h=c.constructor,m=c.slideDirection&&void 0!==t,g=!1;if(Neo.isNumber(e)&&u){for(n=u.items,s=n.length,n[e]||Neo.error("Trying to activate a non existing card",e,n),o=0;o<s;o++)if(l=n[o].module,o===e&&"Function"===Neo.typeOf(l)){g=!0;break}for(o=0;o<s;o++)a=o===e,i=n[o],l=i.module,a&&"Function"===Neo.typeOf(l)&&(i=await c.loadModule(i,o)),i instanceof Neo.component.Base&&(d=i.wrapperCls,r.A.remove(d,a?h.inactiveItemCls:h.activeItemCls),r.A.add(d,a?h.activeItemCls:h.inactiveItemCls),(p||g)&&(a?(delete i.vdom.removeDom,!m&&i.activate?.()):p&&(i.mounted=!1,i.vdom.removeDom=!0)),i.wrapperCls=d);m?await c.slideCards(e,t):(p||g)&&(u.updateDepth=-1,u.update())}}applyChildAttributes(e,t,o=!1){let a=this,i=a.activeIndex===t,n=a.constructor,s=e.wrapperCls||[],{vdom:l}=e;r.A.add(s,n.itemCls),r.A.add(s,i?n.activeItemCls:n.inactiveItemCls),!o&&a.removeInactiveCards?(l.removeDom=!i,e.wrapperCls=s,e.update?.()):e.wrapperCls=s}beforeSetSlideDirection(e,t){return this.beforeSetEnumValue(e,t,"slideDirection")}async loadModule(e,t){let o,{container:a}=this,r=a.items,{module:i}=e;return Neo.isNumber(t)||(t=r.indexOf(e)),e.isLoading=!0,i=await i(),i=i.default,o=i.prototype,e.className=o.className,e.module=i,delete e.isLoading,delete e.vdom,r[t]=e=Neo.create(e),this.applyChildAttributes(e,t),a.getVdomItemsRoot().cn[t]=e.createVdomReference(),a.fire("cardLoaded",{item:e}),e}async slideCards(e,t){let o,a,r,i,n=this,{container:s}=n,l="vertical"===n.slideDirection,{items:d,vdom:c}=s,u=d[e],p=d[t],h=e>t,m=await s.getDomRect(s.id);delete p.vdom.removeDom,l?(i=h?0:-m.height,a={flexDirection:"column",height:2*m.height+"px",transform:`translateY(${i}px)`,width:`${m.width}px`}):(r=h?0:-m.width,a={height:`${m.height}px`,transform:`translateX(${r}px)`,width:2*m.width+"px"}),c.cn=[{cls:["neo-relative"],cn:[{cls:["neo-animation-wrapper"],style:a,cn:[u.createVdomReference()]}]}],o=c.cn[0].cn[0],o.cn[h?"unshift":"push"](p.createVdomReference()),s.updateDepth=-1,await s.promiseUpdate(),o.style.transform=l?`translateY(${h?-m.height:0}px)`:`translateX(${h?-m.width:0}px)`,await s.promiseUpdate(),await n.timeout(300),c.cn=[],s.items.forEach(e=>{c.cn.push(e.createVdomReference())}),p.vdom.removeDom=!0,s.updateDepth=-1,await s.promiseUpdate()}})},87051:(e,t,o)=>{o.d(t,{A:()=>n});var a=o(33460),r=(o(59651),o(14788)),i=o(68212);const n=Neo.setupClass(class extends i.A{static config={className:"Neo.form.field.Picker",ntype:"pickerfield",baseCls:["neo-pickerfield","neo-textfield"],clientRects:null,keys:{Enter:"onKeyDownEnter",Escape:"onKeyDownEscape"},picker:null,pickerConfig:null,pickerHeight:100,pickerIsMounted_:!1,pickerMaxHeight:200,pickerWidth:null,showPickerOnFocus:!1,triggers:[{module:r.A}]};construct(e){super.construct(e);let t=this;t.addDomListeners({click:t.onInputClick,scope:t})}afterSetMounted(e,t){!1===e&&t&&this.pickerIsMounted&&this.picker.hide(),super.afterSetMounted(e,t)}afterSetTheme(e,t){super.afterSetTheme(e,t),this.picker&&(this.picker.theme=e)}createPicker(){const e=this,{pickerWidth:t}=e,o=e.createPickerComponent();return e.picker=Neo.create({module:a.A,parentId:"document.body",floating:!0,align:{edgeAlign:t?"t0-b0":"t-b",matchSize:!t,axisLock:!0,target:e.getInputWrapperId()},appName:e.appName,cls:["neo-picker-container","neo-container"],height:e.pickerHeight,hidden:!0,id:e.getPickerId(),items:o?[o]:[],maxHeight:e.pickerMaxHeight,theme:e.theme,width:t,windowId:e.windowId,...e.pickerConfig,onFocusLeave:t=>{let o,a=!1;for(o of t.oldPath)if(o.id===e.id){a=!0;break}a||(e.hidePicker(),super.onFocusLeave(t))}}),e.picker.on("hiddenChange",e.onPickerHiddenChange,e),e.picker}createPickerComponent(){return null}destroy(...e){let{picker:t}=this;!1===t?.hidden&&t.unmount(),t?.destroy(),super.destroy(...e)}getPicker(){return this.picker||this.createPicker()}getPickerId(){return`${this.id}__picker`}async hidePicker(){this.picker&&(this.picker.hidden=!0)}onFocusEnter(e){super.onFocusEnter(e),this.showPickerOnFocus&&this.showPicker()}onFocusLeave(e){let t,o=this,a=!1;for(t of e.oldPath)if(t.id===o.getPickerId()){a=!0;break}a||(o.hidePicker(),super.onFocusLeave(e))}onInputClick(e){!this.editable&&this.togglePicker()}onKeyDownEnter(e,t,o){!this.pickerIsMounted&&this.showPicker(t,o)}onKeyDownEscape(e){if(this.pickerIsMounted)return this.hidePicker(),e.cancelBubble=!0,!1}onPickerHiddenChange(e){this.pickerIsMounted=!e.value}onPickerTriggerClick(){this.togglePicker()}showPicker(){this.getPicker().hidden=!1}togglePicker(){let e=this.getPicker();e.hidden=!e.hidden}})},93486:(e,t,o)=>{o.d(t,{A:()=>s});var a=o(67134),r=o(53693),i=o(41613),n=o(68212);const s=Neo.setupClass(class extends n.A{static triggerPositions=["right","sides"];static config={className:"Neo.form.field.Number",ntype:"numberfield",baseCls:["neo-numberfield","neo-textfield"],disabledChars:["e","E"],errorTextMaxValue:e=>`Max value violation: ${e.value} / ${e.maxValue}`,errorTextMinValue:e=>`Min value violation: ${e.value} / ${e.minValue}`,errorTextStepSize:e=>`step-size violation: ${e.value} / ${e.stepSize}`,excludedValues:null,inputEditable_:!0,inputType:"number",maxValue_:100,minValue_:0,stepSize_:1,triggerPosition_:"right",useSpinButtons_:!0};stepSizeDigits=null;afterSetInputEditable(e,t){let o=this.getInputEl().style||{};e?delete o.pointerEvents:o.pointerEvents="none",this.update()}afterSetMaxValue(e,t){this.validate(),this.changeInputElKey("max",e)}afterSetMinValue(e,t){this.validate(),this.changeInputElKey("min",e)}afterSetStepSize(e,t){let o,a,r=this,i=r.value;r.changeInputElKey("step",e),a=String(e),r.stepSizeDigits=a.includes(".")?a.split(".")[1].length:0,null!==i&&(o=(i-r.minValue)%e,0!==o&&(o/e>.5?i+e-o<r.maxValue?r.value=i+e-o:i-o>r.minValue&&(r.value=i-o):i-o>r.minValue?r.value=i-o:i+e-o<r.maxValue&&(r.value=i+e-o)))}afterSetTriggerPosition(e,t){t&&this.updateTriggers()}afterSetUseSpinButtons(e,t){Neo.isBoolean(t)&&this.updateTriggers()}beforeSetMaxLength(e,t){return null!==e&&console.warn("input type number does not support maxLength. use maxValue instead.",this),null}beforeSetMinLength(e,t){return null!==e&&console.warn("input type number does not support minLength. use minValue instead.",this),null}beforeSetTriggerPosition(e,t){return this.beforeSetEnumValue(e,t,"triggerPosition")}beforeSetValue(e,t){return null===e||""===e?null:(Neo.isNumber(e)||(e=+e),this.stepSizeDigits>0&&(e=+e.toFixed(this.stepSizeDigits)),e)}fitsStepSize(e){return null===e||parseInt(e.toString().replace(".",""))*(1/this.stepSize)%1==0}isValid(){let{maxValue:e,minValue:t,value:o}=this,a=Neo.isNumber(o);return!(Neo.isNumber(e)&&a&&o>e)&&!(Neo.isNumber(t)&&a&&o<t)&&!!this.fitsStepSize(o)&&super.isValid()}onConstructed(){this.updateTriggers(),super.onConstructed()}onFocusLeave(e){let t=this,{value:o}=t;null!==o&&(o=t.stepSizeDigits>0?parseFloat(o):parseInt(o),o=Math.max(t.minValue,o),o=Math.min(t.maxValue,o),t.value!==o?t.value=o:t.getInputEl().value=t.inputValueRenderer(o)),super.onFocusLeave(e)}onSpinButtonDownClick(){let e=this,{stepSize:t}=e,o=Neo.isNumber(e.value)?e.value:e.minValue,a=o-t<e.minValue?e.maxValue:o-t;if(e.excludedValues)for(;e.excludedValues.includes(a);)a=Math.max(e.minValue,a-t);o!==a&&(e.value=a)}onSpinButtonUpClick(){let e=this,{stepSize:t}=e,o=Neo.isNumber(e.value)?e.value:e.maxValue,a=o+t>e.maxValue?e.minValue:o+t;if(e.excludedValues)for(;e.excludedValues.includes(a);)a=Math.min(e.maxValue,a+t);o!==a&&(e.value=a)}updateTriggers(){let e=this,t=e.triggers||[];e.useSpinButtons?"right"===e.triggerPosition?(e.hasTrigger("spinupdown")||t.push(i.A),e.removeTrigger("spindown",!0,t),e.removeTrigger("spinup",!0,t)):(e.hasTrigger("spindown")||t.push(a.A),e.hasTrigger("spinup")||t.push(r.A),e.removeTrigger("spinupdown",!0,t)):(e.removeTrigger("spindown",!0,t),e.removeTrigger("spinup",!0,t),e.removeTrigger("spinupdown",!0,t)),e.triggers=t}validate(e=!0){let t=this,{maxValue:o,minValue:a,stepSize:r,value:i}=t,n=Neo.isNumber(i),s=super.validate(e),l={maxValue:o,minValue:a,stepSize:r,value:i};return s&&(Neo.isNumber(o)&&n&&i>o?(t._error=t.errorTextMaxValue(l),s=!1):Neo.isNumber(a)&&n&&i<a?(t._error=t.errorTextMinValue(l),s=!1):t.fitsStepSize(i)||(t._error=t.errorTextStepSize(l),s=!1)),!s&&!t.clean&&t.updateError(t._error,e),s}})}}]);