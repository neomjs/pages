(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[4957,5374,5387,6386,6803,6816,11577,15850,15863,16862,22053,27338,27755,27768,29184,33958,38231,38244,39243,44434,49719,50136,56339,60612,60625,61624,66815,71101,72100,77291,78720,82993,83006,84005,84435,89196,93469,93482,94481,98887,99672],{5387:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=5387,e.exports=t},13316:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var r=i(5728),n=i(53403),o=i(70286),l=i(59447),s=i(87051),a=i(30759),c=i(33610);const d=Neo.setupClass(class extends s.A{static triggerActions=["all","filtered"];static config={className:"Neo.form.field.ComboBox",ntype:"combobox",activeRecordId:null,baseCls:["neo-combobox","neo-pickerfield","neo-textfield"],displayField:"name",filterDelay:50,filterOperator_:"like",forceSelection:!0,keys:{Down:"onKeyDownDown",Escape:"onKeyDownEscape"},lastManualInput:null,list:null,listConfig_:null,pickerHeight:null,role:"combobox",store_:null,triggerAction_:"all",typeAhead_:!0,useFilter_:!0,valueField:"id"};preStoreLoadValue=null;programmaticValueChange=!1;construct(e){super.construct(e);let t=this;t.filterOnInput=(0,r.r)(t.filterOnInput,t,t.filterDelay),t.typeAhead&&t.updateTypeAhead()}afterSetInputValue(e,t){super.afterSetInputValue(e,t),this.updateTypeAheadValue(e)}afterSetStore(e,t){let i,r,n=this;e&&(n.useFilter&&(i=e.filters||[],i.push({includeEmptyValues:!0,operator:n.filterOperator,property:n.displayField,value:e?.[n.displayField]||null}),e.filters=i),n.list&&(n.list.store=e),e.on("load",n.onStoreLoad,n),n.value&&(r=n.value,n._value=null,n.value=r))}afterSetTypeAhead(e,t){this.rendered&&this.updateTypeAhead()}afterSetValue(e,t){let i=this;if(i.programmaticValueChange=!0,super.afterSetValue(e,t),i.programmaticValueChange=!1,i._picker?.isVisible){let r=i.list?.selectionModel;e?(t&&r?.deselect(t),r?.select(e)):r.deselectAll()}}beforeSetListConfig(e,t){return e&&this.parseItemConfigs(e),e}beforeSetStore(e,t){let{displayField:i,valueField:r}=this;return!e&&this.bind?.store?null:(t?.destroy(),Array.isArray(e)&&(e={data:e.map((e,t)=>("string"==typeof e&&(e={[i]:e,[r]:e}),e))}),"Object"!==Neo.typeOf(e)||e.model||e.module||e.ntype||(e.model={fields:[{name:i,type:"String"},{name:r,type:"String"}]}),n.A.beforeSetInstance(e,a.A))}beforeSetTriggerAction(e,t){return this.beforeSetEnumValue(e,t,"triggerAction")}beforeSetValue(e,t){let i,{displayField:r,store:n}=this;return Neo.isRecord(e)?e:null===e?null:n?n.getCount()>0?(i=n.isFiltered()?n.allItems.get(e):n.get(e),i||n.find(r,e)[0]||null):(this.preStoreLoadValue=e,null):e}createPickerComponent(){const e=this;return e.list=Neo.create({module:l.A,appName:e.appName,displayField:e.displayField,itemRole:"option",itemsFocusable:!1,keepFocusIndex:!0,navigator:{eventSource:e.getInputElId()},parentId:e.id,role:"listbox",selectionModel:{stayInList:!1},store:e.store,windowId:e.windowId,...e.listConfig}),e.getInputEl()["aria-controls"]=e.list.id,e.list.addDomListeners({neonavigate:{fn:e.onListItemNavigate,scope:e}}),e.list.selectionModel.on({noChange:e.onListItemSelectionNoChange,selectionChange:e.onListItemSelectionChange,scope:e}),e.list}doFilter(e){let t=this,{picker:i,store:r}=t,n=t.value,o=r.getFilter(t.displayField);if(o&&(o.value=e),r.getCount()){t.showPicker();let{list:e}=t,{selectionModel:i}=e,o=r.indexOf(n);n&&(i.suspendEvents=!0,i.select(n),i.suspendEvents=!1),e._focusIndex=-1,e.focusIndex=o>-1?o:0}else i?.hide()}filterOnInput(e){e?this.doFilter(e):this.picker?.hide()}async fireChangeEvent(e,t){let i=this,r=Neo.form?.Container,n={component:i,oldValue:t,value:e};await i.timeout(30),i.fire("change",n),i.suspendEvents||o.A.getParents(i).forEach(e=>{r&&e instanceof r&&e.fire("fieldChange",n)})}getInputHintEl(){return c.A.find(this.vdom,this.getInputHintId())?.vdom}getInputHintId(){return this.id+"__input-hint"}getRecord(){let{list:e}=this,t=e.selectionModel.getSelection()[0];return t&&this.store.get(e.getItemRecordId(t))||null}getSubmitValue(){let e=this;return e.value?.[e.valueField]||e.emptyValue}onConstructed(){const e=this.getInputEl();e["aria-activedescendant"]="",e["aria-expanded"]=!1,e["aria-haspopup"]="listbox",super.onConstructed(...arguments)}onFocusLeave(e){let t=this;t.forceSelection&&!t.value&&(t.programmaticValueChange=!0,t.value=t.store.get(t.activeRecordId),t.programmaticValueChange=!1),t.updateTypeAheadValue(null),super.onFocusLeave(e)}onKeyDownDown(e){let t=this;t.picker&&!t.picker?.hidden||t.onPickerTriggerClick()}async onListItemSelectionChange({selection:e}){if(e?.length){let t=this,i=e[0],r="string"==typeof i?t.store.get(t.list.getItemRecordId(i)):i;t.hintRecordId=null,t.updateTypeAheadValue(null,!0),await t.hidePicker(),t.preventFiltering=!0,t.value=r,t.preventFiltering=!1,t.fire("select",{value:r})}}onListItemSelectionNoChange(){this.hidePicker()}onListItemNavigate(e){let{activeIndex:t}=e;if(t>=0){let i=this,{store:r}=i;i.activeRecord=e.record||r.getAt(t),i.activeRecordId=i.activeRecord[r.getKeyProperty()],i.typeAhead?i.updateTypeAheadValue(i.lastManualInput):i.update()}}onPickerHiddenChange({value:e}){const t=this.getInputEl();super.onPickerHiddenChange(...arguments),e&&(t["aria-activedescendant"]=""),t["aria-expanded"]=!e,this.update()}onStoreLoad(e){let t=this,i=t.preStoreLoadValue;null!==i&&(t._value=void 0,t.value=i)}selectFirstListItem(){this.selectListItem(0)}selectLastListItem(){this.selectListItem(this.store.getCount()-1)}selectListItem(e){let t=this;Neo.isNumber(e)||(e=t.activeRecordId?t.store.indexOfKey(t.activeRecordId):0),t.list.selectItem(e)}togglePicker(){let e=this,{picker:t}=e;!1===t?.hidden?t.hidden=!0:e.disabled||e.readOnly||e.doFilter(null)}updateInputValueFromValue(e){let t=null;Neo.isRecord(e)&&(t=e[this.displayField]),this.inputValue=t}updateTypeAhead(e=!1){let t=this,i=c.A.find(t.vdom,{flag:"neo-real-input"});t.typeAhead?i.parentNode.cn[i.index]={tag:"span",cls:["neo-input-field-wrapper"],cn:[{tag:"input",autocomplete:"no",autocorrect:"off",cls:["neo-textfield-input","neo-typeahead-input"],disabled:!0,id:t.getInputHintId(),spellcheck:"false"},i.vdom]}:c.A.replaceVdomChild(t.vdom,i.parentNode.id,i.vdom),!e&&t.update()}updateTypeAheadValue(e=this.lastManualInput,t=!1){let i=this,r=!1,n=i.getInputHintEl(),{displayField:o,store:l}=i;if(i.typeAhead){if(!i.value&&e?.length>0){const t=e.toLocaleLowerCase();r=l.items.find(e=>e[o]?.toLowerCase?.()?.startsWith(t)),r&&n&&(n.value=e+r[o].substr(e.length),i.activeRecord=r,i.activeRecordId=r[l.getKeyProperty()])}!r&&n&&(n.value=i.activeRecord=i.activeRecordId=null),!t&&i.update()}}updateValueFromInputValue(e){let t=this;t.lastManualInput=e,t.programmaticValueChange||(t._value=null,t.list?.selectionModel.deselectAll(),t.filterOnInput(e))}})},14788:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var r=i(34821);const n=Neo.setupClass(class extends r.A{static config={className:"Neo.form.field.trigger.Picker",ntype:"trigger-picker",iconCls:"fa fa-caret-down",type:"picker"};onTriggerClick(e){this.field.onPickerTriggerClick()}})},66534:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var r=i(81157),n=i(13316),o=i(33610);const l=Neo.setupClass(class extends n.A{static config={className:"Neo.form.field.Color",ntype:"colorfield",baseCls:["neo-colorfield","neo-combobox","neo-pickerfield","neo-textfield"],colorField:"name",colorFormatter:(e,t)=>t[e.colorField],listConfig:{module:r.A,colorField:"@config:colorField",colorFormatter:"@config:colorFormatter",silentSelectUpdate:!0}};construct(e){super.construct(e);let t=this;o.A.find(t.vdom,t.getInputWrapperId()).vdom.cn.unshift({cls:"neo-color",id:t.getColorIndicatorId(),style:{backgroundColor:t.getColor()}}),t.update()}afterSetValue(e,t,i=!1){let r=this,n=o.A.find(r.vdom,r.getColorIndicatorId())?.vdom,{list:l,record:s}=r,a=r.list?.selectionModel;n&&(n.style.backgroundColor=r.getColor()),s?a?.select(l.getItemId(s[r.store.keyProperty])):a?.deselectAll(!0),super.afterSetValue(e,t,i)}getColor(){let e=this,{inputValue:t,value:i}=e;return i?e.colorFormatter(e,i):e.forceSelection?null:t}getColorIndicatorId(){return`${this.id}__color-indicator`}onSelectPostLastItem(){let{list:e}=this,t=e.store.getCount()-1;e.vdom.cn[t]=e.createItem(e.store.getAt(t),t),super.onSelectPostLastItem()}onSelectPreFirstItem(){let{list:e}=this;e.vdom.cn[0]=e.createItem(e.store.getAt(0),0),super.onSelectPreFirstItem()}})},81961:(e,t,i)=>{"use strict";i.r(t),i.d(t,{onStart:()=>u});var r=i(62152),n=i(33460),o=i(66534),l=i(68212),s=i(31485),a=i(59651);const c=Neo.setupClass(class extends s.A{static config={className:"Neo.component.Timer",ntype:"timer",baseCls:["neo-timer"],colorEnd_:null,colorStart_:null,duration_:"10m",dimensions_:"8em",timer:{currentSecond:null,intervalId:null,running:!1,startTime:null},vdom:{cn:[{cls:"countdown",cn:[{tag:"svg",cls:"clock",viewBox:"-50 -50 100 100",strokeWidth:"10",cn:[{tag:"circle",r:45},{tag:"circle",r:45,pathLength:1}]},{cls:["flip-card"],cn:[{cls:"flip-card-inner enter-mask",cn:[{cls:"flip-card-front",cn:[{tag:"input",cls:"enter-time"},{tag:"button",cls:"fa fa-play"}]},{cls:"flip-card-back",cn:[{cls:"runner",html:"00:00"}]}]}]}]}]}};construct(e){super.construct(e);let t=this;t.addDomListeners([{click:t.onTimerClick,delegate:"flip-card-back"},{click:t.onTimerClick,delegate:"fa fa-play"},{input:t.onTimerInput,delegate:"enter-time"},{focusout:t.onTimerInput,delegate:"enter-time"},{keydown:t.onFieldKeyDown,delegate:"enter-time"}])}afterSetDimensions(e,t){"number"==typeof e&&(e+="px"),this.updateProperties({dimensions:e})}afterSetColorStart(e,t){e&&this.updateProperties({colorStart:e})}afterSetColorEnd(e,t){e&&this.updateProperties({colorEnd:e})}beforeSetDuration(e,t){let i;return this.updateInputField(e),Neo.isString(e)&&(i=e.at(-1),"m"===i?e=60*e.split("m")[0]*1e3:"s"===i&&(e=1e3*e.split("s")[0])),this.updateProperties({full:e}),e}onFieldKeyDown(e){let t=this;"Enter"===e.key&&(t.duration=t.timer.entry,t.onTimerClick())}onTimerClick(){let e=this;e.timer.intervalId?(e.toggleTimer(!1),e.resetTimer()):(e.timer.startTime=(new Date).getTime(),e.timer.intervalId=setInterval(function(){const t=e.timer.startTime,i=(new Date).getTime(),r=t+e.duration;if(i>r)e.toggleTimer(!1),e.resetTimer();else{const t=r-i,n=Math.floor(t/1e3);let o=n%60,l=Math.floor(n/60);o!==e.timer.currentSecond&&(e.timer.currentSecond=o,o=o.toString().padStart(2,"0"),l=l.toString().padStart(2,"0"),e.updateTimer(`${l}:${o}`),e.updateProperties({current:t}),e.toggleTimer(!0))}},100))}onTimerInput(e){let t=this;e.value?t.timer.entry=e.value:t.duration=t.timer.entry}resetTimer(){let e=this;e.updateProperties({current:""}),e.updateTimer("00:00"),clearInterval(e.timer.intervalId),delete e.timer.intervalId}toggleTimer(e){if(this.running===e)return;let t=this,i=t.vdom.cn[0].cn[1];t.running=e,i.cls=i.cls||[],a.A[e?"add":"remove"](i.cls,"turn"),t.update()}updateInputField(e){this.vdom.cn[0].cn[1].cn[0].cn[0].cn[0].value=e}updateTimer(e){this.vdom.cn[0].cn[1].cn[0].cn[1].cn[0].html=e,this.update()}updateProperties(e){let{style:t}=this;void 0!==e.current&&(t["--neo-timer-current"]=`${e.current}!important`),void 0!==e.full&&(t["--neo-timer-full"]=`${e.full}!important`),void 0!==e.colorEnd&&(t["--timer-color-end"]=`${e.colorEnd}!important`),void 0!==e.colorStart&&(t["--timer-color-start"]=`${e.colorStart}!important`),void 0!==e.dimensions&&(t["--timer-dimension"]=`${e.dimensions}!important`),this.style=t}}),d=Neo.setupClass(class extends r.A{static config={className:"Neo.examples.component.timer.MainContainer"};createConfigurationComponents(){let e=this;return[{module:l.A,labelText:"dimensions",listeners:{change:e.onConfigChange.bind(e,"dimensions")},value:"8rem"},{module:o.A,clearable:!1,labelText:"colorStart",listeners:{change:e.onConfigChange.bind(e,"colorStart")},value:"#8a9b0f"},{module:o.A,clearable:!1,labelText:"colorEnd",listeners:{change:e.onConfigChange.bind(e,"colorEnd")},value:"#940a3d"}]}createExampleComponent(){return Neo.create({module:n.A,style:{overflow:"auto",maxHeight:"100%"},items:[{html:"<h1>Configurable</h1>",style:{textAlign:"center"}},{module:c,duration:"20s",flag:"timer-component",dimensions:"8rem"}]})}onConfigChange(e,t){this.down({flag:"timer-component"})[e]=t.value}}),u=()=>Neo.app({mainView:d,name:"Neo.examples.component.timer"})},87051:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var r=i(33460),n=(i(59651),i(14788)),o=i(68212);const l=Neo.setupClass(class extends o.A{static config={className:"Neo.form.field.Picker",ntype:"pickerfield",baseCls:["neo-pickerfield","neo-textfield"],clientRects:null,keys:{Enter:"onKeyDownEnter",Escape:"onKeyDownEscape"},picker:null,pickerConfig:null,pickerHeight:100,pickerIsMounted_:!1,pickerMaxHeight:200,pickerWidth:null,showPickerOnFocus:!1,triggers:[{module:n.A}]};construct(e){super.construct(e);let t=this;t.addDomListeners({click:t.onInputClick,scope:t})}afterSetMounted(e,t){!1===e&&t&&this.pickerIsMounted&&this.picker.hide(),super.afterSetMounted(e,t)}afterSetTheme(e,t){super.afterSetTheme(e,t),this.picker&&(this.picker.theme=e)}createPicker(){const e=this,{pickerWidth:t}=e,i=e.createPickerComponent();return e.picker=Neo.create({module:r.A,parentId:"document.body",floating:!0,align:{edgeAlign:t?"t0-b0":"t-b",matchSize:!t,axisLock:!0,target:e.getInputWrapperId()},appName:e.appName,cls:["neo-picker-container","neo-container"],height:e.pickerHeight,hidden:!0,id:e.getPickerId(),items:i?[i]:[],maxHeight:e.pickerMaxHeight,theme:e.theme,width:t,windowId:e.windowId,...e.pickerConfig,onFocusLeave:t=>{let i,r=!1;for(i of t.oldPath)if(i.id===e.id){r=!0;break}r||(e.hidePicker(),super.onFocusLeave(t))}}),e.picker.on("hiddenChange",e.onPickerHiddenChange,e),e.picker}createPickerComponent(){return null}destroy(...e){let{picker:t}=this;!1===t?.hidden&&t.unmount(),t?.destroy(),super.destroy(...e)}getPicker(){return this.picker||this.createPicker()}getPickerId(){return`${this.id}__picker`}async hidePicker(){this.picker&&(this.picker.hidden=!0)}onFocusEnter(e){super.onFocusEnter(e),this.showPickerOnFocus&&this.showPicker()}onFocusLeave(e){let t,i=this,r=!1;for(t of e.oldPath)if(t.id===i.getPickerId()){r=!0;break}r||(i.hidePicker(),super.onFocusLeave(e))}onInputClick(e){!this.editable&&this.togglePicker()}onKeyDownEnter(e,t,i){!this.pickerIsMounted&&this.showPicker(t,i)}onKeyDownEscape(e){if(this.pickerIsMounted)return this.hidePicker(),e.cancelBubble=!0,!1}onPickerHiddenChange(e){this.pickerIsMounted=!e.value}onPickerTriggerClick(){this.togglePicker()}showPicker(){this.getPicker().hidden=!1}togglePicker(){let e=this.getPicker();e.hidden=!e.hidden}})}}]);