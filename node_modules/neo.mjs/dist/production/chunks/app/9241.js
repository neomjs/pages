"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[9241],{3071(e,t,n){n.d(t,{A:()=>r});var o=n(3572),s=n(1031),a=(n(4556),n(4256));class i extends o.A{static observable=!0;static config={className:"Neo.selection.Model",ntype:"selection-model",cls:null,items_:{[a.o]:!0,clone:"shallow",cloneOnGet:"none",isEqual:()=>!1,value:[]},selectedCls:"neo-selected",singleSelect:!0,view_:null};beforeGetView(e){return Neo.getComponent(this._view)}beforeSetView(e){return e&&e.id}addDomListener(){}deselect(e,t,n=this.items,o){let a,i=this,{view:r}=i;e=e.isRecord?r.getItemId(e):Neo.isObject(e)?e.id:e,n.includes(e)?(a=r.getVdomChild(e),a&&(a.cls=s.A.remove(a.cls||[],o||i.selectedCls),delete a["aria-selected"]),s.A.remove(n,e),t||(r.update(),r.parent?.onDeselect?.(),r.onDeselect?.(),i.fire("selectionChange",{selection:n}))):t||i.fire("noChange")}deselectAll(e,t=this.items){let n=this,o=[...t],{view:s}=n;o.length?(o.forEach(e=>{n.deselect(e,!0)}),!e&&o.length>0&&s.update(),n.fire("selectionChange",{selection:this.items})):e||n.fire("noChange")}destroy(...e){this.unregister(),super.destroy(...e)}getController(){return this.view.getController()}getSelection(){return this.items}hasSelection(){return this.items.length>0}isSelected(e){return this.items.includes(e)}register(e){let t=this,n=e.wrapperCls||[];t.cls&&!n.includes(t.cls)&&(n.push(t.cls),e.wrapperCls=n),t.view=e,t.addDomListener(),e.fire("selectionModelChange",{value:t})}removeDomListeners(){let e=this,t=e.view,n=[...t.domListeners];t.domListeners.forEach(t=>{t.scope===e&&s.A.remove(n,t)}),t.domListeners=n}select(e,t=this.items,n){Array.isArray(e)||(e=[e]);let o=this,{view:a}=o,i=e.map(e=>{if(e.isRecord)return e;const t=a.getItemRecordId?.(e);return t&&a.store?.get(t)||e});e=e.map(e=>e.isRecord?a.getItemId(e):Neo.isObject(e)?e.id:e),Neo.isEqual(t,e)?o.fire("noChange"):(o.singleSelect&&t===o.items&&o.deselectAll(!0,t),e.forEach(e=>{(e=a.getVdomChild(e))&&(e.cls=s.A.add(e.cls||[],n||o.selectedCls),e["aria-selected"]=!0)}),s.A.add(t,e),a.silentSelect||a.update(),a.parent?.onSelect?.(e),a.onSelect?.(e),a.fire("select",{records:i,selection:t}),o.fire("selectionChange",{records:i,selection:t}))}toggleSelection(e){let t=this;t.isSelected(e)?t.deselect(e):t.select(e)}toJSON(){const e=this,t=(e.items||[]).map(e=>Neo.isRecord(e)?e.toJSON():e);return{...super.toJSON(),items:t,selectedCls:e.selectedCls,singleSelect:e.singleSelect}}unregister(){let e=this,{view:t}=e;if(!t.isDestroying){let n=t.wrapperCls||[];e.cls&&n.includes(e.cls)&&(s.A.remove(n,e.cls),t.wrapperCls=n),e.deselectAll(),e.removeDomListeners()}}}const r=Neo.setupClass(i)},3176(e,t,n){n.d(t,{A:()=>d});var o=n(3123),s=n(5023),a=n(6969),i=n(1031),r=n(3675),l=n(950);class c extends o.A{static config={className:"Neo.tree.List",ntype:"treelist",baseCls:["neo-tree-list"],disableSelection:!1,dragResortable_:!1,dragZone:null,folderCls:"neo-list-folder",showCollapseExpandAllIcons:!0,sortZone:null,sortZoneConfig:null,wrapperCls:[],_vdom:{cn:[{tag:"ul",cls:["neo-list-container","neo-list"],tabIndex:-1,cn:[]}]}};afterSetDraggable(e,t){let o=this;e&&(o.dragResortable?console.error("tree.List can be either draggable or dragResortable, not both.",o.id):o.dragZone||Promise.all([n.e(9244),n.e(4520)]).then(n.bind(n,4520)).then(e=>{o.dragZone=Neo.create({module:e.default,appName:o.appName,owner:o,windowId:o.windowId,...o.dragZoneConfig})}))}afterSetDragResortable(e,t){let o=this;e&&(o.draggable?console.error("tree.List can be either draggable or dragResortable, not both.",o.id):o.sortZone||Promise.all([n.e(9244),n.e(9458)]).then(n.bind(n,9458)).then(e=>{o.sortZone=Neo.create({module:e.default,appName:o.appName,boundaryContainerId:o.id,owner:o,windowId:o.windowId,...o.sortZoneConfig})}))}beforeSetSelectionModel(e,t){return t?.destroy(),s.A.beforeSetInstance(e,r.A)}beforeSetStore(e,t){return e||(e=Neo.create(a.A,{keyProperty:"id"})),super.beforeSetStore(e,t)}collapseAll(e=!1){let t,n=this,o=!1;n.store.forEach(e=>{e.isLeaf||(t=n.getVdomChild(n.getItemId(e.id),n.vdom),t.cls.includes("neo-folder-open")&&(i.A.remove(t.cls,"neo-folder-open"),o=!0))}),o&&!e&&n.update()}createItem(e){let t,n=this,{folderCls:o,itemCls:s}=n,a=[s],i=[s+"-content"],r=n.getKeyProperty();return e.iconCls&&(Array.isArray(e.iconCls)?i.push(...e.iconCls):i.push(e.iconCls)),e.isLeaf?a.push(s+(e.singleton?"-leaf-singleton":"-leaf")):(a.push(o),e.collapsed||a.push("neo-folder-open")),t={tag:"li",cls:a,id:n.getItemId(e[r]),cn:[{tag:"span",cls:i,html:e.name,style:{pointerEvents:"none"}}],style:{display:e.hidden?"none":"flex",padding:"10px",position:e.isLeaf?null:"sticky",top:e.isLeaf?null:38*e.level+"px",zIndex:e.isLeaf?null:20/(e.level+1)}},n.itemsFocusable&&(t.tabIndex=-1),t}createItemLevel(e,t,n,o=!1){let s,a=this,i=a.store.find("parentId",e);return i.length>0&&(t.cn||(t.cn=[]),null!==e?(t.cn.push({tag:"ul",cls:["neo-list"],cn:[],style:{display:o?"none":null,paddingLeft:"15px"}}),s=t.cn[t.cn.length-1]):s=t,i.forEach(e=>{e.level=n,s.cn.push(a.createItem(e)),a.createItemLevel(e.id,s,n+1,e.hidden||o)})),t}createItems(){let e=this,t=e.getListItemsRoot();t.cn=[],e.createItemLevel(null,t,0),e.update()}expandAll(e=!1){let t,n=this,o=!1;n.store.forEach(e=>{e.isLeaf||(t=n.getVdomChild(n.getItemId(e.id),n.vdom),t.cls.includes("neo-folder-open")||(i.A.add(t.cls,"neo-folder-open"),o=!0))}),o&&!e&&n.update()}filter(e,t,n,o=!1){let s,a,i,r=this,l=!0,c=new RegExp(t,"gi");return t||(t=""),r.store.forEach(d=>{d.parentId===n&&(a=!1,i=r.getVdomChild(r.getItemId(d.id),r.vdom),i.cn[0].html=d[e].replace(c,e=>(a=!0,`<span class="neo-highlight-search">${e}</span>`)),s=!!d.isLeaf||r.filter(e,t,d.id,a||o),(a||o||!1===s||""===t)&&(l=!1),i.style.display=l?"none":"list-item")}),null===n&&(r.expandAll(!0),r.update()),l}getListItemsRoot(){return this.vdom.cn[this.showCollapseExpandAllIcons?2:0]}onClick(e){e.target.cls.includes("neo-treelist-menu-item")?this.onMenuItemClick(e.target.cls):super.onClick(e)}onConstructed(){super.onConstructed();let e=this;e.showCollapseExpandAllIcons&&(e.vdom.cn.unshift({cls:["neo-treelist-menu-item","neo-treelist-collapse-all-icon"],cn:[{tag:"span",cls:["neo-treelist-menu-item-content"]}]},{cls:["neo-treelist-menu-item","neo-treelist-expand-all-icon"],cn:[{tag:"span",cls:["neo-treelist-menu-item-content"]}]}),e.update())}onItemClick(e,t){let n,o,s,a,r=this,{items:l}=r.store,c=0,d=l.length,u=r.getKeyProperty(),g=t.path.map(e=>e.id);for(;c<d;c++)if(s=l[c],a=r.getItemId(s[u]),g.includes(a)){o=s,n=r.getVdomChild(a);break}n&&(n.cls?.includes(r.folderCls)?(i.A.toggle(n.cls,"neo-folder-open"),r.update()):(r.onLeafItemClick(o),r.fire("leafItemClick",o)),super.onItemClick(e,t))}onLeafItemClick(e){}onMenuItemClick(e){e.includes("neo-treelist-collapse-all-icon")?this.collapseAll():this.expandAll()}onStoreRecordChange(e){let t=this,{record:n}=e,{index:o,parentNode:s}=l.A.find(t.vdom,t.getItemId(n.id));s.cn[o]=t.createItem(n),t.update()}}const d=Neo.setupClass(c)},3675(e,t,n){n.d(t,{A:()=>a});var o=n(8051);class s extends o.A{static config={className:"Neo.selection.TreeModel",ntype:"selection-treemodel"};onKeyDownEnter(e){}onNavKey(e,t){}}const a=Neo.setupClass(s)},8675(e,t,n){n.r(t),n.d(t,{default:()=>_});var o=n(1184),s=n(3176);class a extends s.A{static config={className:"Portal.view.learn.ContentTreeList",bind:{contentPath:e=>e.contentPath,currentPageRecord:e=>e.currentPageRecord,store:"stores.contentTree"},cls:["topics-tree"],contentPath_:null,currentPageRecord_:null,showCollapseExpandAllIcons:!1};afterSetContentPath(e,t){e&&this.doLoadStore()}async afterSetCurrentPageRecord(e,t){e&&(await this.timeout(20),this.selectionModel.select(e))}doLoadStore(){this.store.load({url:`${this.contentPath}tree.json`})}onLeafItemClick(e){super.onLeafItemClick(e),Neo.Main.setRoute({value:`/learn/${e.id}`,windowId:this.windowId})}onStoreLoad(){super.onStoreLoad(),this.getStateProvider().data.countPages=this.store.getCount()}}const i=Neo.setupClass(a);var r=n(3997),l=n(8659);class c extends l.A{static config={className:"Portal.view.learn.CubeLayoutButton",activeLayout_:null};activateText="Activate Cube-Layout";deactivateText="Deactivate Cube-Layout";get viewportController(){return this.getController("viewport-controller")}construct(e){super.construct(e);let t=this;t.activeLayout=t.viewportController.mainContentLayout,t.handler=t.changeLayout.bind(t)}afterSetActiveLayout(e,t){let n=this;e&&(n.viewportController.mainContentLayout=e,"card"===e?n.text=n.activateText:"mixed"===e&&(n.text=n.deactivateText))}changeLayout(e){let t=this;t.activeLayout=t.text===t.activateText?"mixed":"card"}}Neo.setupClass(c);class d extends r.A{static config={className:"Portal.view.learn.MainContainerController",routes:{"/learn":"onRouteDefault","/learn/{*itemId}":"onRouteLearnItem"}};construct(e){super.construct(e);let{windowId:t}=this;Neo.Main.getByPath({path:"location.search",windowId:t}).then(e=>{var t;this.setState({deck:(t=e,t?.startsWith("?")&&(t=t.substring(1)),t?JSON.parse(`{"${decodeURI(t.replace(/&/g,'","').replace(/=/g,'":"'))}"}`):{}).deck||"learnneo"})})}navigateTo(e){Neo.Main.setRoute({value:`/learn/${e}`,windowId:this.component.windowId})}async onContentEdit(e){const t=this.getStateProvider();console.log(e);const n=t.getData("editorConfig"),o=t.getData("deck");if(!n||!o)return;const s=`${n.root}/${o}/pages/${e.record.id}.md`;await fetch("http://localhost:3000/openInEditor",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:s,editor:n.editor})})}onContentRefresh(e){this.getReference("tree").doFetchContent(e.record)}onIntersect(e){let t=this.getReference("page-sections-container").list,n=parseInt(e.data.recordId);t.isAnimating||t.selectionModel.select(t.store.get(n))}onNextPageButtonClick(e){this.navigateTo(this.getStateProvider().getData("nextPageRecord").id)}onPageSectionsToggleButtonClick(e){this.getReference("page-sections-container").toggleCls("neo-expanded")}onPreviousPageButtonClick(e){this.navigateTo(this.getStateProvider().getData("previousPageRecord").id)}onRouteDefault(e){this.getStateProvider().data.currentPageRecord||this.onRouteLearnItem({itemId:"benefits/Introduction"})}onRouteLearnItem({itemId:e}){let t=this.getStateProvider(),n=t.getStore("contentTree");n.getCount()>0?t.data.currentPageRecord=n.get(e):n.on({load:()=>{t.data.currentPageRecord=n.get(e)},delay:10,once:!0})}onSideNavToggleButtonClick(e){this.getReference("sidenav-container").toggleCls("neo-expanded")}}const u=Neo.setupClass(d);var g=n(1967);class p extends g.A{static config={className:"Portal.model.ContentSection",fields:[{name:"id",type:"Int"},{name:"name",type:"String"},{name:"sourceId",type:"String"},{name:"tag",type:"String"}]}}const h=Neo.setupClass(p);var m=n(2779);class f extends m.A{static config={className:"Portal.store.ContentSections",model:h}}const C=Neo.setupClass(f);class v extends g.A{static config={className:"Portal.model.Content",fields:[{name:"className",type:"String"},{name:"collapsed",type:"Boolean"},{name:"hidden",type:"Boolean"},{name:"id",type:"String"},{name:"isLeaf",type:"Boolean",defaultValue:!0},{name:"name",type:"String"},{name:"parentId",type:"String"}]}}const I=Neo.setupClass(v);class P extends m.A{static config={className:"Portal.store.Content",model:I}}const w=Neo.setupClass(P);var S=n(9943);class b extends S.A{static config={className:"Portal.view.learn.MainContainerStateProvider",data:{contentPath:null,countPages:null,countSections:null,currentPageRecord:null,deck:null,nextPageRecord:null,previousPageRecord:null},stores:{contentSections:{module:C},contentTree:{module:w}}};onDataPropertyChange(e,t,n){super.onDataPropertyChange(e,t,n);let o=this;switch(e){case"countSections":t<1&&o.component.getReference("page-sections-container")?.toggleCls("neo-expanded",!1);break;case"currentPageRecord":{let e,n,{data:s}=o,{countPages:a}=s,i=o.getStore("contentTree"),r=i.indexOf(t),l=null,c=null,d=null,u=null;for(e=r-1;e>=0;e--)if(n=i.getAt(e),n.isLeaf&&!o.recordIsHidden(n,i)){d=n;break}for(o.setData({previousPageText:u,previousPageRecord:d}),e=r+1;e<a;e++)if(n=i.getAt(e),n.isLeaf&&!o.recordIsHidden(n,i)){l=n;break}o.setData({nextPageText:c,nextPageRecord:l}),o.component.getReference("sidenav-container")?.toggleCls("neo-expanded",!1);break}case"deck":if(t){const e="learnneo"===t?"learn/":`resources/data/deck/${t}/`;o.data.contentPath=Neo.config.basePath+e}}}recordIsHidden(e,t){return!!e.hidden||null!==e.parentId&&this.recordIsHidden(t.get(e.parentId),t)}}const y=Neo.setupClass(b);var x=n(6640);class N extends x.default{static config={className:"Portal.view.learn.ContentComponent",baseCls:["learn-content","neo-markdown-component"],bind:{record:e=>e.currentPageRecord},record_:null,tag:"article"};construct(e){super.construct(e);let t=this;t.addDomListeners({click:t.onClick,intersect:"onIntersect",scope:t})}afterSetMounted(e,t){super.afterSetMounted(e,t);let n=this;e&&n.timeout(50).then(()=>{Neo.main.addon.IntersectionObserver.register({callback:"findTopmostItem",id:n.id,root:`#${n.parentId}`,windowId:n.windowId})})}async afterSetRecord(e,t){if(e){let n=this;await n.doFetchContent(e),t&&(await n.timeout(50),Neo.main.DomAccess.scrollTo({direction:"top",id:n.parentId,value:0,windowId:n.windowId}))}}async doFetchContent(e){let t,n,o=this,{windowId:s}=o,a=o.getStateProvider().getData("contentPath"),i=a.includes("/learn/")?"":"pages/";a+=`${i+e.id.replaceAll(".","/")}.md`,e.isLeaf&&a&&(n=await fetch(a),t=await n.text(),o.value=t,o.toggleCls("lab",e.name?.startsWith("Lab:")),Neo.main.addon.IntersectionObserver.observe({disconnect:!0,id:o.id,observe:[".neo-h2",".neo-h3"],windowId:s}))}headlineData=null;onClick({altKey:e,metaKey:t,shiftKey:n}){let o=this,{record:s}=o;e&&!t&&n?o.fire("edit",{component:o,record:s}):!e&&t&&n&&o.fire("refresh",{component:o,record:s})}modifyMarkdown(e){this.headlineData=[];const t=super.modifyMarkdown(e);return this.getStateProvider().getStore("contentSections").data=this.headlineData,this.headlineData=null,t}onHeadline(e,t,n){const o=t.replaceAll("`","");return this.headlineData.push({id:n,name:o,sourceId:this.id,tag:e}),`<${e} class="neo-${e}" data-record-id="${n}">${t.replace(N.regexInlineCode,"<code>$1</code>")}</${e}>`}}const A=Neo.setupClass(N);var L=n(8310);class R extends o.A{static config={className:"Portal.view.learn.PageContainer",baseCls:["portal-learn-page-container","neo-container"],bind:{nextPageRecord:e=>e.nextPageRecord,previousPageRecord:e=>e.previousPageRecord},items:[{module:A,reference:"content",listeners:{edit:"onContentEdit",refresh:"onContentRefresh"}},{module:L.A,flex:"none",cls:["content-bottom-toolbar"],layout:"grid",tag:"nav",items:[{cls:["content-bottom-toolbar-previous"],handler:"onPreviousPageButtonClick",hidden:!0,iconCls:"fa fa-chevron-left",reference:"prev-page-button",ui:"secondary"},{cls:["content-bottom-toolbar-next"],handler:"onNextPageButtonClick",hidden:!0,iconCls:"fa fa-chevron-right",iconPosition:"right",reference:"next-page-button",ui:"secondary"}]}],nextPageRecord_:null,previousPageRecord_:null};get nextPageButton(){return this.getReference("next-page-button")}get prevPageButton(){return this.getReference("prev-page-button")}afterSetNextPageRecord(e,t){void 0!==t&&(e?this.nextPageButton.set({hidden:!1,text:e.name}):this.nextPageButton.hidden=!0)}afterSetPreviousPageRecord(e,t){void 0!==t&&(e?this.prevPageButton.set({hidden:!1,text:e.name}):this.prevPageButton.hidden=!0)}}const k=Neo.setupClass(R);var D=n(3123);class T extends D.A{static config={className:"Portal.view.learn.PageSectionsList",bind:{store:"stores.contentSections"},cls:["portal-page-sections-list","topics-tree"]};isAnimating=!1;createItemContent(e,t){return{cls:`neo-${e.tag}`,text:e[this.displayField]}}onConstructed(){super.onConstructed();let e=this;e.on("itemClick",e.onSelectionChange,e)}async onSelectionChange(e){let t=this,n=e.record;n&&(t.isAnimating=!0,t.fire("pageListSelect",{record:n}),await Neo.main.DomAccess.scrollIntoView({querySelector:`[data-record-id='${n.id}']`,windowId:t.windowId}),await t.timeout(200),t.isAnimating=!1)}onStoreLoad(){super.onStoreLoad(),this.getStateProvider().data.countSections=this.store.getCount()}}const B=Neo.setupClass(T);class E extends o.A{static config={className:"Portal.view.learn.PageSectionsContainer",cls:["portal-page-sections-container"],items:[{ntype:"button",cls:["sections-container-button"],handler:"onPageSectionsToggleButtonClick",iconCls:"fas fa-bars",ui:"secondary",bind:{disabled:e=>e.countSections<1,hidden:e=>"large"===e.size}},{vdom:{cn:[{tag:"h3",text:"On this page"}]}},{module:B,listeners:{pageListSelect:"up.onPageListSelect"},reference:"list"}],layout:{ntype:"vbox"},tag:"aside"};get list(){return this.getReference("list")}onPageListSelect(e){this.toggleCls("neo-expanded",!1)}}const $=Neo.setupClass(E);var M=n(1956);class O extends o.A{static config={className:"Portal.view.learn.MainContainer",cls:["portal-learn-maincontainer"],controller:u,items:[{module:o.A,cls:["sidenav-container"],flex:"none",layout:"fit",reference:"sidenav-container",tag:"aside",items:[{module:i,reference:"tree"},{ntype:"button",bind:{hidden:e=>"x-small"!==e.size},cls:["sidenav-button"],handler:"onSideNavToggleButtonClick",iconCls:"fas fa-bars",ui:"secondary"}]},{module:M.A,bind:{hidden:e=>"x-small"===e.size},cls:["main-content-splitter"],resizeTarget:"previous",size:3},{module:k},{module:$,reference:"page-sections-container"}],layout:{ntype:"hbox",align:"stretch"},stateProvider:y}}const _=Neo.setupClass(O)}}]);