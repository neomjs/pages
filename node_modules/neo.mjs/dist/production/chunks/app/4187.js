"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[4187],{1748(e,t,a){a.d(t,{A:()=>o});var s=a(8829);class n extends s.A{static config={className:"AgentOS.view.Blackboard",_vdom:{tag:"div",cls:["neo-blackboard-wrapper"],style:{width:"100%",height:"100%"},cn:[{tag:"canvas",style:{width:"100%",height:"100%"}}]}};afterSetId(e,t){this.vdom.cn[0].id=`${e}__canvas`,super.afterSetId(e,t)}async afterSetOffscreenRegistered(e,t){if(e){let e=this;await AgentOS.canvas.Blackboard.initGraph({canvasId:e.getCanvasId(),windowId:e.windowId}),await e.updateSize()}}getCanvasId(){return this.vdom.cn[0].id}onDomResize(e){super.onDomResize(e),this.updateSize(e.contentRect)}async setData(e){await AgentOS.canvas.Blackboard.updateGraphData(e)}async updateSize(e){e&&0!==e.width&&0!==e.height||(e=await this.waitForDomRect({id:this.getCanvasId()})),await AgentOS.canvas.Blackboard.updateSize({width:e.width,height:e.height})}}const o=Neo.setupClass(n)},4187(e,t,a){a.r(t),a.d(t,{onStart:()=>O});var s=a(5367),n=a(7863),o=a(6929),i=a(1748),r=a(8344),l=a(295),d=a(1967);class c extends d.A{static config={className:"AgentOS.model.Intervention",fields:[{name:"id",type:"String"},{name:"timestamp",type:"Date"},{name:"message",type:"String"},{name:"priority",type:"String"}]}}const p=Neo.setupClass(c);var g=a(2779);class m extends g.A{static config={className:"AgentOS.store.Interventions",autoLoad:!0,model:p,url:Neo.config.basePath+"apps/agentos/resources/data/interventions.json"}}const w=Neo.setupClass(m);class f extends r.A{static config={className:"AgentOS.view.InterventionPanel",ntype:"intervention-panel",cls:["agent-panel-intervention"],layout:{ntype:"fit"},popupUrl:"apps/agentos/childapps/widget/index.html",headers:[{dock:"top",cls:["neo-draggable"],text:"Intervention"}],items:[{module:l.A,store:w,columns:[{dataField:"timestamp",text:"Time",width:100,renderer:({value:e})=>e?`[${new Intl.DateTimeFormat("default",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(e)}]`:""},{dataField:"message",text:"Message",flex:1},{dataField:"priority",text:"Priority",width:100,renderer:({value:e})=>({cls:["agent-priority",`agent-priority-${e}`],text:e})}]}]}}const h=Neo.setupClass(f);class u extends r.A{static config={className:"AgentOS.view.StrategyCardPanel",baseCls:["agent-kpi-card-panel","neo-panel","neo-container"],headers:[{cls:["neo-panel-header","neo-draggable"],dock:"top"}],title_:null,value_:null,items:[{ntype:"component",cls:["agent-kpi-card"],reference:"body-component",vdom:{cn:[{cls:"agent-kpi-value"}]}}]};afterSetTitle(e,t){this.headers[0].text=e}afterSetValue(e,t){let a=this.getItem("body-component");a.vdom.cn[0].text=e,a.update?.()}}const v=Neo.setupClass(u);var y=a(3997);class x extends y.A{static config={className:"AgentOS.view.StrategyPanelController"}}const S=Neo.setupClass(x);class C extends r.A{static config={className:"AgentOS.view.StrategyPanel",cls:["agent-panel-strategy"],controller:S,flex:1,headers:[{dock:"top",cls:["neo-draggable"],text:"Strategy Dashboard"}],layout:"fit",popupUrl:"apps/agentos/childapps/widget/index.html",items:[{module:n.A,cls:["agent-kpi-dashboard"],dragProxyExtraCls:["agent-panel-strategy","neo-panel"],layout:{ntype:"hbox",align:"stretch"},popupUrl:"apps/agentos/childapps/strategy/index.html",itemDefaults:{module:v,flex:1},items:[{cls:["velocity"],reference:"kpi-velocity",title:"Velocity",value:"85%"},{cls:["active-epics"],reference:"kpi-active-epics",title:"Active Epics",value:"12"},{cls:["uptime"],reference:"kpi-uptime",title:"Uptime",value:"98.5%"}]}]}}const A=Neo.setupClass(C);class b extends y.A{static config={className:"AgentOS.view.ViewportController"};async onOpenSwarmClick(e){let t,a="swarm",{config:s,windowConfigs:n}=Neo,{environment:o}=s,i=Object.keys(n)[0],{basePath:r}=n[i];"development"!==o&&(r=`${r+o}/`),t=`${r}apps/agentos/childapps/swarm/index.html?name=${a}`,await Neo.Main.windowOpen({url:t,windowId:this.windowId,windowName:a,windowFeatures:"height=600,width=800,left=50,top=50"})}}const N=Neo.setupClass(b);class k extends s.A{static config={className:"AgentOS.view.Viewport",cls:["agent-os-viewport"],controller:N,layout:{ntype:"vbox",align:"stretch"},items:[{ntype:"toolbar",cls:["agent-top-toolbar"],flex:"none",items:[{ntype:"component",cls:["agent-logo"],html:'<img src="../../resources/images/logo/neo_logo_cyberpunk.svg" alt="Neo.mjs Logo">'},{ntype:"label",text:"Agent OS Command Center"},"->",{ntype:"button",cls:["agent-button"],iconCls:"fa fa-window-restore",text:"Detach Swarm View",handler:"onOpenSwarmClick"}]},{module:n.A,dragProxyExtraCls:["agent-os-viewport","neo-viewport"],flex:1,popupUrl:"apps/agentos/childapps/widget/index.html",reference:"dashboard",sortGroup:"neo-connected-dashboard",cls:["agent-dashboard"],style:{margin:"20px"},items:[{module:A,flex:2,reference:"strategy"},{module:o.A,cls:["agent-panel-swarm"],flex:5,popupUrl:"apps/agentos/childapps/swarm/index.html",reference:"swarm",headers:[{dock:"top",cls:["neo-draggable"],text:"Swarm View"}],items:[{module:i.A,style:{backgroundColor:"#000",height:"100%",width:"100%"}}]},{module:h,flex:3,reference:"intervention"}]}]}}const I=Neo.setupClass(k),O=()=>Neo.app({mainView:I,name:"AgentOS"})},8829(e,t,a){a.d(t,{A:()=>o});var s=a(1741);class n extends s.A{static config={className:"Neo.component.Canvas",ntype:"canvas",monitorSize_:!0,offscreen:!0,offscreenRegistered_:!1,_vdom:{tag:"canvas"}};async afterSetMounted(e,t){super.afterSetMounted(e,t);let a=this,s=a.getCanvasId(),{offscreen:n,windowId:o}=a;if(e){if(await a.timeout(30),a.monitorSize&&a.addDomListeners([{delegate:`#${a.getCanvasId()}`,resize:a.onDomResize,scope:a}]),n){const e=await Neo.main.DomAccess.getOffscreenCanvas({nodeId:s,windowId:o});e.offscreen?(await Neo.worker.Canvas.registerCanvas({node:e.offscreen,nodeId:s,windowId:o},[e.offscreen]),a.offscreenRegistered=!0):e.transferred&&Neo.config.useSharedWorkers&&(await Neo.worker.Canvas.retrieveCanvas({nodeId:s,windowId:o})).hasCanvas&&(a.offscreenRegistered=!0)}}else n&&(a.offscreenRegistered=!1)}afterSetWindowId(e,t){super.afterSetWindowId(e,t),t&&(this.offscreenRegistered=!1)}getCanvasId(){return this.id}onDomResize(e){this.fire("resize",e)}}const o=Neo.setupClass(n)}}]);