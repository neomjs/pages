"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[6443],{2167(e,t,n){n.d(t,{A:()=>i});var o=n(5656);class s extends o.default{static config={className:"Portal.view.shared.content.Component",baseCls:["portal-content-component","neo-markdown-component"],bind:{record:e=>e.currentPageRecord},issuesUrl:"#/news/tickets/",record_:null,replaceTicketIds:!0,tag:"article",updateSectionsStore:!0};construct(e){super.construct(e);let t=this;t.addDomListeners({click:t.onClick,intersect:"onIntersect",scope:t})}afterSetMounted(e,t){super.afterSetMounted(e,t);let n=this;e&&n.timeout(50).then(()=>{Neo.main.addon.IntersectionObserver.register({callback:"findTopmostItem",id:n.id,root:`#${n.parentId}`,windowId:n.windowId})})}async afterSetRecord(e,t){if(e){let n=this;await n.doFetchContent(e),t&&(await n.timeout(50),Neo.main.DomAccess.scrollTo({direction:"top",id:n.parentId,value:0,windowId:n.windowId}))}}async doFetchContent(e){let t,n,o,s=this,{windowId:i}=s;o=s.getContentPath(e),e.isLeaf&&o&&(n=await fetch(o),t=await n.text(),s.value=t,s.toggleCls("lab",e.name?.startsWith("Lab:")),Neo.main.addon.IntersectionObserver.observe({disconnect:!0,id:s.id,observe:[".neo-h2",".neo-h3"],windowId:i}))}getContentPath(e){return null}headlineData=null;onClick({altKey:e,metaKey:t,shiftKey:n}){let o=this,{record:s}=o;e&&!t&&n?o.fire("edit",{component:o,record:s}):!e&&t&&n&&o.fire("refresh",{component:o,record:s})}modifyMarkdown(e){this.headlineData=[];const t=super.modifyMarkdown(e);return this.updateSectionsStore&&(this.getStateProvider().getStore("sections").data=this.headlineData),this.headlineData=null,t}onHeadline(e,t,n){const o=t.replaceAll("`","");return this.headlineData.push({id:n,name:o,sourceId:this.id,tag:e}),`<${e} class="neo-${e}" data-record-id="${n}">${t.replace(s.regexInlineCode,"<code>$1</code>")}</${e}>`}}const i=Neo.setupClass(s)},3071(e,t,n){n.d(t,{A:()=>r});var o=n(3572),s=n(1031),i=(n(4556),n(4256));class a extends o.A{static observable=!0;static config={className:"Neo.selection.Model",ntype:"selection-model",cls:null,items_:{[i.o]:!0,clone:"shallow",cloneOnGet:"none",isEqual:()=>!1,value:[]},selectedCls:"neo-selected",singleSelect:!0,view_:null};beforeGetView(e){return Neo.getComponent(this._view)}beforeSetView(e){return e&&e.id}addDomListener(){}deselect(e,t,n=this.items,o){let i,a=this,{view:r}=a;e=e.isRecord?r.getItemId(e):Neo.isObject(e)?e.id:e,n.includes(e)?(i=r.getVdomChild(e),i&&(i.cls=s.A.remove(i.cls||[],o||a.selectedCls),delete i["aria-selected"]),s.A.remove(n,e),t||(r.update(),r.parent?.onDeselect?.(),r.onDeselect?.(),a.fire("selectionChange",{selection:n}))):t||a.fire("noChange")}deselectAll(e,t=this.items){let n=this,o=[...t],{view:s}=n;o.length?(o.forEach(e=>{n.deselect(e,!0)}),!e&&o.length>0&&s.update(),n.fire("selectionChange",{selection:this.items})):e||n.fire("noChange")}destroy(...e){this.unregister(),super.destroy(...e)}getController(){return this.view.getController()}getSelection(){return this.items}hasSelection(){return this.items.length>0}isSelected(e){return this.items.includes(e)}register(e){let t=this,n=e.wrapperCls||[];t.cls&&!n.includes(t.cls)&&(n.push(t.cls),e.wrapperCls=n),t.view=e,t.addDomListener(),e.fire("selectionModelChange",{value:t})}removeDomListeners(){let e=this,t=e.view,n=[...t.domListeners];t.domListeners.forEach(t=>{t.scope===e&&s.A.remove(n,t)}),t.domListeners=n}select(e,t=this.items,n){Array.isArray(e)||(e=[e]);let o=this,{view:i}=o,a=e.map(e=>{if(e.isRecord)return e;const t=i.getItemRecordId?.(e);return t&&i.store?.get(t)||e});e=e.map(e=>e.isRecord?i.getItemId(e):Neo.isObject(e)?e.id:e),Neo.isEqual(t,e)?o.fire("noChange"):(o.singleSelect&&t===o.items&&o.deselectAll(!0,t),e.forEach(e=>{(e=i.getVdomChild(e))&&(e.cls=s.A.add(e.cls||[],n||o.selectedCls),e["aria-selected"]=!0)}),s.A.add(t,e),i.silentSelect||i.update(),i.parent?.onSelect?.(e),i.onSelect?.(e),i.fire("select",{records:a,selection:t}),o.fire("selectionChange",{records:a,selection:t}))}toggleSelection(e){let t=this;t.isSelected(e)?t.deselect(e):t.select(e)}toJSON(){const e=this,t=(e.items||[]).map(e=>Neo.isRecord(e)?e.toJSON():e);return{...super.toJSON(),items:t,selectedCls:e.selectedCls,singleSelect:e.singleSelect}}unregister(){let e=this,{view:t}=e;if(!t.isDestroying){let n=t.wrapperCls||[];e.cls&&n.includes(e.cls)&&(s.A.remove(n,e.cls),t.wrapperCls=n),e.deselectAll(),e.removeDomListeners()}}}const r=Neo.setupClass(a)},5513(e,t,n){n.d(t,{A:()=>f});var o=n(4256),s=n(1184),i=n(6728),a=n(3123);class r extends a.A{static config={className:"Portal.view.shared.content.SectionsList",bind:{store:"stores.sections"},cls:["portal-shared-content-sections-list","portal-content-tree-list"]};isAnimating=!1;createItemContent(e,t){let n=[];return e.image?n.push({tag:"img",src:e.image,cls:["neo-list-icon","avatar"]}):e.icon&&n.push({tag:"i",cls:["neo-list-icon","fa-solid",e.icon]}),n.push({tag:"span",text:e[this.displayField]}),{cls:`neo-${e.tag}`,cn:n}}onConstructed(){super.onConstructed();let e=this;e.on("itemClick",e.onSelectionChange,e)}async onSelectionChange(e){let t=this,n=e.record;n&&(t.isAnimating=!0,t.fire("pageListSelect",{record:n}),await Neo.main.DomAccess.scrollIntoView({querySelector:`[data-record-id='${n.id}']`,windowId:t.windowId}),await t.timeout(200),t.isAnimating=!1)}onStoreLoad(){super.onStoreLoad(),this.getStateProvider().data.countSections=this.store.getCount()}}const l=Neo.setupClass(r);class c extends s.A{static config={className:"Portal.view.shared.content.SectionsContainer",cls:["portal-shared-content-sections-container"],items:[{ntype:"button",cls:["sections-container-button"],handler:"onPageSectionsToggleButtonClick",iconCls:"fas fa-bars",ui:"secondary",bind:{disabled:e=>e.countSections<1,hidden:e=>"large"===e.size}},{vdom:{cn:[{tag:"h3",text:"On this page"}]}},{module:l,listeners:{pageListSelect:"up.onPageListSelect"},reference:"list"}],layout:{ntype:"vbox"},tag:"aside"};get list(){return this.getReference("list")}onPageListSelect(e){this.toggleCls("neo-expanded",!1)}}const d=Neo.setupClass(c);var u=n(1956),g=n(3176);class h extends g.A{static config={className:"Portal.view.shared.content.TreeList",bind:{contentPath:e=>e.contentPath,currentPageRecord:e=>e.currentPageRecord,store:"stores.tree"},cls:["portal-content-tree-list"],contentPath_:null,currentPageRecord_:null,routePrefix:null,saveScrollPosition:!0,showCollapseExpandAllIcons:!1};afterSetContentPath(e,t){e&&this.doLoadStore()}async afterSetCurrentPageRecord(e,t){e&&this.selectionModel.select(e)}doLoadStore(){this.store.load({url:`${this.contentPath}tree.json`})}onLeafItemClick(e){super.onLeafItemClick(e),this.routePrefix&&Neo.Main.setRoute({value:`${this.routePrefix}/${e.id}`,windowId:this.windowId})}onStoreLoad(){super.onStoreLoad(),this.getStateProvider().data.countPages=this.store.getCount()}}const p=Neo.setupClass(h);class m extends s.A{static config={className:"Portal.view.shared.content.Container",baseCls:["portal-shared-content-container","neo-container"],items:{[o.o]:!0,clone:"deep",merge:"deep",value:{"sidenav-container":{module:s.A,cls:["sidenav-container"],flex:"none",layout:"fit",reference:"sidenav-container",tag:"aside",weight:10,items:{tree:{module:p,[o.f]:"treeConfig",reference:"tree"},toggleBtn:{ntype:"button",bind:{hidden:e=>"x-small"!==e.size},cls:["sidenav-button"],handler:"onSideNavToggleButtonClick",iconCls:"fas fa-bars",ui:"secondary"}}},splitter:{module:u.A,bind:{hidden:e=>"x-small"===e.size},cls:["main-content-splitter"],resizeTarget:"previous",size:3,weight:20},pageContainer:{[o.f]:"pageContainerConfig",weight:30},"page-sections-container":{module:d,reference:"page-sections-container",weight:40}}},layout:{ntype:"hbox",align:"stretch"},pageContainerConfig_:{[o.o]:!0,merge:"deep",value:{module:i.A,buttonTextField:"name",contentConfig:{module:null}}},treeConfig_:{[o.o]:!0,merge:"deep",value:null}}}const f=Neo.setupClass(m)},6728(e,t,n){n.d(t,{A:()=>l});var o=n(4256),s=n(2167),i=n(1184),a=n(8310);class r extends i.A{static config={className:"Portal.view.shared.content.PageContainer",baseCls:["portal-shared-content-page-container","neo-container"],bind:{nextPageRecord:e=>e.nextPageRecord,previousPageRecord:e=>e.previousPageRecord},buttonTextField:"name",contentConfig_:{[o.o]:!0,merge:"deep",value:{module:s.A}},items:{[o.o]:!0,clone:"deep",merge:"deep",value:{content:{[o.f]:"contentConfig",reference:"content",weight:10,listeners:{edit:"onContentEdit",refresh:"onContentRefresh"}},toolbar:{module:a.A,flex:"none",cls:["content-bottom-toolbar"],layout:"grid",tag:"nav",weight:20,items:{"prev-page-button":{cls:["content-bottom-toolbar-previous"],handler:"onPreviousPageButtonClick",hidden:!0,iconCls:"fa fa-chevron-left",reference:"prev-page-button",ui:"secondary"},"next-page-button":{cls:["content-bottom-toolbar-next"],handler:"onNextPageButtonClick",hidden:!0,iconCls:"fa fa-chevron-right",iconPosition:"right",reference:"next-page-button",ui:"secondary"}}}}},nextPageRecord_:null,previousPageRecord_:null};get nextPageButton(){return this.getReference("next-page-button")}get prevPageButton(){return this.getReference("prev-page-button")}onConstructed(){super.onConstructed();let e=this;e.nextPageRecord&&e.afterSetNextPageRecord(e.nextPageRecord),e.previousPageRecord&&e.afterSetPreviousPageRecord(e.previousPageRecord)}afterSetNextPageRecord(e,t){let n=this;n.nextPageButton&&(e?n.nextPageButton.set({hidden:!1,text:e[n.buttonTextField]}):n.nextPageButton.hidden=!0)}afterSetPreviousPageRecord(e,t){let n=this;n.prevPageButton&&(e?n.prevPageButton.set({hidden:!1,text:e[n.buttonTextField]}):n.prevPageButton.hidden=!0)}}const l=Neo.setupClass(r)},8938(e,t,n){n.d(t,{A:()=>i});var o=n(1967);class s extends o.A{static config={className:"Portal.model.ContentSection",fields:[{name:"id",type:"String"},{name:"name",type:"String"},{name:"tag",type:"String"}]}}const i=Neo.setupClass(s)},9045(e,t,n){n.d(t,{A:()=>a});var o=n(8938),s=n(2779);class i extends s.A{static config={className:"Portal.store.ContentSections",model:o.A}}const a=Neo.setupClass(i)}}]);