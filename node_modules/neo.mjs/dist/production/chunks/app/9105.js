"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[9105],{5800:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(2432),r=n(3439),a=n(599);class s extends o.A{static config={className:"Neo.controller.Component",ntype:"component-controller",component:null,parent_:null,references:null,windowId:null};construct(e){super.construct(e);let t=this,{component:n}=t;t.references={},n.isConstructed?t.onComponentConstructed():n.on("constructed",(()=>{t.onComponentConstructed()}),t,{once:!0})}beforeSetParent(e,t){return e||this.getParent()}getHandlerScope(e,t){let n=this,{parent:o}=n;return!(!t||!(0,r.Ap)(e,t).fn)||(Neo.isFunction(n[e])?n:o?.getHandlerScope(e)||null)}getParent(){let{parent:e}=this;return e||this.component.parent?.getController()||null}getReference(e){let t=this,n=t.references[e];return n||(n=t.component.down({reference:e}),n&&(t.references[e]=n)),n||null}getState(...e){return this.getStateProvider().getData(...e)}getStateProvider(e=!1){let{component:t}=this;return e?t.stateProvider:t.getStateProvider()}getStore(e){return this.getStateProvider().getStore(e)}onComponentConstructed(){}parseConfig(e=this.component){let t,n,o=this,{handler:r,listeners:s,reference:i,validator:d}=e;r&&"string"==typeof r&&(n=o.getHandlerScope(r,e),!0!==n&&(e.handler=n[r].bind(e.handlerScope||n))),s&&Object.entries(s).forEach((([r,i])=>{"scope"!==r&&"delegate"!==r&&(Neo.isString(i)?(t=i,n=o.getHandlerScope(t,e),n?!0!==n&&(s[r]={},s[r].fn=n[t].bind(n)):a.A.logError("Unknown event handler for",t,e)):i.forEach((r=>{Neo.isObject(r)&&r.hasOwnProperty("fn")&&Neo.isString(r.fn)&&(t=r.fn,n=o.getHandlerScope(t,e),n?!0!==n&&(r.fn=n[t].bind(n)):console.error("Unknown event handler for",t,e))})))})),Neo.isString(d)&&(n=o.getHandlerScope(d),n?e.validator=n[d].bind(n):a.A.logError("Unknown validator for",e.id,e)),i&&(o.references[i]=e)}parseDomListeners(e=this.component){let t,n,o=this,{domListeners:r}=e;r?.forEach((e=>{Object.entries(e).forEach((([r,a])=>{t=null,"scope"!==r&&"delegate"!==r&&(Neo.isString(a)?t=a:Neo.isObject(a)&&a.hasOwnProperty("fn")&&Neo.isString(a.fn)&&(t=a.fn),t&&(n=o.getHandlerScope(t),n&&(e[r]=n[t].bind(n))))}))}))}removeReference(e){let t,{references:n}=this;for(t in n)if(e===n[t]){delete n[t];break}this.getParent()?.removeReference(e)}setState(...e){this.getStateProvider().setData(...e)}}const i=Neo.setupClass(s)},9105:(e,t,n)=>{n.r(t),n.d(t,{onStart:()=>N});var o=n(2930),r=n(4912),a=n(9374),s=n(5800);class i extends s.A{static config={className:"Neo.examples.grid.nestedRecordFields.ViewportController"};dialog=null;editButtonHandler(e){let t=this,o=e.component,{appName:r,dialog:a,theme:s,windowId:i}=t,{record:d}=o;a?(a.animateTargetId=o.id,a.record=d,a.show()):Promise.all([n.e(5156),n.e(6827),n.e(479),n.e(2971),n.e(2588)]).then(n.bind(n,1679)).then((e=>{t.dialog=Neo.create({module:e.default,animateTargetId:o.id,appName:r,stateProvider:{parent:t.getStateProvider()},record:d,theme:s,windowId:i})}))}onCountryStoreLoad(e){let t,n=this.getStore("mainStore");n.getCount()>0&&n.items.forEach((e=>{t=e.country,e.toJSON().country=null,e.country=t}))}onSwitchDragModeButtonClick(e){let t=e.component,n=this.getReference("grid"),{sortZone:o}=n.headerToolbar;"fas fa-check"===t.iconCls?(t.set({iconCls:"far fa-square"}),o.moveColumnContent=!0):(t.set({iconCls:"fas fa-check"}),o.moveColumnContent=!1)}onSwitchThemeButtonClick(e){let t=this,n=e.component,o="neo-theme-light"!==t.theme,r=o?"neo-theme-light":"neo-theme-dark";n.set({iconCls:o?"fa fa-moon":"fa fa-sun",text:o?"Dark Theme":"Light Theme"}),t.theme=r,t.dialog&&(t.dialog.theme=r)}}const d=Neo.setupClass(i);var l=n(8202);class c extends l.A{static config={className:"Neo.examples.grid.nestedRecordFields.MainModel",fields:[{name:"annotations",type:"Object",fields:[{name:"selected",type:"Boolean",defaultValue:!1}]},{name:"country",type:"String"},{name:"date",type:"String"},{name:"edit",type:"String"},{name:"githubId",type:"String"},{name:"user",type:"Object",fields:[{name:"firstname",type:"String"},{name:"lastname",type:"String"}]}],trackModifiedFields:!0}}const m=Neo.setupClass(c);var u=n(1374);class g extends u.A{static config={className:"Neo.examples.grid.nestedRecordFields.MainStore",keyProperty:"githubId",model:m,data:[{country:"DE",date:"2025-04-15",githubId:"tobiu",user:{firstname:"Tobias",lastname:"Uhlig"}},{annotations:{selected:!0},country:"US",date:"2025-04-16",githubId:"rwaters",user:{firstname:"Rich",lastname:"Waters"}},{country:"DE",date:"2025-04-17",githubId:"mrsunshine",user:{firstname:"Nils",lastname:"Dehl"}},{country:"US",date:"2025-04-18",githubId:"camtnbikerrwc",user:{firstname:"Gerard",lastname:"Horan"}}]}}const h=Neo.setupClass(g);var p=n(3697);class f extends p.A{static config={className:"Neo.examples.grid.nestedRecordFields.ViewportStateProvider",stores:{countries:{module:u.A,autoLoad:!0,keyProperty:"code",listeners:{load:"onCountryStoreLoad"},url:"../../../resources/examples/data/countries.json",model:{fields:[{name:"code"},{name:"name"}]}},mainStore:h}}}const S=Neo.setupClass(f);class C extends o.A{static config={className:"Neo.examples.grid.nestedRecordFields.Viewport",controller:d,stateProvider:S,style:{padding:"1em"},items:[{ntype:"toolbar",flex:"none",reference:"switch-theme-button",style:{marginBottom:"1em"},items:["->",{handler:"onSwitchDragModeButtonClick",iconCls:"far fa-square",style:{marginRight:"1em"},text:"Drag column headers only"},{handler:"onSwitchThemeButtonClick",iconCls:"fas fa-sun",text:"Light Theme"}]},{module:a.A,bind:{store:"stores.mainStore"},reference:"grid",columnDefaults:{width:200},columns:[{dataField:"user.firstname",text:"Firstname"},{dataField:"user.lastname",text:"Lastname"},{dataField:"githubId",text:"Github Id"},{dataField:"date",text:"Date"},{dataField:"country",text:"Country",renderer:"up.countryRenderer"},{dataField:"edit",text:"Edit Action",component:{module:r.A,handler:"editButtonHandler",text:"Edit"}}],viewConfig:{highlightModifiedCells:!0}}]};countryRenderer({gridContainer:e,record:t}){let n=e.getStateProvider().getStore("countries");return n.getCount()>0?n.get(t.country).name:""}}const y=Neo.setupClass(C),N=()=>Neo.app({mainView:y,name:"Neo.examples.grid.nestedRecordFields"})}}]);