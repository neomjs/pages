"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[6216],{2930:(e,n,t)=>{t.d(n,{A:()=>i});var o=t(3079);class s extends o.A{static config={className:"Neo.container.Viewport",ntype:"viewport",applyBodyCls:!0,autoMount:!0,baseCls:["neo-viewport"],monitorSize_:!1};afterSetMounted(e,n){super.afterSetMounted(e,n);let t=this;e&&t.monitorSize&&t.addDomListeners([{resize:t.onDomResize,scope:t}])}onConstructed(){super.onConstructed();let{appName:e,windowId:n}=this;this.applyBodyCls&&Neo.main.DomAccess.applyBodyCls({appName:e,cls:["neo-body-viewport"],windowId:n})}onDomResize(e){this.fire("resize",e)}}const i=Neo.setupClass(s)},3799:(e,n,t)=>{t.d(n,{A:()=>c});var o=t(9750),s=t(4304),i=t(358);class d{componentId=null;dependencies=new Map;_fn=null;id=i.A.getId("effect");isDestroyed=!1;isRunning=null;get fn(){return this._fn}set fn(e){this._fn=e,this.run()}constructor(e,n={}){const t=this,{fn:s,componentId:i,lazy:d=!1,subscriber:c}="function"==typeof e?{...n,fn:e}:e||{};i&&(t.componentId=i),t.isRunning=new o.A(!1),c&&[].concat(c).forEach(e=>t.isRunning.subscribe(e)),d?t._fn=s:t.fn=s}destroy(){const e=this;e.dependencies.forEach(e=>e()),e.dependencies.clear(),e.isDestroyed=!0}run(){const e=this;if(e.isDestroyed)return;s.A.pauseTracking();const n=e.isRunning.get();if(s.A.resumeTracking(),!n)if(s.A.isPaused())s.A.queue(e);else{s.A.pauseTracking(),e.isRunning.set(!0),s.A.resumeTracking(),e.dependencies.forEach(e=>e()),e.dependencies.clear(),s.A.push(e);try{e.fn()}finally{s.A.pop(),s.A.pauseTracking(),e.isRunning.set(!1),s.A.resumeTracking()}}}addDependency(e){const n=this;if(!n.dependencies.has(e)){const t=e.subscribe({id:n.id,fn:n.run.bind(n)});n.dependencies.set(e,t)}}}const c=Neo.gatekeep(d,"Neo.core.Effect",()=>{Neo.effect=(e,n)=>new d(e,n)})},4701:(e,n,t)=>{t.d(n,{A:()=>m});var o=t(3088),s=t(3799),i=t(6270);const d=Symbol.for("activeDomListeners"),c=Symbol.for("hookIndex"),r=Symbol.for("hooks"),a=Symbol.for("pendingDomEvents"),l=Symbol("vdomToApply");class p extends o.A{static config={className:"Neo.functional.component.Base",enableHtmlTemplates_:!1,ntype:"functional-component",vdom:{}};childComponents=null;#e=null;construct(e){super.construct(e);let n=this,t={configurable:!0,enumerable:!1,writable:!0};Object.defineProperties(n,{[d]:{...t,value:[]},[c]:{...t,value:0},[r]:{...t,value:[]},[a]:{...t,value:[]},[l]:{...t,value:null}}),n.vdomEffect=new s.A({fn:()=>{n[c]=0,n[a]=[],n[l]=n.createVdom(n)},componentId:n.id,subscriber:{id:n.id,fn:n.onEffectRunStateChange,scope:n}})}afterSetMounted(e,n){super.afterSetMounted(e,n),void 0!==n&&e&&this.applyPendingDomListeners()}afterSetEnableHtmlTemplates_(e,n){e&&!this.htmlParser&&t.e(8742).then(t.bind(t,8742)).then(e=>{this.htmlParser=e.default})}afterSetWindowId(e,n){super.afterSetWindowId(e,n),this.childComponents?.forEach(n=>{n.instance.windowId=e})}applyPendingDomListeners(){const e=this,n=e[d],t=e[a];t.length>0&&(Neo.isEqual(n,t)||(n?.length>0&&e.removeDomListeners(e[d]),e.addDomListeners([...t]),e[d]=[...t]),e[a]=[])}beforeUpdate(){}createVdom(e){const n=this;return n.enableHtmlTemplates&&"function"==typeof n.createTemplateVdom?n.createTemplateVdom(e):{}}destroy(){const e=this;e.vdomEffect?.destroy(),e.childComponents?.forEach(e=>{e.instance.destroy()}),e.childComponents?.clear(),e[a]=null,super.destroy()}diffAndSet(e,n,t){const o={};for(const s in n){const i=n[s],d=t[s];Neo.isEqual(i,d)||("Object"===Neo.typeOf(i)&&"NeoInstance"===Neo.typeOf(e[s])?this.diffAndSet(e[s],i,d||{}):o[s]=i)}Object.keys(o).length>0&&e.set(o)}onEffectRunStateChange(e,n){if(!1===e){const e=this,n=e[l];if(n){e.#e=new Map;const t=e.processVdomForComponents(n,e.id);e.childComponents?.size>0&&[...e.childComponents].forEach(([n,t])=>{e.#e.has(n)||(e.childComponents.delete(n),t.instance.destroy())});const o=e.childComponents?new Set(e.childComponents.keys()):new Set;let s=!1;for(const n of e.#e.keys())if(!o.has(n)){s=!0;break}s&&(e.updateDepth=-1),e.childComponents=e.#e;for(const n in e.vdom)delete e.vdom[n];Object.assign(e.vdom,t),e[l]=null;const d=e.getVdomRoot();e.cls&&(d.cls=i.A.union(e.cls,d.cls)),e.id&&(d.id=e.id),e.syncVdomIds(),!1!==e.beforeUpdate()&&e.updateVdom(),e.mounted&&e.applyPendingDomListeners()}}}processVdomForComponents(e,n,t){if(!e)return e;if(e.componentId)return e;const o=this;if(e.className||e.module||e.ntype){const s=e.id;s||console.error(['Component definition in functional component VDOM is missing an "id". For stable reconciliation, ','especially in dynamic lists, provide a unique "id" property.'].join(""),e);let i,d=o.childComponents?.get(s),c={...e};return delete c.className,delete c.id,delete c.module,delete c.ntype,d?(i=d.instance,this.diffAndSet(i,c,d.lastConfig)):(o.childComponents??=new Map,i=Neo[e.className||e.module?"create":"ntype"]({...e,parentId:n,parentIndex:t,windowId:o.windowId})),o.#e.set(s,{instance:i,lastConfig:c}),i.createVdomReference()}return e.cn&&Array.isArray(e.cn)&&(e.cn=e.cn.map((e,t)=>o.processVdomForComponents(e,n,t))),e}}const m=Neo.setupClass(p)}}]);