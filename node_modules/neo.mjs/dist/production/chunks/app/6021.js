"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[6021],{3293:(e,t,r)=>{r.d(t,{A:()=>n});var o=r(5608),s=r(293),l=r(6270);class i extends o.A{static isTouchedEvents=["focusEnter","focusLeave"];static config={className:"Neo.form.field.Base",ntype:"basefield",formGroup_:null,isTouched_:!1,isTouchedEvent_:"focusLeave",name_:null,renderName_:!0,renderPath:!0,value_:null};formGroupString=null;get isDirty(){return!Neo.isEqual(this.getSubmitValue(),this.originalConfig.value)}path=null;afterSetIsTouched(e,t){let{cls:r}=this;l.A.toggle(r,"neo-is-touched",e),this.cls=r}afterSetName(e,t){let r=this;r.renderName&&r.changeInputElKey("name",r.renderPath?r.getPath():e)}afterSetRole(e,t){this.getInputEl().role=e,this.update()}afterSetValue(e,t){void 0!==t&&this.fireChangeEvent(e,t)}beforeGetFormGroup(e){let t,r=this,o=[];return r.formGroupString?r.formGroupString:(e&&o.push(e),s.A.getParents(r).forEach((e=>{e.formGroup&&o.unshift(e.formGroup)})),t=o.join("."),r.formGroupString=t,t)}beforeSetIsTouchedEvent(e,t){return this.beforeSetEnumValue(e,t,"isTouchedEvent")}changeInputElKey(e,t,r=!1){let o=this;t||Neo.isBoolean(t)||0===t?o.getInputEl()[e]=t:delete o.getInputEl()[e],!r&&o.update()}doFireChangeEvent(e,t,r){let o=this,l=Neo.form?.Container,i="field"+Neo.capitalize(r),n={component:o,oldValue:t,value:e};Neo.isFunction(o.getGroupValue)&&(n.groupValue=o.getGroupValue()),o.fire(r,n),o.suspendEvents||s.A.getParents(o).forEach((e=>{l&&e instanceof l&&e.fire(i,n)}))}fireChangeEvent(e,t){this.doFireChangeEvent(e,t,"change")}fireUserChangeEvent(e,t){this.doFireChangeEvent(e,t,"userChange")}getClosestForm(){let e,t=this,r=Neo.form?.Container;for(e of s.A.getParents(t))if(r&&e instanceof r)return e;return null}getInputEl(){return this.vdom}getPath(){let e,t=this;if(!t.name)return null;if(!t.path){if(e=t.formGroup?t.formGroup.split("."):[],t.name&&e.push(t.name),e.length<1)return null;t.path=e.join(".")}return t.path||(t.path="none"),"none"===t.path?null:t.path}getSubmitValue(){return this.value}getValue(){return this.getSubmitValue()}isValid(){return!0}onFocusEnter(e){super.onFocusLeave(e),"focusEnter"===this.isTouchedEvent&&(this.isTouched=!0)}onFocusLeave(e){super.onFocusLeave(e);let t=this,r=Neo.form?.Container,o={...e,component:t,value:t.getSubmitValue()};"focusLeave"===t.isTouchedEvent&&(t.isTouched=!0),Neo.isFunction(t.getGroupValue)&&(o.groupValue=t.getGroupValue()),t.suspendEvents||s.A.getParents(t).forEach((e=>{r&&e instanceof r&&e.fire("fieldFocusLeave",o)}))}reset(e=null){this.originalConfig.value=e,this.value=e}validate(e=!0){return!0}}const n=Neo.setupClass(i)},2393:(e,t,r)=>{r.d(t,{A:()=>b});var o=r(3079),s=r(2778),l=r(1564),i=r(6270),n=r(1315),a=r(3303),d=r(5608),c=r(825);class u extends d.A{static config={className:"Neo.grid.View",ntype:"grid-view",baseCls:["neo-grid-view"],colspanField:"colspan",containerId:null,recordVnodeMap:{},selectedRecordField:"annotations.selected",store:null,useRowRecordIds:!0};get selectedRows(){let e=this.parent;return"selection-grid-rowmodel"===e.selectionModel.ntype?e.selectionModel.items:[]}construct(e){super.construct(e);let t=this;t.addDomListeners([{click:t.onCellClick,dblclick:t.onCellDoubleClick,delegate:".neo-grid-cell",scope:t},{click:t.onRowClick,dblclick:t.onRowDoubleClick,delegate:".neo-grid-row",scope:t}])}applyRendererOutput(e){let t,r,{cellId:o,column:s,gridContainer:l,index:i,record:n}=e,a=["neo-grid-cell"],d=n[this.colspanField],{dataField:c}=s,u=Neo.ns(c,!1,n);switch(null==u&&(u=""),r=s.renderer.call(s.rendererScope||l,{column:s,dataField:c,gridContainer:l,index:i,record:n,value:u}),Neo.typeOf(r)){case"Object":r.html?r.cls&&a.push(...r.cls):r=[r];break;case"Date":case"Number":case"String":r={cls:a,html:r?.toString()}}return null==r&&(r=""),"left"!==s.cellAlign&&a.push("neo-"+s.cellAlign),o||(o=this.getCellId(n,s.dataField)),t={id:o,cls:a,style:r.style||{},tabIndex:"-1"},s.width&&(t.style.minWidth=`${s.width}px`),d&&Object.keys(d).includes(c)&&(t.colspan=d[c]),"Object"===Neo.typeOf(r)?t.innerHTML=r.html||"":t.cn=r,t}createRow({record:e,rowIndex:t}){Neo.isNumber(t)||(t=this.store.indexOf(e));let r,o,s,l,n,a=this,d=a.parent,c=e[a.colspanField],u=c&&Object.keys(c),h=d.items[0].items,g=h.length,p=0,m=0,f=a.getRowId(e,t),{selectedRows:w}=a,v=a.getTrClass(e,t);for(a.recordVnodeMap[f]=t,w&&Neo.ns(a.selectedRecordField,!1,e)&&i.A.add(w,f),w?.includes(f)&&(v.push("neo-selected"),a.parent.fire("select",{record:e})),l={id:f,cls:v,cn:[],tabIndex:"-1"},n=0;n<g;n++)o=h[n],r=a.applyRendererOutput({column:o,gridContainer:d,index:t,record:e}),o.dock&&(r.cls=["neo-locked",...r.cls||[]],"left"===o.dock&&(r.style.left=p+"px",p+=o.width+1)),o.flex&&(r.style.width="100%"),l.cn.push(r),u?.includes(o.dataField)&&(n+=c[o.dataField]-1);for(n=0;n<g;n++)s=g-n-1,o=h[s],"right"===o.dock&&(l.cn[s].style.right=m+"px",m+=o.width+1),u?.includes(o.dataField)&&(n+=c[o.dataField]-1);return 0===t&&Object.assign(d,{dockLeftMargin:p,dockRightMargin:m}),l}createViewData(e){let t=this,r=e.length,o=0,s=[],{selectedRows:l}=t;for(;o<r;o++)s.push(t.createRow({record:e[o],rowIndex:o}));t.vdom.cn=s,t.promiseUpdate().then((()=>{l?.length>0&&Neo.main.DomAccess.scrollToTableRow({appName:t.appName,id:l[0]})}))}destroy(...e){this.store=null,super.destroy(...e)}fireCellEvent(e,t){let r=this,o=e.currentTarget,s=r.getCellDataField(o),l=r.getRecord(o);r.parent.fire(t,{data:e,dataField:s,record:l,view:r})}fireRowEvent(e,t){let r=this,o=e.currentTarget,s=r.getRecord(o);r.parent.fire(t,{data:e,record:s,view:r})}getCellDataField(e){return e.split("__")[2]}getCellId(e,t){return this.id+"__"+e[this.store.keyProperty]+"__"+t}getColumn(e,t=!1){let r,o=this.parent.headerToolbar.items,s=0,l=o.length;for(;s<l;s++)if(r=o[s],r.dataField===e)return t?s:r;return null}getRecord(e){let t,r,o=this,s=o.getRecordByRowId(e);if(s)return s;for(t of(r=c.A.getParentNodes(o.vdom,e),r))if(s=o.getRecordByRowId(t.id),s)return s;return null}getRecordByRowId(e){return this.store.getAt(this.recordVnodeMap[e])}getRowId(e,t){let r=this,{store:o}=r;return r.useRowRecordIds?`${r.id}__tr__${e[o.keyProperty]}`:(t=Neo.isNumber(t)?t:o.indexOf(e),r.vdom.cn[t]?.id||Neo.getId("tr"))}getTrClass(e,t){return["neo-grid-row"]}onCellClick(e){this.fireCellEvent(e,"cellClick")}onCellDoubleClick(e){this.fireCellEvent(e,"cellDoubleClick")}onRowClick(e){this.fireRowEvent(e,"rowClick")}onRowDoubleClick(e){this.fireRowEvent(e,"rowDoubleClick")}onStoreRecordChange({fields:e,model:t,record:r}){let o,s,l,i,n,a=this,d=e.map((e=>e.name)),u=!1,h=a.parent,{selectionModel:g}=h,{vdom:p}=a;d.includes(a.colspanField)?(i=a.store.indexOf(r),a.vdom.cn[i]=a.createRow({record:r,rowIndex:i}),a.update()):e.forEach((e=>{e.name===a.selectedRecordField?"selection-grid-rowmodel"===g.ntype&&g[e.value?"select":"deselect"](a.getRowId(r)):(o=a.getCellId(r,e.name),s=c.A.find(p,o),s?.vdom&&(l=a.getColumn(e.name),i=s.index,u=!0,n=l.rendererScope||h,s.parentNode.cn[i]=a.applyRendererOutput({cellId:o,column:l,gridContainer:h,index:i,record:r})))})),u&&a.update()}}const h=Neo.setupClass(u);var g=r(4912),p=r(3599),m=r(3439);class f extends g.A{static cellAlignValues=["left","center","right"];static config={className:"Neo.grid.header.Button",ntype:"grid-header-button",baseCls:["neo-grid-header-button"],cellAlign_:"left",dataField:null,defaultSortDirection:"ASC",draggable_:!0,editorConfig:null,filterConfig:null,filterField:null,iconCls:"fa fa-arrow-circle-up",iconPosition:"right",isSorted_:null,renderer_:"cellRenderer",rendererScope:null,showHeaderFilter_:!1,sortable_:!0};construct(e){super.construct(e);let t=this;t.draggable&&t.addDomListeners({dragend:t.onDragEnd,dragenter:t.onDragEnter,dragleave:t.onDragLeave,dragover:t.onDragOver,dragstart:t.onDragStart,drop:t.onDrop,scope:t})}afterSetDraggable(e,t){let r=this;!0===e?r.getVdomRoot().draggable=!0:delete r.getVdomRoot().draggable,r.update()}afterSetIsSorted(e,t){let r=this,{cls:o}=r,s=r.up("grid-container");switch(e){case null:i.A.add(o,"neo-sort-hidden");break;case"ASC":i.A.remove(o,"neo-sort-desc"),i.A.remove(o,"neo-sort-hidden"),i.A.add(o,"neo-sort-asc");break;case"DESC":i.A.remove(o,"neo-sort-asc"),i.A.remove(o,"neo-sort-hidden"),i.A.add(o,"neo-sort-desc")}r.cls=o,s&&s.store&&r.mounted&&r.fire("sort",{direction:e,property:r.dataField})}afterSetShowHeaderFilter(e,t){let r=this;e?r.filterField?delete r.filterField.vdom.removeDom:(r.filterField=Neo.create({module:p.A,appName:r.appName,flag:"filter-field",hideLabel:!0,parentId:r.id,style:{marginLeft:".5em",marginRight:".5em"},windowId:r.windowId,listeners:{change:r.changeFilterValue,operatorChange:r.changeFilterOperator,scope:r},...r.editorConfig}),r.vdom.cn.push(r.filterField.createVdomReference())):r.filterField&&(r.filterField.vdom.removeDom=!0),r.updateDepth=2,r.update()}afterSetSortable(e,t){let r=this,{cls:o}=r;!0===e?(i.A.remove(o,"neo-sort-hidden"),r.addDomListeners({click:r.onButtonClick,scope:r})):(i.A.add(o,"neo-sort-hidden"),r.removeDomListeners({click:r.onButtonClick,scope:r})),r.cls=o,r.update()}beforeSetCellAlign(e,t){return this.beforeSetEnumValue(e,t,"cellAlign","cellAlignValues")}beforeSetRenderer(e,t){return(0,m.Ap)(e,this).fn}cellRenderer(e){return e.value}destroy(...e){this.filterField?.destroy(),super.destroy(...e)}onButtonClick(){let e,t=this;e="DESC"===t.defaultSortDirection?{ASC:null,DESC:"ASC",null:"DESC"}:{ASC:"DESC",DESC:null,null:"ASC"},t.isSorted=e[t.isSorted+""]}onDragEnd(){let{style:e}=this;delete e.opacity,this.style=e}onDragEnter(){let{cls:e}=this;i.A.add(e,"neo-drag-over"),this.cls=e}onDragLeave(){let{cls:e}=this;i.A.remove(e,"neo-drag-over"),this.cls=e}onDragOver(e){}onDragStart(){let{style:e}=this;e.opacity=.4,this.style=e}onDrop(e){let t=this,r=t.parent,{style:o}=t,s=r.parent;t.onDragLeave(),r.switchItems(t.id,e.srcId),s.createViewData(s.store.data),o.opacity=1,t.style=o}changeFilterOperator(e){let t,r,o=this,s=o.up("grid-container"),l=s?.store,i=e.value;l&&(t=l.getFilter(o.dataField),t?t.operator=i:(r=l.filters,r.push({property:o.dataField,operator:i,value:null,...o.filterConfig}),l.filters=r))}changeFilterValue(e){let t,r,o,s,l=this,i=l.up("grid-container"),n=i?.store,{value:a}=e;n&&(r=n.getFilter(l.dataField),s=n.model,t=s&&s.getField(l.dataField),a&&"date"===t.type.toLowerCase()&&(a=new Date(a)),r?r.value=a:(o=n.filters,o.push({property:l.dataField,operator:"like",value:a,...l.filterConfig}),n.filters=o))}removeSortingCss(){let e=this,{cls:t}=e;i.A.add(t,"neo-sort-hidden"),e.cls=t,e._isSorted=null}}Neo.setupClass(f);var w=r(3627);class v extends w.A{static config={className:"Neo.grid.header.Toolbar",ntype:"grid-header-toolbar",baseCls:["neo-grid-header-toolbar","neo-toolbar"],itemDefaults:{ntype:"grid-header-button"},showHeaderFilters_:!1,sortable:!0};afterSetShowHeaderFilters(e,t){if(void 0!==t){let t=this;t.items.forEach((t=>{t.setSilent({showHeaderFilter:e})})),t.updateDepth=-1,t.update()}}afterSetSortable(e,t){if(void 0!==t){let t=this;t.items.forEach((t=>{t.setSilent({sortable:e})})),t.update()}}createItems(){let e=this;e.itemDefaults.showHeaderFilter=e.showHeaderFilters,super.createItems();let t,r=0,o=0,{items:s}=e,l=s.length;s.forEach(((n,a)=>{t=n.wrapperStyle,n.maxWidth&&(t.maxWidth=n.maxWidth+"px"),n.minWidth&&(t.minWidth=n.minWidth+"px"),n.width&&(t.width=n.width+"px"),n.dock&&(i.A.add(n.vdom.cls,"neo-locked"),"left"===n.dock&&(t.left=r+"px"),r+=n.width+1),n.sortable=e.sortable,n.wrapperStyle=t,"right"===(n=s[l-a-1]).dock&&(t=n.wrapperStyle,t.right=o+"px",n.wrapperStyle=t,o+=n.width+1)})),e.update()}getColumn(e){for(const t of this.items)if(t.dataField===e)return t;return null}}const C=Neo.setupClass(v);class S extends o.A{static config={className:"Neo.grid.Container",ntype:"grid-container",baseCls:["neo-grid-container"],cellEditing_:!1,columnDefaults:null,columns_:[],headerToolbarConfig:null,headerToolbarId_:null,keys:{},layout:"base",scrollbarsCssApplied:!1,selectionModel_:null,showHeaderFilters_:!1,sortable_:!0,store_:null,useCustomScrollbars_:!0,viewConfig:null,viewId_:null,items:null,_vdom:{cls:["neo-grid-wrapper"],cn:[{cn:[]}]}};get headerToolbar(){return Neo.getComponent(this.headerToolbarId)||Neo.get(this.headerToolbarId)}get view(){return Neo.getComponent(this.viewId)||Neo.get(this.viewId)}construct(e){super.construct(e);let t=this;t.headerToolbarId=Neo.getId("grid-header-toolbar"),t.viewId=Neo.getId("grid-view"),t.items=[{module:C,id:t.headerToolbarId,showHeaderFilters:t.showHeaderFilters,sortable:t.sortable,...t.headerToolbarConfig},{module:h,containerId:t.id,id:t.viewId,store:t.store,...t.viewConfig}],t.vdom.id=t.getWrapperId(),t.createColumns(t.columns)}afterSetCellEditing(e,t){e&&r.e(4599).then(r.bind(r,4599)).then((e=>{let t=this,{appName:r,windowId:o}=t,s=t.plugins||[];s.push({module:e.default,appName:r,windowId:o}),t.plugins=s}))}afterSetColumns(e,t){if(Array.isArray(t)&&t.length>0){let t=this,{headerToolbar:r}=t;r&&(r.items=e,r.createItems()),t.view?.createViewData(t.store.items)}}afterSetSelectionModel(e,t){this.rendered&&e.register(this)}afterSetShowHeaderFilters(e,t){void 0!==t&&(this.headerToolbar.showHeaderFilters=e)}afterSetSortable(e,t){void 0!==t&&(this.headerToolbar.sortable=e)}afterSetUseCustomScrollbars(e,t){!0===e&&(this.vdom.cls=i.A.union(this.vdom.cls,["neo-use-custom-scrollbar"]))}applyCustomScrollbarsCss(){let e=this,t=e.getWrapperId(),r=[];e.dockLeftMargin&&r.push("#"+t+"::-webkit-scrollbar-track:horizontal {margin-left: "+e.dockLeftMargin+"px;}"),e.dockRightMargin&&r.push("#"+t+"::-webkit-scrollbar-track:horizontal {margin-right: "+e.dockRightMargin+"px;}"),r.length>0&&l.A.insertRules(e.appName,r),e.scrollbarsCssApplied=!0}beforeSetColumns(e,t){return this.configsApplied?this.createColumns(e):e}beforeSetHeaderToolbarId(e,t){return e||t}beforeSetSelectionModel(e,t){return t?.destroy(),s.A.beforeSetInstance(e,n.A)}beforeSetStore(e,t){if(t?.destroy(),e){let t=this,r={filter:t.onStoreFilter,load:t.onStoreLoad,recordChange:t.onStoreRecordChange,scope:t};e instanceof a.A?(e.on(r),e.getCount()>0&&t.onStoreLoad(e.items)):e=s.A.beforeSetInstance(e,a.A,{listeners:r}),t.view&&(t.view.store=e)}return e}beforeSetViewId(e,t){return e||t}bulkUpdateRecords(e){let{store:t,view:r}=this,{keyProperty:o}=t;r&&(r.silentVdomUpdate=!0,e.forEach((e=>{t.get(e[o])?.set(e)})),r.silentVdomUpdate=!1,r.update())}createColumns(e){let t,r=this,{columnDefaults:o}=r,s=r.store?.sorters;return e&&e.length||Neo.logError("Attempting to create a table.Container without defined columns",r.id),e.forEach((e=>{t=e.renderer,o&&Neo.assignDefaults(e,o),e.dock&&!e.width&&Neo.logError("Attempting to create a docked column without a defined width",e,r.id),t&&Neo.isString(t)&&r[t]&&(e.renderer=r[t]),s?.[0]&&e.dataField===s[0].property&&(e.isSorted=s[0].direction),e.listeners={sort:r.onSortColumn,scope:r}})),r.items[0].items=e,e}createViewData(e){let t=this;t.view.createViewData(e),t.useCustomScrollbars&&!1===t.scrollbarsCssApplied&&t.applyCustomScrollbarsCss()}getVdomRoot(){return this.vdom.cn[0]}getVdomItemsRoot(){return this.vdom.cn[0]}getVnodeRoot(){return this.vnode.childNodes[0]}getWrapperId(){return`${this.id}__wrapper`}onConstructed(){super.onConstructed(),this.selectionModel?.register(this)}onSortColumn(e){let t=this;t.store.sort(e),t.removeSortingCss(e.property),t.onStoreLoad(t.store.items)}onStoreFilter(){this.onStoreLoad(this.store.items)}onStoreLoad(e){let t=this;t.rendered?(t.createViewData(e),t.store.sorters.length<1&&t.removeSortingCss()):t.on("rendered",(()=>{t.timeout(50).then((()=>{t.createViewData(e)}))}),t,{once:!0})}onStoreRecordChange(e){this.view.onStoreRecordChange(e)}removeSortingCss(e){this.headerToolbar.items.forEach((t=>{t.dataField!==e&&t.removeSortingCss()}))}}const b=Neo.setupClass(S)},6556:(e,t,r)=>{r.d(t,{A:()=>i});var o=r(2583),s=r(6270);r(5691);class l extends o.A{static observable=!0;static config={className:"Neo.selection.Model",ntype:"selection-model",cls:null,items_:null,selectedCls:"neo-selected",singleSelect:!0,view_:null};beforeGetItems(e){return e||(this._items=e=[]),e}beforeGetView(e){return Neo.getComponent(this._view)}beforeSetView(e){return e&&e.id}addDomListener(){}deselect(e,t,r=this.items,o){if(e=e.isRecord?view.getItemId(e):Neo.isObject(e)?e.id:e,r.includes(e)){let l=this,{view:i}=l,n=i.getVdomChild(e);n&&(n.cls=s.A.remove(n.cls||[],o||l.selectedCls),n["aria-selected"]=!1),s.A.remove(r,e),t||(i.update(),l.fire("selectionChange",{selection:r}))}else t||this.fire("noChange")}deselectAll(e){let t=this,r=[...t.items],{view:o}=t;r.length?(r.forEach((e=>{t.deselect(e,!0)})),!e&&r.length>0&&o.update(),t.fire("selectionChange",{selection:this.items})):e||t.fire("noChange")}destroy(...e){this.unregister(),super.destroy(...e)}getSelection(){return this.items}hasSelection(){return this.items.length>0}isSelected(e){return this.items.includes(e)}register(e){let t=this,r=e.cls||[];t.cls&&!r.includes(t.cls)&&(r.push(t.cls),e.cls=r),t.view=e,t.addDomListener(),e.fire("selectionModelChange",{value:t})}removeDomListeners(){let e=this,t=e.view,r=[...t.domListeners];t.domListeners.forEach((t=>{t.scope===e&&s.A.remove(r,t)})),t.domListeners=r}select(e,t=this.items,r){let o=this,{view:l}=o;e=(e=Array.isArray(e)?e:[e]).map((e=>e.isRecord?l.getItemId(e):Neo.isObject(e)?e.id:e)),Neo.isEqual(t,e)?o.fire("noChange"):(o.singleSelect&&o.deselectAll(!0),e.forEach((e=>{(e=l.getVdomChild(e))&&(e.cls=s.A.add(e.cls||[],r||o.selectedCls),e["aria-selected"]=!0)})),s.A.add(t,e),!l.silentSelect&&l.update(),l.onSelect?.(e),o.fire("selectionChange",{selection:t}))}toggleSelection(e){let t=this;t.isSelected(e)?t.deselect(e):t.select(e)}unregister(){let e=this,t=e.view.cls||[];e.cls&&t.includes(e.cls)&&(s.A.remove(t,e.cls),e.view.cls=t),e.deselectAll(),e.removeDomListeners()}}const i=Neo.setupClass(l)},950:(e,t,r)=>{r.d(t,{A:()=>l});var o=r(6556);class s extends o.A{static config={className:"Neo.selection.grid.BaseModel"};deselect(e,t,r=this.items,o){let{view:s}=this;t||(s.updateDepth=2),super.deselect(e,t,r,o)}deselectAll(e){let{view:t}=this;e||(t.updateDepth=2),super.deselectAll(e)}select(...e){let{view:t}=this;t.silentSelect||(t.updateDepth=2),super.select(...e)}}const l=Neo.setupClass(s)},1315:(e,t,r)=>{r.d(t,{A:()=>i});var o=r(950),s=r(825);class l extends o.A{static config={className:"Neo.selection.grid.RowModel",ntype:"selection-grid-rowmodel",cls:"neo-selection-rowmodel"};addDomListener(){let e=this;e.view.on("rowClick",e.onRowClick,e)}destroy(...e){let t=this;t.view.un("rowClick",t.onRowClick,t),super.destroy(...e)}getRowId(e){return e<0||this.view.store.getCount()<e?null:this.view.vdom.cn[0].cn[1].cn[e].id}static getRowNode(e){let t=0,r=e.length,o=null;for(;t<r;t++)e[t].cls.includes("neo-grid-row")&&(o=e[t]);return o}onKeyDownDown(e){this.onNavKeyRow(e,1)}onKeyDownUp(e){this.onNavKeyRow(e,-1)}onNavKeyRow(e,t){let r,o=l.getRowNode(e.path),{view:i}=this,{store:n}=i,a=s.A.find(i.vdom,o.id),d=(a.index+t)%n.getCount(),{parentNode:c}=a;for(;d<0;)d+=n.getCount();r=c.cn[d].id,r&&(this.select(r),i.focus(r),i.fire("select",{record:n.getAt(d)}))}onRowClick(e){let t,r,o=this,l=e.data.currentTarget,{view:i}=o;l&&(o.toggleSelection(l),t=o.isSelected(l),r=i.store.getAt(s.A.find(i.vdom,l).index),!t&&i.onDeselect?.(r),i.fire(t?"select":"deselect",{record:r}))}register(e){super.register(e);let{id:t,view:r}=this;r.keys?._keys.push({fn:"onKeyDownDown",key:"Down",scope:t},{fn:"onKeyDownUp",key:"Up",scope:t})}unregister(){let{id:e,view:t}=this;t.keys?.removeKeys([{fn:"onKeyDownDown",key:"Down",scope:e},{fn:"onKeyDownUp",key:"Up",scope:e}]),super.unregister()}}const i=Neo.setupClass(l)},1564:(e,t,r)=>{r.d(t,{A:()=>l});var o=r(2583);class s extends o.A{static config={className:"Neo.util.Css"};static deleteRules(e,t){Array.isArray(t)||(t=[t]),Neo.main.addon.Stylesheet.deleteCssRules({appName:e,rules:t})}static insertRules(e,t){Array.isArray(t)||(t=[t]),Neo.main.addon.Stylesheet.insertCssRules({appName:e,rules:t})}}const l=Neo.setupClass(s)}}]);