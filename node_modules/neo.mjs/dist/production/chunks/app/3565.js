"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[3565],{3565:(e,t,n)=>{n.r(t),n.d(t,{onStart:()=>C});var a=n(2930),o=n(4912),s=n(9374),r=n(8202);class i extends r.A{static config={className:"Neo.examples.grid.nestedRecordFields.MainModel",fields:[{name:"annotations",type:"Object",fields:[{name:"selected",type:"Boolean",defaultValue:!1}]},{name:"country",type:"String"},{name:"edit",type:"String"},{name:"githubId",type:"String"},{name:"user",type:"Object",fields:[{name:"firstname",type:"String"},{name:"lastname",type:"String"}]}],trackModifiedFields:!0}}const d=Neo.setupClass(i);var l=n(1374);class m extends l.A{static config={className:"Neo.examples.grid.nestedRecordFields.MainStore",keyProperty:"githubId",model:d,data:[{country:"DE",githubId:"tobiu",user:{firstname:"Tobias",lastname:"Uhlig"}},{annotations:{selected:!0},country:"US",githubId:"rwaters",user:{firstname:"Rich",lastname:"Waters"}},{country:"DE",githubId:"mrsunshine",user:{firstname:"Nils",lastname:"Dehl"}},{country:"US",githubId:"camtnbikerrwc",user:{firstname:"Gerard",lastname:"Horan"}}]}}const c=Neo.setupClass(m);var u=n(3697);const h=Symbol.for("data");class g extends u.A{static config={className:"Neo.examples.grid.nestedRecordFields.ViewportStateProvider",stores:{countries:{module:l.A,autoLoad:!0,keyProperty:"code",listeners:{load:"onCountryStoreLoad"},url:"../../../resources/examples/data/countries.json",model:{fields:[{name:"code"},{name:"name"}]}},mainStore:c}};onCountryStoreLoad(e){let t,n=this.getStore("mainStore");n.getCount()>0&&n.items.forEach((e=>{t=e.country,e[h].country=null,e.country=t}))}}const f=Neo.setupClass(g);class p extends a.A{static config={className:"Neo.examples.grid.nestedRecordFields.Viewport",stateProvider:f,style:{padding:"1em"},items:[{ntype:"toolbar",flex:"none",reference:"switch-theme-button",style:{marginBottom:"1em"},items:["->",{handler:"up.onSwitchDragModeButtonClick",iconCls:"far fa-square",style:{marginRight:"1em"},text:"Drag column headers only"},{handler:"up.onSwitchThemeButtonClick",iconCls:"fas fa-sun",text:"Light Theme"}]},{module:s.A,bind:{store:"stores.mainStore"},reference:"grid",columnDefaults:{width:200},columns:[{dataField:"user.firstname",text:"Firstname"},{dataField:"user.lastname",text:"Lastname"},{dataField:"githubId",text:"Github Id"},{dataField:"country",text:"Country",renderer:"up.countryRenderer"},{dataField:"edit",text:"Edit Action",component:{module:o.A,handler:"up.editButtonHandler",text:"Edit"}}],viewConfig:{highlightModifiedCells:!0}}]};dialog=null;countryRenderer({gridContainer:e,record:t}){let n=e.getStateProvider().getStore("countries");return n.getCount()>0?n.get(t.country).name:""}editButtonHandler(e){let t=this,a=e.component,{appName:o,dialog:s,theme:r,windowId:i}=t,{record:d}=a;s?(s.animateTargetId=a.id,s.record=d,s.show()):Promise.all([n.e(5156),n.e(6827),n.e(2971),n.e(2588)]).then(n.bind(n,1679)).then((e=>{t.dialog=Neo.create({module:e.default,animateTargetId:a.id,appName:o,stateProvider:{parent:t.getStateProvider()},record:d,theme:r,windowId:i})}))}onSwitchDragModeButtonClick(e){let t=e.component,n=this.getReference("grid"),{sortZone:a}=n.headerToolbar;"fas fa-check"===t.iconCls?(t.set({iconCls:"far fa-square"}),a.moveColumnContent=!0):(t.set({iconCls:"fas fa-check"}),a.moveColumnContent=!1)}onSwitchThemeButtonClick(e){let t=this,n=e.component,a="neo-theme-light"!==t.theme,o=a?"neo-theme-light":"neo-theme-dark";n.set({iconCls:a?"fa fa-moon":"fa fa-sun",text:a?"Dark Theme":"Light Theme"}),t.theme=o,t.dialog&&(t.dialog.theme=o)}}const y=Neo.setupClass(p),C=()=>Neo.app({mainView:y,name:"Neo.examples.grid.nestedRecordFields"})}}]);