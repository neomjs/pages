"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[3565],{3565:(e,t,a)=>{a.r(t),a.d(t,{onStart:()=>w});var n=a(2930),o=a(4912),r=a(2393),i=a(8202);class d extends i.A{static config={className:"Neo.examples.grid.nestedRecordFields.MainModel",fields:[{name:"annotations",type:"Object",fields:[{name:"selected",type:"Boolean",defaultValue:!1}]},{name:"country",type:"String"},{name:"edit",type:"String"},{name:"githubId",type:"String"},{name:"user",type:"Object",fields:[{name:"firstname",type:"String"},{name:"lastname",type:"String"}]}],trackModifiedFields:!0}}const s=Neo.setupClass(d);var l=a(1374);class m extends l.A{static config={className:"Neo.examples.grid.nestedRecordFields.MainStore",keyProperty:"githubId",model:s,data:[{country:"DE",githubId:"tobiu",user:{firstname:"Tobias",lastname:"Uhlig"}},{annotations:{selected:!0},country:"US",githubId:"rwaters",user:{firstname:"Rich",lastname:"Waters"}},{country:"DE",githubId:"mrsunshine",user:{firstname:"Nils",lastname:"Dehl"}},{country:"US",githubId:"camtnbikerrwc",user:{firstname:"Gerard",lastname:"Horan"}}]}}const c=Neo.setupClass(m);var u=a(3697);const h=Symbol.for("data");class p extends u.A{static config={className:"Neo.examples.grid.nestedRecordFields.ViewportStateProvider",stores:{countries:{module:l.A,autoLoad:!0,keyProperty:"code",listeners:{load:"onCountryStoreLoad"},url:"../../../resources/examples/data/countries.json",model:{fields:[{name:"code"},{name:"name"}]}},mainStore:c}};onCountryStoreLoad(e){let t,a=this.getStore("mainStore");a.getCount()>0&&a.items.forEach((e=>{t=e.country,e[h].country=null,e.country=t}))}}const g=Neo.setupClass(p);class f extends n.A{static config={className:"Neo.examples.grid.nestedRecordFields.Viewport",stateProvider:g,style:{padding:"1em"},items:[{ntype:"toolbar",flex:"none",reference:"switch-theme-button",style:{marginBottom:"1em"},items:["->",{handler:"up.onSwitchThemeButtonClick",iconCls:"fas fa-moon",text:"Dark Theme"}]},{module:r.A,bind:{store:"stores.mainStore"},columnDefaults:{width:200},columns:[{dataField:"user.firstname",text:"Firstname"},{dataField:"user.lastname",text:"Lastname"},{dataField:"githubId",text:"Github Id"},{dataField:"country",text:"Country",renderer:"up.countryRenderer"},{dataField:"edit",text:"Edit Action",renderer:"up.editRenderer"}],viewConfig:{highlightModifiedCells:!0}}]};dialog=null;countryRenderer({record:e}){let t=this.getStateProvider().getStore("countries");return t.getCount()>0?t.get(e.country).name:""}editButtonHandler(e){let t=this,n=e.component,{appName:o,dialog:r,theme:i,windowId:d}=t,{record:s}=n;r?(r.animateTargetId=n.id,r.record=s,r.show()):Promise.all([a.e(5156),a.e(6827),a.e(2971),a.e(2588)]).then(a.bind(a,1679)).then((e=>{t.dialog=Neo.create({module:e.default,animateTargetId:n.id,appName:o,stateProvider:{parent:t.getStateProvider()},record:s,theme:i,windowId:d})}))}editRenderer({column:e,gridContainer:t,index:a,record:n}){let{appName:r,windowId:i}=this,d=`${e.id}-widget-${a}`,s=(e.widgetMap||(e.widgetMap={}))[d]||(e.widgetMap[d]=Neo.create({module:o.A,appName:r,handler:"up.editButtonHandler",parentId:t.id,record:n,text:"Edit",windowId:i}));return this.view.updateDepth=-1,s.createVdomReference()}onSwitchThemeButtonClick(e){let t=this,a=e.component,n="neo-theme-dark"===t.theme,o=n?"neo-theme-light":"neo-theme-dark";a.set({iconCls:n?"fa fa-moon":"fa fa-sun",text:n?"Dark Theme":"Light Theme"}),t.theme=o,t.dialog&&(t.dialog.theme=o)}}const y=Neo.setupClass(f),w=()=>Neo.app({mainView:y,name:"Neo.examples.grid.nestedRecordFields"})}}]);