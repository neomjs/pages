"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[7332],{2682:(e,t,s)=>{s.d(t,{A:()=>n});var i=s(5608),l=s(6270);class o extends i.A{static config={className:"Neo.component.Clock",ntype:"clock",baseCls:["neo-clock"],fontSize_:20,showDisc_:!0,size_:500,time_:"00:00",_vdom:{cn:[{cls:["neo-minutes"],style:{}},{cls:["neo-hours"],style:{}}]}};afterSetFontSize(e,t){let{style:s}=this;s.fontSize=`${e}px`,this.style=s}afterSetShowDisc(e,t){let{cls:s}=this;l.A[e?"add":"remove"](s,"neo-show-disc"),this.cls=s}afterSetSize(e,t){let{style:s}=this;Neo.isNumber(e)?(s.height=`${e}px`,s.width=`${e}px`):(delete s.height,delete s.width),this.style=s}afterSetTime(e,t){let s=e.split(":").map((e=>Number(e))),i=s[0]%12*30+.5*s[1],l=6*s[1],o=this.vdom;o.cn[0].style.transform=`rotate(${l}deg)`,o.cn[1].style.transform=`rotate(${i}deg)`,this.update()}}const n=Neo.setupClass(o)},5145:(e,t,s)=>{s.d(t,{A:()=>c});var i=s(1058),l=s(5156),o=s(4460),n=s(6146);class r extends o.A{static config={className:"Neo.form.field.Time",ntype:"timefield",baseCls:["neo-timefield","neo-pickerfield","neo-textfield"],collection:null,inputType:"time",keys:{Enter:"onKeyDownEnter",Escape:"onKeyDownEscape"},list:null,listConfig:null,maxValue_:"16:00",minValue_:"08:00",pickerHeight:150,stepSize_:300,triggers:[{module:n.A}],valueFormat_:null};construct(e){super.construct(e);let t=this,s=t.getTrigger("clear");t.originalConfig.value=t.formatTime(t.value),s?.onFieldChange(),t.collection=Neo.create({module:i.A,items:t.createCollectionItems(),keyProperty:"value"}),t.list=Neo.create({module:l.A,displayField:"value",store:t.collection,...t.listConfig}),t.list.keys._keys.push({fn:"onContainerKeyDownEnter",key:"Enter",scope:t.id},{fn:"onContainerKeyDownEscape",key:"Escape",scope:t.id}),t.list.on({itemClick:t.onListItemClick,scope:t})}afterSetMaxValue(e,t){this.changeInputElKey("max",e),void 0!==t&&this.recreateListItems()}afterSetMinValue(e,t){this.changeInputElKey("min",e),void 0!==t&&this.recreateListItems()}afterSetPickerIsMounted(e,t){e&&this.selectCurrentListItem()}afterSetStepSize(e,t){this.changeInputElKey("step",e)}afterSetValue(e,t,s=!1){super.afterSetValue(e,t);let i=this;i.getTrigger("time").value=e,i.pickerIsMounted&&!s&&i.selectCurrentListItem(!0)}beforeGetValueFormat(e,t){return e||(this._valueFormat=e=new Intl.DateTimeFormat(Neo.config.locale,{hour:"2-digit",minute:"2-digit",second:this.stepSize<60?"2-digit":void 0,hour12:!1})),e}beforeSetMaxValue(e,t){return e&&(e.includes("24")||e.startsWith("12")&&e.includes("AM"))?"23:59:00":this.formatTime(e)}beforeSetMinValue(e,t){return this.formatTime(e)}beforeSetValue(e,t){return this.formatTime(e)}createCollectionItems(){let e=this,t=new Date,s=e.maxValue.split(":").map(Number),i=new Date,l=e.minValue.split(":").map(Number),o=[];const n=new Intl.DateTimeFormat(Neo.config.locale,{hour:"2-digit",minute:"2-digit",second:e.stepSize<60?"2-digit":void 0});for(t.setHours(...l),i.setHours(...s);t<=i;)o.push({isRecord:!0,value:n.format(t)}),t.setSeconds(t.getSeconds()+e.stepSize);return o}createPickerComponent(){return this.list}focusInputEl(e){let t=this;Neo.main.DomAccess.focus({appName:t.appName,id:t.getInputElId(),windowId:t.windowId}).then((()=>{e?.apply(t)}))}formatTime(e){return e?this.valueFormat.format(new Date(`November 23, 2019  ${e}`)):e}onContainerKeyDownEnter(e){this.hidePicker()}onContainerKeyDownEscape(e){this.focusInputEl(this.hidePicker)}onKeyDownEnter(e){let t=this;t.pickerIsMounted?(super.onKeyDownEnter(e),t.selectCurrentListItem()):super.onKeyDownEnter(e,t.selectCurrentListItem)}onListItemClick(e){let t=this,{record:s}=e,i=t.value,{value:l}=s;t.value!==l&&(l=t.formatTime(l),t._value=l,t.afterSetValue(l,i,!0))}recreateListItems(){let e=this;e.collection.clear(),e.collection.add(e.createCollectionItems()),e.list.createItems()}reset(e){let t=this;e&&t.clearToOriginalValue&&(t.originalConfig.value=t.formatTime(e)),t.value=t.clearToOriginalValue?t.originalConfig.value:null}selectCurrentListItem(e=!1){let t=this,{list:s}=t,i=s.getItemId(t.value);s.selectionModel.select(i),e?Neo.main.DomAccess.scrollIntoView({appName:t.appName,id:i}):(s.mounted?s.focus(i):s.on("mounted",(()=>{s.focus(i)}),t,{once:!0}),s.focus(i))}}const c=Neo.setupClass(r)},6146:(e,t,s)=>{s.d(t,{A:()=>n});var i=s(2682),l=s(7027);class o extends l.A{static config={className:"Neo.form.field.trigger.Time",ntype:"trigger-time",baseCls:["neo-timefield-trigger","neo-field-trigger"],clock:null,clockConfig:null,iconCls:null,type:"time",value_:null};construct(e){super.construct(e);let t=this;t.clock=Neo.create({module:i.A,appName:t.appName,fontSize:.6,parentId:t.id,showDisc:!1,size:null,...t.clockConfig}),t.vdom.cn=[t.clock.vdom],t.update()}afterSetAppName(e,t){super.afterSetAppName(e,t),e&&(this.clock.appName=e)}afterSetValue(e,t){e&&(this.clock.time=e)}afterSetWindowId(e,t){super.afterSetWindowId(e,t),e&&(this.clock.windowId=e)}}const n=Neo.setupClass(o)},6556:(e,t,s)=>{s.d(t,{A:()=>n});var i=s(2583),l=s(6270);s(5691);class o extends i.A{static observable=!0;static config={className:"Neo.selection.Model",ntype:"selection-model",cls:null,items_:null,selectedCls:"neo-selected",singleSelect:!0,view_:null};beforeGetItems(e){return e||(this._items=e=[]),e}beforeGetView(e){return Neo.getComponent(this._view)}beforeSetView(e){return e&&e.id}addDomListener(){}deselect(e,t,s=this.items,i){if(e=e.isRecord?view.getItemId(e):Neo.isObject(e)?e.id:e,s.includes(e)){let o=this,{view:n}=o,r=n.getVdomChild(e);r&&(r.cls=l.A.remove(r.cls||[],i||o.selectedCls),r["aria-selected"]=!1),l.A.remove(s,e),t||(n.update(),o.fire("selectionChange",{selection:s}))}else t||this.fire("noChange")}deselectAll(e){let t=this,s=[...t.items],{view:i}=t;s.length?(s.forEach((e=>{t.deselect(e,!0)})),!e&&s.length>0&&i.update(),t.fire("selectionChange",{selection:this.items})):e||t.fire("noChange")}destroy(...e){this.unregister(),super.destroy(...e)}getSelection(){return this.items}hasSelection(){return this.items.length>0}isSelected(e){return this.items.includes(e)}register(e){let t=this,s=e.cls||[];t.cls&&!s.includes(t.cls)&&(s.push(t.cls),e.cls=s),t.view=e,t.addDomListener()}removeDomListeners(){let e=this,t=e.view,s=[...t.domListeners];t.domListeners.forEach((t=>{t.scope===e&&l.A.remove(s,t)})),t.domListeners=s}select(e,t=this.items,s){let i=this,{view:o}=i;e=(e=Array.isArray(e)?e:[e]).map((e=>e.isRecord?o.getItemId(e):Neo.isObject(e)?e.id:e)),Neo.isEqual(t,e)?i.fire("noChange"):(i.singleSelect&&i.deselectAll(!0),e.forEach(((e,t)=>{(e=o.getVdomChild(e))&&(e.cls=l.A.add(e.cls||[],s||i.selectedCls),e["aria-selected"]=!0)})),l.A.add(t,e),!o.silentSelect&&o.update(),o.onSelect?.(e),i.fire("selectionChange",{selection:t}))}toggleSelection(e){let t=this;t.isSelected(e)?t.deselect(e):t.select(e)}unregister(){let e=this,t=e.view.cls||[];e.cls&&t.includes(e.cls)&&(l.A.remove(t,e.cls),e.view.cls=t),e.deselectAll(),e.removeDomListeners()}}const n=Neo.setupClass(o)}}]);