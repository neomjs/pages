"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[6521],{6521:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var a=o(295),n=o(6270),r=o(825);class s extends a.default{static config={className:"Neo.draggable.grid.header.toolbar.SortZone",ntype:"grid-header-toolbar-sortzone",itemMargin:"1px",moveColumnContent:!0,moveVertical:!1};adjustProxyRectToParent(e,t){e.x=e.x-t.x-1,e.y=e.y-t.y-1}async createDragProxy(e,t=!0){if(!this.moveColumnContent)return await super.createDragProxy(e,t);let o,a=this,n=a.owner.parent,{view:s}=n,i=s.getVdomRoot().cn,l=a.dragElement["aria-colindex"]-1,{dataField:c}=s.columnPositions[l],d=s.getColumnCells(c),m=[],u=await super.createDragProxy(e,!1),h=await n.getDomRect();return u.cls=["neo-grid-wrapper",a.owner.getTheme()],u.style.height=h.height+"px",d.forEach(((e,t)=>{o=r.A.clone({cls:i[t].cls,cn:[e]}),o.style={height:s.rowHeight+"px"},delete o.cn[0].style.left,m.push(o)})),u.vdom={cn:[{cls:["neo-grid-container"],cn:[{...u.vdom,cls:["neo-grid-header-toolbar","neo-toolbar"]},{cls:["neo-grid-view"],cn:m}]}]},t?a.dragProxy=Neo.create(u):u}moveTo(e,t){super.moveTo(e,t),n.A.move(this.owner.parent._columns,e,t)}async onDragEnd(e){await super.onDragEnd(e);let{owner:t}=this;t.items.forEach(((e,t)=>{e.vdom["aria-colindex"]=t+1})),t.updateDepth=2,t.update(),await t.passSizeToView(),await this.timeout(20),t.parent.view.createViewData()}async onDragStart(e){if(await super.onDragStart(e),this.moveColumnContent){let e=this,{view:t}=e.owner.parent,o=e.dragElement["aria-colindex"]-1,{dataField:a}=t.columnPositions[o];t.getColumnCells(a).forEach((e=>{e.style.display="none"})),t.update()}}switchItems(e,t){if(this.moveColumnContent){let o,{view:a}=this.owner.parent,r=a._columnPositions,s=a.getColumnCells(r[e].dataField),i=a.getColumnCells(r[t].dataField);o=r[e].x,r[e].x=r[t].x,r[t].x=o,n.A.move(r,e,t),s.forEach((e=>{e.style.left=r[t].x+"px"})),i.forEach((t=>{t.style.left=r[e].x+"px"})),a.update()}super.switchItems(e,t)}}const i=Neo.setupClass(s)}}]);