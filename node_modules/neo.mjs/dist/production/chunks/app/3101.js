"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[3101],{581(e,t,a){a.d(t,{A:()=>o});var l=a(8609),s=a(4040);class i extends s.A{static config={className:"Neo.form.field.trigger.Time",ntype:"trigger-time",baseCls:["neo-timefield-trigger","neo-field-trigger"],clock:null,clockConfig:null,iconCls:null,type:"time",value_:null};construct(e){super.construct(e);let t=this;t.clock=Neo.create({module:l.A,appName:t.appName,fontSize:.6,parentId:t.id,showDisc:!1,size:null,windowId:t.windowId,...t.clockConfig}),t.vdom.cn=[t.clock.createVdomReference()],t.update()}afterSetAppName(e,t){super.afterSetAppName(e,t),e&&(this.clock.appName=e)}afterSetValue(e,t){e&&(this.clock.time=e)}afterSetWindowId(e,t){super.afterSetWindowId(e,t),e&&(this.clock.windowId=e)}}const o=Neo.setupClass(i)},772(e,t,a){a.d(t,{A:()=>i});var l=a(7362);class s extends l.A{static delayable={};static config={className:"Neo.form.field.Range",ntype:"rangefield",baseCls:["neo-rangefield","neo-textfield"],clearable:!1,inputType:"range",showResultInLabel:!1,tickmarks_:[],useInputEvent:!1,useSpinButtons:!1};construct(e){super.construct(e);let t=this,a=t.vdom.cn[2];t.useInputEvent&&t.addDomListeners({input:{fn:t.onInputValueChange,id:t.vdom.cn[2].id,scope:t}}),a.cls=["neo-rangefield-input"],t.addValueToLabel()}afterSetTickmarks(e,t){}afterSetValue(e,t){this.addValueToLabel(),super.afterSetValue(e,t)}addValueToLabel(){let e=this;e.showResultInLabel&&(e.getLabelEl().text=`[${e.value}] `+e.labelText)}}const i=Neo.setupClass(s)},1133(e,t,a){a.d(t,{A:()=>i});var l=a(6144);class s extends l.A{static config={className:"Neo.form.field.Display",ntype:"displayfield",baseCls:["neo-displayfield","neo-textfield"],clearable:!1};construct(e){super.construct(e);let t=this.getInputEl();t.readonly="readonly",t.tabindex="-1",this.update()}}const i=Neo.setupClass(s)},2230(e,t,a){a.d(t,{A:()=>r});var l=a(6969),s=a(3123),i=a(7079),o=a(581);class n extends i.A{static config={className:"Neo.form.field.Time",ntype:"timefield",baseCls:["neo-timefield","neo-pickerfield","neo-textfield"],collection:null,inputType:"time",keys:{Enter:"onKeyDownEnter",Escape:"onKeyDownEscape"},list:null,listConfig:null,maxValue_:"16:00",minValue_:"08:00",pickerHeight:150,stepSize_:300,triggers:[{module:o.A}],valueFormat_:null};construct(e){super.construct(e);let t=this,a=t.getTrigger("clear"),{windowId:i}=t;t.originalConfig.value=t.formatTime(t.value),a?.onFieldChange(),t.collection=Neo.create({module:l.A,items:t.createCollectionItems(),keyProperty:"value"}),t.list=Neo.create({module:s.A,displayField:"value",itemsFocusable:!1,navigator:{eventSource:t.getInputElId(),windowId:i},store:t.collection,windowId:i,...t.listConfig}),t.list.keys._keys.push({fn:"onContainerKeyDownEnter",key:"Enter",scope:t.id},{fn:"onContainerKeyDownEscape",key:"Escape",scope:t.id}),t.list.on({itemClick:t.onListItemClick,scope:t})}afterSetMaxValue(e,t){this.changeInputElKey("max",e),void 0!==t&&this.recreateListItems()}afterSetMinValue(e,t){this.changeInputElKey("min",e),void 0!==t&&this.recreateListItems()}afterSetPickerIsMounted(e,t){e&&this.selectCurrentListItem()}afterSetStepSize(e,t){this.changeInputElKey("step",e)}afterSetValue(e,t,a=!1){super.afterSetValue(e,t);let l=this;l.getTrigger("time").value=e,l.pickerIsMounted&&!a&&l.selectCurrentListItem(!0)}beforeGetValueFormat(e,t){return e||(this._valueFormat=e=new Intl.DateTimeFormat(Neo.config.locale,{hour:"2-digit",minute:"2-digit",second:this.stepSize<60?"2-digit":void 0,hour12:!1})),e}beforeSetMaxValue(e,t){return e&&(e.includes("24")||e.startsWith("12")&&e.includes("AM"))?"23:59:00":this.formatTime(e)}beforeSetMinValue(e,t){return this.formatTime(e)}beforeSetValue(e,t){return this.formatTime(e)}createCollectionItems(){let e=this,t=new Date,a=e.maxValue.split(":").map(Number),l=new Date,s=e.minValue.split(":").map(Number),i=[];const o=new Intl.DateTimeFormat(Neo.config.locale,{hour:"2-digit",minute:"2-digit",second:e.stepSize<60?"2-digit":void 0});for(t.setHours(...s),l.setHours(...a);t<=l;)i.push({isRecord:!0,value:o.format(t)}),t.setSeconds(t.getSeconds()+e.stepSize);return i}createPickerComponent(){return this.list}focusInputEl(e){let t=this;Neo.main.DomAccess.focus({appName:t.appName,id:t.getInputElId(),windowId:t.windowId}).then(()=>{e?.apply(t)})}formatTime(e){return e?this.valueFormat.format(new Date(`November 23, 2019  ${e}`)):e}onContainerKeyDownEnter(e){this.hidePicker()}onContainerKeyDownEscape(e){this.focusInputEl(this.hidePicker)}onKeyDownEnter(e){let t=this;t.pickerIsMounted?(super.onKeyDownEnter(e),t.selectCurrentListItem()):super.onKeyDownEnter(e,t.selectCurrentListItem)}onListItemClick(e){let t=this,{record:a}=e,l=t.value,{value:s}=a;t.value!==s&&(s=t.formatTime(s),t._value=s,t.afterSetValue(s,l,!0))}recreateListItems(){let e=this;e.collection.clear(),e.collection.add(e.createCollectionItems()),e.list.createItems()}reset(e){let t=this;e&&t.clearToOriginalValue&&(t.originalConfig.value=t.formatTime(e)),t.value=t.clearToOriginalValue?t.originalConfig.value:null}selectCurrentListItem(e=!1){let t=this,{list:a}=t,l=a.getItemId(t.value);a.selectionModel.select(l),e?Neo.main.DomAccess.scrollIntoView({appName:t.appName,id:l}):(a.mounted?a.focus(l):a.on("mounted",()=>{a.focus(l)},t,{once:!0}),a.focus(l))}}const r=Neo.setupClass(n)},3071(e,t,a){a.d(t,{A:()=>n});var l=a(3572),s=a(1031),i=(a(4556),a(4256));class o extends l.A{static observable=!0;static config={className:"Neo.selection.Model",ntype:"selection-model",cls:null,items_:{[i.o]:!0,clone:"shallow",cloneOnGet:"none",isEqual:()=>!1,value:[]},selectedCls:"neo-selected",singleSelect:!0,view_:null};beforeGetView(e){return Neo.getComponent(this._view)}beforeSetView(e){return e&&e.id}addDomListener(){}deselect(e,t,a=this.items,l){let i,o=this,{view:n}=o;e=e.isRecord?n.getItemId(e):Neo.isObject(e)?e.id:e,a.includes(e)?(i=n.getVdomChild(e),i&&(i.cls=s.A.remove(i.cls||[],l||o.selectedCls),delete i["aria-selected"]),s.A.remove(a,e),t||(n.update(),n.parent?.onDeselect?.(),n.onDeselect?.(),o.fire("selectionChange",{selection:a}))):t||o.fire("noChange")}deselectAll(e,t=this.items){let a=this,l=[...t],{view:s}=a;l.length?(l.forEach(e=>{a.deselect(e,!0)}),!e&&l.length>0&&s.update(),a.fire("selectionChange",{selection:this.items})):e||a.fire("noChange")}destroy(...e){this.unregister(),super.destroy(...e)}getController(){return this.view.getController()}getSelection(){return this.items}hasSelection(){return this.items.length>0}isSelected(e){return this.items.includes(e)}register(e){let t=this,a=e.wrapperCls||[];t.cls&&!a.includes(t.cls)&&(a.push(t.cls),e.wrapperCls=a),t.view=e,t.addDomListener(),e.fire("selectionModelChange",{value:t})}removeDomListeners(){let e=this,t=e.view,a=[...t.domListeners];t.domListeners.forEach(t=>{t.scope===e&&s.A.remove(a,t)}),t.domListeners=a}select(e,t=this.items,a){Array.isArray(e)||(e=[e]);let l=this,{view:i}=l,o=e.map(e=>{if(e.isRecord)return e;const t=i.getItemRecordId?.(e);return t&&i.store?.get(t)||e});e=e.map(e=>e.isRecord?i.getItemId(e):Neo.isObject(e)?e.id:e),Neo.isEqual(t,e)?l.fire("noChange"):(l.singleSelect&&t===l.items&&l.deselectAll(!0,t),e.forEach(e=>{(e=i.getVdomChild(e))&&(e.cls=s.A.add(e.cls||[],a||l.selectedCls),e["aria-selected"]=!0)}),s.A.add(t,e),i.silentSelect||i.update(),i.parent?.onSelect?.(e),i.onSelect?.(e),i.fire("select",{records:o,selection:t}),l.fire("selectionChange",{records:o,selection:t}))}toggleSelection(e){let t=this;t.isSelected(e)?t.deselect(e):t.select(e)}unregister(){let e=this,{view:t}=e;if(!t.isDestroying){let a=t.wrapperCls||[];e.cls&&a.includes(e.cls)&&(s.A.remove(a,e.cls),t.wrapperCls=a),e.deselectAll(),e.removeDomListeners()}}}const n=Neo.setupClass(o)},3180(e,t,a){a.d(t,{A:()=>c});var l=a(7947),s=a(1741);class i extends s.A{static config={className:"Neo.component.Legend",ntype:"legend",baseCls:["neo-legend"],iconCls_:"far fa-check",text:"",useIcon_:!0,_vdom:{tag:"legend",cn:[{vtype:"text"},{vtype:"text"}]}};afterSetIconCls(e,t){this.vdom.cn[0].html=`<i class="neo-legend-icon ${e}"></i>`,this.update()}afterSetText(e,t){this.vdom.cn[1].text=e,this.update()}afterSetUseIcon(e,t){this.vdom.cn[0].removeDom=!e,this.update()}}const o=Neo.setupClass(i);var n=a(1031);class r extends l.A{static config={className:"Neo.form.Fieldset",ntype:"fieldset",baseCls:["neo-fieldset"],collapsed_:!1,collapsible_:!0,disableItemsOnCollapse_:!0,hasLabelClickListener:!1,iconClsChecked_:"far fa-check",iconClsUnchecked_:"far fa-square",itemsDisabledMap:null,legend:null,legendConfig:null,title_:"",vdom:{tag:"fieldset",cn:[]}};afterSetCollapsed(e,t){let a=this;n.A[e?"add":"remove"](a._cls,"neo-collapsed"),void 0!==t&&(a.items.forEach((t,l)=>{0===l&&t instanceof o?t.iconCls=e?a.iconClsUnchecked:a.iconClsChecked:(a.disableItemsOnCollapse&&(a.itemsDisabledMap=a.itemsDisabledMap||[],e?t.disabled?a.itemsDisabledMap.push(t.id):t._disabled=!0:a.itemsDisabledMap.includes(t.id)||(t._disabled=!1)),t.vdom.removeDom=e)}),e||(a.itemsDisabledMap=[])),a.update()}afterSetCollapsible(e,t){let a=this,{cls:l,legend:s}=a;n.A[e?"add":"remove"](l,"neo-collapsible"),a.cls=l,s&&(s.useIcon=e),e&&!a.hasLabelClickListener&&(a.hasLabelClickListener=!0,a.addDomListeners({click:a.onLegendClick,delegate:"neo-legend"}))}afterSetIconClsChecked(e,t){void 0!==t&&this.updateLegend()}afterSetIconClsUnchecked(e,t){void 0!==t&&this.updateLegend()}afterSetTitle(e,t){this.updateLegend()}onConstructed(){super.onConstructed(),this.collapsed&&this.afterSetCollapsed(!0,!1)}onLegendClick(e){let t=this;t.collapsible&&(t.collapsed=!t.collapsed)}updateLegend(){let e=this,t=e.collapsed?e.iconClsUnchecked:e.iconClsChecked,{legend:a,title:l}=e;""===t&&""===l?a&&(a.vdom.reomveDom=!0):a?(e.updateDepth=2,a.setSilent({iconCls:t,text:l}),delete a.vdom.reomveDom):e.legend=e.insert(0,{module:o,iconCls:t,text:l,...e.legendConfig}),e.update()}}const c=Neo.setupClass(r)},3378(e,t,a){a.d(t,{A:()=>i});var l=a(6144);class s extends l.A{static config={className:"Neo.form.field.Password",ntype:"passwordfield",inputType:"password"}}const i=Neo.setupClass(s)},3920(e,t,a){a.d(t,{A:()=>i});var l=a(6144);class s extends l.A{static config={className:"Neo.form.field.Url",ntype:"urlfield",errorTextInputPattern:e=>"Not a valid URL",inputPattern:/^(https?:\/\/)?(([a-zA-Z0-9_-]+\.)*([a-zA-Z0-9_-]+\.[a-zA-Z]{2,}))(\/([a-zA-Z0-9._-]+)\/?)*$/,inputPatternDOM:!1,inputType:"url"}}const i=Neo.setupClass(s)},4259(e,t,a){a.d(t,{A:()=>i});var l=a(6144);class s extends l.A{static wrapValues=["hard","off","soft",null];static config={className:"Neo.form.field.TextArea",ntype:"textarea",autoGrow_:!1,baseCls:["neo-textarea","neo-textfield"],clearable:!1,cols_:null,inputTag_:"textarea",inputType:null,resizable_:!1,rows_:3,wrap_:null};afterSetAutoGrow(e,t){let a=this;e&&a.syncAutoGrowMonitor(),e||a.afterSetHeight(a._height)}afterSetCols(e,t){this.changeInputElKey("cols",e)}afterSetInputTag(e,t){this.changeInputElKey("tag",e)}afterSetMounted(e,t){super.afterSetMounted(e,t),this.syncAutoGrowMonitor()}afterSetResizable(e,t){this.getInputEl().style.resize=e?null:"none",this.update()}afterSetRows(e,t){this.changeInputElKey("rows",e)}afterSetValue(e,t){let a=this,l=a.getInputEl();l&&(l.text=e),super.afterSetValue(e,t),a.autoGrow&&a.mounted&&a.readOnly&&a.timeout(50).then(()=>{Neo.main.DomAccess.monitorAutoGrowHandler({id:l.id,windowId:a.windowId})})}afterSetWrap(e,t){this.changeInputElKey("wrap",e)}beforeSetWrap(e,t){return this.beforeSetEnumValue(e,t,"wrap","wrapValues")}async syncAutoGrowMonitor(){let e=this;e.mounted&&e.autoGrow&&Neo.main.DomAccess.monitorAutoGrow({id:e.getInputElId(),autoGrow:e.autoGrow,windowId:e.windowId})}}const i=Neo.setupClass(s)},4911(e,t,a){a.d(t,{A:()=>i});var l=a(632);class s extends l.A{static config={className:"Neo.form.field.Chip",ntype:"chipfield",listConfig:{useCheckBoxes:!0}}}const i=Neo.setupClass(s)},5209(e,t,a){a.d(t,{A:()=>i});var l=a(6144);class s extends l.A{static config={className:"Neo.form.field.Search",ntype:"searchfield",baseCls:["neo-searchfield","neo-textfield"],hideLabel:!0,placeholderText:"Search"}}const i=Neo.setupClass(s)},6162(e,t,a){a.d(t,{A:()=>i});var l=a(4040);class s extends l.A{static config={className:"Neo.form.field.trigger.Date",ntype:"trigger-date",iconCls:"fa fa-calendar-alt"}}const i=Neo.setupClass(s)},7321(e,t,a){a.d(t,{A:()=>c});var l=a(2350),s=a(6162),i=a(1692),o=a(7079),n=a(950);class r extends o.A{static config={className:"Neo.form.field.Date",ntype:"datefield",baseCls:["neo-datefield","neo-pickerfield","neo-textfield"],dateSelector:null,dateSelectorConfig:null,errorTextInvalidDate:"Not a valid date",isoDate:!1,hidePickerOnSelect:!1,inputType:"date",maxValue_:null,minValue_:null,pickerHeight:225,pickerMaxHeight:225,pickerWidth:200,triggers:[{module:s.A}]};invalidInput=!1;submitDateObject=!1;construct(e){super.construct(e);let t=this;t.dateSelector=Neo.create({module:l.A,dayNameFormat:"short",maxValue:t.maxValue,minValue:t.minValue,value:t.value||i.A.convertToyyyymmdd(new Date),...t.dateSelectorConfig}),t.dateSelector.keys._keys.push({fn:"onContainerKeyDownEscape",key:"Escape",scope:t.id}),t.dateSelector.on({change:t.onDatePickerChange,scope:t})}afterSetMaxValue(e,t){let a=this;a.changeInputElKey("max",e),a.dateSelector&&(a.dateSelector.maxValue=e)}afterSetMinValue(e,t){let a=this;a.changeInputElKey("min",e),a.dateSelector&&(a.dateSelector.minValue=e)}afterSetValue(e,t){super.afterSetValue(e,t),void 0!==t&&(this.dateSelector.value=e)}beforeSetValue(e,t){return"Date"===Neo.typeOf(e)&&(e=i.A.convertToyyyymmdd(e),this.originalConfig.value=e),e=super.beforeSetValue(e,t),this.isoDate&&e?e.substring(0,10):e}createPickerComponent(){return this.dateSelector}getSubmitValue(){let e=this.value;return this.submitDateObject&&e?new Date(`${e}T12:00:00.000Z`):this.isoDate&&e?new Date(e).toISOString():e}hasContent(){return"inline"===this.labelPosition||super.hasContent()}onContainerKeyDownEscape(e){let t=this;t.hidePicker(),t.focus(t.getInputElId())}onDatePickerChange(e){let t=this;t.clean=!1,t.hidePickerOnSelect?(n.A.removeVdomChild(t.vdom,t.getPickerId()),t.promiseUpdate().then(a=>{t.value=e.value})):t.value=e.value}onInputValueChange(e){this.invalidInput=!e.valid,e.valid?super.onInputValueChange(e):this.validate(!1)}onKeyDownEnter(e){let t=this;t.pickerIsMounted?(t.dateSelector.focusCurrentItem(),super.onKeyDownEnter(e)):super.onKeyDownEnter(e,t.dateSelector.focusCurrentItem,t.dateSelector)}validate(e=!0){let t=this,a=super.validate(e);return a&&t.invalidInput&&(t._error=t.errorTextInvalidDate,a=!1),!a&&!t.clean&&t.updateError(t._error,e),a}}const c=Neo.setupClass(r)},7742(e,t,a){a.r(t),a.d(t,{onStart:()=>n});var l=a(8659),s=a(9051);a(3289),a(8241),a(3360),a(6162),a(4040),a(4930),a(2633),a(8793),a(581),a(2850),a(5418),a(4911),a(632),a(7321),a(1133),a(7783),a(7362),a(3378),a(7079),a(8022),a(772),a(5209),a(6144),a(4259),a(2230),a(3920),a(7947),a(3180);class i extends s.A{static config={className:"Neo.examples.fields.MainContainer",activeIndex:0,autoMount:!0,height:500,layout:{ntype:"vbox",align:"stretch"},itemDefaults:{ntype:"component",style:{padding:"10px"}},style:{margin:"20px"},items:[{ntype:"container",itemDefaults:{flex:"0 1 auto",labelWidth:"70px"},layout:{ntype:"vbox"},items:[{ntype:"pickerfield",id:"myPickerfield",labelText:"Picker",width:220},{module:l.A,iconCls:"fa fa-minus",style:{marginTop:"20px"},text:"Remove Triggers",width:120,handler:function(){Neo.getComponent("myPickerfield").triggers=[]}},{module:l.A,iconCls:"fa fa-plus",text:"Add Trigger",width:120,handler:function(){let e=Neo.getComponent("myPickerfield"),t=[...e.triggers||[]];t.push({id:Neo.getId("picker"),cls:"fa fa-caret-down",handler:"onPickerTriggerClick"}),e.triggers=t}}],header:{iconCls:"fas fa-list",text:"Picker"}},{ntype:"container",itemDefaults:{flex:"0 1 auto",labelWidth:"70px"},layout:{ntype:"vbox"},items:[{ntype:"checkboxfield",checked:!0,labelText:"Option 1",name:"group1"},{ntype:"checkboxfield",labelText:"Option 2",name:"group1"},{ntype:"checkboxfield",labelText:"Option 3",name:"group1"},{ntype:"checkboxfield",checked:!0,hideValueLabel:!1,labelText:"Group 2",name:"group2",style:{marginTop:"20px"},valueLabel:"Option 1"},{ntype:"checkboxfield",hideValueLabel:!1,labelText:"",name:"group2",valueLabel:"Option 2"},{ntype:"checkboxfield",hideValueLabel:!1,labelText:"",name:"group2",valueLabel:"Option 3"}],header:{iconCls:"fas fa-check-square",text:"CheckBox"}},{ntype:"container",itemDefaults:{flex:"0 1 auto",labelWidth:"70px"},layout:{ntype:"vbox"},items:[{ntype:"radiofield",checked:!0,labelText:"Option 1",name:"group1"},{ntype:"radiofield",labelText:"Option 2",name:"group1"},{ntype:"radiofield",labelText:"Option 3",name:"group1"},{ntype:"radiofield",checked:!0,hideValueLabel:!1,labelText:"Group 2",name:"group2",style:{marginTop:"20px"},valueLabel:"Option 1"},{ntype:"radiofield",hideValueLabel:!1,labelText:"",name:"group2",valueLabel:"Option 2"},{ntype:"radiofield",hideValueLabel:!1,labelText:"",name:"group2",valueLabel:"Option 3"}],header:{iconCls:"far fa-circle",text:"Radio"}},{ntype:"container",itemDefaults:{flex:"0 1 auto",labelWidth:"120px"},layout:{ntype:"vbox"},items:[{ntype:"rangefield",labelText:"0-20, Step 1",maxValue:20,minValue:0,value:10},{ntype:"rangefield",labelText:"0-20, Step 5",maxValue:20,minValue:0,stepSize:5,value:10}],header:{iconCls:"fa fa-exchange-alt",text:"Range"}},{ntype:"container",itemDefaults:{flex:"0 1 auto",labelWidth:"120px"},layout:{ntype:"vbox"},items:[{ntype:"numberfield",labelText:"0-20, Step 1",maxValue:20,minValue:0,value:10},{ntype:"numberfield",labelText:"0-20, Step 5",maxValue:20,minValue:0,stepSize:5,value:10}],header:{iconCls:"fa fa-sort-numeric-up",text:"Number"}},{header:{iconCls:"fa fa-calendar",text:"Date"},vdom:{html:"todo"}}]}}const o=Neo.setupClass(i),n=()=>Neo.app({mainView:o,name:"Neo.examples.fields",parentId:"main-container"})},7783(e,t,a){a.d(t,{A:()=>i});var l=a(6144);class s extends l.A{static emailRegex=/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i;static config={className:"Neo.form.field.Email",ntype:"emailfield",errorTextValidEmail:"Not a valid email address",inputType:"email"};validate(e=!0){let t=this,a=super.validate(e),{value:l}=t;return a&&l&&!s.emailRegex.test(l)&&(t._error=t.errorTextValidEmail,a=!1),!a&&!t.clean&&t.updateError(t._error,e),a}}const i=Neo.setupClass(s)},7947(e,t,a){a.d(t,{A:()=>r});var l=a(1184),s=a(2850),i=a(7466),o=a(1031);class n extends l.A{static config={className:"Neo.form.Container",ntype:"form-container",baseCls:["neo-form-container"],vdom:{tag:"form",cn:[],onsubmit:"return false;"}};static adjustTreeLeaves(e={},t,a,l=""){let s,i,o;Object.entries(e).forEach(([n,r])=>{s=!0,i=""===l?n:`${l}.${n}`,o=Neo.typeOf(r),"Array"!==o&&"Object"!==o||(s=a.includes(i),"Array"===o?r.forEach((e,l)=>{"Object"===Neo.typeOf(e)&&this.adjustTreeLeaves(e,t,a,`${i}[${l}]`)}):"Object"===o&&this.adjustTreeLeaves(r,t,a,i)),s&&(e[n]=n===t?r:{[t]:r})})}findNotLoadedModules(e=this,t=[]){return e.items.forEach(a=>{"Function"!==Neo.typeOf(a.module)||a.isLoading?a.items&&this.findNotLoadedModules(a,t):t.push({item:a,parent:e})}),t}async getField(e){await this.loadModules();let t,a=i.A.getChildComponents(this);for(t of a)if(t instanceof s.A&&(t.name===e||t.id===e))return t;return null}getFieldPath(e){let t=e.formGroup?e.formGroup.split("."):[];return t.push(e.name||e.id),t.join(".")}async getFields(){let e=[];return await this.loadModules(),i.A.getChildComponents(this).forEach(t=>{t instanceof s.A&&e.push(t)}),e}async getFormState(){let e,t,a,l=await this.getFields(),s=0,i=!1,o=!1,n=!1,r=!1,c=!1,d=l.length;for(;s<d;s++){if(e=l[s],t=e.clean,a=e.isValid(),t||a)a?c=!0:a||(e.isEmptyAndRequired?.()?o=!0:n=!0);else{if(!e.isEmptyAndRequired?.())return"invalid";o=!0}t?i=!0:r=!0}return o||n?o||!i||r?"inProgress":"clean":"valid"}async getSubmitValues(){let e,t,a,l,s,i=await this.getFields(),o=Neo.form.field.Radio,n={};return i.forEach(i=>{s=i.getSubmitValue(),i.name?(e=i.name,i.formGroup&&(e=i.formGroup+"."+e),l=e.split("."),t=l.pop(),a=Neo.nsWithArrays(l,!0,n)):(t=i.id,a=n),o&&i instanceof o?Object.hasOwn(a,t)?s!==i.uncheckedValue&&(a[t]=s):a[t]=s:Object.hasOwn(a,t)&&void 0!==s?(a[t]===i.uncheckedValue?a[t]=[]:Array.isArray(a[t])||(a[t]=[a[t]]),s!==i.uncheckedValue&&a[t].unshift(s)):void 0!==s&&(a[t]=s)}),n}async getValues(){return this.getSubmitValues()}async isValid(){let e=await this.getFields(),t=0,a=e.length;for(;t<a;t++)if(!e[t].isValid())return!1;return!0}async loadModules(){let e=this.findNotLoadedModules(),t=[];return e.forEach(e=>{t.push(e.parent.layout.loadModule(e.item))}),e=await Promise.all(t),e}async reset(e={}){let t,a,l=this;(await l.getFields()).forEach(s=>{t=l.getFieldPath(s),a=Neo.nsWithArrays(t,!1,e),s.reset(t?a:null)})}async setConfigs(e={},t=!1){let a,l,s,i,o,n=this;(await n.getFields()).forEach(r=>{i=n.getFieldPath(r),a=Neo.nsWithArrays(i,!1,e),a&&(t&&(r.suspendEvents=!0),l=Neo.form.field?.CheckBox&&r instanceof Neo.form.field.CheckBox,s=Neo.form.field?.Radio&&r instanceof Neo.form.field.Radio,o=a.value,(l||s)&&Object.hasOwn(a,"value")&&(a=Neo.clone(a,!0),s?a.checked=r.value===o:l&&("Array"===Neo.typeOf(o)?o.includes(r.value)&&(a.checked=!0):a.checked=r.value===o),delete a.value),r.set(a),t&&delete r.suspendEvents)})}async setValues(e={},t=!1){let a,l=await this.getFields(),s=[];l.map(e=>{a=e.getPath(),a&&o.A.add(s,a)}),e=Neo.clone(e,!0),n.adjustTreeLeaves(e,"value",s),await this.setConfigs(e,t)}async validate(){let e,t=!0;return(await this.getFields()).forEach(a=>{e=a.validate?.(!1),!1===e&&(t=!1)}),t}}const r=Neo.setupClass(n)},8310(e,t,a){a.d(t,{A:()=>n}),a(8659);var l=a(1741),s=a(1184),i=(a(9217),a(1031));class o extends s.A{static dockPositions=["top","right","bottom","left",null];static config={className:"Neo.toolbar.Base",ntype:"toolbar",baseCls:["neo-toolbar"],dock_:null,itemDefaults:{ntype:"button"},layout:{ntype:"flexbox",align:"center",direction:"row",pack:"start"}};afterSetDock(e,t){if(!e&&!t)return;let a=this,{cls:l}=a,s=a.getStaticConfig("dockPositions"),o=a.getLayoutConfig();s.forEach(t=>{null!==t&&i.A.toggle(l,"neo-dock-"+t,t===e)}),a.layout?(a.layout.set(o),a.cls=l):(o.ntype="flexbox",a.set({cls:l,layout:o}))}beforeSetDock(e,t){return this.beforeSetEnumValue(e,t,"dock","dockPositions")}createItems(){let e=this._items;return Array.isArray(e)&&(this._items=e.map(e=>this.replaceSpacer(e))),super.createItems()}getLayoutConfig(){let e,t=this;if(t.dock)switch(t.dock){case"bottom":case"top":e={align:"center",direction:"row",pack:"start"};break;case"left":e={align:"center",direction:"column-reverse",pack:"start"};break;case"right":e={align:"center",direction:"column",pack:"start"}}return e||t.layout}insert(e,t,a=!1){return t=Array.isArray(t)?t.map(e=>this.replaceSpacer(e)):this.replaceSpacer(t),super.insert(e,t,a)}replaceSpacer(e){return"->"===e?{module:l.A,flex:1}:e}}const n=Neo.setupClass(o)},8609(e,t,a){a.d(t,{A:()=>o});var l=a(1741),s=a(1031);class i extends l.A{static config={className:"Neo.component.Clock",ntype:"clock",baseCls:["neo-clock"],fontSize_:20,showDisc_:!0,size_:500,time_:"00:00",_vdom:{cn:[{cls:["neo-minutes"],style:{}},{cls:["neo-hours"],style:{}}]}};afterSetFontSize(e,t){let{style:a}=this;a.fontSize=`${e}px`,this.style=a}afterSetShowDisc(e,t){let{cls:a}=this;s.A[e?"add":"remove"](a,"neo-show-disc"),this.cls=a}afterSetSize(e,t){let{style:a}=this;Neo.isNumber(e)?(a.height=`${e}px`,a.width=`${e}px`):(delete a.height,delete a.width),this.style=a}afterSetTime(e,t){let a=e.split(":").map(e=>Number(e)),l=a[0]%12*30+.5*a[1],s=6*a[1],i=this.vdom;i.cn[0].style.transform=`rotate(${s}deg)`,i.cn[1].style.transform=`rotate(${l}deg)`,this.update()}}const o=Neo.setupClass(i)},9217(e,t,a){a.d(t,{A:()=>i});var l=a(1741);class s extends l.A{static config={className:"Neo.component.Label",ntype:"label",baseCls:["neo-label"],tag:"label"}}const i=Neo.setupClass(s)}}]);