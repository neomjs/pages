"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[7600],{7600(e,t,a){a.d(t,{default:()=>d});var s=a(8659),i=a(3484),o=a(7947),l=a(6144),n=a(8310);class r extends i.A{static config={className:"Legit.view.Dialog",closeAction:"hide",modal:!0,resizable:!1,title:"New File",layout:{ntype:"vbox",align:"stretch"},items:[{module:o.A,layout:{ntype:"vbox",align:"stretch"},items:[{module:l.A,labelText:"File Path",labelWidth:80,reference:"filename",value:"myFile"}]},{module:n.A,flex:"none",items:["->",{module:s.A,handler:"onAddFileDialogSave",height:30,iconCls:"fa fa-cloud-upload",text:"Save"}]}]}}const d=Neo.setupClass(r)},7947(e,t,a){a.d(t,{A:()=>r});var s=a(1184),i=a(2850),o=a(7466),l=a(1031);class n extends s.A{static config={className:"Neo.form.Container",ntype:"form-container",baseCls:["neo-form-container"],vdom:{tag:"form",cn:[],onsubmit:"return false;"}};static adjustTreeLeaves(e={},t,a,s=""){let i,o,l;Object.entries(e).forEach(([n,r])=>{i=!0,o=""===s?n:`${s}.${n}`,l=Neo.typeOf(r),"Array"!==l&&"Object"!==l||(i=a.includes(o),"Array"===l?r.forEach((e,s)=>{"Object"===Neo.typeOf(e)&&this.adjustTreeLeaves(e,t,a,`${o}[${s}]`)}):"Object"===l&&this.adjustTreeLeaves(r,t,a,o)),i&&(e[n]=n===t?r:{[t]:r})})}findNotLoadedModules(e=this,t=[]){return e.items.forEach(a=>{"Function"!==Neo.typeOf(a.module)||a.isLoading?a.items&&this.findNotLoadedModules(a,t):t.push({item:a,parent:e})}),t}async getField(e){await this.loadModules();let t,a=o.A.getChildComponents(this);for(t of a)if(t instanceof i.A&&(t.name===e||t.id===e))return t;return null}getFieldPath(e){let t=e.formGroup?e.formGroup.split("."):[];return t.push(e.name||e.id),t.join(".")}async getFields(){let e=[];return await this.loadModules(),o.A.getChildComponents(this).forEach(t=>{t instanceof i.A&&e.push(t)}),e}async getFormState(){let e,t,a,s=await this.getFields(),i=0,o=!1,l=!1,n=!1,r=!1,d=!1,u=s.length;for(;i<u;i++){if(e=s[i],t=e.clean,a=e.isValid(),t||a)a?d=!0:a||(e.isEmptyAndRequired?.()?l=!0:n=!0);else{if(!e.isEmptyAndRequired?.())return"invalid";l=!0}t?o=!0:r=!0}return l||n?l||!o||r?"inProgress":"clean":"valid"}async getSubmitValues(){let e,t,a,s,i,o=await this.getFields(),l=Neo.form.field.Radio,n={};return o.forEach(o=>{i=o.getSubmitValue(),o.name?(e=o.name,o.formGroup&&(e=o.formGroup+"."+e),s=e.split("."),t=s.pop(),a=Neo.nsWithArrays(s,!0,n)):(t=o.id,a=n),l&&o instanceof l?Object.hasOwn(a,t)?i!==o.uncheckedValue&&(a[t]=i):a[t]=i:Object.hasOwn(a,t)&&void 0!==i?(a[t]===o.uncheckedValue?a[t]=[]:Array.isArray(a[t])||(a[t]=[a[t]]),i!==o.uncheckedValue&&a[t].unshift(i)):void 0!==i&&(a[t]=i)}),n}async getValues(){return this.getSubmitValues()}async isValid(){let e=await this.getFields(),t=0,a=e.length;for(;t<a;t++)if(!e[t].isValid())return!1;return!0}async loadModules(){let e=this.findNotLoadedModules(),t=[];return e.forEach(e=>{t.push(e.parent.layout.loadModule(e.item))}),e=await Promise.all(t),e}async reset(e={}){let t,a,s=this;(await s.getFields()).forEach(i=>{t=s.getFieldPath(i),a=Neo.nsWithArrays(t,!1,e),i.reset(t?a:null)})}async setConfigs(e={},t=!1){let a,s,i,o,l,n=this;(await n.getFields()).forEach(r=>{o=n.getFieldPath(r),a=Neo.nsWithArrays(o,!1,e),a&&(t&&(r.suspendEvents=!0),s=Neo.form.field?.CheckBox&&r instanceof Neo.form.field.CheckBox,i=Neo.form.field?.Radio&&r instanceof Neo.form.field.Radio,l=a.value,(s||i)&&Object.hasOwn(a,"value")&&(a=Neo.clone(a,!0),i?a.checked=r.value===l:s&&("Array"===Neo.typeOf(l)?l.includes(r.value)&&(a.checked=!0):a.checked=r.value===l),delete a.value),r.set(a),t&&delete r.suspendEvents)})}async setValues(e={},t=!1){let a,s=await this.getFields(),i=[];s.map(e=>{a=e.getPath(),a&&l.A.add(i,a)}),e=Neo.clone(e,!0),n.adjustTreeLeaves(e,"value",i),await this.setConfigs(e,t)}toJSON(){let e,t,a,s,i,l,n=Neo.form.field?.Radio,r={};return t=o.A.getChildComponents(this),t.forEach(t=>{t.isBasefield&&(l=t.getSubmitValue(),t.name?(e=t.name,t.formGroup&&(e=t.formGroup+"."+e),i=e.split("."),a=i.pop(),s=Neo.nsWithArrays(i,!0,r)):(a=t.id,s=r),n&&t instanceof n?Object.hasOwn(s,a)?l!==t.uncheckedValue&&(s[a]=l):s[a]=l:Object.hasOwn(s,a)&&void 0!==l?(s[a]===t.uncheckedValue?s[a]=[]:Array.isArray(s[a])||(s[a]=[s[a]]),l!==t.uncheckedValue&&s[a].unshift(l)):void 0!==l&&(s[a]=l))}),{...super.toJSON(),values:r}}async validate(){let e,t=!0;return(await this.getFields()).forEach(a=>{e=a.validate?.(!1),!1===e&&(t=!1)}),t}}const r=Neo.setupClass(n)}}]);