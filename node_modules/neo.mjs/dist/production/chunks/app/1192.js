export const __webpack_esm_id__=1192;export const __webpack_esm_ids__=[1192,2450];export const __webpack_esm_modules__={1192(e,o,t){t.d(o,{onStart:()=>s}),t.r(o);var n=t(1184),a=t(7863),d=t(5367);class i extends d.A{static config={className:"Neo.examples.dashboard.MainContainer",layout:{ntype:"fit"},style:{padding:"10px"},items:[{module:a.A,itemDefaults:{module:n.A},items:[{style:{backgroundColor:"blue"}},{style:{backgroundColor:"darkgreen"}},{style:{backgroundColor:"red"}},{style:{backgroundColor:"darkblue"}},{style:{backgroundColor:"orange"}}]}]}}const r=Neo.setupClass(i),s=()=>Neo.app({mainView:r,name:"Neo.examples.dashboard"})},2450(e,o,t){t.d(o,{A:()=>i});var n=t(1184),a=t(6282);class d extends n.A{static config={className:"Neo.draggable.DragProxyContainer",ntype:"dragproxycontainer",autoInitVnode:!0,autoMount:!0,baseCls:["neo-dragproxy"],layout:"fit",moveInMainThread:!0};afterSetMounted(e,o){if(super.afterSetMounted(e,o),e&&this.moveInMainThread){let{appName:e,id:o,windowId:t}=this;Neo.main.addon.DragDrop.setDragProxyElement({appName:e,id:o,windowId:t})}}afterSetWindowId(e,o){super.afterSetWindowId(e,o),e&&Neo.currentWorker.insertThemeFiles(e,a.A.prototype)}destroy(...e){this.items=[],super.destroy(...e)}}const i=Neo.setupClass(d)},5367(e,o,t){t.d(o,{A:()=>d});var n=t(1184);class a extends n.A{static config={className:"Neo.container.Viewport",ntype:"viewport",applyBodyCls:!0,autoMount:!0,baseCls:["neo-viewport"],monitorSize_:!1};afterSetMounted(e,o){super.afterSetMounted(e,o);let t=this;e&&t.monitorSize&&t.addDomListeners([{resize:t.onDomResize,scope:t}])}onConstructed(){super.onConstructed();let{windowId:e}=this;this.applyBodyCls&&Neo.main.DomAccess.applyBodyCls({cls:["neo-body-viewport"],windowId:e})}onDomResize(e){this.fire("resize",e)}}const d=Neo.setupClass(a)},6282(e,o,t){t.d(o,{A:()=>d});var n=t(1741);class a extends n.A{static config={className:"Neo.draggable.DragProxyComponent",ntype:"dragproxy",autoInitVnode:!0,autoMount:!0,baseCls:["neo-dragproxy"],moveInMainThread:!0};afterSetMounted(e,o){if(super.afterSetMounted(e,o),e&&this.moveInMainThread){let{appName:e,id:o,windowId:t}=this;Neo.main.addon.DragDrop.setDragProxyElement({appName:e,id:o,windowId:t})}}}const d=Neo.setupClass(a)},7863(e,o,t){t.d(o,{A:()=>i});var n=t(1184),a=t(2450);class d extends n.A{static config={className:"Neo.dashboard.Container",ntype:"dashboard",baseCls:["neo-dashboard","neo-container"],detachedItems:new Map,detachToNewWindow:!0,dragProxyExtraCls:[],dragResortable:!0,popupConfig:null,popupUrl:null,sortGroup:null};#e=!1;#o=!1;construct(e){super.construct(e);let o=this;o.detachedItems=new Map,Neo.currentWorker.on({connect:o.onWindowConnect,disconnect:o.onWindowDisconnect,scope:o})}createSortZone(e){let o=this;Neo.merge(e,{allowOverdrag:!0,dragProxyConfig:{module:a.A,...o.dragProxyConfig},dragProxyExtraCls:o.dragProxyExtraCls,enableProxyToPopup:o.detachToNewWindow,listeners:{dragBoundaryEntry:e=>o.onDragBoundaryEntry(e),dragBoundaryExit:e=>o.onDragBoundaryExit(e),dragEnd:e=>o.fire("dragEnd",e)},sortGroup:o.sortGroup}),super.createSortZone(e)}getPopupUrl(e){let o=e.popupUrl||this.popupUrl;return Neo.isFunction(o)?o(e):o}loadSortZoneModule(){return Promise.all([t.e(9380),t.e(9555)]).then(t.bind(t,9555))}async onDragBoundaryEntry(e){let o=this,{windowId:t}=o,{sortZone:n}=e,a=e.draggedItem,d=a.reference||a.id;o.#e=!0,console.log("onDragBoundaryEntry",o.id,a),n.dragProxy.add(a,!0),o.detachedItems.delete(d),await Neo.Main.windowClose({names:d,windowId:t}),o.#e=!1,o.#o=!1,n.isWindowDragging=!1,n.dragProxy.style={opacity:1},Neo.main.addon.DragDrop.setConfigs({isWindowDragging:!1,windowId:t}),o.fire("dragBoundaryEntry",e)}async onDragBoundaryExit(e){let o,t=this,{draggedItem:n,proxyRect:a,sortZone:d}=e;t.#o=!0,a.height+=50,o=await t.openWidgetInPopup(n,a),d.startWindowDrag({dragData:e,...o}),t.fire("dragBoundaryExit",e)}async openWidgetInPopup(e,o){let t=this,{windowId:n}=t,{windowConfigs:a}=Neo,d=Object.keys(a)[0],{basePath:i}=a[d],r=e.reference||e.id,s=t.getPopupUrl(e);if(!s)return void console.error("No popupUrl defined for dashboard item",e);s.startsWith("http")||(s=i+s),s+=`${s.includes("?")?"&":"?"}name=${r}&dashboardId=${t.id}`;let g=await Neo.Main.getWindowData({windowId:n}),{height:p,width:w,x:l,y:c}=o,u=p-50,m=l+g.screenLeft,y=c+(g.outerHeight-g.innerHeight+g.screenTop),h=r;return t.detachedItems.set(r,{index:t.items.indexOf(e),widget:e}),await Neo.Main.windowOpen({url:s,windowId:n,windowFeatures:`height=${u},left=${m},top=${y},width=${w}`,windowName:h}),{popupHeight:u,popupLeft:m,popupTop:y,popupWidth:w,windowName:h}}async onWindowConnect(e){let o=this,t=Neo.apps[e.windowId].mainView,{windowId:n}=e,a=await Neo.Main.getByPath({path:"document.URL",windowId:n}),d=new URL(a).searchParams,i=d.get("dashboardId"),r=d.get("name");if(i===o.id){let e=o.detachedItems.get(r);e&&(e.windowId=n,e.widget.wrapperStyle={},t.add(e.widget,!1,!o.#o))}}async onWindowDisconnect(e){let o=this;if(o.#o||o.#e)return void(o.#o=!1);let{windowId:t}=e;for(const[e,n]of o.detachedItems.entries())if(n.windowId===t){console.log("onWindowDisconnect: Re-integrating widget",o.id,e);let{index:t,widget:a}=n;o.insert(t,a),o.detachedItems.delete(e);break}}async resumeWindowDrag(e,o){let t,n=this,a=n.detachedItems.get(e);a&&(n.#o=!0,t=await n.openWidgetInPopup(a.widget,o),Neo.main.addon.DragDrop.startWindowDrag({popupHeight:t.popupHeight,popupName:t.windowName,popupWidth:t.popupWidth,windowId:n.windowId}))}async suspendWindowDrag(e){let o=this;o.#o=!0;let t=o.detachedItems.get(e);console.log("suspendWindowDrag",o.id,e,t),t?.widget&&(t.widget.parentId=null),await Neo.Main.windowClose({names:[e],windowId:o.windowId}),Neo.main.addon.DragDrop.setConfigs({isWindowDragging:!1,windowId:o.windowId})}}const i=Neo.setupClass(d)}};