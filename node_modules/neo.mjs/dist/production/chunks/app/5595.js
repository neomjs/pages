export const __webpack_esm_id__=5595;export const __webpack_esm_ids__=[5595];export const __webpack_esm_modules__={2429(e,t,a){a.d(t,{A:()=>s});var o=a(1741);class n extends o.A{static config={className:"Neo.component.wrapper.AmChart",ntype:"am-chart",chartConfig_:null,chartData_:null,chartType:"XYChart",combineSeriesTooltip:!1,dataPath:"",package:"am4charts",style:{height:"100%"},_vdom:{style:{position:"relative"},cn:[{style:{position:"absolute",height:"100%",width:"100%"},cn:[{}]}]}};afterSetChartData(e,t){let{appName:a,dataPath:o,id:n,windowId:s}=this;e&&Neo.main.addon.AmCharts.updateData({appName:a,data:e,dataPath:o,id:n,windowId:s})}afterSetMounted(e,t){let a=this,{appName:o,id:n,windowId:s}=a,i={appName:o,id:n,windowId:s};!1===e&&void 0!==t&&Neo.main.addon.AmCharts.destroy(i),super.afterSetMounted(e,t),e&&(i={...i,combineSeriesTooltip:a.combineSeriesTooltip,config:a.chartConfig,package:a.package,type:a.chartType},a.chartData&&(i.data=a.chartData,i.dataPath=a.dataPath),a.timeout(50).then(()=>{Neo.main.addon.AmCharts.create(i).then(a.onChartMounted)}))}beforeSetChartConfig(e,t){return e||console.error("wrapper.AmChart defined without a chartConfig",this.id),this.parseItemConfigs(e),e}destroy(...e){let{appName:t,id:a,windowId:o}=this;Neo.main.addon.AmCharts.destroy({appName:t,id:a,windowId:o}),super.destroy(...e)}getVdomRoot(){return this.vdom.cn[0].cn[0]}getVnodeRoot(){return this.vnode.childNodes[0].childNodes[0]}onChartMounted(){}toJSON(){let e=this;return{...super.toJSON(),chartConfig:e.serializeConfig(e.chartConfig),chartData:e.serializeConfig(e.chartData),chartType:e.chartType,combineSeriesTooltip:e.combineSeriesTooltip,dataPath:e.dataPath,package:e.package}}}const s=Neo.setupClass(n)},2633(e,t,a){a.d(t,{A:()=>s});var o=a(3289);class n extends o.A{static config={className:"Neo.form.field.trigger.SpinUp",ntype:"trigger-spinup",iconCls:"fa fa-chevron-right",type:"spinup"};onTriggerClick(e){this.field.onSpinButtonUpClick()}}const s=Neo.setupClass(n)},4930(e,t,a){a.d(t,{A:()=>s});var o=a(3289);class n extends o.A{static config={className:"Neo.form.field.trigger.SpinDown",ntype:"trigger-spindown",align:"start",iconCls:"fa fa-chevron-left",type:"spindown"};onTriggerClick(e){this.field.onSpinButtonDownClick()}}const s=Neo.setupClass(n)},5595(e,t,a){a.d(t,{onStart:()=>R}),a.r(t);var o=a(5367),n=a(2429);class s extends n.A{static config={className:"Colors.view.BarChartComponent",baseCls:["colors-bar-chart"],chartType:"XYChart",chartConfig:{series:[{type:"ColumnSeries",columns:{propertyFields:{fill:"color",stroke:"color"}},dataFields:{categoryX:"color",valueY:"count"}}],xAxes:[{type:"CategoryAxis",dataFields:{category:"color",title:{text:"Colors"}}}],yAxes:[{type:"ValueAxis",title:{text:"Occurrences in grid cells"}}]}}}const i=Neo.setupClass(s);var r=a(7863),l=a(8344),u=a(5418),d=a(632),c=a(7362),p=a(8310);class h extends p.A{static config={className:"Colors.view.HeaderToolbar",cls:["colors-header-toolbar"],layout:{ntype:"hbox",align:"center",pack:"start",wrap:"wrap"},items:[{bind:{disabled:e=>e.isUpdating},handler:"onStartButtonClick",text:"Start"},{bind:{disabled:e=>!e.isUpdating},handler:"onStopButtonClick",text:"Stop"},{module:c.A,bind:{value:e=>e.amountColors},clearable:!1,editable:!1,labelPosition:"inline",labelText:"# Colors",listeners:{change:"onChangeAmountColors"},maxValue:10,minValue:3,width:90},{module:d.A,bind:{value:e=>String(e.amountColumns)},clearable:!1,editable:!1,labelPosition:"inline",labelText:"# Columns",listeners:{change:"onChangeAmountColumns"},store:["5","10","15","20","26"],width:90},{module:d.A,bind:{value:e=>String(e.amountRows)},clearable:!1,editable:!1,labelPosition:"inline",labelText:"# Rows",listeners:{change:"onChangeAmountRows"},store:["5","10","15","20"],width:90},{ntype:"component",cls:["header-spacer"],flex:1},{handler:"onEnableWindowManagementClick",iconCls:"fa fa-window-restore",reference:"window-management-button",text:"Enable Window Management"},{handler:"onDetachGridButtonClick",iconCls:"fas fa-table",reference:"detach-grid-button",text:"Grid"},{handler:"onDetachPieChartButtonClick",iconCls:"fas fa-chart-pie",reference:"detach-pie-chart-button",text:"Pie Chart"},{handler:"onDetachBarChartButtonClick",iconCls:"fas fa-chart-column",reference:"detach-bar-chart-button",text:"Bar Chart"},{module:u.A,bind:{checked:e=>e.openWidgetsAsPopups},hideLabel:!0,listeners:{change:"onChangeOpenWidgetsAsPopups"},showValueLabel:!0,valueLabel:"Popups"}]}}const m=Neo.setupClass(h);class g extends n.A{static config={className:"Colors.view.PieChartComponent",baseCls:["colors-pie-chart"],chartType:"PieChart",chartConfig:{series:[{type:"PieSeries",colors:{list:["#1c60a0","#206db6","#247acb","#2e87da","#4493de","#59a0e2","#6face6","#85b9ea","#9bc5ed","#b0d2f1"]},dataFields:{category:"color",value:"count"}}]}}}const C=Neo.setupClass(g);var f=a(295);class w extends f.A{static config={className:"Colors.view.GridContainer",amountColumns_:null,amountRows_:null,bind:{amountColumns:e=>e.amountColumns,amountRows:e=>e.amountRows,store:"stores.colors"},cls:["colors-grid-container"]};afterSetAmountColumns(e,t){if(Neo.isNumber(e)){let t,a="A".charCodeAt(0),o=0,n=[{cellAlign:"right",dataField:"id",text:"#",type:"index",width:40}];for(;o<e;o++)t=String.fromCharCode(a+o),n.push({dataField:"column"+t,renderer:"up.colorRenderer",text:t});this.columns=n}}afterSetAmountRows(e,t){this.store?.clear()}colorRenderer({value:e}){return{cls:["color-"+e],text:" "}}}const b=Neo.setupClass(w);var v=a(3997);class S extends v.A{static config={className:"Colors.view.ViewportController"};intervalId=null;async createBrowserWindow(e){if(this.getStateProvider().getData("openWidgetsAsPopups")){let t=this.getReference("dashboard"),a=this.getReference(e),o=await this.component.getDomRect(a.vdom.id);await t.openWidgetInPopup(a,o)}else{let t,{config:a,windowConfigs:o}=Neo,{environment:n}=a,s=Object.keys(o)[0],{basePath:i}=o[s];"development"!==n&&(i=`${i+n}/`),t=`${i}apps/colors/childapps/widget/index.html?name=${e}`,await Neo.Main.windowOpen({url:t,windowName:"_blank"})}}destroy(...e){this.intervalId&&clearInterval(this.intervalId),super.destroy(...e)}onChangeAmountColors(e){this.updateDataProperty(e,"amountColors",e.value)}onChangeAmountColumns(e){this.updateDataProperty(e,"amountColumns",parseInt(e.value.name))}onChangeAmountRows(e){this.updateDataProperty(e,"amountRows",parseInt(e.value.name))}onChangeOpenWidgetsAsPopups(e){this.setState("openWidgetsAsPopups",e.value)}onComponentConstructed(){super.onComponentConstructed(),this.updateWidgets()}async onDetachBarChartButtonClick(e){await this.createBrowserWindow("bar-chart")}async onDetachGridButtonClick(e){await this.createBrowserWindow("grid")}async onDetachPieChartButtonClick(e){await this.createBrowserWindow("pie-chart")}async onEnableWindowManagementClick(e){let t=await Neo.main.addon.DragDrop.requestWindowManagementPermission({windowId:this.windowId}),a=this.getReference("window-management-button");t.success?(a.text="W-M enabled",a.iconCls="fa fa-check-square",a.disabled=!0):(a.text="W-M disabled",a.iconCls="fa fa-exclamation-triangle")}onStartButtonClick(e){let t=this;t.setState({isUpdating:!0}),t.intervalId||(t.intervalId=setInterval(()=>{t.updateWidgets()},1e3/60))}onStopButtonClick(e){let t=this;t.setState({isUpdating:!1}),t.intervalId&&(clearInterval(t.intervalId),t.intervalId=null)}updateCharts(e){this.getReference("bar-chart").chartData=e,this.getReference("pie-chart").chartData=e}updateDataProperty(e,t,a){let o=this.getStateProvider();o.setData(t,a),null===e.oldValue||o.getData("isUpdating")||this.updateWidgets()}updateGrid(e){let t=this.getReference("grid"),{store:a}=t;a.getCount()?t.bulkUpdateRecords(e):this.getStateProvider().getData("amountRows")===e.length&&(a.data=e)}async updateWidgets(){let e,t=this,a=t.getStateProvider();if(Colors.backend){if(e=await Colors.backend.ColorService.read({amountColors:a.getData("amountColors"),amountColumns:a.getData("amountColumns"),amountRows:a.getData("amountRows")}),!t.isDestroyed){let{data:a}=e;t.updateGrid(a.tableData),t.updateCharts(a.summaryData)}}else await t.timeout(50),t.updateWidgets()}}const x=Neo.setupClass(S);var N=a(1967);class y extends N.A{static config={className:"Colors.model.Color"};construct(e){super.construct(e);let t="A".charCodeAt(0),a=0,o=[{name:"id",type:"String"}];for(;a<26;a++)o.push({name:"column"+String.fromCharCode(t+a),type:"String"});this.fields=o}}const A=Neo.setupClass(y);var V=a(2779);class D extends V.A{static config={className:"Colors.store.Colors",model:A}}const P=Neo.setupClass(D);var k=a(9943);class T extends k.A{static config={className:"Colors.view.ViewportStateProvider",data:{amountColors:10,amountColumns:10,amountRows:10,isUpdating:!1,openWidgetsAsPopups:!0},stores:{colors:{module:P}}}}const B=Neo.setupClass(T);class I extends o.A{static config={className:"Colors.view.Viewport",cls:["colors-viewport","neo-dashboard"],controller:x,layout:{ntype:"vbox",align:"stretch"},items:[{module:m,flex:"none"},{module:r.A,layout:{ntype:"vbox",align:"stretch"},popupUrl:"apps/colors/childapps/widget/index.html",reference:"dashboard",sortGroup:"neo-connected-dashboard",items:[{module:l.A,flex:1,reference:"grid-panel",headers:[{dock:"top",cls:["neo-draggable"],text:"Grid"}],items:[{module:b,reference:"grid"}]},{module:l.A,flex:1.3,reference:"pie-chart-panel",headers:[{dock:"top",cls:["neo-draggable"],text:"Pie Chart"}],items:[{module:C,reference:"pie-chart"}]},{module:l.A,flex:1.3,reference:"bar-chart-panel",headers:[{dock:"top",cls:["neo-draggable"],text:"Bar Chart"}],items:[{module:i,reference:"bar-chart"}]}]}],stateProvider:B}}const _=Neo.setupClass(I),R=()=>Neo.app({mainView:_,name:"Colors"})},7362(e,t,a){a.d(t,{A:()=>l});var o=a(4930),n=a(2633),s=a(8793),i=a(6144);class r extends i.A{static triggerPositions=["right","sides"];static config={className:"Neo.form.field.Number",ntype:"numberfield",baseCls:["neo-numberfield","neo-textfield"],disabledChars:["e","E"],errorTextMaxValue:e=>`Max value violation: ${e.value} / ${e.maxValue}`,errorTextMinValue:e=>`Min value violation: ${e.value} / ${e.minValue}`,errorTextStepSize:e=>`step-size violation: ${e.value} / ${e.stepSize}`,excludedValues:null,inputEditable_:!0,inputType:"number",maxValue_:100,minValue_:0,stepSize_:1,triggerPosition_:"right",useSpinButtons_:!0};stepSizeDigits=null;afterSetInputEditable(e,t){let a=this.getInputEl().style||{};e?delete a.pointerEvents:a.pointerEvents="none",this.update()}afterSetMaxValue(e,t){this.validate(),this.changeInputElKey("max",e)}afterSetMinValue(e,t){this.validate(),this.changeInputElKey("min",e)}afterSetStepSize(e,t){let a,o,n=this,s=n.value;n.changeInputElKey("step",e),o=String(e),n.stepSizeDigits=o.includes(".")?o.split(".")[1].length:0,null!==s&&(a=(s-n.minValue)%e,0!==a&&(a/e>.5?s+e-a<n.maxValue?n.value=s+e-a:s-a>n.minValue&&(n.value=s-a):s-a>n.minValue?n.value=s-a:s+e-a<n.maxValue&&(n.value=s+e-a)))}afterSetTriggerPosition(e,t){t&&this.updateTriggers()}afterSetUseSpinButtons(e,t){Neo.isBoolean(t)&&this.updateTriggers()}beforeSetMaxLength(e,t){return null!==e&&console.warn("input type number does not support maxLength. use maxValue instead.",this),null}beforeSetMinLength(e,t){return null!==e&&console.warn("input type number does not support minLength. use minValue instead.",this),null}beforeSetTriggerPosition(e,t){return this.beforeSetEnumValue(e,t,"triggerPosition")}beforeSetValue(e,t){return null===e||""===e?null:(Neo.isNumber(e)||(e=+e),this.stepSizeDigits>0&&(e=+e.toFixed(this.stepSizeDigits)),e)}fitsStepSize(e){return null===e||parseInt(e.toString().replace(".",""))*(1/this.stepSize)%1==0}isValid(){let{maxValue:e,minValue:t,value:a}=this,o=Neo.isNumber(a);return!(Neo.isNumber(e)&&o&&a>e)&&!(Neo.isNumber(t)&&o&&a<t)&&!!this.fitsStepSize(a)&&super.isValid()}onConstructed(){this.updateTriggers(),super.onConstructed()}onFocusLeave(e){let t=this,{value:a}=t;null!==a&&(a=t.stepSizeDigits>0?parseFloat(a):parseInt(a),a=Math.max(t.minValue,a),a=Math.min(t.maxValue,a),t.value!==a?t.value=a:t.getInputEl().value=t.inputValueRenderer(a)),super.onFocusLeave(e)}onSpinButtonDownClick(){let e=this,{stepSize:t}=e,a=Neo.isNumber(e.value)?e.value:e.minValue,o=a-t<e.minValue?e.maxValue:a-t;if(e.excludedValues)for(;e.excludedValues.includes(o);)o=Math.max(e.minValue,o-t);a!==o&&(e.value=o)}onSpinButtonUpClick(){let e=this,{stepSize:t}=e,a=Neo.isNumber(e.value)?e.value:e.maxValue,o=a+t>e.maxValue?e.minValue:a+t;if(e.excludedValues)for(;e.excludedValues.includes(o);)o=Math.min(e.maxValue,o+t);a!==o&&(e.value=o)}updateTriggers(){let e=this,t=e.triggers||[];e.useSpinButtons?"right"===e.triggerPosition?(e.hasTrigger("spinupdown")||t.push(s.A),e.removeTrigger("spindown",!0,t),e.removeTrigger("spinup",!0,t)):(e.hasTrigger("spindown")||t.push(o.A),e.hasTrigger("spinup")||t.push(n.A),e.removeTrigger("spinupdown",!0,t)):(e.removeTrigger("spindown",!0,t),e.removeTrigger("spinup",!0,t),e.removeTrigger("spinupdown",!0,t)),e.triggers=t}validate(e=!0){let t=this,{maxValue:a,minValue:o,stepSize:n,value:s}=t,i=Neo.isNumber(s),r=super.validate(e),l={maxValue:a,minValue:o,stepSize:n,value:s};return r&&(Neo.isNumber(a)&&i&&s>a?(t._error=t.errorTextMaxValue(l),r=!1):Neo.isNumber(o)&&i&&s<o?(t._error=t.errorTextMinValue(l),r=!1):t.fitsStepSize(s)||(t._error=t.errorTextStepSize(l),r=!1)),!r&&!t.clean&&t.updateError(t._error,e),r}toJSON(){let e=this;return{...super.toJSON(),maxValue:e.maxValue,minValue:e.minValue,stepSize:e.stepSize,useSpinButtons:e.useSpinButtons}}}const l=Neo.setupClass(r)},8793(e,t,a){a.d(t,{A:()=>s});var o=a(3289);class n extends o.A{static config={className:"Neo.form.field.trigger.SpinUpDown",ntype:"trigger-spinupdown",baseCls:["neo-field-trigger","neo-spin-buttons"],spinButtonDownIconCls:"fa fa-chevron-down",spinButtonUpIconCls:"fa fa-chevron-up",type:"spinupdown"};onConstructed(){let e=this;e.vdom.cn=[{cls:["neo-spin-button","neo-up",...e.spinButtonUpIconCls.split(" ")]},{cls:["neo-spin-button","neo-down",...e.spinButtonDownIconCls.split(" ")]}],e.update(),super.onConstructed()}onTriggerClick(e){let t=e.path[0].cls.join(" ");t.includes("neo-down")?this.field.onSpinButtonDownClick():t.includes("neo-up")&&this.field.onSpinButtonUpClick()}toJSON(){return{...super.toJSON(),spinButtonDownIconCls:this.spinButtonDownIconCls,spinButtonUpIconCls:this.spinButtonUpIconCls}}}const s=Neo.setupClass(n)}};