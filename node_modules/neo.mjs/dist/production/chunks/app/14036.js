"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[14036],{14036:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var n=a(33460),o=a(51592);const i=Neo.setupClass(class extends n.A{static config={className:"Neo.calendar.view.SettingsContainer",baseCls:["neo-calendar-settingscontainer","neo-container"],collapsed:!1,layout:{ntype:"vbox",align:"stretch"},removeInactiveCards:!0};construct(e){super.construct(e),this.collapsed&&(this.vdom.removeDom=!0)}collapse(e){let t=this,a=t.style||{};a.marginRight=`-${e}px`,t._style=a,t._vdom.style=a,t.parent.updateDepth=-1,t.parent.promiseUpdate().then(()=>{t.timeout(400).then(()=>{t.collapsed=!0,t.vdom.removeDom=!0,t.update(),t.mounted=!1})})}createItems(){let e=this;e.items=[{ntype:"component",cls:["neo-header"],height:48,html:'<i class="fa fa-cog"></i>Settings'},{module:o.A,removeInactiveCards:e.removeInactiveCards,items:[{module:()=>a.e(64279).then(a.bind(a,64279)),flag:"general",header:{text:"General"},style:{padding:"20px"}},{ntype:"component",flag:"day",header:{text:"Day"},html:"Day",style:{padding:"20px"}},{module:()=>a.e(82763).then(a.bind(a,82763)),flag:"week",header:{text:"Week"},style:{padding:"20px"}},{module:()=>a.e(43501).then(a.bind(a,43501)),flag:"month",header:{text:"Month"},style:{padding:"20px"}},{module:()=>a.e(74278).then(a.bind(a,74278)),flag:"year",header:{text:"Year"},style:{padding:"20px"}}],listeners:{activeIndexChange:e.onCardIndexChange,scope:e}}],super.createItems()}expand(){let e,t=this;delete t.vdom.removeDom,t.parent.updateDepth=-1,t.parent.promiseUpdate().then(()=>{t.collapsed=!1,t.mounted=!0,t.timeout(50).then(()=>{e=t.style||{},e.marginRight="0px",t.style=e})})}getMainContainer(){return this.up("calendar-maincontainer")}onCardIndexChange(e){let t=this,a=e.item,n=t.getMainContainer();n&&(Neo.isFunction(a.createContent)&&a.items.length<1&&("NeoInstance"!==Neo.typeOf(n[`${a.flag}Component`])?n.on("cardLoaded",()=>{t.timeout(30).then(()=>{a.createContent()})},t,{once:!0}):t.timeout(30).then(()=>{a.createContent()})),"general"!==a.flag&&(n.activeView=a.flag))}})},51592:(e,t,a)=>{a.d(t,{A:()=>u});var n=a(33460);const o=Neo.setupClass(class extends n.A{static config={className:"Neo.tab.BodyContainer",baseCls:["neo-container","neo-tab-body-container"]};remove(e,t,a){e?.isTab?this.parent.remove(e,t,a):super.remove(e,t,a)}});var i=a(89461),r=a(80338);const s=Neo.setupClass(class extends r.A{static config={className:"Neo.tab.header.Toolbar",ntype:"tab-header-toolbar",baseCls:["neo-tab-header-toolbar","neo-toolbar"],useActiveTabIndicator_:!0};afterSetSortable(e,t){let n=this;e&&!n.sortZone&&a.e(78475).then(a.bind(a,78475)).then(e=>{let{appName:t,id:a,windowId:o}=n;n.sortZone=Neo.create({module:e.default,appName:t,boundaryContainerId:a,owner:n,windowId:o,...n.sortZoneConfig})})}afterSetUseActiveTabIndicator(e,t){if(void 0!==t){let t=this;t.items.forEach(t=>{t._useActiveTabIndicator=e,t.updateUseActiveTabIndicator(!0)}),t.update()}}createItems(){let e=this,t=e.itemDefaults||{};t.useActiveTabIndicator=e.useActiveTabIndicator,e.itemDefaults=t,super.createItems()}getLayoutConfig(){let e;switch(this.dock){case"bottom":case"top":e={align:"center",direction:"row",pack:"start"};break;case"left":e={align:"center",direction:"column-reverse",pack:"end"};break;case"right":e={align:"center",direction:"column",pack:"start"}}return e}moveTo(e,t){let a=super.moveTo(e,t);return e!==t&&this.items.forEach((e,t)=>{e.index=t}),a}});var d=a(59651),c=a(31485);const l=Neo.setupClass(class extends c.A{static config={className:"Neo.tab.Strip",ntype:"tab-strip",baseCls:["neo-tab-strip"],tabContainerId:null,useActiveTabIndicator_:!0,_vdom:{cn:[{cls:["neo-active-tab-indicator"]}]}};afterSetUseActiveTabIndicator(e,t){this.vdom.cn[0].removeDom=!e,this.update()}getActiveTabRectThenMove(e){let t,a=this,n=[a.id],o=a.getTabContainer();a.useActiveTabIndicator&&a.vnode&&Neo.isNumber(e?.oldValue)&&(t=o.getTabAtIndex(e.oldValue),t&&(n.push(o.getTabAtIndex(e.value).id,t.id),a.getDomRect(n).then(e=>{a.moveActiveIndicator(e)})))}getTabContainer(){return Neo.getComponent(this.tabContainerId)}moveActiveIndicator(e){let t,a,n=this,o=e.shift(),i=e[1]||e[0];if(n.useActiveTabIndicator){switch(t=n.vdom.cn[0],a=n.getTabContainer(),a.tabBarPosition){case"bottom":case"top":t.style={height:null,left:i.left-o.left+"px",top:null,width:`${i.width}px`};break;case"left":case"right":t.style={height:`${i.height}px`,left:null,top:i.top-o.top+"px",width:null}}e[1]?(t.style.opacity=0,n.update(),n.timeout(50).then(()=>{n.moveActiveIndicator([o,e[0]])})):(t.style.opacity=1,n.update(),n.timeout(300).then(()=>{t.style.opacity=0,n.update()}))}}onConstructed(){super.onConstructed();let e=this;e.getTabContainer().on({activeIndexChange:e.getActiveTabRectThenMove,scope:e})}}),u=Neo.setupClass(class extends n.A{static tabBarPositions=["top","right","bottom","left"];static config={className:"Neo.tab.Container",ntype:"tab-container",activeIndex_:0,activateInsertedTabs:!1,baseCls:["neo-tab-container"],bodyContainer:null,bodyContainerId:null,headerToolbar:null,layout:null,plain_:!0,removeInactiveCards:!0,sortable_:!1,tabBarId:null,tabStrip:null,tabStripId:null,tabBarPosition_:"top",tabContainerCls:"neo-tab-container",useActiveTabIndicator_:!0};add(e){return this.insert(this.getTabBar().items.length,e)}async afterSetActiveIndex(e,t){let a=this,n=Neo.getComponent(a.bodyContainerId);Neo.isNumber(e)&&e>-1&&!n?a.on("constructed",()=>{a.afterSetActiveIndex(e,t)}):Neo.isNumber(e)&&e>-1&&(n.layout._activeIndex=e,await n.layout.afterSetActiveIndex(e,t),void 0!==t&&(a.updateTabButtons(),a.fire("activeIndexChange",{item:a.getActiveCard(),oldValue:t,value:e})))}afterSetPlain(e,t){let a=this,{cls:n}=a;d.A[e?"unshift":"remove"](n,a.tabContainerCls+"-plain"),a.cls=n}afterSetSortable(e,t){void 0!==t&&(this.getTabBar().sortable=e)}afterSetTabBarPosition(e,t){let a=this,{cls:n}=a;d.A.remove(n,"neo-"+t),d.A.add(n,"neo-"+e),a.setSilent({cls:n}),a.rendered&&(a.layout.setSilent(a.getLayoutConfig()),a.getTabBar().setSilent({dock:e}),a.getTabStrip().setSilent({cls:["neo-tab-strip","neo-dock-"+e]}),a.updateDepth=2,a.fire("tabBarPositionChange",{component:a,oldValue:t,value:e})),a.update()}afterSetUseActiveTabIndicator(e,t){void 0!==t&&(this.getTabBar().useActiveTabIndicator=e,this.getTabStrip().useActiveTabIndicator=e)}beforeSetTabBarPosition(e,t){return this.beforeSetEnumValue(e,t,"tabBarPosition")}createItems(){let e=this,{activeIndex:t,removeInactiveCards:a,useActiveTabIndicator:n}=e,i=e.items||[],r=[],d=[];Object.assign(e,{bodyContainerId:e.bodyContainerId||Neo.getId("container"),tabBarId:e.tabBarId||Neo.getId("tab-header-toolbar"),tabStripId:e.tabStripId||Neo.getId("tab-strip")}),i.forEach((t,a)=>{r.push(e.getTabButtonConfig(t.header,a)),t instanceof Neo.component.Base||(t={flex:1,...e.itemDefaults,isTab:!0,...t}),d.push(t)}),e.items=[{module:s,dock:e.tabBarPosition,flex:"none",id:e.tabBarId,items:r,sortable:e.sortable,useActiveTabIndicator:n,...e.headerToolbar},{module:l,cls:["neo-dock-"+e.tabBarPosition],flex:"none",id:e.tabStripId,tabContainerId:e.id,useActiveTabIndicator:n,...e.tabStrip},{module:o,id:e.bodyContainerId,itemDefaults:e.itemDefaults,items:d,layout:{ntype:"card",activeIndex:t,removeInactiveCards:a},useActiveTabIndicator:n,...e.bodyContainer}],e.itemDefaults=null,super.createItems()}getActiveCard(){return this.getCardContainer().items[this.activeIndex]||null}getCard(e){return this.getCardContainer().items[e]||null}getCardContainer(){return Neo.getComponent(this.bodyContainerId)}getCount(){return this.getTabBar().items.length}getLayoutConfig(){return{bottom:{align:"stretch",direction:"column-reverse",pack:"start"},left:{align:"stretch",direction:"row",pack:"start"},right:{align:"stretch",direction:"row-reverse",pack:"start"},top:{align:"stretch",direction:"column",pack:"start"}}[this.tabBarPosition]||null}getTabAtIndex(e){return this.getTabBar().items[e]||null}getTabBar(){return Neo.getComponent(this.tabBarId)}getTabButtonConfig(e,t){let a=this;return{module:i.A,flex:"none",index:t,pressed:a.activeIndex===t,domListeners:[{click(e){a.activeIndex=e.component.index},scope:a}],...e}}getTabStrip(){return Neo.getComponent(this.tabStripId)}insert(e,t,a=!1){let n,o,i,r,s,d=this,c=d.getCardContainer(),l=d.getTabBar(),u=!1;if(Array.isArray(t)){for(n=0,o=t.length,i=[];n<o;n++)i.unshift(d.insert(e,t[o-1-n],!0));r=i}else if("object"==typeof t){for(n=0,o=c.items.length;n<o;n++)if(c.items[n].id===t.id){u=!0,r=c.items[n],d.activateInsertedTabs&&(d.activeIndex=n);break}if(!u){for(s=l.insert(e,d.getTabButtonConfig(t.header,e)),n=0,o=l.items.length;n<o;n++)l.items[n].index=n;t.flex=1,r=c.insert(e,t,a),d.activateInsertedTabs&&(d.vnode?s.on("mounted",d.onTabButtonMounted,d):d.activeIndex=e)}}return!a&&d.updateTabButtons(),r}moveTo(e,t){let a,n,o=this,i=o.getCardContainer(),r=o.getTabBar(),s=r.items[o.activeIndex];return r.moveTo(e,t),a=s.index,a!==o.activeIndex&&(o._activeIndex=a,i.layout._activeIndex=a),n=i.moveTo(e,t),o.fire("moveTo",{fromIndex:e,toIndex:t}),n}onConstructed(){this.layout={ntype:"flexbox",...this.getLayoutConfig()},super.onConstructed()}onTabButtonMounted(e){let t,a=this,n=a.getCardContainer(),o=a.getTabBar(),i=0,r=o.items.length,s=-1;for(;i<r;i++)if(o.items[i].id===e){s=i;break}s>-1&&(t=n.items[s],a.vnode&&!t.mounted?t.on("mounted",()=>{a.activeIndex=s},a,{once:!0}):a.activeIndex=s)}remove(e,t=!0,a=!1){let n=[...this.getCardContainer().items],o=0,i=n.length;for(;o<i;o++)n[o].id===e.id&&this.removeAt(o,t,a)}removeAt(e,t=!0,a=!1){let n,o,i=this,{activeIndex:r}=i,s=i.getCardContainer(),d=i.getTabBar();for(s.removeAt(e,t,a),d.removeAt(e,!0,!1),e<r?(i._activeIndex=r-1,s.layout._activeIndex=r-1):e===r&&(i.activeIndex=r-1),n=0,o=d.items.length;n<o;n++)d.items[n].index=n}updateTabButtons(){let{activeIndex:e}=this;(this.getTabBar().items||[]).forEach((t,a)=>{t.pressed=a===e})}})},89461:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(78847);const o=Neo.setupClass(class extends n.A{static config={className:"Neo.tab.header.Button",ntype:"tab-header-button",baseCls:["neo-tab-header-button","neo-button"],role:"tab",useActiveTabIndicator_:!0,_vdom:{tag:"button",cn:[{tag:"span",cls:["neo-button-glyph"]},{tag:"span",cls:["neo-button-text"]},{cls:["neo-button-badge"]},{cls:["neo-button-ripple-wrapper"],cn:[{cls:["neo-button-ripple"]}]},{cls:["neo-tab-button-indicator"]}]}};afterSetPressed(e,t){super.afterSetPressed(e,t);let a=this;e?a.vdom["aria-selected"]=!0:delete a.vdom["aria-selected"],a.update()}afterSetUseActiveTabIndicator(e,t){this.updateUseActiveTabIndicator()}showRipple(e){!this.pressed&&super.showRipple(e)}updateUseActiveTabIndicator(e=!1){let t=this;t.vdom.cn[4].removeDom=!t.useActiveTabIndicator,!e&&t.update()}})}}]);