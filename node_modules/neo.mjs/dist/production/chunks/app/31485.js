"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[31485],{2954:(e,t,r)=>{r.d(t,{A:()=>s});var o=r(67024),n=r(70286);class i extends o.A{static config={className:"Neo.util.VNode"};static find(e,t,r,o){e=i.getVnode(e),r=r||0,t="string"!=typeof t?t:{id:t};let n,s,a,d=!0,l=[],c=!0,h=0,u=e.childNodes?.length||0;if(n=Object.entries(t),s=n.length,n.forEach(([t,r])=>{if(e.hasOwnProperty(t))switch(t){case"attributes":Neo.isObject(r)&&Neo.isObject(e[t])&&(Object.entries(r).forEach(([r,o])=>{e[t].hasOwnProperty(r)&&e[t][r]===o||(d=!1)}),d&&l.push(!0));break;case"className":if("string"==typeof r&&Neo.isArray(e[t]))e[t].includes(r)&&l.push(!0);else if("string"==typeof r&&"string"==typeof e[t])e[t]===r&&l.push(!0);else if(Neo.isArray(r)&&Neo.isArray(e[t]))throw new Error("find: cls matching not supported for target & source types of Arrays");break;case"style":Neo.isObject(r)&&Neo.isObject(e[t])&&(Object.entries(r).forEach(([r,o])=>{e[t].hasOwnProperty(r)&&e[t][r]===o||(c=!1)}),c&&l.push(!0));break;default:e[t]===r&&l.push(!0)}}),l.length===s)return{index:r,parentNode:o,vnode:e};for(;h<u;h++)if(a=i.find(e.childNodes[h],t,h,e),a)return a;return null}static getById(e,t){let r,o=(e=i.getVnode(e)).childNodes||[],n=0,s=o.length;if(e.id===t)return e;for(;n<s;n++){if(r=i.getVnode(o[n]),r.id===t)return r;if(r=i.getById(r,t),r)return r}return null}static getChildIds(e,t=[]){return e?.childNodes?.forEach(e=>{e.id&&!e.componentId&&t.push(e.id),i.getChildIds(e,t)}),t}static getVnode(e){return e.componentId&&(e=n.A.get(e.componentId).vnode),e}static removeChildVnode(e,t){let r,o=(e=i.getVnode(e)).childNodes||[],n=0,s=o.length;if(e.id===t)throw new Error("removeChildVnode: target id matches the root vnode id: "+t);for(;n<s;n++){if(r=i.getVnode(o[n]),r.id===t)return o.splice(n,1),!0;if(i.removeChildVnode(r,t))return!0}return!1}static replaceChildVnode(e,t,r){let o,n=(e=i.getVnode(e)).childNodes||[],s=0,a=n.length;if(e.id===t)throw new Error("replaceChildVnode: target id matches the root vnode id: "+t);for(;s<a;s++){if(o=i.getVnode(n[s]),o.id===t)return n[s]=r,!0;if(i.replaceChildVnode(o,t,r))return!0}return!1}}const s=Neo.setupClass(i)},5728:(e,t,r)=>{function o(e,t){const r=[].slice.call(arguments).slice(2);return function(){return e.apply(t,[].slice.call(arguments).concat(r))}}function n(e,t,r=300){let o;const n=function(...i){clearTimeout(o),n.isPending=!0,o=setTimeout(()=>{o=0,n.isPending=!1,e.apply(t,i)},r)};return n.cancel=()=>{n.isPending=!1,clearTimeout(o)},n}function i(e,t,r=300){let o;return function(...n){Neo.isNumber(o)?(clearTimeout(o),o=setTimeout(()=>{t?.id&&e.apply(t,n),o=setTimeout(()=>{o=null},r)},r)):(t?.id&&e.apply(t,n),o=setTimeout(()=>{o=null},r))}}function s(e,t,r,o,n=null){let i=e[t];return e[t]=function(){return!1===r.apply(o||e,arguments)?n:i.apply(e,arguments)}}function a(e,t=this){if(Neo.isString(e)){if(!t[e]&&e.startsWith("up."))for(e=e.slice(3);!t[e]&&(t=t.parent););else t=t.getController?.()?.getHandlerScope(e,null)||t;e=t[e]}return{fn:e,scope:t}}function d(e,t,r=300){let o,n;return function(...i){o?(clearTimeout(n),n=setTimeout(function(){Date.now()-o>=r&&(t?.id&&e.apply(t,i),o=Date.now())},r-(Date.now()-o))):(t?.id&&e.apply(t,i),o=Date.now())}}r.d(t,{Ap:()=>a,Zc:()=>s,ij:()=>o,nF:()=>d,r:()=>n,sg:()=>i})},16019:(e,t,r)=>{r.d(t,{A:()=>g});const o=Object.freeze([]),n=(e=0)=>{switch(Array.isArray(e)||(e=[e]),e.length){case 1:return e.length=4,e.fill(e[0],1,4);case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]]}return e},i=e=>{const t=a[e.ourEdge],r=a[e.theirEdge];return`${t}${e.ourEdgeOffset}${e.ourEdgeUnit}-${r}${e.theirEdgeOffset}${e.theirEdgeUnit}`},s=e=>{const t=e instanceof DOMRect?e:(1===e?.nodeType?e:"string"==typeof e?document.getElementById(e):null)?.getBoundingClientRect();return t&&new g(t.x,t.y,t.width,t.height)},a={t:"b",r:"l",b:"t",l:"r"},d={t:0,r:1,b:2,l:3},l=["top","right","bottom","left"],c=["t","r","b","l"],h=["width","height"],u=[0,0,0,0],p=/^([trblc])(\d*)(%|px)?-([trblc])(\d*)(%|px)?$/;class g extends DOMRect{static config={className:"Neo.util.Rectangle"};minHeight=null;minWidth=null;static excludes(e,t){return e.bottom<t.top||e.left>t.right||e.right<t.left||e.top>t.bottom}static getIntersection(e,t){let r=Math.max(e.x,t.x),o=Math.max(e.y,t.y),n=Math.min(e.right,t.right),i=Math.min(e.bottom,t.bottom),s=Math.max(0,n-r),a=Math.max(0,i-o);return a<1||s<1?null:new g(r,o,s,a)}static includes(e,t){return e.bottom>=t.bottom&&e.left<=t.left&&e.right>=t.right&&e.top<=t.top}static leavesSide(e,t,r){return!g.includes(e,t)&&("bottom"===r?e.bottom<t.bottom:"left"===r?e.left>t.left:"right"===r?e.right<t.right:"top"===r?e.top>t.top:void 0)}static moveBy(e,t=null,r=null){let o={...e};return Neo.isNumber(t)&&(o.left+=t,o.right+=t,o.x+=t),Neo.isNumber(r)&&(o.bottom+=r,o.top+=r,o.y+=r),o}static moveTo(e,t=null,r=null){let o={...e};return Neo.isNumber(t)&&(o.left=t,o.right=t+o.width,o.x=t),Neo.isNumber(r)&&(o.bottom=r+o.height,o.top=r,o.y=r),o}set bottom(e){this.height+=e-this.bottom}get bottom(){return super.bottom}set right(e){this.width+=e-this.right}get right(){return super.right}changeX(e){const t=this.x-e;this.x=e,this.width+=t}changeY(e){const t=this.y-e;this.y=e,this.height+=t}clone(){return g.clone(this)}static clone(e){const t=new g(e.x,e.y,e.width,e.height);return t.minWidth=e.minWidth,t.minHeight=e.minHeight,t}intersects(e){const t=this;if(e.height&&e.width){const r=Math.max(t.x,e.x),o=Math.max(t.y,e.y),n=Math.min(t.x+t.width,e.x+e.width),i=Math.min(t.y+t.height,e.y+e.height);return!(r>=n||o>=i)&&new g(r,o,n-r,i-o)}return e.x>=t.x&&e.y>=t.y&&e.right<=t.right&&e.bottom<=t.bottom}contains(e){return this.bottom>=e.bottom&&this.left<=e.left&&this.right>=e.right&&this.top<=e.top}expand(e){return e=n(e),new this.constructor(this.x-e[3],this.y-e[0],this.width+e[1]+e[3],this.height+e[0]+e[2])}moveBy(e=0,t=0){const r=this.clone();return Array.isArray(e)&&(t=e[1],e=e[0]),r.x+=e,r.y+=t,r}contains(e){return this.constructor.includes(this,e)}constrainTo(e){const t=this,r=t.minWidth||t.width;if((t.minHeight||t.height)>e.height||r>e.width)return!1;const o=t.clone();return o.x=Math.max(t.x+Math.min(e.right-o.right,0),e.x),o.y=Math.max(t.y+Math.min(e.bottom-o.bottom,0),e.y),o.bottom=Math.min(o.bottom,e.bottom),o.right=Math.min(o.right,e.right),o}alignTo(e){const t=this,{constrainTo:r,target:o,edgeAlign:g,axisLock:m,offset:f,matchSize:y}=e,v=e.targetMargin?n(e.targetMargin):u,b=s(o),N=s(r),C=(e=>{const t=p.exec(e),r=d[t[1]],o=d[t[4]];return{ourEdge:t[1],ourEdgeOffset:parseInt(t[2]||50),ourEdgeUnit:t[3]||"%",ourEdgeZone:r,theirEdge:t[4],theirEdgeOffset:parseInt(t[5]||50),theirEdgeUnit:t[6]||"%",theirEdgeZone:o,edgeAligned:(1&r)==(1&o)&&r!==o}})(g),w=h[1&C.theirEdgeZone];let S=t.clone();y&&(S[w]=b[w]);const A=S.getAnchorPoint(C.ourEdgeZone,C.ourEdgeOffset,C.ourEdgeUnit),I=b.getAnchorPoint(C.theirEdgeZone,C.theirEdgeOffset,C.theirEdgeUnit,v),E=[I[0]-A[0],I[1]-A[1]];if(S=S.moveBy(E),S.zone=C.theirEdgeZone,S.position=l[S.zone],N&&!N.contains(S)){if(b.intersects(S))return S;let e=C.theirEdgeZone;const r=[{zone:e,edgeAlign:g}];if(m)r[1]={zone:e=(e+2)%4,edgeAlign:i(C)},r.push({zone:e=(C.theirEdgeZone+1)%4,edgeAlign:`${a[c[e]]}-${c[e]}`}),r.push({zone:e=(C.theirEdgeZone+3)%4,edgeAlign:`${a[c[e]]}-${c[e]}`});else for(let t=1;t<4;t++)r.push({zone:e=(e+1)%4,edgeAlign:`${a[c[e]]}-${c[e]}`});for(let e=0;e<r.length;e++){const t=N.clone();switch(r[e].zone){case 0:t.bottom=b.y-v[0];break;case 1:t.changeX(b.right+v[1]);break;case 2:t.changeY(b.bottom+v[2]);break;case 3:t.right=b.x-v[3]}r[e].constrainRect=t}for(let e=0;e<r.length;e++){const{zone:o,edgeAlign:n,constrainRect:i}=r[e],s=c[o];y&&(S[w]=s===C.theirEdge||s==a[C.theirEdge]?b[w]:t[w]),S=S.alignTo({target:b,edgeAlign:n,targetMargin:v});let d=S.constrainTo(i);if(d)return d.zone=o,d.position=l[o],d}}return f&&S.moveBy(f),S}getAnchorPoint(e,t,r,n=o){const i=this;let s;switch(e){case 0:s=[i.x,i.y-(n[0]||0),i.width,0];break;case 1:s=[i.x+i.width+(n[1]||0),i.y,i.height,1];break;case 2:s=[i.x,i.y+i.height+(n[2]||0),i.width,0];break;case 3:s=[i.x-(n[3]||0),i.y,i.height,1]}return s[s[3]]+="%"===r?s[2]/100*t:t,s.length=2,s}equals(e){return e instanceof DOMRect&&e.x===this.x&&e.y===this.y&&e.height===this.height&&e.width===this.width}show(e="red"){const t=document.createElement("div");return t.style=`\n            position:absolute;\n            transform:translate3d(${this.x}px, ${this.y}px, 0);\n            height:${this.height}px;\n            width:${this.width}px;\n            background-color:${e}\n        `,document.body.appendChild(t),setTimeout(()=>t.remove(),3e4),t}toJSON(){const{bottom:e,height:t,left:r,minHeight:o,minWidth:n,right:i,top:s,width:a,x:d,y:l}=this;return{bottom:e,height:t,left:r,minHeight:o,minWidth:n,right:i,top:s,width:a,x:d,y:l}}}},31485:(e,t,r)=>{r.d(t,{A:()=>S});var o=r(67024),n=r(53403),i=r(70286),s=r(59651);const a=Neo.setupClass(class extends o.A{static config={className:"Neo.manager.Focus",history:[],lastFocusInDate:null,lastFocusOutDate:null,maxFocusInOutGap:50,maxHistoryLength:20,singleton:!0};addToHistory(e){let t=this.history;t.unshift(e),t.length>=this.maxHistoryLength&&t.pop()}focusEnter(e){this.setComponentFocus(e,!0),this.addToHistory(e)}focusLeave(e){this.setComponentFocus(e,!1)}focusMove(e){let t,r,o=this,{history:n}=o,i=e.componentPath,a=n[0].componentPath,d=s.A.difference(i,a),l=s.A.difference(a,i),c=s.A.intersection(i,a);o.setComponentFocus({componentPath:l,data:e.data},!1),o.setComponentFocus({componentPath:d,data:e.data},!0),c.forEach(o=>{t=Neo.getComponent(o),t&&(r={component:t,path:e.data.path,oldPath:n[0].data.path},t.onFocusMove?.(r),t.fire("focusMove",r),t.onFocusChange?.(r),t.fire("focusChange",r))}),o.addToHistory(e)}onFocusin(e){let t=this;t.lastFocusInDate=new Date,t.lastFocusOutDate&&t.lastFocusInDate-t.lastFocusOutDate<t.maxFocusInOutGap?t.focusMove(e):t.focusEnter(e)}onFocusout(e){let t=this;t.lastFocusOutDate=new Date,t.timeout(t.maxFocusInOutGap).then(()=>{t.lastFocusOutDate>t.lastFocusInDate&&t.focusLeave(e)})}setComponentFocus(e,t){let r,o={relatedTarget:e.data.relatedTarget},n=e.componentPath.map(e=>Neo.getComponent(e));n.forEach(e=>{e&&(e.containsFocus=t)}),n.forEach(n=>{n&&(o.component=n,o[t?"path":"oldPath"]=e.data.path,r=t?"onFocusEnter":"onFocusLeave",n[r]?.(o),n.fire(t?"focusEnter":"focusLeave",o),n.onFocusChange?.(o),n.fire("focusChange",o))})}});var d=r(99696),l=r(33610);const c=["bubble","delegate","local","scope","vnodeId"],h=["change","click","contextmenu","dblclick","drag:end","drag:move","drag:start","focusin","focusout","input","intersect","keydown","keyup","mousedown","mouseenter","mouseleave","mouseup","neonavigate","scroll","selectionchange","touchmove","wheel"];class u extends o.A{static config={className:"Neo.manager.DomEvent",items:{},map:{},singleton:!0};addResizeObserver(e,t){Neo.main.addon.ResizeObserver||console.error("For using resize domListeners, you must include main.addon.ResizeObserver.",t);let{id:r,windowId:o}=e;Neo.main.addon.ResizeObserver.register({id:r,windowId:o})}fire(e){let t,r,o,n,s=this,d=!0,l=e.data||{},{eventName:c}=e,h=0,p=null,g=l.path.map(e=>e.id),m=i.A.getParentPath(g),f=m.length;for(;h<f&&(o=m[h],t=Neo.getComponent(o),t&&!t.disabled);h++){if(p=s.items[o]?.[c],p&&Array.isArray(p)&&p.every(e=>{let o;return e&&e.fn&&(r="resize"===c?l.id===t.id&&l.id:s.verifyDelegationPath(e,l.path),!1!==r&&(n=!1,"mouseenter"!==c&&"mouseleave"!==c||(n=!u.verifyMouseEnterLeave(t,l,r,c)),n||(l=Neo.clone(l,!0,!0),l.component=t,l.currentTarget=r,Neo.isString(e.fn)&&s.bindCallback(e.fn,"fn",e.scope,e),o=e.fn.apply(e.scope||globalThis,[l]),e.bubble||(d=!1)))),!1!==o}),"focusin"===c||"focusout"===c){a["on"+Neo.capitalize(c)]({componentPath:m,data:l});break}if(!d||l.cancelBubble)break}if("contextmenu"===c&&l.ctrlKey)Neo.util?.Logger?.onContextMenu(l);else if(c.startsWith("drop")){let e=l.dragZoneId&&Neo.get(l.dragZoneId);e&&(e.fire(c,l),e[{drop:"onDrop","drop:enter":"onDropEnter","drop:leave":"onDropLeave"}[c]].call(e,l))}}generateListenerConfig(e,t){return{bubble:e.bubble,delegate:e.delegate,eventName:e.eventName,id:t.id,opts:e,priority:e.priority,scope:e.scope||t,vnodeId:e.vnodeId||t.vdom.id}}getEventName(e){let t=null;return Neo.isObject(e)&&Object.keys(e).forEach(e=>{c.includes(e)||(t=e)}),t}getListener(e){let t,r=this.items;if(r?.[e.id])return t=r[e.id][e.eventName],t||null}mountDomListeners(e){let t=this.items[e.id],r=[];t&&(Object.entries(t).forEach(([t,o])=>{o.forEach(o=>{"resize"===(t=o.eventName)?this.addResizeObserver(e,o):!t||!o.local&&h.includes(t)||r.push({name:t,handler:"domEventListener",vnodeId:o.vnodeId})})}),r.length>0&&Neo.worker.App.promiseMessage("main",{action:"addDomListener",appName:e.appName,events:r,windowId:e.windowId}).then(e=>{}).catch(e=>{console.log("App: Got error attempting to add a domListener",e)}))}register(e){let t,r,o,n,i=!1,{eventName:s,id:a,opts:d,scope:l}=e,c=this.items,u=typeof d;return"function"===u||"string"===u?t=d:(t=d.fn,l=d.scope||l),c[a]||(c[a]={}),c[a][s]?(r=c[a][s],Object.keys(r).forEach(o=>{r[o].fn.toString()===t.toString()&&r[o].scope===l&&r[o].delegate===e.delegate&&(i=!0)})):c[a][s]=[],!0!==i&&(n=Neo.getId("dom-event"),e.listenerId=n,o={bubble:e.hasOwnProperty("bubble")?e.bubble:!d.hasOwnProperty("bubble")||d.bubble,delegate:e.delegate,eventName:s,fn:t,id:n,mounted:!e.local&&h.includes(s),originalConfig:e.originalConfig,ownerId:e.ownerId,priority:e.priority||d.priority||1,scope:l,vnodeId:e.vnodeId},this.map[n]=o,c[a][s].push(o),c[a][s].sort((e,t)=>t.priority-e.priority),!0)}unregister(e,t){console.log("unregister",e),console.log(this.generateListenerConfig(e,t))}updateDomListeners(e,t,r){let o,n,i,a=this,l=a.items[e.id]||{};Array.isArray(t)?(Array.isArray(r)&&r.forEach(e=>{if(!t.includes(e))for(i=l[a.getEventName(e)]||[],o=0,n=i.length;o<n;o++)if(i[o].originalConfig===e){s.A.remove(i,i[o]);break}}),t.forEach(t=>{Object.entries(t).forEach(([r,o])=>{c.includes(r)||a.register({bubble:t.bubble||o.bubble,delegate:t.delegate||o.delegate||"#"+(e.vdom.id||e.id),eventName:r,id:e.vdom.id||e.id,opts:o,originalConfig:t,ownerId:e.id,priority:t.priority||o.priority||1,scope:t.scope||e,vnodeId:t.vnodeId||o.vnodeId||e.vdom.id})})}),e.mounted&&t?.length>0&&a.timeout(100).then(()=>{a.mountDomListeners(e)})):d.A.logError("Component.domListeners have to be an array",e)}verifyDelegationPath(e,t){let r,{delegate:o}=e,n=0,i=t.length;if("function"==typeof o)n=o(t),null!=n&&(r=t[n].id);else{let e,s,a,d,l=o.split(" ");for(s=l.length-1;s>=0;s--){for(e=!1,a=l[s],d=a.startsWith("#"),(d||a.startsWith("."))&&(a=a.substr(1));n<i;n++)if(d&&t[n].id===a||t[n].cls.includes(a)){e=!0,r=t[n].id;break}if(!e)return!1}}for(;n<i;n++)if(t[n].id===e.vnodeId)return r;return!1}static verifyMouseEnterLeave(e,t,r,o){let n,i="mouseenter"===o?t.fromElementId:t.toElementId;return!(i&&i!==r&&(n=l.A.find(e.vdom,r),!n||n.vdom&&l.A.find(n.vdom,i)))}}const p=Neo.setupClass(u),g=Neo.setupClass(class extends o.A{static config={className:"Neo.util.KeyNavigation",ntype:"keynav",component_:null,keyDownEventBubble:!1,keys_:null};add(e){this._keys.push(...this.parseKeys(e))}beforeGetComponent(){return Neo.getComponent(this._component)}beforeSetComponent(e){return e?.id}destroy(){this.unregister(),super.destroy()}onKeyDown(e){if(e.key){let t,r=this,o=e.key.toUpperCase();o=r.parseUpperCaseKey(o),r.keys.forEach(n=>{t=Neo.isString(n.scope)?Neo.get(n.scope):n.scope,n.key.toUpperCase()===o&&(Neo.isFunction(n.fn)?n.fn.apply(t,[e,r.component]):t[n.fn]?.apply(t,[e,r.component]))})}}parseKeys(e){if(!Array.isArray(e)){let t=this._component,r=[];t&&(Object.entries(e).forEach(([o,n])=>{"scope"!==o&&r.push({fn:n,key:o,scope:e.scope||t})}),e=r)}return e}parseUpperCaseKey(e){switch(e){case" ":e="SPACE";break;case"ARROWDOWN":e="DOWN";break;case"ARROWLEFT":e="LEFT";break;case"ARROWRIGHT":e="RIGHT";break;case"ARROWUP":e="UP"}return e}register(e){let t=this;t.component=e,t.keys=t.parseKeys(t.keys),e.addDomListeners({keydown:{bubble:t.keyDownEventBubble,fn:t.onKeyDown,scope:t}})}removeKey(e){let t,r=this._keys,o=0,n=r.length;for(;o<n;o++)if(t=r[o],Neo.isEqual(t,e)){s.A.remove(r,t);break}}removeKeys(e){Array.isArray(e)&&e.forEach(e=>this.removeKey(e))}unregister(){}});r(89408);var m=r(16019);Neo.setupClass(class extends o.A{static config={className:"Neo.util.Style"};static compareStyles(e,t){let r={};return Neo.isString(e)&&(e=Neo.createStyleObject(e)),Neo.isString(t)&&(t=Neo.createStyleObject(t)),e||t?t?(e&&Object.keys(e).forEach(o=>{t.hasOwnProperty(o)&&t[o]===e[o]||(r[o]=e[o])}),Object.keys(t).forEach(t=>{e&&e.hasOwnProperty(t)||(r[t]=null)}),Object.keys(r).length>0?r:null):Neo.clone(e):null}});var f=r(2954);const y=e=>null==e||isNaN(e)?e:`${e}px`,v=Symbol.for("closestController"),b=Symbol.for("closestProvider"),{currentWorker:N}=Neo,C=/^\d+\w+$/,w=Symbol.for("twoWayBinding"),S=Neo.setupClass(class extends o.A{static hideModes=["removeDom","visibility"];static observable=!0;static config={className:"Neo.component.Base",ntype:"component",align_:{edgeAlign:"t-b",constrainTo:"document.body"},appName_:null,autoMount:!1,autoRender:!1,baseCls:[],bind:null,cls_:null,containsFocus_:!1,controller_:null,data_:null,disabled_:!1,domListeners_:null,droppable_:!1,dropZone:null,dropZoneConfig:null,floating:!1,hasBeenMounted:!1,hasRenderingListener:!1,hasUnmountedVdomChanges_:!1,height_:null,hidden_:!1,hideMode_:"removeDom",html_:null,isLoading_:!1,isVdomUpdating_:!1,keys_:null,loadingSpinnerCls_:["fa","fa-spinner","fa-spin"],maxHeight_:null,maxWidth_:null,minHeight_:null,minWidth_:null,modelData:null,mounted_:!1,needsVdomUpdate_:!1,parentComponent_:null,parentId_:"document.body",plugins_:null,reference_:null,responsive_:null,rendering_:!1,role_:null,scrollable_:!1,silentVdomUpdate_:!1,stateProvider_:null,style_:null,theme_:null,tag_:null,tooltip_:null,ui_:null,updateDepth_:1,vnode_:null,width_:null,windowId_:null,wrapperCls_:null,wrapperStyle_:null,_vdom:{}};childUpdateCache={};currentUpdateDepth=null;resolveUpdateCache=[];get app(){return Neo.apps[this.appName]||null}get isVisible(){return this.mounted&&!this.hidden&&(!this.parent||this.parent.isVisible)}get listeners(){return this._listeners||{}}set listeners(e){this._listeners=e}get parent(){let e=this;return e.parentComponent||("document.body"===e.parentId?null:Neo.getComponent(e.parentId))}get rendered(){return this._rendered||!1}set rendered(e){let t=this;t._rendered=e,!0===e&&t.fire("rendered",t.id)}get vdom(){return this._vdom}set vdom(e){this.afterSetVdom(e,e)}addCls(e){let{cls:t}=this;s.A.add(t,e),this.cls=t}addDomListeners(e){Array.isArray(e)||(e=[e]);let t=this.domListeners;t.push(...e),this.domListeners=t}addStyle(e){return Neo.isString(e)&&(e=Neo.createStyleObject(e)),this.style=Object.assign(this.style,e)}addWrapperCls(e){let{wrapperCls:t}=this;s.A.add(t,e),this.wrapperCls=t}afterSetAppName(e,t){}afterSetCls(e,t){t=t||[];let r,o=this,n=o.vdom,i=o.getVdomRoot();n!==i?i.cls=[...e]:(r=s.A.union(o.wrapperCls,e),s.A.remove(r,s.A.difference(t,e)),n.cls=r),o.update()}afterSetConfig(e,t,r){let o=this;if(N.isUsingStateProviders&&o[w]&&void 0!==r){let r=o.bind?.[e];r?.twoWay&&this.getStateProvider()?.setData(r.key,t)}}afterSetDisabled(e,t){let r=this.cls;s.A[e?"add":"remove"](r,"neo-disabled"),this.cls=r}afterSetDomListeners(e,t){(e?.[0]||t?.[0])&&p.updateDomListeners(this,e,t)}afterSetDroppable(e,t){let o=this;e&&!o.dropZone&&r.e(74184).then(r.bind(r,74184)).then(e=>{o.dropZone=Neo.create({module:e.default,appName:o.appName,owner:o,windowId:o.windowId,...o.dropZoneConfig})})}afterSetFlex(e,t){isNaN(e)||(e=`${e} ${e} 0%`),this.configuredFlex=e,this.changeVdomRootKey("flex",e)}afterSetHasUnmountedVdomChanges(e,t){if(e||!e&&t){let t,r=i.A.getParentIds(this),o=0,n=r.length;for(;o<n;o++)t=Neo.getComponent(r[o]),t&&(t._hasUnmountedVdomChanges=e)}}afterSetHeight(e,t){this.configuredHeight=y(e),this.changeVdomRootKey("height",e)}afterSetHidden(e,t){let r=this,o=e?"hide":"show";e&&void 0===t&&"removeDom"===r.hideMode?r.vdom.removeDom=!0:(e||void 0!==t)&&r[o](),e||r.revertFocus(),r.fire(o,{id:r.id}),r.fire("hiddenChange",{id:r.id,oldValue:t,value:e})}afterSetHtml(e,t){this.changeVdomRootKey("html",e)}afterSetId(e,t){super.afterSetId(e,t),this.changeVdomRootKey("id",e),t&&i.A.unregister(t),e&&i.A.register(this)}afterSetIsLoading(e,t){if(e||void 0!==t){let r,o=this,{wrapperCls:n,vdom:i}=o;void 0!==t&&i.cn&&(r=i.cn.findLastIndex(e=>e.cls?.includes("neo-load-mask")),-1!==r&&i.cn.splice(r,1)),e&&(i.cn||(i.cn=[]),i.cn.push(o.createLoadingMask(e))),s.A.toggle(n,"neo-masked",e),o.set({vdom:i,wrapperCls:n})}}afterSetIsVdomUpdating(e,t){this.currentUpdateDepth=e?this.updateDepth:null}afterSetMaxHeight(e,t){this.configuredMaxHeight=y(e),this.changeVdomRootKey("maxHeight",e)}afterSetMaxWidth(e,t){this.configuredMaxWidth=y(e),this.changeVdomRootKey("maxWidth",e)}afterSetMinHeight(e,t){this.configuredMinHeight=y(e),this.changeVdomRootKey("minHeight",e)}afterSetMinWidth(e,t){this.configuredMinWidth=y(e),this.changeVdomRootKey("minWidth",e)}afterSetMounted(e,t){if(void 0!==t){let t=this,{id:r,windowId:o}=t;e?(t.hasBeenMounted=!0,t.domListeners?.length>0&&t.timeout(150).then(()=>{p.mountDomListeners(t)}),t.doResolveUpdateCache(),t.floating&&(t.alignTo(),t.focus(r,!0)),t.fire("mounted",t.id)):t.revertFocus()}}afterSetReference(e,t){e&&this.changeVdomRootKey("data-ref",e)}async afterSetResponsive(e,t){if(e&&!this.getPlugin("responsive")){let t=this,o=await r.e(19149).then(r.bind(r,19149)),n=t.plugins||[];n.push({module:o.default,appName:t.appName,value:e}),t.plugins=n}}afterSetRole(e,t){this.changeVdomRootKey("role",e)}afterSetScrollable(e,t){if(void 0===t&&!e)return;let r=this;if(t){let e="overflow";Neo.isBoolean(t)||(e+=Neo.capitalize(t)),r.removeStyle([e])}if(!Neo.isEmpty(e)){let t="overflow";e&&!Neo.isBoolean(e)&&(t+=Neo.capitalize(e)),e?(r.addStyle(t+":auto"),r.addCls("neo-scrollable")):r.removeCls("neo-scrollable")}}afterSetStyle(e,t){(e||void 0!==t)&&this.updateStyle()}afterSetTag(e,t){e&&this.changeVdomRootKey("tag",e)}afterSetTheme(e,t){if(e||void 0!==t){let r=this,{cls:o}=r,n=!1;t&&o.includes(t)&&(s.A.remove(o,t),n=!0),e!==r.parent?.theme&&(e&&s.A.add(o,e),n=!0),n&&(r.cls=o)}}afterSetTooltip(e,t){t?.destroy?.(),e&&(Neo.ns("Neo.tooltip.Base")?this.createTooltip(e):r.e(95778).then(r.bind(r,95778)).then(()=>{this.createTooltip(e)}))}afterSetUi(e,t){let r=this,o=r.cls;t&&s.A.remove(o,`neo-${r.ntype}-${t}`),e&&""!==e&&s.A.add(o,`neo-${r.ntype}-${e}`),r.cls=o}afterSetVdom(e,t){this.updateVdom()}afterSetVnode(e,t){void 0!==t&&this.syncVnodeTree()}afterSetWidth(e,t){this.configuredWidth=y(e),this.changeVdomRootKey("width",e)}afterSetWindowId(e,t){let r=this,o=r.controller;e&&(N.insertThemeFiles(e,r.__proto__),o&&(o.windowId=e)),t&&(r.isVdomUpdating=!1)}afterSetWrapperCls(e,t){t=t||[],e=e||[];let r=this,{vdom:o}=r,n=r.getVdomRoot(),i=o.cls||[];o===n?(i=s.A.union(i,e),s.A.remove(i,s.A.difference(t,e)),o.cls=i):(e=e||[],t&&s.A.remove(i,t),s.A.add(i,e),o.cls=i),r.update()}afterSetWrapperStyle(e,t){(e||void 0!==t)&&this.updateStyle()}async alignTo(e={}){const t=this,r={...t.align,...e,id:t.id,configuredFlex:t.configuredFlex,configuredWidth:t.configuredWidth,configuredHeight:t.configuredHeight,configuredMinWidth:t.configuredMinWidth,configuredMinHeight:t.configuredMinHeight,configuredMaxWidth:t.configuredMaxWidth,configuredMaxHeight:t.configuredMaxHeight};r.target&&await Neo.main.DomAccess.align(r)}beforeGetCls(e){return e?[...e]:[]}beforeGetData(e){return this.getStateProvider().getHierarchyData()}beforeGetStyle(e){return{...e}}beforeGetWrapperCls(e){return e?[...e]:[]}beforeGetWrapperStyle(e){return{...Object.assign(this.vdom.style||{},e)}}beforeSetAlign(e,t){return"string"==typeof e&&(e={edgeAlign:e}),Neo.merge({},e,this.constructor.config.align)}beforeSetCls(e,t){return s.A.union(e||[],this.baseCls,this.getBaseClass())}beforeSetController(e,t){return t?.destroy(),e?n.A.beforeSetInstance(e,"Neo.controller.Component",{component:this,windowId:this.windowId}):e}beforeSetDomListeners(e,t){return Neo.isObject(e)&&(e=[e]),e||[]}beforeSetHideMode(e,t){return this.beforeSetEnumValue(e,t,"hideMode")}beforeSetKeys(e,t){return t?.destroy(),e&&(e=n.A.beforeSetInstance(e,g,{keyDownEventBubble:!0,keys:e})),e}beforeSetPlugins(e,t){return Array.isArray(e)&&e.forEach((t,r)=>{e[r]=n.A.beforeSetInstance(t,null,{owner:this})}),e}beforeSetSilentVdomUpdate(e,t){return!0===e?Neo.isNumber(t)?t+1:1:Neo.isNumber(t)&&t>0?t-1:0}beforeSetStateProvider(e,t){if(t?.destroy(),e){let t=this,r={component:t};return t.modelData&&(r.data=t.modelData),n.A.beforeSetInstance(e,"Neo.state.Provider",r)}return null}beforeSetUpdateDepth(e,t){return void 0===t?e:-1===t||-1===e?-1:Math.max(e,t)}changeVdomRootKey(e,t){let r=this.getVdomRoot();t?r[e]=t:delete r[e],this.update()}createLoadingMask(e){return{cls:["neo-load-mask"],cn:[{cls:["neo-load-mask-body"],cn:[{cls:this.loadingSpinnerCls},{cls:["neo-loading-message"],html:e,removeDom:!Neo.isString(e)}]}]}}createTooltip(e){"string"==typeof e&&(e={text:e});let t=this;e.ownInstance?t._tooltip=Neo.create("Neo.tooltip.Base",{...e,appName:t.appName,componentId:t.id,windowId:t.windowId}):(t._tooltip=e,Neo.tooltip.Base.createSingleton(t.app),t.addCls("neo-uses-shared-tooltip"),t.update())}createVdomReference(){let e=this,t={componentId:e.id},r=e.vdom.id;return r&&e.id!==r&&(t.id=r),t}destroy(e=!1,t=!1){let r,o=this,{parent:n,parentId:s}=o,a=n?.getStateProvider();o.revertFocus(),o.domListeners=[],o.controller=null,o.reference&&o.getController()?.removeReference(o),o.stateProvider=null,o.bind&&a?.removeBindings(o.id),o.plugins?.forEach(e=>{e.destroy()}),e&&s&&("document.body"===s?Neo.applyDeltas(o.appName,{action:"removeNode",id:o.vdom.id}):(r=n.vdom,l.A.removeVdomChild(r,o.vdom.id),n[t?"_vdom":"vdom"]=r)),i.A.unregister(o),super.destroy(),o.onFocusLeave=Neo.emptyFn,o.unmount=Neo.emptyFn}doResolveUpdateCache(){let e=this;e.resolveUpdateCache&&(e.resolveUpdateCache.forEach(e=>e()),e.resolveUpdateCache=[])}down(e,t=!0){return i.A.down(this,e,t)}#e(e,t){let r,o=this,{vdom:n,vnode:s}=o,a={};N.isSharedWorker&&(a.appName=o.appName,a.windowId=o.windowId),o.isVdomUpdating=!0,o._needsVdomUpdate=!1,o.afterSetNeedsVdomUpdate?.(!1,!0),a.vdom=i.A.getVdomTree(n,o.updateDepth),a.vnode=i.A.getVnodeTree(s,o.updateDepth),o._updateDepth=o.constructor.config.updateDepth,Neo.vdom.Helper.update(a).catch(e=>{o.isVdomUpdating=!1,t?.()}).then(t=>{o.id&&(o.vnode=t.vnode,o.isVdomUpdating=!1,r=t.deltas,!Neo.config.useVdomWorker&&r.length>0?Neo.applyDeltas(o.appName,r).then(()=>{o.resolveVdomUpdate(e)}):o.resolveVdomUpdate(e))})}focus(e=this.id,t=!1){Neo.main.DomAccess.focus({children:t,id:e,windowId:this.windowId})}getBaseClass(){const e=[];return this.floating&&e.push("neo-floating"),e}getConfigInstanceByNtype(e,t){let r=this,o=r[e],{parentComponent:n}=r;return!o||t&&t!==o.ntype?(!n&&r.parentId&&(n=r.parent||Neo.get(r.parentId)),n?n.getConfigInstanceByNtype(e,t):null):o}getController(e){let t,r=this;return!e&&(t=r[v],t)||(t=r.getConfigInstanceByNtype("controller",e),e||(r[v]=t)),t}async getDomRect(e=this.id,t=this.appName){let r=await Neo.main.DomAccess.getBoundingClientRect({appName:t,id:e,windowId:this.windowId});return Array.isArray(r)?r.map(e=>m.A.clone(e)):m.A.clone(r)}getMountedParentId(){let e=this.parentId,t=Neo.getComponent(e),r=t?.getVdomItemsRoot?.();return r?r.id:e}getMountedParentIndex(){let e,t=this.parent,r=t?.items||[],o=0,n=0,i=r.length;for(;o<i;o++){if(e=r[o],e===this)return n;e.hidden||"removeDom"!==e.hideMode||n++}}getParents(){return i.A.getParents(this)}getPlugin(e){Neo.isString(e)&&(e.startsWith("plugin-")||(e="plugin-"+e),e={ntype:e});let t,r=this;for(const o of r.plugins||[]){t=!0;for(const r in e)if(o[r]!==e[r]){t=!1;break}if(t)return o}return null}getReference(e){return this.down({reference:e})}getState(...e){return this.getStateProvider().getData(...e)}getStateProvider(e){if(!N.isUsingStateProviders)return null;let t,r=this;return!e&&(t=r[b],t)||(t=r.getConfigInstanceByNtype("stateProvider",e),e||(r[b]=t)),t}getTheme(){let e,t,r=this,o="neo-theme-";for(const e of r.cls||[])if(e.startsWith(o))return e;if(e=r.app?.mainView,e){t=l.A.getParentNodes(e.vdom,r.id);for(const e of t||[])for(const t of e.cls||[])if(t.startsWith(o))return t}return Neo.config.themes?.[0]}getVdomChild(e,t=this.vdom){return l.A.find(t,e)?.vdom}getVdomRoot(){return this.vdom}getVnodeRoot(){return this.vnode}hasUpdateCollision(e,t){return-1===e||t<e}hide(e){let t=this;if("visibility"!==t.hideMode){let r=function(){"document.body"!==t.parentId?(t.vdom.removeDom=!0,t.parent.updateDepth=2,t.parent.update()):t.unmount()};e?t.timeout(e).then(r):r()}else{let e=t.style;e.visibility="hidden",t.style=e}t._hidden=!0}init(){this.autoRender&&this.render()}initConfig(e,t){super.initConfig(e,t),this.getStateProvider()?.parseConfig(this)}isFloating(){let e=this;return!!e.floating||!!e.parent&&e.parent.floating}isParentUpdating(e=this.parentId,t,r=1){if("document.body"!==e){let o=this,n=Neo.getComponent(e);if(n)return n.isVdomUpdating?!!o.hasUpdateCollision(n.currentUpdateDepth,r)&&(Neo.config.logVdomUpdateCollisions&&console.warn("vdom parent update conflict with:",n,"for:",o),n.childUpdateCache[o.id]={distance:r,resolve:t},t&&o.resolveUpdateCache.push(t),!0):o.isParentUpdating(n.parentId,t,r+1)}return!1}async measure(e){if(null!=e)if(e.endsWith("px"))e=parseFloat(e);else if(C.test(e)){let{id:t,windowId:r}=this;e=await Neo.main.DomAccess.measure({id:t,value:e,windowId:r})}else isNaN(e)||(e=parseFloat(e));return e}mergeConfig(...e){let t=this,r=super.mergeConfig(...e),o={...t._vdom||{},...r.vdom||{}};return t._vdom=Neo.clone(o,!0,!0),r.style&&(t.style="Object"===Neo.typeOf(r.style)?{...r.style,...t.constructor.config.style}:r.style),t.wrapperStyle=Neo.clone(r.wrapperStyle,!1),delete r.style,delete r._vdom,delete r.vdom,delete r.wrapperStyle,r}async mount(){let e,t,r=this;if(!r.vnode)throw new Error("Component vnode must be generated before mounting, use Component.render()");r.hasUnmountedVdomChanges?(r.hasUnmountedVdomChanges=!1,t=i.A.getChildIds(r.vnode),t.forEach(t=>{e=Neo.getComponent(t),e&&(e._hasUnmountedVdomChanges=!1)}),r.render(!0)):(await N.promiseMessage("main",{action:"mountDom",appName:r.appName,id:r.id,html:r.vnode.outerHTML,parentId:r.getMountedParentId(),parentIndex:r.getMountedParentIndex()}),delete r.vdom.removeDom,await r.timeout(30),r.mounted=!0)}needsParentUpdate(e=this.parentId,t,r=1){if("document.body"!==e){let o=this,n=Neo.getComponent(e);if(n)return n.needsVdomUpdate&&o.hasUpdateCollision(n.updateDepth,r)?(n.resolveUpdateCache.push(...o.resolveUpdateCache),t&&n.resolveUpdateCache.push(t),o.resolveUpdateCache=[],!0):o.needsParentUpdate(n.parentId,t,r+1)}return!1}onConstructed(){super.onConstructed(),this.keys?.register(this)}onFocusEnter(e){this.focusEnterData=e}onFocusLeave(e){this.focusEnterData=null}onRender(e,t){let r=this,{app:o}=r;if(r.rendering=!1,o){o.rendered||(o.rendering=!1,o.rendered=!0,o.fire("render")),r.vnode=e;let n,s=i.A.getChildIds(e),a=0,d=s.length;for(;a<d;a++)n=Neo.getComponent(s[a]),n&&(n.rendered=!0);r._rendered=!0,r.fire("rendered",r.id),t&&(r.mounted=!0,o.mounted||(o.mounted=!0,o.fire("mounted")))}}promiseUpdate(){return new Promise((e,t)=>{this.updateVdom(e,t)})}removeCls(e){let t=this.cls;s.A.remove(t,e),this.cls=t}removeDomListeners(e){Array.isArray(e)||(e=[e]);let t,r,{domListeners:o}=this;e.forEach(e=>{for(t=0,r=o.length;t<r;t++)if(Neo.isEqual(e,o[t])){o.splice(t,1);break}}),this.domListeners=o}removeStyle(e){Array.isArray(e)||(e=[e]);let{style:t}=this,r=!1;return Object.keys(t).forEach(o=>{e.indexOf(o)>-1&&(delete t[o],r=!0)}),r&&(this.style=t),t}async render(e){let t=this,r=e||t.autoMount,{app:o}=t,{useVdomWorker:n}=Neo.config;if(r&&0!==N.countLoadingThemeFiles)N.on("themeFilesLoaded",function(){!t.mounted&&t.render(e)},t,{once:!0});else if(t.rendering=!0,o.rendered||(o.rendering=!0),t.vdom){t.isVdomUpdating=!0,delete t.vdom.removeDom,t._needsVdomUpdate=!1,t.afterSetNeedsVdomUpdate?.(!1,!0);const e=await Neo.vdom.Helper.create({appName:t.appName,autoMount:r,parentId:r?t.getMountedParentId():void 0,parentIndex:r?t.getMountedParentIndex():void 0,vdom:i.A.getVdomTree(t.vdom),windowId:t.windowId});t.onRender(e.vnode,!!n&&r),t.isVdomUpdating=!1,r&&!n&&t.mount(),t.resolveVdomUpdate()}}resolveVdomUpdate(e){let t,r=this,o=!Neo.isEmpty(r.childUpdateCache);r.doResolveUpdateCache(),e?.(),r.needsVdomUpdate?(o&&(Object.entries(r.childUpdateCache).forEach(([e,o])=>{t=Neo.getComponent(e),t&&(o.resolve&&s.A.add(r.resolveUpdateCache,o.resolve),-1!==r.updateDepth&&(-1===t.updateDepth?r.updateDepth=-1:r.updateDepth=r.updateDepth+o.distance+t.updateDepth-1))}),r.childUpdateCache={}),r.update()):o&&(Object.keys(r.childUpdateCache).forEach(e=>{Neo.getComponent(e)?.update()}),r.childUpdateCache={})}revertFocus(){let e=this.focusEnterData?.relatedTarget;this.containsFocus&&e&&Neo.getComponent(e.id)?.focus()}set(e={},t=!1){let r=this,o=!1===e.hidden&&e.hidden!==r.hidden;return r.silentVdomUpdate=!0,super.set(e),r.silentVdomUpdate=!1,t||!r.needsVdomUpdate?Promise.resolve():o?(r.show(),Promise.resolve()):r.promiseUpdate()}setSilent(e={}){return this.set(e,!0)}setState(...e){this.getStateProvider().setData(...e)}show(){let e=this;if("visibility"!==e.hideMode)delete e.vdom.removeDom,e.silentVdomUpdate?e.needsVdomUpdate=!0:"document.body"!==e.parentId?(e.parent.updateDepth=2,e.parent.update()):!e.mounted&&e.render(!0);else{let t=e.style;delete t.visibility,e.style=t}e._hidden=!1}syncVdomIds(e=this.vnode,t=this.vdom,r=!1){l.A.syncVdomIds(e,t,r)}syncVnodeTree(e=this.vnode){let t,r=this,o=i.A.getChildren(r),n={};r.syncVdomIds(),e&&r.id!==e.id&&i.A.registerWrapperNode(e.id,r),o.forEach(e=>{t=f.A.find(r.vnode,e.vdom.id)?.vnode,t&&(n[e.id]=t,e.id!==t.id&&i.A.registerWrapperNode(t.id,e))}),o.forEach(e=>{t=n[e.id],t?(e._vnode=i.A.addVnodeComponentReferences(t,e.id),e.rendered||(e._rendered=!0,e.fire("rendered",e.id)),e.mounted=!0):console.warn("syncVnodeTree: Could not replace the child vnode for",e.id)}),r._vnode=e?i.A.addVnodeComponentReferences(e,r.id):null}toggleCls(e,t){let r=this.cls;s.A.toggle(r,e,t),this.cls=r}unmount(){let e=this;e.vdom.removeDom=!0,e._hidden=!0,e.mounted=!1,Neo.applyDeltas(e.appName,{action:"removeNode",id:e.vdom.id})}up(e){return i.A.up(this.id,e)}update(){this.afterSetVdom(this.vdom,null)}updateStyle(){let e=this,{vdom:t}=e,r=e.getVdomRoot();t!==r?(t.style=e.wrapperStyle,r.style=e.style):t.style={...e.wrapperStyle,...e.style},e.update()}updateVdom(e,t){let r=this,{app:o,mounted:n,parentId:i,vnode:s}=r;r.isVdomUpdating||r.silentVdomUpdate?(e&&r.resolveUpdateCache.push(e),r.needsVdomUpdate=!0):n||!r.isConstructed||r.hasRenderingListener||!0!==o?.rendering?(!e||n&&s||r.resolveUpdateCache.push(e),!r.needsParentUpdate(i,e)&&!r.isParentUpdating(i,e)&&n&&s&&(0!==N.countLoadingThemeFiles?N.on("themeFilesLoaded",function(){r.updateVdom(e,t)},r,{once:!0}):r.#e(e,t))):(r.hasRenderingListener=!0,o.on("mounted",()=>{r.timeout(50).then(()=>{r.vnode&&r.updateVdom(e,t)})},r,{once:!0})),r.hasUnmountedVdomChanges=!n&&r.hasBeenMounted}async waitForDomRect({appName:e=this.appName,attempts:t=10,delay:r=50,id:o=this.id}){let n=this,i=await n.getDomRect(o,e),s=!1;return Array.isArray(i)?i.forEach(e=>{(e.height<1||e.width<1)&&(s=!0)}):(i.height<1||i.width<1)&&(s=!0),s&&t>0?(await n.timeout(r),await n.waitForDomRect({appName:e,attempts:t-1,delay:r,id:o})):i}})},33610:(e,t,r)=>{r.d(t,{A:()=>s});var o=r(67024),n=r(70286);class i extends o.A{static config={className:"Neo.util.VDom"};static clone(e,t=!0){let r=Neo.clone(e,!0);return t&&delete r.id,r.cn&&r.cn.forEach((e,o)=>{r.cn[o]=i.clone(e,t)}),r}static find(e,t,r=!0,o,n){o=o||0,t=Neo.isString(t)?{id:t}:t,r&&(e=i.getVdom(e));let s,a=null,d=[],l=!0,c=0,h=e.cn?.length,u=Object.entries(t),p=u.length;if(u.forEach(([t,r])=>{if(e.hasOwnProperty(t))switch(t){case"cls":if("string"==typeof r&&Neo.isArray(e[t]))e[t].includes(r)&&d.push(!0);else if("string"==typeof r&&"string"==typeof e[t])e[t]===r&&d.push(!0);else if(Neo.isArray(r)&&Neo.isArray(e[t]))throw new Error("find: cls matching not supported for target & source types of Arrays");break;case"style":if("string"==typeof r&&"string"==typeof e[t])e[t]===r&&d.push(!0);else{if(!Neo.isObject(r)||!Neo.isObject(e[t]))throw new Error("find: style matching not supported for mixed target & source types (Object VS String)");Object.entries(r).forEach(([r,o])=>{e[t].hasOwnProperty(r)&&e[t][r]===o||(l=!1)}),l&&d.push(!0)}break;default:e[t]===r&&d.push(!0)}}),d.length===p)return{index:o,parentNode:n,vdom:e};if(e.cn)for(;c<h;c++)if(e.cn[c]&&(s=i.find(e.cn[c],t,r,c,e),s)){a={index:s.index,parentNode:s.parentNode,vdom:s.vdom};break}return a}static getByFlag(e,t){return i.find(e,{flag:t})?.vdom}static getChildIds(e,t=[]){return e=i.getVdom(e),(e?.cn||[]).forEach(e=>{e.id&&t.push(e.id),t=i.getChildIds(e,t)}),t}static getColumnNodes(e,t){e=i.getVdom(e);let r=[];return e.cn?.forEach(e=>{e.cn?.[t]&&r.push(e.cn[t])}),r}static getColumnNodesIds(e,t){return i.getColumnNodes(e,t).map(e=>e.id)}static getFlags(e,t,r){return e=i.getVdom(e),r||(r=[],e.flag===t&&r.push(e)),(e?.cn||[]).forEach(e=>{e.flag===t&&r.push(e),r=i.getFlags(e,t,r)}),r}static getParentNodes(e,t,r=!0){e=i.getVdom(e);let o=null,n=0,s=e.cn?.length||0;if(e.id===t)return[];for(;n<s;n++)if(o=i.getParentNodes(e.cn[n],t,!1),o){o.push(e.cn[n]);break}return r&&o&&o.push(e),o}static getVdom(e){return e.componentId&&(e=n.A.get(e.componentId).vdom),e}static insertAfterNode(e,t,r){return i.insertNode(e,t,r,!1)}static insertBeforeNode(e,t,r){return i.insertNode(e,t,r,!0)}static insertNode(e,t,r,o){Neo.isObject(r)&&(r=r.id);let n,s=i.find(e,r);return!!s&&(n=o?s.index:s.index+1,s.parentNode.cn.splice(n,0,t),!0)}static removeVdomChild(e,t){let r=i.find(e,t);return!!r&&(r.parentNode.cn.splice(r.index,1),!0)}static replaceVdomChild(e,t,r){let o,n=(e=i.getVdom(e)).cn||[],s=0,a=n.length;if(e.id===t)throw new Error("replaceVdomChild: target id matches the root vnode id: "+t);for(;s<a;s++){if(o=n[s],o.id===t)return n[s]=r,!0;if(i.replaceVdomChild(o,t,r))return!0}return!1}static syncVdomIds(e,t,r=!1){if(e&&t){let o,n,s,a=(t=i.getVdom(t)).cn;if(r?e.id&&t.id!==e.id&&(t.id=e.id):!t.id&&e.id&&(t.id=e.id),a)for(o=a.map(e=>i.getVdom(e)),o=o.filter(e=>!0!==e.removeDom),n=0,s=o?.length||0;n<s;n++)e.childNodes&&i.syncVdomIds(e.childNodes[n],o[n],r)}}}const s=Neo.setupClass(i)},50319:(e,t,r)=>{r.d(t,{A:()=>m});var o=r(67024),n=r(71102),i=r(99696);r(59651),r(89408);const s=Neo.setupClass(class extends o.A{static observable=!0;static config={className:"Neo.collection.Sorter",ntype:"sorter",directionMultiplier:1,direction_:"ASC",listenerApplied:!1,property_:"id",sortBy:null,useTransformValue:!0};afterSetDirection(e,t){let r=this;r.directionMultiplier="ASC"===e?1:-1,t&&r.fire("change",{direction:r.direction,property:r.property})}afterSetProperty(e,t){let r=this;t&&r.fire("change",{direction:r.direction,property:r.property})}defaultSortBy(e,t){let r=this;return e=e[r.property],t=t[r.property],r.useTransformValue&&(e=r.transformValue(e),t=r.transformValue(t)),e>t?1*r.directionMultiplier:e<t?-1*r.directionMultiplier:0}export(){let{direction:e,property:t}=this;return!this.sortBy&&e&&t?{direction:e,property:t}:null}transformValue(e){return"string"==typeof e&&(e=e.toLowerCase()),e}}),a=Symbol("countMutations"),d=Symbol("isFiltered"),l=Symbol("isSorted"),c=Symbol("silentUpdateMode"),h=Symbol("toAddArray"),u=Symbol("toRemoveArray"),p=Symbol("updatingIndex");class g extends o.A{static observable=!0;static config={className:"Neo.collection.Base",ntype:"collection",allItems:null,autoSort:!0,filterMode:"primitive",filters_:[],items_:null,keyProperty:"id",keyPropertyIndex:-1,map_:null,sortDirections:null,sortProperties:null,sorters_:[],sourceId_:null};construct(e){super.construct(e);let t=this,r={enumerable:!1,writable:!0};t.items=t.items||[],Object.defineProperties(t,{[a]:{...r,value:!1},[d]:{...r,value:!1},[l]:{...r,value:!1},[c]:{...r,value:!1},[h]:{...r,value:[]},[u]:{...r,value:[]},[p]:{...r,value:0}}),t.autoSort&&t._sorters.length>0&&t.doSort()}add(e){return this.splice(null,null,e).addedItems}afterSetFilters(e,t){let r=this;e.forEach(e=>{!1===e.listenerApplied&&(e.on("change",r.onFilterChange,r),e.listenerApplied=!0)}),t&&r.filter()}afterSetItems(e,t){if(e){let t,r=this,{keyProperty:o}=r,n=0,i=e.length;for(;n<i;n++)t=e[n],r.map.set(t[o],t)}}afterSetSorters(e,t){let r=this;r.applySorterConfigs(),e.forEach(e=>{!1===e.listenerApplied&&(e.on("change",r.onSorterChange,r),e.listenerApplied=!0)}),t&&r.autoSort&&r.doSort()}afterSetSourceId(e,t){if(e){let r=this,o=Neo.get(e);r._items=[...o._items],r.map=new Map(o.map);const n={mutate:r.onMutate,scope:r};o.on(n),t&&(o=Neo.get(t),o.un(n))}}applySorterConfigs(){let e=this;e.sortDirections=[],e.sortProperties=[],e.sorters.forEach(t=>{e.sortDirections.push(t.directionMultiplier),e.sortProperties.push(t.property)})}beforeSetFilters(e,t){Array.isArray(e)||(e=e?[e]:[]);let r,o,i=t&&t.length||0;return e.forEach((s,a)=>{if(t)for(r=!1,o=0;o<i;o++){if(t[o]===s){t[o].set({operator:s.operator,property:s.property,value:s.value}),r=!0;break}if(t[o].operator===(s.operator||"===")&&t[o].property===s.property&&t[o].value===s.value){r=!0;break}}r?(e[a]=t[o],t.splice(o,1),i--):e[a]=Neo.create(n.A,s)}),Array.isArray(t)&&t.forEach(e=>{e.destroy()}),e}beforeSetMap(e,t){return e||new Map}beforeSetSorters(e,t){Array.isArray(e)||(e=e?[e]:[]);let r,o,n=t?.length||0;return e.forEach((i,a)=>{if(t){r=!1,o=0;let{direction:e,property:s}=i;for(;o<n;o++){if(t[o]===i){t[o].set({direction:e,property:s}),r=!0;break}if(t[o].property===s&&t[o].direction===e){r=!0;break}}}r?(e[a]=t[o],t.splice(o,1),n--):e[a]=Neo.create(s,i)}),t?.forEach(e=>{e.destroy()}),e}cacheUpdate(e){}clear(){this.splice(0,this.getCount())}clearFilters(e){this.filters=e?Neo.clone(this.originalConfig.filters,!0,!0):null}clearSilent(){let e=this;e._items.splice(0,e.getCount()),e.map.clear()}clearSorters(e){this.sorters=e?Neo.clone(this.originalConfig.sorters,!0,!0):null}clone(){let e=this,t=Neo.clone(e.originalConfig,!0),r=e._filters||[],o=e._sorters||[];return delete t.id,delete t.filters,delete t.items,delete t.sorters,e._items.length>0&&(t.items=[...e._items]),t.filters=[],t.sorters=[],r.forEach(function(e){t.filters.push(e.originalConfig)}),o.forEach(function(e){t.sorters.push(e.originalConfig)}),Neo.create(g,t)}destroy(){let e=this;e._items.splice(0,e._items.length),e.map.clear(),super.destroy()}doSort(e=this._items,t=!1){let r,o,n,i,s,a,d=this,c=[...e],{sorters:h,sortDirections:u,sortProperties:g}=d,m=g.length||0,f=!1,y=!1;m>0&&(h.forEach(e=>{e.sortBy&&(f=!0),e.useTransformValue&&(y=!0)}),f?d._items.sort((e,t)=>{for(r=0;r<m;r++)if(i=h[r],a=i[i.sortBy?"sortBy":"defaultSortBy"](e,t),0!==a)return a;return 0}):(o=y?e.map((e,t)=>{for(n={index:t},r=0;r<m;r++)h[r].useTransformValue?n[g[r]]=h[r].transformValue(e[g[r]]):n[g[r]]=e[g[r]];return n}):e,o.sort((e,t)=>{for(r=0;r<m;r++){if(s=g[r],e[s]>t[s])return 1*u[r];if(e[s]<t[s])return-1*u[r]}return 0}),y&&(d._items=o.map(t=>e[t.index])))),d[l]=m>0,t||0!==d[p]||d.fire("sort",{items:d._items,previousItems:c,scope:d})}endUpdate(e){const t=this;t[p]>0&&t[p]--,e?t[c]=!1:(t.fire("mutate",{addedItems:t[h],removedItems:t[u]}),t[h].splice(0,t[h].length),t[u].splice(0,t[u].length))}exportFilters(){let e,t=[];return this.filters?.forEach(r=>{e=r.export(),e&&t.push(e)}),t}exportSorters(){let e,t=[];return this.sorters?.forEach(r=>{e=r.export(),e&&t.push(e)}),t}filter(){let e,t,r,o,n,i=this,s=i._filters,a=s.length,l=0,c=i.allItems?._items||i._items,h=0,u=c.length,p=[],m=!1,f=[...i._items];for(;h<a;h++)s[h].disabled||l++;if(0===l&&i.allItems)i.sorters.length>0&&(m=!0),i.clearSilent(),i.items=[...i.allItems._items];else if(i.allItems||(e={...i.originalConfig},delete e.filters,delete e.items,delete e.sorters,i.allItems=Neo.create(g,{...Neo.clone(e,!0,!0),keyProperty:i.keyProperty,sourceId:i.id})),i.map.clear(),"primitive"===i.filterMode){for(h=0;h<u;h++){for(t=!0,r=c[h],o=0;o<a;o++)if(s[o].isFiltered(r,c,c)){t=!1;break}t&&(p.push(r),i.map.set(r[i.keyProperty],r))}i._items=p}else{for(p=[...c],o=0;o<a;o++){for(n=[],h=0;h<u;h++)s[o].isFiltered(p[h],p,c)||n.push(p[h]);p=[...n],u=p.length}i.items=p}i[d]=0!==l,m&&i.doSort(i.items,!0),i.fire("filter",{isFiltered:i[d],items:i.items,oldItems:f,scope:i})}find(e,t,r=!1){let o,n,i,s,a=this,d=[],l=a.isItem(e);for(o of(l&&(i=Object.entries(e),s=i.length),a.items))if(l){if(n=[],i.forEach(([e,t])=>{Neo.ns(e,!1,o)===t&&n.push(!0)}),n.length===s){if(r)return o;d.push(o)}}else if(Neo.ns(e,!1,o)===t){if(r)return o;d.push(o)}return r?null:d}findBy(e,t=this,r=0,o=this.getCount()){let n=this,i=[],s=r;for(;s<o;s++)e.call(t,n.items[s])&&i.push(n.items[s]);return i}findFirst(e,t){return this.find(e,t,!0)}first(){return this._items[0]}get(e){return this.map.get(e)||null}getAt(e){return this._items[e]}getCount(){return this._items.length}getCountMutations(){return this[a]}getFilter(e){let t=this.filters||[],r=0,o=t.length;for(;r<o;r++)if(t[r].property===e)return t[r];return null}getKeyAt(e){let t=this._items[e];return t?.[this.keyProperty]}getRange(e,t){return this._items.slice(e,t)}getSource(){return this.sourceId&&Neo.get(this.sourceId)}has(e){return this.map.has(e)}hasItem(e){return this.map.has(e[this.keyProperty])}indexOf(e){let t=this;return t._items.indexOf(t.isItem(e)?e:t.map.get(e))}indexOfItem(e){return this._items.indexOf(e)}indexOfKey(e){return this._items.indexOf(this.map.get(e))}insert(e,t){return this.splice(e,0,t).addedItems}isFiltered(){return this[d]}isFilteredItem(e){let t=this._filters,r=0,o=t.length,n=!1;for(;r<o;r++)if(t[r].isFiltered(e)){n=!0;break}return n}isItem(e){return"object"==typeof e}isSorted(){return this[l]}last(){return this._items[this.getCount()-1]}move(e,t){if(e===t)return;let{items:r}=this;e>=r.length&&(e=r.length-1),r.splice(t,0,r.splice(e,1)[0])}onFilterChange(e){this.filter()}onMutate(e){this.preventBubbleUp=!0,this.splice(null,e.removedItems,e.addedItems)}onSorterChange(e){this.applySorterConfigs(),this.doSort()}pop(){return this.splice(this.getCount()-1,1).removedItems[0]}push(e){return this.add(e)}remove(e){return this.splice(0,Array.isArray(e)?e:[e]),this.getCount()}removeAt(e){return this.splice(e,1),this.getCount()}reverse(){return this._items.reverse()}shift(){return this.splice(0,1).addedItems[0]}some(...e){return this._items.some(...e)}splice(e,t,r){let o,n,s,d,l,h=this,{keyProperty:u,map:g}=h,m=h.getSource(),f=[],y=h._items,v=[],b=Neo.isNumber(t)?t:null,N=Array.isArray(t)?t:null;if(!Neo.isNumber(e)&&b&&i.A.error(h.id+": If index is not passed, removeCountAtIndex cannot be used"),r=r&&!Array.isArray(r)?[r]:r,N&&(d=N.length)>0)for(r&&r.length>0&&(l=r.map(e=>e[u])),o=0;o<d;o++)n=N[o],s=h.isItem(n)?n[u]:n,g.has(s)&&(!l||l&&l.indexOf(s)<0)&&(v.push(y.splice(h.indexOfKey(s),1)[0]),g.delete(s));else b&&b>0&&(v.push(...y.splice(e,b)),v.forEach(e=>{g.delete(e[u])}));if(r&&(d=r.length)>0){for(o=0;o<d;o++)n=r[o],s=n[u],s||(n[u]=s=h.keyPropertyIndex,h.keyPropertyIndex--),g.has(s)||h.isFilteredItem(n)||(f.push(n),g.set(s,n));f.length>0&&(0===y.length?h._items=f:y.splice(Neo.isNumber(e)?e:y.length,0,...f),h.autoSort&&h._sorters.length>0&&h.doSort())}return m&&(m.getSource()||(m.preventBubbleUp=!0),h.preventBubbleUp||(h.startUpdate(!0),m.splice(null,N||v,r),h.endUpdate(!0)),delete m.preventBubbleUp),(f.length>0||v.length>0)&&h[a]++,0===h[p]?h.fire("mutate",{addedItems:r,preventBubbleUp:h.preventBubbleUp,removedItems:N||v}):h[c]||h.cacheUpdate({addedItems:f,removedItems:v}),0===h[p]&&delete h.preventBubbleUp,{addedItems:f,removedItems:v}}startUpdate(e){e&&(this[c]=!0),this[p]++}unshift(e){return this.splice(0,0,e),this.getCount()}}const m=Neo.setupClass(g)},53403:(e,t,r)=>{r.d(t,{A:()=>n});var o=r(67024);const n=Neo.setupClass(class extends o.A{static config={className:"Neo.util.ClassSystem"};static beforeSetInstance(e,t=null,r={}){let o=Neo.typeOf(e);if(Neo.isString(t)&&(t=Neo.ns(t)),!e&&t)e=Neo.create(t,r);else if("NeoClass"===o)e=Neo.create(e,r);else if("Object"===o)if(e.ntype)e=Neo.ntype({...r,...e});else{let o={};t&&(o.module=t),Object.assign(o,{...r,...e}),e=Neo.create(o)}else"NeoInstance"===o&&r?.listeners&&e.on(r.listeners);return e}})},59651:(e,t,r)=>{r.d(t,{A:()=>n});var o=r(67024);const n=Neo.setupClass(class extends o.A{static config={className:"Neo.util.Array"};static add(e,t){return Array.isArray(t)||(t=[t]),t.forEach(t=>{e.includes(t)||e.push(t)}),e}static difference(e=[],t=[]){return e.filter(e=>!t.includes(e))}static hasItem(e,t){return e.includes(t)}static insert(e,t,r){Array.isArray(r)||(r=[r]);let o,n,i=r.length-1;for(;i>-1;i--)n=r[i],o=e.indexOf(n),t!==o&&(o>-1?this.move(e,o,t):e.splice(t,0,n));return e}static intersection(e=[],t=[]){return e.filter(e=>t.includes(e))}static move(e,t,r){return t===r||(t>=e.length&&(t=e.length-1),e.splice(r,0,e.splice(t,1)[0])),e}static remove(e,t){let r;return Array.isArray(t)||(t=[t]),t.forEach(t=>{r=e.indexOf(t),r>-1&&e.splice(r,1)}),e}static removeAdd(e,t,r){return this.remove(e,t),this.add(e,r)}static toggle(e,t,r=!this.hasItem(e,t)){return this[r?"add":"remove"](e,t)}static union(){return[...new Set(Array.prototype.concat(...arguments))]}static unshift(e,t){return Array.isArray(t)||(t=[t]),t.forEach(t=>{e.includes(t)||e.unshift(t)}),e}})},67024:(e,t,r)=>{r.d(t,{A:()=>l});var o=r(5728);const n=Neo.setupClass(class{static config={className:"Neo.core.IdGenerator",ntype:"id-generator",base:"neo-",singleton:!0};construct(e){let t=this;t.idCounter={},Neo.getId=t.getId.bind(t)}getId(e){e=e||"neo";let t=this.idCounter,r=t[e]||0;return t[e]=++r,this.base+("neo"===e?"":e+"-")+r}init(){}onAfterConstructed(){}onConstructed(){}}),i=Symbol.for("configSymbol"),s=Symbol("forceAssignConfigs"),a=Symbol("isInstance");class d{static delayable={};static instanceManagerAvailable=!1;static methodNameRegex=/\n.*\n\s+at\s+.*\.(\w+)\s+.*/;static observable=!1;static overwrittenMethods={};static config={className:"Neo.core.Base",ntype:"base",delayable:null,id_:null,isConstructed:!1,isReady_:!1,mixins:null,module:null,remote_:null};#e=[];construct(e={}){let t=this;Object.defineProperties(t,{[i]:{configurable:!0,enumerable:!1,value:{},writable:!0},[a]:{enumerable:!1,value:!0}}),t.createId(e.id||t.id),delete e.id,t.constructor.config&&delete t.constructor.config.id,t.getStaticConfig("observable")&&t.initObservable(e),e=t.setFields(e),t.initConfig(e),Object.defineProperty(t,"configsApplied",{enumerable:!1,value:!0}),t.applyDelayable(),(0,o.Zc)(t,"destroy",t.isDestroyedCheck,t),Promise.resolve().then(async()=>{await t.initAsync(),t.isReady=!0})}afterSetId(e,t){let r=this,o=!0===d.instanceManagerAvailable;t&&(o?Neo.manager.Instance.unregister(t):delete Neo.idMap[t]),e&&(o?Neo.manager.Instance.register(r):(Neo.idMap=Neo.idMap||{},Neo.idMap[r.id]=r))}applyDelayable(){let e=this,t=e.constructor.delayable,r=e.delayable?Neo.merge({},e.delayable,t):t;Object.entries(r).forEach(([t,r])=>{if(r){let n={buffer(){e[t]=new o.r(e[t],e,r.timer)},debounce(){e[t]=new o.sg(e[t],e,r.timer)},throttle(){e[t]=new o.nF(e[t],e,r.timer)}};n[r.type]?.()}})}static applyOverwrites(e){let t,r,o=Neo.ns(e.className,!1,Neo.overwrites);if(o){for(r in o)Neo.isFunction(o[r])&&(t=this.prototype,t[r]&&(t.constructor.overwrittenMethods[r]=t[r]));Object.assign(e,o)}}beforeSetEnumValue(e,t,r,o=r+"s"){let n=Array.isArray(o)?o:this.getStaticConfig(o);return n.includes(e)?e:(console.error(`Supported values for ${r} are:`,...n,this),t)}beforeSetRemote(e,t){let r=this;if(e&&!r.singleton&&!r.isMainThreadAddon)throw new Error("Remote method access is only functional for Singleton classes "+r.className);return e}bindCallback(e,t,r=this,n=this){if(e&&Neo.isString(e)){const i=(0,o.Ap)(e,r);n[t]=i.fn.bind(i.scope)}}callOverwritten(...e){let t=(new Error).stack.match(d.methodNameRegex)[1];this.__proto__.constructor.overwrittenMethods[t].call(this,...e)}createId(e){this.id=e||n.getId(this.getIdKey())}destroy(){let e=this;e.#e.forEach(e=>{clearTimeout(e)}),!0===d.instanceManagerAvailable?Neo.manager.Instance.unregister(e):Neo.idMap&&delete Neo.idMap[e.id],Object.keys(e).forEach(t=>{Object.getOwnPropertyDescriptor(e,t).writable&&"destroy"!==t&&"_id"!==t&&delete e[t]}),Neo.isFunction(e.fire)&&(e.fire=Neo.emptyFn),e.isDestroyed=!0}getIdKey(){return this.ntype}getStaticConfig(e){return this.constructor[e]}hasNtype(e){return this.constructor.ntypeChain.includes(e)}init(){}async initAsync(){this.remote&&this.initRemote()}initConfig(e,t){let r=this;r.isConfiguring=!0,Object.assign(r[i],r.mergeConfig(e,t)),r.processConfigs(),r.isConfiguring=!1}initRemote(){let{className:e,remote:t}=this,{currentWorker:r}=Neo;Neo.config.unitTestMode||("main"!==Neo.workerId&&r.isSharedWorker&&!r.isConnected?r.on("connected",()=>{d.sendRemotes(e,t)},this,{once:!0}):d.sendRemotes(e,t))}isDestroyedCheck(){return!this.isDestroyed}mergeConfig(e,t){let r=this,o=r.constructor;if(!o.config)throw new Error("Neo.applyClassConfig has not been run on "+r.className);return t||(r.originalConfig=Neo.clone(e,!0,!0)),{...o.config,...e}}onAfterConstructed(){let e=this;e.isConstructed=!0,e.getStaticConfig("observable")&&e.fire("constructed",e)}onConstructed(){}parseItemConfigs(e){let t,r,o,n,s=this;e&&(Array.isArray(e)||(e=[e]),e.forEach(e=>{e&&Object.entries(e).forEach(([a,d])=>{Array.isArray(d)?s.parseItemConfigs(d):"string"==typeof d&&d.startsWith("@config:")&&(r=d.substring(8).trim().split("."),o=r.pop(),t=Neo.ns(r,!1,s),void 0===t[o]?console.error("The used @config does not exist:",o,r.join(".")):(n=Neo.ns(r,!1,s[i]),n&&Object.hasOwn(n,o)?e[a]=n[o]:e[a]=t[o]))})}))}processConfigs(e=!1){let t=this,r=Object.keys(t[i]);t[s]=e,r.length>0&&(!e&&t.hasOwnProperty(r[0])||(t[r[0]]=t[i][r[0]]),delete t[i][r[0]],t.processConfigs(e))}static sendRemotes(e,t){let r;Object.entries(t).forEach(([t,o])=>{Neo.workerId!==t&&(r="main"===Neo.workerId?Neo.worker.Manager:Neo.currentWorker,r.sendMessage(t,{action:"registerRemote",className:e,methods:o}))})}set(e={}){let t=this;e=t.setFields(e),!0!==t[s]&&Object.keys(t[i]).length>0&&t.processConfigs(),Object.assign(t[i],e),t.processConfigs(!0)}setFields(e){let t=this,r=t.constructor.config;return Object.entries(e).forEach(([o,n])=>{r.hasOwnProperty(o)||Neo.hasPropertySetter(t,o)||(t[o]=n,delete e[o])}),e}setStaticConfig(e,t){let r=this.constructor.staticConfig;return!!r.hasOwnProperty(e)&&(r[e]=t,!0)}timeout(e){return new Promise(t=>{let r=this.#e,o=setTimeout(()=>{r.splice(r.indexOf(o),1),t()},e);r.push(o)})}get[Symbol.toStringTag](){return`${this.className} (id: ${this.id})`}static[Symbol.hasInstance](e){return!!e&&!0===e[a]&&super[Symbol.hasInstance](e)}}const l=Neo.setupClass(d)},70286:(e,t,r)=>{r.d(t,{A:()=>s});var o=r(98310),n=r(33610),i=r(2954);const s=Neo.setupClass(class extends o.A{static config={className:"Neo.manager.Component",singleton:!0};wrapperNodes=new Map;construct(e){super.construct(e);let t=this;Neo.first=t.getFirst.bind(t),Neo.getComponent=t.get.bind(t)}addVnodeComponentReferences(e,t){e={...e};let r,o,i,s,a,d=this,l=e?.childNodes?[...e.childNodes]:[];return e.childNodes=l,l.forEach((e,c)=>{r=e.id,e.componentId||r===t||(o=d.get(r),o||(o=d.wrapperNodes.get(r),o&&(i=o.id,s=n.A.find(o.parent.vdom,{componentId:i},!1),s&&(s.vdom.id=r))),o&&(i=o.id,a={componentId:i},i!==r&&(a.id=r))),l[c]=o?a:d.addVnodeComponentReferences(e,t)}),e}down(e,t,r=!0){Neo.isString(e)&&(e=this.getById(e));let o,n,i,s,a=this,d=[],l=null,c=0,h=[];if(Neo.isString(t)?t={ntype:t}:t||(t={}),n=Object.entries(t),i=n.length,n.forEach(([t,r])=>{(e[t]===r||"ntype"===t&&a.hasPrototypePropertyValue(e,t,r))&&d.push(!0)}),d.length===i){if(r)return e;h.push(e)}for(o=a.find({parentId:e.id}),s=o.length;c<s;c++)if(l=a.down(o[c],t,r),r){if(null!==l)return l}else l.length>0&&h.push(...l);return r?null:h}findParentComponent(e){let t,r=this,o=0,n=e?.length||0;for(;o<n;o++)if(t=e[o],t&&r.has(t))return t;return null}get(e,t=!0){if(t){let t=this.wrapperNodes.get(e);if(t)return t}return super.get(e)}getChildComponents(e){let t,r=this,o=r.find("parentId",e.id)||[],n=[];return o.forEach(e=>{n.push(e),t=r.getChildComponents(e),t&&n.push(...t)}),n}getChildIds(e,t=[]){return i.A.getChildIds(e,t)}getChildren(e){let t,r=[];return i.A.getChildIds(e.vnode).forEach(e=>{t=this.get(e),t&&r.push(t)}),r}getFirst(e,t=!0){let r=[],o=Neo.apps[Object.keys(Neo.apps)[0]].mainView;if(Neo.isString(e)){const t=/(\w*)(\[[^\]]*\])|(\w*)/g;let o;for(;o=t.exec(e);){let e,[,n,i,s]=o;if(n=n||s,e={ntype:n},i){const t=/\[(.*?)\]/,r=i.match(t);r&&r[1].split(",").forEach(t=>{const[r,o]=t.split("=");e[r]=o.replace(/"/g,"")})}r.push(e),t.lastIndex++}}else Neo.isObject(e)?r.push(e):Neo.isArray(e)&&(r=e);return r.reduce((e,r)=>{if(e){let o=e.down(r,t);if(o)return o}return null},o)}getParentIds(e){let t=[];for(;e?.parentId;)(e=this.get(e.parentId))&&t.push(e.id);return t}getParentPath(e){let t=this,r=[],o=0,n=e?.length||0;for(;o<n;o++)(t.has(e[o])||t.wrapperNodes.get(e[o]))&&r.push(e[o]);return r}getParents(e){Neo.isString(e)&&(e=this.get(e));let t=[];for(;e?.parentId;)(e=this.get(e.parentId))&&t.push(e);return t}getVdomTree(e,t=-1){let r,o={...e};return e.cn&&(o.cn=[],e.cn.forEach(e=>{r=t,e.componentId&&(r=-1===t?-1:t>1?t-1:1,(-1===t||t>1)&&(e=this.get(e.componentId).vdom)),o.cn.push(this.getVdomTree(e,r))})),o}getVnodeTree(e,t=-1){let r,o,n={...e};return e.childNodes&&(n.childNodes=[],e.childNodes.forEach(e=>{r=t,e.componentId&&(r=-1===t?-1:t>1?t-1:1,(-1===t||t>1)&&(o=this.get(e.componentId),o?.vnode&&(e=o.vnode))),n.childNodes.push(this.getVnodeTree(e,r))})),n}hasPrototypePropertyValue(e,t,r){for(;null!==e;){if(e.hasOwnProperty(t)&&e[t]===r)return!0;e=e.__proto__}return!1}registerWrapperNode(e,t){this.wrapperNodes.set(e,t)}unregister(e){e&&(Neo.isString(e)?this.wrapperNodes.delete(e):e.id!==e.vdom.id&&this.wrapperNodes.delete(e.vdom.id)),super.unregister(e)}up(e,t,r=!0){let o,n,i,s=this.get(e),a=[];for(Neo.isString(t)?t={ntype:t}:t||(t={}),o=Object.entries(t),n=o.length;s?.parentId;){if(s=this.get(s.parentId),!s)return r?null:a;if(i=[],o.forEach(([e,t])=>{s[e]===t&&i.push(!0)}),i.length===n){if(r)return s;a.push(s)}}}})},71102:(e,t,r)=>{r.d(t,{A:()=>i});var o=r(67024);r(89408);class n extends o.A{static observable=!0;static operators=["==","===","!=","!==","<","<=",">",">=","endsWith","excluded","included","isDefined","isUndefined","like","startsWith"];static config={className:"Neo.collection.Filter",ntype:"filter",disabled_:!1,filterBy_:null,includeEmptyValues:!0,isUpdating_:!1,listenerApplied:!1,operator_:"===",property_:"id",scope:null,value_:null};afterSetDisabled(...e){this.fireChangeEvent(...e)}afterSetFilterBy(e,t){}afterSetIsUpdating(e,t){!1===e&&this.fireChangeEvent(e,t)}afterSetOperator(...e){this.fireChangeEvent(...e)}afterSetProperty(...e){this.fireChangeEvent(...e)}afterSetValue(...e){this.fireChangeEvent(...e)}beforeSetFilterBy(e,t){return e&&"function"!=typeof e?(Neo.logError("filterBy has to be a function",this),t):e}beforeSetOperator(e,t){return this.beforeSetEnumValue(e,t,"operator")}export(){let{operator:e,property:t,value:r}=this;return this.filterBy?null:{operator:e,property:t,value:r}}fireChangeEvent(e,t){let r=this;if(void 0!==t&&!0!==r.isUpdating){let{operator:e,property:t,value:o}=r;r.fire("change",{operator:e,property:t,value:o})}}isFiltered(e,t,r){let o,i,s=this;return!s._disabled&&(s._filterBy?s.filterBy.call(s.scope||s,{allItems:r,filteredItems:t,item:e,value:s._value}):(!s.includeEmptyValues||null!==s._value&&!Neo.isEmpty(s._value))&&(o=s._value,i=e[s._property],o instanceof Date&&i instanceof Date&&(o=o.valueOf(),i=i.valueOf()),!n[s._operator](i,o)))}static"=="(e,t){return e==t}static"==="(e,t){return e===t}static"!="(e,t){return e!=t}static"!=="(e,t){return e!==t}static"<"(e,t){return e<t}static"<="(e,t){return e<=t}static">"(e,t){return e>t}static">="(e,t){return e>=t}static endsWith(e,t){return Neo.isString(e)||(e=String(e)),Neo.isString(t)||(t=String(t)),e?.toLowerCase().endsWith(t?.toLowerCase())||!1}static excluded(e,t){return t.indexOf(e)<0}static included(e,t){return t.indexOf(e)>-1}static isDefined(e,t){return void 0!==e}static isUndefined(e,t){return void 0===e}static like(e,t){return Neo.isString(e)||(e=String(e)),Neo.isString(t)||(t=String(t)),e?.toLowerCase().includes(t?.toLowerCase())||!1}static startsWith(e,t){return Neo.isString(e)||(e=String(e)),Neo.isString(t)||(t=String(t)),e?.toLowerCase().startsWith(t?.toLowerCase())||!1}}const i=Neo.setupClass(n)},89408:(e,t,r)=>{var o=r(67024),n=r(59651),i=r(5728);Neo.setupClass(class extends o.A{static config={className:"Neo.core.Observable",ntype:"mixin-observable",mixin:!0};addListener(e,t,r,o,n,i){let s,a,d,l=this,c=0,h="object"==typeof e,u=!1,p=typeof t;if("object"==typeof o&&"function"===p&&(o.fn=t,t=o,p="object",o=null),h)e.hasOwnProperty("delay")&&(c=e.delay,delete e.delay),e.hasOwnProperty("once")&&(u=e.once,delete e.once),e.hasOwnProperty("order")&&(i=e.order,delete e.order),e.hasOwnProperty("scope")&&(r=e.scope,delete e.scope),Object.entries(e).forEach(([e,t])=>{Neo.isObject(t)?l.addListener(e,{delay:c,once:u,order:i,scope:r,...t}):l.addListener(e,{delay:c,fn:t,once:u,order:i,scope:r})});else if("object"===p)c=c||t.delay,o=o||t.eventId,s=t.fn,u=u||t.once,i=i||t.order,r=r||t.scope;else if("function"===p)s=t;else{if("string"!==p)throw new Error("Invalid addListener call: "+e);s=t}return h?null:(d={fn:s,id:o||Neo.getId("event")},n&&(d.data=n),c>0&&(d.delay=c),u&&(d.once=u),r&&(d.scope=r),(a=l.listeners?.[e])?(a.forEach(t=>{(t.id===o||t.fn===s&&t.scope===r)&&console.error("Duplicate event handler attached:",e,l)}),"number"==typeof i?a.splice(i,0,d):"before"===i?a.unshift(d):a.push(d)):l.listeners[e]=[d],d.id)}callback(e,t=this,r){if(e){const o=(0,i.Ap)(e,t);o.fn.apply(o.scope,r)}}delayedCallback(e,t,r){this.timeout(r).then(()=>{e.fn.apply(e.scope,t)})}fire(e){let t,r,o,s,a,d=this,l=[].slice.call(arguments,1),c=d.listeners;if(c&&c[e])for(o=[...c[e]],a=o.length,s=0;s<a;s++){r=o[s],t=r.delay;const a=(0,i.Ap)(r.fn,r.scope||d);a.scope&&!a.scope.id?n.A.remove(c[e],r):d.suspendEvents||(1===l.length&&Neo.isObject(l[0])&&(l[0].source=d.id),r.once&&n.A.remove(c[e],r),Neo.isNumber(t)&&t>0?d.delayedCallback(a,r.data?l.concat(r.data):l,t):a.fn.apply(a.scope,r.data?l.concat(r.data):l))}}initObservable(e){let t,r=this,o=r.__proto__,n=o.constructor;for(e.listeners&&(r.listeners=e.listeners,delete e.listeners),t=r.listeners,r.listeners={},t&&(Neo.isObject(t)&&(t={...t}),r.addListener(t));o?.constructor.isClass;)n=o.constructor,n.observable&&!n.listeners&&Object.assign(n,{addListener:r.addListener,fire:r.fire,listeners:{},on:r.on,removeListener:r.removeListener,un:r.un}),o=o.__proto__}on(...e){return this.addListener(...e)}removeListener(e,t,r){let o,n,i,s,a,d=this;Neo.isFunction(t)?d.removeListener({[e]:t,scope:r}):Neo.isObject(e)?(e.scope&&(r=e.scope,delete e.scope),Object.entries(e).forEach(([e,t])=>{for(s=d.listeners[e]||[],o=0,n=s.length;o<n;o++)if(i=s[o],i.fn.name===(Neo.isString(t)?t:t.name)&&i.scope===r){s.splice(o,1);break}})):Neo.isString(t)&&(s=d.listeners[e],a=!1,s.forEach((e,r)=>{if(e.id===t)return a=r}),!1!==a&&s.splice(a,1))}un(...e){this.removeListener(...e)}})},98310:(e,t,r)=>{r.d(t,{A:()=>n});var o=r(50319);const n=Neo.setupClass(class extends o.A{static config={className:"Neo.manager.Base"};getById(e){return e&&this.get(e)||null}register(e){let t=this;t.get(e.id)?Neo.logError("Trying to create an item with an already existing id",e,t.get(e.id)):t.push(e)}unregister(e){this.remove(e)}})},99696:(e,t,r)=>{r.d(t,{A:()=>n});var o=r(67024);const n=Neo.setupClass(class extends o.A{static config={className:"Neo.util.Logger",level_:"info",singleton:!0};logChars={error:"E",info:"I",log:"L",warn:"W"};logColors={error:"indianred",info:"#acacac",log:"#448888",warn:"#6d6d00"};logLevels=["info","log","warn","error"];construct(e){super.construct(e);let t=this;Neo.applyFromNs(Neo,t,{error:"error",info:"info",log:"log",logError:"logError",warn:"warn"},!0),t.timeout(50).then(()=>{Neo.config.enableLogsInProduction||"dist/production"!==Neo.config.environment||(t.write=Neo.emptyFn)})}beforeSetLevel(e,t){return this.logLevels.indexOf(e)}error(e){throw new Error(e)}getCaller(){let e,t,r,o=(new Error).stack.split("\n"),n=!1;for(t in o)if(r=o[t],!n&&/Logger\.mjs/.test(r))n=!0;else if(n&&!/Logger\.mjs/.test(r)){r=r.replace(")",""),e=r.match(/([^\/]+)$/)[1].match(/([^ ]+)$/)[1];break}return e}info(...e){e=this.resolveArgs(...e),this.write(e,"info")}log(...e){e=this.resolveArgs(...e),this.write(e,"log")}logError(...e){e=this.resolveArgs(...e),this.write(e,"error")}onContextMenu(e){let{config:t}=Neo;if(t.enableComponentLogger&&("dist/production"!==t.env||!t.enableLogsInProduction)){let t,r=!1;e.path.forEach(e=>{t=Neo.getComponent(e.id,!1),t&&(r||(r=!0,console.group(e.id)),console.log(t))}),r&&console.groupEnd()}}resolveArgs(...e){let t=e[0],r={};return 1===e.length?Neo.isString(t)?r.msg=e[0]:Neo.isObject(t)&&(r=t):e.length>2&&(r.msg=e[0],r.data=e.slice(1)),r}warn(...e){e=this.resolveArgs(...e),this.write(e,"warn")}write(e,t){let r=this;if(r.beforeSetLevel(t)<r.level)return;console.log("#",e.msg,t);let o=r.logColors[t],n=r.logChars[t],i=`background-color:${o}; color: white; font-weight: 900;`,s=`color:${o};`,a=`[${r.getCaller()}] ${e.msg}`;e.data?(console.groupCollapsed(`%c ${n} %c ${a}`,i,s),console.log(e.data),console.groupEnd()):console.log(`%c ${n} %c ${a}`,i,s)}})}}]);