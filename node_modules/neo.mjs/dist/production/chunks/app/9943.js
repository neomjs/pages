"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[9943],{5548:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(3653),s=n(1857),o=n(6215);class a{componentId=null;dependencies=new Map;_fn=null;id=o.A.getId("effect");isDestroyed=!1;isRunning=null;get fn(){return this._fn}set fn(e){this._fn=e,this.run()}constructor(e,t={}){const n=this,{fn:s,componentId:o,lazy:a=!1,subscriber:i}="function"==typeof e?{...t,fn:e}:e||{};o&&(n.componentId=o),n.isRunning=new r.A(!1),i&&[].concat(i).forEach(e=>n.isRunning.subscribe(e)),a?n._fn=s:n.fn=s}destroy(){const e=this;e.dependencies.forEach(e=>e()),e.dependencies.clear(),e.isDestroyed=!0}run(){const e=this;if(e.isDestroyed)return;s.A.pauseTracking();const t=e.isRunning.get();if(s.A.resumeTracking(),!t)if(s.A.isPaused())s.A.queue(e);else{s.A.pauseTracking(),e.isRunning.set(!0),s.A.resumeTracking(),e.dependencies.forEach(e=>e()),e.dependencies.clear(),s.A.push(e);try{e.fn()}finally{s.A.pop(),s.A.pauseTracking(),e.isRunning.set(!1),s.A.resumeTracking()}}}addDependency(e){const t=this;if(!t.dependencies.has(e)){const n=e.subscribe({id:t.id,fn:t.run.bind(t)});t.dependencies.set(e,n)}}}const i=Neo.gatekeep(a,"Neo.core.Effect",()=>{Neo.effect=(e,t)=>new a(e,t)})},9943:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(3572),s=n(5023),o=n(3653),a=n(5548),i=n(1857);function c(e,t){return new Proxy({},{get(n,r){if("symbol"==typeof r||"__REFADR__"===r||"inspect"===r||"then"===r)return Reflect.get(n,r);if("string"!=typeof r&&"number"!=typeof r)return;if(""===t&&"stores"===r)return new Proxy({},{get:(t,n)=>"symbol"==typeof n||"__REFADR__"===n?Reflect.get(t,n):e.getStore(n)});const s=t?`${t}.${r}`:r,o=e.getOwnerOfDataProperty(s);if(o){const{owner:t,propertyName:n}=o,r=t.getDataConfig(n);if(r){i.A.getActiveEffect()?.addDependency(r);const t=r.get();return Neo.isObject(t)?c(e,s):t}}return e.hasNestedDataStartingWith(s)?c(e,s):void 0},set(n,r,s){if("symbol"==typeof r||"__REFADR__"===r)return Reflect.set(n,r,s);const o=t?`${t}.${r}`:r,a=e.getOwnerOfDataProperty(o);let i;return i=a?a.owner:e,i.setData(o,s),!0},ownKeys:n=>e.getTopLevelDataKeys(t),getOwnPropertyDescriptor(n,r){const s=t?`${t}.${r}`:r,o=e.getOwnerOfDataProperty(s);if(o){const t=o.owner.getDataConfig(o.propertyName);if(t){const n=t.get();return{value:Neo.isObject(n)?c(e,s):n,writable:!0,enumerable:!0,configurable:!0}}}}})}function f(e){return c(e,"")}n(4556);var u=n(4256);const l=Symbol.for("twoWayBinding");class g extends r.A{static observable=!0;static config={className:"Neo.state.Provider",ntype:"state-provider",component:null,data_:{[u.o]:!0,merge:"deep",value:{}},formulas_:null,parent_:null,stores_:null};#e=new Map;#t={};#n=new Map;construct(e){Neo.isUsingStateProviders=!0,super.construct(e)}afterSetData(e,t){e&&this.processDataObject(e)}afterSetFormulas(e,t){const n=this;n.#n.forEach(e=>e.destroy()),n.#n.clear(),e&&Object.entries(e).forEach(([e,t])=>{const r=new a.A({fn:()=>{const r=n.getHierarchyData(),s=t(r);n.setData(e,s)},lazy:!0});n.#n.set(e,r)})}beforeGetData(e){return this.getHierarchyData()}beforeSetStores(e,t){if(e){let t=this;Object.entries(e).forEach(([n,r])=>{Object.entries(r.listeners||{}).forEach(([e,n])=>{t.bindCallback(n,e,t,r.listeners)}),e[n]=s.A.beforeSetInstance(r)})}return e}createBinding(e,t,n){const r=this,s=new a.A(()=>{const s=Neo.get(e);if(s&&!s.isDestroyed){const e=r.getHierarchyData(),o=Neo.isFunction(n)?n.call(r,e):e[n];s._skipTwoWayPush=t,s[t]=o,delete s._skipTwoWayPush}});return r.#e.set(e,s),r.observeConfig(e,"isDestroying",t=>{t&&(s.destroy(),r.#e.delete(e))}),s}createBindings(e){let t=this,n=!1;Object.entries(e.bind||{}).forEach(([r,s])=>{let o=s;Neo.isObject(s)&&(s.twoWay&&(n=!0),o=s.key),t.isStoreValue(o)?t.resolveStore(e,r,o.substring(7)):t.createBinding(e.id,r,o,s.twoWay)}),n&&(e[l]=!0)}destroy(){const e=this;e.#n.forEach(e=>e.destroy()),e.#n.clear(),e.#e.forEach(e=>e.destroy()),e.#e.clear(),super.destroy()}getController(e){return this.component.getController(e)}getData(e){const t=this.getOwnerOfDataProperty(e);if(t)return t.owner.getDataConfig(t.propertyName).get()}getDataConfig(e){return this.#t[e]||null}getHierarchyData(){return f(this)}getOwnerOfDataProperty(e){let t=this;if(t.#t[e])return{owner:t,propertyName:e};const n=t.getParent();return n?n.getOwnerOfDataProperty(e):null}getParent(){let e=this;return e._parent?e._parent:e.component&&e.component.parent?.getStateProvider()||null}getStore(e,t=this){let n,{stores:r}=this;return r?.hasOwnProperty(e)?r[e]:(n=this.getParent(),n||console.error(`store '${e}' not found inside this stateProvider or parents.`,t),n.getStore(e,t))}hasNestedDataStartingWith(e){const t=`${e}.`;return!!Object.keys(this.#t).some(e=>e.startsWith(t))||this.getParent()?.hasNestedDataStartingWith(e)||!1}getTopLevelDataKeys(e){const t=new Set,n=e?`${e}.`:"";for(const e in this.#t)if(e.startsWith(n)){const r=e.substring(n.length).split(".")[0];r&&t.add(r)}return Array.from(t)}internalSetData(e,t,n){const r=this;if(Neo.isObject(e))return void Object.entries(e).forEach(([e,t])=>{r.internalSetData(e,t,n)});if("Object"===Neo.typeOf(t))return void Object.entries(t).forEach(([t,s])=>{const o=`${e}.${t}`;r.internalSetData(o,s,n)});const s=r.getOwnerOfDataProperty(e),o=s?s.owner:n||r;r.#r(o,e,t,null);let a=e,i=t;for(;a.includes(".");){const e=a.split(".").pop();a=a.substring(0,a.lastIndexOf("."));const t=o.getDataConfig(a);if(t){const n=t.get();if(!Neo.isObject(n))break;{const r={...n,[e]:i};t.set(r),i=r}}else{const t={[e]:i};r.#r(o,a,t),i=t}}}isStoreValue(e){return Neo.isString(e)&&e.startsWith("stores.")}onConstructed(){super.onConstructed(),this.#n.forEach(e=>e.run())}onDataPropertyChange(e,t,n){}processDataObject(e,t=""){let n=this;Object.entries(e).forEach(([e,r])=>{const s=t?`${t}.${e}`:e;n.#t[s]?n.#t[s].set(r):n.#t[s]=new o.A(r),"Object"===Neo.typeOf(r)&&n.processDataObject(r,s)})}resolveStore(e,t,n){let r=this.getStore(n);e[t]!==r&&(e[t]=r)}#r(e,t,n,r){let s=e.getDataConfig(t),a=!0,i=r;s?(i=s.get(),a=s.set(n)):(s=new o.A(n),e.#t[t]=s,e.#e.forEach(e=>e.run())),a&&e.onDataPropertyChange(t,n,i)}setData(e,t){i.A.pause();try{this.internalSetData(e,t,this)}finally{i.A.resume()}}setDataAtSameLevel(e,t){i.A.pause();try{this.internalSetData(e,t)}finally{i.A.resume()}}}const d=Neo.setupClass(g)}}]);