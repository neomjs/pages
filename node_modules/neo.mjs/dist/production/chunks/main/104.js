"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[104,96],{96:(e,s,i)=>{i.r(s),i.d(s,{default:()=>o});var a=i(162);class t extends a.A{static config={className:"Neo.main.addon.Base",isMainThreadAddon:!0,isReady_:!1,preloadFilesDelay:5e3};cache=[];isLoading=!1;loadingTimeoutId=null;construct(e){super.construct(e);let s=this;s.loadFiles&&(0===s.preloadFilesDelay?s.loadFiles():Neo.isNumber(s.preloadFilesDelay)&&(s.loadingTimeoutId=setTimeout((()=>{s.loadFiles()}),s.preloadFilesDelay)))}afterSetIsReady(e,s){if(e){let e,s=this;s.cache.forEach((i=>{e=s[i.fn](i.data),i.resolve(e)})),s.cache=[]}}cacheMethodCall(e){let s=this;return s.isLoading||(s.loadingTimeoutId&&clearTimeout(s.loadingTimeoutId),s.loadingTimeoutId=null,s.loadFiles()),new Promise(((i,a)=>{s.cache.push({...e,resolve:i})}))}}const o=Neo.setupClass(t)},104:(e,s,i)=>{i.r(s),i.d(s,{default:()=>d});var a=i(96),t=i(254);class o extends a.default{static config={className:"Neo.main.addon.CesiumJS",remote:{app:["create","createOsmBuildings","destroy","flyTo"]}};viewers={};construct(e){super.construct(e),this.loadFiles()}create(e){this.viewers[e.id]=new Cesium.Viewer(e.id,{terrainProvider:Cesium.createWorldTerrain()}),e.createOsmBuildings&&this.createOsmBuildings({id:e.id})}createOsmBuildings(e){this.viewers[e.id].scene.primitives.add(Cesium.createOsmBuildings())}destroy(e){console.log("main.addon.CesiumJS: destroy()",e)}flyTo(e){this.viewers[e.id].camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(...e.destination),orientation:{heading:Cesium.Math.toRadians(e.heading),pitch:Cesium.Math.toRadians(e.pitch)}})}loadFiles(){Promise.all([t.A.loadScript("https://cesium.com/downloads/cesiumjs/releases/1.92/Build/Cesium/Cesium.js"),t.A.loadStylesheet("https://cesium.com/downloads/cesiumjs/releases/1.92/Build/Cesium/Widgets/widgets.css")]).then((()=>{this.onFilesLoaded()}))}onFilesLoaded(){Cesium.Ion.defaultAccessToken=Neo.config.cesiumJsToken}}const d=Neo.setupClass(o)}}]);