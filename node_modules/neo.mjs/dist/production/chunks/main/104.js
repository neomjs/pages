"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[96,104],{1096:(e,s,i)=>{i.r(s),i.d(s,{default:()=>l});var a=i(8247);class o extends a.A{static config={className:"Neo.main.addon.Base",isMainThreadAddon:!0,preloadFilesDelay:5e3};cache=[];get isLoading(){return!!this.#e&&!!this.#s}#e=null;#s=null;construct(e){super.construct(e);let s=this;if(s.#e=new Promise(e=>{s.#s=e}),!1===s.preloadFilesDelay)s.#s(),s.#s=null;else{const e=Neo.isNumber(s.preloadFilesDelay)?s.preloadFilesDelay:0;0===e?s.#i():s.timeout(e).then(()=>{s.#s&&s.#i()})}}async#i(){let e=this;if(e.#s){const s=e.#s;e.#s=null,await e.loadFiles(),s()}}async initAsync(){await super.initAsync(),await this.#e}afterSetIsReady(e,s){super.afterSetIsReady(e,s),e&&this.#a()}cacheMethodCall(e){let s=this;return s.#s&&s.#i(),new Promise((i,a)=>{s.cache.push({...e,reject:a,resolve:i})})}async loadFiles(){}onInterceptRemotes(e){return this.cacheMethodCall({fn:e.remoteMethod,data:e.data})}async#a(){let e=this;for(const s of e.cache){let i;try{i=e[s.fn](s.data),Neo.isPromise(i)&&(i=await i),s.resolve(i)}catch(e){s.reject(e);break}}e.cache=[]}}const l=Neo.setupClass(o)},7104:(e,s,i)=>{i.r(s),i.d(s,{default:()=>t});var a=i(1096),o=i(4392);class l extends a.default{static config={className:"Neo.main.addon.CesiumJS",remote:{app:["create","createOsmBuildings","destroy","flyTo"]}};viewers={};construct(e){super.construct(e),this.loadFiles()}create(e){this.viewers[e.id]=new Cesium.Viewer(e.id,{terrainProvider:Cesium.createWorldTerrain()}),e.createOsmBuildings&&this.createOsmBuildings({id:e.id})}createOsmBuildings(e){this.viewers[e.id].scene.primitives.add(Cesium.createOsmBuildings())}destroy(e){console.log("main.addon.CesiumJS: destroy()",e)}flyTo(e){this.viewers[e.id].camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(...e.destination),orientation:{heading:Cesium.Math.toRadians(e.heading),pitch:Cesium.Math.toRadians(e.pitch)}})}loadFiles(){Promise.all([o.A.loadScript("https://cesium.com/downloads/cesiumjs/releases/1.92/Build/Cesium/Cesium.js"),o.A.loadStylesheet("https://cesium.com/downloads/cesiumjs/releases/1.92/Build/Cesium/Widgets/widgets.css")]).then(()=>{this.onFilesLoaded()})}onFilesLoaded(){Cesium.Ion.defaultAccessToken=Neo.config.cesiumJsToken}}const t=Neo.setupClass(l)}}]);