"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[96,789],{96:(e,s,t)=>{t.r(s),t.d(s,{default:()=>l});var i=t(583);class o extends i.A{static config={className:"Neo.main.addon.Base",isMainThreadAddon:!0,preloadFilesDelay:5e3};cache=[];get isLoading(){return!!this.#e&&!!this.#s}#e=null;#s=null;construct(e){super.construct(e);let s=this;if(s.#e=new Promise(e=>{s.#s=e}),!1===s.preloadFilesDelay)s.#s(),s.#s=null;else{const e=Neo.isNumber(s.preloadFilesDelay)?s.preloadFilesDelay:0;0===e?s.#t():s.timeout(e).then(()=>{s.#s&&s.#t()})}}async#t(){let e=this;if(e.#s){const s=e.#s;e.#s=null,await e.loadFiles(),s()}}async initAsync(){await super.initAsync(),await this.#e}afterSetIsReady(e,s){e&&this.#i()}cacheMethodCall(e){let s=this;return s.#s&&s.#t(),new Promise((t,i)=>{s.cache.push({...e,reject:i,resolve:t})})}async loadFiles(){}onInterceptRemotes(e){return this.cacheMethodCall({fn:e.remoteMethod,data:e.data})}async#i(){let e=this;for(const s of e.cache){let t;try{t=e[s.fn](s.data),Neo.isPromise(t)&&(t=await t),s.resolve(t)}catch(e){s.reject(e);break}}e.cache=[]}}const l=Neo.setupClass(o)},789:(e,s,t)=>{t.r(s),t.d(s,{default:()=>r});var i=t(96),o=t(392),l=t(160);class a extends i.default{static config={className:"Neo.main.addon.ResizeObserver",instance:null,registerAttempts:3,remote:{app:["register","unregister"]}};construct(e){super.construct(e);let s=this;s.instance=new ResizeObserver(s.onResize.bind(s))}onResize(e,s){e.forEach(e=>{let s=e.borderBoxSize[0],t=e.contentBoxSize[0],i=e.devicePixelContentBoxSize?.[0]||{},o=l.A.getPathFromElement(e.target).map(e=>l.A.getTargetData(e));Neo.worker.Manager.sendMessage("app",{action:"domEvent",eventName:"resize",data:{contentRect:l.A.parseDomRect(e.contentRect),id:e.target.id,path:o,rect:o[0].rect,borderBoxSize:{blockSize:s.blockSize,inlineSize:s.inlineSize},contentBoxSize:{blockSize:t.blockSize,inlineSize:t.inlineSize},devicePixelContentBoxSize:{blockSize:i.blockSize,inlineSize:i.inlineSize}}})})}async register(e,s=0){let t=this,i=o.A.getElement(e.id);i?t.instance.observe(i):s<t.registerAttempts&&(await t.timeout(100),s++,t.register(e,s))}unregister(e){let s=o.A.getElement(e.id);s&&this.instance.unobserve(s)}}const r=Neo.setupClass(a)}}]);