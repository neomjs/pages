"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[96,506],{96:(e,t,l)=>{l.r(t),l.d(t,{default:()=>o});var s=l(247);class a extends s.A{static config={className:"Neo.main.addon.Base",isMainThreadAddon:!0,preloadFilesDelay:5e3};cache=[];get isLoading(){return!!this.#e&&!!this.#t}#e=null;#t=null;construct(e){super.construct(e);let t=this;if(t.#e=new Promise(e=>{t.#t=e}),!1===t.preloadFilesDelay)t.#t(),t.#t=null;else{const e=Neo.isNumber(t.preloadFilesDelay)?t.preloadFilesDelay:0;0===e?t.#l():t.timeout(e).then(()=>{t.#t&&t.#l()})}}async#l(){let e=this;if(e.#t){const t=e.#t;e.#t=null,await e.loadFiles(),t()}}async initAsync(){await super.initAsync(),await this.#e}afterSetIsReady(e,t){super.afterSetIsReady(e,t),e&&this.#s()}cacheMethodCall(e){let t=this;return t.#t&&t.#l(),new Promise((l,s)=>{t.cache.push({...e,reject:s,resolve:l})})}async loadFiles(){}onInterceptRemotes(e){return this.cacheMethodCall({fn:e.remoteMethod,data:e.data})}async#s(){let e=this;for(const t of e.cache){let l;try{l=e[t.fn](t.data),Neo.isPromise(l)&&(l=await l),t.resolve(l)}catch(e){t.reject(e);break}}e.cache=[]}}const o=Neo.setupClass(a)},506:(e,t,l)=>{l.r(t),l.d(t,{default:()=>o});var s=l(96);class a extends s.default{static config={className:"Neo.main.addon.DocumentHead",remote:{app:["getCanonical","getDescription","getLdJson","getTag","getTitle","setCanonical","setDescription","setLdJson","setTag","setTitle","update"]}};getCanonical(){let e=document.head.querySelector('link[rel="canonical"]');return e?.href||null}getDescription(){return document.querySelector('meta[name="description"]')?.content||null}getLdJson(){let e=document.head.querySelector('script[type="application/ld+json"]');if(e)try{return JSON.parse(e.textContent)}catch(e){return console.error("Error parsing ld+json content",e),null}return null}getTag(e){let t,{tag:l,...s}=e;if("meta"===l?s.name?t=`meta[name="${s.name}"]`:s.property&&(t=`meta[property="${s.property}"]`):"link"===l&&s.rel&&(t=`link[rel="${s.rel}"]`),t){const e=document.head.querySelector(t);if(e){const t={};for(const l of e.attributes)t[l.name]=l.value;return{tag:l,...t}}}return null}getTitle(){return document.title}setCanonical({url:e}){this.setTag({tag:"link",rel:"canonical",href:e})}setDescription({value:e}){this.setTag({tag:"meta",name:"description",content:e})}setLdJson({value:e}){let t=document.head.querySelector('script[type="application/ld+json"]');t||(t=document.createElement("script"),t.type="application/ld+json",document.head.appendChild(t)),t.textContent=JSON.stringify(e,null,2)}setTag({value:e={}}){let t,l,{tag:s,...a}=e;"meta"===s?a.name?t=`meta[name="${a.name}"]`:a.property&&(t=`meta[property="${a.property}"]`):"link"===s&&a.rel&&(t=`link[rel="${a.rel}"]`),l=t?document.head.querySelector(t):null,l||(l=document.createElement(s));for(const[e,t]of Object.entries(a))l.setAttribute(e,t);l.parentNode||document.head.appendChild(l)}setTitle({value:e}){document.title=e}update({canonicalUrl:e,description:t,ldJson:l,tag:s,title:a}){let o=this;e&&o.setCanonical({url:e}),t&&o.setDescription({value:t}),l&&o.setLdJson({value:l}),s&&o.setTag({value:s}),a&&o.setTitle({value:a})}}const o=Neo.setupClass(a)}}]);
