"use strict";(self.webpackChunkneo_mjs=self.webpackChunkneo_mjs||[]).push([[96,774],{1096(e,s,t){t.r(s),t.d(s,{default:()=>l});var o=t(8247);class i extends o.A{static config={className:"Neo.main.addon.Base",isMainThreadAddon:!0,preloadFilesDelay:5e3,remote:{app:["loadFiles"]},useLazyLoading:!1};cache=[];get isLoading(){return!!this.#e&&!!this.#s}#e=null;#s=null;construct(e){super.construct(e);let s=this;if(s.#e=new Promise(e=>{s.#s=e}),s.useLazyLoading);else if(!1===s.preloadFilesDelay)s.#s(),s.#s=null;else{const e=Neo.isNumber(s.preloadFilesDelay)?s.preloadFilesDelay:0;0===e?s.#t():s.timeout(e).then(()=>{s.#s&&s.#t()})}}async#t(){let e=this;if(e.#s){const s=e.#s;e.#s=null,await e.loadFiles(),s()}}async initAsync(){await super.initAsync(),await this.#e}afterSetIsReady(e,s){super.afterSetIsReady(e,s),e&&this.#o()}cacheMethodCall(e){let s=this;return s.#s&&s.#t(),new Promise((t,o)=>{s.cache.push({...e,reject:o,resolve:t})})}async loadFiles(){}onInterceptRemotes(e){return this.cacheMethodCall({fn:e.remoteMethod,data:e.data})}async#o(){let e=this;for(const s of e.cache){let t;try{t=e[s.fn](s.data),Neo.isPromise(t)&&(t=await t),s.resolve(t)}catch(e){s.reject(e);break}}e.cache=[]}}const l=Neo.setupClass(i)},9393(e,s,t){t.r(s),t.d(s,{default:()=>r});var o=t(1096),i=t(4392);class l extends o.default{static config={className:"Neo.main.addon.ScrollSync",remote:{app:["register","unregister"]}};isTouching=!1;registrations=new Map;construct(e){super.construct(e);let s=this;document.body.addEventListener("touchstart",s.onTouchStart.bind(s),{passive:!0}),document.body.addEventListener("touchend",s.onTouchEnd.bind(s),{passive:!0}),document.body.addEventListener("touchcancel",s.onTouchEnd.bind(s),{passive:!0})}onTouchStart(){this.isTouching=!0}onTouchEnd(){this.isTouching=!1}addScrollListener(e,s,t,o){let l=this.onScroll.bind(this,s,t,o);return i.A.getElement(e)?.addEventListener("scroll",l),l}onScroll(e,s,t,o){if(this.isTouching&&t)return;let l=i.A.getElement(e),{scrollLeft:r,scrollTop:a}=o.target;l&&("both"===s?l.scrollTo({behavior:"instant",left:r,top:a}):"horizontal"===s?l.scrollLeft=r:"vertical"===s&&(l.scrollTop=a))}register({direction:e="vertical",fromId:s,id:t,toId:o,twoWay:i=!0}){let l,r=this;if(r.registrations.has(t)){const l=r.registrations.get(t);if(l.direction===e&&l.fromId===s&&l.toId===o&&l.twoWay===i)return;r.unregister({id:t})}l={direction:e,fromId:s,id:t,toId:o,twoWay:i,listeners:[]},l.listeners.push({listener:r.addScrollListener(s,o,e,!1),fromId:s}),i&&l.listeners.push({listener:r.addScrollListener(o,s,e,!0),fromId:o}),r.registrations.set(t,l)}unregister({id:e}){let s=this.registrations.get(e);s&&(s.listeners.forEach(e=>{i.A.getElement(e.fromId)?.removeEventListener("scroll",e.listener)}),this.registrations.delete(e))}}const r=Neo.setupClass(l)}}]);