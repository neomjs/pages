{"classData":[{"comment":"/**\n * @summary SharedWorker renderer for the DevIndex \"Living Sparklines\".\n *\n * Implements a high-performance, canvas-based visualization for activity trends.\n * Unlike standard charts, these sparklines are designed to feel \"alive\" without consuming excessive resources.\n *\n * **Visual Architecture:**\n * 1.  **Living Sparklines:** The grid is not static. A \"Pulse\" effect randomly travels through different\n *     charts, creating the impression of a busy, active system (\"The Server Room Effect\").\n * 2.  **Sparse Animation Strategy:** Instead of animating all 50+ visible charts simultaneously (which would\n *     kill performance), a single **Master Loop** randomly selects *one* chart to animate every few seconds.\n *     This reduces the GPU load to that of a single active chart while maintaining a dynamic atmosphere.\n * 3.  **Data Packets:** The pulse is visualized as a glowing data packet traversing the timeline.\n * 4.  **Physics & Visuals:**\n *     - **Speed Normalization:** The pulse travels at constant speed along the path (Euclidean distance),\n *       regardless of slope steepness.\n *     - **Trend Coloring:** The pulse color dynamically shifts based on the local trend (Green for up, Red for down).\n *     - **Peak Flash:** A subtle halo expands when the pulse hits the all-time maximum value.\n *\n * **Interaction:**\n * -   **Mouse Scanning:** Hovering overrides the idle animation, creating a \"Scanner\" effect that snaps\n *     to the nearest data point and displays precise values.\n *\n * @class Neo.canvas.Sparkline\n * @extends Neo.core.Base\n * @singleton\n */","meta":{"filename":"Sparkline.mjs","lineno":5,"columnno":0,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/canvas","code":{}},"summary":"SharedWorker renderer for the DevIndex \"Living Sparklines\".\n\nImplements a high-performance, canvas-based visualization for activity trends.\nUnlike standard charts, these sparklines are designed to feel \"alive\" without consuming excessive resources.\n\n**Visual Architecture:**\n1.  **Living Sparklines:** The grid is not static. A \"Pulse\" effect randomly travels through different\n    charts, creating the impression of a busy, active system (\"The Server Room Effect\").\n2.  **Sparse Animation Strategy:** Instead of animating all 50+ visible charts simultaneously (which would\n    kill performance), a single **Master Loop** randomly selects *one* chart to animate every few seconds.\n    This reduces the GPU load to that of a single active chart while maintaining a dynamic atmosphere.\n3.  **Data Packets:** The pulse is visualized as a glowing data packet traversing the timeline.\n4.  **Physics & Visuals:**\n    - **Speed Normalization:** The pulse travels at constant speed along the path (Euclidean distance),\n      regardless of slope steepness.\n    - **Trend Coloring:** The pulse color dynamically shifts based on the local trend (Green for up, Red for down).\n    - **Peak Flash:** A subtle halo expands when the pulse hits the all-time maximum value.\n\n**Interaction:**\n-   **Mouse Scanning:** Hovering overrides the idle animation, creating a \"Scanner\" effect that snaps\n    to the nearest data point and displays precise values.","kind":"class","name":"Sparkline","augments":["Neo.core.Base"],"tags":[{"originalTitle":"singleton","title":"singleton","text":""}],"memberof":"Neo.canvas","longname":"Neo.canvas.Sparkline","scope":"static","$longname":"Neo.canvas.Sparkline","$kind":"class","id":501,"neoClassName":"Neo.canvas.Sparkline"},{"comment":"/**\n         * @member {String} className='Neo.canvas.Sparkline'\n         * @protected\n         */","meta":{"filename":"Sparkline.mjs","lineno":61,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/canvas","code":{}},"kind":"member","name":"className","type":{"names":["String"]},"defaultvalue":"'Neo.canvas.Sparkline'","access":"protected","longname":"className","scope":"global","$longname":"className","$kind":"property","id":502,"neoClassName":"Neo.canvas.Sparkline"},{"comment":"/**\n         * Remote method access\n         * @member {Object} remote\n         * @protected\n         */","meta":{"filename":"Sparkline.mjs","lineno":67,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/canvas","code":{}},"description":"<p>Remote method access</p>\n","kind":"member","name":"remote","type":{"names":["Object"]},"access":"protected","longname":"remote","scope":"global","$longname":"remote","$kind":"property","id":503,"neoClassName":"Neo.canvas.Sparkline"},{"comment":"/**\n         * Max concurrent data transitions allowed before snapping.\n         * @member {Number} maxConcurrentTransitions=30\n         */","meta":{"filename":"Sparkline.mjs","lineno":82,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/canvas","code":{}},"description":"<p>Max concurrent data transitions allowed before snapping.</p>\n","kind":"member","name":"maxConcurrentTransitions","type":{"names":["Number"]},"defaultvalue":30,"longname":"maxConcurrentTransitions","scope":"global","$longname":"maxConcurrentTransitions","$kind":"property","id":504,"neoClassName":"Neo.canvas.Sparkline"},{"comment":"/**\n         * @member {Boolean} singleton=true\n         * @protected\n         */","meta":{"filename":"Sparkline.mjs","lineno":87,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/canvas","code":{}},"kind":"member","name":"singleton","type":{"names":["Boolean"]},"defaultvalue":true,"access":"protected","longname":"singleton","scope":"global","$longname":"singleton","$kind":"property","id":505,"neoClassName":"Neo.canvas.Sparkline"},{"comment":"/**\n     * Set of currently animating items (the \"Pulse\" candidates).\n     * @member {Set} activeItems=new Set()\n     */","meta":{"filename":"Sparkline.mjs","lineno":94,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/canvas","code":{}},"description":"<p>Set of currently animating items (the &quot;Pulse&quot; candidates).</p>\n","kind":"member","name":"activeItems","type":{"names":["Set"]},"defaultvalue":"new","longname":"activeItems","scope":"global","$longname":"activeItems","$kind":"property","id":506,"neoClassName":"Neo.canvas.Sparkline"},{"comment":"/**\n     * Smoothed average frame time (ms).\n     * @member {Number} avgFrameTime=16\n     */","meta":{"filename":"Sparkline.mjs","lineno":99,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/canvas","code":{}},"description":"<p>Smoothed average frame time (ms).</p>\n","kind":"member","name":"avgFrameTime","type":{"names":["Number"]},"defaultvalue":16,"longname":"avgFrameTime","scope":"global","$longname":"avgFrameTime","$kind":"property","id":507,"neoClassName":"Neo.canvas.Sparkline"},{"comment":"/**\n     * Map of registered canvas items.\n     * Key: canvasId, Value: {canvas, ctx, values, points...}\n     * @member {Map<String, Object>} items=new Map()\n     */","meta":{"filename":"Sparkline.mjs","lineno":105,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/canvas","code":{}},"description":"<p>Map of registered canvas items.\nKey: canvasId, Value: {canvas, ctx, values, points...}</p>\n","kind":"member","name":"items","type":{"names":["Map.<String, Object>"]},"defaultvalue":"new Map()","longname":"items","scope":"global","$longname":"items","$kind":"property","id":508,"neoClassName":"Neo.canvas.Sparkline"},{"comment":"/**\n     * Timestamp of the last frame.\n     * @member {Number} lastFrameTime=0\n     */","meta":{"filename":"Sparkline.mjs","lineno":110,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/canvas","code":{}},"description":"<p>Timestamp of the last frame.</p>\n","kind":"member","name":"lastFrameTime","type":{"names":["Number"]},"defaultvalue":0,"longname":"lastFrameTime","scope":"global","$longname":"lastFrameTime","$kind":"property","id":509,"neoClassName":"Neo.canvas.Sparkline"},{"comment":"/**\n     * Timestamp of the last pulse spawn.\n     * @member {Number} lastPulseSpawn=0\n     */","meta":{"filename":"Sparkline.mjs","lineno":115,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/canvas","code":{}},"description":"<p>Timestamp of the last pulse spawn.</p>\n","kind":"member","name":"lastPulseSpawn","type":{"names":["Number"]},"defaultvalue":0,"longname":"lastPulseSpawn","scope":"global","$longname":"lastPulseSpawn","$kind":"property","id":510,"neoClassName":"Neo.canvas.Sparkline"},{"comment":"/**\n     * Calculated stress level (avgFrameTime / 16).\n     * > 1.0 means we are dropping frames.\n     * @member {Number} stressLevel=0\n     */","meta":{"filename":"Sparkline.mjs","lineno":121,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/canvas","code":{}},"description":"<p>Calculated stress level (avgFrameTime / 16).</p>\n<blockquote>\n<p>1.0 means we are dropping frames.</p>\n</blockquote>\n","kind":"member","name":"stressLevel","type":{"names":["Number"]},"defaultvalue":0,"longname":"stressLevel","scope":"global","$longname":"stressLevel","$kind":"property","id":511,"neoClassName":"Neo.canvas.Sparkline"},{"comment":"/**\n     * Clears the interaction overlay when mouse leaves the canvas.\n     * @param {Object} data\n     * @param {String} data.canvasId\n     */","meta":{"range":[4323,4522],"filename":"Sparkline.mjs","lineno":128,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/canvas","code":{"id":"astnode100019646","name":"Sparkline#onMouseLeave","type":"MethodDefinition","paramnames":["data"]},"vars":{"":null}},"description":"<p>Clears the interaction overlay when mouse leaves the canvas.</p>\n","params":[{"type":{"names":["Object"]},"name":"data"},{"type":{"names":["String"]},"name":"data.canvasId"}],"name":"onMouseLeave","longname":"Sparkline#onMouseLeave","kind":"function","memberof":"Sparkline","scope":"instance","$longname":"Sparkline#onMouseLeave","$kind":"method","id":512,"neoClassName":"Neo.canvas.Sparkline"},{"comment":"/**\n     * Handles mouse movement to update the \"Scanner\" overlay.\n     * @param {Object} data\n     * @param {String} data.canvasId\n     * @param {Number} data.x\n     * @param {Number} data.y\n     */","meta":{"range":[4732,4941],"filename":"Sparkline.mjs","lineno":143,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/canvas","code":{"id":"astnode100019678","name":"Sparkline#onMouseMove","type":"MethodDefinition","paramnames":["data"]},"vars":{"":null}},"description":"<p>Handles mouse movement to update the &quot;Scanner&quot; overlay.</p>\n","params":[{"type":{"names":["Object"]},"name":"data"},{"type":{"names":["String"]},"name":"data.canvasId"},{"type":{"names":["Number"]},"name":"data.x"},{"type":{"names":["Number"]},"name":"data.y"}],"name":"onMouseMove","longname":"Sparkline#onMouseMove","kind":"function","memberof":"Sparkline","scope":"instance","$longname":"Sparkline#onMouseMove","$kind":"method","id":513,"neoClassName":"Neo.canvas.Sparkline"},{"comment":"/**\n     * Registers a new offscreen canvas for rendering.\n     * @param {Object} data\n     * @param {String} data.canvasId\n     * @param {Number} [data.devicePixelRatio=1]\n     * @param {String} [data.theme='light']\n     * @param {Boolean} [data.usePulse=true]\n     * @param {Boolean} [data.useTransition=true]\n     * @param {String} data.windowId\n     */","meta":{"range":[5308,6198],"filename":"Sparkline.mjs","lineno":162,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/canvas","code":{"id":"astnode100019718","name":"Sparkline#register","type":"MethodDefinition","paramnames":["data"]},"vars":{"":null}},"description":"<p>Registers a new offscreen canvas for rendering.</p>\n","params":[{"type":{"names":["Object"]},"name":"data"},{"type":{"names":["String"]},"name":"data.canvasId"},{"type":{"names":["Number"]},"optional":true,"defaultvalue":1,"name":"data.devicePixelRatio"},{"type":{"names":["String"]},"optional":true,"defaultvalue":"'light'","name":"data.theme"},{"type":{"names":["Boolean"]},"optional":true,"defaultvalue":true,"name":"data.usePulse"},{"type":{"names":["Boolean"]},"optional":true,"defaultvalue":true,"name":"data.useTransition"},{"type":{"names":["String"]},"name":"data.windowId"}],"name":"register","longname":"Sparkline#register","kind":"function","memberof":"Sparkline","scope":"instance","$longname":"Sparkline#register","$kind":"method","id":514,"neoClassName":"Neo.canvas.Sparkline"},{"comment":"/**\n     * Unregisters a canvas.\n     * @param {Object} data\n     * @param {String} data.canvasId\n     */","meta":{"range":[6314,6526],"filename":"Sparkline.mjs","lineno":194,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/canvas","code":{"id":"astnode100019814","name":"Sparkline#unregister","type":"MethodDefinition","paramnames":["data"]},"vars":{"":null}},"description":"<p>Unregisters a canvas.</p>\n","params":[{"type":{"names":["Object"]},"name":"data"},{"type":{"names":["String"]},"name":"data.canvasId"}],"name":"unregister","longname":"Sparkline#unregister","kind":"function","memberof":"Sparkline","scope":"instance","$longname":"Sparkline#unregister","$kind":"method","id":515,"neoClassName":"Neo.canvas.Sparkline"},{"comment":"/**\n     * Main animation loop for the \"Living Sparklines\" effect.\n     * Implements a \"Sparse Animation\" strategy:\n     * - Only animates a few items at a time to save performance.\n     * - Randomly picks an item to \"pulse\" every 200ms-1.2s.\n     * - Updates the animation state of active items.\n     */","meta":{"range":[6841,10586],"filename":"Sparkline.mjs","lineno":211,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/canvas","code":{"id":"astnode100019855","name":"Sparkline#renderLoop","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Main animation loop for the &quot;Living Sparklines&quot; effect.\nImplements a &quot;Sparse Animation&quot; strategy:</p>\n<ul>\n<li>Only animates a few items at a time to save performance.</li>\n<li>Randomly picks an item to &quot;pulse&quot; every 200ms-1.2s.</li>\n<li>Updates the animation state of active items.</li>\n</ul>\n","name":"renderLoop","longname":"Sparkline#renderLoop","kind":"function","memberof":"Sparkline","scope":"instance","params":[],"$longname":"Sparkline#renderLoop","$kind":"method","id":516,"neoClassName":"Neo.canvas.Sparkline"},{"comment":"/**\n     * Updates the configuration for a specific canvas.\n     * @param {Object} data\n     * @param {String} data.canvasId\n     * @param {String} [data.theme]\n     * @param {Boolean} [data.usePulse]\n     * @param {Boolean} [data.useTransition]\n     */","meta":{"range":[10850,11338],"filename":"Sparkline.mjs","lineno":316,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/canvas","code":{"id":"astnode100020256","name":"Sparkline#updateConfig","type":"MethodDefinition","paramnames":["data"]},"vars":{"":null}},"description":"<p>Updates the configuration for a specific canvas.</p>\n","params":[{"type":{"names":["Object"]},"name":"data"},{"type":{"names":["String"]},"name":"data.canvasId"},{"type":{"names":["String"]},"optional":true,"name":"data.theme"},{"type":{"names":["Boolean"]},"optional":true,"name":"data.usePulse"},{"type":{"names":["Boolean"]},"optional":true,"name":"data.useTransition"}],"name":"updateConfig","longname":"Sparkline#updateConfig","kind":"function","memberof":"Sparkline","scope":"instance","$longname":"Sparkline#updateConfig","$kind":"method","id":517,"neoClassName":"Neo.canvas.Sparkline"},{"comment":"/**\n     * Updates the data values for a specific chart.\n     * Invalidates the geometry cache to force a recalculation on next draw.\n     * @param {Object} data\n     * @param {String} data.canvasId\n     * @param {Number[]} data.values\n     */","meta":{"range":[11592,13115],"filename":"Sparkline.mjs","lineno":341,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/canvas","code":{"id":"astnode100020330","name":"Sparkline#updateData","type":"MethodDefinition","paramnames":["data"]},"vars":{"":null}},"description":"<p>Updates the data values for a specific chart.\nInvalidates the geometry cache to force a recalculation on next draw.</p>\n","params":[{"type":{"names":["Object"]},"name":"data"},{"type":{"names":["String"]},"name":"data.canvasId"},{"type":{"names":["Array.<Number>"]},"name":"data.values"}],"name":"updateData","longname":"Sparkline#updateData","kind":"function","memberof":"Sparkline","scope":"instance","$longname":"Sparkline#updateData","$kind":"method","id":518,"neoClassName":"Neo.canvas.Sparkline"},{"comment":"/**\n     * Handles resize events from the main thread.\n     * Updates dimensions and triggers a redraw.\n     * @param {Object} data\n     * @param {String} data.canvasId\n     * @param {Number} [data.devicePixelRatio]\n     * @param {Number} data.height\n     * @param {Number} data.width\n     */","meta":{"range":[13418,13820],"filename":"Sparkline.mjs","lineno":387,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/canvas","code":{"id":"astnode100020498","name":"Sparkline#updateSize","type":"MethodDefinition","paramnames":["data"]},"vars":{"":null}},"description":"<p>Handles resize events from the main thread.\nUpdates dimensions and triggers a redraw.</p>\n","params":[{"type":{"names":["Object"]},"name":"data"},{"type":{"names":["String"]},"name":"data.canvasId"},{"type":{"names":["Number"]},"optional":true,"name":"data.devicePixelRatio"},{"type":{"names":["Number"]},"name":"data.height"},{"type":{"names":["Number"]},"name":"data.width"}],"name":"updateSize","longname":"Sparkline#updateSize","kind":"function","memberof":"Sparkline","scope":"instance","$longname":"Sparkline#updateSize","$kind":"method","id":519,"neoClassName":"Neo.canvas.Sparkline"},{"comment":"/**\n     * The core rendering method.\n     * Handles:\n     * 1. **Geometry Calculation:** Caches point coordinates and path lengths for consistent speed.\n     * 2. **Base Chart:** Draws the gradient area and the line stroke.\n     * 3. **Scanner Overlay:** Draws the interactive cursor if `mouseActive` is true.\n     * 4. **Pulse Effect:** Draws the \"Data Packet\" if `pulseProgress` is active.\n     *\n     * @param {Object} item - The canvas item state\n     * @param {Object} [config] - Optional render config\n     * @param {Number} [config.pulseProgress] - 0 to 1 progress for the pulse animation\n     */","meta":{"range":[14435,23590],"filename":"Sparkline.mjs","lineno":412,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/canvas","code":{"id":"astnode100020563","name":"Sparkline#draw","type":"MethodDefinition","paramnames":["item","config"]},"vars":{"":null}},"description":"<p>The core rendering method.\nHandles:</p>\n<ol>\n<li><strong>Geometry Calculation:</strong> Caches point coordinates and path lengths for consistent speed.</li>\n<li><strong>Base Chart:</strong> Draws the gradient area and the line stroke.</li>\n<li><strong>Scanner Overlay:</strong> Draws the interactive cursor if <code>mouseActive</code> is true.</li>\n<li><strong>Pulse Effect:</strong> Draws the &quot;Data Packet&quot; if <code>pulseProgress</code> is active.</li>\n</ol>\n","params":[{"type":{"names":["Object"]},"description":"<p>The canvas item state</p>\n","name":"item"},{"type":{"names":["Object"]},"optional":true,"description":"<p>Optional render config</p>\n","name":"config"},{"type":{"names":["Number"]},"optional":true,"description":"<p>0 to 1 progress for the pulse animation</p>\n","name":"config.pulseProgress"}],"name":"draw","longname":"Sparkline#draw","kind":"function","memberof":"Sparkline","scope":"instance","$longname":"Sparkline#draw","$kind":"method","id":520,"neoClassName":"Neo.canvas.Sparkline"}]}