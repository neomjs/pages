{"classData":[{"comment":"/**\n * @summary Manages the drag-and-drop reordering of items within a container, with support for window detachment.\n *\n * This class extends `Neo.draggable.container.DragZone` to provide sorting capabilities for `Neo.container.Base` instances.\n * It handles the complex logic of tracking item positions, swapping them during the drag operation, and updating\n * the container's layout upon drop.\n *\n * A key feature of this class is its support for **Window Detachment** (tearing tabs or items out of the main window).\n * When an item is dragged outside the browser window boundaries:\n * 1. The `startWindowDrag` method is triggered.\n * 2. The drag placeholder is hidden.\n * 3. The `calculateExpandedLayout` method dynamically computes a new layout for the remaining items, expanding them\n *    to fill the empty space (animating `width`, `height`, `top`, and `left`).\n * 4. If the drag re-enters the window (`onDragBoundaryEntry`), the original layout snapshot is restored, and the\n *    placeholder reappears, allowing for a seamless return to sorting mode.\n *\n * This class interacts closely with:\n * - `Neo.draggable.DragProxy`: For the visual representation of the dragged item.\n * - `Neo.main.addon.DragDrop`: For communicating drag state across the browser/OS environment.\n *\n * @class Neo.draggable.container.SortZone\n * @extends Neo.draggable.container.DragZone\n * @see Neo.draggable.container.DragZone\n * @see Neo.main.addon.DragDrop\n */","meta":{"filename":"SortZone.mjs","lineno":6,"columnno":0,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"summary":"Manages the drag-and-drop reordering of items within a container, with support for window detachment.\n\nThis class extends `Neo.draggable.container.DragZone` to provide sorting capabilities for `Neo.container.Base` instances.\nIt handles the complex logic of tracking item positions, swapping them during the drag operation, and updating\nthe container's layout upon drop.\n\nA key feature of this class is its support for **Window Detachment** (tearing tabs or items out of the main window).\nWhen an item is dragged outside the browser window boundaries:\n1. The `startWindowDrag` method is triggered.\n2. The drag placeholder is hidden.\n3. The `calculateExpandedLayout` method dynamically computes a new layout for the remaining items, expanding them\n   to fill the empty space (animating `width`, `height`, `top`, and `left`).\n4. If the drag re-enters the window (`onDragBoundaryEntry`), the original layout snapshot is restored, and the\n   placeholder reappears, allowing for a seamless return to sorting mode.\n\nThis class interacts closely with:\n- `Neo.draggable.DragProxy`: For the visual representation of the dragged item.\n- `Neo.main.addon.DragDrop`: For communicating drag state across the browser/OS environment.","kind":"class","name":"SortZone","augments":["Neo.draggable.container.DragZone"],"see":["Neo.draggable.container.DragZone","Neo.main.addon.DragDrop"],"memberof":"Neo.draggable.container","longname":"Neo.draggable.container.SortZone","scope":"static","$longname":"Neo.draggable.container.SortZone","$kind":"class","id":4629,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n         * @member {String} className='Neo.draggable.container.SortZone'\n         * @protected\n         */","meta":{"filename":"SortZone.mjs","lineno":37,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"kind":"member","name":"className","type":{"names":["String"]},"defaultvalue":"'Neo.draggable.container.SortZone'","access":"protected","longname":"className","scope":"global","$longname":"className","$kind":"property","id":4630,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n         * @member {String} ntype='container-sortzone'\n         * @protected\n         */","meta":{"filename":"SortZone.mjs","lineno":42,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"kind":"member","name":"ntype","type":{"names":["String"]},"defaultvalue":"'container-sortzone'","access":"protected","longname":"ntype","scope":"global","$longname":"ntype","$kind":"property","id":4631,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n         * Depending on the parent structure using position absolute and relative, it can be needed to subtract\n         * the x & y parent rect values from the item rects.\n         * @member {Boolean} adjustItemRectsToParent=false\n         */","meta":{"filename":"SortZone.mjs","lineno":48,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"description":"<p>Depending on the parent structure using position absolute and relative, it can be needed to subtract\nthe x &amp; y parent rect values from the item rects.</p>\n","kind":"member","name":"adjustItemRectsToParent","type":{"names":["Boolean"]},"defaultvalue":false,"longname":"adjustItemRectsToParent","scope":"global","$longname":"adjustItemRectsToParent","$kind":"property","id":4632,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n         * @member {Boolean} alwaysFireDragMove=true\n         */","meta":{"filename":"SortZone.mjs","lineno":52,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"kind":"member","name":"alwaysFireDragMove","type":{"names":["Boolean"]},"defaultvalue":true,"longname":"alwaysFireDragMove","scope":"global","$longname":"alwaysFireDragMove","$kind":"property","id":4633,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n         * @member {Number} currentIndex=-1\n         * @protected\n         */","meta":{"filename":"SortZone.mjs","lineno":57,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"kind":"member","name":"currentIndex","type":{"names":["Number"]},"defaultvalue":-1,"access":"protected","longname":"currentIndex","scope":"global","$longname":"currentIndex","$kind":"property","id":4634,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n         * The intersection ratio (0-1) required to detach an item into a new window.\n         * Lower values mean the item must be dragged further out.\n         * @member {Number} detachThreshold=0.8\n         */","meta":{"filename":"SortZone.mjs","lineno":63,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"description":"<p>The intersection ratio (0-1) required to detach an item into a new window.\nLower values mean the item must be dragged further out.</p>\n","kind":"member","name":"detachThreshold","type":{"names":["Number"]},"defaultvalue":0.8,"longname":"detachThreshold","scope":"global","$longname":"detachThreshold","$kind":"property","id":4635,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n         * A CSS selector to identify the drag handle within a component.\n         * If specified, the drag is initiated on this element, but the owning component is dragged.\n         * @member {String|null} dragHandleSelector=null\n         */","meta":{"filename":"SortZone.mjs","lineno":69,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"description":"<p>A CSS selector to identify the drag handle within a component.\nIf specified, the drag is initiated on this element, but the owning component is dragged.</p>\n","kind":"member","name":"dragHandleSelector","type":{"names":["String","null"]},"defaultvalue":null,"longname":"dragHandleSelector","scope":"global","$longname":"dragHandleSelector","$kind":"property","id":4636,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n         * @member {Boolean} enableProxyToPopup=false\n         */","meta":{"filename":"SortZone.mjs","lineno":73,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"kind":"member","name":"enableProxyToPopup","type":{"names":["Boolean"]},"defaultvalue":false,"longname":"enableProxyToPopup","scope":"global","$longname":"enableProxyToPopup","$kind":"property","id":4637,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n         * @member {Object} indexMap=null\n         * @protected\n         */","meta":{"filename":"SortZone.mjs","lineno":78,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"kind":"member","name":"indexMap","type":{"names":["Object"]},"defaultvalue":null,"access":"protected","longname":"indexMap","scope":"global","$longname":"indexMap","$kind":"property","id":4638,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n         * @member {Array|null} itemRects=null\n         * @protected\n         */","meta":{"filename":"SortZone.mjs","lineno":83,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"kind":"member","name":"itemRects","type":{"names":["Array","null"]},"defaultvalue":null,"access":"protected","longname":"itemRects","scope":"global","$longname":"itemRects","$kind":"property","id":4639,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n         * @member {Array|null} itemStyles=null\n         * @protected\n         */","meta":{"filename":"SortZone.mjs","lineno":88,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"kind":"member","name":"itemStyles","type":{"names":["Array","null"]},"defaultvalue":null,"access":"protected","longname":"itemStyles","scope":"global","$longname":"itemStyles","$kind":"property","id":4640,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n         * @member {Number} lastIntersectionRatio=1\n         * @protected\n         */","meta":{"filename":"SortZone.mjs","lineno":93,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"kind":"member","name":"lastIntersectionRatio","type":{"names":["Number"]},"defaultvalue":1,"access":"protected","longname":"lastIntersectionRatio","scope":"global","$longname":"lastIntersectionRatio","$kind":"property","id":4641,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n         * @member {Object} ownerRect=null\n         * @protected\n         */","meta":{"filename":"SortZone.mjs","lineno":98,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"kind":"member","name":"ownerRect","type":{"names":["Object"]},"defaultvalue":null,"access":"protected","longname":"ownerRect","scope":"global","$longname":"ownerRect","$kind":"property","id":4642,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n         * @member {Object} ownerStyle=null\n         * @protected\n         */","meta":{"filename":"SortZone.mjs","lineno":103,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"kind":"member","name":"ownerStyle","type":{"names":["Object"]},"defaultvalue":null,"access":"protected","longname":"ownerStyle","scope":"global","$longname":"ownerStyle","$kind":"property","id":4643,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n         * The intersection ratio (0-1) required to re-attach a window-dragged item back into the container.\n         * Higher values mean the item must be dragged further in.\n         * @member {Number} reattachThreshold=0.6\n         */","meta":{"filename":"SortZone.mjs","lineno":109,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"description":"<p>The intersection ratio (0-1) required to re-attach a window-dragged item back into the container.\nHigher values mean the item must be dragged further in.</p>\n","kind":"member","name":"reattachThreshold","type":{"names":["Number"]},"defaultvalue":0.6,"longname":"reattachThreshold","scope":"global","$longname":"reattachThreshold","$kind":"property","id":4644,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n         * @member {Boolean} alwaysFireDragMove=false\n         * @protected\n         */","meta":{"filename":"SortZone.mjs","lineno":114,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"kind":"member","name":"alwaysFireDragMove","type":{"names":["Boolean"]},"defaultvalue":false,"access":"protected","longname":"alwaysFireDragMove","scope":"global","$longname":"alwaysFireDragMove","$kind":"property","id":4645,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n         * @member {Number} scrollLeft=0\n         */","meta":{"filename":"SortZone.mjs","lineno":118,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"kind":"member","name":"scrollLeft","type":{"names":["Number"]},"defaultvalue":0,"longname":"scrollLeft","scope":"global","$longname":"scrollLeft","$kind":"property","id":4646,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n         * @member {Number} scrollTop=0\n         */","meta":{"filename":"SortZone.mjs","lineno":122,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"kind":"member","name":"scrollTop","type":{"names":["Number"]},"defaultvalue":0,"longname":"scrollTop","scope":"global","$longname":"scrollTop","$kind":"property","id":4647,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n         * Internal flag: onDragStart() will set the value to horizontal or vertical, depending on the current layout.\n         * @member {String} sortDirection='horizontal'\n         * @protected\n         */","meta":{"filename":"SortZone.mjs","lineno":128,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"description":"<p>Internal flag: onDragStart() will set the value to horizontal or vertical, depending on the current layout.</p>\n","kind":"member","name":"sortDirection","type":{"names":["String"]},"defaultvalue":"'horizontal'","access":"protected","longname":"sortDirection","scope":"global","$longname":"sortDirection","$kind":"property","id":4648,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n         * @member {Number} startIndex=-1\n         * @protected\n         */","meta":{"filename":"SortZone.mjs","lineno":133,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"kind":"member","name":"startIndex","type":{"names":["Number"]},"defaultvalue":-1,"access":"protected","longname":"startIndex","scope":"global","$longname":"startIndex","$kind":"property","id":4649,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n     * @member {Boolean} isOverDragging=false\n     * @protected\n     */","meta":{"filename":"SortZone.mjs","lineno":140,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"kind":"member","name":"isOverDragging","type":{"names":["Boolean"]},"defaultvalue":false,"access":"protected","longname":"isOverDragging","scope":"global","$longname":"isOverDragging","$kind":"property","id":4650,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n     * @member {Boolean} isWindowDragging=false\n     * @protected\n     */","meta":{"filename":"SortZone.mjs","lineno":145,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{}},"kind":"member","name":"isWindowDragging","type":{"names":["Boolean"]},"defaultvalue":false,"access":"protected","longname":"isWindowDragging","scope":"global","$longname":"isWindowDragging","$kind":"property","id":4651,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n     * Toggles the neo-draggable cls on items inside our owner.\n     * @param {Boolean} draggable\n     */","meta":{"range":[5200,5900],"filename":"SortZone.mjs","lineno":151,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{"id":"astnode100058298","name":"SortZone#adjustItemCls","type":"MethodDefinition","paramnames":["draggable"]},"vars":{"":null}},"description":"<p>Toggles the neo-draggable cls on items inside our owner.</p>\n","params":[{"type":{"names":["Boolean"]},"name":"draggable"}],"name":"adjustItemCls","longname":"SortZone#adjustItemCls","kind":"function","memberof":"SortZone","scope":"instance","$longname":"SortZone#adjustItemCls","$kind":"method","id":4652,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n     * @param {Object} data\n     * @returns {Boolean} true if the method processing should stop\n     */","meta":{"range":[6018,8901],"filename":"SortZone.mjs","lineno":174,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{"id":"astnode100058398","name":"SortZone#checkWindowBoundary","type":"MethodDefinition","paramnames":["data"]},"vars":{"":null}},"params":[{"type":{"names":["Object"]},"name":"data"}],"returns":[{"type":{"names":["Boolean"]},"description":"true if the method processing should stop"}],"name":"checkWindowBoundary","longname":"SortZone#checkWindowBoundary","kind":"function","memberof":"SortZone","scope":"instance","$longname":"SortZone#checkWindowBoundary","$kind":"method","id":4653,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n     * Helper method, override as needed\n     * @returns {Object}\n     */","meta":{"range":[8989,9084],"filename":"SortZone.mjs","lineno":246,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{"id":"astnode100058665","name":"SortZone#getDragProxyConfig","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Helper method, override as needed</p>\n","returns":[{"type":{"names":["Object"]}}],"name":"getDragProxyConfig","longname":"SortZone#getDragProxyConfig","kind":"function","memberof":"SortZone","scope":"instance","params":[],"$longname":"SortZone#getDragProxyConfig","$kind":"method","id":4654,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n     * Override this method for class extensions (e.g. tab.header.Toolbar)\n     * @param {Number} fromIndex\n     * @param {Number} toIndex\n     */","meta":{"range":[9245,9326],"filename":"SortZone.mjs","lineno":255,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{"id":"astnode100058683","name":"SortZone#moveTo","type":"MethodDefinition","paramnames":["fromIndex","toIndex"]},"vars":{"":null}},"description":"<p>Override this method for class extensions (e.g. tab.header.Toolbar)</p>\n","params":[{"type":{"names":["Number"]},"name":"fromIndex"},{"type":{"names":["Number"]},"name":"toIndex"}],"name":"moveTo","longname":"SortZone#moveTo","kind":"function","memberof":"SortZone","scope":"instance","$longname":"SortZone#moveTo","$kind":"method","id":4655,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n     * Handles the completion of the drag operation.\n     *\n     * This method is responsible for:\n     * 1.  **Finalizing the Drop:** If valid, it moves the DOM nodes to their final positions (via `Neo.applyDeltas`).\n     * 2.  **Cleanup:** Removes the drag placeholder and resets internal state flags (`isWindowDragging`, `currentIndex`, etc.).\n     * 3.  **Layout Restoration:** Resets the styles of all items (clearing the absolute positioning used during the drag)\n     *     so they return to the container's natural layout flow.\n     * 4.  **State Synchronization:** Calls `owner.moveTo()` to update the container's `items` array to reflect the new order.\n     *\n     * @param {Object} data - The drag end event data.\n     */","meta":{"range":[10073,14075],"filename":"SortZone.mjs","lineno":271,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{"id":"astnode100058698","name":"SortZone#onDragEnd","type":"MethodDefinition","paramnames":["data"]},"vars":{"":null}},"description":"<p>Handles the completion of the drag operation.</p>\n<p>This method is responsible for:</p>\n<ol>\n<li><strong>Finalizing the Drop:</strong> If valid, it moves the DOM nodes to their final positions (via <code>Neo.applyDeltas</code>).</li>\n<li><strong>Cleanup:</strong> Removes the drag placeholder and resets internal state flags (<code>isWindowDragging</code>, <code>currentIndex</code>, etc.).</li>\n<li><strong>Layout Restoration:</strong> Resets the styles of all items (clearing the absolute positioning used during the drag)\nso they return to the container&#39;s natural layout flow.</li>\n<li><strong>State Synchronization:</strong> Calls <code>owner.moveTo()</code> to update the container&#39;s <code>items</code> array to reflect the new order.</li>\n</ol>\n","params":[{"type":{"names":["Object"]},"description":"<p>The drag end event data.</p>\n","name":"data"}],"name":"onDragEnd","longname":"SortZone#onDragEnd","kind":"function","memberof":"SortZone","scope":"instance","async":true,"$longname":"SortZone#onDragEnd","$kind":"method","id":4656,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n     * Handles the drag move event. This is the core logic loop for the drag operation.\n     *\n     * Responsibilities:\n     * 1.  **Window Drag Re-entry:** Checks if a window drag has re-entered the original container boundaries.\n     *     If so, it restores the original layout snapshot (`itemRects`) and shows the placeholder, effectively\n     *     \"snapping\" the dashboard back to its sortable state.\n     * 2.  **Window Drag Exit:** Detects if the drag proxy has left the container boundaries (if `enableProxyToPopup` is true)\n     *     and triggers the `dragBoundaryExit` event to potentially start a window drag.\n     * 3.  **Standard Sorting:** If not in window-drag mode, it calculates the drag delta and swaps items (`switchItems`)\n     *     if the threshold is crossed, updating the `currentIndex`.\n     * 4.  **Auto-Scrolling:** Manages auto-scrolling when dragging near the edges of the container.\n     *\n     * @param {Object} data The drag move event data.\n     */","meta":{"range":[15073,18249],"filename":"SortZone.mjs","lineno":393,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{"id":"astnode100059056","name":"SortZone#onDragMove","type":"MethodDefinition","paramnames":["data"]},"vars":{"":null}},"description":"<p>Handles the drag move event. This is the core logic loop for the drag operation.</p>\n<p>Responsibilities:</p>\n<ol>\n<li><strong>Window Drag Re-entry:</strong> Checks if a window drag has re-entered the original container boundaries.\nIf so, it restores the original layout snapshot (<code>itemRects</code>) and shows the placeholder, effectively\n&quot;snapping&quot; the dashboard back to its sortable state.</li>\n<li><strong>Window Drag Exit:</strong> Detects if the drag proxy has left the container boundaries (if <code>enableProxyToPopup</code> is true)\nand triggers the <code>dragBoundaryExit</code> event to potentially start a window drag.</li>\n<li><strong>Standard Sorting:</strong> If not in window-drag mode, it calculates the drag delta and swaps items (<code>switchItems</code>)\nif the threshold is crossed, updating the <code>currentIndex</code>.</li>\n<li><strong>Auto-Scrolling:</strong> Manages auto-scrolling when dragging near the edges of the container.</li>\n</ol>\n","params":[{"type":{"names":["Object"]},"description":"<p>The drag move event data.</p>\n","name":"data"}],"name":"onDragMove","longname":"SortZone#onDragMove","kind":"function","memberof":"SortZone","scope":"instance","async":true,"$longname":"SortZone#onDragMove","$kind":"method","id":4657,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n     * Initializes the drag operation.\n     *\n     * Key actions:\n     * 1.  **Identify Drag Target:** Determines which item is being dragged (handling `dragHandleSelector` if present).\n     * 2.  **Snapshot Layout:** Captures the current DOM rectangles (`itemRects`) of all sortable items. This snapshot\n     *     is critical for:\n     *     - Calculating drag deltas for sorting.\n     *     - Restoring the layout after a window drag re-entry.\n     *     - Inferring gaps and offsets for `calculateExpandedLayout`.\n     * 3.  **Setup Proxy & Placeholder:** Configures the visual drag proxy and inserts the placeholder into the `sortableItems` list.\n     * 4.  **Apply Absolute Positioning:** Temporarily switches all items to `position: absolute` based on their captured\n     *     coordinates to enable smooth, GPU-accelerated movement during the drag.\n     *\n     * @param {Object} data - The drag start event data.\n     */","meta":{"range":[19192,25283],"filename":"SortZone.mjs","lineno":490,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{"id":"astnode100059474","name":"SortZone#onDragStart","type":"MethodDefinition","paramnames":["data"]},"vars":{"":null}},"description":"<p>Initializes the drag operation.</p>\n<p>Key actions:</p>\n<ol>\n<li><strong>Identify Drag Target:</strong> Determines which item is being dragged (handling <code>dragHandleSelector</code> if present).</li>\n<li><strong>Snapshot Layout:</strong> Captures the current DOM rectangles (<code>itemRects</code>) of all sortable items. This snapshot\nis critical for:<ul>\n<li>Calculating drag deltas for sorting.</li>\n<li>Restoring the layout after a window drag re-entry.</li>\n<li>Inferring gaps and offsets for <code>calculateExpandedLayout</code>.</li>\n</ul>\n</li>\n<li><strong>Setup Proxy &amp; Placeholder:</strong> Configures the visual drag proxy and inserts the placeholder into the <code>sortableItems</code> list.</li>\n<li><strong>Apply Absolute Positioning:</strong> Temporarily switches all items to <code>position: absolute</code> based on their captured\ncoordinates to enable smooth, GPU-accelerated movement during the drag.</li>\n</ol>\n","params":[{"type":{"names":["Object"]},"description":"<p>The drag start event data.</p>\n","name":"data"}],"name":"onDragStart","longname":"SortZone#onDragStart","kind":"function","memberof":"SortZone","scope":"instance","async":true,"$longname":"SortZone#onDragStart","$kind":"method","id":4658,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n     * @param {Number} intersectionRatio\n     * @param {Object} data\n     */","meta":{"range":[25374,25422],"filename":"SortZone.mjs","lineno":647,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{"id":"astnode100060276","name":"SortZone#onWindowDragContinue","type":"MethodDefinition","paramnames":["intersectionRatio","data"]},"vars":{"":null}},"params":[{"type":{"names":["Number"]},"name":"intersectionRatio"},{"type":{"names":["Object"]},"name":"data"}],"name":"onWindowDragContinue","longname":"SortZone#onWindowDragContinue","kind":"function","memberof":"SortZone","scope":"instance","$longname":"SortZone#onWindowDragContinue","$kind":"method","id":4659,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n     * @returns {Promise<void>}\n     */","meta":{"range":[25476,25679],"filename":"SortZone.mjs","lineno":652,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{"id":"astnode100060282","name":"SortZone#scrollToIndex","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"returns":[{"type":{"names":["Promise.<void>"]}}],"name":"scrollToIndex","longname":"SortZone#scrollToIndex","kind":"function","memberof":"SortZone","scope":"instance","params":[],"async":true,"$longname":"SortZone#scrollToIndex","$kind":"method","id":4660,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n     * Swaps two items in the sort list, updating their layout coordinates and the internal index map.\n     *\n     * This method handles the physical reordering of items during a drag operation. It performs the following:\n     * 1.  **Normalization:** Ensures indices are ordered correctly based on layout direction.\n     * 2.  **Geometry Calculation:** Swaps the dimensions (width/height) of the two items and recalculates\n     *     their positions (x/y), preserving the original gap between them. This ensures that items of different\n     *     sizes swap correctly without breaking the layout structure.\n     * 3.  **State Update:** Updates the `indexMap` to reflect the new logical order of items.\n     * 4.  **Visual Update:** Calls `updateItem` to apply the new coordinates to the DOM.\n     *\n     * @param {Number} index1 - The index of the first item to swap.\n     * @param {Number} index2 - The index of the second item to swap.\n     */","meta":{"range":[26640,27883],"filename":"SortZone.mjs","lineno":674,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{"id":"astnode100060305","name":"SortZone#switchItems","type":"MethodDefinition","paramnames":["index1","index2"]},"vars":{"":null}},"description":"<p>Swaps two items in the sort list, updating their layout coordinates and the internal index map.</p>\n<p>This method handles the physical reordering of items during a drag operation. It performs the following:</p>\n<ol>\n<li><strong>Normalization:</strong> Ensures indices are ordered correctly based on layout direction.</li>\n<li><strong>Geometry Calculation:</strong> Swaps the dimensions (width/height) of the two items and recalculates\ntheir positions (x/y), preserving the original gap between them. This ensures that items of different\nsizes swap correctly without breaking the layout structure.</li>\n<li><strong>State Update:</strong> Updates the <code>indexMap</code> to reflect the new logical order of items.</li>\n<li><strong>Visual Update:</strong> Calls <code>updateItem</code> to apply the new coordinates to the DOM.</li>\n</ol>\n","params":[{"type":{"names":["Number"]},"description":"<p>The index of the first item to swap.</p>\n","name":"index1"},{"type":{"names":["Number"]},"description":"<p>The index of the second item to swap.</p>\n","name":"index2"}],"name":"switchItems","longname":"SortZone#switchItems","kind":"function","memberof":"SortZone","scope":"instance","$longname":"SortZone#switchItems","$kind":"method","id":4661,"neoClassName":"Neo.draggable.container.SortZone"},{"comment":"/**\n     * @param {Number} index\n     * @param {Object} rect\n     */","meta":{"range":[27962,28631],"filename":"SortZone.mjs","lineno":718,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/draggable/container","code":{"id":"astnode100060511","name":"SortZone#updateItem","type":"MethodDefinition","paramnames":["index","rect"]},"vars":{"":null}},"params":[{"type":{"names":["Number"]},"name":"index"},{"type":{"names":["Object"]},"name":"rect"}],"name":"updateItem","longname":"SortZone#updateItem","kind":"function","memberof":"SortZone","scope":"instance","$longname":"SortZone#updateItem","$kind":"method","id":4662,"neoClassName":"Neo.draggable.container.SortZone"}]}