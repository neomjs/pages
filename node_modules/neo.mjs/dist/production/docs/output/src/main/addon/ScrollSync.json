{"classData":[{"comment":"/**\n * @summary This main thread addon is responsible for synchronizing the scroll positions of two DOM nodes.\n *\n * This addon is a key part of Neo.mjs's strategy for creating high-performance, virtualized components like grids and lists.\n * In a multi-threaded environment, the component that renders the data (e.g., the grid body, running in the app worker)\n * is often decoupled from the element that displays the scrollbar (which might be a custom component).\n *\n * By centralizing the scroll event handling in the main thread, `ScrollSync` can efficiently listen to DOM scroll events\n * and update the scroll position of a target node without the need for expensive, high-frequency communication between workers.\n * This makes it essential for implementing custom scrollbars or linking the scroll behavior of separate UI elements.\n *\n * This class manages registrations for scroll synchronization, allowing for both one-way and two-way binding between elements.\n *\n * Key concepts: scroll synchronization, custom scrollbar, virtual scrolling, grid, main thread addon, DOM manipulation, event handling.\n *\n * @class Neo.main.addon.ScrollSync\n * @extends Neo.main.addon.Base\n * @see Neo.grid.VerticalScrollbar\n * @see Neo.grid.Container\n */","meta":{"filename":"ScrollSync.mjs","lineno":4,"columnno":0,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/main/addon","code":{}},"summary":"This main thread addon is responsible for synchronizing the scroll positions of two DOM nodes.\n\nThis addon is a key part of Neo.mjs's strategy for creating high-performance, virtualized components like grids and lists.\nIn a multi-threaded environment, the component that renders the data (e.g., the grid body, running in the app worker)\nis often decoupled from the element that displays the scrollbar (which might be a custom component).\n\nBy centralizing the scroll event handling in the main thread, `ScrollSync` can efficiently listen to DOM scroll events\nand update the scroll position of a target node without the need for expensive, high-frequency communication between workers.\nThis makes it essential for implementing custom scrollbars or linking the scroll behavior of separate UI elements.\n\nThis class manages registrations for scroll synchronization, allowing for both one-way and two-way binding between elements.\n\nKey concepts: scroll synchronization, custom scrollbar, virtual scrolling, grid, main thread addon, DOM manipulation, event handling.","kind":"class","name":"ScrollSync","augments":["Neo.main.addon.Base"],"see":["Neo.grid.VerticalScrollbar","Neo.grid.Container"],"memberof":"Neo.main.addon","longname":"Neo.main.addon.ScrollSync","scope":"static","$longname":"Neo.main.addon.ScrollSync","$kind":"class","id":5396,"neoClassName":"Neo.main.addon.ScrollSync"},{"comment":"/**\n         * @member {String} className='Neo.main.addon.ScrollSync'\n         * @protected\n         */","meta":{"filename":"ScrollSync.mjs","lineno":30,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/main/addon","code":{}},"kind":"member","name":"className","type":{"names":["String"]},"defaultvalue":"'Neo.main.addon.ScrollSync'","access":"protected","longname":"className","scope":"global","$longname":"className","$kind":"property","id":5397,"neoClassName":"Neo.main.addon.ScrollSync"},{"comment":"/**\n         * Remote method access for other workers\n         * @member {Object} remote\n         * @protected\n         */","meta":{"filename":"ScrollSync.mjs","lineno":36,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/main/addon","code":{}},"description":"<p>Remote method access for other workers</p>\n","kind":"member","name":"remote","type":{"names":["Object"]},"access":"protected","longname":"remote","scope":"global","$longname":"remote","$kind":"property","id":5398,"neoClassName":"Neo.main.addon.ScrollSync"},{"comment":"/**\n     * @member {Boolean} isTouching=false\n     * @protected\n     */","meta":{"filename":"ScrollSync.mjs","lineno":48,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/main/addon","code":{}},"kind":"member","name":"isTouching","type":{"names":["Boolean"]},"defaultvalue":false,"access":"protected","longname":"isTouching","scope":"global","$longname":"isTouching","$kind":"property","id":5399,"neoClassName":"Neo.main.addon.ScrollSync"},{"comment":"/**\n     * @member {Map<String, Object>} registrations=new Map()\n     * @protected\n     */","meta":{"filename":"ScrollSync.mjs","lineno":53,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/main/addon","code":{}},"kind":"member","name":"registrations","type":{"names":["Map.<String, Object>"]},"defaultvalue":"new Map()","description":"<p>Map()</p>\n","access":"protected","longname":"registrations","scope":"global","$longname":"registrations","$kind":"property","id":5400,"neoClassName":"Neo.main.addon.ScrollSync"},{"comment":"/**\n     * Sets up the addon by adding global touch event listeners to the document body.\n     * @param {Object} config\n     */","meta":{"range":[2155,2528],"filename":"ScrollSync.mjs","lineno":59,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/main/addon","code":{"id":"astnode100025926","name":"ScrollSync#construct","type":"MethodDefinition","paramnames":["config"]},"vars":{"":null}},"description":"<p>Sets up the addon by adding global touch event listeners to the document body.</p>\n","params":[{"type":{"names":["Object"]},"name":"config"}],"name":"construct","longname":"ScrollSync#construct","kind":"function","memberof":"ScrollSync","scope":"instance","$longname":"ScrollSync#construct","$kind":"method","id":5401,"neoClassName":"Neo.main.addon.ScrollSync"},{"comment":"/**\n     * Sets the isTouching flag to true when a touch interaction starts.\n     */","meta":{"range":[2623,2677],"filename":"ScrollSync.mjs","lineno":72,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/main/addon","code":{"id":"astnode100025995","name":"ScrollSync#onTouchStart","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Sets the isTouching flag to true when a touch interaction starts.</p>\n","name":"onTouchStart","longname":"ScrollSync#onTouchStart","kind":"function","memberof":"ScrollSync","scope":"instance","params":[],"$longname":"ScrollSync#onTouchStart","$kind":"method","id":5402,"neoClassName":"Neo.main.addon.ScrollSync"},{"comment":"/**\n     * Sets the isTouching flag to false when a touch interaction ends.\n     */","meta":{"range":[2771,2824],"filename":"ScrollSync.mjs","lineno":79,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/main/addon","code":{"id":"astnode100026005","name":"ScrollSync#onTouchEnd","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Sets the isTouching flag to false when a touch interaction ends.</p>\n","name":"onTouchEnd","longname":"ScrollSync#onTouchEnd","kind":"function","memberof":"ScrollSync","scope":"instance","params":[],"$longname":"ScrollSync#onTouchEnd","$kind":"method","id":5403,"neoClassName":"Neo.main.addon.ScrollSync"},{"comment":"/**\n     * Creates and attaches a scroll event listener to a DOM node.\n     * @param {String} fromId      - The ID of the DOM node to listen to for scroll events.\n     * @param {String} toId        - The ID of the DOM node to scroll when the event is fired.\n     * @param {String} direction   - The scroll direction to sync ('vertical', 'horizontal', or 'both').\n     * @param {Boolean} isSyncBack - True if this listener is for the sync back in a two-way binding.\n     * @returns {Function|null} The created listener function, or null if the element does not exist.\n     */","meta":{"range":[3409,3649],"filename":"ScrollSync.mjs","lineno":91,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/main/addon","code":{"id":"astnode100026015","name":"ScrollSync#addScrollListener","type":"MethodDefinition","paramnames":["fromId","toId","direction","isSyncBack"]},"vars":{"":null}},"description":"<p>Creates and attaches a scroll event listener to a DOM node.</p>\n","params":[{"type":{"names":["String"]},"description":"<p>The ID of the DOM node to listen to for scroll events.</p>\n","name":"fromId"},{"type":{"names":["String"]},"description":"<p>The ID of the DOM node to scroll when the event is fired.</p>\n","name":"toId"},{"type":{"names":["String"]},"description":"<p>The scroll direction to sync (&#39;vertical&#39;, &#39;horizontal&#39;, or &#39;both&#39;).</p>\n","name":"direction"},{"type":{"names":["Boolean"]},"description":"<p>True if this listener is for the sync back in a two-way binding.</p>\n","name":"isSyncBack"}],"returns":[{"type":{"names":["function","null"]},"description":"The created listener function, or null if the element does not exist."}],"name":"addScrollListener","longname":"ScrollSync#addScrollListener","kind":"function","memberof":"ScrollSync","scope":"instance","$longname":"ScrollSync#addScrollListener","$kind":"method","id":5404,"neoClassName":"Neo.main.addon.ScrollSync"},{"comment":"/**\n     * The main event handler for scroll events.\n     * It programmatically scrolls the target node (`toId`) based on the scroll position of the source node (`event.target`).\n     * It will prevent the sync back call during a touch interaction to avoid feedback loops.\n     * @param {String} toId\n     * @param {String} direction\n     * @param {Boolean} isSyncBack\n     * @param {Event}  event\n     */","meta":{"range":[4065,4761],"filename":"ScrollSync.mjs","lineno":106,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/main/addon","code":{"id":"astnode100026040","name":"ScrollSync#onScroll","type":"MethodDefinition","paramnames":["toId","direction","isSyncBack","event"]},"vars":{"":null}},"description":"<p>The main event handler for scroll events.\nIt programmatically scrolls the target node (<code>toId</code>) based on the scroll position of the source node (<code>event.target</code>).\nIt will prevent the sync back call during a touch interaction to avoid feedback loops.</p>\n","params":[{"type":{"names":["String"]},"name":"toId"},{"type":{"names":["String"]},"name":"direction"},{"type":{"names":["Boolean"]},"name":"isSyncBack"},{"type":{"names":["Event"]},"name":"event"}],"name":"onScroll","longname":"ScrollSync#onScroll","kind":"function","memberof":"ScrollSync","scope":"instance","$longname":"ScrollSync#onScroll","$kind":"method","id":5405,"neoClassName":"Neo.main.addon.ScrollSync"},{"comment":"/**\n     * Registers a scroll synchronization between two DOM nodes.\n     * The method is idempotent: calling it multiple times with the same `id` will not create duplicate listeners.\n     * If the registration parameters have changed, the old registration will be removed and a new one will be created.\n     * @param {Object}  data\n     * @param {String}  direction='vertical' 'horizontal', 'vertical' or 'both'\n     * @param {String}  fromId\n     * @param {String}  id                   A unique identifier for this registration.\n     * @param {String}  toId\n     * @param {Boolean} twoWay=true          Sync the target's scroll state back to the source node\n     */","meta":{"range":[5440,6616],"filename":"ScrollSync.mjs","lineno":140,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/main/addon","code":{"id":"astnode100026115","name":"ScrollSync#register","type":"MethodDefinition","paramnames":[""]},"vars":{"":null}},"description":"<p>Registers a scroll synchronization between two DOM nodes.\nThe method is idempotent: calling it multiple times with the same <code>id</code> will not create duplicate listeners.\nIf the registration parameters have changed, the old registration will be removed and a new one will be created.</p>\n","params":[{"type":{"names":["Object"]},"name":"data"},{"type":{"names":["String"]},"defaultvalue":"'vertical'","description":"<p>&#39;horizontal&#39;, &#39;vertical&#39; or &#39;both&#39;</p>\n","name":"direction"},{"type":{"names":["String"]},"name":"fromId"},{"type":{"names":["String"]},"description":"<p>A unique identifier for this registration.</p>\n","name":"id"},{"type":{"names":["String"]},"name":"toId"},{"type":{"names":["Boolean"]},"defaultvalue":true,"description":"<p>Sync the target&#39;s scroll state back to the source node</p>\n","name":"twoWay"}],"name":"register","longname":"ScrollSync#register","kind":"function","memberof":"ScrollSync","scope":"instance","$longname":"ScrollSync#register","$kind":"method","id":5406,"neoClassName":"Neo.main.addon.ScrollSync"},{"comment":"/**\n     * Removes a scroll synchronization registration.\n     * This method is safe to call even if the DOM nodes have already been removed.\n     * @param {Object} data\n     * @param {String} data.id The unique identifier for the registration to remove.\n     */","meta":{"range":[6889,7419],"filename":"ScrollSync.mjs","lineno":184,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/main/addon","code":{"id":"astnode100026259","name":"ScrollSync#unregister","type":"MethodDefinition","paramnames":[""]},"vars":{"":null}},"description":"<p>Removes a scroll synchronization registration.\nThis method is safe to call even if the DOM nodes have already been removed.</p>\n","params":[{"type":{"names":["Object"]},"name":"data"},{"type":{"names":["String"]},"description":"<p>The unique identifier for the registration to remove.</p>\n","name":"data.id"}],"name":"unregister","longname":"ScrollSync#unregister","kind":"function","memberof":"ScrollSync","scope":"instance","$longname":"ScrollSync#unregister","$kind":"method","id":5407,"neoClassName":"Neo.main.addon.ScrollSync"}]}