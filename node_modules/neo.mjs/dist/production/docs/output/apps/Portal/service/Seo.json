{"classData":[{"comment":"/**\n * @summary Manages SEO metadata for the Portal application, fetching it from a JSON file\n * and intelligently updating the document head based on route changes.\n *\n * This singleton service is responsible for centralizing all SEO-related logic.\n * It fetches route-specific title and description metadata from `apps/portal/resources/data/seo.json`\n * during its asynchronous initialization. It then provides a mechanism for the `ViewportController`\n * to notify it of route changes. The service ensures that the document's `<title>` and `<meta name=\"description\">`\n * tags are updated only when the service is fully ready and with the most recent route hash,\n * preventing race conditions on slow network connections.\n *\n * This class demonstrates the use of asynchronous initialization (`initAsync`), reactive config hooks (`afterSetIsReady`),\n * and private class fields to manage internal state and ensure robust behavior.\n *\n * @class Portal.service.Seo\n * @extends Neo.core.Base\n * @singleton\n * @see Portal.view.ViewportController\n */","meta":{"filename":"Seo.mjs","lineno":3,"columnno":0,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/service","code":{}},"summary":"Manages SEO metadata for the Portal application, fetching it from a JSON file\nand intelligently updating the document head based on route changes.\n\nThis singleton service is responsible for centralizing all SEO-related logic.\nIt fetches route-specific title and description metadata from `apps/portal/resources/data/seo.json`\nduring its asynchronous initialization. It then provides a mechanism for the `ViewportController`\nto notify it of route changes. The service ensures that the document's `<title>` and `<meta name=\"description\">`\ntags are updated only when the service is fully ready and with the most recent route hash,\npreventing race conditions on slow network connections.\n\nThis class demonstrates the use of asynchronous initialization (`initAsync`), reactive config hooks (`afterSetIsReady`),\nand private class fields to manage internal state and ensure robust behavior.","kind":"class","name":"Seo","augments":["Neo.core.Base"],"tags":[{"originalTitle":"singleton","title":"singleton","text":""}],"see":["Portal.view.ViewportController"],"memberof":"Portal.service","longname":"Portal.service.Seo","scope":"static","$longname":"Portal.service.Seo","$kind":"class","id":6857,"neoClassName":"Portal.service.Seo"},{"comment":"/**\n         * @member {String} className='Portal.service.Seo'\n         * @protected\n         */","meta":{"filename":"Seo.mjs","lineno":28,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/service","code":{}},"kind":"member","name":"className","type":{"names":["String"]},"defaultvalue":"'Portal.service.Seo'","access":"protected","longname":"className","scope":"global","$longname":"className","$kind":"property","id":6858,"neoClassName":"Portal.service.Seo"},{"comment":"/**\n         * @member {Boolean} singleton=true\n         * @protected\n         */","meta":{"filename":"Seo.mjs","lineno":33,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/service","code":{}},"kind":"member","name":"singleton","type":{"names":["Boolean"]},"defaultvalue":true,"access":"protected","longname":"singleton","scope":"global","$longname":"singleton","$kind":"property","id":6859,"neoClassName":"Portal.service.Seo"},{"comment":"/**\n     * Stores the most recent route hash received from `onRouteChanged()`.\n     * This is used to process a pending route update if the service becomes ready after a route change occurred.\n     * @member {String|null} #lastRouteHash=null\n     * @private\n     */","meta":{"filename":"Seo.mjs","lineno":42,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/service","code":{}},"description":"<p>Stores the most recent route hash received from <code>onRouteChanged()</code>.\nThis is used to process a pending route update if the service becomes ready after a route change occurred.</p>\n","kind":"member","name":"#lastRouteHash","type":{"names":["String","null"]},"defaultvalue":null,"access":"private","longname":"#lastRouteHash","scope":"global","$longname":"#lastRouteHash","$kind":"property","id":6860,"neoClassName":"Portal.service.Seo"},{"comment":"/**\n     * Caches the SEO metadata fetched from `apps/portal/resources/data/seo.json`.\n     * This object maps route hash strings to their corresponding title and description.\n     * @member {Object|null} #metadata=null\n     * @private\n     */","meta":{"filename":"Seo.mjs","lineno":49,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/service","code":{}},"description":"<p>Caches the SEO metadata fetched from <code>apps/portal/resources/data/seo.json</code>.\nThis object maps route hash strings to their corresponding title and description.</p>\n","kind":"member","name":"#metadata","type":{"names":["Object","null"]},"defaultvalue":null,"access":"private","longname":"#metadata","scope":"global","$longname":"#metadata","$kind":"property","id":6861,"neoClassName":"Portal.service.Seo"},{"comment":"/**\n     * Hook that fires after the `isReady` config changes. If the service becomes ready (`value` is true)\n     * and there's a pending route hash (`#lastRouteHash` is not null), it triggers an update\n     * of the document head with the metadata for that route.\n     * @param {Boolean} value The new value of the `isReady` config.\n     * @param {Boolean} oldValue The old value of the `isReady` config.\n     * @protected\n     */","meta":{"range":[2415,2575],"filename":"Seo.mjs","lineno":59,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/service","code":{"id":"astnode100011038","name":"Seo#afterSetIsReady","type":"MethodDefinition","paramnames":["value","oldValue"]},"vars":{"":null}},"description":"<p>Hook that fires after the <code>isReady</code> config changes. If the service becomes ready (<code>value</code> is true)\nand there&#39;s a pending route hash (<code>#lastRouteHash</code> is not null), it triggers an update\nof the document head with the metadata for that route.</p>\n","params":[{"type":{"names":["Boolean"]},"description":"<p>The new value of the <code>isReady</code> config.</p>\n","name":"value"},{"type":{"names":["Boolean"]},"description":"<p>The old value of the <code>isReady</code> config.</p>\n","name":"oldValue"}],"access":"protected","name":"afterSetIsReady","longname":"Seo#afterSetIsReady","kind":"function","memberof":"Seo","scope":"instance","$longname":"Seo#afterSetIsReady","$kind":"method","id":6862,"neoClassName":"Portal.service.Seo"},{"comment":"/**\n     * Retrieves the SEO metadata (title and description) for a given route hash.\n     * @param {String} route The route hash string (e.g., '/home', '/blog').\n     * @returns {Object|null} An object containing `title` and `description` for the route, or `null` if not found.\n     */","meta":{"range":[2872,2945],"filename":"Seo.mjs","lineno":70,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/service","code":{"id":"astnode100011062","name":"Seo#getMetadata","type":"MethodDefinition","paramnames":["route"]},"vars":{"":null}},"description":"<p>Retrieves the SEO metadata (title and description) for a given route hash.</p>\n","params":[{"type":{"names":["String"]},"description":"<p>The route hash string (e.g., &#39;/home&#39;, &#39;/blog&#39;).</p>\n","name":"route"}],"returns":[{"type":{"names":["Object","null"]},"description":"An object containing `title` and `description` for the route, or `null` if not found."}],"name":"getMetadata","longname":"Seo#getMetadata","kind":"function","memberof":"Seo","scope":"instance","$longname":"Seo#getMetadata","$kind":"method","id":6863,"neoClassName":"Portal.service.Seo"},{"comment":"/**\n     * Asynchronously initializes the SEO service by fetching the `seo.json` file.\n     * This method simulates an API call to retrieve SEO data, making the service ready\n     * to provide metadata. It ensures that the service is fully loaded before processing\n     * any route-related document head updates.\n     * @returns {Promise<void>} A promise that resolves when the metadata has been fetched and parsed.\n     */","meta":{"range":[3379,3832],"filename":"Seo.mjs","lineno":81,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/service","code":{"id":"astnode100011071","name":"Seo#initAsync","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Asynchronously initializes the SEO service by fetching the <code>seo.json</code> file.\nThis method simulates an API call to retrieve SEO data, making the service ready\nto provide metadata. It ensures that the service is fully loaded before processing\nany route-related document head updates.</p>\n","returns":[{"type":{"names":["Promise.<void>"]},"description":"A promise that resolves when the metadata has been fetched and parsed."}],"name":"initAsync","longname":"Seo#initAsync","kind":"function","memberof":"Seo","scope":"instance","params":[],"async":true,"$longname":"Seo#initAsync","$kind":"method","id":6864,"neoClassName":"Portal.service.Seo"},{"comment":"/**\n     * Called by the `ViewportController` when the application's route changes.\n     * This method stores the new route hash and attempts to update the document head.\n     * If the service is not yet ready (i.e., `initAsync` is still running), the update\n     * is deferred until `isReady` becomes true.\n     * @param {String} hash The new route hash string.\n     */","meta":{"range":[4213,4324],"filename":"Seo.mjs","lineno":102,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/service","code":{"id":"astnode100011130","name":"Seo#onRouteChanged","type":"MethodDefinition","paramnames":["hash"]},"vars":{"":null}},"description":"<p>Called by the <code>ViewportController</code> when the application&#39;s route changes.\nThis method stores the new route hash and attempts to update the document head.\nIf the service is not yet ready (i.e., <code>initAsync</code> is still running), the update\nis deferred until <code>isReady</code> becomes true.</p>\n","params":[{"type":{"names":["String"]},"description":"<p>The new route hash string.</p>\n","name":"hash"}],"name":"onRouteChanged","longname":"Seo#onRouteChanged","kind":"function","memberof":"Seo","scope":"instance","$longname":"Seo#onRouteChanged","$kind":"method","id":6865,"neoClassName":"Portal.service.Seo"}]}