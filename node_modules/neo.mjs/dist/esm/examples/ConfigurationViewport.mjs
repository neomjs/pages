import e from"../src/button/Base.mjs";import n from"../src/container/Base.mjs";import o from"../src/container/Panel.mjs";import t from"../src/container/Viewport.mjs";import{bindAppend as a}from"../src/util/Function.mjs";const l=[{name:"neo-theme-light",label:"Theme Light"},{name:"neo-theme-dark",label:"Theme Dark"},{name:"neo-theme-neo-light",label:"Theme Neo-Light"}];export default Neo.setupClass(class extends t{static config={className:"Neo.examples.ConfigurationViewport",ntype:"configuration-viewport",baseCls:["neo-examples-configuration-viewport","neo-viewport"],configItemLabelWidth:150,configItemWidth:270,configPanelFlex:1,configPanelMaxWidth:null,configPanelMinWidth:350,exampleComponent:null,exampleComponentFlex:2,layout:{ntype:"hbox",align:"stretch"}};async createConfigurationComponents(){return null}createExampleComponent(){return null}logInstance(e){console.log(this.exampleComponent)}onConfigChange(e,n){this.exampleComponent[e]=n.value}async onConstructed(){let t,l,i=this,m=i.exampleContainerConfig?.style;m&&delete i.exampleContainerConfig.style,i.exampleComponent=i.createExampleComponent(),t=Neo.typeOf(i.exampleComponent),"NeoClass"!==t&&"Object"!==t||(i.exampleComponent=Neo.create(i.exampleComponent)),i.configurationComponents=await i.createConfigurationComponents()||[],l=i.exampleComponent.getTheme?.()||"neo-theme-light",i.items=[{module:n,cls:["neo-example-container"],items:[i.exampleComponent],flex:i.exampleComponentFlex,layout:"base",style:{overflow:"auto",padding:"20px",...m},...i.exampleContainerConfig},{module:o,cls:["neo-panel","neo-container","neo-configuration-panel"],flex:i.configPanelFlex,style:{maxWidth:i.configPanelMaxWidth+"px",margin:"20px",minWidth:i.configPanelMinWidth+"px"},headers:[{cls:["neo-configuration-header-toolbar"],dock:"top",items:[{ntype:"label",text:"Configuration"},{ntype:"component",flex:1},{module:e,handler:i.onSwitchTheme.bind(i),id:i.id+"__switchThemeButton",text:"neo-theme-dark"===l?"Theme Light":"Theme Dark"}]}],items:[{module:n,layout:{ntype:"vbox",align:null},cls:["neo-configuration-panel-body"],itemDefaults:{clearToOriginalValue:!0,labelWidth:i.configItemLabelWidth,width:i.configItemWidth},items:[...i.configurationComponents,{module:e,handler:a(i.onSwitchTheme,i,"cmp"),style:{marginTop:"20px"},text:"neo-theme-dark"===l?"Theme Light":"Theme Dark",width:130},{module:e,handler:i.logInstance.bind(i),text:"Log Instance",width:130}]}]}],super.onConstructed()}onRadioChange(e,n,o){!0===o.value&&(this.exampleComponent[e]=n)}onSwitchTheme(e,n){let o,t,a,i=this,m=e.component,p=l.length;l.forEach((e,n)=>{m.text===e.label&&(t=e.name,a=n)}),o=(a+p+1)%p,m.text=l[o].label,"cmp"===n?i.exampleComponent.theme=t:i.app.mainView.theme=t}});