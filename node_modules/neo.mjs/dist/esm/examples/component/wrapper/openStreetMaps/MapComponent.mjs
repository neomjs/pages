import e from"../../../../src/component/wrapper/OpenStreetMaps.mjs";import t from"./MarkerDialog.mjs";export default Neo.setupClass(class extends e{static config={className:"Neo.examples.component.wrapper.OpenStreetMaps.MapComponent",center:{lng:-19.020835,lat:64.963051},markerStore:{model:{fields:[{name:"anchorPoint",type:"Object"},{name:"icon",type:"Object"},{name:"id"},{name:"label",type:"String"},{name:"position",type:"Object"},{name:"record",type:"Object"},{name:"title",type:"String"}]}},maxZoom:18,zoom:6};construct(e){super.construct(e),this.fetchData()}fetchData(){fetch("../../../../examples/component/wrapper/openStreetMaps/earthquakes.json").then(e=>e.json()).catch(e=>console.log("Can't access  + url, err")).then(e=>this.createMarkersAndAddToMarkerStore(e))}createMarkersAndAddToMarkerStore(e){let t,r;const o=e.results.map(e=>(t=new Date(e.timestamp).toLocaleDateString("default",{day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",month:"short",year:"numeric"}),r=this.getIcon(void 0,void 0,e.size),{icon:r,position:{lng:e.longitude,lat:e.latitude},record:e,title:`${t}, ${e.humanReadableLocation}`}));this.markerStore.add(o)}getType(e){return{CIRCLE:0,FORWARD_CLOSED_ARROW:1,FORWARD_OPEN_ARROW:2,BACKWARD_CLOSED_ARROW:3,BACKWARD_OPEN_ARROW:4}[e]}getIcon(e="red",t="CIRCLE",r=1){return{fillColor:e,fillOpacity:1,path:this.getType(t),scale:10*r,strokeColor:`dark${e}`,strokeWeight:2}}onMarkerClick(e){let r=this,o=e.record.record;r.disabled=!0,r.dialog=Neo.create(t,{appName:r.appName,boundaryContainerId:r.id,domEvent:e.domEvent,record:o,listeners:{close:()=>r.disabled=!1}})}});