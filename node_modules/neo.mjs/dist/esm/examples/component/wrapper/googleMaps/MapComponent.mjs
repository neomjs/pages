import e from"../../../../src/component/wrapper/GoogleMaps.mjs";import t from"./MarkerDialog.mjs";export default Neo.setupClass(class extends e{static config={className:"Neo.examples.component.wrapper.googleMaps.MapComponent",center:{lat:64.963051,lng:-19.020835},markerStore:{model:{fields:[{name:"anchorPoint",type:"Object"},{name:"icon",type:"Object"},{name:"id"},{name:"label",type:"String"},{name:"position",type:"Object"},{name:"record",type:"Object"},{name:"title",type:"String"}]}},zoom:6};construct(e){super.construct(e),this.fetchData()}fetchData(){fetch("../../../../examples/component/wrapper/googleMaps/earthquakes.json").then((e=>e.json())).catch((e=>console.log("Can't access  + url, err"))).then((e=>this.createMarkersAndAddToMarkerStore(e)))}createMarkersAndAddToMarkerStore(e){let t,o;const r=e.results.map((e=>(t=new Date(e.timestamp).toLocaleDateString("default",{day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",month:"short",year:"numeric"}),o=this.getIcon(void 0,void 0,e.size),{icon:o,position:{lat:e.latitude,lng:e.longitude},record:e,title:`${t}, ${e.humanReadableLocation}`})));this.markerStore.add(r)}getType(e){return{CIRCLE:0,FORWARD_CLOSED_ARROW:1,FORWARD_OPEN_ARROW:2,BACKWARD_CLOSED_ARROW:3,BACKWARD_OPEN_ARROW:4}[e]}getIcon(e="red",t="CIRCLE",o=1){return{fillColor:e,fillOpacity:1,path:this.getType(t),scale:10*o,strokeColor:`dark${e}`,strokeWeight:2}}onMarkerClick(e){let o=this,r=e.record.record;o.disabled=!0,o.dialog=Neo.create(t,{appName:o.appName,boundaryContainerId:o.id,domEvent:e.domEvent,record:r,listeners:{close:()=>o.disabled=!1}})}});