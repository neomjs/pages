import e from"../../../src/controller/Component.mjs";import o from"../../../src/util/Array.mjs";import t from"../../../src/state/Provider.mjs";export default Neo.setupClass(class extends e{connectedApps=[];mainStateProvider=null;static config={className:"Neo.examples.stateProvider.multiWindow.ViewportController"};construct(e){super.construct(e);let o=this;Neo.currentWorker.on({connect:o.onAppConnect,disconnect:o.onAppDisconnect,scope:o})}onAppConnect(e){let t,n,r=this,s=e.appName;console.log("onAppConnect",e),o.add(r.connectedApps,s),t=r.mainStateProvider?{parent:r.mainStateProvider}:{data:{user:{firstname:"Tobias",lastname:"Uhlig"}}},import("../multiWindow/MainContainer.mjs").then(o=>{n=Neo.apps[e.windowId].mainView.add({module:o.default,stateProvider:t}),r.mainStateProvider||(r.mainStateProvider=n.stateProvider)})}onAppDisconnect(e){let t=e.appName;o.remove(this.connectedApps,t),console.log("onAppDisconnect",e)}});