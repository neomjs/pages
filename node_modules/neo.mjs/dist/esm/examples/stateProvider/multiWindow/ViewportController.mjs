import e from"../../../src/controller/Component.mjs";import t from"../../../src/util/Array.mjs";import o from"../../../src/state/Provider.mjs";export default Neo.setupClass(class extends e{connectedApps=[];mainStateProvider=null;static config={className:"Neo.examples.stateProvider.multiWindow.ViewportController"};construct(e){super.construct(e);let t=this;Neo.currentWorker.on({connect:t.onAppConnect,disconnect:t.onAppDisconnect,scope:t})}onAppConnect(e){let o,n,r=this,s=e.appName;console.log("onAppConnect",e),t.add(r.connectedApps,s),o=r.mainStateProvider?{parent:r.mainStateProvider}:{data:{user:{firstname:"Tobias",lastname:"Uhlig"}}},import("../multiWindow/MainContainer.mjs").then(e=>{n=Neo.apps[s].mainView.add({module:e.default,stateProvider:o}),r.mainStateProvider||(r.mainStateProvider=n.stateProvider)})}onAppDisconnect(e){let o=e.appName;t.remove(this.connectedApps,o),console.log("onAppDisconnect",e)}});