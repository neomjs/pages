import e from"../../../src/controller/Component.mjs";import t from"../../../src/component/Toast.mjs";export default Neo.setupClass(class extends e{static config={className:"Neo.examples.grid.nestedRecordFields.ViewportController"};dialog=null;countryRenderer({gridContainer:e,record:t}){let o=e.getStateProvider().getStore("countries");return o.getCount()>0?o.get(t.country).name:""}editButtonHandler(e){let t=this,{dialog:o}=t,n=e.component,{appName:r,record:a,theme:i,windowId:m}=n;o?(o.animateTargetId=n.id,o.record=a,o.show()):import("./EditUserDialog.mjs").then(e=>{t.dialog=Neo.create({module:e.default,animateTargetId:n.id,appName:r,stateProvider:{parent:t.getStateProvider()},record:a,theme:i,windowId:m})})}onCountryStoreLoad(e){let t,o=this.getStore("mainStore");o.getCount()>0&&o.items.forEach(e=>{t=e.country,e.toJSON().country=null,e.country=t})}onSwitchDragModeButtonClick(e){let t=e.component,o=this.getReference("grid"),{sortZone:n}=o.headerToolbar;"fas fa-check"===t.iconCls?(t.set({iconCls:"far fa-square"}),n.moveColumnContent=!0):(t.set({iconCls:"fas fa-check"}),n.moveColumnContent=!1)}onSwitchThemeButtonClick(e){let t=this,o=e.component,n="neo-theme-light"!==o.theme,r=n?"neo-theme-light":"neo-theme-dark";o.set({iconCls:n?"fa fa-moon":"fa fa-sun",text:n?"Dark Theme":"Light Theme"}),t.component.theme=r,t.dialog&&(t.dialog.theme=r),Neo.toast({appName:o.appName,title:"Switched Theme",msg:n?"Light Theme":"Dark Theme",position:"tl",slideDirection:"left",windowId:o.windowId})}});