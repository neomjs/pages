import e from"../../../src/form/field/CheckBox.mjs";import t from"../../../src/form/field/Country.mjs";import a from"../../../src/form/field/Date.mjs";import l from"../../../src/dialog/Base.mjs";import r from"../../../src/form/field/Text.mjs";export default Neo.setupClass(class extends l{static config={className:"Neo.examples.grid.nestedRecordFields.EditUserDialog",closeAction:"hide",containerConfig:{style:{padding:"1em"}},modal:!0,record_:null,title:"Edit User",itemDefaults:{flex:"none",labelWidth:110},items:[{module:r,labelText:"Firstname",listeners:{change:"up.onFirstnameFieldChange"},reference:"firstname-field"},{module:r,labelText:"Lastname",listeners:{change:"up.onLastnameFieldChange"},reference:"lastname-field"},{module:a,labelText:"Date",listeners:{change:"up.onDateFieldChange"},reference:"date-field"},{module:t,bind:{store:"stores.countries"},labelText:"Country",listeners:{change:"up.onCountryFieldChange"},reference:"country-field",valueField:"code"},{module:e,labelText:"Selected",listeners:{change:"up.onSelectedFieldChange"},reference:"selected-field",style:{marginTop:"1em"}}]};async afterSetRecord(e,t){if(e){let e=this,{record:t}=e;await e.timeout(20),e.getItem("country-field").value=t.country,e.getItem("date-field").value=t.date,e.getItem("firstname-field").value=t["user.firstname"],e.getItem("lastname-field").value=t["user.lastname"],e.getItem("selected-field").checked=t["annotations.selected"]}}onCountryFieldChange(e){this.record.set({country:e.value.code})}onDateFieldChange(e){this.record.set({date:e.value})}onFirstnameFieldChange(e){this.record.set({user:{firstname:e.value}})}onLastnameFieldChange(e){this.record.set({user:{lastname:e.value}})}onSelectedFieldChange(e){let t=this,a=t.getStateProvider().getStore("mainStore");!1===e.value?t.record.set({annotations:{selected:!1}}):a.items.forEach(a=>{a.set({annotations:{selected:a===t.record&&e.value}})})}});