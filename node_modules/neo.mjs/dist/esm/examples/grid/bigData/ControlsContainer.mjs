import*as e from"../../../src/selection/grid/_export.mjs";import t from"../../../src/form/field/ComboBox.mjs";import l from"../../../src/container/Base.mjs";import o from"../../../src/form/field/Radio.mjs";import a from"../../../src/tab/Container.mjs";class n extends l{static delayable={onAmountColumnsChange:{type:"buffer",timer:15},onAmountRowsChange:{type:"buffer",timer:15},onBufferColumnRangeChange:{type:"buffer",timer:15},onBufferRowRangeChange:{type:"buffer",timer:15}};static config={className:"Neo.examples.grid.bigData.ControlsContainer",cls:["neo-examples-bigdata-controls-container"],items:[{ntype:"button",cls:["controls-container-button"],handler:"up.onControlsToggleButtonClick",iconCls:"fas fa-bars"},{module:a,cls:["neo-examples-bigdata-controls-container-content"],dragResortable:!0,headerToolbar:{sortZoneConfig:{adjustItemRectsToParent:!0}},items:[{module:l,header:{text:"Settings"},layout:"vbox",itemDefaults:{module:t,clearable:!1,displayField:"id",editable:!1},items:[{labelText:"Amount Rows",labelWidth:120,listeners:{change:"up.onAmountRowsChange"},store:["1000","5000","10000","20000","50000","100000"],value:"20000",width:200},{labelText:"Amount Columns",labelWidth:145,listeners:{change:"up.onAmountColumnsChange"},store:["10","25","50","75","100","200"],value:"50",width:200},{labelText:"Buffer Rows",labelWidth:145,listeners:{change:"up.onBufferRowRangeChange"},store:["0","3","5","10","25","50"],value:"5",width:200},{labelText:"Buffer Columns",labelWidth:145,listeners:{change:"up.onBufferColumnRangeChange"},store:["0","3","5","10","20"],value:"3",width:200},{module:o,checked:!0,labelText:"Theme",labelWidth:70,listeners:{change:"up.onThemeRadioChange"},name:"theme",style:{marginTop:"2em"},value:"neo-theme-dark",valueLabel:"Dark"},{module:o,labelText:"",labelWidth:70,listeners:{change:"up.onThemeRadioChange"},name:"theme",style:{marginTop:".3em"},value:"neo-theme-light",valueLabel:"Light"},{ntype:"label",style:{marginTop:"2em"},text:"Filters"},{ntype:"textfield",clearable:!0,editable:!0,labelText:"Firstname",labelWidth:90,listeners:{change:"up.onFilterFieldChange"},name:"firstname",style:{marginTop:".3em"},width:200},{ntype:"textfield",clearable:!0,editable:!0,labelText:"Lastname",labelWidth:90,listeners:{change:"up.onFilterFieldChange"},name:"lastname",width:200},{ntype:"label",reference:"count-rows-label",style:{marginTop:"1em"}}]},{module:l,header:{text:"Selection"},layout:"vbox",itemDefaults:{module:o,hideLabel:!0,hideValueLabel:!1,labelText:"",listeners:{change:"up.onSelectionModelChange"},name:"selectionModel",style:{marginTop:".3em"},width:200},items:[{ntype:"label",style:{marginTop:0},text:"Pick the Selection Model"},{style:{marginTop:"1em"},selectionModel:e.CellModel,valueLabel:"Cell"},{selectionModel:e.ColumnModel,valueLabel:"Column"},{checked:!0,selectionModel:e.RowModel,valueLabel:"Row"},{selectionModel:e.CellColumnModel,valueLabel:"Cell & Column"},{selectionModel:e.CellRowModel,valueLabel:"Cell & Row"},{selectionModel:e.CellColumnRowModel,valueLabel:"Cell & Column & Row"}]}]}],layout:{ntype:"fit"},tag:"aside"};firstFiltering=!0;get grid(){return this.parent.getItem("grid")}async onAmountColumnsChange(e){if(e.oldValue){let t=this;t.grid.isLoading="Is Loading",await t.timeout(5),t.grid.amountColumns=parseInt(e.value.id)}}async onAmountRowsChange(e){if(e.oldValue){let t=this;t.grid.isLoading="Is Loading",await t.timeout(5),t.grid.store.amountRows=parseInt(e.value.id)}}onBufferColumnRangeChange(e){e.oldValue&&(this.grid.body.bufferColumnRange=parseInt(e.value.id))}onBufferRowRangeChange(e){e.oldValue&&(this.grid.body.bufferRowRange=parseInt(e.value.id))}async onControlsToggleButtonClick(e){let t=this,l=e.component;l.expanded=!l.expanded,t.toggleCls("neo-expanded"),await t.timeout(l.expanded?250:0),t.grid.toggleCls("neo-extend-margin-right")}onConstructed(){super.onConstructed();let e=this,{store:t}=e.grid;t.on({filter:e.updateRowsLabel,load:e.updateRowsLabel,scope:e})}async onFilterFieldChange(e){let t=this;t.firstFiltering&&(t.firstFiltering=!1,t.grid.isLoading="Is Loading",await t.timeout(5)),t.grid.store.getFilter(e.component.name).value=e.value,t.grid.isLoading=!1}onSelectionModelChange(e){this.grid.body.selectionModel=e.component.selectionModel}updateRowsLabel(){let{store:e}=this.grid;e.isLoading||(this.getItem("count-rows-label").text="Filtered rows: "+e.getCount())}}export default Neo.setupClass(n);