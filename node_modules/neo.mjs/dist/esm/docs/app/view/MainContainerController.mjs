import e from"../../../src/controller/Component.mjs";import t from"../../../src/util/Array.mjs";export default Neo.setupClass(class extends e{static config={className:"Docs.view.MainContainerController",ntype:"docs-maincontainer-controller",routes:{"/viewSource/{className}":"onViewSourceRoute","/viewSource/{className}/line/{lineNumber}":"onViewSourceRoute"}};construct(e){super.construct(e);let t=this.component.appName,i={appName:t,windowId:this.component.windowId};"Portal"===t&&(i.highlightJsPath="../../docs/resources/lib/highlight/highlight.pack.js",i.themePath="../../docs/resources/lib/highlightjs-custom-github-theme.css"),Neo.main.addon.HighlightJS.loadFiles(i)}onApiListLeafClick(e){this.getReference("content-tabcontainer").add({ntype:"classdetails-maincontainer",id:e.className,structureData:e,header:{iconCls:e.singleton?"fa fa-arrow-alt-circle-right":"fa fa-copyright",text:e.name}})}onExamplesListLeafClick(e){let t,i=this.getReference("content-tabcontainer"),a=e.name,n=[],o=this.getReference("examples-treelist").store,s=e;for(;null!==s.parentId;)s=o.get(s.parentId),a=s.name+"."+a;a="examples_"+a,t={iconCls:"fa fa-desktop",text:e.name},Array.isArray(e.path)?(e.path.forEach((e=>{n.push(import(e))})),Promise.all(n).then((function(e){let n=[];e.forEach((e=>{n.push({module:e.default})})),i.add({ntype:"container",header:t,id:a,items:n,style:{padding:"10px"}})}))):import(e.path).then((e=>{i.add({module:e.default,header:t,id:a})}))}onNavigationSearchFieldChange(e){let t=this,i=e.value;t.getReference("examples-treelist").filter("name",i,null),t.getReference("api-treelist").filter("name",i,null),t.getReference("tutorials-treelist").filter("name",i,null)}onNavTabContainerResize(e){}onSwitchSourceViewThemeButtonClick(){let e,t,i=this.getReference("source-view-theme-button");"Source View Theme Light"===i.text?(e="Source View Theme Dark",t="./resources/lib/highlightjs-custom-github-theme.css"):(e="Source View Theme Light",t="./resources/lib/highlightjs-custom-dark-theme.css"),Neo.main.addon.Stylesheet.swapStyleSheet({href:t,id:"hljs-theme",windowId:this.windowId}).then((t=>{i.text=e}))}onSwitchThemeButtonClick(){let e,i,a,n=this.getReference("theme-button"),o=this.component;"Theme Light"===n.text?(e="Theme Dark",a="neo-theme-light"):(e="Theme Light",a="neo-theme-dark"),i=[...o.cls],o.cls.forEach((e=>{e.includes("neo-theme")&&t.remove(i,e)})),t.add(i,a),o.cls=i,n.text=e}onTutorialListLeafClick(e){this.getReference("content-tabcontainer").add({ntype:"classdetails-tutorialcomponent",fileName:e.fileName,fileType:e.type,id:e.name,header:{iconCls:"fa fa-hands-helping",text:e.name}})}onViewSourceRoute(e){let t,i=e.className,a=e.lineNumber&&parseInt(e.lineNumber)||null,n=this.getReference("content-tabcontainer"),o=this.getReference("api-treelist").store.find("className",i)[0];o&&(t=n.add({ntype:"classdetails-sourceviewcomponent",id:i+"__source",line:a,structureData:o,header:{iconCls:"fa fa-code",text:o.name}}),t.line=a)}});