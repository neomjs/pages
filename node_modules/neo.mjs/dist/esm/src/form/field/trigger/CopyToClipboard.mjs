import e from"./Base.mjs";import t from"../../../util/Array.mjs";export default Neo.setupClass(class extends e{static config={className:"Neo.form.field.trigger.CopyToClipboard",ntype:"trigger-copytoclipboard",baseCls:["neo-field-trigger","neo-trigger-clipboard"],iconCls:"fa fa-clipboard",showOnHover:!0,type:"copyToClipboard",weight:21};afterSetHidden(e,i){let{cls:o}=this;t[e?"add":"remove"](o,"neo-is-hidden"),this.cls=o}getHiddenState(){return!this.field.value||0===this.field.value.length}onConstructed(){super.onConstructed();let e=this;e.field.on({change:e.onFieldChange,constructed:e.onFieldChange,scope:e}),e.hidden=e.getHiddenState()}onFieldChange(e){this.hidden=this.getHiddenState()}onTriggerClick(e){let t=this;Neo.main.DomAccess.selectNode({appName:t.appName,id:t.field.getInputEl().id}).then((e=>{Neo.main.DomAccess.execCommand({appName:t.appName,command:"copy"})}))}});