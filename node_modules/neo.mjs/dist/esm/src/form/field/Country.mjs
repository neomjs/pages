import e from"./ComboBox.mjs";import t from"../../util/CountryFlags.mjs";import o from"../../list/Country.mjs";import r from"../../util/VDom.mjs";class i extends e{static config={className:"Neo.form.field.Country",ntype:"countryfield",baseCls:["neo-countryfield","neo-combobox","neo-pickerfield","neo-textfield"],showFlags_:!1,store:{data:t.countries,keyProperty:"code",model:{fields:[{name:"name",type:"String"},{name:"code",type:"String"}]},sorters:[{property:"name",direction:"ASC"}]},valueField:"name",zipCodeField_:null};afterSetTriggers(e,t){super.afterSetTriggers(e,t);let o=this,i=r.find(o.vdom,o.getInputWrapperId());i&&(i.vdom.cn.unshift({cls:"neo-country-flag-icon",id:o.getFlagIconId(),tag:"img",removeDom:!0,style:{height:"15px",width:"15px",margin:"auto 5px auto 5px"}}),o.updateFlag())}afterSetValue(e,t,o=!1){super.afterSetValue(e,t,o),this.updateFlag()}afterSetZipCodeField(e,t){e&&e instanceof Neo.form.field.Base&&(e.countryField=this)}beforeSetShowFlags(e,t){return e&&(this.listConfig={module:o,...this.listConfig}),e}afterSetShowFlags(e,t){this.updateFlag()}updateFlag(){let e,o,i=this,a=r.find(i.vdom,i.getFlagIconId());a&&(o=i.value,e=i.showFlags?t.getFlagUrl(Neo.isRecord(o)?o.code:o):null,e?(a.vdom.src=e,a.vdom.removeDom=!1):a.vdom.removeDom=!0,i.update())}getFlagIconId(){return`${this.id}__flag-icon`}}export default Neo.setupClass(i);