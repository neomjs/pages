import e from"../Neo.mjs";import s from"./Base.mjs";import*as o from"../core/_export.mjs";export default e.setupClass(class extends s{static config={className:"Neo.worker.Task",singleton:!0,workerId:"task"};afterConnect(){let e=this,s=new MessageChannel,{port1:o,port2:t}=s;o.onmessage=e.onMessage.bind(e),e.sendMessage("app",{action:"registerPort",transfer:t},[t]),e.channelPorts.app=o}onRegisterNeoConfig(s){super.onRegisterNeoConfig(s);let o=e.config.appPath.slice(0,-8);import(`../../${o}/task.mjs`).then((e=>{e.onStart()}))}});