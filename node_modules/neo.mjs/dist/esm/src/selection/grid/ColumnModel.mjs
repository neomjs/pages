import e from"./BaseModel.mjs";export default Neo.setupClass(class extends e{static config={className:"Neo.selection.grid.ColumnModel",ntype:"selection-grid-columnmodel",cls:"neo-selection-columnmodel"};addDomListener(){let e=this;e.view.parent.on("cellClick",e.onCellClick,e)}destroy(...e){let t=this;t.view.parent.un("cellClick",t.onCellClick,t),super.destroy(...e)}hasSelection(){return this.selectedColumns.length>0}onCellClick(e){let t=this,{view:s}=t,o=e.data.currentTarget,l=o&&s.getDataField(o);l&&(t.selectedColumns=t.isSelectedColumn(l)?[]:[l],s.createViewData())}onKeyDownLeft(e){!this.hasEditorFocus(e)&&this.onNavKeyColumn(-1)}onKeyDownRight(e){!this.hasEditorFocus(e)&&this.onNavKeyColumn(1)}onNavKeyColumn(e){let t,s,o,l=this,{dataFields:n,view:i}=l;for(t=l.hasSelection()?l.selectedColumns[0]:n[0],s=n.indexOf(t),o=(s+e)%n.length;o<0;)o+=n.length;l.selectedColumns=[n[o]],i.createViewData(),i.parent.scrollByColumns(s,e)}register(e){super.register(e);let{id:t,view:s}=this;s.keys?._keys.push({fn:"onKeyDownLeft",key:"Left",scope:t},{fn:"onKeyDownRight",key:"Right",scope:t})}unregister(){let e=this,{id:t,view:s}=e;e.selectedColumns=[],e.view.createViewData(),s.keys?.removeKeys([{fn:"onKeyDownLeft",key:"Left",scope:t},{fn:"onKeyDownRight",key:"Right",scope:t}]),super.unregister()}});