import e from"./BaseModel.mjs";import t from"../../util/VDom.mjs";export default Neo.setupClass(class extends e{static config={className:"Neo.selection.table.ColumnModel",ntype:"selection-table-columnmodel",cls:"neo-selection-columnmodel"};addDomListener(){let e=this;e.view.parent.on("cellClick",e.onCellClick,e)}destroy(...e){let t=this;t.view.parent.un("cellClick",t.onCellClick,t),super.destroy(...e)}onCellClick(e){let o,l,s,n=this,{view:i}=n,r=e.data.currentTarget;r&&(l=i.getDataField(r),s=i.getColumn(l,!0),o=t.getColumnNodesIds(i.vdom,s),n.select(o))}onKeyDownLeft(e){this.onNavKeyColumn(-1)}onKeyDownRight(e){this.onNavKeyColumn(1)}onNavKeyColumn(e){let o,l,s,n=this,{dataFields:i,view:r}=n;for(l=n.hasSelection()?r.getDataField(n.items[0]):i[0],s=(i.indexOf(l)+e)%i.length;s<0;)s+=i.length;o=t.getColumnNodesIds(r.vdom,s),n.select(o)}register(e){super.register(e);let{id:t,view:o}=this;o.keys?._keys.push({fn:"onKeyDownLeft",key:"Left",scope:t},{fn:"onKeyDownRight",key:"Right",scope:t})}unregister(){let{id:e,view:t}=this;t.keys?.removeKeys([{fn:"onKeyDownLeft",key:"Left",scope:e},{fn:"onKeyDownRight",key:"Right",scope:e}]),super.unregister()}});