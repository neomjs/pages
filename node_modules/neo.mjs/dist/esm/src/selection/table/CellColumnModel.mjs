import e from"./CellModel.mjs";import l from"../../util/VDom.mjs";export default Neo.setupClass(class extends e{static config={className:"Neo.selection.table.CellColumnModel",ntype:"selection-table-cellcolumnmodel",cls:"neo-selection-cellcolumnmodel",selectedColumnCellCls:"selected-column-cell",selectedColumnCellIds:[]};deselectAllCells(e){let l=this,s=[...l.selectedColumnCellIds],{view:t}=l;s.forEach(e=>{l.deselect(e,!0,l.selectedColumnCellIds,l.selectedColumnCellCls)}),!e&&t.update()}onCellClick(e){let s,t,o,d=this,{view:C}=d,c=e.data.currentTarget;c&&(t=C.getDataField(c),o=C.getColumn(t,!0),s=l.getColumnNodesIds(C.vdom,o),d.deselectAllCells(!0),d.select(s,d.selectedColumnCellIds,d.selectedColumnCellCls)),super.onCellClick(e)}onNavKeyColumn(e){let s,t,o,d=this,{dataFields:C,view:c}=d;for(t=d.hasSelection()?c.getDataField(d.items[0]):C[0],o=(C.indexOf(t)+e)%C.length;o<0;)o+=C.length;s=l.getColumnNodesIds(c.vdom,o),d.deselectAllCells(!0),d.select(s,d.selectedColumnCellIds,d.selectedColumnCellCls),super.onNavKeyColumn(e)}unregister(){this.deselectAllCells(),super.unregister()}});