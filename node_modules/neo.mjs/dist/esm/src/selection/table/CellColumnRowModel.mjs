import e from"./CellRowModel.mjs";import l from"../../util/VDom.mjs";export default Neo.setupClass(class extends e{static config={className:"Neo.selection.table.CellColumnRowModel",ntype:"selection-table-cellcolumnrowmodel",cls:"neo-selection-cellcolumnrowmodel",selectedColumnCellCls:"selected-column-cell",selectedColumnCellIds:[]};deselectAllCells(e){let l=this,s=[...l.selectedColumnCellIds],{view:t}=l;s.forEach(e=>{l.deselect(e,!0,l.selectedColumnCellIds,l.selectedColumnCellCls)}),!e&&t.update()}onCellClick(e){let s,t,o,C=this,{view:d}=C,n=e.data.currentTarget;n&&(t=d.getDataField(n),o=d.getColumn(t,!0),s=l.getColumnNodesIds(d.vdom,o),C.deselectAllCells(!0),C.select(s,C.selectedColumnCellIds,C.selectedColumnCellCls)),super.onCellClick(e)}onNavKeyColumn(e){let s,t,o,C=this,{dataFields:d,view:n}=C;for(t=C.hasSelection()?n.getDataField(C.items[0]):d[0],o=(d.indexOf(t)+e)%d.length;o<0;)o+=d.length;s=l.getColumnNodesIds(n.vdom,o),C.deselectAllCells(!0),C.select(s,C.selectedColumnCellIds,C.selectedColumnCellCls),super.onNavKeyColumn(e)}toJSON(){return{...super.toJSON(),selectedColumnCellCls:this.selectedColumnCellCls,selectedColumnCellIds:this.selectedColumnCellIds}}unregister(){this.deselectAllCells(),super.unregister()}});