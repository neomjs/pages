const e={effectStack:[],isTrackingPaused:!1,pauseCounter:0,queuedEffects:new Set,addDependency(e){this.isTrackingPaused||this.getActiveEffect()?.addDependency(e)},getActiveEffect(){return this.effectStack[this.effectStack.length-1]},isPaused(){return this.pauseCounter>0},pause(){this.pauseCounter++},pauseTracking(){this.isTrackingPaused=!0},pop(){return this.effectStack.pop()},push(e){this.effectStack.push(e)},queue(e){this.queuedEffects.add(e)},resume(){let e=this;if(e.pauseCounter>0&&(e.pauseCounter--,0===e.pauseCounter&&e.queuedEffects.size>0)){const t=[...e.queuedEffects];e.queuedEffects.clear(),t.forEach(e=>e.run())}},resumeTracking(){this.isTrackingPaused=!1}};export default Neo.gatekeep(e,"Neo.core.EffectManager",()=>{Neo.batch=function(t){e.pause();try{t()}finally{e.resume()}}});