import{isDescriptor as e}from"./ConfigSymbols.mjs";export default class{#e;#s=new Set;mergeStrategy="deep";isEqual=Neo.isEqual;constructor(s){Neo.isObject(s)&&!0===s[e]?this.initDescriptor(s):this.#e=s}get(){return this.#e}initDescriptor({isEqual:e,merge:s,value:t}){let r=this;r.#e=t,r.mergeStrategy=s||r.mergeStrategy,r.isEqual=e||r.isEqual}notify(e,s){for(const t of this.#s)t(e,s)}set(e){if(void 0===e)return!1;const s=this,t=s.#e;return!s.isEqual(e,t)&&(s.#e=e,s.notify(e,t),!0)}setRaw(e){this.#e=e}subscribe(e){return this.#s.add(e),()=>this.#s.delete(e)}}