import e from"../../../form/field/CheckBox.mjs";import t from"../../../list/Component.mjs";export default Neo.setupClass(class extends t{static config={className:"Neo.calendar.view.calendars.List",baseCls:["neo-calendars-list","neo-list"],bind:{store:"stores.calendars"},itemDefaults:{module:e,flex:"none",hideLabel:!0,iconCls:["fas","fa-square"],iconClsChecked:["fas","fa-check-square"]},owner:null};createItemContent(e,t){let o=this,n=e[o.getKeyProperty()],s=o.items||[],i=s[t],a={checked:e.active,cls:[`neo-color-${e.color}`],fieldValue:n,id:o.getComponentId(t),valueLabelText:e.name};return i?i.setSilent(a):s[t]=i=Neo.create({appName:o.appName,listeners:{change:o.onCheckboxChange,scope:o},parentId:o.id,windowId:o.windowId,...o.itemDefaults,...a}),o.items=s,o.updateDepth=2,[i.createVdomReference(),{tag:"i",cls:["neo-edit-icon","fas fa-edit"],id:o.getEditIconId(t)}]}getEditIconId(e){return`${this.id}__${e}__edit-icon`}onCheckboxChange(e){this.store.get(e.component.fieldValue).active=e.value}onClick(e){if(this.timeout(20).then((()=>{super.onClick(e)})),e.path[0].cls.includes("neo-edit-icon")){let t=this,o=e.path[1].rect,n=t.owner,s=n.editCalendarContainer,{mounted:i,style:a}=s,d=t.store.get(t.getItemRecordId(e.path[1].id));Object.assign(a,{left:`${o.right+13}px`,top:o.top-10+"px"}),s[i?"set":"setSilent"]({parentId:n.id,record:d,style:a}),i?s.afterSetMounted(!0,!1):s.render(!0)}}onKeyDownEnter(e){let t=this,o=t.getItemRecordId(e),n=t.items[t.store.indexOf(o)];n.checked=!n.checked}onSelect(e){this.setState("activeCalendarId",this.getItemRecordId(e[0]))}sortItems(e){}});