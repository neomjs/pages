import e from"../../../component/Base.mjs";export default Neo.setupClass(class extends e{static intervals=[15,30,60];static config={className:"Neo.calendar.view.week.TimeAxisComponent",baseCls:["neo-calendar-timeaxis"],bind:{endTime:e=>e.endTime,startTime:e=>e.startTime},endTime_:"24:00",interval_:30,rowHeight_:20,startTime_:"00:00",vdom:{style:{}}};construct(e){super.construct(e);let t=this;t.createItems(),t.afterSetRowHeight(t.rowHeight,0)}afterSetEndTime(e,t){if(void 0!==t){let t=this;e||(t._endTime="24:00"),t.afterSetRowHeight(t.rowHeight,0)}}afterSetInterval(e,t){void 0!==t&&this.afterSetRowHeight(this.rowHeight,0)}afterSetRowHeight(e,t){if(void 0!==t&&this.vdom.cn){let e,t,i=this,r=i.getTime(i.endTime),o=i.getTime(i.startTime),{rowHeight:a,vdom:s}=i,n=i.getRowsPerItem(),m=n*a+n,c=a+(r-o)*m;for(Object.assign(s.style,{backgroundImage:`linear-gradient(var(--c-w-background-color) ${m-1}px, var(--c-w-border-color) 1px)`,backgroundPositionY:1-m+"px",backgroundSize:`0.4em ${m}px`,height:c-a+1+"px",maxHeight:c-a+1+"px"}),e=0;e<25;e++)t={height:`${m}px`},e===o?t.marginTop=-2-a*(1===n?.5:2===n?1:2)+"px":delete t.marginTop,s.cn[e].style=t,s.cn[e].removeDom=e<o||e-1>=r;i.fire("change",{component:i,rowHeight:a,rowsPerItem:n,totalHeight:c})}}afterSetStartTime(e,t){void 0!==t&&this.afterSetRowHeight(this.rowHeight,0)}beforeSetInterval(e,t){return this.beforeSetEnumValue(e,t,"interval")}createItems(){let e,t,{vdom:i}=this;for(i.cn=[],t=0;t<25;t++)e=24===t?"00:00":(t<10?"0":"")+t+":00",i.cn.push({cls:["neo-c-w-timeaxis-item"],cn:[{html:e}]})}getRowsPerItem(){let{interval:e}=this;return 60===e?1:30===e?2:4}getTime(e){return e.split(":").map(Number)[0]}});