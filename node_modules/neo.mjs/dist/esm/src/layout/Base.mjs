import e from"../core/Base.mjs";import t from"../util/Array.mjs";export default Neo.setupClass(class extends e{static config={className:"Neo.layout.Base",ntype:"layout-base",appName_:null,containerId:null,containerCls_:null,isLayout:!0,windowId_:null};get container(){let{containerId:e}=this;return Neo.getComponent(e)||Neo.get(e)}afterSetWindowId(e,t){e&&Neo.currentWorker.insertThemeFiles(e,this.__proto__)}applyChildAttributes(e,t){}applyRenderAttributes(e=!1){let r=this,{container:n,containerCls:i}=r,{wrapperCls:o}=n;i&&(n||Neo.logError(r.className+": applyRenderAttributes -> container not yet created",r.containerId),t.add(o,i),n[e?"setSilent":"set"]({wrapperCls:o}))}destroy(){let e=this;e.bind&&e.getStateProvider()?.removeBindings(e.id),super.destroy()}getStateProvider(e){return this.container.getStateProvider(e)}initConfig(e,t){super.initConfig(e,t);let r=this;r.bind&&r.container.getStateProvider()?.createBindings(r)}removeChildAttributes(e,t){}removeRenderAttributes(){let e=this,{container:r,containerCls:n}=e,{wrapperCls:i}=r;n&&(r||Neo.logError(e.className+": removeRenderAttributes -> container not yet created",e.containerId),t.remove(i,n),r.wrapperCls=i)}set(e={},t=!1){let{container:r}=this;return r.silentVdomUpdate=!0,super.set(e),r.silentVdomUpdate=!1,t||!r.needsVdomUpdate?Promise.resolve():r.promiseUpdate()}setSilent(e={}){return this.set(e,!0)}toJSON(){let e=this;return{...super.toJSON(),appName:e.appName,containerCls:e.containerCls,containerId:e.containerId,windowId:e.windowId}}});