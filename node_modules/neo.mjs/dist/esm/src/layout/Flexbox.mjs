import e from"./Base.mjs";import t from"../util/Array.mjs";export default Neo.setupClass(class extends e{static alignValues=["center","end","start","stretch",null];static directionValues=["column","column-reverse","row","row-reverse",null];static packValues=["center","end","start",null];static wrapValues=["nowrap","wrap","wrap-reverse"];static config={className:"Neo.layout.Flexbox",ntype:"layout-flexbox",align_:null,direction_:null,gap_:null,pack_:null,prefix:"neo-flex-",wrap_:"nowrap"};afterSetAlign(e,t){t&&this.updateInputValue(e,t,"align")}afterSetDirection(e,t){t&&this.updateInputValue(e,t,"direction")}afterSetGap(e,t){if(!e&&!t)return;let{container:r}=this,{wrapperStyle:a}=r;a.gap=e,r.wrapperStyle=a}afterSetPack(e,t){t&&this.updateInputValue(e,t,"pack")}afterSetWrap(e,t){t&&this.updateInputValue(e,t,"wrap")}applyChildAttributes(e,t){if(!e.wrapperStyle)return;let r=e.wrapperStyle,a=r.flex||e.flex||("stretch"===this.align?1:"0 1 auto");Neo.isNumber(a)&&(a=`${a} 1 0%`),r.flex=a,e.wrapperStyle=r}applyRenderAttributes(){let e=this,{container:r,prefix:a}=e,{wrapperCls:l}=r;r||Neo.logError("layout.Flexbox: applyRenderAttributes -> container not yet created",e.containerId),t.add(l,a+"container"),e.align&&t.add(l,a+"align-"+e.align),e.direction&&t.add(l,a+"direction-"+e.direction),e.pack&&t.add(l,a+"pack-"+e.pack),e.wrap&&t.add(l,a+"wrap-"+e.wrap),r.wrapperCls=l}beforeSetAlign(e,t){return this.testInputValue(e,t,"alignValues","align")}beforeSetDirection(e,t){return this.testInputValue(e,t,"directionValues","direction")}beforeSetPack(e,t){return this.testInputValue(e,t,"packValues","pack")}beforeSetWrap(e,t){return this.testInputValue(e,t,"wrapValues","wrap")}removeChildAttributes(e,t){let r=e.wrapperStyle||{};r.flex=e.flex||null,e.wrapperStyle=r}removeRenderAttributes(){let e=this,{container:r,prefix:a}=e,{wrapperCls:l}=r;r||Neo.logError("layout.Flexbox: removeRenderAttributes -> container not yet created",e.containerId),t.remove(l,a+"container"),e.align&&t.remove(l,a+"align-"+e.align),e.direction&&t.remove(l,a+"direction-"+e.direction),e.pack&&t.remove(l,a+"pack-"+e.pack),e.wrap&&t.remove(l,a+"wrap-"+e.wrap),r.wrapperCls=l}testInputValue(e,r,a,l){let i=this.getStaticConfig(a);return t.hasItem(i,e)?e:(Neo.logError(this.containerId,'-> layout: supported values for "'+l+'" are',i),r)}toJSON(){let e=this;return{...super.toJSON(),align:e.align,direction:e.direction,gap:e.gap,pack:e.pack,prefix:e.prefix,wrap:e.wrap}}updateInputValue(e,r,a){let{container:l,prefix:i}=this,{wrapperCls:n}=l;l?.vnodeInitialized&&(t.remove(n,i+a+"-"+r),null!==e&&t.add(n,i+a+"-"+e),l.wrapperCls=n)}});