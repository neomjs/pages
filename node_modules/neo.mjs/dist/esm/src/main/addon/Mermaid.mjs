import e from"./Base.mjs";import a from"../DomAccess.mjs";class r extends e{static config={className:"Neo.main.addon.Mermaid",interceptRemotes:["render"],mermaidPath:Neo.config.basePath+"node_modules/mermaid/dist/mermaid.min.js",remote:{app:["render"]},useLazyLoading:!0};async loadFiles(){window.mermaid||(await a.loadScript(this.mermaidPath),mermaid.initialize({startOnLoad:!1}))}async render(e){const a=document.getElementById(e.id);if(a)try{a.removeAttribute("data-processed"),e.code&&(a.textContent=e.code),mermaid.run({nodes:[a]})}catch(e){console.error("Mermaid rendering failed:",e),a.innerHTML=`<div style="color: red; padding: 10px;">Mermaid Error: ${e.message}</div>`}}}export default Neo.setupClass(r);