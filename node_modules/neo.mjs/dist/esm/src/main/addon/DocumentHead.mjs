import e from"./Base.mjs";export default Neo.setupClass(class extends e{static config={className:"Neo.main.addon.DocumentHead",remote:{app:["getCanonical","getLdJson","getTag","getTitle","setCanonical","setLdJson","setTag","setTitle"]}};getCanonical(){const e=document.head.querySelector('link[rel="canonical"]');return e?.href||null}getLdJson(){const e=document.head.querySelector('script[type="application/ld+json"]');if(e)try{return JSON.parse(e.textContent)}catch(e){return console.error("Error parsing ld+json content",e),null}return null}getTag(e){const{tag:t,...n}=e;let r;if("meta"===t?n.name?r=`meta[name="${n.name}"]`:n.property&&(r=`meta[property="${n.property}"]`):"link"===t&&n.rel&&(r=`link[rel="${n.rel}"]`),r){const e=document.head.querySelector(r);if(e){const n={};for(const t of e.attributes)n[t.name]=t.value;return{tag:t,...n}}}return null}getTitle(){return document.title}setCanonical({url:e}){this.setTag({tag:"link",rel:"canonical",href:e})}setLdJson({data:e}){let t=document.head.querySelector('script[type="application/ld+json"]');t||(t=document.createElement("script"),t.type="application/ld+json",document.head.appendChild(t)),t.textContent=JSON.stringify(e,null,2)}setTag(e){const{tag:t,...n}=e;let r,a;"meta"===t?n.name?r=`meta[name="${n.name}"]`:n.property&&(r=`meta[property="${n.property}"]`):"link"===t&&n.rel&&(r=`link[rel="${n.rel}"]`),a=r?document.head.querySelector(r):null,a||(a=document.createElement(t));for(const[e,t]of Object.entries(n))a.setAttribute(e,t);a.parentNode||document.head.appendChild(a)}setTitle({value:e}){document.title=e}});