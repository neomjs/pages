import e from"./Base.mjs";import s from"../DomAccess.mjs";export default Neo.setupClass(class extends e{static config={className:"Neo.main.addon.CesiumJS",remote:{app:["create","createOsmBuildings","destroy","flyTo"]}};viewers={};construct(e){super.construct(e),this.loadFiles()}create(e){this.viewers[e.id]=new Cesium.Viewer(e.id,{terrainProvider:Cesium.createWorldTerrain()}),e.createOsmBuildings&&this.createOsmBuildings({id:e.id})}createOsmBuildings(e){this.viewers[e.id].scene.primitives.add(Cesium.createOsmBuildings())}destroy(e){console.log("main.addon.CesiumJS: destroy()",e)}flyTo(e){this.viewers[e.id].camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(...e.destination),orientation:{heading:Cesium.Math.toRadians(e.heading),pitch:Cesium.Math.toRadians(e.pitch)}})}loadFiles(){Promise.all([s.loadScript("https://cesium.com/downloads/cesiumjs/releases/1.92/Build/Cesium/Cesium.js"),s.loadStylesheet("https://cesium.com/downloads/cesiumjs/releases/1.92/Build/Cesium/Widgets/widgets.css")]).then((()=>{this.onFilesLoaded()}))}onFilesLoaded(){Cesium.Ion.defaultAccessToken=Neo.config.cesiumJsToken}});