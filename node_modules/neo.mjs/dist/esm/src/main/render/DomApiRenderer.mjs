import{voidAttributes as e}from"../../vdom/domConstants.mjs";const t={createDomTree({index:t,isRoot:o=!1,parentNode:n,postMountUpdates:r=[],vnode:d}){let a;if(!d||d.componentId)return null;if("text"===d.vtype){a=document.createTextNode(d.textContent||"");const e=document.createComment(` ${d.id} `),t=document.createComment(" /neo-vtext "),o=document.createDocumentFragment();o.append(e,a,t),a=o}else if("fragment"===d.nodeName)a=document.createDocumentFragment(),a.append(document.createComment(` ${d.id}-start `));else{if(!d.nodeName)return console.error("Unhandled VNode type or missing nodeName:",d),null;a=d.ns?document.createElementNS(d.ns,d.nodeName):document.createElement(d.nodeName),a[Neo.config.useDomIds?"id":"data-neo-id"]=d.id,Object.entries(d.attributes).forEach(([t,o])=>{e.has(t)?a.toggleAttribute(t,"true"===o||!0===o):"value"===t?a.value=o:null!=o&&a.setAttribute(t,o)}),d.className.length>0&&a.classList.add(...d.className),Neo.isObject(d.style)&&Object.entries(d.style).forEach(([e,t])=>{let o;Neo.isString(t)&&t.includes("!important")&&(t=t.replace("!important","").trim(),a.style.setProperty(Neo.decamel(e),t,"important"),o="important"),a.style.setProperty(Neo.decamel(e),t,o)}),d.childNodes.length<1&&(d.innerHTML?a.innerHTML=d.innerHTML:d.textContent&&(a.textContent=d.textContent))}if(d.nodeName&&(d.scrollTop||d.scrollLeft)&&r.push({node:a,vnode:d}),d.childNodes.forEach(e=>{this.createDomTree({parentNode:a,postMountUpdates:r,vnode:e})}),"fragment"===d.nodeName&&a.append(document.createComment(` ${d.id}-end `)),o){let e=a;return e&&n&&-1!==t?(t<n.childNodes.length?n.insertBefore(e,n.childNodes[t]):n.appendChild(e),r.forEach(({node:e,vnode:t})=>{t.scrollLeft&&(e.scrollLeft=t.scrollLeft),t.scrollTop&&(e.scrollTop=t.scrollTop)}),a):e}return n&&n.append(a),a}};Neo.ns("Neo.main.render",!0).DomApiRenderer=t;export default t;