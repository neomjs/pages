import{voidAttributes as e}from"../../vdom/domConstants.mjs";const t={createDomTree({index:t,isRoot:o=!1,parentNode:n,postMountUpdates:r=[],vnode:d}){let s;if(!d||d.componentId)return null;if("text"===d.vtype){s=document.createTextNode(d.textContent||"");const e=document.createComment(` ${d.id} `),t=document.createComment(" /neo-vtext "),o=document.createDocumentFragment();o.append(e,s,t),s=o}else if("fragment"===d.nodeName)s=document.createDocumentFragment(),s.append(document.createComment(` ${d.id}-start `));else{if(!d.nodeName)return console.error("Unhandled VNode type or missing nodeName:",d),null;s=d.ns?document.createElementNS(d.ns,d.nodeName):document.createElement(d.nodeName),s[Neo.config.useDomIds?"id":"data-neo-id"]=d.id;for(const t in d.attributes){const o=d.attributes[t];e.has(t)?s.toggleAttribute(t,"true"===o||!0===o):"value"===t?s.value=o:null!=o&&s.setAttribute(t,o)}if(d.className.length>0&&s.classList.add(...d.className),Neo.isObject(d.style))for(const e in d.style){let t,o=d.style[e];Neo.isString(o)&&o.includes("!important")&&(o=o.replace("!important","").trim(),s.style.setProperty(Neo.decamel(e),o,"important"),t="important"),s.style.setProperty(Neo.decamel(e),o,t)}d.childNodes.length<1&&(d.innerHTML?s.innerHTML=d.innerHTML:d.textContent&&(s.textContent=d.textContent))}if(d.nodeName&&(d.scrollTop||d.scrollLeft)&&r.push({node:s,vnode:d}),d.childNodes.forEach(e=>{this.createDomTree({parentNode:s,postMountUpdates:r,vnode:e})}),"fragment"===d.nodeName&&s.append(document.createComment(` ${d.id}-end `)),o){let e=s;return e&&n&&-1!==t?(t<n.childNodes.length?n.insertBefore(e,n.childNodes[t]):n.appendChild(e),r.forEach(({node:e,vnode:t})=>{t.scrollLeft&&(e.scrollLeft=t.scrollLeft),t.scrollTop&&(e.scrollTop=t.scrollTop)}),s):e}return n&&n.append(s),s}};Neo.ns("Neo.main.render",!0).DomApiRenderer=t;export default t;