import e from"../../core/Base.mjs";export default Neo.setupClass(class extends e{static config={className:"Neo.data.connection.Fetch"};defaultHeaders=null;delete(e,t){return this.request(e,t,"delete")}get(e,t){return this.request(e,t,"get")}head(e,t){return this.request(e,t,"head")}options(e,t){return this.request(e,t,"options")}patch(e,t,s){return this.request(e,t,"patch",s)}post(e,t,s){return this.request(e,t,"post",s)}put(e,t,s){return this.request(e,t,"put",s)}request(e,t={},s,r){return Neo.isString(e)?t.url=t:e=(t=e).url,fetch(e,{body:r,method:s||t.method}).then((e=>{let s={ok:e.ok,redirected:e.redirected,request:t,status:e.status,statusText:e.statusText,type:e.type,url:e.url};return e[t.responseType||"json"]().then((e=>{s.data=e})).then((()=>e.ok?s:Promise.reject(s)))}))}});