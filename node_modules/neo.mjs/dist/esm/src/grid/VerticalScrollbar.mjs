import t from"../component/Base.mjs";export default Neo.setupClass(class extends t{static config={className:"Neo.grid.VerticalScrollbar",ntype:"grid-vertical-scrollbar",baseCls:["neo-grid-vertical-scrollbar"],rowHeight_:0,store_:null,_vdom:{cn:[{cls:["neo-grid-scrollbar-content"]}]}};async addScrollSync(t){let e=this,{windowId:o}=e,r=await Neo.currentWorker.getAddon("ScrollSync",o),l={id:e.id,windowId:o};t?r.register({fromId:e.parent.body.vdom.id,toId:e.id,twoWay:!Neo.config.hasTouchEvents,...l}):r.unregister(l)}afterSetMounted(t,e){super.afterSetMounted(t,e),void 0!==e&&this.addScrollSync(t)}afterSetRowHeight(t,e){t>0&&this.updateScrollHeight()}afterSetStore(t,e){if(t){let e=this;t.on({filter:e.updateScrollHeight,load:e.updateScrollHeight,scope:e})}}updateScrollHeight(t){let e=this,o=t?.total?t.total:e.store.count,{rowHeight:r}=e;o>0&&r>0&&(e.vdom.cn[0].height=(o+1)*r+"px",e.update())}});