import e from"../component/Base.mjs";export default Neo.setupClass(class extends e{static config={className:"Neo.grid.VerticalScrollbar",ntype:"grid-vertical-scrollbar",baseCls:["neo-grid-vertical-scrollbar"],rowHeight_:0,store_:null,_vdom:{cn:[{cls:["neo-grid-scrollbar-content"]}]}};async addScrollSync(e){let t=this,{windowId:o}=t,r=await Neo.currentWorker.getAddon("ScrollSync",o),l={id:t.id,windowId:o};e?r.register({fromId:t.parent.body.vdom.id,toId:t.id,twoWay:!Neo.config.hasTouchEvents,...l}):r.unregister(l)}afterSetMounted(e,t){super.afterSetMounted(e,t),void 0!==t&&this.addScrollSync(e)}afterSetRowHeight(e,t){e>0&&this.updateScrollHeight()}afterSetStore(e,t){if(e){let t=this;e.on({filter:t.updateScrollHeight,load:t.updateScrollHeight,scope:t}),e.getCount()>0&&t.updateScrollHeight()}}updateScrollHeight(){let e=this,t=e.store.getCount(),{rowHeight:o}=e;t>0&&o>0&&(e.vdom.cn[0].height=(t+1)*o+"px",e.update())}});