import t from"./Base.mjs";import e from"../../util/Array.mjs";import a from"../../util/VDom.mjs";export default Neo.setupClass(class extends t{static config={className:"Neo.grid.column.AnimatedChange",animationCls:"neo-animated",type:"animatedChange"};construct(t){super.construct(t);let e=this;e.parent.store.on({recordChange:e.onRecordChange,scope:e})}getAnimationCls(t){return this.animationCls}async onRecordChange({fields:t,record:o}){let n,i,s,r=this,{body:m}=r.parent;for(i of t)if(i.name===r.dataField){await r.timeout(20),n=m.getCellId(r.parent.store.indexOf(o),r.dataField),s=a.find(m.vdom,n)?.vdom,s&&(e.add(s.cls,r.getAnimationCls(o)),m.update());break}}toJSON(){return{...super.toJSON(),animationCls:this.animationCls}}});