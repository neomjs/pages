import t from"./Base.mjs";import e from"../../util/Array.mjs";import a from"../../util/VDom.mjs";export default Neo.setupClass(class extends t{static config={className:"Neo.grid.column.AnimatedChange",animationCls:"neo-animated",type:"animatedChange"};construct(t){super.construct(t);let e=this;e.parent.store.on({recordChange:e.onRecordChange,scope:e})}getAnimationCls(t){return this.animationCls}async onRecordChange({fields:t,record:o}){let n,i=this;for(n of t)if(n.name===i.dataField){await i.timeout(20);let t,n,{body:s}=i.parent,r=s.getRow(o);r&&(t=s.getCellId(r.rowIndex,i.dataField),n=a.find(r.vdom,t)?.vdom,n&&(e.add(n.cls,i.getAnimationCls(o)),r.update()));break}}toJSON(){return{...super.toJSON(),animationCls:this.animationCls}}});