import e from"./Base.mjs";export default Neo.setupClass(class extends e{static config={className:"Neo.grid.column.Component",component:null,defaults:null,recordProperty:"record",rendererScope:"this",type:"component",useBindings:!1};map=new Map;applyRecordConfigs(e,o){return e}cellRenderer(e){let{gridContainer:o,record:t,rowIndex:n}=e,{appName:r,body:d,windowId:p}=o,i=this,{recordProperty:s}=i,a=i.getComponentId(n),c=i.map.get(a),l=i.component;return"Function"===Neo.typeOf(l)&&(l=l(e)),l=i.applyRecordConfigs(l,t),l={...l},c?(delete l.className,delete l.module,delete l.ntype,l[s]=t,c.set(l)):(c=Neo.create({...i.defaults,...l,appName:r,id:a,parentComponent:d,[s]:t,windowId:p}),c.vdom.id||(c.vdom.id=a+"__wrapper"),i.map.set(a,c)),i.useBindings&&d.getStateProvider()?.createBindings(c),d.updateDepth=-1,c.createVdomReference()}getComponentId(e){let o=this,{body:t}=o.parent;return t.store.chunkingTotal?`${o.id}-component-${e}`:`${o.id}-component-${e%(t.availableRows+2*t.bufferRowRange)}`}toJSON(){let e=this,o=super.toJSON();return o.recordProperty=e.recordProperty,o.useBindings=e.useBindings,Neo.isObject(e.component)&&(o.component=e.serializeConfig(e.component)),o}});