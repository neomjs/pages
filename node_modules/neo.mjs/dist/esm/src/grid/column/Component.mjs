import{isDescriptor as e}from"../../core/ConfigSymbols.mjs";import o from"./Base.mjs";export default Neo.setupClass(class extends o{static config={className:"Neo.grid.column.Component",component:null,defaults_:{[e]:!0,merge:"deep",value:null},hideMode:"visibility",recordProperty:"record",rendererScope:"this",type:"component",useBindings:!1};applyRecordConfigs(e,o){return e}cellRenderer(e){let{component:o,gridContainer:r,record:n,row:t,silent:i}=e,{appName:d,windowId:s}=r,l=this,{recordProperty:c}=l,p=l.component;if(o&&o[c]===n&&o.lastRecordVersion===n.version)return o;if("Function"===Neo.typeOf(p)&&(p=p(e)),p=l.applyRecordConfigs(p,n),p={...p},o){o.lastRecordVersion=n.version,delete p.className,delete p.module,delete p.ntype,p[c]=n,void 0===p.hideMode&&(p.hideMode=l.hideMode);for(const e in p)void 0===p[e]&&(p[e]=null);delete p.bind,o.set(p,i)}else o=Neo.create({hideMode:l.hideMode,...l.defaults,...p,appName:d,parentComponent:t,[c]:n,lastRecordVersion:n.version,theme:t.theme,windowId:s}),l.useBindings&&r.body.getStateProvider()?.createBindings(o);return o}toJSON(){let e=this,o=super.toJSON();return o.recordProperty=e.recordProperty,o.useBindings=e.useBindings,Neo.isObject(e.component)&&(o.component=e.serializeConfig(e.component)),Neo.isObject(e.defaults)&&(o.defaults=e.serializeConfig(e.defaults)),o}});