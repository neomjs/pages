import o from"../core/Base.mjs";export default Neo.setupClass(class extends o{static delayable={onBodyScroll:{type:"throttle",timer:16},onBodyScrollEnd:{type:"buffer",timer:150},onContainerScroll:{type:"throttle",timer:16}};static config={className:"Neo.grid.ScrollManager",dragScroll_:!0,mounted_:!1,scrollLeft_:0,scrollTop_:0};gridBody=null;gridContainer=null;afterSetDragScroll(o,r){let l="neo-mouse-drag-scroll";o?this.gridBody.addCls(l):r&&this.gridBody.removeCls(l),this.mounted&&this.updateDragScrollAddon(o)}afterSetMounted(o,r){o?this.dragScroll&&this.updateDragScrollAddon(!0):r&&this.updateDragScrollAddon(!1)}onBodyScroll({scrollTop:o}){let r=this,l=r.gridBody;r.scrollTop=o,l.set({isScrolling:!0,scrollTop:o}),r.onBodyScrollEnd()}onBodyScrollEnd(){this.gridBody.isScrolling=!1}onContainerScroll({scrollLeft:o,target:r}){let l=this,t=l.gridBody;r.id.includes("grid-container")&&(t.isScrolling=!0,l.onBodyScrollEnd(),l.scrollLeft=o,t.scrollLeft=o,l.gridContainer.headerToolbar.scrollLeft=o)}async updateDragScrollAddon(o){let r=this,l=await Neo.currentWorker.getAddon("GridDragScroll",r.windowId);o?l.register({bodyId:r.gridBody.id+"__wrapper",containerId:r.gridContainer.id,id:r.id}):l.unregister({id:r.id})}toJSON(){return{...super.toJSON(),scrollLeft:this.scrollLeft,scrollTop:this.scrollTop}}});