import o from"../core/Base.mjs";export default Neo.setupClass(class extends o{static delayable={onBodyScroll:{type:"throttle",timer:16},onBodyScrollEnd:{type:"buffer",timer:150},onContainerScroll:{type:"throttle",timer:16}};static config={className:"Neo.grid.ScrollManager",scrollLeft_:0,scrollTop_:0};gridBody=null;gridContainer=null;lastTouchX=0;lastTouchY=0;touchMoveOwner=null;construct(o){super.construct(o);let l=this;l.gridBody.addDomListeners({touchcancel:l.onTouchCancel,touchend:l.onTouchEnd,scope:l})}onBodyScroll({scrollTop:o,touches:l}){let e,t,c=this,n=c.gridBody;c.scrollTop=o,n.set({isScrolling:!0,scrollTop:o}),c.onBodyScrollEnd(),l&&("container"!==c.touchMoveOwner&&(c.touchMoveOwner="body"),"body"===c.touchMoveOwner&&(t=l.lastTouch.clientX-l.firstTouch.clientX,e=c.lastTouchX-t,0!==e&&Neo.main.DomAccess.scrollTo({direction:"left",id:c.gridContainer.id,value:c.scrollLeft+e,windowId:c.windowId}),c.lastTouchX=t))}onBodyScrollEnd(){this.gridBody.isScrolling=!1}onContainerScroll({scrollLeft:o,target:l,touches:e}){let t,c,n=this,r=n.gridBody;l.id.includes("grid-container")&&(r.isScrolling=!0,n.onBodyScrollEnd(),n.scrollLeft=o,r.scrollLeft=o,n.gridContainer.headerToolbar.scrollLeft=o,e&&!n.gridContainer.headerToolbar.cls.includes("neo-is-dragging")&&("body"!==n.touchMoveOwner&&(n.touchMoveOwner="container"),"container"===n.touchMoveOwner&&(c=e.lastTouch.clientY-e.firstTouch.clientY,t=n.lastTouchY-c,0!==t&&Neo.main.DomAccess.scrollTo({direction:"top",id:r.vdom.id,value:n.scrollTop+t,windowId:n.windowId}),n.lastTouchY=c)))}onTouchCancel(o){this.onTouchEnd(o)}onTouchEnd(o){let l=this;l.touchMoveOwner=null,l.lastTouchX=0,l.lastTouchY=0}});