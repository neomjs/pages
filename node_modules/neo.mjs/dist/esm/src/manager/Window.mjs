import e from"./Base.mjs";import t from"../util/Rectangle.mjs";export default Neo.setupClass(class extends e{static config={className:"Neo.manager.Window",singleton:!0};construct(e){super.construct(e);let t=this;Neo.currentWorker.on({connect:t.onWindowConnect,disconnect:t.onWindowDisconnect,scope:t})}getWindowAt(e,t){let n=this.items.find(n=>n.rect?.contains({x:e,y:t,right:e,bottom:t}));return n?n.id:null}onWindowConnect({appName:e,windowId:t}){this.register({appName:e,id:t,rect:null})}onWindowDisconnect({windowId:e}){this.unregister(e)}onWindowPositionChange({outerHeight:e,outerWidth:n,screenLeft:o,screenTop:i,windowId:s}){let r=this.get(s),c=new t(o,i,n,e);r?r.rect=c:this.register({id:s,rect:c})}});