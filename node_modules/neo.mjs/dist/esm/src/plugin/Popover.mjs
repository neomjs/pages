import e from"../container/Base.mjs";import o from"../util/Array.mjs";import t from"./Base.mjs";export default Neo.setupClass(class extends t{static alignValues=["bc-tc","tc-bc","tl-tr","tr-tl","cl-cr","cr-cl",null];static config={className:"Neo.plugin.Popover",ntype:"plugin-popover",align_:"bc-tc",popoverBaseCls:"neo-popover",popovertargetCls:"neo-popover-target"};construct(e){let o=this;super.construct(e),o.popoverId=Neo.getId("popover"),o.preparePopoverTarget(),o.addPopover(),o.addListeners()}addListeners(){const e=this;e.owner.addDomListeners([{mouseover:e.onTargetMouseOver,scope:e},{mouseout:e.onTargetMouseOut,scope:e}])}addPopover(){const o=this,{owner:t}=o,r=Neo.get(o.owner.parentId),s={module:e,id:o.popoverId,baseCls:[o.popoverBaseCls],cls:[o.align],layout:"base",items:o.items||[],vdom:{popover:"auto",anchor:t.id}};r.add(s)}beforeSetAlign(e,o){return this.testInputValue(e,o,"alignValues","align")}onTargetMouseOut(e){Neo.main.addon.Popover.hide({id:e.component.id})}onTargetMouseOver(e){Neo.main.addon.Popover.show({id:e.component.id})}preparePopoverTarget(){const e=this,o=e.owner,t=o.vdom;o.addCls(e.popovertargetCls),t.popovertarget=e.popoverId}testInputValue(e,t,r,s){const a=this.getStaticConfig(r);return o.hasItem(a,e)?e:(Neo.logError(this.id+' -> layout: supported values for "'+s+'" are',a),t)}});