import e from"./Base.mjs";import t from"../util/ClassSystem.mjs";class n extends e{static observable=!0;static config={className:"Neo.controller.Application",ntype:"application",appThemeFolder:null,mainView_:null,mounted:!1,name:"MyApp",parentId:"document.body",vnodeInitialising:!1,vnodeInitialized:!1,windowId:null};construct(e){let t=e.mainView;delete e.mainView,super.construct(e);let n=this;n.windowId=Neo.config.windowId,Neo.apps=Neo.apps||{},Neo.apps[n.name]=n,Neo.currentWorker.registerApp(n.name),t&&(n.mainView=t)}async afterSetMainView(e,t){if(e){let t=this;await t.timeout(Neo.config.hash?200:10),await e.initVnode(!0)}}beforeSetMainView(e,n){return e?t.beforeSetInstance(e,null,{appName:this.name,parentId:this.parentId,windowId:Neo.config.windowId}):null}destroy(...e){Neo.currentWorker.removeAppFromThemeMap(this.name),super.destroy(...e)}}n=Neo.setupClass(n),Neo.app=e=>Neo.create({module:n,...e});export default n;