import e from"../core/EffectManager.mjs";function t(r,n){return new Proxy({},{get(o,a){if("symbol"==typeof a||"__REFADR__"===a||"inspect"===a||"then"===a)return Reflect.get(o,a);if("string"!=typeof a&&"number"!=typeof a)return;const f=n?`${n}.${a}`:a,c=r.getOwnerOfDataProperty(f);if(c){const{owner:n,propertyName:o}=c,a=n.getDataConfig(o);if(a){const n=e.getActiveEffect();n&&n.addDependency(a);const o=a.get();return"Object"===Neo.typeOf(o)?t(r,f):o}}return r.hasNestedDataStartingWith(f)?t(r,f):null},set(e,t,o){if("symbol"==typeof t||"__REFADR__"===t)return Reflect.set(e,t,o);const a=n?`${n}.${t}`:t,f=r.getOwnerOfDataProperty(a);let c;return c=f?f.owner:r,c.setData(a,o),!0},ownKeys:e=>r.getTopLevelDataKeys(n),getOwnPropertyDescriptor(e,o){const a=n?`${n}.${o}`:o,f=r.getOwnerOfDataProperty(a);if(f){const e=f.owner.getDataConfig(f.propertyName);if(e){const n=e.get();return{value:Neo.isObject(n)?t(r,a):n,writable:!0,enumerable:!0,configurable:!0}}}}})}export function createHierarchicalDataProxy(e){return t(e,"")}