import e from"../../core/Base.mjs";import o from"../../manager/Component.mjs";export default Neo.setupClass(class extends e{static config={className:"Neo.util.vdom.TreeBuilder",singleton:!0};#e(e,t,n,r){if("object"!=typeof e||null===e)return e;let s={...e};return e[r]&&(s[r]=[],e[r].forEach(e=>{let d,i=e;if(i.componentId){if(1===t&&!n?.has(i.componentId))return void s[r].push({...i,neoIgnore:!0});if(t>1||-1===t||n?.has(i.componentId)){const e=o.get(i.componentId),t="cn"===r?e?.vdom:e?.vnode;t&&(i=t)}}d=e.componentId?-1===t?-1:Math.max(0,t-1):t,s[r].push(this.#e(i,d,n,r))})),s}getVdomTree(e,o=-1,t=null){return this.#e(e,o,t,"cn")}getVnodeTree(e,o=-1,t=null){return this.#e(e,o,t,"childNodes")}});