import e from"../../core/Base.mjs";import o from"../../manager/Component.mjs";export default Neo.setupClass(class extends e{static config={className:"Neo.util.vdom.TreeBuilder",singleton:!0};#e(e,n,t,r){if("object"!=typeof e||null===e)return e;let s={...e};return e[r]&&(s[r]=[],e[r].forEach(e=>{let d,i=e;if(i.componentId){const e=o.get(i.componentId);if(-1!==n&&e?.vnode){const e=t?.has(i.componentId);if(1===n&&!e||t&&!e)return void s[r].push({...i,neoIgnore:!0})}if(n>1||-1===n||t?.has(i.componentId)||!e?.vnode){const o="cn"===r?e?.vdom:e?.vnode;o&&(i=o)}}d=e.componentId?-1===n?-1:Math.max(0,n-1):n,s[r].push(this.#e(i,d,t,r))})),s}getVdomTree(e,o=-1,n=null){return this.#e(e,o,n,"cn")}getVnodeTree(e,o=-1,n=null){return this.#e(e,o,n,"childNodes")}});