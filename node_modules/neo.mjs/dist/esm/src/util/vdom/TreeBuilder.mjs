import e from"../../core/Base.mjs";import o from"../../manager/Component.mjs";export default Neo.setupClass(class extends e{static config={className:"Neo.util.vdom.TreeBuilder",singleton:!0};#e(e,n,t,r){if("object"!=typeof e||null===e)return e;let d={...e};return e[r]&&(d[r]=[],e[r].forEach(e=>{let i,s=e;if(s.componentId){if(1===n&&!t?.has(s.componentId))return void d[r].push({componentId:"neo-ignore",id:e.id||e.componentId});if(n>1||-1===n||t?.has(s.componentId)){const e=o.get(s.componentId),n="cn"===r?e?.vdom:e?.vnode;n&&(s=n)}}i=e.componentId?-1===n?-1:Math.max(0,n-1):n,d[r].push(this.#e(s,i,t,r))})),d}getVdomTree(e,o=-1,n=null){return this.#e(e,o,n,"cn")}getVnodeTree(e,o=-1,n=null){return this.#e(e,o,n,"childNodes")}});