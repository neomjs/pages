import e from"../core/Base.mjs";const t=/\{(\d+)\}/g,n=/\\r\\n|\\r|\\n/g;export default Neo.setupClass(class extends e{static config={className:"Neo.util.HighlightJsLineNumbers",singleton:!0};TABLE_NAME="hljs-ln";LINE_NAME="hljs-ln-line";CODE_BLOCK_NAME="hljs-ln-code";NUMBERS_BLOCK_NAME="hljs-ln-numbers";NUMBER_LINE_NAME="hljs-ln-n";DATA_ATTR_NAME="data-line-number";format(e,n){return e.replace(t,function(e,t){return void 0!==n[t]?n[t]:e})}addLineNumbers(e,t){let n=this,s=n.getLines(e),l="";if(s.length>0){t&&Neo.currentWorker.insertThemeFiles(t,n.__proto__);for(let e=0;e<s.length;e++)l+=n.format(["<tr>",'<td class="{0} {1}" {3}="{5}">','<div class="{2}" {3}="{5}"></div>',"</td>",'<td class="{0} {4}" {3}="{5}">',"{6}","</td>","</tr>"].join(""),[n.LINE_NAME,n.NUMBERS_BLOCK_NAME,n.NUMBER_LINE_NAME,n.DATA_ATTR_NAME,n.CODE_BLOCK_NAME,e+1,s[e].length>0?s[e]:" "]);return n.format('<table class="{0}">{1}</table>',[n.TABLE_NAME,l])}return e}getLines(e){if(0===e.length)return[];const t=e.split(n);return t.length>0&&""===t[t.length-1].trim()&&t.pop(),t}});