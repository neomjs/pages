import e from"../core/Base.mjs";import t from"../manager/Component.mjs";class r extends e{static config={className:"Neo.util.VNode"};static find(e,t,o,i){e=r.getVnode(e),o=o||0,t="string"!=typeof t?t:{id:t};let n,d,s,a=!0,c=[],l=!0,h=0,f=e.childNodes?.length||0;if(n=Object.entries(t),d=n.length,n.forEach((([t,r])=>{if(e.hasOwnProperty(t))switch(t){case"attributes":Neo.isObject(r)&&Neo.isObject(e[t])&&(Object.entries(r).forEach((([r,o])=>{e[t].hasOwnProperty(r)&&e[t][r]===o||(a=!1)})),a&&c.push(!0));break;case"className":if("string"==typeof r&&Neo.isArray(e[t]))e[t].includes(r)&&c.push(!0);else if("string"==typeof r&&"string"==typeof e[t])e[t]===r&&c.push(!0);else if(Neo.isArray(r)&&Neo.isArray(e[t]))throw new Error("find: cls matching not supported for target & source types of Arrays");break;case"style":Neo.isObject(r)&&Neo.isObject(e[t])&&(Object.entries(r).forEach((([r,o])=>{e[t].hasOwnProperty(r)&&e[t][r]===o||(l=!1)})),l&&c.push(!0));break;default:e[t]===r&&c.push(!0)}})),c.length===d)return{index:o,parentNode:i,vnode:e};for(;h<f;h++)if(s=r.find(e.childNodes[h],t,h,e),s)return s;return null}static getById(e,t){let o,i=(e=r.getVnode(e)).childNodes||[],n=0,d=i.length;if(e.id===t)return e;for(;n<d;n++){if(o=r.getVnode(i[n]),o.id===t)return o;if(o=r.getById(o,t),o)return o}return null}static getChildIds(e,t=[]){return e?.childNodes?.forEach((e=>{e.id&&!e.componentId&&t.push(e.id),r.getChildIds(e,t)})),t}static getVnode(e){return e.componentId&&(e=t.get(e.componentId).vnode),e}static removeChildVnode(e,t){let o,i=(e=r.getVnode(e)).childNodes||[],n=0,d=i.length;if(e.id===t)throw new Error("removeChildVnode: target id matches the root vnode id: "+t);for(;n<d;n++){if(o=r.getVnode(i[n]),o.id===t)return i.splice(n,1),!0;if(r.removeChildVnode(o,t))return!0}return!1}static replaceChildVnode(e,t,o){let i,n=(e=r.getVnode(e)).childNodes||[],d=0,s=n.length;if(e.id===t)throw new Error("replaceChildVnode: target id matches the root vnode id: "+t);for(;d<s;d++){if(i=r.getVnode(n[d]),i.id===t)return n[d]=o,!0;if(r.replaceChildVnode(i,t,o))return!0}return!1}}export default Neo.setupClass(r);