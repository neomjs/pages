import i from"../core/Base.mjs";import t from"./HighlightJsLineNumbers.mjs";export default Neo.setupClass(class extends i{static config={className:"Neo.util.HighlightJs",debug:!0,singleton:!0,windowId_:null};hljs=null;afterSetWindowId(i,t){i&&Neo.currentWorker.insertThemeFiles(i,this.__proto__)}async highlight(i,t,h){let e=this;return e.windowId=h,await e.load(),e.hljs.highlight(i,{language:t}).value}async highlightAuto(i,t){let h=this;return h.windowId=t,await h.load(),h.hljs.highlightAuto(i).value}async highlightLine(i,h,e){let s=await this.highlight(i,h,e);return t.addLineNumbers(s,e)}async highlightAutoLine(i,h){let e=await this.highlightAuto(i,h);return t.addLineNumbers(e,h)}async load(){if(!this.hljs){let i=Neo.config.basePath+"dist/highlight/highlight.custom"+(this.debug?"":".min")+".js",t=await import(i);this.hljs=t.default}}});