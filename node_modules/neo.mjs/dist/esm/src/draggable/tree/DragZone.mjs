import e from"../../draggable/list/DragZone.mjs";import t from"../../util/Array.mjs";import o from"../../util/VDom.mjs";export default Neo.setupClass(class extends e{static config={className:"Neo.draggable.tree.DragZone",ntype:"tree-dragzone",dragProxyConfig:{cls:["neo-tree-list"]},leafNodesOnly_:!1};afterSetLeafNodesOnly(e,o){if(void 0!==o){let o,{owner:a}=this,{store:r}=a;r.items.forEach(r=>{r.isLeaf||(o=a.getVdomChild(a.getItemId(r.id),a.vdom),o.cls=o.cls||[],t[e?"remove":"add"](o.cls,"neo-draggable"))}),a.update()}}getDragElementRoot(){return this.dragElement.cn[0]}getItemVdom(e,t){let{owner:o}=this;return!this.leafNodesOnly||e.isLeaf?o.getVdomChild(o.getItemId(e.id),o.vdom):null}async onDragStart(e){let t=this;t.owner.draggable&&(t.dragElement={tag:"ul",cls:["neo-list-container","neo-list"],cn:[o.find(t.owner.vdom,e.path[0].id).vdom]},await t.dragStart(e))}});