import t from"./Base.mjs";export default Neo.setupClass(class extends t{static config={className:"Neo.list.Component",ntype:"component-list",items:null};afterSetAppName(t,e){super.afterSetAppName(t,e),t&&this.items?.forEach((e=>{e.appName=t}))}afterSetWindowId(t,e){super.afterSetWindowId(t,e),t&&this.items?.forEach((e=>{e.windowId=t}))}destroy(...t){(this.items||[]).forEach((t=>{t.destroy()})),super.destroy(...t)}getComponentId(t){return`${this.id}__${t}__component`}getItemId(t){return`${this.id}__${this.store.indexOf(t)}`}getItemRecordId(t){let e=t.split("__")[1];return this.store.getAt(parseInt(e))[this.getKeyProperty()]}onStoreSort(t){this.sortItems(t),super.onStoreSort(t)}sortItems(t){let e,s,r,o=this,i=[];o.items&&(o.items.forEach((t=>{t.setSilent({id:null})})),s=o.getKeyProperty(),r=t.previousItems.map((t=>t[s])),t.items.forEach((t=>{e=r.indexOf(t[s]),i.push(o.items[e])})),o.updateDepth=-1,o.items=i)}});