import e from"./Service.mjs";export default Neo.setupClass(class extends e{static config={className:"Neo.ai.client.InstanceService"};getInstanceProperties({id:e,properties:t}){const r=Neo.get(e),n={};if(!r)throw new Error(`Instance not found: ${e}`);return t.forEach(e=>{n[e]=this.safeSerialize(Neo.ns(e,!1,r))}),{properties:n}}findInstances({selector:e,returnProperties:t}){return{instances:Neo.manager.Instance.find(e).map(e=>{if(Array.isArray(t)&&t.length>0){const r={};return t.forEach(t=>{r[t]=this.safeSerialize(Neo.ns(t,!1,e))}),{className:e.className,id:e.id,properties:r}}return e.toJSON()})}}setInstanceProperties({id:e,properties:t}){const r=Neo.get(e);if(!r)throw new Error(`Instance not found: ${e}`);return r.set(t),{success:!0}}async callMethod({id:e,method:t,args:r=[]}){const n=Neo.get(e);if(!n)throw new Error(`Instance not found: ${e}`);const s=t.split("."),o=s.pop(),i=s.length<1?n:Neo.ns(s.join("."),!1,n);if(!i||"function"!=typeof i[o])throw new Error(`Method not found: ${t} on instance ${e}`);const a=await i[o].call(i,...r);return{result:this.safeSerialize(a)}}});