import e from"../../util/String.mjs";import{voidAttributes as t,voidElements as r}from"../domConstants.mjs";const o={createCloseTag:e=>r.has(e.nodeName)?"":"</"+e.nodeName+">",createOpenTag(r){let o,a="<"+r.nodeName,{attributes:n}=r,s=r.className;return r.style&&(o=Neo.createStyles(r.style),""!==o&&(a+=` style="${o}"`)),s&&(Array.isArray(s)&&(s=s.join(" ")),""!==s&&(a+=` class="${s}"`)),r.id&&(Neo.config.useDomIds?a+=` id="${r.id}"`:a+=` data-neo-id="${r.id}"`),Object.entries(n).forEach(([r,o])=>{t.has(r)?"true"===o&&(a+=` ${r}`):"removeDom"!==r&&("value"===r&&(o=e.escapeHtml(o)),a+=` ${r}="${o?.replaceAll?.('"',"&quot;")??o}"`)}),a+">"},create(e,t){let r=this,o=e?.id;if(o&&t?.get(o))return"";switch(e.vtype){case"root":return r.create(e.childNodes[0],t);case"text":return`\x3c!-- ${e.id} --\x3e${e.textContent}\x3c!-- /neo-vtext --\x3e`;case"vnode":return r.createOpenTag(e)+r.createTagContent(e,t)+r.createCloseTag(e);default:return""}},createTagContent(e,t){const r=e.innerHTML||e.textContent;if(r)return r;let o,a="",n=e.childNodes?e.childNodes.length:0,s=0;for(;s<n;s++)o=e.childNodes[s],a+=this.create(o,t);return a}};Neo.ns("Neo.vdom.util",!0).StringFromVnode=o;export default o;