import e from"../../util/String.mjs";import{voidAttributes as t,voidElements as r}from"../domConstants.mjs";const o={createCloseTag:e=>r.has(e.nodeName)?"":"</"+e.nodeName+">",createOpenTag(r){let o,s="<"+r.nodeName,{attributes:l}=r,a=r.className;return r.style&&(o=Neo.createStyles(r.style),""!==o&&(s+=` style="${o}"`)),a&&(Array.isArray(a)&&(a=a.join(" ")),""!==a&&(s+=` class="${a}"`)),r.id&&(Neo.config.useDomIds?s+=` id="${r.id}"`:s+=` data-neo-id="${r.id}"`),Object.entries(l).forEach(([r,o])=>{t.has(r)?"true"===o&&(s+=` ${r}`):"removeDom"!==r&&("value"===r&&(o=e.escapeHtml(o)),s+=` ${r}="${o?.replaceAll?.('"',"&quot;")??o}"`)}),s+">"},create(e,t,r=[]){let o=this,s=e?.id;if(s&&t?.get(s))return"";switch(e.vtype){case"root":return o.create(e.childNodes[0],t,r);case"text":return`\x3c!-- ${e.id} --\x3e${e.textContent}\x3c!-- /neo-vtext --\x3e`;case"vnode":if(e.scrollTop||e.scrollLeft){let t={id:s};e.scrollLeft&&(t.scrollLeft=e.scrollLeft),e.scrollTop&&(t.scrollTop=e.scrollTop),r.push(t)}return o.createOpenTag(e)+o.createTagContent(e,t,r)+o.createCloseTag(e);default:return""}},createTagContent(e,t,r){const o=e.innerHTML||e.textContent;if(o)return o;let s,l="",a=e.childNodes?e.childNodes.length:0,n=0;for(;n<a;n++)s=e.childNodes[n],l+=this.create(s,t,r);return l}};Neo.ns("Neo.vdom.util",!0).StringFromVnode=o;export default o;