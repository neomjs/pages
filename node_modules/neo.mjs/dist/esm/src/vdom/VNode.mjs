import e from"../util/String.mjs";function t(e){let t,o,s,i,n,r,l,d=[];if(Neo.isString(e))for(i=e.split(" "),t=0,o=i.length;t<o;t++)l=i[t],l&&d.push(l);else if(Array.isArray(e))for(t=0,o=e.length;t<o;t++)if(s=e[t],Neo.isString(s))if(s.includes(" "))for(i=s.split(" "),n=0,r=i.length;n<r;n++)l=i[n],l&&d.push(l);else""!==s&&d.push(s);return d.length>1?Array.from(new Set(d)):d}export default Neo.gatekeep(class{constructor(o){let s=this,{textContent:i}=o,n=Object.hasOwn(o,"innerHTML"),r="text"===o.vtype;if(!o.id){if(!Neo.config.unitTestMode)throw new Error("VNode created without an id. IDs must be generated by the App Worker (TreeBuilder).");o.id=Neo.getId(r?"vtext":"vnode")}Object.assign(s,{childNodes:o.childNodes||[],id:o.id,vtype:o.vtype||"vnode"}),r?s.textContent=Neo.config.useDomApiRenderer?i:e.escapeHtml(i):(Object.assign(s,{attributes:o.attributes||{},className:t(o.className),nodeName:o.nodeName||"div",scrollLeft:o.scrollLeft,scrollTop:o.scrollTop,style:o.style||{}}),n?s.innerHTML=o.innerHTML:Object.hasOwn(o,"textContent")&&(s.textContent=Neo.config.useDomApiRenderer?i:e.escapeHtml(i))),o.static&&(s.static=!0)}},"Neo.vdom.VNode");