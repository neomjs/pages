import e from"../util/String.mjs";function t(e){let t=[];return Neo.isString(e)?t=e.split(" ").filter(Boolean):Array.isArray(e)&&e.forEach(e=>{Neo.isString(e)&&(e.includes(" ")?t.push(...e.split(" ").filter(Boolean)):""!==e&&t.push(e))}),[...new Set(t)]}export default Neo.gatekeep(class{constructor(o){let i=this,{textContent:n}=o,s=Object.hasOwn(o,"innerHTML"),r="text"===o.vtype;if(!o.id){if(!Neo.config.unitTestMode)throw new Error("VNode created without an id. IDs must be generated by the App Worker (TreeBuilder).");o.id=Neo.getId(r?"vtext":"vnode")}Object.assign(i,{childNodes:o.childNodes||[],id:o.id,vtype:o.vtype||"vnode"}),r?i.textContent=Neo.config.useDomApiRenderer?n:e.escapeHtml(n):(Object.assign(i,{attributes:o.attributes||{},className:t(o.className),nodeName:o.nodeName||"div",scrollLeft:o.scrollLeft,scrollTop:o.scrollTop,style:o.style||{}}),s?i.innerHTML=o.innerHTML:Object.hasOwn(o,"textContent")&&(i.textContent=Neo.config.useDomApiRenderer?n:e.escapeHtml(n))),o.static&&(i.static=!0)}},"Neo.vdom.VNode");