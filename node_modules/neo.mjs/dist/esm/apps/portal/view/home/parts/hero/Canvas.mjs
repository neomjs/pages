import a from"../../../../../../src/component/Canvas.mjs";import e from"../../../../../../src/manager/Component.mjs";export default Neo.setupClass(class extends a{static config={className:"Portal.view.home.parts.hero.Canvas",cls:["portal-home-hero-canvas"],listeners:{resize:"onResize"},_vdom:{tag:"canvas"}};canvasId=null;isCanvasReady=!1;async afterSetOffscreenRegistered(a,e){let s=this;a?(await Portal.canvas.Helper.importHomeCanvas(),await Portal.canvas.HomeCanvas.initGraph({canvasId:s.getCanvasId(),windowId:s.windowId}),s.isCanvasReady=!0,Neo.main.addon.ResizeObserver.register({id:s.id,windowId:s.windowId}),await s.updateSize()):e&&(s.isCanvasReady=!1,await Portal.canvas.HomeCanvas.clearGraph())}getCanvasId(){let a=this;return a.canvasId||(a.canvasId=a.id),a.canvasId}onClick(a){let e=this;e.isCanvasReady&&e.canvasRect&&Portal.canvas.HomeCanvas.updateMouseState({click:!0,x:a.clientX-e.canvasRect.left,y:a.clientY-e.canvasRect.top})}pause(){this.isCanvasReady&&Portal.canvas.HomeCanvas.pause()}resume(){this.isCanvasReady&&Portal.canvas.HomeCanvas.resume()}onMouseLeave(a){this.isCanvasReady&&Portal.canvas.HomeCanvas.updateMouseState({leave:!0})}onMouseMove(a){let e=this;e.isCanvasReady&&e.canvasRect&&Portal.canvas.HomeCanvas.updateMouseState({x:a.clientX-e.canvasRect.left,y:a.clientY-e.canvasRect.top})}async onResize(a){await this.updateSize(a.contentRect)}async updateSize(a){let e=this;a&&0!==a.width&&0!==a.height||(a=await e.getDomRect(e.id)),a&&(e.canvasRect=a,await Portal.canvas.HomeCanvas.updateSize({width:a.width,height:a.height}))}});