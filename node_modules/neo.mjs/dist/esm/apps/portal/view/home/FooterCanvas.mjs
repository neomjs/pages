import e from"../../../../src/app/SharedCanvas.mjs";import a from"../../../../src/manager/Component.mjs";export default Neo.setupClass(class extends e{static config={className:"Portal.view.home.FooterCanvas",activeId_:null,cls:["portal-footer-canvas"],hoverId_:null,rendererClassName:"Portal.canvas.FooterCanvas",rendererImportPath:"apps/portal/canvas/FooterCanvas.mjs",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0}};navRects=null;afterSetIsCanvasReady(e,a){super.afterSetIsCanvasReady(e,a),e&&this.activeId&&this.renderer.updateActiveId({id:this.activeId})}async afterSetOffscreenRegistered(e,a){await super.afterSetOffscreenRegistered(e,a),e&&await this.updateNavRects()}async afterSetActiveId(e,a){this.isCanvasReady&&await this.renderer.updateActiveId({id:e})}async afterSetHoverId(e,a){this.isCanvasReady&&await this.renderer.updateHoverId({id:e})}async onResize(e){await super.onResize(e),await this.updateNavRects()}async updateNavRects(){let e=this;if(!e.isCanvasReady)return;let t=Neo.get(e.parentId),s=a.down(t,"button",!1).map(e=>e.id);if(s.length>0){let a=await e.getDomRect(s),t=await e.getDomRect(e.id);e.canvasRect=t,a&&t&&(e.navRects=a.map((e,a)=>e?{id:s[a],x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height}:null).filter(Boolean),e.renderer.updateNavRects({rects:e.navRects}))}}});