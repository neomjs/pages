import e from"../../../../src/manager/Component.mjs";import t from"../shared/Canvas.mjs";export default Neo.setupClass(class extends t{static config={className:"Portal.view.home.FooterCanvas",activeId_:null,cls:["portal-footer-canvas"],hoverId_:null,importMethodName:"importFooterCanvas",rendererClassName:"Portal.canvas.FooterCanvas",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0}};navRects=null;afterSetIsCanvasReady(e,t){super.afterSetIsCanvasReady(e,t),e&&this.activeId&&this.renderer.updateActiveId({id:this.activeId})}async afterSetOffscreenRegistered(e,t){await super.afterSetOffscreenRegistered(e,t),e&&await this.updateNavRects()}async afterSetActiveId(e,t){this.isCanvasReady&&await this.renderer.updateActiveId({id:e})}async afterSetHoverId(e,t){this.isCanvasReady&&await this.renderer.updateHoverId({id:e})}async onResize(e){await super.onResize(e),await this.updateNavRects()}async updateNavRects(){let t=this;if(!t.isCanvasReady)return;let a=Neo.get(t.parentId),s=e.down(a,"button",!1).map(e=>e.id);if(s.length>0){let e=await t.getDomRect(s),a=await t.getDomRect(t.id);t.canvasRect=a,e&&a&&(t.navRects=e.map((e,t)=>e?{id:s[t],x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}:null).filter(Boolean),t.renderer.updateNavRects({rects:t.navRects}))}}});