import e from"../../../store/TicketLabels.mjs";import t from"../../../store/TicketTimelineSections.mjs";import o from"../../../store/Tickets.mjs";import r from"../../../../../src/state/Provider.mjs";export default Neo.setupClass(class extends r{static config={className:"Portal.view.news.tickets.MainContainerStateProvider",data:{countPages:null,countSections:null,currentPageRecord:null,nextPageRecord:null,previousPageRecord:null},stores:{labels:{autoLoad:!0,module:e},sections:{module:t},tree:{autoLoad:!0,module:o}}};onDataPropertyChange(e,t,o){super.onDataPropertyChange(e,t,o);let r=this;switch(e){case"countSections":t<1&&r.component.getReference("page-sections-container")?.toggleCls("neo-expanded",!1);break;case"currentPageRecord":{let e,o,{data:n}=r,{countPages:a}=n,s=r.getStore("tree"),i=s.indexOf(t),c=null,d=null;for(e=i-1;e>=0;e--)if(o=s.getAt(e),o.isLeaf&&!r.recordIsHidden(o,s)){d=o;break}for(r.setData({previousPageRecord:d}),e=i+1;e<a;e++)if(o=s.getAt(e),o.isLeaf&&!r.recordIsHidden(o,s)){c=o;break}r.setData({nextPageRecord:c}),r.component.getReference("sidenav-container")?.toggleCls("neo-expanded",!1);break}}}recordIsHidden(e,t){return!!e.hidden||null!==e.parentId&&this.recordIsHidden(t.get(e.parentId),t)}});