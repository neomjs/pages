import e from"../../../store/ContentSections.mjs";import t from"../../../store/Releases.mjs";import r from"../../../../../src/state/Provider.mjs";export default Neo.setupClass(class extends r{static config={className:"Portal.view.news.release.MainContainerStateProvider",data:{countPages:null,countSections:null,currentPageRecord:null,nextPageRecord:null,previousPageRecord:null},stores:{sections:{module:e},tree:{autoLoad:!0,module:t}}};onDataPropertyChange(e,t,r){super.onDataPropertyChange(e,t,r);let n=this;switch(e){case"countSections":t<1&&n.component.getReference("page-sections-container")?.toggleCls("neo-expanded",!1);break;case"currentPageRecord":{let e,r,{data:o}=n,{countPages:a}=o,s=n.getStore("tree"),d=s.indexOf(t),c=null,l=null,i=null,u=null;for(e=d-1;e>=0;e--)if(r=s.getAt(e),r.isLeaf&&!n.recordIsHidden(r,s)){i=r;break}for(n.setData({previousPageText:u,previousPageRecord:i}),e=d+1;e<a;e++)if(r=s.getAt(e),r.isLeaf&&!n.recordIsHidden(r,s)){c=r;break}n.setData({nextPageText:l,nextPageRecord:c}),n.component.getReference("sidenav-container")?.toggleCls("neo-expanded",!1);break}}}recordIsHidden(e,t){return!!e.hidden||null!==e.parentId&&this.recordIsHidden(t.get(e.parentId),t)}});