import e from"../../../../src/container/Base.mjs";import t from"../../../../src/component/Image.mjs";import r from"../../../../src/util/VDom.mjs";export default Neo.setupClass(class extends e{static config={className:"DevIndex.view.home.ProfileContainer",cls:["devindex-profile-container"],layout:{ntype:"vbox",align:"stretch"},itemDefaults:{flex:"none"},items:[{ntype:"component",tag:"div",reference:"placeholder",text:"Select a user to view details",cls:["profile-placeholder"]},{ntype:"container",reference:"details-wrapper",cls:["profile-details-wrapper"],hidden:!0,layout:{ntype:"vbox",align:"stretch"},itemDefaults:{flex:"none"},items:[{ntype:"component",reference:"profile-header",cls:["profile-header"],vdom:{cn:[{tag:"div",cls:["profile-avatar-wrapper"],cn:[{tag:"img",cls:["profile-avatar"],flag:"avatar"}]},{tag:"div",cls:["profile-names"],cn:[{tag:"div",cls:["profile-name"],flag:"name"},{tag:"div",cls:["profile-login"],flag:"login"}]}]}},{ntype:"component",tag:"div",cls:["profile-bio"],reference:"profile-bio",text:""},{ntype:"component",tag:"div",cls:["profile-details-label"],text:"Details"},{ntype:"component",tag:"div",cls:["profile-detail"],reference:"profile-location",text:""},{ntype:"component",tag:"div",cls:["profile-detail"],reference:"profile-company",text:""},{ntype:"container",reference:"profile-orgs",layout:{ntype:"hbox",wrap:"wrap"},cls:["profile-orgs"],items:[]}]}]};getAvatarUrl(e,t){if(e)try{if(!String(e).startsWith("http"))return`https://avatars.githubusercontent.com/u/${e}?v=4&s=${t}`;let r=new URL(e);return r.searchParams.set("s",t),r.toString()}catch(t){console.error("Invalid Avatar URL",e)}return e||""}updateRecord(e){let a,o,n,i=this,l=i.getReference("details-wrapper"),c=i.getReference("placeholder"),p=i.getReference("profile-header"),s=i.getReference("profile-bio"),f=i.getReference("profile-location"),g=i.getReference("profile-company"),d=i.getReference("profile-orgs"),m=p.vdom;if(!e)return l.hidden=!0,void(c.hidden=!1);l.hidden=!1,c.hidden=!0,a=r.getByFlag(m,"avatar"),o=r.getByFlag(m,"name"),n=r.getByFlag(m,"login"),a&&(a.src=i.getAvatarUrl(e.avatarUrl,128)),o&&(o.text=e.name||""),n&&(n.text=`@${e.login}`),p.update(),s.text=e.bio||"No bio available.",f.text=e.location?`ðŸ“ ${e.location}`:"",g.text=e.company?`ðŸ¢ ${e.company}`:"",d.removeAll(),e.organizations&&Array.isArray(e.organizations)&&e.organizations.length>0&&(d.add({ntype:"component",tag:"div",cls:["org-label"],text:"Organizations:"}),e.organizations.forEach(e=>{d.add({module:t,alt:e.login,height:32,src:i.getAvatarUrl(e.avatarUrl,64),title:e.login,width:32})}))}});