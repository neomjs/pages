import e from"../../../../src/controller/Component.mjs";export default Neo.setupClass(class extends e{static config={className:"DevIndex.view.home.MainContainerController"};firstFiltering=!0;onBufferColumnRangeChange(e){if(e.oldValue){let t=e.value;Neo.isRecord(t)&&(t=t.id),this.getReference("grid").body.bufferColumnRange=parseInt(t)}}onBufferRowRangeChange(e){if(e.oldValue){let t=e.value;Neo.isRecord(t)&&(t=t.id),this.getReference("grid").body.bufferRowRange=parseInt(t)}}onDataModeChange(e){e.value&&(this.getReference("grid").dataMode=e.component.dataMode)}onComponentConstructed(){let e=this;e.getReference("grid").body.on("select",e.onGridSelect,e),e.getReference("controls-tab-container").on("activeIndexChange",e.onControlsTabChange,e),Neo.Main.getByPath({path:"location.search",windowId:e.windowId}).then(t=>{if(t){let n,o=new URLSearchParams(t).get("country");o&&(n=e.getReference("country-field"),n&&(n.value=o))}})}onControlsTabChange(e){let t=this;1===e.value&&t.selectedRecord&&t.getReference("profile-container")?.updateRecord(t.selectedRecord)}async onFilterChange(e){let t=this,n=t.getReference("grid"),o=e.component.getSubmitValue();"countryCode"===e.component.name&&o&&(o=o.toUpperCase()),t.firstFiltering&&(t.firstFiltering=!1,n.isLoading="Is Loading",await t.timeout(5)),n.store.getFilter(e.component.name).value=o,n.isLoading=!1}onGridIsScrollingChange(e){this.setState("isScrolling",e.value)}onGridSelect(e){let t=this,n=e.record,o=t.getReference("profile-container"),i=t.getReference("controls-tab-container");t.selectedRecord=n,n&&o&&1===i?.activeIndex&&o.updateRecord(n)}async onHideAutomationChange(e){let t=this,n=t.getReference("grid");t.firstFiltering&&(t.firstFiltering=!1,n.isLoading="Is Loading",await t.timeout(5)),n.store.getFilter("commitRatio").value=e.value?90:null,n.isLoading=!1}async onHireableChange(e){let t=this,n=t.getReference("grid");t.firstFiltering&&(t.firstFiltering=!1,n.isLoading="Is Loading",await t.timeout(5)),n.store.getFilter("isHireable").value=!!e.value||null,n.isLoading=!1}onSelectionModelChange(e){this.getReference("grid").body.selectionModel=e.component.selectionModel}onAnimateGridVisualsChange(e){this.setState("animateGridVisuals",e.value),Neo.main.addon.LocalStorage.updateLocalStorageItem({key:"devindexAnimateGridVisuals",value:String(e.value),windowId:this.windowId})}onSlowHeaderVisualsChange(e){this.setState("slowHeaderVisuals",e.value),Neo.main.addon.LocalStorage.updateLocalStorageItem({key:"devindexSlowHeaderVisuals",value:String(e.value),windowId:this.windowId})}});