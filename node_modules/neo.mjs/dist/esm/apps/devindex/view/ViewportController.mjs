import e from"../../../src/controller/Component.mjs";export default Neo.setupClass(class extends e{static config={className:"DevIndex.view.ViewportController",defaultHash:"/home",routes:{"/home":"onHomeRoute","/learn":"onLearnRoute","/learn/{*itemId}":"onLearnRoute"}};onComponentConstructed(){let e=this;Neo.main.addon.LocalStorage.readLocalStorageItem({key:["devindexTheme","devindexSlowHeaderVisuals","devindexAnimateGridVisuals"],windowId:e.windowId}).then(({value:t})=>{t.devindexTheme?e.setTheme(t.devindexTheme,!1):Neo.config.prefersDarkTheme&&e.setTheme("neo-theme-neo-dark",!1),null!==t.devindexSlowHeaderVisuals&&e.setState("slowHeaderVisuals","true"===t.devindexSlowHeaderVisuals),null!==t.devindexAnimateGridVisuals&&e.setState("animateGridVisuals","true"===t.devindexAnimateGridVisuals)})}async onControlsToggleButtonClick(e){let t=this,n=e.component,o=t.getReference("controls"),a=t.getReference("grid-wrapper");n.expanded=!n.expanded,o.toggleCls("neo-expanded"),await t.timeout(n.expanded?250:0),a.toggleCls("neo-extend-margin-right")}onHomeRoute(e,t,n){this.getReference("controls-toggle-button").disabled=!1,this.getReference("main-content").layout.activeIndex=0}onLearnRoute(e,t,n){this.getReference("controls-toggle-button").disabled=!0,this.getReference("main-content").layout.activeIndex=1}async onSwitchTheme(e){let t,n,o,a=this,i="neo-theme-neo-light"===(a.component.theme||"neo-theme-neo-light")?"neo-theme-neo-dark":"neo-theme-neo-light";e.clientX&&(n=e.clientX,o=e.clientY,t=Math.hypot(Math.max(n,3e3-n),Math.max(o,3e3-o))),await Neo.main.DomAccess.startViewTransition({animate:{keyframes:[{clipPath:`circle(0px at ${n}px ${o}px)`},{clipPath:`circle(${t}px at ${n}px ${o}px)`}],options:{duration:500,easing:"ease-in",pseudoElement:"::view-transition-new(root)"}},delay:100,windowId:a.windowId}),a.setTheme(i)}setTheme(e,t=!0){let n=this,o=n.getReference("theme-switch-button"),a="neo-theme-neo-dark"===e?"fa-solid fa-sun":"fa-solid fa-moon";n.component.theme=e,o&&(o.iconCls=a),t&&Neo.main.addon.LocalStorage.updateLocalStorageItem({key:"devindexTheme",value:e,windowId:n.windowId})}});