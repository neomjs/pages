import t from"../../../../src/component/Base.mjs";import e from"../../../../src/util/VDom.mjs";export default Neo.setupClass(class extends t{static config={className:"RealWorld.view.article.CommentComponent",author_:null,baseCls:["card"],body_:null,commentId:null,createdAt_:null,updatedAt:null,_vdom:{cn:[{cls:["card-block"],cn:[{tag:"p",cls:["card-text"]}]},{cls:["card-footer"],cn:[{tag:"a",cls:["comment-author"],href:"",cn:[{tag:"img",cls:["comment-author-img"]}]},{vtype:"text",html:"&nbsp;"},{tag:"a",cls:["comment-author"],href:""},{tag:"span",cls:["date-posted"]},{tag:"span",cls:["mod-options"],flag:"mod-options",cn:[{tag:"i",cls:["ion-trash-a"]}]}]}]}};construct(t){super.construct(t);let e=this;e.addDomListeners([{click:{fn:e.onDeleteButtonClick,delegate:".ion-trash-a",scope:e}}]),e.getController().on({afterSetCurrentUser:e.onCurrentUserChange,scope:e})}afterSetAuthor(t,e){if(t){let e=this;e.vdom.cn[1].cn[0].cn[0].src=t.image,e.vdom.cn[1].cn[2].html=t.username,e.update(),e.onCurrentUserChange()}}afterSetBody(t,e){t&&(this.vdom.cn[0].cn[0].html=t,this.update())}afterSetCreatedAt(t,e){t&&(this.vdom.cn[1].cn[3].html=new Intl.DateTimeFormat("en-US",{day:"numeric",month:"long",year:"numeric"}).format(new Date(t)),this.update())}onCurrentUserChange(){let t=this,o=t.getController().currentUser;o&&(e.getByFlag(t.vdom,"mod-options").removeDom=t.author.username!==o.username,t.update())}onDeleteButtonClick(t){this.getController().deleteComment(this.commentId)}onEditButtonClick(t){console.log("onEditButtonClick")}});