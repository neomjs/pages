import t from"../../store/Countries.mjs";import e from"../../../../src/component/Gallery.mjs";import n from"../../Util.mjs";export default Neo.setupClass(class extends e{static config={className:"SharedCovid.view.country.Gallery",baseCls:["covid-country-gallery","neo-gallery","page","view"],bind:{country:{twoWay:!0,value:t=>t.country}},country_:null,itemHeight:280,itemTpl:{cls:["neo-gallery-item","image-wrap","view","neo-transition-1000"],tabIndex:"-1",cn:[{cls:["neo-item-wrapper"],style:{},cn:[{cls:["neo-country-gallery-item"],style:{},cn:[{cls:["neo-item-header"],cn:[{tag:"img",cls:["neo-flag"]},{}]},{tag:"table",cls:["neo-content-table"],cn:[{tag:"tr",cn:[{tag:"td",html:"Cases"},{tag:"td",cls:["neo-align-right"]},{tag:"td",style:{width:"100%"}},{tag:"td",html:"Cases today"},{tag:"td",cls:["neo-align-right"]}]},{tag:"tr",cn:[{tag:"td",html:"Deaths"},{tag:"td",cls:["neo-align-right","neo-content-deaths"]},{tag:"td",style:{width:"100%"}},{tag:"td",html:"Deaths today"},{tag:"td",cls:["neo-align-right","neo-content-deaths"]}]},{tag:"tr",cn:[{tag:"td",html:"Recovered"},{tag:"td",cls:["neo-align-right","neo-content-recovered"]},{tag:"td",style:{width:"100%"}},{tag:"td",html:"Critical"},{tag:"td",cls:["neo-align-right","neo-content-critical"]}]}]}]}]}]},itemWidth:340,keyProperty:"country",selectOnMount:!1,store:t};afterSetCountry(t,e){if(void 0!==e){let e=this.selectionModel;t&&!e.isSelected(t)&&e.select(t,!1)}}createItem(t,e,l){let a=this,c=t.cn[0].cn[0],o=n.formatNumber,r=c.cn[1];return t.id=a.getItemVnodeId(e[a.keyProperty]),t.cn[0].style.height=a.itemHeight+"px",c.style.height=a.itemHeight-70+"px",c.style.width=a.itemWidth+"px",c.cn[0].cn[0].src=n.getCountryFlagUrl(e.country),c.cn[0].cn[1].html=e.country,r.cn[0].cn[1].html=o({value:e.cases}),r.cn[1].cn[1].html=o({value:e.deaths}),r.cn[2].cn[1].html=o({value:e.recovered}),r.cn[0].cn[4].html=o({value:e.todayCases}),r.cn[1].cn[4].html=o({value:e.todayDeaths}),r.cn[2].cn[4].html=o({value:e.critical}),t}getItemId(t){return t.split("__")[1]}onSelect(t){this.country=t[0]||null}onStoreLoad(t){super.onStoreLoad(t);let e=this;e.timeout(400).then(()=>{e.selectOnMount=!0,e.afterSetMounted(!0,!1)})}});