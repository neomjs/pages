import e from"../../../../src/table/Container.mjs";import t from"../../store/Countries.mjs";import r from"../../Util.mjs";class a extends e{static config={className:"SharedCovid.view.country.Table",baseCls:["covid-country-table","neo-table-container"],bind:{country:{twoWay:!0,value:e=>e.country}},columnDefaults:{cellAlign:"right",defaultSortDirection:"DESC",renderer:r.formatNumber},columns:[{cls:["neo-index-column","neo-table-header-button"],dataField:"index",dock:"left",minWidth:40,text:"#",renderer:r.indexRenderer,sortable:!1,width:40},{cellAlign:"left",dataField:"country",defaultSortDirection:"ASC",dock:"left",text:"Country",width:200,renderer:function(e){return{cls:["neo-country-column","neo-table-cell"],html:['<div style="display: flex; align-items: center">','<img style="height:20px; margin-right:10px; width:20px;" src="'+r.getCountryFlagUrl(e.value)+'">'+e.value,"</div>"].join("")}}},{dataField:"cases",text:"Cases"},{dataField:"casesPerOneMillion",text:"Cases / 1M"},{dataField:"infected",text:"Infected",renderer:e=>r.formatInfected(e)},{dataField:"active",text:"Active",renderer:e=>r.formatNumber(e,"#64B5F6")},{dataField:"recovered",text:"Recovered",renderer:e=>r.formatNumber(e,"#28ca68")},{dataField:"critical",text:"Critical",renderer:e=>r.formatNumber(e,"orange")},{dataField:"deaths",text:"Deaths",renderer:e=>r.formatNumber(e,"#fb6767")},{dataField:"todayCases",text:"Cases today"},{dataField:"todayDeaths",text:"Deaths today",renderer:e=>r.formatNumber(e,"#fb6767")},{dataField:"tests",text:"Tests"},{dataField:"testsPerOneMillion",text:"Tests / 1M"}],country_:null,store:t};afterSetCountry(e,t){if(void 0!==t){let t,r=this,{view:a}=r,{selectionModel:l}=a;e?(t=`${r.view.id}__tr__${e}`,l.isSelected(t)||(l.select(t),r.mounted&&Neo.main.DomAccess.scrollToTableRow({id:t}))):l.deselectAll()}}onDeselect(e){this.country=null}onSelect(e){let t=this,r=e[0]||null;t.store.getCount()>0&&(r&&(r=t.view.getRecordByRowId(r)?.country),r&&(t.country=r))}}export default Neo.setupClass(a);