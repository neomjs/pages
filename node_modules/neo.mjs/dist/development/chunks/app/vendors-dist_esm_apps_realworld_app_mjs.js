"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["vendors-dist_esm_apps_realworld_app_mjs"],{

/***/ "./dist/esm/apps/realworld/api/Article.mjs":
/*!*************************************************!*\
  !*** ./dist/esm/apps/realworld/api/Article.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./dist/esm/apps/realworld/api/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"RealWorld.api.Article",resource:"/articles",singleton:!0};deleteComment(e,t){return this.delete({url:`/articles/${e}/comments/${t}`})}getComments(e){return this.get({url:`/articles/${e}/comments`})}postComment(e,t){return this.post({...t,url:`/articles/${e}/comments`})}}));

/***/ }),

/***/ "./dist/esm/apps/realworld/api/Base.mjs":
/*!**********************************************!*\
  !*** ./dist/esm/apps/realworld/api/Base.mjs ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _config_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config.mjs */ "./dist/esm/apps/realworld/api/config.mjs");
/* harmony import */ var _src_core_Base_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../src/core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
class s extends _src_core_Base_mjs__WEBPACK_IMPORTED_MODULE_1__["default"]{static observable=!0;static token=null;static config={className:"RealWorld.api.Base",defaultHeaders:null,isReady:!1,resource:"/"};onConstructed(){super.onConstructed(),this.afterConstructed()}afterConstructed(){let e=this;Neo.apps&&Neo.apps.RealWorld?Neo.apps.RealWorld.rendered?e.onAppRendered():Neo.apps.RealWorld.on("render",e.onAppRendered,e):e.timeout(100).then(()=>{e.afterConstructed()})}onAppRendered(){const e=this;s.token?e.onReady(s.token):s.initialTokenRequestSent?s.on({ready:e.onReady,scope:e}):(s.initialTokenRequestSent=!0,Neo.main.addon.LocalStorage.readLocalStorageItem({key:_config_mjs__WEBPACK_IMPORTED_MODULE_0__.LOCAL_STORAGE_KEY}).then(t=>{const a=t.value;a&&(s.token=a),e.onReady(a),s.isReady=!0,s.fire("ready",a)}))}createUrl(t){return t.url?_config_mjs__WEBPACK_IMPORTED_MODULE_0__.API_URL+t.url:_config_mjs__WEBPACK_IMPORTED_MODULE_0__.API_URL+(t.resource||this.resource)+(t.slug?"/"+t.slug:"")}delete(e={}){return Neo.Xhr.promiseJson({data:e.data,method:"DELETE",params:e.params,url:this.createUrl(e),headers:{...this.defaultHeaders,"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}).catch(e=>{console.log("RealWorld.api.Base:get()",e)})}get(e={}){return Neo.Xhr.promiseJson({data:e.data,method:"GET",params:e.params,url:this.createUrl(e),headers:{...this.defaultHeaders,"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}).catch(e=>{console.log("RealWorld.api.Base:get()",e)})}onReady(e){let t=this;e&&(t.defaultHeaders=t.defaultHeaders||{},t.defaultHeaders.Authorization="Token "+e),t.isReady=!0,t.fire("ready",e)}post(e={}){const t=e.params;return delete e.params,Neo.Xhr.promiseJson({data:e.data,method:"POST",params:t,url:this.createUrl(e),headers:{...this.defaultHeaders,"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}).catch(e=>{console.log("RealWorld.api.Base:post()",e)})}put(e={}){const t=e.params;return delete e.params,Neo.Xhr.promiseJson({data:e.data,method:"PUT",params:t,url:this.createUrl(e),headers:{...this.defaultHeaders,"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}).catch(e=>{console.log("RealWorld.api.Base:put()",e)})}}s.initialTokenRequestSent=!1,s.token=null;/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(s));

/***/ }),

/***/ "./dist/esm/apps/realworld/api/Favorite.mjs":
/*!**************************************************!*\
  !*** ./dist/esm/apps/realworld/api/Favorite.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./dist/esm/apps/realworld/api/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"RealWorld.api.Favorite",singleton:!0};add(e){return this.post({url:`/articles/${e}/favorite`})}remove(e){return this.delete({url:`/articles/${e}/favorite`})}}));

/***/ }),

/***/ "./dist/esm/apps/realworld/api/Profile.mjs":
/*!*************************************************!*\
  !*** ./dist/esm/apps/realworld/api/Profile.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./dist/esm/apps/realworld/api/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"RealWorld.api.Profile",resource:"/profiles",singleton:!0};follow(l){return this.post({url:`/profiles/${l}/follow`})}unfollow(l){return this.delete({url:`/profiles/${l}/follow`})}}));

/***/ }),

/***/ "./dist/esm/apps/realworld/api/Tag.mjs":
/*!*********************************************!*\
  !*** ./dist/esm/apps/realworld/api/Tag.mjs ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./dist/esm/apps/realworld/api/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"RealWorld.api.Tag",resource:"/tags",singleton:!0}}));

/***/ }),

/***/ "./dist/esm/apps/realworld/api/User.mjs":
/*!**********************************************!*\
  !*** ./dist/esm/apps/realworld/api/User.mjs ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./dist/esm/apps/realworld/api/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"RealWorld.api.User",resource:"/users",singleton:!0}}));

/***/ }),

/***/ "./dist/esm/apps/realworld/api/config.mjs":
/*!************************************************!*\
  !*** ./dist/esm/apps/realworld/api/config.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   API_URL: () => (/* binding */ API_URL),
/* harmony export */   LOCAL_STORAGE_KEY: () => (/* binding */ LOCAL_STORAGE_KEY),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const API_URL="https://api.realworld.io/api";const LOCAL_STORAGE_KEY="neoRealWorldToken";/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({API_URL:API_URL,LOCAL_STORAGE_KEY:LOCAL_STORAGE_KEY});

/***/ }),

/***/ "./dist/esm/apps/realworld/app.mjs":
/*!*****************************************!*\
  !*** ./dist/esm/apps/realworld/app.mjs ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   onStart: () => (/* binding */ onStart)
/* harmony export */ });
/* harmony import */ var _view_MainContainer_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./view/MainContainer.mjs */ "./dist/esm/apps/realworld/view/MainContainer.mjs");
const onStart=()=>Neo.app({mainView:_view_MainContainer_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],name:"RealWorld"});

/***/ }),

/***/ "./dist/esm/apps/realworld/view/FooterComponent.mjs":
/*!**********************************************************!*\
  !*** ./dist/esm/apps/realworld/view/FooterComponent.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../src/component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"RealWorld.view.FooterComponent",_vdom:{tag:"footer",cn:[{cls:["container"],cn:[{tag:"a",cls:["logo-font"],href:"#/",html:"conduit"},{tag:"span",cls:"attribution",html:'An interactive learning project from <a href="https://thinkster.io">Thinkster</a>. Code &amp; design licensed under MIT.'}]}]}}}));

/***/ }),

/***/ "./dist/esm/apps/realworld/view/HeaderComponent.mjs":
/*!**********************************************************!*\
  !*** ./dist/esm/apps/realworld/view/HeaderComponent.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../src/component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony import */ var _src_util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../src/util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"RealWorld.view.HeaderComponent",activeItem_:"home",baseCls:["navbar","navbar-light"],loggedIn_:!1,userImage_:null,userName_:null,_vdom:{tag:"nav",cls:["navbar navbar-light"],cn:[{cls:["container"],cn:[{tag:"a",cls:["navbar-brand"],href:"#/",html:"conduit"},{tag:"ul",cls:["nav navbar-nav","pull-xs-right"],cn:[{tag:"li",cls:["nav-item"],cn:[{tag:"a",cls:["nav-link"],href:"#/",html:"Home"}]},{tag:"li",cls:["nav-item"],removeDom:!0,cn:[{tag:"a",cls:["nav-link"],href:"#/editor",cn:[{tag:"i",cls:"ion-compose"},{vtype:"text",html:"&nbsp;New Article"}]}]},{tag:"li",cls:["nav-item"],removeDom:!0,cn:[{tag:"a",cls:["nav-link"],href:"#/settings",cn:[{tag:"i",cls:"ion-gear-a"},{vtype:"text",html:"&nbsp;Settings"}]}]},{tag:"li",cls:["nav-item"],removeDom:!0,cn:[{tag:"a",cls:["nav-link"],href:"#/profile",cn:[{tag:"img",cls:["user-pic"]},{vtype:"text",html:"&nbsp;Profile"}]}]},{tag:"li",cls:["nav-item"],cn:[{tag:"a",cls:["nav-link"],href:"#/login",html:"Sign in"}]},{tag:"li",cls:["nav-item"],cn:[{tag:"a",cls:["nav-link"],href:"#/register",html:"Sign up"}]}]}]}]}};afterSetActiveItem(e,n){let a=this,c=a.vdom;n&&_src_util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].remove(c.cn[0].cn[1].cn[a.getActiveIndex(n)].cn[0].cls,"active"),_src_util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].add(c.cn[0].cn[1].cn[a.getActiveIndex(e)].cn[0].cls,"active"),a.update()}afterSetLoggedIn(e,t){if(Neo.isBoolean(t)){let t=this,n=t.vdom.cn[0].cn[1];n.cn[1].removeDom=!e,n.cn[2].removeDom=!e,n.cn[3].removeDom=!e,n.cn[4].removeDom=e,n.cn[5].removeDom=e,t.update()}}afterSetUserImage(e,t){let n=this.vdom.cn[0].cn[1].cn[3].cn[0];n.cn[0].removeDom=!e,n.cn[0].src=e,this.update()}afterSetUserName(e,t){if(e){let t=this,n=t.vdom.cn[0].cn[1].cn[3].cn[0];n.href="#/profile/"+e,n.cn[1].html="&nbsp;"+e,t.update()}}getActiveIndex(e){switch(e){case"/settings":return 2;case"/login":return 4;case"/register":return 5}return e.includes("/editor")?1:e.includes("/profile")?3:0}}));

/***/ }),

/***/ "./dist/esm/apps/realworld/view/MainContainer.mjs":
/*!********************************************************!*\
  !*** ./dist/esm/apps/realworld/view/MainContainer.mjs ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _FooterComponent_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FooterComponent.mjs */ "./dist/esm/apps/realworld/view/FooterComponent.mjs");
/* harmony import */ var _HeaderComponent_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./HeaderComponent.mjs */ "./dist/esm/apps/realworld/view/HeaderComponent.mjs");
/* harmony import */ var _MainContainerController_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MainContainerController.mjs */ "./dist/esm/apps/realworld/view/MainContainerController.mjs");
/* harmony import */ var _src_container_Viewport_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../src/container/Viewport.mjs */ "./dist/esm/src/container/Viewport.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _src_container_Viewport_mjs__WEBPACK_IMPORTED_MODULE_3__["default"]{static config={className:"RealWorld.view.MainContainer",baseCls:[],controller:_MainContainerController_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],layout:{ntype:"base"},items:[{module:_HeaderComponent_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],reference:"header"},{module:_FooterComponent_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]}]}}));

/***/ }),

/***/ "./dist/esm/apps/realworld/view/MainContainerController.mjs":
/*!******************************************************************!*\
  !*** ./dist/esm/apps/realworld/view/MainContainerController.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _api_Article_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../api/Article.mjs */ "./dist/esm/apps/realworld/api/Article.mjs");
/* harmony import */ var _src_controller_Component_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../src/controller/Component.mjs */ "./dist/esm/src/controller/Component.mjs");
/* harmony import */ var _api_Favorite_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api/Favorite.mjs */ "./dist/esm/apps/realworld/api/Favorite.mjs");
/* harmony import */ var _api_config_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../api/config.mjs */ "./dist/esm/apps/realworld/api/config.mjs");
/* harmony import */ var _api_Profile_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../api/Profile.mjs */ "./dist/esm/apps/realworld/api/Profile.mjs");
/* harmony import */ var _api_Tag_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../api/Tag.mjs */ "./dist/esm/apps/realworld/api/Tag.mjs");
/* harmony import */ var _api_User_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../api/User.mjs */ "./dist/esm/apps/realworld/api/User.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _src_controller_Component_mjs__WEBPACK_IMPORTED_MODULE_1__["default"]{static observable=!0;static config={className:"RealWorld.view.MainContainerController",articleComponent:null,articlesOffset_:0,createComponent:null,currentUser_:null,hashString:null,homeComponent:null,profileComponent:null,settingsComponent:null,signUpComponent:null};afterSetArticlesOffset(e,t){Neo.isNumber(t)&&this.getArticles()}afterSetCurrentUser(e,t){if("object"==typeof t){let t=this;t.getReference("header").set({loggedIn:!!e,userImage:e?e.image:null,userName:e?e.username:null}).then(()=>{t.timeout(200).then(()=>{t.fire("afterSetCurrentUser",e)})})}}deleteArticle(t){_api_Article_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].delete({slug:t}).then(e=>{Neo.Main.setRoute({value:"/"})})}deleteComment(t){let o=this,n=o.hashString.split("/").pop();return _api_Article_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].deleteComment(n,t).then(e=>{o.getComments(n)})}favoriteArticle(e,t){return _api_Favorite_mjs__WEBPACK_IMPORTED_MODULE_2__["default"][t?"add":"remove"](e)}followUser(e,t){return _api_Profile_mjs__WEBPACK_IMPORTED_MODULE_4__["default"][t?"follow":"unfollow"](e)}getArticle(t){return _api_Article_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].get({slug:t})}getArticles(t={},o={}){return _api_Article_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].get({params:{limit:10,offset:this.articlesOffset,...t},...o})}getComments(t){_api_Article_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].getComments(t).then(e=>{this.articleComponent.comments=e.json.comments})}getCurrentUser(e){e&&_api_User_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].get({resource:"/user"}).then(e=>{this.currentUser=e.json.user})}getProfile(e){let t=this;_api_Profile_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].get({slug:e}).then(e=>{t.profileComponent.updateContent({...e.json.profile,myProfile:e.json.profile.username===t.currentUser?.username})})}getTags(){_api_Tag_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].get().then(e=>{this.homeComponent.tagList.tags=e.json.tags})}login(e){this.currentUser=e,Neo.main.addon.LocalStorage.createLocalStorageItem({key:_api_config_mjs__WEBPACK_IMPORTED_MODULE_3__.LOCAL_STORAGE_KEY,value:e.token}).then(()=>{this.timeout(50).then(()=>{Neo.Main.setRoute({value:"/"})})})}logout(){this.currentUser=null,Neo.main.addon.LocalStorage.destroyLocalStorageItem({key:_api_config_mjs__WEBPACK_IMPORTED_MODULE_3__.LOCAL_STORAGE_KEY}).then(()=>{this.timeout(50).then(()=>{Neo.Main.setRoute({value:"/"})})})}onComponentConstructed(){super.onComponentConstructed(),Neo.config.hash||this.onHashChange({appNames:["RealWorld"],hash:{"/":""},hashString:"/"},null)}onConstructed(){super.onConstructed(),_api_User_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].on("ready",this.getCurrentUser,this)}async onHashChange(e,t){let o,n,r,s,i=this,a=i.component,m=e.hash,l=e.hashString;if(a.isConstructed)switch(i.hashString=l,a.items[0].activeItem=Object.keys(m)[0],"/"===l?r=["homeComponent",()=>__webpack_require__.e(/*! import() */ "dist_esm_apps_realworld_view_HomeComponent_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ./HomeComponent.mjs */ "./dist/esm/apps/realworld/view/HomeComponent.mjs")),"home"]:l.includes("/article/")?r=["articleComponent",()=>__webpack_require__.e(/*! import() */ "dist_esm_apps_realworld_view_article_Component_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ./article/Component.mjs */ "./dist/esm/apps/realworld/view/article/Component.mjs")),"article"]:l.includes("/editor")?r=["createComponent",()=>__webpack_require__.e(/*! import() */ "dist_esm_apps_realworld_view_article_CreateComponent_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ./article/CreateComponent.mjs */ "./dist/esm/apps/realworld/view/article/CreateComponent.mjs")),"editor"]:l.includes("/profile/")?r=["profileComponent",()=>__webpack_require__.e(/*! import() */ "dist_esm_apps_realworld_view_user_ProfileComponent_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ./user/ProfileComponent.mjs */ "./dist/esm/apps/realworld/view/user/ProfileComponent.mjs")),"profile"]:m.hasOwnProperty("/login")?(r=["signUpComponent",()=>__webpack_require__.e(/*! import() */ "dist_esm_apps_realworld_view_user_SignUpComponent_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ./user/SignUpComponent.mjs */ "./dist/esm/apps/realworld/view/user/SignUpComponent.mjs")),"signup"],o="signin"):m.hasOwnProperty("/register")?(r=["signUpComponent",()=>__webpack_require__.e(/*! import() */ "dist_esm_apps_realworld_view_user_SignUpComponent_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ./user/SignUpComponent.mjs */ "./dist/esm/apps/realworld/view/user/SignUpComponent.mjs")),"signup"],o="signup"):m.hasOwnProperty("/settings")&&(r=["settingsComponent",()=>__webpack_require__.e(/*! import() */ "dist_esm_apps_realworld_view_user_SettingsComponent_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ./user/SettingsComponent.mjs */ "./dist/esm/apps/realworld/view/user/SettingsComponent.mjs")),"settings"]),r&&(n=await i.promiseView(...r),o&&(n.mode=o)),t&&t.hash&&(t.hash.hasOwnProperty("/login")&&m.hasOwnProperty("/register")||t.hash.hasOwnProperty("/register")&&m.hasOwnProperty("/login"))||(a.items.length>2&&a.removeAt(1,!1,!0),n&&a.insert(1,n)),n.reference){case"article":s=l.split("/").pop(),i.getArticle(s).then(e=>{let t=e.json.article,o=t.body;delete t.body,i.articleComponent.set(t).then(()=>{i.articleComponent.body=o})}),i.getComments(s);break;case"editor":s=l.split("/").pop(),"editor"!==s?i.getArticle(s).then(e=>{const t=e.json.article;i.createComponent.set({body:t.body,description:t.description,slug:t.slug,tagList:t.tagList,title:t.title})}):i.createComponent.resetForm();break;case"home":i.homeComponent.loggedIn=!!i.currentUser,i.homeComponent.getArticles(),i.getTags();break;case"profile":i.getProfile(l.split("/").pop());break;case"settings":i.currentUser&&i.timeout(50).then(()=>{i.settingsComponent.onCurrentUserChange(i.currentUser)});break;case"signup":n.errors=[]}else a.on("constructed",()=>{i.onHashChange(e,t)})}postComment(t={}){let o=this,n=o.hashString.split("/").pop();return _api_Article_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].postComment(n,t).then(e=>{o.getComments(n)})}async promiseView(e,t,o){let n=this;return n[e]||(t=await t(),n[e]=Neo.create({module:t.default,parentId:n.component.id,reference:o})),n[e]}saveUser(e){return _api_User_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].post(e)}updateSettings(e={}){return _api_User_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].put({...e,resource:"/user"}).then(e=>(e.json.errors||(this.currentUser=e.json.user),e))}}));

/***/ }),

/***/ "./dist/esm/src/container/Viewport.mjs":
/*!*********************************************!*\
  !*** ./dist/esm/src/container/Viewport.mjs ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./dist/esm/src/container/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.container.Viewport",ntype:"viewport",applyBodyCls:!0,autoMount:!0,baseCls:["neo-viewport"],monitorSize_:!1};afterSetMounted(e,o){super.afterSetMounted(e,o);let s=this;e&&s.monitorSize&&s.addDomListeners([{resize:s.onDomResize,scope:s}])}onConstructed(){super.onConstructed();let{appName:e,windowId:o}=this;this.applyBodyCls&&Neo.main.DomAccess.applyBodyCls({appName:e,cls:["neo-body-viewport"],windowId:o})}onDomResize(e){this.fire("resize",e)}}));

/***/ }),

/***/ "./dist/esm/src/controller/Base.mjs":
/*!******************************************!*\
  !*** ./dist/esm/src/controller/Base.mjs ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _util_HashHistory_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/HashHistory.mjs */ "./dist/esm/src/util/HashHistory.mjs");
const o=/\//g,s=/{[^\s/]+}/g;/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.controller.Base",ntype:"controller",defaultHash:null,defaultRoute:null,handleRoutes:{},routes_:{}};construct(e){super.construct(e),_util_HashHistory_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].on("change",this.onHashChange,this)}afterSetRoutes(e,t){let o=this,n=Object.keys(e);o.routes=n.sort(o.#e).reduce((t,o)=>(t[o]=e[o],t),{}),o.handleRoutes={},n.forEach(t=>{"default"===t.toLowerCase()?o.defaultRoute=e[t]:o.handleRoutes[t]=new RegExp(t.replace(s,"([\\w-.]+)")+"$")})}destroy(...e){_util_HashHistory_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].un("change",this.onHashChange,this),super.destroy(...e)}async onConstructed(){let e=this,{defaultHash:o,windowId:s}=e,n=_util_HashHistory_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].first(s);await e.timeout(1),n?n.windowId===s&&await e.onHashChange(n,null):!Neo.config.hash&&o&&Neo.Main.setRoute({value:o,windowId:s})}async onHashChange(e,t){if(e.windowId!==this.windowId)return;let o,n,a,l,u,h,r,i,d,c=this,g=0,f=!1,{handleRoutes:w,routes:m}=c,R=Object.keys(w),p=R.length;for(;p>0&&g<p&&!f;){if(l=R[g],a=null,h=null,r=null,u={},i=e.hashString.match(w[l]),i){if(o=l.match(s),n=i.splice(1,i.length-1),o&&o.length!==n.length)throw"Number of IDs and number of Values do not match";for(let e=0;o&&e<o.length;e++)u[o[e].substring(1,o[e].length-1)]=n[e];d=m[l],Neo.isString(d)?(a=d,r=!0):Neo.isObject(d)&&(a=d.handler,h=d.preHandler),f=!0}g++}f&&(r=!h||await(c[h]?.call(c,u,e,t)),r&&await(c[a]?.call(c,u,e,t))),R.length>0&&!f&&(c.defaultRoute?c[c.defaultRoute]?.(e,t):c.onNoRouteFound(e,t))}onNoRouteFound(e,t){}#e(e,t){return(e.match(o)||[]).length-(t.match(o)||[]).length}}));

/***/ }),

/***/ "./dist/esm/src/controller/Component.mjs":
/*!***********************************************!*\
  !*** ./dist/esm/src/controller/Component.mjs ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./dist/esm/src/controller/Base.mjs");
/* harmony import */ var _util_Function_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Function.mjs */ "./dist/esm/src/util/Function.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.controller.Component",ntype:"component-controller",component:null,parent_:null,references:null,windowId:null};construct(e){super.construct(e);let t=this,{component:n}=t;t.references={},n.isConstructed?t.onComponentConstructed():n.on("constructed",()=>{t.onComponentConstructed()},t,{once:!0})}beforeSetParent(e,t){return e||this.getParent()}getHandlerScope(e,n){let r,o=this,{parent:s}=o;return!(!n||(r=(0,_util_Function_mjs__WEBPACK_IMPORTED_MODULE_1__.resolveCallback)(e,n),!r.fn))||(Neo.isFunction(o[e])?o:s?.getHandlerScope(e)||null)}getParent(){let{parent:e}=this;return e||(this.component.parent?.getController()||null)}getReference(e){let t=this,n=t.references[e];return n||(n=t.component.down({reference:e}),n&&(t.references[e]=n)),n||null}getState(...e){return this.getStateProvider().getData(...e)}getStateProvider(e=!1){let{component:t}=this;return e?t.stateProvider:t.getStateProvider()}getStore(e){return this.getStateProvider().getStore(e)}onComponentConstructed(){}removeReference(e){let t,{references:n}=this;for(t in n)if(e===n[t]){delete n[t];break}this.getParent()?.removeReference(e)}setState(...e){this.getStateProvider().setData(...e)}}));

/***/ }),

/***/ "./dist/esm/src/util/HashHistory.mjs":
/*!*******************************************!*\
  !*** ./dist/esm/src/util/HashHistory.mjs ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _core_Observable_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Observable.mjs */ "./dist/esm/src/core/Observable.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static observable=!0;static config={className:"Neo.util.HashHistory",singleton:!0,maxItems:50,stacks:{}};first(t){return this.getAt(0,t)}getAt(t,e){return this.getStack(e)[t]}getCount(t){return this.getStack(t).length}getStack(t){let{stacks:e}=this,s=t||Object.keys(e)[0],r=e[s];return r||(e[s]=r=[]),r}push(t){let e=this,{windowId:s}=t,r=e.getStack(s);r[0]?.hashString!==t.hashString&&(delete t[s],r.unshift(t),r.length>e.maxItems&&r.pop(),e.fire("change",t,r[1]||null))}second(t){return this.getAt(0,t)}}));

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC92ZW5kb3JzLWRpc3RfZXNtX2FwcHNfcmVhbHdvcmxkX2FwcF9tanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBMEIsaUVBQWUsNkJBQTZCLGlEQUFDLENBQUMsZUFBZSxxRUFBcUUsbUJBQW1CLG9CQUFvQixpQkFBaUIsRUFBRSxZQUFZLEVBQUUsRUFBRSxFQUFFLGVBQWUsaUJBQWlCLGlCQUFpQixFQUFFLFdBQVcsRUFBRSxpQkFBaUIsa0JBQWtCLHNCQUFzQixFQUFFLFdBQVcsR0FBRyxDQUFDLEU7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBMVEsZ0JBQWdCLDBEQUFDLENBQUMscUJBQXFCLGtCQUFrQixlQUFlLDRFQUE0RSxnQkFBZ0IsOENBQThDLG1CQUFtQixXQUFXLHNKQUFzSixxQkFBcUIsRUFBRSxnQkFBZ0IsYUFBYSwyREFBMkQsd0JBQXdCLGtGQUFrRixJQUFJLDBEQUFDLENBQUMsV0FBVyxnQkFBZ0IsMkRBQTJELEdBQUcsYUFBYSxhQUFhLGdEQUFDLE9BQU8sZ0RBQUMsb0RBQW9ELFdBQVcsRUFBRSw0QkFBNEIsMkVBQTJFLDhGQUE4RixZQUFZLDBDQUEwQyxFQUFFLFFBQVEsRUFBRSw0QkFBNEIsd0VBQXdFLDhGQUE4RixZQUFZLDBDQUEwQyxFQUFFLFdBQVcsV0FBVyx5Q0FBeUMsMkVBQTJFLFNBQVMsRUFBRSxpQkFBaUIsNENBQTRDLGtFQUFrRSw4RkFBOEYsWUFBWSwyQ0FBMkMsRUFBRSxRQUFRLEVBQUUsaUJBQWlCLDRDQUE0QyxpRUFBaUUsOEZBQThGLFlBQVksMENBQTBDLEdBQUcsMENBQTBDLGlFQUFlLGlCQUFpQixFOzs7Ozs7Ozs7Ozs7Ozs7QUNBcm9FLGlFQUFlLDZCQUE2QixpREFBQyxDQUFDLGVBQWUsaURBQWlELE9BQU8sa0JBQWtCLGlCQUFpQixFQUFFLFdBQVcsRUFBRSxVQUFVLG9CQUFvQixpQkFBaUIsRUFBRSxXQUFXLEdBQUcsQ0FBQyxFOzs7Ozs7Ozs7Ozs7Ozs7QUNBdk8saUVBQWUsNkJBQTZCLGlEQUFDLENBQUMsZUFBZSxxRUFBcUUsVUFBVSxrQkFBa0IsaUJBQWlCLEVBQUUsU0FBUyxFQUFFLFlBQVksb0JBQW9CLGlCQUFpQixFQUFFLFNBQVMsR0FBRyxDQUFDLEU7Ozs7Ozs7Ozs7Ozs7OztBQ0E1UCxpRUFBZSw2QkFBNkIsaURBQUMsQ0FBQyxlQUFlLDZEQUE2RCxDQUFDLEU7Ozs7Ozs7Ozs7Ozs7OztBQ0EzSCxpRUFBZSw2QkFBNkIsaURBQUMsQ0FBQyxlQUFlLCtEQUErRCxDQUFDLEU7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBaEosNkNBQW9ELDRDQUE0QyxpRUFBYyxDQUFDLG9EQUFvRCxFOzs7Ozs7Ozs7Ozs7Ozs7QUNBM0gsMkJBQTJCLFNBQVMsK0RBQUMsa0JBQWtCLEU7Ozs7Ozs7Ozs7Ozs7OztBQ0F2RCxpRUFBZSw2QkFBNkIsK0RBQUMsQ0FBQyxlQUFlLGtEQUFrRCxrQkFBa0IsdUJBQXVCLG1EQUFtRCxFQUFFLGlJQUFpSSw0QkFBNEIsRUFBRSxJQUFJLENBQUMsRTs7Ozs7Ozs7Ozs7Ozs7OztBQ0F0VSxpRUFBZSw2QkFBNkIsK0RBQUMsQ0FBQyxlQUFlLG1KQUFtSiwyQ0FBMkMsdUJBQXVCLHNEQUFzRCxFQUFFLHFEQUFxRCwrQkFBK0IsK0NBQStDLEVBQUUsRUFBRSw0Q0FBNEMsOENBQThDLDBCQUEwQixFQUFFLHlCQUF5QixhQUFhLEVBQUUsRUFBRSxFQUFFLDRDQUE0QyxnREFBZ0QseUJBQXlCLEVBQUUseUJBQXlCLFVBQVUsRUFBRSxFQUFFLEVBQUUsNENBQTRDLCtDQUErQywyQkFBMkIsRUFBRSx5QkFBeUIsU0FBUyxFQUFFLEVBQUUsRUFBRSwrQkFBK0IsdURBQXVELEVBQUUsRUFBRSwrQkFBK0IsMERBQTBELEVBQUUsRUFBRSxFQUFFLElBQUksd0JBQXdCLG9CQUFvQixHQUFHLDJEQUFDLGtFQUFrRSwyREFBQywwRUFBMEUsc0JBQXNCLHFCQUFxQixnQ0FBZ0MsbUhBQW1ILHVCQUF1Qix3Q0FBd0MsaURBQWlELHNCQUFzQixNQUFNLDRDQUE0QywwQ0FBMEMsZ0JBQWdCLGtCQUFrQixVQUFVLHlCQUF5QixzQkFBc0IseUJBQXlCLDJEQUEyRCxDQUFDLEU7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0E3eUQsaUVBQWUsNkJBQTZCLG1FQUFDLENBQUMsZUFBZSwrREFBK0Qsb0VBQUMsU0FBUyxhQUFhLFNBQVMsT0FBTyw0REFBQyxvQkFBb0IsRUFBRSxPQUFPLDREQUFDLENBQUMsR0FBRyxDQUFDLEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FsRyxpRUFBZSw2QkFBNkIscUVBQUMsQ0FBQyxxQkFBcUIsZUFBZSx3T0FBd08sNEJBQTRCLG9DQUFvQyx5QkFBeUIsdUJBQXVCLFdBQVcsOEJBQThCLGlFQUFpRSxZQUFZLHlCQUF5QixnQ0FBZ0MsRUFBRSxHQUFHLGlCQUFpQix3REFBQyxTQUFTLE9BQU8sV0FBVyxtQkFBbUIsVUFBVSxFQUFFLEVBQUUsaUJBQWlCLDJDQUEyQyxPQUFPLHdEQUFDLDZCQUE2QixpQkFBaUIsRUFBRSxxQkFBcUIsT0FBTyx5REFBQyxzQkFBc0IsZ0JBQWdCLE9BQU8sd0RBQUMsMkJBQTJCLGNBQWMsT0FBTyx3REFBQyxNQUFNLE9BQU8sRUFBRSxnQkFBZ0IsS0FBSyxFQUFFLE9BQU8sd0RBQUMsTUFBTSxRQUFRLHlDQUF5QyxNQUFNLEVBQUUsZUFBZSx3REFBQyx5QkFBeUIsK0NBQStDLEVBQUUsa0JBQWtCLEdBQUcscURBQUMsTUFBTSxpQkFBaUIsV0FBVyw2QkFBNkIsRUFBRSxjQUFjLFdBQVcsd0RBQUMsTUFBTSxPQUFPLFdBQVcsa0NBQWtDLDhFQUE4RSxFQUFFLEVBQUUsVUFBVSxvREFBQyxnQkFBZ0IsNENBQTRDLEVBQUUsU0FBUyx1RUFBdUUsSUFBSSw4REFBQyxlQUFlLFlBQVksMkJBQTJCLG1CQUFtQixVQUFVLEVBQUUsRUFBRSxFQUFFLFNBQVMsMkVBQTJFLElBQUksOERBQUMsQ0FBQyxZQUFZLDJCQUEyQixtQkFBbUIsVUFBVSxFQUFFLEVBQUUsRUFBRSx5QkFBeUIsbUVBQW1FLDZCQUE2QixPQUFPLGdCQUFnQixPQUFPLGdCQUFnQixzQkFBc0IscURBQUMsc0NBQXNDLHdCQUF3Qix5REFBeUQsZ0hBQWdILDBOQUE2QiwyREFBMkQsc09BQWlDLDJEQUEyRCx3UEFBdUMsNkRBQTZELGtQQUFxQyxpRUFBaUUsK09BQW9DLCtFQUErRSwrT0FBb0Msa0ZBQWtGLHFQQUFzQyxnUkFBZ1IsNERBQTRELDhCQUE4QixrREFBa0QsMEJBQTBCLEVBQUUsbUJBQW1CLE1BQU0sd0VBQXdFLHVCQUF1Qix1QkFBdUIsa0ZBQWtGLEVBQUUsZ0NBQWdDLE1BQU0sOEZBQThGLE1BQU0sK0NBQStDLE1BQU0sc0RBQXNELHVEQUF1RCxFQUFFLE1BQU0seUJBQXlCLDZCQUE2QixvQkFBb0IsRUFBRSxnQkFBZ0IsRUFBRSwyQ0FBMkMsT0FBTyx3REFBQywyQkFBMkIsaUJBQWlCLEVBQUUseUJBQXlCLFdBQVcsMkNBQTJDLHFEQUFxRCxRQUFRLFlBQVksT0FBTyxxREFBQyxTQUFTLG1CQUFtQixFQUFFLE9BQU8scURBQUMsTUFBTSxzQkFBc0IsOERBQThELENBQUMsRTs7Ozs7Ozs7Ozs7Ozs7O0FDQWo5SSxpRUFBZSw2QkFBNkIsaURBQUMsQ0FBQyxlQUFlLDJIQUEySCxxQkFBcUIsMkJBQTJCLFdBQVcsc0NBQXNDLDZCQUE2QixHQUFHLGdCQUFnQixzQkFBc0IsSUFBSSxxQkFBcUIsTUFBTSxvREFBb0QsK0NBQStDLEVBQUUsZUFBZSx1QkFBdUIsQ0FBQyxFOzs7Ozs7Ozs7Ozs7Ozs7O0FDQTdkLGtCQUFrQixRQUFRLEdBQUcsaUVBQWUsNkJBQTZCLHNEQUFDLENBQUMsZUFBZSxxR0FBcUcsYUFBYSxhQUFhLG1CQUFtQiw2REFBQyxxQ0FBcUMsb0JBQW9CLDRCQUE0QixvREFBb0QsbUJBQW1CLGVBQWUsNEdBQTRHLEVBQUUsY0FBYyw2REFBQyx5REFBeUQsc0JBQXNCLFlBQVkseUJBQXlCLEtBQUssNkRBQUMsVUFBVSwwR0FBMEcsbUJBQW1CLEVBQUUsd0JBQXdCLHFDQUFxQyx1Q0FBdUMsd0JBQXdCLCtCQUErQixLQUFLLGFBQWEsRUFBRSxtQ0FBbUMsK0JBQStCLHVIQUF1SCxZQUFZLGNBQWMsNENBQTRDLHFGQUFxRixJQUFJLG9KQUFvSixxQkFBcUIsUUFBUSx1REFBdUQsQ0FBQyxFOzs7Ozs7Ozs7Ozs7Ozs7O0FDQTkvQyxpRUFBZSw2QkFBNkIsaURBQUMsQ0FBQyxlQUFlLDZIQUE2SCxhQUFhLG1CQUFtQixZQUFZLFlBQVksR0FBRyxlQUFlLG9FQUFvRSwyQkFBMkIsSUFBSSxRQUFRLEVBQUUscUJBQXFCLDJCQUEyQixxQkFBcUIsY0FBYyxTQUFTLEdBQUcsZUFBZSxtRUFBQyxvRUFBb0UsWUFBWSxJQUFJLFNBQVMsTUFBTSx5REFBeUQsZ0JBQWdCLDZCQUE2QiwrQkFBK0IsWUFBWSxrQ0FBa0MsZUFBZSw2Q0FBNkMsdUJBQXVCLElBQUksWUFBWSxNQUFNLDhDQUE4QyxZQUFZLDJDQUEyQywwQkFBMEIsbUJBQW1CLE9BQU8sYUFBYSxNQUFNLHdCQUF3QixZQUFZLE1BQU0scUNBQXFDLGVBQWUsdUNBQXVDLENBQUMsRTs7Ozs7Ozs7Ozs7Ozs7OztBQ0E1cEMsaUVBQWUsNkJBQTZCLHNEQUFDLENBQUMscUJBQXFCLGVBQWUscUVBQXFFLFNBQVMsdUJBQXVCLFdBQVcsMkJBQTJCLFlBQVksK0JBQStCLFlBQVksSUFBSSxTQUFTLG9DQUFvQyx3QkFBd0IsUUFBUSxZQUFZLFdBQVcsbUJBQW1CLHVIQUF1SCxVQUFVLHdCQUF3QixDQUFDLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vYXBwcy9yZWFsd29ybGQvYXBpL0FydGljbGUubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9hcHBzL3JlYWx3b3JsZC9hcGkvQmFzZS5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL2FwcHMvcmVhbHdvcmxkL2FwaS9GYXZvcml0ZS5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL2FwcHMvcmVhbHdvcmxkL2FwaS9Qcm9maWxlLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vYXBwcy9yZWFsd29ybGQvYXBpL1RhZy5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL2FwcHMvcmVhbHdvcmxkL2FwaS9Vc2VyLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vYXBwcy9yZWFsd29ybGQvYXBpL2NvbmZpZy5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL2FwcHMvcmVhbHdvcmxkL2FwcC5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL2FwcHMvcmVhbHdvcmxkL3ZpZXcvRm9vdGVyQ29tcG9uZW50Lm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vYXBwcy9yZWFsd29ybGQvdmlldy9IZWFkZXJDb21wb25lbnQubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9hcHBzL3JlYWx3b3JsZC92aWV3L01haW5Db250YWluZXIubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9hcHBzL3JlYWx3b3JsZC92aWV3L01haW5Db250YWluZXJDb250cm9sbGVyLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2NvbnRhaW5lci9WaWV3cG9ydC5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVyL0Jhc2UubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvY29udHJvbGxlci9Db21wb25lbnQubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvdXRpbC9IYXNoSGlzdG9yeS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGUgZnJvbVwiLi9CYXNlLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgZXtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJSZWFsV29ybGQuYXBpLkFydGljbGVcIixyZXNvdXJjZTpcIi9hcnRpY2xlc1wiLHNpbmdsZXRvbjohMH07ZGVsZXRlQ29tbWVudChlLHQpe3JldHVybiB0aGlzLmRlbGV0ZSh7dXJsOmAvYXJ0aWNsZXMvJHtlfS9jb21tZW50cy8ke3R9YH0pfWdldENvbW1lbnRzKGUpe3JldHVybiB0aGlzLmdldCh7dXJsOmAvYXJ0aWNsZXMvJHtlfS9jb21tZW50c2B9KX1wb3N0Q29tbWVudChlLHQpe3JldHVybiB0aGlzLnBvc3Qoey4uLnQsdXJsOmAvYXJ0aWNsZXMvJHtlfS9jb21tZW50c2B9KX19KTsiLCJpbXBvcnR7QVBJX1VSTCBhcyBlLExPQ0FMX1NUT1JBR0VfS0VZIGFzIHR9ZnJvbVwiLi9jb25maWcubWpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vLi4vLi4vc3JjL2NvcmUvQmFzZS5tanNcIjtjbGFzcyBzIGV4dGVuZHMgYXtzdGF0aWMgb2JzZXJ2YWJsZT0hMDtzdGF0aWMgdG9rZW49bnVsbDtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJSZWFsV29ybGQuYXBpLkJhc2VcIixkZWZhdWx0SGVhZGVyczpudWxsLGlzUmVhZHk6ITEscmVzb3VyY2U6XCIvXCJ9O29uQ29uc3RydWN0ZWQoKXtzdXBlci5vbkNvbnN0cnVjdGVkKCksdGhpcy5hZnRlckNvbnN0cnVjdGVkKCl9YWZ0ZXJDb25zdHJ1Y3RlZCgpe2xldCBlPXRoaXM7TmVvLmFwcHMmJk5lby5hcHBzLlJlYWxXb3JsZD9OZW8uYXBwcy5SZWFsV29ybGQucmVuZGVyZWQ/ZS5vbkFwcFJlbmRlcmVkKCk6TmVvLmFwcHMuUmVhbFdvcmxkLm9uKFwicmVuZGVyXCIsZS5vbkFwcFJlbmRlcmVkLGUpOmUudGltZW91dCgxMDApLnRoZW4oKCk9PntlLmFmdGVyQ29uc3RydWN0ZWQoKX0pfW9uQXBwUmVuZGVyZWQoKXtjb25zdCBlPXRoaXM7cy50b2tlbj9lLm9uUmVhZHkocy50b2tlbik6cy5pbml0aWFsVG9rZW5SZXF1ZXN0U2VudD9zLm9uKHtyZWFkeTplLm9uUmVhZHksc2NvcGU6ZX0pOihzLmluaXRpYWxUb2tlblJlcXVlc3RTZW50PSEwLE5lby5tYWluLmFkZG9uLkxvY2FsU3RvcmFnZS5yZWFkTG9jYWxTdG9yYWdlSXRlbSh7a2V5OnR9KS50aGVuKHQ9Pntjb25zdCBhPXQudmFsdWU7YSYmKHMudG9rZW49YSksZS5vblJlYWR5KGEpLHMuaXNSZWFkeT0hMCxzLmZpcmUoXCJyZWFkeVwiLGEpfSkpfWNyZWF0ZVVybCh0KXtyZXR1cm4gdC51cmw/ZSt0LnVybDplKyh0LnJlc291cmNlfHx0aGlzLnJlc291cmNlKSsodC5zbHVnP1wiL1wiK3Quc2x1ZzpcIlwiKX1kZWxldGUoZT17fSl7cmV0dXJuIE5lby5YaHIucHJvbWlzZUpzb24oe2RhdGE6ZS5kYXRhLG1ldGhvZDpcIkRFTEVURVwiLHBhcmFtczplLnBhcmFtcyx1cmw6dGhpcy5jcmVhdGVVcmwoZSksaGVhZGVyczp7Li4udGhpcy5kZWZhdWx0SGVhZGVycyxcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwiLFwiWC1SZXF1ZXN0ZWQtV2l0aFwiOlwiWE1MSHR0cFJlcXVlc3RcIn19KS5jYXRjaChlPT57Y29uc29sZS5sb2coXCJSZWFsV29ybGQuYXBpLkJhc2U6Z2V0KClcIixlKX0pfWdldChlPXt9KXtyZXR1cm4gTmVvLlhoci5wcm9taXNlSnNvbih7ZGF0YTplLmRhdGEsbWV0aG9kOlwiR0VUXCIscGFyYW1zOmUucGFyYW1zLHVybDp0aGlzLmNyZWF0ZVVybChlKSxoZWFkZXJzOnsuLi50aGlzLmRlZmF1bHRIZWFkZXJzLFwiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCIsXCJYLVJlcXVlc3RlZC1XaXRoXCI6XCJYTUxIdHRwUmVxdWVzdFwifX0pLmNhdGNoKGU9Pntjb25zb2xlLmxvZyhcIlJlYWxXb3JsZC5hcGkuQmFzZTpnZXQoKVwiLGUpfSl9b25SZWFkeShlKXtsZXQgdD10aGlzO2UmJih0LmRlZmF1bHRIZWFkZXJzPXQuZGVmYXVsdEhlYWRlcnN8fHt9LHQuZGVmYXVsdEhlYWRlcnMuQXV0aG9yaXphdGlvbj1cIlRva2VuIFwiK2UpLHQuaXNSZWFkeT0hMCx0LmZpcmUoXCJyZWFkeVwiLGUpfXBvc3QoZT17fSl7Y29uc3QgdD1lLnBhcmFtcztyZXR1cm4gZGVsZXRlIGUucGFyYW1zLE5lby5YaHIucHJvbWlzZUpzb24oe2RhdGE6ZS5kYXRhLG1ldGhvZDpcIlBPU1RcIixwYXJhbXM6dCx1cmw6dGhpcy5jcmVhdGVVcmwoZSksaGVhZGVyczp7Li4udGhpcy5kZWZhdWx0SGVhZGVycyxcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwiLFwiWC1SZXF1ZXN0ZWQtV2l0aFwiOlwiWE1MSHR0cFJlcXVlc3RcIn19KS5jYXRjaChlPT57Y29uc29sZS5sb2coXCJSZWFsV29ybGQuYXBpLkJhc2U6cG9zdCgpXCIsZSl9KX1wdXQoZT17fSl7Y29uc3QgdD1lLnBhcmFtcztyZXR1cm4gZGVsZXRlIGUucGFyYW1zLE5lby5YaHIucHJvbWlzZUpzb24oe2RhdGE6ZS5kYXRhLG1ldGhvZDpcIlBVVFwiLHBhcmFtczp0LHVybDp0aGlzLmNyZWF0ZVVybChlKSxoZWFkZXJzOnsuLi50aGlzLmRlZmF1bHRIZWFkZXJzLFwiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCIsXCJYLVJlcXVlc3RlZC1XaXRoXCI6XCJYTUxIdHRwUmVxdWVzdFwifX0pLmNhdGNoKGU9Pntjb25zb2xlLmxvZyhcIlJlYWxXb3JsZC5hcGkuQmFzZTpwdXQoKVwiLGUpfSl9fXMuaW5pdGlhbFRva2VuUmVxdWVzdFNlbnQ9ITEscy50b2tlbj1udWxsO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKHMpOyIsImltcG9ydCBlIGZyb21cIi4vQmFzZS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGV7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiUmVhbFdvcmxkLmFwaS5GYXZvcml0ZVwiLHNpbmdsZXRvbjohMH07YWRkKGUpe3JldHVybiB0aGlzLnBvc3Qoe3VybDpgL2FydGljbGVzLyR7ZX0vZmF2b3JpdGVgfSl9cmVtb3ZlKGUpe3JldHVybiB0aGlzLmRlbGV0ZSh7dXJsOmAvYXJ0aWNsZXMvJHtlfS9mYXZvcml0ZWB9KX19KTsiLCJpbXBvcnQgbCBmcm9tXCIuL0Jhc2UubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBse3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIlJlYWxXb3JsZC5hcGkuUHJvZmlsZVwiLHJlc291cmNlOlwiL3Byb2ZpbGVzXCIsc2luZ2xldG9uOiEwfTtmb2xsb3cobCl7cmV0dXJuIHRoaXMucG9zdCh7dXJsOmAvcHJvZmlsZXMvJHtsfS9mb2xsb3dgfSl9dW5mb2xsb3cobCl7cmV0dXJuIHRoaXMuZGVsZXRlKHt1cmw6YC9wcm9maWxlcy8ke2x9L2ZvbGxvd2B9KX19KTsiLCJpbXBvcnQgcyBmcm9tXCIuL0Jhc2UubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBze3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIlJlYWxXb3JsZC5hcGkuVGFnXCIscmVzb3VyY2U6XCIvdGFnc1wiLHNpbmdsZXRvbjohMH19KTsiLCJpbXBvcnQgcyBmcm9tXCIuL0Jhc2UubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBze3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIlJlYWxXb3JsZC5hcGkuVXNlclwiLHJlc291cmNlOlwiL3VzZXJzXCIsc2luZ2xldG9uOiEwfX0pOyIsImV4cG9ydCBjb25zdCBBUElfVVJMPVwiaHR0cHM6Ly9hcGkucmVhbHdvcmxkLmlvL2FwaVwiO2V4cG9ydCBjb25zdCBMT0NBTF9TVE9SQUdFX0tFWT1cIm5lb1JlYWxXb3JsZFRva2VuXCI7ZXhwb3J0IGRlZmF1bHR7QVBJX1VSTDpBUElfVVJMLExPQ0FMX1NUT1JBR0VfS0VZOkxPQ0FMX1NUT1JBR0VfS0VZfTsiLCJpbXBvcnQgbyBmcm9tXCIuL3ZpZXcvTWFpbkNvbnRhaW5lci5tanNcIjtleHBvcnQgY29uc3Qgb25TdGFydD0oKT0+TmVvLmFwcCh7bWFpblZpZXc6byxuYW1lOlwiUmVhbFdvcmxkXCJ9KTsiLCJpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9zcmMvY29tcG9uZW50L0Jhc2UubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyB0e3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIlJlYWxXb3JsZC52aWV3LkZvb3RlckNvbXBvbmVudFwiLF92ZG9tOnt0YWc6XCJmb290ZXJcIixjbjpbe2NsczpbXCJjb250YWluZXJcIl0sY246W3t0YWc6XCJhXCIsY2xzOltcImxvZ28tZm9udFwiXSxocmVmOlwiIy9cIixodG1sOlwiY29uZHVpdFwifSx7dGFnOlwic3BhblwiLGNsczpcImF0dHJpYnV0aW9uXCIsaHRtbDonQW4gaW50ZXJhY3RpdmUgbGVhcm5pbmcgcHJvamVjdCBmcm9tIDxhIGhyZWY9XCJodHRwczovL3RoaW5rc3Rlci5pb1wiPlRoaW5rc3RlcjwvYT4uIENvZGUgJmFtcDsgZGVzaWduIGxpY2Vuc2VkIHVuZGVyIE1JVC4nfV19XX19fSk7IiwiaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vc3JjL2NvbXBvbmVudC9CYXNlLm1qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL3NyYy91dGlsL0FycmF5Lm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgZXtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJSZWFsV29ybGQudmlldy5IZWFkZXJDb21wb25lbnRcIixhY3RpdmVJdGVtXzpcImhvbWVcIixiYXNlQ2xzOltcIm5hdmJhclwiLFwibmF2YmFyLWxpZ2h0XCJdLGxvZ2dlZEluXzohMSx1c2VySW1hZ2VfOm51bGwsdXNlck5hbWVfOm51bGwsX3Zkb206e3RhZzpcIm5hdlwiLGNsczpbXCJuYXZiYXIgbmF2YmFyLWxpZ2h0XCJdLGNuOlt7Y2xzOltcImNvbnRhaW5lclwiXSxjbjpbe3RhZzpcImFcIixjbHM6W1wibmF2YmFyLWJyYW5kXCJdLGhyZWY6XCIjL1wiLGh0bWw6XCJjb25kdWl0XCJ9LHt0YWc6XCJ1bFwiLGNsczpbXCJuYXYgbmF2YmFyLW5hdlwiLFwicHVsbC14cy1yaWdodFwiXSxjbjpbe3RhZzpcImxpXCIsY2xzOltcIm5hdi1pdGVtXCJdLGNuOlt7dGFnOlwiYVwiLGNsczpbXCJuYXYtbGlua1wiXSxocmVmOlwiIy9cIixodG1sOlwiSG9tZVwifV19LHt0YWc6XCJsaVwiLGNsczpbXCJuYXYtaXRlbVwiXSxyZW1vdmVEb206ITAsY246W3t0YWc6XCJhXCIsY2xzOltcIm5hdi1saW5rXCJdLGhyZWY6XCIjL2VkaXRvclwiLGNuOlt7dGFnOlwiaVwiLGNsczpcImlvbi1jb21wb3NlXCJ9LHt2dHlwZTpcInRleHRcIixodG1sOlwiJm5ic3A7TmV3IEFydGljbGVcIn1dfV19LHt0YWc6XCJsaVwiLGNsczpbXCJuYXYtaXRlbVwiXSxyZW1vdmVEb206ITAsY246W3t0YWc6XCJhXCIsY2xzOltcIm5hdi1saW5rXCJdLGhyZWY6XCIjL3NldHRpbmdzXCIsY246W3t0YWc6XCJpXCIsY2xzOlwiaW9uLWdlYXItYVwifSx7dnR5cGU6XCJ0ZXh0XCIsaHRtbDpcIiZuYnNwO1NldHRpbmdzXCJ9XX1dfSx7dGFnOlwibGlcIixjbHM6W1wibmF2LWl0ZW1cIl0scmVtb3ZlRG9tOiEwLGNuOlt7dGFnOlwiYVwiLGNsczpbXCJuYXYtbGlua1wiXSxocmVmOlwiIy9wcm9maWxlXCIsY246W3t0YWc6XCJpbWdcIixjbHM6W1widXNlci1waWNcIl19LHt2dHlwZTpcInRleHRcIixodG1sOlwiJm5ic3A7UHJvZmlsZVwifV19XX0se3RhZzpcImxpXCIsY2xzOltcIm5hdi1pdGVtXCJdLGNuOlt7dGFnOlwiYVwiLGNsczpbXCJuYXYtbGlua1wiXSxocmVmOlwiIy9sb2dpblwiLGh0bWw6XCJTaWduIGluXCJ9XX0se3RhZzpcImxpXCIsY2xzOltcIm5hdi1pdGVtXCJdLGNuOlt7dGFnOlwiYVwiLGNsczpbXCJuYXYtbGlua1wiXSxocmVmOlwiIy9yZWdpc3RlclwiLGh0bWw6XCJTaWduIHVwXCJ9XX1dfV19XX19O2FmdGVyU2V0QWN0aXZlSXRlbShlLG4pe2xldCBhPXRoaXMsYz1hLnZkb207biYmdC5yZW1vdmUoYy5jblswXS5jblsxXS5jblthLmdldEFjdGl2ZUluZGV4KG4pXS5jblswXS5jbHMsXCJhY3RpdmVcIiksdC5hZGQoYy5jblswXS5jblsxXS5jblthLmdldEFjdGl2ZUluZGV4KGUpXS5jblswXS5jbHMsXCJhY3RpdmVcIiksYS51cGRhdGUoKX1hZnRlclNldExvZ2dlZEluKGUsdCl7aWYoTmVvLmlzQm9vbGVhbih0KSl7bGV0IHQ9dGhpcyxuPXQudmRvbS5jblswXS5jblsxXTtuLmNuWzFdLnJlbW92ZURvbT0hZSxuLmNuWzJdLnJlbW92ZURvbT0hZSxuLmNuWzNdLnJlbW92ZURvbT0hZSxuLmNuWzRdLnJlbW92ZURvbT1lLG4uY25bNV0ucmVtb3ZlRG9tPWUsdC51cGRhdGUoKX19YWZ0ZXJTZXRVc2VySW1hZ2UoZSx0KXtsZXQgbj10aGlzLnZkb20uY25bMF0uY25bMV0uY25bM10uY25bMF07bi5jblswXS5yZW1vdmVEb209IWUsbi5jblswXS5zcmM9ZSx0aGlzLnVwZGF0ZSgpfWFmdGVyU2V0VXNlck5hbWUoZSx0KXtpZihlKXtsZXQgdD10aGlzLG49dC52ZG9tLmNuWzBdLmNuWzFdLmNuWzNdLmNuWzBdO24uaHJlZj1cIiMvcHJvZmlsZS9cIitlLG4uY25bMV0uaHRtbD1cIiZuYnNwO1wiK2UsdC51cGRhdGUoKX19Z2V0QWN0aXZlSW5kZXgoZSl7c3dpdGNoKGUpe2Nhc2VcIi9zZXR0aW5nc1wiOnJldHVybiAyO2Nhc2VcIi9sb2dpblwiOnJldHVybiA0O2Nhc2VcIi9yZWdpc3RlclwiOnJldHVybiA1fXJldHVybiBlLmluY2x1ZGVzKFwiL2VkaXRvclwiKT8xOmUuaW5jbHVkZXMoXCIvcHJvZmlsZVwiKT8zOjB9fSk7IiwiaW1wb3J0IGUgZnJvbVwiLi9Gb290ZXJDb21wb25lbnQubWpzXCI7aW1wb3J0IG8gZnJvbVwiLi9IZWFkZXJDb21wb25lbnQubWpzXCI7aW1wb3J0IHIgZnJvbVwiLi9NYWluQ29udGFpbmVyQ29udHJvbGxlci5tanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9zcmMvY29udGFpbmVyL1ZpZXdwb3J0Lm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgdHtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJSZWFsV29ybGQudmlldy5NYWluQ29udGFpbmVyXCIsYmFzZUNsczpbXSxjb250cm9sbGVyOnIsbGF5b3V0OntudHlwZTpcImJhc2VcIn0saXRlbXM6W3ttb2R1bGU6byxyZWZlcmVuY2U6XCJoZWFkZXJcIn0se21vZHVsZTplfV19fSk7IiwiaW1wb3J0IGUgZnJvbVwiLi4vYXBpL0FydGljbGUubWpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vc3JjL2NvbnRyb2xsZXIvQ29tcG9uZW50Lm1qc1wiO2ltcG9ydCBvIGZyb21cIi4uL2FwaS9GYXZvcml0ZS5tanNcIjtpbXBvcnR7TE9DQUxfU1RPUkFHRV9LRVkgYXMgbn1mcm9tXCIuLi9hcGkvY29uZmlnLm1qc1wiO2ltcG9ydCByIGZyb21cIi4uL2FwaS9Qcm9maWxlLm1qc1wiO2ltcG9ydCBzIGZyb21cIi4uL2FwaS9UYWcubWpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vYXBpL1VzZXIubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyB0e3N0YXRpYyBvYnNlcnZhYmxlPSEwO3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIlJlYWxXb3JsZC52aWV3Lk1haW5Db250YWluZXJDb250cm9sbGVyXCIsYXJ0aWNsZUNvbXBvbmVudDpudWxsLGFydGljbGVzT2Zmc2V0XzowLGNyZWF0ZUNvbXBvbmVudDpudWxsLGN1cnJlbnRVc2VyXzpudWxsLGhhc2hTdHJpbmc6bnVsbCxob21lQ29tcG9uZW50Om51bGwscHJvZmlsZUNvbXBvbmVudDpudWxsLHNldHRpbmdzQ29tcG9uZW50Om51bGwsc2lnblVwQ29tcG9uZW50Om51bGx9O2FmdGVyU2V0QXJ0aWNsZXNPZmZzZXQoZSx0KXtOZW8uaXNOdW1iZXIodCkmJnRoaXMuZ2V0QXJ0aWNsZXMoKX1hZnRlclNldEN1cnJlbnRVc2VyKGUsdCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQpe2xldCB0PXRoaXM7dC5nZXRSZWZlcmVuY2UoXCJoZWFkZXJcIikuc2V0KHtsb2dnZWRJbjohIWUsdXNlckltYWdlOmU/ZS5pbWFnZTpudWxsLHVzZXJOYW1lOmU/ZS51c2VybmFtZTpudWxsfSkudGhlbigoKT0+e3QudGltZW91dCgyMDApLnRoZW4oKCk9Pnt0LmZpcmUoXCJhZnRlclNldEN1cnJlbnRVc2VyXCIsZSl9KX0pfX1kZWxldGVBcnRpY2xlKHQpe2UuZGVsZXRlKHtzbHVnOnR9KS50aGVuKGU9PntOZW8uTWFpbi5zZXRSb3V0ZSh7dmFsdWU6XCIvXCJ9KX0pfWRlbGV0ZUNvbW1lbnQodCl7bGV0IG89dGhpcyxuPW8uaGFzaFN0cmluZy5zcGxpdChcIi9cIikucG9wKCk7cmV0dXJuIGUuZGVsZXRlQ29tbWVudChuLHQpLnRoZW4oZT0+e28uZ2V0Q29tbWVudHMobil9KX1mYXZvcml0ZUFydGljbGUoZSx0KXtyZXR1cm4gb1t0P1wiYWRkXCI6XCJyZW1vdmVcIl0oZSl9Zm9sbG93VXNlcihlLHQpe3JldHVybiByW3Q/XCJmb2xsb3dcIjpcInVuZm9sbG93XCJdKGUpfWdldEFydGljbGUodCl7cmV0dXJuIGUuZ2V0KHtzbHVnOnR9KX1nZXRBcnRpY2xlcyh0PXt9LG89e30pe3JldHVybiBlLmdldCh7cGFyYW1zOntsaW1pdDoxMCxvZmZzZXQ6dGhpcy5hcnRpY2xlc09mZnNldCwuLi50fSwuLi5vfSl9Z2V0Q29tbWVudHModCl7ZS5nZXRDb21tZW50cyh0KS50aGVuKGU9Pnt0aGlzLmFydGljbGVDb21wb25lbnQuY29tbWVudHM9ZS5qc29uLmNvbW1lbnRzfSl9Z2V0Q3VycmVudFVzZXIoZSl7ZSYmaS5nZXQoe3Jlc291cmNlOlwiL3VzZXJcIn0pLnRoZW4oZT0+e3RoaXMuY3VycmVudFVzZXI9ZS5qc29uLnVzZXJ9KX1nZXRQcm9maWxlKGUpe2xldCB0PXRoaXM7ci5nZXQoe3NsdWc6ZX0pLnRoZW4oZT0+e3QucHJvZmlsZUNvbXBvbmVudC51cGRhdGVDb250ZW50KHsuLi5lLmpzb24ucHJvZmlsZSxteVByb2ZpbGU6ZS5qc29uLnByb2ZpbGUudXNlcm5hbWU9PT10LmN1cnJlbnRVc2VyPy51c2VybmFtZX0pfSl9Z2V0VGFncygpe3MuZ2V0KCkudGhlbihlPT57dGhpcy5ob21lQ29tcG9uZW50LnRhZ0xpc3QudGFncz1lLmpzb24udGFnc30pfWxvZ2luKGUpe3RoaXMuY3VycmVudFVzZXI9ZSxOZW8ubWFpbi5hZGRvbi5Mb2NhbFN0b3JhZ2UuY3JlYXRlTG9jYWxTdG9yYWdlSXRlbSh7a2V5Om4sdmFsdWU6ZS50b2tlbn0pLnRoZW4oKCk9Pnt0aGlzLnRpbWVvdXQoNTApLnRoZW4oKCk9PntOZW8uTWFpbi5zZXRSb3V0ZSh7dmFsdWU6XCIvXCJ9KX0pfSl9bG9nb3V0KCl7dGhpcy5jdXJyZW50VXNlcj1udWxsLE5lby5tYWluLmFkZG9uLkxvY2FsU3RvcmFnZS5kZXN0cm95TG9jYWxTdG9yYWdlSXRlbSh7a2V5Om59KS50aGVuKCgpPT57dGhpcy50aW1lb3V0KDUwKS50aGVuKCgpPT57TmVvLk1haW4uc2V0Um91dGUoe3ZhbHVlOlwiL1wifSl9KX0pfW9uQ29tcG9uZW50Q29uc3RydWN0ZWQoKXtzdXBlci5vbkNvbXBvbmVudENvbnN0cnVjdGVkKCksTmVvLmNvbmZpZy5oYXNofHx0aGlzLm9uSGFzaENoYW5nZSh7YXBwTmFtZXM6W1wiUmVhbFdvcmxkXCJdLGhhc2g6e1wiL1wiOlwiXCJ9LGhhc2hTdHJpbmc6XCIvXCJ9LG51bGwpfW9uQ29uc3RydWN0ZWQoKXtzdXBlci5vbkNvbnN0cnVjdGVkKCksaS5vbihcInJlYWR5XCIsdGhpcy5nZXRDdXJyZW50VXNlcix0aGlzKX1hc3luYyBvbkhhc2hDaGFuZ2UoZSx0KXtsZXQgbyxuLHIscyxpPXRoaXMsYT1pLmNvbXBvbmVudCxtPWUuaGFzaCxsPWUuaGFzaFN0cmluZztpZihhLmlzQ29uc3RydWN0ZWQpc3dpdGNoKGkuaGFzaFN0cmluZz1sLGEuaXRlbXNbMF0uYWN0aXZlSXRlbT1PYmplY3Qua2V5cyhtKVswXSxcIi9cIj09PWw/cj1bXCJob21lQ29tcG9uZW50XCIsKCk9PmltcG9ydChcIi4vSG9tZUNvbXBvbmVudC5tanNcIiksXCJob21lXCJdOmwuaW5jbHVkZXMoXCIvYXJ0aWNsZS9cIik/cj1bXCJhcnRpY2xlQ29tcG9uZW50XCIsKCk9PmltcG9ydChcIi4vYXJ0aWNsZS9Db21wb25lbnQubWpzXCIpLFwiYXJ0aWNsZVwiXTpsLmluY2x1ZGVzKFwiL2VkaXRvclwiKT9yPVtcImNyZWF0ZUNvbXBvbmVudFwiLCgpPT5pbXBvcnQoXCIuL2FydGljbGUvQ3JlYXRlQ29tcG9uZW50Lm1qc1wiKSxcImVkaXRvclwiXTpsLmluY2x1ZGVzKFwiL3Byb2ZpbGUvXCIpP3I9W1wicHJvZmlsZUNvbXBvbmVudFwiLCgpPT5pbXBvcnQoXCIuL3VzZXIvUHJvZmlsZUNvbXBvbmVudC5tanNcIiksXCJwcm9maWxlXCJdOm0uaGFzT3duUHJvcGVydHkoXCIvbG9naW5cIik/KHI9W1wic2lnblVwQ29tcG9uZW50XCIsKCk9PmltcG9ydChcIi4vdXNlci9TaWduVXBDb21wb25lbnQubWpzXCIpLFwic2lnbnVwXCJdLG89XCJzaWduaW5cIik6bS5oYXNPd25Qcm9wZXJ0eShcIi9yZWdpc3RlclwiKT8ocj1bXCJzaWduVXBDb21wb25lbnRcIiwoKT0+aW1wb3J0KFwiLi91c2VyL1NpZ25VcENvbXBvbmVudC5tanNcIiksXCJzaWdudXBcIl0sbz1cInNpZ251cFwiKTptLmhhc093blByb3BlcnR5KFwiL3NldHRpbmdzXCIpJiYocj1bXCJzZXR0aW5nc0NvbXBvbmVudFwiLCgpPT5pbXBvcnQoXCIuL3VzZXIvU2V0dGluZ3NDb21wb25lbnQubWpzXCIpLFwic2V0dGluZ3NcIl0pLHImJihuPWF3YWl0IGkucHJvbWlzZVZpZXcoLi4uciksbyYmKG4ubW9kZT1vKSksdCYmdC5oYXNoJiYodC5oYXNoLmhhc093blByb3BlcnR5KFwiL2xvZ2luXCIpJiZtLmhhc093blByb3BlcnR5KFwiL3JlZ2lzdGVyXCIpfHx0Lmhhc2guaGFzT3duUHJvcGVydHkoXCIvcmVnaXN0ZXJcIikmJm0uaGFzT3duUHJvcGVydHkoXCIvbG9naW5cIikpfHwoYS5pdGVtcy5sZW5ndGg+MiYmYS5yZW1vdmVBdCgxLCExLCEwKSxuJiZhLmluc2VydCgxLG4pKSxuLnJlZmVyZW5jZSl7Y2FzZVwiYXJ0aWNsZVwiOnM9bC5zcGxpdChcIi9cIikucG9wKCksaS5nZXRBcnRpY2xlKHMpLnRoZW4oZT0+e2xldCB0PWUuanNvbi5hcnRpY2xlLG89dC5ib2R5O2RlbGV0ZSB0LmJvZHksaS5hcnRpY2xlQ29tcG9uZW50LnNldCh0KS50aGVuKCgpPT57aS5hcnRpY2xlQ29tcG9uZW50LmJvZHk9b30pfSksaS5nZXRDb21tZW50cyhzKTticmVhaztjYXNlXCJlZGl0b3JcIjpzPWwuc3BsaXQoXCIvXCIpLnBvcCgpLFwiZWRpdG9yXCIhPT1zP2kuZ2V0QXJ0aWNsZShzKS50aGVuKGU9Pntjb25zdCB0PWUuanNvbi5hcnRpY2xlO2kuY3JlYXRlQ29tcG9uZW50LnNldCh7Ym9keTp0LmJvZHksZGVzY3JpcHRpb246dC5kZXNjcmlwdGlvbixzbHVnOnQuc2x1Zyx0YWdMaXN0OnQudGFnTGlzdCx0aXRsZTp0LnRpdGxlfSl9KTppLmNyZWF0ZUNvbXBvbmVudC5yZXNldEZvcm0oKTticmVhaztjYXNlXCJob21lXCI6aS5ob21lQ29tcG9uZW50LmxvZ2dlZEluPSEhaS5jdXJyZW50VXNlcixpLmhvbWVDb21wb25lbnQuZ2V0QXJ0aWNsZXMoKSxpLmdldFRhZ3MoKTticmVhaztjYXNlXCJwcm9maWxlXCI6aS5nZXRQcm9maWxlKGwuc3BsaXQoXCIvXCIpLnBvcCgpKTticmVhaztjYXNlXCJzZXR0aW5nc1wiOmkuY3VycmVudFVzZXImJmkudGltZW91dCg1MCkudGhlbigoKT0+e2kuc2V0dGluZ3NDb21wb25lbnQub25DdXJyZW50VXNlckNoYW5nZShpLmN1cnJlbnRVc2VyKX0pO2JyZWFrO2Nhc2VcInNpZ251cFwiOm4uZXJyb3JzPVtdfWVsc2UgYS5vbihcImNvbnN0cnVjdGVkXCIsKCk9PntpLm9uSGFzaENoYW5nZShlLHQpfSl9cG9zdENvbW1lbnQodD17fSl7bGV0IG89dGhpcyxuPW8uaGFzaFN0cmluZy5zcGxpdChcIi9cIikucG9wKCk7cmV0dXJuIGUucG9zdENvbW1lbnQobix0KS50aGVuKGU9PntvLmdldENvbW1lbnRzKG4pfSl9YXN5bmMgcHJvbWlzZVZpZXcoZSx0LG8pe2xldCBuPXRoaXM7cmV0dXJuIG5bZV18fCh0PWF3YWl0IHQoKSxuW2VdPU5lby5jcmVhdGUoe21vZHVsZTp0LmRlZmF1bHQscGFyZW50SWQ6bi5jb21wb25lbnQuaWQscmVmZXJlbmNlOm99KSksbltlXX1zYXZlVXNlcihlKXtyZXR1cm4gaS5wb3N0KGUpfXVwZGF0ZVNldHRpbmdzKGU9e30pe3JldHVybiBpLnB1dCh7Li4uZSxyZXNvdXJjZTpcIi91c2VyXCJ9KS50aGVuKGU9PihlLmpzb24uZXJyb3JzfHwodGhpcy5jdXJyZW50VXNlcj1lLmpzb24udXNlciksZSkpfX0pOyIsImltcG9ydCBlIGZyb21cIi4vQmFzZS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGV7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmNvbnRhaW5lci5WaWV3cG9ydFwiLG50eXBlOlwidmlld3BvcnRcIixhcHBseUJvZHlDbHM6ITAsYXV0b01vdW50OiEwLGJhc2VDbHM6W1wibmVvLXZpZXdwb3J0XCJdLG1vbml0b3JTaXplXzohMX07YWZ0ZXJTZXRNb3VudGVkKGUsbyl7c3VwZXIuYWZ0ZXJTZXRNb3VudGVkKGUsbyk7bGV0IHM9dGhpcztlJiZzLm1vbml0b3JTaXplJiZzLmFkZERvbUxpc3RlbmVycyhbe3Jlc2l6ZTpzLm9uRG9tUmVzaXplLHNjb3BlOnN9XSl9b25Db25zdHJ1Y3RlZCgpe3N1cGVyLm9uQ29uc3RydWN0ZWQoKTtsZXR7YXBwTmFtZTplLHdpbmRvd0lkOm99PXRoaXM7dGhpcy5hcHBseUJvZHlDbHMmJk5lby5tYWluLkRvbUFjY2Vzcy5hcHBseUJvZHlDbHMoe2FwcE5hbWU6ZSxjbHM6W1wibmVvLWJvZHktdmlld3BvcnRcIl0sd2luZG93SWQ6b30pfW9uRG9tUmVzaXplKGUpe3RoaXMuZmlyZShcInJlc2l6ZVwiLGUpfX0pOyIsImltcG9ydCBlIGZyb21cIi4uL2NvcmUvQmFzZS5tanNcIjtpbXBvcnQgdCBmcm9tXCIuLi91dGlsL0hhc2hIaXN0b3J5Lm1qc1wiO2NvbnN0IG89L1xcLy9nLHM9L3tbXlxccy9dK30vZztleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGV7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmNvbnRyb2xsZXIuQmFzZVwiLG50eXBlOlwiY29udHJvbGxlclwiLGRlZmF1bHRIYXNoOm51bGwsZGVmYXVsdFJvdXRlOm51bGwsaGFuZGxlUm91dGVzOnt9LHJvdXRlc186e319O2NvbnN0cnVjdChlKXtzdXBlci5jb25zdHJ1Y3QoZSksdC5vbihcImNoYW5nZVwiLHRoaXMub25IYXNoQ2hhbmdlLHRoaXMpfWFmdGVyU2V0Um91dGVzKGUsdCl7bGV0IG89dGhpcyxuPU9iamVjdC5rZXlzKGUpO28ucm91dGVzPW4uc29ydChvLiNlKS5yZWR1Y2UoKHQsbyk9Pih0W29dPWVbb10sdCkse30pLG8uaGFuZGxlUm91dGVzPXt9LG4uZm9yRWFjaCh0PT57XCJkZWZhdWx0XCI9PT10LnRvTG93ZXJDYXNlKCk/by5kZWZhdWx0Um91dGU9ZVt0XTpvLmhhbmRsZVJvdXRlc1t0XT1uZXcgUmVnRXhwKHQucmVwbGFjZShzLFwiKFtcXFxcdy0uXSspXCIpK1wiJFwiKX0pfWRlc3Ryb3koLi4uZSl7dC51bihcImNoYW5nZVwiLHRoaXMub25IYXNoQ2hhbmdlLHRoaXMpLHN1cGVyLmRlc3Ryb3koLi4uZSl9YXN5bmMgb25Db25zdHJ1Y3RlZCgpe2xldCBlPXRoaXMse2RlZmF1bHRIYXNoOm8sd2luZG93SWQ6c309ZSxuPXQuZmlyc3Qocyk7YXdhaXQgZS50aW1lb3V0KDEpLG4/bi53aW5kb3dJZD09PXMmJmF3YWl0IGUub25IYXNoQ2hhbmdlKG4sbnVsbCk6IU5lby5jb25maWcuaGFzaCYmbyYmTmVvLk1haW4uc2V0Um91dGUoe3ZhbHVlOm8sd2luZG93SWQ6c30pfWFzeW5jIG9uSGFzaENoYW5nZShlLHQpe2lmKGUud2luZG93SWQhPT10aGlzLndpbmRvd0lkKXJldHVybjtsZXQgbyxuLGEsbCx1LGgscixpLGQsYz10aGlzLGc9MCxmPSExLHtoYW5kbGVSb3V0ZXM6dyxyb3V0ZXM6bX09YyxSPU9iamVjdC5rZXlzKHcpLHA9Ui5sZW5ndGg7Zm9yKDtwPjAmJmc8cCYmIWY7KXtpZihsPVJbZ10sYT1udWxsLGg9bnVsbCxyPW51bGwsdT17fSxpPWUuaGFzaFN0cmluZy5tYXRjaCh3W2xdKSxpKXtpZihvPWwubWF0Y2gocyksbj1pLnNwbGljZSgxLGkubGVuZ3RoLTEpLG8mJm8ubGVuZ3RoIT09bi5sZW5ndGgpdGhyb3dcIk51bWJlciBvZiBJRHMgYW5kIG51bWJlciBvZiBWYWx1ZXMgZG8gbm90IG1hdGNoXCI7Zm9yKGxldCBlPTA7byYmZTxvLmxlbmd0aDtlKyspdVtvW2VdLnN1YnN0cmluZygxLG9bZV0ubGVuZ3RoLTEpXT1uW2VdO2Q9bVtsXSxOZW8uaXNTdHJpbmcoZCk/KGE9ZCxyPSEwKTpOZW8uaXNPYmplY3QoZCkmJihhPWQuaGFuZGxlcixoPWQucHJlSGFuZGxlciksZj0hMH1nKyt9ZiYmKHI9IWh8fGF3YWl0KGNbaF0/LmNhbGwoYyx1LGUsdCkpLHImJmF3YWl0KGNbYV0/LmNhbGwoYyx1LGUsdCkpKSxSLmxlbmd0aD4wJiYhZiYmKGMuZGVmYXVsdFJvdXRlP2NbYy5kZWZhdWx0Um91dGVdPy4oZSx0KTpjLm9uTm9Sb3V0ZUZvdW5kKGUsdCkpfW9uTm9Sb3V0ZUZvdW5kKGUsdCl7fSNlKGUsdCl7cmV0dXJuKGUubWF0Y2gobyl8fFtdKS5sZW5ndGgtKHQubWF0Y2gobyl8fFtdKS5sZW5ndGh9fSk7IiwiaW1wb3J0IGUgZnJvbVwiLi9CYXNlLm1qc1wiO2ltcG9ydHtyZXNvbHZlQ2FsbGJhY2sgYXMgdH1mcm9tXCIuLi91dGlsL0Z1bmN0aW9uLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgZXtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uY29udHJvbGxlci5Db21wb25lbnRcIixudHlwZTpcImNvbXBvbmVudC1jb250cm9sbGVyXCIsY29tcG9uZW50Om51bGwscGFyZW50XzpudWxsLHJlZmVyZW5jZXM6bnVsbCx3aW5kb3dJZDpudWxsfTtjb25zdHJ1Y3QoZSl7c3VwZXIuY29uc3RydWN0KGUpO2xldCB0PXRoaXMse2NvbXBvbmVudDpufT10O3QucmVmZXJlbmNlcz17fSxuLmlzQ29uc3RydWN0ZWQ/dC5vbkNvbXBvbmVudENvbnN0cnVjdGVkKCk6bi5vbihcImNvbnN0cnVjdGVkXCIsKCk9Pnt0Lm9uQ29tcG9uZW50Q29uc3RydWN0ZWQoKX0sdCx7b25jZTohMH0pfWJlZm9yZVNldFBhcmVudChlLHQpe3JldHVybiBlfHx0aGlzLmdldFBhcmVudCgpfWdldEhhbmRsZXJTY29wZShlLG4pe2xldCByLG89dGhpcyx7cGFyZW50OnN9PW87cmV0dXJuISghbnx8KHI9dChlLG4pLCFyLmZuKSl8fChOZW8uaXNGdW5jdGlvbihvW2VdKT9vOnM/LmdldEhhbmRsZXJTY29wZShlKXx8bnVsbCl9Z2V0UGFyZW50KCl7bGV0e3BhcmVudDplfT10aGlzO3JldHVybiBlfHwodGhpcy5jb21wb25lbnQucGFyZW50Py5nZXRDb250cm9sbGVyKCl8fG51bGwpfWdldFJlZmVyZW5jZShlKXtsZXQgdD10aGlzLG49dC5yZWZlcmVuY2VzW2VdO3JldHVybiBufHwobj10LmNvbXBvbmVudC5kb3duKHtyZWZlcmVuY2U6ZX0pLG4mJih0LnJlZmVyZW5jZXNbZV09bikpLG58fG51bGx9Z2V0U3RhdGUoLi4uZSl7cmV0dXJuIHRoaXMuZ2V0U3RhdGVQcm92aWRlcigpLmdldERhdGEoLi4uZSl9Z2V0U3RhdGVQcm92aWRlcihlPSExKXtsZXR7Y29tcG9uZW50OnR9PXRoaXM7cmV0dXJuIGU/dC5zdGF0ZVByb3ZpZGVyOnQuZ2V0U3RhdGVQcm92aWRlcigpfWdldFN0b3JlKGUpe3JldHVybiB0aGlzLmdldFN0YXRlUHJvdmlkZXIoKS5nZXRTdG9yZShlKX1vbkNvbXBvbmVudENvbnN0cnVjdGVkKCl7fXJlbW92ZVJlZmVyZW5jZShlKXtsZXQgdCx7cmVmZXJlbmNlczpufT10aGlzO2Zvcih0IGluIG4paWYoZT09PW5bdF0pe2RlbGV0ZSBuW3RdO2JyZWFrfXRoaXMuZ2V0UGFyZW50KCk/LnJlbW92ZVJlZmVyZW5jZShlKX1zZXRTdGF0ZSguLi5lKXt0aGlzLmdldFN0YXRlUHJvdmlkZXIoKS5zZXREYXRhKC4uLmUpfX0pOyIsImltcG9ydCB0IGZyb21cIi4uL2NvcmUvQmFzZS5tanNcIjtpbXBvcnQgZSBmcm9tXCIuLi9jb3JlL09ic2VydmFibGUubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyB0e3N0YXRpYyBvYnNlcnZhYmxlPSEwO3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby51dGlsLkhhc2hIaXN0b3J5XCIsc2luZ2xldG9uOiEwLG1heEl0ZW1zOjUwLHN0YWNrczp7fX07Zmlyc3QodCl7cmV0dXJuIHRoaXMuZ2V0QXQoMCx0KX1nZXRBdCh0LGUpe3JldHVybiB0aGlzLmdldFN0YWNrKGUpW3RdfWdldENvdW50KHQpe3JldHVybiB0aGlzLmdldFN0YWNrKHQpLmxlbmd0aH1nZXRTdGFjayh0KXtsZXR7c3RhY2tzOmV9PXRoaXMscz10fHxPYmplY3Qua2V5cyhlKVswXSxyPWVbc107cmV0dXJuIHJ8fChlW3NdPXI9W10pLHJ9cHVzaCh0KXtsZXQgZT10aGlzLHt3aW5kb3dJZDpzfT10LHI9ZS5nZXRTdGFjayhzKTtyWzBdPy5oYXNoU3RyaW5nIT09dC5oYXNoU3RyaW5nJiYoZGVsZXRlIHRbc10sci51bnNoaWZ0KHQpLHIubGVuZ3RoPmUubWF4SXRlbXMmJnIucG9wKCksZS5maXJlKFwiY2hhbmdlXCIsdCxyWzFdfHxudWxsKSl9c2Vjb25kKHQpe3JldHVybiB0aGlzLmdldEF0KDAsdCl9fSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9