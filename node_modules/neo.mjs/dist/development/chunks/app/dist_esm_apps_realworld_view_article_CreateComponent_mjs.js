"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["dist_esm_apps_realworld_view_article_CreateComponent_mjs"],{

/***/ "./dist/esm/apps/realworld/view/article/CreateComponent.mjs"
/*!******************************************************************!*\
  !*** ./dist/esm/apps/realworld/view/article/CreateComponent.mjs ***!
  \******************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../src/component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony import */ var _src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../src/util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony import */ var _src_util_VNode_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../src/util/VNode.mjs */ "./dist/esm/src/util/VNode.mjs");
/* harmony import */ var _api_Article_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../api/Article.mjs */ "./dist/esm/apps/realworld/api/Article.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"RealWorld.view.article.CreateComponent",baseCls:["editor-page"],body_:"",errors_:[],description_:"",slug:null,tagList_:[],title_:"",_vdom:{cn:[{cls:["container","page"],cn:[{cls:["row"],cn:[{cls:["col-md-10","offset-md-1","col-xs-12"],cn:[{tag:"ul",cls:["error-messages"],flag:"errors"},{tag:"form",cn:[{tag:"fieldset",cn:[{tag:"fieldset",cls:["form-group"],cn:[{tag:"input",cls:["form-control","form-control-lg"],flag:"title",name:"title",placeholder:"Article Title",type:"text"}]},{tag:"fieldset",cls:["form-group"],cn:[{tag:"input",cls:["form-control"],name:"description",flag:"description",placeholder:"What's this article about?",type:"text"}]},{tag:"fieldset",cls:["form-group"],cn:[{tag:"textarea",cls:["form-control"],flag:"body",name:"body",placeholder:"Write your article (in markdown)",rows:8}]},{tag:"fieldset",cls:["form-group"],cn:[{tag:"input",cls:["form-control","field-tags"],flag:"tags",name:"tags",placeholder:"Enter tags",type:"text"},{cls:["tag-list"],flag:"tag-list"}]},{tag:"button",cls:["btn","btn-lg","btn-primary","pull-xs-right"],text:"Publish Article",type:"button"}]}]}]}]}]}]}};construct(t){super.construct(t);let e=this;e.addDomListeners([{click:{fn:e.onSubmitButtonClick,delegate:".btn-primary",scope:e}},{click:{fn:e.onTagClose,delegate:".ion-close-round",scope:e}},{keydown:{fn:e.onFieldTagsKeyDown,delegate:".field-tags",scope:e}}])}afterSetBody(t,s){_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(this.vdom,"body").value=t,this.update()}afterSetDescription(t,s){_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(this.vdom,"description").value=t,this.update()}afterSetErrors(t,s){let a=_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(this.vdom,"errors");a.cn=[],Object.entries(t||{}).forEach(([t,e])=>{a.cn.push({tag:"li",text:t+" "+e.join(" and ")})}),this.update()}afterSetTagList(t,s){let a=this,l=_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(a.vdom,"tag-list"),o=_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(a.vdom,"tags");l.cn=[],o.value=null,Object.entries(t||{}).forEach(([t,e])=>{l.cn.push({tag:"span",cls:["tag-default tag-pill"],cn:[{tag:"i",cls:["ion-close-round"],"data-value":e},{vtype:"text",text:e}]})}),a.update()}afterSetTitle(t,s){_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(this.vdom,"title").value=t,this.update()}onFieldTagsKeyDown(t){let e=this;"Enter"===t.key&&Neo.main.DomAccess.getAttributes({id:t.target.id,attributes:"value",windowId:e.windowId}).then(t=>{_src_util_VNode_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].find(e.vnode,{className:"field-tags"}).vnode.attributes.value=t.value,e.tagList=[...e._tagList,t.value]})}onSubmitButtonClick(){let t=this,s=t.vdom,l=_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(s,"body"),o=_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(s,"description"),i=[_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(s,"title").id,o.id,l.id];Neo.main.DomAccess.getAttributes({id:i,attributes:"value",windowId:t.windowId}).then(e=>{_api_Article_mjs__WEBPACK_IMPORTED_MODULE_3__["default"][t.slug?"put":"post"]({data:JSON.stringify({article:{title:e[0].value,description:e[1].value,body:e[2].value,tagList:t.tagList}}),slug:t.slug}).then(e=>{const s=e.json.errors;s?t.errors=s:Neo.Main.setRoute({value:"/article/"+e.json.article.slug})})})}onTagClose(t){this.tagList=this.tagList.filter(e=>e!==t.target.data.value)}resetForm(){this.set({body:"",description:"",slug:null,tagList:[],title:""})}}));

/***/ }

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC9kaXN0X2VzbV9hcHBzX3JlYWx3b3JsZF92aWV3X2FydGljbGVfQ3JlYXRlQ29tcG9uZW50X21qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFrTCxpRUFBZSw2QkFBNkIsK0RBQUMsQ0FBQyxlQUFlLHNKQUFzSixLQUFLLDhCQUE4QixpQkFBaUIsaURBQWlELDhDQUE4QyxFQUFFLGdCQUFnQixvQkFBb0IsdUNBQXVDLHFIQUFxSCxFQUFFLEVBQUUsdUNBQXVDLDRIQUE0SCxFQUFFLEVBQUUsdUNBQXVDLGtIQUFrSCxFQUFFLEVBQUUsdUNBQXVDLDJHQUEyRyxFQUFFLGlDQUFpQyxFQUFFLEVBQUUscUdBQXFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLGFBQWEsbUJBQW1CLFdBQVcsb0JBQW9CLE9BQU8sMERBQTBELEVBQUUsT0FBTyxxREFBcUQsRUFBRSxTQUFTLHdEQUF3RCxHQUFHLGtCQUFrQiwwREFBQyxtREFBbUQseUJBQXlCLDBEQUFDLDBEQUEwRCxvQkFBb0IsTUFBTSwwREFBQywrQkFBK0IsNEJBQTRCLG9CQUFvQixXQUFXLG9DQUFvQyxFQUFFLGdCQUFnQixxQkFBcUIsYUFBYSwwREFBQyxnQ0FBZ0MsMERBQUMsMEJBQTBCLHlDQUF5QyxvQkFBb0IsV0FBVyw2Q0FBNkMsK0NBQStDLEVBQUUsb0JBQW9CLEVBQUUsRUFBRSxhQUFhLG1CQUFtQiwwREFBQyxvREFBb0Qsc0JBQXNCLFdBQVcsbURBQW1ELHNEQUFzRCxXQUFXLDJEQUFDLGVBQWUsdUJBQXVCLG1FQUFtRSxFQUFFLHNCQUFzQixzQkFBc0IsMERBQUMsdUJBQXVCLDBEQUFDLCtCQUErQiwwREFBQyxvQ0FBb0Msa0NBQWtDLDRDQUE0QyxXQUFXLHdEQUFDLHVCQUF1QixxQkFBcUIsU0FBUywyRUFBMkUsY0FBYyxXQUFXLHNCQUFzQixnQ0FBZ0Msc0NBQXNDLEVBQUUsRUFBRSxFQUFFLGNBQWMsNkRBQTZELFlBQVksVUFBVSxxREFBcUQsR0FBRyxDQUFDLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vYXBwcy9yZWFsd29ybGQvdmlldy9hcnRpY2xlL0NyZWF0ZUNvbXBvbmVudC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudC9CYXNlLm1qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL3NyYy91dGlsL1ZEb20ubWpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vLi4vc3JjL3V0aWwvVk5vZGUubWpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vLi4vYXBpL0FydGljbGUubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyB0e3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIlJlYWxXb3JsZC52aWV3LmFydGljbGUuQ3JlYXRlQ29tcG9uZW50XCIsYmFzZUNsczpbXCJlZGl0b3ItcGFnZVwiXSxib2R5XzpcIlwiLGVycm9yc186W10sZGVzY3JpcHRpb25fOlwiXCIsc2x1ZzpudWxsLHRhZ0xpc3RfOltdLHRpdGxlXzpcIlwiLF92ZG9tOntjbjpbe2NsczpbXCJjb250YWluZXJcIixcInBhZ2VcIl0sY246W3tjbHM6W1wicm93XCJdLGNuOlt7Y2xzOltcImNvbC1tZC0xMFwiLFwib2Zmc2V0LW1kLTFcIixcImNvbC14cy0xMlwiXSxjbjpbe3RhZzpcInVsXCIsY2xzOltcImVycm9yLW1lc3NhZ2VzXCJdLGZsYWc6XCJlcnJvcnNcIn0se3RhZzpcImZvcm1cIixjbjpbe3RhZzpcImZpZWxkc2V0XCIsY246W3t0YWc6XCJmaWVsZHNldFwiLGNsczpbXCJmb3JtLWdyb3VwXCJdLGNuOlt7dGFnOlwiaW5wdXRcIixjbHM6W1wiZm9ybS1jb250cm9sXCIsXCJmb3JtLWNvbnRyb2wtbGdcIl0sZmxhZzpcInRpdGxlXCIsbmFtZTpcInRpdGxlXCIscGxhY2Vob2xkZXI6XCJBcnRpY2xlIFRpdGxlXCIsdHlwZTpcInRleHRcIn1dfSx7dGFnOlwiZmllbGRzZXRcIixjbHM6W1wiZm9ybS1ncm91cFwiXSxjbjpbe3RhZzpcImlucHV0XCIsY2xzOltcImZvcm0tY29udHJvbFwiXSxuYW1lOlwiZGVzY3JpcHRpb25cIixmbGFnOlwiZGVzY3JpcHRpb25cIixwbGFjZWhvbGRlcjpcIldoYXQncyB0aGlzIGFydGljbGUgYWJvdXQ/XCIsdHlwZTpcInRleHRcIn1dfSx7dGFnOlwiZmllbGRzZXRcIixjbHM6W1wiZm9ybS1ncm91cFwiXSxjbjpbe3RhZzpcInRleHRhcmVhXCIsY2xzOltcImZvcm0tY29udHJvbFwiXSxmbGFnOlwiYm9keVwiLG5hbWU6XCJib2R5XCIscGxhY2Vob2xkZXI6XCJXcml0ZSB5b3VyIGFydGljbGUgKGluIG1hcmtkb3duKVwiLHJvd3M6OH1dfSx7dGFnOlwiZmllbGRzZXRcIixjbHM6W1wiZm9ybS1ncm91cFwiXSxjbjpbe3RhZzpcImlucHV0XCIsY2xzOltcImZvcm0tY29udHJvbFwiLFwiZmllbGQtdGFnc1wiXSxmbGFnOlwidGFnc1wiLG5hbWU6XCJ0YWdzXCIscGxhY2Vob2xkZXI6XCJFbnRlciB0YWdzXCIsdHlwZTpcInRleHRcIn0se2NsczpbXCJ0YWctbGlzdFwiXSxmbGFnOlwidGFnLWxpc3RcIn1dfSx7dGFnOlwiYnV0dG9uXCIsY2xzOltcImJ0blwiLFwiYnRuLWxnXCIsXCJidG4tcHJpbWFyeVwiLFwicHVsbC14cy1yaWdodFwiXSx0ZXh0OlwiUHVibGlzaCBBcnRpY2xlXCIsdHlwZTpcImJ1dHRvblwifV19XX1dfV19XX1dfX07Y29uc3RydWN0KHQpe3N1cGVyLmNvbnN0cnVjdCh0KTtsZXQgZT10aGlzO2UuYWRkRG9tTGlzdGVuZXJzKFt7Y2xpY2s6e2ZuOmUub25TdWJtaXRCdXR0b25DbGljayxkZWxlZ2F0ZTpcIi5idG4tcHJpbWFyeVwiLHNjb3BlOmV9fSx7Y2xpY2s6e2ZuOmUub25UYWdDbG9zZSxkZWxlZ2F0ZTpcIi5pb24tY2xvc2Utcm91bmRcIixzY29wZTplfX0se2tleWRvd246e2ZuOmUub25GaWVsZFRhZ3NLZXlEb3duLGRlbGVnYXRlOlwiLmZpZWxkLXRhZ3NcIixzY29wZTplfX1dKX1hZnRlclNldEJvZHkodCxzKXtlLmdldEJ5RmxhZyh0aGlzLnZkb20sXCJib2R5XCIpLnZhbHVlPXQsdGhpcy51cGRhdGUoKX1hZnRlclNldERlc2NyaXB0aW9uKHQscyl7ZS5nZXRCeUZsYWcodGhpcy52ZG9tLFwiZGVzY3JpcHRpb25cIikudmFsdWU9dCx0aGlzLnVwZGF0ZSgpfWFmdGVyU2V0RXJyb3JzKHQscyl7bGV0IGE9ZS5nZXRCeUZsYWcodGhpcy52ZG9tLFwiZXJyb3JzXCIpO2EuY249W10sT2JqZWN0LmVudHJpZXModHx8e30pLmZvckVhY2goKFt0LGVdKT0+e2EuY24ucHVzaCh7dGFnOlwibGlcIix0ZXh0OnQrXCIgXCIrZS5qb2luKFwiIGFuZCBcIil9KX0pLHRoaXMudXBkYXRlKCl9YWZ0ZXJTZXRUYWdMaXN0KHQscyl7bGV0IGE9dGhpcyxsPWUuZ2V0QnlGbGFnKGEudmRvbSxcInRhZy1saXN0XCIpLG89ZS5nZXRCeUZsYWcoYS52ZG9tLFwidGFnc1wiKTtsLmNuPVtdLG8udmFsdWU9bnVsbCxPYmplY3QuZW50cmllcyh0fHx7fSkuZm9yRWFjaCgoW3QsZV0pPT57bC5jbi5wdXNoKHt0YWc6XCJzcGFuXCIsY2xzOltcInRhZy1kZWZhdWx0IHRhZy1waWxsXCJdLGNuOlt7dGFnOlwiaVwiLGNsczpbXCJpb24tY2xvc2Utcm91bmRcIl0sXCJkYXRhLXZhbHVlXCI6ZX0se3Z0eXBlOlwidGV4dFwiLHRleHQ6ZX1dfSl9KSxhLnVwZGF0ZSgpfWFmdGVyU2V0VGl0bGUodCxzKXtlLmdldEJ5RmxhZyh0aGlzLnZkb20sXCJ0aXRsZVwiKS52YWx1ZT10LHRoaXMudXBkYXRlKCl9b25GaWVsZFRhZ3NLZXlEb3duKHQpe2xldCBlPXRoaXM7XCJFbnRlclwiPT09dC5rZXkmJk5lby5tYWluLkRvbUFjY2Vzcy5nZXRBdHRyaWJ1dGVzKHtpZDp0LnRhcmdldC5pZCxhdHRyaWJ1dGVzOlwidmFsdWVcIix3aW5kb3dJZDplLndpbmRvd0lkfSkudGhlbih0PT57cy5maW5kKGUudm5vZGUse2NsYXNzTmFtZTpcImZpZWxkLXRhZ3NcIn0pLnZub2RlLmF0dHJpYnV0ZXMudmFsdWU9dC52YWx1ZSxlLnRhZ0xpc3Q9Wy4uLmUuX3RhZ0xpc3QsdC52YWx1ZV19KX1vblN1Ym1pdEJ1dHRvbkNsaWNrKCl7bGV0IHQ9dGhpcyxzPXQudmRvbSxsPWUuZ2V0QnlGbGFnKHMsXCJib2R5XCIpLG89ZS5nZXRCeUZsYWcocyxcImRlc2NyaXB0aW9uXCIpLGk9W2UuZ2V0QnlGbGFnKHMsXCJ0aXRsZVwiKS5pZCxvLmlkLGwuaWRdO05lby5tYWluLkRvbUFjY2Vzcy5nZXRBdHRyaWJ1dGVzKHtpZDppLGF0dHJpYnV0ZXM6XCJ2YWx1ZVwiLHdpbmRvd0lkOnQud2luZG93SWR9KS50aGVuKGU9PnthW3Quc2x1Zz9cInB1dFwiOlwicG9zdFwiXSh7ZGF0YTpKU09OLnN0cmluZ2lmeSh7YXJ0aWNsZTp7dGl0bGU6ZVswXS52YWx1ZSxkZXNjcmlwdGlvbjplWzFdLnZhbHVlLGJvZHk6ZVsyXS52YWx1ZSx0YWdMaXN0OnQudGFnTGlzdH19KSxzbHVnOnQuc2x1Z30pLnRoZW4oZT0+e2NvbnN0IHM9ZS5qc29uLmVycm9ycztzP3QuZXJyb3JzPXM6TmVvLk1haW4uc2V0Um91dGUoe3ZhbHVlOlwiL2FydGljbGUvXCIrZS5qc29uLmFydGljbGUuc2x1Z30pfSl9KX1vblRhZ0Nsb3NlKHQpe3RoaXMudGFnTGlzdD10aGlzLnRhZ0xpc3QuZmlsdGVyKGU9PmUhPT10LnRhcmdldC5kYXRhLnZhbHVlKX1yZXNldEZvcm0oKXt0aGlzLnNldCh7Ym9keTpcIlwiLGRlc2NyaXB0aW9uOlwiXCIsc2x1ZzpudWxsLHRhZ0xpc3Q6W10sdGl0bGU6XCJcIn0pfX0pOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=