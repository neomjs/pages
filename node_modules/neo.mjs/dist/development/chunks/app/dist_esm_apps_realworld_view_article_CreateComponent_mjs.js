"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["dist_esm_apps_realworld_view_article_CreateComponent_mjs"],{

/***/ "./dist/esm/apps/realworld/view/article/CreateComponent.mjs":
/*!******************************************************************!*\
  !*** ./dist/esm/apps/realworld/view/article/CreateComponent.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../src/component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony import */ var _src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../src/util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony import */ var _src_util_VNode_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../src/util/VNode.mjs */ "./dist/esm/src/util/VNode.mjs");
/* harmony import */ var _api_Article_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../api/Article.mjs */ "./dist/esm/apps/realworld/api/Article.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"RealWorld.view.article.CreateComponent",baseCls:["editor-page"],body_:"",errors_:[],description_:"",slug:null,tagList_:[],title_:"",_vdom:{cn:[{cls:["container","page"],cn:[{cls:["row"],cn:[{cls:["col-md-10","offset-md-1","col-xs-12"],cn:[{tag:"ul",cls:["error-messages"],flag:"errors"},{tag:"form",cn:[{tag:"fieldset",cn:[{tag:"fieldset",cls:["form-group"],cn:[{tag:"input",cls:["form-control","form-control-lg"],flag:"title",name:"title",placeholder:"Article Title",type:"text"}]},{tag:"fieldset",cls:["form-group"],cn:[{tag:"input",cls:["form-control"],name:"description",flag:"description",placeholder:"What's this article about?",type:"text"}]},{tag:"fieldset",cls:["form-group"],cn:[{tag:"textarea",cls:["form-control"],flag:"body",name:"body",placeholder:"Write your article (in markdown)",rows:8}]},{tag:"fieldset",cls:["form-group"],cn:[{tag:"input",cls:["form-control","field-tags"],flag:"tags",name:"tags",placeholder:"Enter tags",type:"text"},{cls:["tag-list"],flag:"tag-list"}]},{tag:"button",cls:["btn","btn-lg","btn-primary","pull-xs-right"],html:"Publish Article",type:"button"}]}]}]}]}]}]}};construct(t){super.construct(t);let e=this;e.addDomListeners([{click:{fn:e.onSubmitButtonClick,delegate:".btn-primary",scope:e}},{click:{fn:e.onTagClose,delegate:".ion-close-round",scope:e}},{keydown:{fn:e.onFieldTagsKeyDown,delegate:".field-tags",scope:e}}])}afterSetBody(t,l){_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(this.vdom,"body").value=t,this.update()}afterSetDescription(t,l){_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(this.vdom,"description").value=t,this.update()}afterSetErrors(t,l){let s=_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(this.vdom,"errors");s.cn=[],Object.entries(t||{}).forEach(([t,e])=>{s.cn.push({tag:"li",html:t+" "+e.join(" and ")})}),this.update()}afterSetTagList(t,l){let s=this,a=_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(s.vdom,"tag-list"),o=_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(s.vdom,"tags");a.cn=[],o.value=null,Object.entries(t||{}).forEach(([t,e])=>{a.cn.push({tag:"span",cls:["tag-default tag-pill"],cn:[{tag:"i",cls:["ion-close-round"],"data-value":e},{vtype:"text",html:e}]})}),s.update()}afterSetTitle(t,l){_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(this.vdom,"title").value=t,this.update()}onFieldTagsKeyDown(t){let e=this;"Enter"===t.key&&Neo.main.DomAccess.getAttributes({id:t.target.id,attributes:"value"}).then(t=>{_src_util_VNode_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].find(e.vnode,{className:"field-tags"}).vnode.attributes.value=t.value,e.tagList=[...e._tagList,t.value]})}onSubmitButtonClick(){let t=this,l=t.vdom,a=_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(l,"body"),o=_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(l,"description"),i=[_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(l,"title").id,o.id,a.id];Neo.main.DomAccess.getAttributes({id:i,attributes:"value"}).then(e=>{_api_Article_mjs__WEBPACK_IMPORTED_MODULE_3__["default"][t.slug?"put":"post"]({data:JSON.stringify({article:{title:e[0].value,description:e[1].value,body:e[2].value,tagList:t.tagList}}),slug:t.slug}).then(e=>{const l=e.json.errors;l?t.errors=l:Neo.Main.setRoute({value:"/article/"+e.json.article.slug})})})}onTagClose(t){this.tagList=this.tagList.filter(e=>e!==t.target.data.value)}resetForm(){this.set({body:"",description:"",slug:null,tagList:[],title:""})}}));

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC9kaXN0X2VzbV9hcHBzX3JlYWx3b3JsZF92aWV3X2FydGljbGVfQ3JlYXRlQ29tcG9uZW50X21qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFrTCxpRUFBZSw2QkFBNkIsK0RBQUMsQ0FBQyxlQUFlLHNKQUFzSixLQUFLLDhCQUE4QixpQkFBaUIsaURBQWlELDhDQUE4QyxFQUFFLGdCQUFnQixvQkFBb0IsdUNBQXVDLHFIQUFxSCxFQUFFLEVBQUUsdUNBQXVDLDRIQUE0SCxFQUFFLEVBQUUsdUNBQXVDLGtIQUFrSCxFQUFFLEVBQUUsdUNBQXVDLDJHQUEyRyxFQUFFLGlDQUFpQyxFQUFFLEVBQUUscUdBQXFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLGFBQWEsbUJBQW1CLFdBQVcsb0JBQW9CLE9BQU8sMERBQTBELEVBQUUsT0FBTyxxREFBcUQsRUFBRSxTQUFTLHdEQUF3RCxHQUFHLGtCQUFrQiwwREFBQyxtREFBbUQseUJBQXlCLDBEQUFDLDBEQUEwRCxvQkFBb0IsTUFBTSwwREFBQywrQkFBK0IsNEJBQTRCLG9CQUFvQixXQUFXLG9DQUFvQyxFQUFFLGdCQUFnQixxQkFBcUIsYUFBYSwwREFBQyxnQ0FBZ0MsMERBQUMsMEJBQTBCLHlDQUF5QyxvQkFBb0IsV0FBVyw2Q0FBNkMsK0NBQStDLEVBQUUsb0JBQW9CLEVBQUUsRUFBRSxhQUFhLG1CQUFtQiwwREFBQyxvREFBb0Qsc0JBQXNCLFdBQVcsbURBQW1ELGtDQUFrQyxXQUFXLDJEQUFDLGVBQWUsdUJBQXVCLG1FQUFtRSxFQUFFLHNCQUFzQixzQkFBc0IsMERBQUMsdUJBQXVCLDBEQUFDLCtCQUErQiwwREFBQyxvQ0FBb0Msa0NBQWtDLHdCQUF3QixXQUFXLHdEQUFDLHVCQUF1QixxQkFBcUIsU0FBUywyRUFBMkUsY0FBYyxXQUFXLHNCQUFzQixnQ0FBZ0Msc0NBQXNDLEVBQUUsRUFBRSxFQUFFLGNBQWMsNkRBQTZELFlBQVksVUFBVSxxREFBcUQsR0FBRyxDQUFDLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vYXBwcy9yZWFsd29ybGQvdmlldy9hcnRpY2xlL0NyZWF0ZUNvbXBvbmVudC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudC9CYXNlLm1qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL3NyYy91dGlsL1ZEb20ubWpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vLi4vLi4vLi4vc3JjL3V0aWwvVk5vZGUubWpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vYXBpL0FydGljbGUubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyB0e3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIlJlYWxXb3JsZC52aWV3LmFydGljbGUuQ3JlYXRlQ29tcG9uZW50XCIsYmFzZUNsczpbXCJlZGl0b3ItcGFnZVwiXSxib2R5XzpcIlwiLGVycm9yc186W10sZGVzY3JpcHRpb25fOlwiXCIsc2x1ZzpudWxsLHRhZ0xpc3RfOltdLHRpdGxlXzpcIlwiLF92ZG9tOntjbjpbe2NsczpbXCJjb250YWluZXJcIixcInBhZ2VcIl0sY246W3tjbHM6W1wicm93XCJdLGNuOlt7Y2xzOltcImNvbC1tZC0xMFwiLFwib2Zmc2V0LW1kLTFcIixcImNvbC14cy0xMlwiXSxjbjpbe3RhZzpcInVsXCIsY2xzOltcImVycm9yLW1lc3NhZ2VzXCJdLGZsYWc6XCJlcnJvcnNcIn0se3RhZzpcImZvcm1cIixjbjpbe3RhZzpcImZpZWxkc2V0XCIsY246W3t0YWc6XCJmaWVsZHNldFwiLGNsczpbXCJmb3JtLWdyb3VwXCJdLGNuOlt7dGFnOlwiaW5wdXRcIixjbHM6W1wiZm9ybS1jb250cm9sXCIsXCJmb3JtLWNvbnRyb2wtbGdcIl0sZmxhZzpcInRpdGxlXCIsbmFtZTpcInRpdGxlXCIscGxhY2Vob2xkZXI6XCJBcnRpY2xlIFRpdGxlXCIsdHlwZTpcInRleHRcIn1dfSx7dGFnOlwiZmllbGRzZXRcIixjbHM6W1wiZm9ybS1ncm91cFwiXSxjbjpbe3RhZzpcImlucHV0XCIsY2xzOltcImZvcm0tY29udHJvbFwiXSxuYW1lOlwiZGVzY3JpcHRpb25cIixmbGFnOlwiZGVzY3JpcHRpb25cIixwbGFjZWhvbGRlcjpcIldoYXQncyB0aGlzIGFydGljbGUgYWJvdXQ/XCIsdHlwZTpcInRleHRcIn1dfSx7dGFnOlwiZmllbGRzZXRcIixjbHM6W1wiZm9ybS1ncm91cFwiXSxjbjpbe3RhZzpcInRleHRhcmVhXCIsY2xzOltcImZvcm0tY29udHJvbFwiXSxmbGFnOlwiYm9keVwiLG5hbWU6XCJib2R5XCIscGxhY2Vob2xkZXI6XCJXcml0ZSB5b3VyIGFydGljbGUgKGluIG1hcmtkb3duKVwiLHJvd3M6OH1dfSx7dGFnOlwiZmllbGRzZXRcIixjbHM6W1wiZm9ybS1ncm91cFwiXSxjbjpbe3RhZzpcImlucHV0XCIsY2xzOltcImZvcm0tY29udHJvbFwiLFwiZmllbGQtdGFnc1wiXSxmbGFnOlwidGFnc1wiLG5hbWU6XCJ0YWdzXCIscGxhY2Vob2xkZXI6XCJFbnRlciB0YWdzXCIsdHlwZTpcInRleHRcIn0se2NsczpbXCJ0YWctbGlzdFwiXSxmbGFnOlwidGFnLWxpc3RcIn1dfSx7dGFnOlwiYnV0dG9uXCIsY2xzOltcImJ0blwiLFwiYnRuLWxnXCIsXCJidG4tcHJpbWFyeVwiLFwicHVsbC14cy1yaWdodFwiXSxodG1sOlwiUHVibGlzaCBBcnRpY2xlXCIsdHlwZTpcImJ1dHRvblwifV19XX1dfV19XX1dfX07Y29uc3RydWN0KHQpe3N1cGVyLmNvbnN0cnVjdCh0KTtsZXQgZT10aGlzO2UuYWRkRG9tTGlzdGVuZXJzKFt7Y2xpY2s6e2ZuOmUub25TdWJtaXRCdXR0b25DbGljayxkZWxlZ2F0ZTpcIi5idG4tcHJpbWFyeVwiLHNjb3BlOmV9fSx7Y2xpY2s6e2ZuOmUub25UYWdDbG9zZSxkZWxlZ2F0ZTpcIi5pb24tY2xvc2Utcm91bmRcIixzY29wZTplfX0se2tleWRvd246e2ZuOmUub25GaWVsZFRhZ3NLZXlEb3duLGRlbGVnYXRlOlwiLmZpZWxkLXRhZ3NcIixzY29wZTplfX1dKX1hZnRlclNldEJvZHkodCxsKXtlLmdldEJ5RmxhZyh0aGlzLnZkb20sXCJib2R5XCIpLnZhbHVlPXQsdGhpcy51cGRhdGUoKX1hZnRlclNldERlc2NyaXB0aW9uKHQsbCl7ZS5nZXRCeUZsYWcodGhpcy52ZG9tLFwiZGVzY3JpcHRpb25cIikudmFsdWU9dCx0aGlzLnVwZGF0ZSgpfWFmdGVyU2V0RXJyb3JzKHQsbCl7bGV0IHM9ZS5nZXRCeUZsYWcodGhpcy52ZG9tLFwiZXJyb3JzXCIpO3MuY249W10sT2JqZWN0LmVudHJpZXModHx8e30pLmZvckVhY2goKFt0LGVdKT0+e3MuY24ucHVzaCh7dGFnOlwibGlcIixodG1sOnQrXCIgXCIrZS5qb2luKFwiIGFuZCBcIil9KX0pLHRoaXMudXBkYXRlKCl9YWZ0ZXJTZXRUYWdMaXN0KHQsbCl7bGV0IHM9dGhpcyxhPWUuZ2V0QnlGbGFnKHMudmRvbSxcInRhZy1saXN0XCIpLG89ZS5nZXRCeUZsYWcocy52ZG9tLFwidGFnc1wiKTthLmNuPVtdLG8udmFsdWU9bnVsbCxPYmplY3QuZW50cmllcyh0fHx7fSkuZm9yRWFjaCgoW3QsZV0pPT57YS5jbi5wdXNoKHt0YWc6XCJzcGFuXCIsY2xzOltcInRhZy1kZWZhdWx0IHRhZy1waWxsXCJdLGNuOlt7dGFnOlwiaVwiLGNsczpbXCJpb24tY2xvc2Utcm91bmRcIl0sXCJkYXRhLXZhbHVlXCI6ZX0se3Z0eXBlOlwidGV4dFwiLGh0bWw6ZX1dfSl9KSxzLnVwZGF0ZSgpfWFmdGVyU2V0VGl0bGUodCxsKXtlLmdldEJ5RmxhZyh0aGlzLnZkb20sXCJ0aXRsZVwiKS52YWx1ZT10LHRoaXMudXBkYXRlKCl9b25GaWVsZFRhZ3NLZXlEb3duKHQpe2xldCBlPXRoaXM7XCJFbnRlclwiPT09dC5rZXkmJk5lby5tYWluLkRvbUFjY2Vzcy5nZXRBdHRyaWJ1dGVzKHtpZDp0LnRhcmdldC5pZCxhdHRyaWJ1dGVzOlwidmFsdWVcIn0pLnRoZW4odD0+e2wuZmluZChlLnZub2RlLHtjbGFzc05hbWU6XCJmaWVsZC10YWdzXCJ9KS52bm9kZS5hdHRyaWJ1dGVzLnZhbHVlPXQudmFsdWUsZS50YWdMaXN0PVsuLi5lLl90YWdMaXN0LHQudmFsdWVdfSl9b25TdWJtaXRCdXR0b25DbGljaygpe2xldCB0PXRoaXMsbD10LnZkb20sYT1lLmdldEJ5RmxhZyhsLFwiYm9keVwiKSxvPWUuZ2V0QnlGbGFnKGwsXCJkZXNjcmlwdGlvblwiKSxpPVtlLmdldEJ5RmxhZyhsLFwidGl0bGVcIikuaWQsby5pZCxhLmlkXTtOZW8ubWFpbi5Eb21BY2Nlc3MuZ2V0QXR0cmlidXRlcyh7aWQ6aSxhdHRyaWJ1dGVzOlwidmFsdWVcIn0pLnRoZW4oZT0+e3NbdC5zbHVnP1wicHV0XCI6XCJwb3N0XCJdKHtkYXRhOkpTT04uc3RyaW5naWZ5KHthcnRpY2xlOnt0aXRsZTplWzBdLnZhbHVlLGRlc2NyaXB0aW9uOmVbMV0udmFsdWUsYm9keTplWzJdLnZhbHVlLHRhZ0xpc3Q6dC50YWdMaXN0fX0pLHNsdWc6dC5zbHVnfSkudGhlbihlPT57Y29uc3QgbD1lLmpzb24uZXJyb3JzO2w/dC5lcnJvcnM9bDpOZW8uTWFpbi5zZXRSb3V0ZSh7dmFsdWU6XCIvYXJ0aWNsZS9cIitlLmpzb24uYXJ0aWNsZS5zbHVnfSl9KX0pfW9uVGFnQ2xvc2UodCl7dGhpcy50YWdMaXN0PXRoaXMudGFnTGlzdC5maWx0ZXIoZT0+ZSE9PXQudGFyZ2V0LmRhdGEudmFsdWUpfXJlc2V0Rm9ybSgpe3RoaXMuc2V0KHtib2R5OlwiXCIsZGVzY3JpcHRpb246XCJcIixzbHVnOm51bGwsdGFnTGlzdDpbXSx0aXRsZTpcIlwifSl9fSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9