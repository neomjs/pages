"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["dist_esm_apps_realworld_view_article_Component_mjs"],{

/***/ "./dist/esm/apps/realworld/view/article/Component.mjs":
/*!************************************************************!*\
  !*** ./dist/esm/apps/realworld/view/article/Component.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../src/component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony import */ var _CreateCommentComponent_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CreateCommentComponent.mjs */ "./dist/esm/apps/realworld/view/article/CreateCommentComponent.mjs");
/* harmony import */ var _src_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../src/util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../src/util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"RealWorld.view.article.Component",author_:null,baseCls:["article-page"],body_:null,commentComponent:null,commentComponents:[],comments_:null,createCommentComponent:null,createdAt_:null,favorited_:!1,favoritesCount_:null,tagList_:null,title_:null,_vdom:{cn:[{cls:["banner"],cn:[{cls:["container"],cn:[{tag:"h1",flag:"title"},{cls:["article-meta"],cn:[{tag:"a",flag:"userimage",cn:[{tag:"img"}]},{cls:["info"],cn:[{tag:"a",cls:["author"],flag:"username"},{tag:"span",cls:["date"],flag:"createdAt"}]},{tag:"button",cls:["btn","btn-sm","btn-outline-secondary","follow-button"],cn:[{tag:"i",flag:"followIcon"},{vtype:"text",flag:"followAuthor"},{vtype:"text",flag:"username"}]},{tag:"button",cls:["btn","btn-sm","btn-outline-secondary","edit-button"],flag:"edit-button",removeDom:!0,cn:[{tag:"i",cls:["ion-edit"]},{vtype:"text",html:" Edit Article"}]},{vtype:"text",html:"&nbsp;&nbsp;"},{tag:"button",cls:["btn","btn-sm","btn-outline-primary","favorite-button"],flag:"favorited",cn:[{tag:"i",cls:["ion-heart"]},{vtype:"text",html:"&nbsp;"},{vtype:"text"},{vtype:"text",html:" Post "},{tag:"span",cls:["counter"],flag:"favoritesCount"}]},{tag:"button",cls:["btn","btn-sm","btn-outline-danger","delete-button"],flag:"delete-button",removeDom:!0,cn:[{tag:"i",cls:["ion-trash-a"]},{vtype:"text",html:" Delete Article"}]}]}]}]},{cls:["container","page"],cn:[{cls:["row","article-content"],cn:[{cls:["col-md-12"],flag:"body",cn:[]}]},{tag:"hr"},{cls:["article-actions"],flag:"article-actions",cn:[{cls:["article-meta"],cn:[{tag:"a",flag:"userimage",cn:[{tag:"img"}]},{cls:["info"],cn:[{tag:"a",cls:["author"],flag:"username"},{tag:"span",cls:["date"],html:"January 20th"}]},{tag:"button",cls:["btn","btn-sm","btn-outline-secondary","follow-button"],cn:[{tag:"i",flag:"followIcon"},{vtype:"text",flag:"followAuthor"},{vtype:"text",flag:"username"}]},{vtype:"text",html:"&nbsp;&nbsp;"},{tag:"button",cls:["btn","btn-sm","btn-outline-primary","favorite-button"],flag:"favorited",cn:[{tag:"i",cls:["ion-heart"]},{vtype:"text",html:"&nbsp;"},{vtype:"text"},{vtype:"text",html:" Post "},{tag:"span",cls:["counter"],flag:"favoritesCount"}]}]}]},{cls:"row",cn:[{cls:["col-xs-12","col-md-8","offset-md-2"],flag:"comments-section",cn:[]}]}]}]}};construct(t){super.construct(t);let e=this;e.addDomListeners([{click:{fn:e.onDeleteButtonClick,delegate:".delete-button",scope:e}},{click:{fn:e.onEditButtonClick,delegate:".edit-button",scope:e}},{click:{fn:e.onFavoriteButtonClick,delegate:".favorite-button",scope:e}},{click:{fn:e.onFollowButtonClick,delegate:".follow-button",scope:e}}]),e.getController().on({afterSetCurrentUser:e.onCurrentUserChange,scope:e})}onConstructed(){let t=this,o=t.getController().currentUser;t.createCommentComponent=Neo.create({module:_CreateCommentComponent_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],parentId:t.id,userImage:o?.image||null}),_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getByFlag(t.vdom,"comments-section").cn.unshift(t.createCommentComponent.vdom),t.update(),super.onConstructed()}afterSetAuthor(t,e){if(t){let e=this,o=e.vdom;_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getFlags(o,"followAuthor").forEach(e=>{e.html=t.following?" Unfollow ":" Follow "}),_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getFlags(o,"followIcon").forEach(e=>{e.cls=t.following?["ion-minus-round"]:["ion-plus-round"]}),_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getFlags(o,"userimage").forEach(e=>{e.href="#/profile/"+t.username,e.cn[0].src=t.image}),_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getFlags(o,"username").forEach(e=>{e.href="#/profile/"+t.username,e.html=t.username}),e.update(),e.onCurrentUserChange()}}afterSetBody(t,e){t&&Neo.main.addon.Markdown.markdownToHtml(t).then(t=>{_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getByFlag(this.vdom,"body").cn[0]={cn:[{tag:"p",html:t}]},this.update()})}async afterSetComments(t,e){if(Array.isArray(t)){let e,o,a=this,l=_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getByFlag(a.vdom,"comments-section");a.commentComponent||(o=await __webpack_require__.e(/*! import() */ "dist_esm_apps_realworld_view_article_CommentComponent_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ./CommentComponent.mjs */ "./dist/esm/apps/realworld/view/article/CommentComponent.mjs")),a.commentComponent=o.default),l.cn=[l.cn.shift()],t.forEach((t,o)=>{e={author:t.author,body:t.body,commentId:t.id,createdAt:t.createdAt,updatedAt:t.updatedAt},a.commentComponents[o]?a.commentComponents[o].set(e,!0):a.commentComponents[o]=Neo.create({module:a.commentComponent,parentId:a.id,...e}),l.cn.push(a.commentComponents[o].vdom)}),a.update()}}afterSetCreatedAt(t,e){t&&(_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getByFlag(this.vdom,"createdAt").html=new Intl.DateTimeFormat("en-US",{day:"numeric",month:"long",year:"numeric"}).format(new Date(t)),this.update())}afterSetFavorited(t,e){let a=this;_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getFlags(a.vdom,"favorited").forEach(e=>{e.cn[2].html=t?"Unfavorite":"Favorite",_src_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].add(e.cls,t?"btn-primary":"btn-outline-primary"),_src_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].remove(e.cls,t?"btn-outline-primary":"btn-primary")}),a.update(),Neo.isBoolean(e)&&a.getController().favoriteArticle(a.slug,t).then(t=>{a.favoritesCount=t.json.article.favoritesCount})}afterSetFavoritesCount(t,e){Neo.isNumber(t)&&(_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getFlags(this.vdom,"favoritesCount").forEach(e=>{e.html=`(${t})`}),this.update())}afterSetTagList(t,e){let o,a=_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getByFlag(this.vdom,"body");Array.isArray(t)&&t.length>0?(o={tag:"ul",cls:["tag-list"],cn:[]},t.forEach(t=>{o.cn.push({tag:"li",cls:["tag-default","tag-pill","tag-outline"],html:t})}),a.cn[1]=o):a.cn[1]&&(a.cn[1].removeDom=!0),this.update()}afterSetTitle(t,e){_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getByFlag(this.vdom,"title").html=t,this.update()}onCurrentUserChange(){console.log("### onCurrentUserChange");let t,e=this,o=e.getController().currentUser,a=e.vdom;e.author&&o&&(t=e.author.username===o.username,a.cn[0].cn[0].cn[1].cn[2].removeDom=t,a.cn[0].cn[0].cn[1].cn[5].removeDom=t,_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getByFlag(a,"article-actions").removeDom=t,_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getByFlag(a,"delete-button").removeDom=!t,_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getByFlag(a,"edit-button").removeDom=!t,e.update())}onDeleteButtonClick(t){this.getController().deleteArticle(this.slug)}onEditButtonClick(t){Neo.Main.setRoute({value:"/editor/"+this.slug})}onFavoriteButtonClick(t){this.favorited=!this.favorited}onFollowButtonClick(t){let e=this;e.getController().followUser(e.author.username,!e.author.following).then(t=>{e.author=t.json.profile})}}));

/***/ }),

/***/ "./dist/esm/apps/realworld/view/article/CreateCommentComponent.mjs":
/*!*************************************************************************!*\
  !*** ./dist/esm/apps/realworld/view/article/CreateCommentComponent.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../src/component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"RealWorld.view.article.CreateCommentComponent",baseCls:["card","comment-form"],userImage_:null,userName_:null,_vdom:{tag:"form",cn:[{cls:["card-block"],cn:[{tag:"textarea",cls:["form-control"],placeholder:"Write a comment...",rows:3}]},{cls:["card-footer"],cn:[{tag:"img",cls:["comment-author-img"],src:"https://static.productionready.io/images/smiley-cyrus.jpg"},{vtype:"text",html:"&nbsp;"},{tag:"span",cls:["comment-author"]},{tag:"button",cls:["btn","btn-sm","btn-primary"],html:"Post Comment",type:"button"}]}]}};construct(t){super.construct(t);let e=this;e.addDomListeners({click:{fn:e.onSubmitButtonClick,delegate:".btn-primary",scope:e}}),e.vdom.cn[0].cn[0].id=e.getInputElId(),e.update(),e.getController().on({afterSetCurrentUser:e.onCurrentUserChange,scope:e})}afterSetUserImage(t,e){t&&(this.vdom.cn[1].cn[0].src=t,this.update())}afterSetUserName(t,e){t&&(this.vdom.cn[1].cn[2].html=t,this.update())}getInputElId(){return this.id+"__input"}onCurrentUserChange(t){this.set({userImage:t.image,userName:t.username})}onSubmitButtonClick(t){let e=this;Neo.main.DomAccess.getAttributes({id:e.getInputElId(),attributes:"value"}).then(t=>{e.getController().postComment({data:JSON.stringify({comment:{body:t.value}})}).then(t=>{e.vdom.cn[0].cn[0].value="",e.update()})})}}));

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC9kaXN0X2VzbV9hcHBzX3JlYWx3b3JsZF92aWV3X2FydGljbGVfQ29tcG9uZW50X21qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUF5TCxpRUFBZSw2QkFBNkIsK0RBQUMsQ0FBQyxlQUFlLHdRQUF3USxLQUFLLG9CQUFvQix1QkFBdUIsc0JBQXNCLEVBQUUsMEJBQTBCLDhCQUE4QixVQUFVLEVBQUUsRUFBRSxrQkFBa0IsdUNBQXVDLEVBQUUseUNBQXlDLEVBQUUsRUFBRSwrRUFBK0UsMEJBQTBCLEVBQUUsaUNBQWlDLEVBQUUsNkJBQTZCLEVBQUUsRUFBRSw2R0FBNkcseUJBQXlCLEVBQUUsa0NBQWtDLEVBQUUsRUFBRSx5QkFBeUIsTUFBTSxFQUFFLEVBQUUsZ0dBQWdHLDBCQUEwQixFQUFFLHlCQUF5QixFQUFFLEVBQUUsYUFBYSxFQUFFLDJCQUEyQixFQUFFLGlEQUFpRCxFQUFFLEVBQUUsOEdBQThHLDRCQUE0QixFQUFFLG9DQUFvQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsOEJBQThCLG1DQUFtQyxvQ0FBb0MsRUFBRSxFQUFFLFNBQVMsRUFBRSxvREFBb0QsMEJBQTBCLDhCQUE4QixVQUFVLEVBQUUsRUFBRSxrQkFBa0IsdUNBQXVDLEVBQUUsNENBQTRDLEVBQUUsRUFBRSwrRUFBK0UsMEJBQTBCLEVBQUUsaUNBQWlDLEVBQUUsNkJBQTZCLEVBQUUsRUFBRSx5QkFBeUIsTUFBTSxFQUFFLEVBQUUsZ0dBQWdHLDBCQUEwQixFQUFFLHlCQUF5QixFQUFFLEVBQUUsYUFBYSxFQUFFLDJCQUEyQixFQUFFLGlEQUFpRCxFQUFFLEVBQUUsRUFBRSxFQUFFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSxJQUFJLGFBQWEsbUJBQW1CLFdBQVcsb0JBQW9CLE9BQU8sNERBQTRELEVBQUUsT0FBTyx3REFBd0QsRUFBRSxPQUFPLGdFQUFnRSxFQUFFLE9BQU8sNERBQTRELHlCQUF5QixrREFBa0QsRUFBRSxnQkFBZ0IsMkNBQTJDLHFDQUFxQyxPQUFPLG1FQUFDLHdDQUF3QyxFQUFFLDBEQUFDLGlIQUFpSCxvQkFBb0IsTUFBTSxvQkFBb0IsMERBQUMsd0NBQXdDLDJDQUEyQyxFQUFFLDBEQUFDLHNDQUFzQyx5REFBeUQsRUFBRSwwREFBQyxxQ0FBcUMsbURBQW1ELEVBQUUsMERBQUMsb0NBQW9DLGlEQUFpRCxzQ0FBc0Msa0JBQWtCLHNEQUFzRCwwREFBQyxvQ0FBb0MsS0FBSyxlQUFlLEVBQUUsZUFBZSxFQUFFLDRCQUE0QixxQkFBcUIsaUJBQWlCLDBEQUFDLHNDQUFzQyw2QkFBNkIsbVBBQWdDLHFFQUFxRSxHQUFHLHVGQUF1Riw0RkFBNEYsNkNBQTZDLHlDQUF5QyxjQUFjLHVCQUF1QixJQUFJLDBEQUFDLHdFQUF3RSwwQ0FBMEMscUNBQXFDLHVCQUF1QixXQUFXLDBEQUFDLDBDQUEwQyx1Q0FBdUMsMkRBQUMsa0RBQWtELDJEQUFDLHFEQUFxRCxvRkFBb0YsK0NBQStDLEVBQUUsNEJBQTRCLGtCQUFrQiwwREFBQyxrREFBa0QsV0FBVyxFQUFFLEdBQUcsaUJBQWlCLHFCQUFxQixRQUFRLDBEQUFDLDZCQUE2QixpQ0FBaUMsZ0NBQWdDLGVBQWUsV0FBVyw2REFBNkQsRUFBRSwyREFBMkQsbUJBQW1CLDBEQUFDLG1EQUFtRCxzQkFBc0IsdUNBQXVDLHNEQUFzRCwySEFBMkgsMERBQUMsNENBQTRDLDBEQUFDLDJDQUEyQywwREFBQyxxREFBcUQsdUJBQXVCLDhDQUE4QyxxQkFBcUIsbUJBQW1CLDJCQUEyQixFQUFFLHlCQUF5QiwrQkFBK0IsdUJBQXVCLFdBQVcsNkVBQTZFLHdCQUF3QixHQUFHLENBQUMsRTs7Ozs7Ozs7Ozs7Ozs7O0FDQS95TCxpRUFBZSw2QkFBNkIsK0RBQUMsQ0FBQyxlQUFlLGdJQUFnSSxnQkFBZ0Isd0JBQXdCLDRFQUE0RSxFQUFFLEVBQUUseUJBQXlCLHFHQUFxRyxFQUFFLHlCQUF5QixFQUFFLEVBQUUsa0NBQWtDLEVBQUUsa0ZBQWtGLEVBQUUsSUFBSSxhQUFhLG1CQUFtQixXQUFXLG1CQUFtQixPQUFPLDBEQUEwRCwwRUFBMEUsa0RBQWtELEVBQUUsdUJBQXVCLCtDQUErQyxzQkFBc0IsZ0RBQWdELGVBQWUseUJBQXlCLHVCQUF1QixVQUFVLHNDQUFzQyxFQUFFLHVCQUF1QixXQUFXLGtDQUFrQyx1Q0FBdUMsV0FBVywrQkFBK0IscUJBQXFCLFNBQVMsY0FBYyxFQUFFLFdBQVcsdUNBQXVDLEVBQUUsR0FBRyxDQUFDLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vYXBwcy9yZWFsd29ybGQvdmlldy9hcnRpY2xlL0NvbXBvbmVudC5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL2FwcHMvcmVhbHdvcmxkL3ZpZXcvYXJ0aWNsZS9DcmVhdGVDb21tZW50Q29tcG9uZW50Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50L0Jhc2UubWpzXCI7aW1wb3J0IGUgZnJvbVwiLi9DcmVhdGVDb21tZW50Q29tcG9uZW50Lm1qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uLy4uL3NyYy91dGlsL0FycmF5Lm1qc1wiO2ltcG9ydCBuIGZyb21cIi4uLy4uLy4uLy4uL3NyYy91dGlsL1ZEb20ubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyB0e3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIlJlYWxXb3JsZC52aWV3LmFydGljbGUuQ29tcG9uZW50XCIsYXV0aG9yXzpudWxsLGJhc2VDbHM6W1wiYXJ0aWNsZS1wYWdlXCJdLGJvZHlfOm51bGwsY29tbWVudENvbXBvbmVudDpudWxsLGNvbW1lbnRDb21wb25lbnRzOltdLGNvbW1lbnRzXzpudWxsLGNyZWF0ZUNvbW1lbnRDb21wb25lbnQ6bnVsbCxjcmVhdGVkQXRfOm51bGwsZmF2b3JpdGVkXzohMSxmYXZvcml0ZXNDb3VudF86bnVsbCx0YWdMaXN0XzpudWxsLHRpdGxlXzpudWxsLF92ZG9tOntjbjpbe2NsczpbXCJiYW5uZXJcIl0sY246W3tjbHM6W1wiY29udGFpbmVyXCJdLGNuOlt7dGFnOlwiaDFcIixmbGFnOlwidGl0bGVcIn0se2NsczpbXCJhcnRpY2xlLW1ldGFcIl0sY246W3t0YWc6XCJhXCIsZmxhZzpcInVzZXJpbWFnZVwiLGNuOlt7dGFnOlwiaW1nXCJ9XX0se2NsczpbXCJpbmZvXCJdLGNuOlt7dGFnOlwiYVwiLGNsczpbXCJhdXRob3JcIl0sZmxhZzpcInVzZXJuYW1lXCJ9LHt0YWc6XCJzcGFuXCIsY2xzOltcImRhdGVcIl0sZmxhZzpcImNyZWF0ZWRBdFwifV19LHt0YWc6XCJidXR0b25cIixjbHM6W1wiYnRuXCIsXCJidG4tc21cIixcImJ0bi1vdXRsaW5lLXNlY29uZGFyeVwiLFwiZm9sbG93LWJ1dHRvblwiXSxjbjpbe3RhZzpcImlcIixmbGFnOlwiZm9sbG93SWNvblwifSx7dnR5cGU6XCJ0ZXh0XCIsZmxhZzpcImZvbGxvd0F1dGhvclwifSx7dnR5cGU6XCJ0ZXh0XCIsZmxhZzpcInVzZXJuYW1lXCJ9XX0se3RhZzpcImJ1dHRvblwiLGNsczpbXCJidG5cIixcImJ0bi1zbVwiLFwiYnRuLW91dGxpbmUtc2Vjb25kYXJ5XCIsXCJlZGl0LWJ1dHRvblwiXSxmbGFnOlwiZWRpdC1idXR0b25cIixyZW1vdmVEb206ITAsY246W3t0YWc6XCJpXCIsY2xzOltcImlvbi1lZGl0XCJdfSx7dnR5cGU6XCJ0ZXh0XCIsaHRtbDpcIiBFZGl0IEFydGljbGVcIn1dfSx7dnR5cGU6XCJ0ZXh0XCIsaHRtbDpcIiZuYnNwOyZuYnNwO1wifSx7dGFnOlwiYnV0dG9uXCIsY2xzOltcImJ0blwiLFwiYnRuLXNtXCIsXCJidG4tb3V0bGluZS1wcmltYXJ5XCIsXCJmYXZvcml0ZS1idXR0b25cIl0sZmxhZzpcImZhdm9yaXRlZFwiLGNuOlt7dGFnOlwiaVwiLGNsczpbXCJpb24taGVhcnRcIl19LHt2dHlwZTpcInRleHRcIixodG1sOlwiJm5ic3A7XCJ9LHt2dHlwZTpcInRleHRcIn0se3Z0eXBlOlwidGV4dFwiLGh0bWw6XCIgUG9zdCBcIn0se3RhZzpcInNwYW5cIixjbHM6W1wiY291bnRlclwiXSxmbGFnOlwiZmF2b3JpdGVzQ291bnRcIn1dfSx7dGFnOlwiYnV0dG9uXCIsY2xzOltcImJ0blwiLFwiYnRuLXNtXCIsXCJidG4tb3V0bGluZS1kYW5nZXJcIixcImRlbGV0ZS1idXR0b25cIl0sZmxhZzpcImRlbGV0ZS1idXR0b25cIixyZW1vdmVEb206ITAsY246W3t0YWc6XCJpXCIsY2xzOltcImlvbi10cmFzaC1hXCJdfSx7dnR5cGU6XCJ0ZXh0XCIsaHRtbDpcIiBEZWxldGUgQXJ0aWNsZVwifV19XX1dfV19LHtjbHM6W1wiY29udGFpbmVyXCIsXCJwYWdlXCJdLGNuOlt7Y2xzOltcInJvd1wiLFwiYXJ0aWNsZS1jb250ZW50XCJdLGNuOlt7Y2xzOltcImNvbC1tZC0xMlwiXSxmbGFnOlwiYm9keVwiLGNuOltdfV19LHt0YWc6XCJoclwifSx7Y2xzOltcImFydGljbGUtYWN0aW9uc1wiXSxmbGFnOlwiYXJ0aWNsZS1hY3Rpb25zXCIsY246W3tjbHM6W1wiYXJ0aWNsZS1tZXRhXCJdLGNuOlt7dGFnOlwiYVwiLGZsYWc6XCJ1c2VyaW1hZ2VcIixjbjpbe3RhZzpcImltZ1wifV19LHtjbHM6W1wiaW5mb1wiXSxjbjpbe3RhZzpcImFcIixjbHM6W1wiYXV0aG9yXCJdLGZsYWc6XCJ1c2VybmFtZVwifSx7dGFnOlwic3BhblwiLGNsczpbXCJkYXRlXCJdLGh0bWw6XCJKYW51YXJ5IDIwdGhcIn1dfSx7dGFnOlwiYnV0dG9uXCIsY2xzOltcImJ0blwiLFwiYnRuLXNtXCIsXCJidG4tb3V0bGluZS1zZWNvbmRhcnlcIixcImZvbGxvdy1idXR0b25cIl0sY246W3t0YWc6XCJpXCIsZmxhZzpcImZvbGxvd0ljb25cIn0se3Z0eXBlOlwidGV4dFwiLGZsYWc6XCJmb2xsb3dBdXRob3JcIn0se3Z0eXBlOlwidGV4dFwiLGZsYWc6XCJ1c2VybmFtZVwifV19LHt2dHlwZTpcInRleHRcIixodG1sOlwiJm5ic3A7Jm5ic3A7XCJ9LHt0YWc6XCJidXR0b25cIixjbHM6W1wiYnRuXCIsXCJidG4tc21cIixcImJ0bi1vdXRsaW5lLXByaW1hcnlcIixcImZhdm9yaXRlLWJ1dHRvblwiXSxmbGFnOlwiZmF2b3JpdGVkXCIsY246W3t0YWc6XCJpXCIsY2xzOltcImlvbi1oZWFydFwiXX0se3Z0eXBlOlwidGV4dFwiLGh0bWw6XCImbmJzcDtcIn0se3Z0eXBlOlwidGV4dFwifSx7dnR5cGU6XCJ0ZXh0XCIsaHRtbDpcIiBQb3N0IFwifSx7dGFnOlwic3BhblwiLGNsczpbXCJjb3VudGVyXCJdLGZsYWc6XCJmYXZvcml0ZXNDb3VudFwifV19XX1dfSx7Y2xzOlwicm93XCIsY246W3tjbHM6W1wiY29sLXhzLTEyXCIsXCJjb2wtbWQtOFwiLFwib2Zmc2V0LW1kLTJcIl0sZmxhZzpcImNvbW1lbnRzLXNlY3Rpb25cIixjbjpbXX1dfV19XX19O2NvbnN0cnVjdCh0KXtzdXBlci5jb25zdHJ1Y3QodCk7bGV0IGU9dGhpcztlLmFkZERvbUxpc3RlbmVycyhbe2NsaWNrOntmbjplLm9uRGVsZXRlQnV0dG9uQ2xpY2ssZGVsZWdhdGU6XCIuZGVsZXRlLWJ1dHRvblwiLHNjb3BlOmV9fSx7Y2xpY2s6e2ZuOmUub25FZGl0QnV0dG9uQ2xpY2ssZGVsZWdhdGU6XCIuZWRpdC1idXR0b25cIixzY29wZTplfX0se2NsaWNrOntmbjplLm9uRmF2b3JpdGVCdXR0b25DbGljayxkZWxlZ2F0ZTpcIi5mYXZvcml0ZS1idXR0b25cIixzY29wZTplfX0se2NsaWNrOntmbjplLm9uRm9sbG93QnV0dG9uQ2xpY2ssZGVsZWdhdGU6XCIuZm9sbG93LWJ1dHRvblwiLHNjb3BlOmV9fV0pLGUuZ2V0Q29udHJvbGxlcigpLm9uKHthZnRlclNldEN1cnJlbnRVc2VyOmUub25DdXJyZW50VXNlckNoYW5nZSxzY29wZTplfSl9b25Db25zdHJ1Y3RlZCgpe2xldCB0PXRoaXMsbz10LmdldENvbnRyb2xsZXIoKS5jdXJyZW50VXNlcjt0LmNyZWF0ZUNvbW1lbnRDb21wb25lbnQ9TmVvLmNyZWF0ZSh7bW9kdWxlOmUscGFyZW50SWQ6dC5pZCx1c2VySW1hZ2U6bz8uaW1hZ2V8fG51bGx9KSxuLmdldEJ5RmxhZyh0LnZkb20sXCJjb21tZW50cy1zZWN0aW9uXCIpLmNuLnVuc2hpZnQodC5jcmVhdGVDb21tZW50Q29tcG9uZW50LnZkb20pLHQudXBkYXRlKCksc3VwZXIub25Db25zdHJ1Y3RlZCgpfWFmdGVyU2V0QXV0aG9yKHQsZSl7aWYodCl7bGV0IGU9dGhpcyxvPWUudmRvbTtuLmdldEZsYWdzKG8sXCJmb2xsb3dBdXRob3JcIikuZm9yRWFjaChlPT57ZS5odG1sPXQuZm9sbG93aW5nP1wiIFVuZm9sbG93IFwiOlwiIEZvbGxvdyBcIn0pLG4uZ2V0RmxhZ3MobyxcImZvbGxvd0ljb25cIikuZm9yRWFjaChlPT57ZS5jbHM9dC5mb2xsb3dpbmc/W1wiaW9uLW1pbnVzLXJvdW5kXCJdOltcImlvbi1wbHVzLXJvdW5kXCJdfSksbi5nZXRGbGFncyhvLFwidXNlcmltYWdlXCIpLmZvckVhY2goZT0+e2UuaHJlZj1cIiMvcHJvZmlsZS9cIit0LnVzZXJuYW1lLGUuY25bMF0uc3JjPXQuaW1hZ2V9KSxuLmdldEZsYWdzKG8sXCJ1c2VybmFtZVwiKS5mb3JFYWNoKGU9PntlLmhyZWY9XCIjL3Byb2ZpbGUvXCIrdC51c2VybmFtZSxlLmh0bWw9dC51c2VybmFtZX0pLGUudXBkYXRlKCksZS5vbkN1cnJlbnRVc2VyQ2hhbmdlKCl9fWFmdGVyU2V0Qm9keSh0LGUpe3QmJk5lby5tYWluLmFkZG9uLk1hcmtkb3duLm1hcmtkb3duVG9IdG1sKHQpLnRoZW4odD0+e24uZ2V0QnlGbGFnKHRoaXMudmRvbSxcImJvZHlcIikuY25bMF09e2NuOlt7dGFnOlwicFwiLGh0bWw6dH1dfSx0aGlzLnVwZGF0ZSgpfSl9YXN5bmMgYWZ0ZXJTZXRDb21tZW50cyh0LGUpe2lmKEFycmF5LmlzQXJyYXkodCkpe2xldCBlLG8sYT10aGlzLGw9bi5nZXRCeUZsYWcoYS52ZG9tLFwiY29tbWVudHMtc2VjdGlvblwiKTthLmNvbW1lbnRDb21wb25lbnR8fChvPWF3YWl0IGltcG9ydChcIi4vQ29tbWVudENvbXBvbmVudC5tanNcIiksYS5jb21tZW50Q29tcG9uZW50PW8uZGVmYXVsdCksbC5jbj1bbC5jbi5zaGlmdCgpXSx0LmZvckVhY2goKHQsbyk9PntlPXthdXRob3I6dC5hdXRob3IsYm9keTp0LmJvZHksY29tbWVudElkOnQuaWQsY3JlYXRlZEF0OnQuY3JlYXRlZEF0LHVwZGF0ZWRBdDp0LnVwZGF0ZWRBdH0sYS5jb21tZW50Q29tcG9uZW50c1tvXT9hLmNvbW1lbnRDb21wb25lbnRzW29dLnNldChlLCEwKTphLmNvbW1lbnRDb21wb25lbnRzW29dPU5lby5jcmVhdGUoe21vZHVsZTphLmNvbW1lbnRDb21wb25lbnQscGFyZW50SWQ6YS5pZCwuLi5lfSksbC5jbi5wdXNoKGEuY29tbWVudENvbXBvbmVudHNbb10udmRvbSl9KSxhLnVwZGF0ZSgpfX1hZnRlclNldENyZWF0ZWRBdCh0LGUpe3QmJihuLmdldEJ5RmxhZyh0aGlzLnZkb20sXCJjcmVhdGVkQXRcIikuaHRtbD1uZXcgSW50bC5EYXRlVGltZUZvcm1hdChcImVuLVVTXCIse2RheTpcIm51bWVyaWNcIixtb250aDpcImxvbmdcIix5ZWFyOlwibnVtZXJpY1wifSkuZm9ybWF0KG5ldyBEYXRlKHQpKSx0aGlzLnVwZGF0ZSgpKX1hZnRlclNldEZhdm9yaXRlZCh0LGUpe2xldCBhPXRoaXM7bi5nZXRGbGFncyhhLnZkb20sXCJmYXZvcml0ZWRcIikuZm9yRWFjaChlPT57ZS5jblsyXS5odG1sPXQ/XCJVbmZhdm9yaXRlXCI6XCJGYXZvcml0ZVwiLG8uYWRkKGUuY2xzLHQ/XCJidG4tcHJpbWFyeVwiOlwiYnRuLW91dGxpbmUtcHJpbWFyeVwiKSxvLnJlbW92ZShlLmNscyx0P1wiYnRuLW91dGxpbmUtcHJpbWFyeVwiOlwiYnRuLXByaW1hcnlcIil9KSxhLnVwZGF0ZSgpLE5lby5pc0Jvb2xlYW4oZSkmJmEuZ2V0Q29udHJvbGxlcigpLmZhdm9yaXRlQXJ0aWNsZShhLnNsdWcsdCkudGhlbih0PT57YS5mYXZvcml0ZXNDb3VudD10Lmpzb24uYXJ0aWNsZS5mYXZvcml0ZXNDb3VudH0pfWFmdGVyU2V0RmF2b3JpdGVzQ291bnQodCxlKXtOZW8uaXNOdW1iZXIodCkmJihuLmdldEZsYWdzKHRoaXMudmRvbSxcImZhdm9yaXRlc0NvdW50XCIpLmZvckVhY2goZT0+e2UuaHRtbD1gKCR7dH0pYH0pLHRoaXMudXBkYXRlKCkpfWFmdGVyU2V0VGFnTGlzdCh0LGUpe2xldCBvLGE9bi5nZXRCeUZsYWcodGhpcy52ZG9tLFwiYm9keVwiKTtBcnJheS5pc0FycmF5KHQpJiZ0Lmxlbmd0aD4wPyhvPXt0YWc6XCJ1bFwiLGNsczpbXCJ0YWctbGlzdFwiXSxjbjpbXX0sdC5mb3JFYWNoKHQ9PntvLmNuLnB1c2goe3RhZzpcImxpXCIsY2xzOltcInRhZy1kZWZhdWx0XCIsXCJ0YWctcGlsbFwiLFwidGFnLW91dGxpbmVcIl0saHRtbDp0fSl9KSxhLmNuWzFdPW8pOmEuY25bMV0mJihhLmNuWzFdLnJlbW92ZURvbT0hMCksdGhpcy51cGRhdGUoKX1hZnRlclNldFRpdGxlKHQsZSl7bi5nZXRCeUZsYWcodGhpcy52ZG9tLFwidGl0bGVcIikuaHRtbD10LHRoaXMudXBkYXRlKCl9b25DdXJyZW50VXNlckNoYW5nZSgpe2NvbnNvbGUubG9nKFwiIyMjIG9uQ3VycmVudFVzZXJDaGFuZ2VcIik7bGV0IHQsZT10aGlzLG89ZS5nZXRDb250cm9sbGVyKCkuY3VycmVudFVzZXIsYT1lLnZkb207ZS5hdXRob3ImJm8mJih0PWUuYXV0aG9yLnVzZXJuYW1lPT09by51c2VybmFtZSxhLmNuWzBdLmNuWzBdLmNuWzFdLmNuWzJdLnJlbW92ZURvbT10LGEuY25bMF0uY25bMF0uY25bMV0uY25bNV0ucmVtb3ZlRG9tPXQsbi5nZXRCeUZsYWcoYSxcImFydGljbGUtYWN0aW9uc1wiKS5yZW1vdmVEb209dCxuLmdldEJ5RmxhZyhhLFwiZGVsZXRlLWJ1dHRvblwiKS5yZW1vdmVEb209IXQsbi5nZXRCeUZsYWcoYSxcImVkaXQtYnV0dG9uXCIpLnJlbW92ZURvbT0hdCxlLnVwZGF0ZSgpKX1vbkRlbGV0ZUJ1dHRvbkNsaWNrKHQpe3RoaXMuZ2V0Q29udHJvbGxlcigpLmRlbGV0ZUFydGljbGUodGhpcy5zbHVnKX1vbkVkaXRCdXR0b25DbGljayh0KXtOZW8uTWFpbi5zZXRSb3V0ZSh7dmFsdWU6XCIvZWRpdG9yL1wiK3RoaXMuc2x1Z30pfW9uRmF2b3JpdGVCdXR0b25DbGljayh0KXt0aGlzLmZhdm9yaXRlZD0hdGhpcy5mYXZvcml0ZWR9b25Gb2xsb3dCdXR0b25DbGljayh0KXtsZXQgZT10aGlzO2UuZ2V0Q29udHJvbGxlcigpLmZvbGxvd1VzZXIoZS5hdXRob3IudXNlcm5hbWUsIWUuYXV0aG9yLmZvbGxvd2luZykudGhlbih0PT57ZS5hdXRob3I9dC5qc29uLnByb2ZpbGV9KX19KTsiLCJpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50L0Jhc2UubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyB0e3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIlJlYWxXb3JsZC52aWV3LmFydGljbGUuQ3JlYXRlQ29tbWVudENvbXBvbmVudFwiLGJhc2VDbHM6W1wiY2FyZFwiLFwiY29tbWVudC1mb3JtXCJdLHVzZXJJbWFnZV86bnVsbCx1c2VyTmFtZV86bnVsbCxfdmRvbTp7dGFnOlwiZm9ybVwiLGNuOlt7Y2xzOltcImNhcmQtYmxvY2tcIl0sY246W3t0YWc6XCJ0ZXh0YXJlYVwiLGNsczpbXCJmb3JtLWNvbnRyb2xcIl0scGxhY2Vob2xkZXI6XCJXcml0ZSBhIGNvbW1lbnQuLi5cIixyb3dzOjN9XX0se2NsczpbXCJjYXJkLWZvb3RlclwiXSxjbjpbe3RhZzpcImltZ1wiLGNsczpbXCJjb21tZW50LWF1dGhvci1pbWdcIl0sc3JjOlwiaHR0cHM6Ly9zdGF0aWMucHJvZHVjdGlvbnJlYWR5LmlvL2ltYWdlcy9zbWlsZXktY3lydXMuanBnXCJ9LHt2dHlwZTpcInRleHRcIixodG1sOlwiJm5ic3A7XCJ9LHt0YWc6XCJzcGFuXCIsY2xzOltcImNvbW1lbnQtYXV0aG9yXCJdfSx7dGFnOlwiYnV0dG9uXCIsY2xzOltcImJ0blwiLFwiYnRuLXNtXCIsXCJidG4tcHJpbWFyeVwiXSxodG1sOlwiUG9zdCBDb21tZW50XCIsdHlwZTpcImJ1dHRvblwifV19XX19O2NvbnN0cnVjdCh0KXtzdXBlci5jb25zdHJ1Y3QodCk7bGV0IGU9dGhpcztlLmFkZERvbUxpc3RlbmVycyh7Y2xpY2s6e2ZuOmUub25TdWJtaXRCdXR0b25DbGljayxkZWxlZ2F0ZTpcIi5idG4tcHJpbWFyeVwiLHNjb3BlOmV9fSksZS52ZG9tLmNuWzBdLmNuWzBdLmlkPWUuZ2V0SW5wdXRFbElkKCksZS51cGRhdGUoKSxlLmdldENvbnRyb2xsZXIoKS5vbih7YWZ0ZXJTZXRDdXJyZW50VXNlcjplLm9uQ3VycmVudFVzZXJDaGFuZ2Usc2NvcGU6ZX0pfWFmdGVyU2V0VXNlckltYWdlKHQsZSl7dCYmKHRoaXMudmRvbS5jblsxXS5jblswXS5zcmM9dCx0aGlzLnVwZGF0ZSgpKX1hZnRlclNldFVzZXJOYW1lKHQsZSl7dCYmKHRoaXMudmRvbS5jblsxXS5jblsyXS5odG1sPXQsdGhpcy51cGRhdGUoKSl9Z2V0SW5wdXRFbElkKCl7cmV0dXJuIHRoaXMuaWQrXCJfX2lucHV0XCJ9b25DdXJyZW50VXNlckNoYW5nZSh0KXt0aGlzLnNldCh7dXNlckltYWdlOnQuaW1hZ2UsdXNlck5hbWU6dC51c2VybmFtZX0pfW9uU3VibWl0QnV0dG9uQ2xpY2sodCl7bGV0IGU9dGhpcztOZW8ubWFpbi5Eb21BY2Nlc3MuZ2V0QXR0cmlidXRlcyh7aWQ6ZS5nZXRJbnB1dEVsSWQoKSxhdHRyaWJ1dGVzOlwidmFsdWVcIn0pLnRoZW4odD0+e2UuZ2V0Q29udHJvbGxlcigpLnBvc3RDb21tZW50KHtkYXRhOkpTT04uc3RyaW5naWZ5KHtjb21tZW50Ontib2R5OnQudmFsdWV9fSl9KS50aGVuKHQ9PntlLnZkb20uY25bMF0uY25bMF0udmFsdWU9XCJcIixlLnVwZGF0ZSgpfSl9KX19KTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=