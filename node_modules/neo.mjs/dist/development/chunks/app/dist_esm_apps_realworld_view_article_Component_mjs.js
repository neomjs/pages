"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["dist_esm_apps_realworld_view_article_Component_mjs"],{

/***/ "./dist/esm/apps/realworld/view/article/Component.mjs"
/*!************************************************************!*\
  !*** ./dist/esm/apps/realworld/view/article/Component.mjs ***!
  \************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../src/component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony import */ var _CreateCommentComponent_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CreateCommentComponent.mjs */ "./dist/esm/apps/realworld/view/article/CreateCommentComponent.mjs");
/* harmony import */ var _src_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../src/util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../src/util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"RealWorld.view.article.Component",author_:null,baseCls:["article-page"],body_:null,commentComponent:null,commentComponents:[],comments_:null,createCommentComponent:null,createdAt_:null,favorited_:!1,favoritesCount_:null,tagList_:null,title_:null,_vdom:{cn:[{cls:["banner"],cn:[{cls:["container"],cn:[{tag:"h1",flag:"title"},{cls:["article-meta"],cn:[{tag:"a",flag:"userimage",cn:[{tag:"img"}]},{cls:["info"],cn:[{tag:"a",cls:["author"],flag:"username"},{tag:"span",cls:["date"],flag:"createdAt"}]},{tag:"button",cls:["btn","btn-sm","btn-outline-secondary","follow-button"],flag:"follow-button",cn:[{tag:"i",flag:"followIcon"},{vtype:"text",flag:"followAuthor"},{vtype:"text",flag:"username"}]},{tag:"button",cls:["btn","btn-sm","btn-outline-secondary","edit-button"],flag:"edit-button",removeDom:!0,cn:[{tag:"i",cls:["ion-edit"]},{vtype:"text",text:" Edit Article"}]},{vtype:"text",html:"&nbsp;&nbsp;"},{tag:"button",cls:["btn","btn-sm","btn-outline-primary","favorite-button"],flag:"favorited",cn:[{tag:"i",cls:["ion-heart"]},{vtype:"text",html:"&nbsp;"},{vtype:"text",flag:"favorite-text"},{vtype:"text",text:" Post "},{tag:"span",cls:["counter"],flag:"favoritesCount"}]},{tag:"button",cls:["btn","btn-sm","btn-outline-danger","delete-button"],flag:"delete-button",removeDom:!0,cn:[{tag:"i",cls:["ion-trash-a"]},{vtype:"text",text:" Delete Article"}]}]}]}]},{cls:["container","page"],cn:[{cls:["row","article-content"],cn:[{cls:["col-md-12"],flag:"body",cn:[]}]},{tag:"hr"},{cls:["article-actions"],flag:"article-actions",cn:[{cls:["article-meta"],cn:[{tag:"a",flag:"userimage",cn:[{tag:"img"}]},{cls:["info"],cn:[{tag:"a",cls:["author"],flag:"username"},{tag:"span",cls:["date"],text:"January 20th"}]},{tag:"button",cls:["btn","btn-sm","btn-outline-secondary","follow-button"],flag:"follow-button",cn:[{tag:"i",flag:"followIcon"},{vtype:"text",flag:"followAuthor"},{vtype:"text",flag:"username"}]},{vtype:"text",html:"&nbsp;&nbsp;"},{tag:"button",cls:["btn","btn-sm","btn-outline-primary","favorite-button"],flag:"favorited",cn:[{tag:"i",cls:["ion-heart"]},{vtype:"text",html:"&nbsp;"},{vtype:"text",flag:"favorite-text"},{vtype:"text",text:" Post "},{tag:"span",cls:["counter"],flag:"favoritesCount"}]}]}]},{cls:"row",cn:[{cls:["col-xs-12","col-md-8","offset-md-2"],flag:"comments-section",cn:[]}]}]}]}};construct(t){super.construct(t);let e=this;e.addDomListeners([{click:{fn:e.onDeleteButtonClick,delegate:".delete-button",scope:e}},{click:{fn:e.onEditButtonClick,delegate:".edit-button",scope:e}},{click:{fn:e.onFavoriteButtonClick,delegate:".favorite-button",scope:e}},{click:{fn:e.onFollowButtonClick,delegate:".follow-button",scope:e}}]),e.getController().on({afterSetCurrentUser:e.onCurrentUserChange,scope:e})}onConstructed(){let t=this,o=t.getController().currentUser;t.createCommentComponent=Neo.create({module:_CreateCommentComponent_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],parentId:t.id,userImage:o?.image||null}),_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getByFlag(t.vdom,"comments-section").cn.unshift(t.createCommentComponent.vdom),t.update(),super.onConstructed()}afterSetAuthor(t,e){if(t){let e=this,o=e.vdom;_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getFlags(o,"followAuthor").forEach(e=>{e.text=t.following?" Unfollow ":" Follow "}),_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getFlags(o,"followIcon").forEach(e=>{e.cls=t.following?["ion-minus-round"]:["ion-plus-round"]}),_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getFlags(o,"userimage").forEach(e=>{e.href="#/profile/"+t.username,e.cn[0].src=t.image}),_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getFlags(o,"username").forEach(e=>{e.href="#/profile/"+t.username,e.text=t.username}),e.update(),e.onCurrentUserChange()}}afterSetBody(t,e){if(t){let e=this;Neo.main.addon.Markdown.markdownToHtml({markdown:t,windowId:e.windowId}).then(t=>{_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getByFlag(e.vdom,"body").cn[0]={cn:[{tag:"p",html:t}]},e.update()})}}async afterSetComments(t,e){if(Array.isArray(t)){let e,o,a=this,l=_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getByFlag(a.vdom,"comments-section");a.commentComponent||(o=await __webpack_require__.e(/*! import() */ "dist_esm_apps_realworld_view_article_CommentComponent_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ./CommentComponent.mjs */ "./dist/esm/apps/realworld/view/article/CommentComponent.mjs")),a.commentComponent=o.default),l.cn=[l.cn.shift()],t.forEach((t,o)=>{e={author:t.author,body:t.body,commentId:t.id,createdAt:t.createdAt,updatedAt:t.updatedAt},a.commentComponents[o]?a.commentComponents[o].set(e,!0):a.commentComponents[o]=Neo.create({module:a.commentComponent,parentId:a.id,...e}),l.cn.push(a.commentComponents[o].vdom)}),a.update()}}afterSetCreatedAt(t,e){t&&(_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getByFlag(this.vdom,"createdAt").text=new Intl.DateTimeFormat("en-US",{day:"numeric",month:"long",year:"numeric"}).format(new Date(t)),this.update())}afterSetFavorited(t,e){let a=this;_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getFlags(a.vdom,"favorited").forEach(e=>{_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getByFlag(e,"favorite-text").text=t?"Unfavorite":"Favorite",_src_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].add(e.cls,t?"btn-primary":"btn-outline-primary"),_src_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].remove(e.cls,t?"btn-outline-primary":"btn-primary")}),a.update(),Neo.isBoolean(e)&&a.getController().favoriteArticle(a.slug,t).then(t=>{a.favoritesCount=t.json.article.favoritesCount})}afterSetFavoritesCount(t,e){Neo.isNumber(t)&&(_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getFlags(this.vdom,"favoritesCount").forEach(e=>{e.text=`(${t})`}),this.update())}afterSetTagList(t,e){let o,a=_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getByFlag(this.vdom,"body");Array.isArray(t)&&t.length>0?(o={tag:"ul",cls:["tag-list"],cn:[]},t.forEach(t=>{o.cn.push({tag:"li",cls:["tag-default","tag-pill","tag-outline"],text:t})}),a.cn[1]=o):a.cn[1]&&(a.cn[1].removeDom=!0),this.update()}afterSetTitle(t,e){_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getByFlag(this.vdom,"title").text=t,this.update()}onCurrentUserChange(){let t,e=this,o=e.getController().currentUser,a=e.vdom;e.author&&o&&(t=e.author.username===o.username,_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getFlags(a,"follow-button").forEach(e=>e.removeDom=t),_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getFlags(a,"favorited").forEach(e=>e.removeDom=t),_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getByFlag(a,"article-actions").removeDom=t,_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getByFlag(a,"delete-button").removeDom=!t,_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].getByFlag(a,"edit-button").removeDom=!t,e.update())}onDeleteButtonClick(t){this.getController().deleteArticle(this.slug)}onEditButtonClick(t){Neo.Main.setRoute({value:"/editor/"+this.slug})}onFavoriteButtonClick(t){this.favorited=!this.favorited}onFollowButtonClick(t){let e=this;e.getController().followUser(e.author.username,!e.author.following).then(t=>{e.author=t.json.profile})}}));

/***/ },

/***/ "./dist/esm/apps/realworld/view/article/CreateCommentComponent.mjs"
/*!*************************************************************************!*\
  !*** ./dist/esm/apps/realworld/view/article/CreateCommentComponent.mjs ***!
  \*************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../src/component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"RealWorld.view.article.CreateCommentComponent",baseCls:["card","comment-form"],userImage_:null,userName_:null,_vdom:{tag:"form",cn:[{cls:["card-block"],cn:[{tag:"textarea",cls:["form-control"],placeholder:"Write a comment...",rows:3}]},{cls:["card-footer"],cn:[{tag:"img",cls:["comment-author-img"],src:"https://static.productionready.io/images/smiley-cyrus.jpg"},{vtype:"text",html:"&nbsp;"},{tag:"span",cls:["comment-author"]},{tag:"button",cls:["btn","btn-sm","btn-primary"],text:"Post Comment",type:"button"}]}]}};construct(t){super.construct(t);let e=this;e.addDomListeners({click:{fn:e.onSubmitButtonClick,delegate:".btn-primary",scope:e}}),e.vdom.cn[0].cn[0].id=e.getInputElId(),e.update(),e.getController().on({afterSetCurrentUser:e.onCurrentUserChange,scope:e})}afterSetUserImage(t,e){t&&(this.vdom.cn[1].cn[0].src=t,this.update())}afterSetUserName(t,e){t&&(this.vdom.cn[1].cn[2].text=t,this.update())}getInputElId(){return this.id+"__input"}onCurrentUserChange(t){this.set({userImage:t.image,userName:t.username})}onSubmitButtonClick(t){let e=this;Neo.main.DomAccess.getAttributes({id:e.getInputElId(),attributes:"value",windowId:e.windowId}).then(t=>{e.getController().postComment({data:JSON.stringify({comment:{body:t.value}})}).then(t=>{e.vdom.cn[0].cn[0].value="",e.update()})})}}));

/***/ }

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC9kaXN0X2VzbV9hcHBzX3JlYWx3b3JsZF92aWV3X2FydGljbGVfQ29tcG9uZW50X21qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUF5TCxpRUFBZSw2QkFBNkIsK0RBQUMsQ0FBQyxlQUFlLHdRQUF3USxLQUFLLG9CQUFvQix1QkFBdUIsc0JBQXNCLEVBQUUsMEJBQTBCLDhCQUE4QixVQUFVLEVBQUUsRUFBRSxrQkFBa0IsdUNBQXVDLEVBQUUseUNBQXlDLEVBQUUsRUFBRSxvR0FBb0csMEJBQTBCLEVBQUUsaUNBQWlDLEVBQUUsNkJBQTZCLEVBQUUsRUFBRSw2R0FBNkcseUJBQXlCLEVBQUUsa0NBQWtDLEVBQUUsRUFBRSx5QkFBeUIsTUFBTSxFQUFFLEVBQUUsZ0dBQWdHLDBCQUEwQixFQUFFLHlCQUF5QixFQUFFLEVBQUUsa0NBQWtDLEVBQUUsMkJBQTJCLEVBQUUsaURBQWlELEVBQUUsRUFBRSw4R0FBOEcsNEJBQTRCLEVBQUUsb0NBQW9DLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSw4QkFBOEIsbUNBQW1DLG9DQUFvQyxFQUFFLEVBQUUsU0FBUyxFQUFFLG9EQUFvRCwwQkFBMEIsOEJBQThCLFVBQVUsRUFBRSxFQUFFLGtCQUFrQix1Q0FBdUMsRUFBRSw0Q0FBNEMsRUFBRSxFQUFFLG9HQUFvRywwQkFBMEIsRUFBRSxpQ0FBaUMsRUFBRSw2QkFBNkIsRUFBRSxFQUFFLHlCQUF5QixNQUFNLEVBQUUsRUFBRSxnR0FBZ0csMEJBQTBCLEVBQUUseUJBQXlCLEVBQUUsRUFBRSxrQ0FBa0MsRUFBRSwyQkFBMkIsRUFBRSxpREFBaUQsRUFBRSxFQUFFLEVBQUUsRUFBRSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsSUFBSSxhQUFhLG1CQUFtQixXQUFXLG9CQUFvQixPQUFPLDREQUE0RCxFQUFFLE9BQU8sd0RBQXdELEVBQUUsT0FBTyxnRUFBZ0UsRUFBRSxPQUFPLDREQUE0RCx5QkFBeUIsa0RBQWtELEVBQUUsZ0JBQWdCLDJDQUEyQyxxQ0FBcUMsT0FBTyxtRUFBQyx3Q0FBd0MsRUFBRSwwREFBQyxpSEFBaUgsb0JBQW9CLE1BQU0sb0JBQW9CLDBEQUFDLHdDQUF3QywyQ0FBMkMsRUFBRSwwREFBQyxzQ0FBc0MseURBQXlELEVBQUUsMERBQUMscUNBQXFDLG1EQUFtRCxFQUFFLDBEQUFDLG9DQUFvQyxpREFBaUQsc0NBQXNDLGtCQUFrQixNQUFNLFdBQVcsd0NBQXdDLCtCQUErQixXQUFXLDBEQUFDLGlDQUFpQyxLQUFLLGVBQWUsRUFBRSxZQUFZLEdBQUcsNEJBQTRCLHFCQUFxQixpQkFBaUIsMERBQUMsc0NBQXNDLDZCQUE2QixtUEFBZ0MscUVBQXFFLEdBQUcsdUZBQXVGLDRGQUE0Riw2Q0FBNkMseUNBQXlDLGNBQWMsdUJBQXVCLElBQUksMERBQUMsd0VBQXdFLDBDQUEwQyxxQ0FBcUMsdUJBQXVCLFdBQVcsMERBQUMsMENBQTBDLDBEQUFDLDZEQUE2RCwyREFBQyxrREFBa0QsMkRBQUMscURBQXFELG9GQUFvRiwrQ0FBK0MsRUFBRSw0QkFBNEIsa0JBQWtCLDBEQUFDLGtEQUFrRCxXQUFXLEVBQUUsR0FBRyxpQkFBaUIscUJBQXFCLFFBQVEsMERBQUMsNkJBQTZCLGlDQUFpQyxnQ0FBZ0MsZUFBZSxXQUFXLDZEQUE2RCxFQUFFLDJEQUEyRCxtQkFBbUIsMERBQUMsbURBQW1ELHNCQUFzQixzREFBc0QsK0NBQStDLDBEQUFDLHVEQUF1RCwwREFBQyxtREFBbUQsMERBQUMsNENBQTRDLDBEQUFDLDJDQUEyQywwREFBQyxxREFBcUQsdUJBQXVCLDhDQUE4QyxxQkFBcUIsbUJBQW1CLDJCQUEyQixFQUFFLHlCQUF5QiwrQkFBK0IsdUJBQXVCLFdBQVcsNkVBQTZFLHdCQUF3QixHQUFHLENBQUMsRTs7Ozs7Ozs7Ozs7Ozs7O0FDQTM3TCxpRUFBZSw2QkFBNkIsK0RBQUMsQ0FBQyxlQUFlLGdJQUFnSSxnQkFBZ0Isd0JBQXdCLDRFQUE0RSxFQUFFLEVBQUUseUJBQXlCLHFHQUFxRyxFQUFFLHlCQUF5QixFQUFFLEVBQUUsa0NBQWtDLEVBQUUsa0ZBQWtGLEVBQUUsSUFBSSxhQUFhLG1CQUFtQixXQUFXLG1CQUFtQixPQUFPLDBEQUEwRCwwRUFBMEUsa0RBQWtELEVBQUUsdUJBQXVCLCtDQUErQyxzQkFBc0IsZ0RBQWdELGVBQWUseUJBQXlCLHVCQUF1QixVQUFVLHNDQUFzQyxFQUFFLHVCQUF1QixXQUFXLGtDQUFrQywyREFBMkQsV0FBVywrQkFBK0IscUJBQXFCLFNBQVMsY0FBYyxFQUFFLFdBQVcsdUNBQXVDLEVBQUUsR0FBRyxDQUFDLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vYXBwcy9yZWFsd29ybGQvdmlldy9hcnRpY2xlL0NvbXBvbmVudC5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL2FwcHMvcmVhbHdvcmxkL3ZpZXcvYXJ0aWNsZS9DcmVhdGVDb21tZW50Q29tcG9uZW50Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50L0Jhc2UubWpzXCI7aW1wb3J0IGUgZnJvbVwiLi9DcmVhdGVDb21tZW50Q29tcG9uZW50Lm1qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uLy4uL3NyYy91dGlsL0FycmF5Lm1qc1wiO2ltcG9ydCBuIGZyb21cIi4uLy4uLy4uLy4uL3NyYy91dGlsL1ZEb20ubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyB0e3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIlJlYWxXb3JsZC52aWV3LmFydGljbGUuQ29tcG9uZW50XCIsYXV0aG9yXzpudWxsLGJhc2VDbHM6W1wiYXJ0aWNsZS1wYWdlXCJdLGJvZHlfOm51bGwsY29tbWVudENvbXBvbmVudDpudWxsLGNvbW1lbnRDb21wb25lbnRzOltdLGNvbW1lbnRzXzpudWxsLGNyZWF0ZUNvbW1lbnRDb21wb25lbnQ6bnVsbCxjcmVhdGVkQXRfOm51bGwsZmF2b3JpdGVkXzohMSxmYXZvcml0ZXNDb3VudF86bnVsbCx0YWdMaXN0XzpudWxsLHRpdGxlXzpudWxsLF92ZG9tOntjbjpbe2NsczpbXCJiYW5uZXJcIl0sY246W3tjbHM6W1wiY29udGFpbmVyXCJdLGNuOlt7dGFnOlwiaDFcIixmbGFnOlwidGl0bGVcIn0se2NsczpbXCJhcnRpY2xlLW1ldGFcIl0sY246W3t0YWc6XCJhXCIsZmxhZzpcInVzZXJpbWFnZVwiLGNuOlt7dGFnOlwiaW1nXCJ9XX0se2NsczpbXCJpbmZvXCJdLGNuOlt7dGFnOlwiYVwiLGNsczpbXCJhdXRob3JcIl0sZmxhZzpcInVzZXJuYW1lXCJ9LHt0YWc6XCJzcGFuXCIsY2xzOltcImRhdGVcIl0sZmxhZzpcImNyZWF0ZWRBdFwifV19LHt0YWc6XCJidXR0b25cIixjbHM6W1wiYnRuXCIsXCJidG4tc21cIixcImJ0bi1vdXRsaW5lLXNlY29uZGFyeVwiLFwiZm9sbG93LWJ1dHRvblwiXSxmbGFnOlwiZm9sbG93LWJ1dHRvblwiLGNuOlt7dGFnOlwiaVwiLGZsYWc6XCJmb2xsb3dJY29uXCJ9LHt2dHlwZTpcInRleHRcIixmbGFnOlwiZm9sbG93QXV0aG9yXCJ9LHt2dHlwZTpcInRleHRcIixmbGFnOlwidXNlcm5hbWVcIn1dfSx7dGFnOlwiYnV0dG9uXCIsY2xzOltcImJ0blwiLFwiYnRuLXNtXCIsXCJidG4tb3V0bGluZS1zZWNvbmRhcnlcIixcImVkaXQtYnV0dG9uXCJdLGZsYWc6XCJlZGl0LWJ1dHRvblwiLHJlbW92ZURvbTohMCxjbjpbe3RhZzpcImlcIixjbHM6W1wiaW9uLWVkaXRcIl19LHt2dHlwZTpcInRleHRcIix0ZXh0OlwiIEVkaXQgQXJ0aWNsZVwifV19LHt2dHlwZTpcInRleHRcIixodG1sOlwiJm5ic3A7Jm5ic3A7XCJ9LHt0YWc6XCJidXR0b25cIixjbHM6W1wiYnRuXCIsXCJidG4tc21cIixcImJ0bi1vdXRsaW5lLXByaW1hcnlcIixcImZhdm9yaXRlLWJ1dHRvblwiXSxmbGFnOlwiZmF2b3JpdGVkXCIsY246W3t0YWc6XCJpXCIsY2xzOltcImlvbi1oZWFydFwiXX0se3Z0eXBlOlwidGV4dFwiLGh0bWw6XCImbmJzcDtcIn0se3Z0eXBlOlwidGV4dFwiLGZsYWc6XCJmYXZvcml0ZS10ZXh0XCJ9LHt2dHlwZTpcInRleHRcIix0ZXh0OlwiIFBvc3QgXCJ9LHt0YWc6XCJzcGFuXCIsY2xzOltcImNvdW50ZXJcIl0sZmxhZzpcImZhdm9yaXRlc0NvdW50XCJ9XX0se3RhZzpcImJ1dHRvblwiLGNsczpbXCJidG5cIixcImJ0bi1zbVwiLFwiYnRuLW91dGxpbmUtZGFuZ2VyXCIsXCJkZWxldGUtYnV0dG9uXCJdLGZsYWc6XCJkZWxldGUtYnV0dG9uXCIscmVtb3ZlRG9tOiEwLGNuOlt7dGFnOlwiaVwiLGNsczpbXCJpb24tdHJhc2gtYVwiXX0se3Z0eXBlOlwidGV4dFwiLHRleHQ6XCIgRGVsZXRlIEFydGljbGVcIn1dfV19XX1dfSx7Y2xzOltcImNvbnRhaW5lclwiLFwicGFnZVwiXSxjbjpbe2NsczpbXCJyb3dcIixcImFydGljbGUtY29udGVudFwiXSxjbjpbe2NsczpbXCJjb2wtbWQtMTJcIl0sZmxhZzpcImJvZHlcIixjbjpbXX1dfSx7dGFnOlwiaHJcIn0se2NsczpbXCJhcnRpY2xlLWFjdGlvbnNcIl0sZmxhZzpcImFydGljbGUtYWN0aW9uc1wiLGNuOlt7Y2xzOltcImFydGljbGUtbWV0YVwiXSxjbjpbe3RhZzpcImFcIixmbGFnOlwidXNlcmltYWdlXCIsY246W3t0YWc6XCJpbWdcIn1dfSx7Y2xzOltcImluZm9cIl0sY246W3t0YWc6XCJhXCIsY2xzOltcImF1dGhvclwiXSxmbGFnOlwidXNlcm5hbWVcIn0se3RhZzpcInNwYW5cIixjbHM6W1wiZGF0ZVwiXSx0ZXh0OlwiSmFudWFyeSAyMHRoXCJ9XX0se3RhZzpcImJ1dHRvblwiLGNsczpbXCJidG5cIixcImJ0bi1zbVwiLFwiYnRuLW91dGxpbmUtc2Vjb25kYXJ5XCIsXCJmb2xsb3ctYnV0dG9uXCJdLGZsYWc6XCJmb2xsb3ctYnV0dG9uXCIsY246W3t0YWc6XCJpXCIsZmxhZzpcImZvbGxvd0ljb25cIn0se3Z0eXBlOlwidGV4dFwiLGZsYWc6XCJmb2xsb3dBdXRob3JcIn0se3Z0eXBlOlwidGV4dFwiLGZsYWc6XCJ1c2VybmFtZVwifV19LHt2dHlwZTpcInRleHRcIixodG1sOlwiJm5ic3A7Jm5ic3A7XCJ9LHt0YWc6XCJidXR0b25cIixjbHM6W1wiYnRuXCIsXCJidG4tc21cIixcImJ0bi1vdXRsaW5lLXByaW1hcnlcIixcImZhdm9yaXRlLWJ1dHRvblwiXSxmbGFnOlwiZmF2b3JpdGVkXCIsY246W3t0YWc6XCJpXCIsY2xzOltcImlvbi1oZWFydFwiXX0se3Z0eXBlOlwidGV4dFwiLGh0bWw6XCImbmJzcDtcIn0se3Z0eXBlOlwidGV4dFwiLGZsYWc6XCJmYXZvcml0ZS10ZXh0XCJ9LHt2dHlwZTpcInRleHRcIix0ZXh0OlwiIFBvc3QgXCJ9LHt0YWc6XCJzcGFuXCIsY2xzOltcImNvdW50ZXJcIl0sZmxhZzpcImZhdm9yaXRlc0NvdW50XCJ9XX1dfV19LHtjbHM6XCJyb3dcIixjbjpbe2NsczpbXCJjb2wteHMtMTJcIixcImNvbC1tZC04XCIsXCJvZmZzZXQtbWQtMlwiXSxmbGFnOlwiY29tbWVudHMtc2VjdGlvblwiLGNuOltdfV19XX1dfX07Y29uc3RydWN0KHQpe3N1cGVyLmNvbnN0cnVjdCh0KTtsZXQgZT10aGlzO2UuYWRkRG9tTGlzdGVuZXJzKFt7Y2xpY2s6e2ZuOmUub25EZWxldGVCdXR0b25DbGljayxkZWxlZ2F0ZTpcIi5kZWxldGUtYnV0dG9uXCIsc2NvcGU6ZX19LHtjbGljazp7Zm46ZS5vbkVkaXRCdXR0b25DbGljayxkZWxlZ2F0ZTpcIi5lZGl0LWJ1dHRvblwiLHNjb3BlOmV9fSx7Y2xpY2s6e2ZuOmUub25GYXZvcml0ZUJ1dHRvbkNsaWNrLGRlbGVnYXRlOlwiLmZhdm9yaXRlLWJ1dHRvblwiLHNjb3BlOmV9fSx7Y2xpY2s6e2ZuOmUub25Gb2xsb3dCdXR0b25DbGljayxkZWxlZ2F0ZTpcIi5mb2xsb3ctYnV0dG9uXCIsc2NvcGU6ZX19XSksZS5nZXRDb250cm9sbGVyKCkub24oe2FmdGVyU2V0Q3VycmVudFVzZXI6ZS5vbkN1cnJlbnRVc2VyQ2hhbmdlLHNjb3BlOmV9KX1vbkNvbnN0cnVjdGVkKCl7bGV0IHQ9dGhpcyxvPXQuZ2V0Q29udHJvbGxlcigpLmN1cnJlbnRVc2VyO3QuY3JlYXRlQ29tbWVudENvbXBvbmVudD1OZW8uY3JlYXRlKHttb2R1bGU6ZSxwYXJlbnRJZDp0LmlkLHVzZXJJbWFnZTpvPy5pbWFnZXx8bnVsbH0pLG4uZ2V0QnlGbGFnKHQudmRvbSxcImNvbW1lbnRzLXNlY3Rpb25cIikuY24udW5zaGlmdCh0LmNyZWF0ZUNvbW1lbnRDb21wb25lbnQudmRvbSksdC51cGRhdGUoKSxzdXBlci5vbkNvbnN0cnVjdGVkKCl9YWZ0ZXJTZXRBdXRob3IodCxlKXtpZih0KXtsZXQgZT10aGlzLG89ZS52ZG9tO24uZ2V0RmxhZ3MobyxcImZvbGxvd0F1dGhvclwiKS5mb3JFYWNoKGU9PntlLnRleHQ9dC5mb2xsb3dpbmc/XCIgVW5mb2xsb3cgXCI6XCIgRm9sbG93IFwifSksbi5nZXRGbGFncyhvLFwiZm9sbG93SWNvblwiKS5mb3JFYWNoKGU9PntlLmNscz10LmZvbGxvd2luZz9bXCJpb24tbWludXMtcm91bmRcIl06W1wiaW9uLXBsdXMtcm91bmRcIl19KSxuLmdldEZsYWdzKG8sXCJ1c2VyaW1hZ2VcIikuZm9yRWFjaChlPT57ZS5ocmVmPVwiIy9wcm9maWxlL1wiK3QudXNlcm5hbWUsZS5jblswXS5zcmM9dC5pbWFnZX0pLG4uZ2V0RmxhZ3MobyxcInVzZXJuYW1lXCIpLmZvckVhY2goZT0+e2UuaHJlZj1cIiMvcHJvZmlsZS9cIit0LnVzZXJuYW1lLGUudGV4dD10LnVzZXJuYW1lfSksZS51cGRhdGUoKSxlLm9uQ3VycmVudFVzZXJDaGFuZ2UoKX19YWZ0ZXJTZXRCb2R5KHQsZSl7aWYodCl7bGV0IGU9dGhpcztOZW8ubWFpbi5hZGRvbi5NYXJrZG93bi5tYXJrZG93blRvSHRtbCh7bWFya2Rvd246dCx3aW5kb3dJZDplLndpbmRvd0lkfSkudGhlbih0PT57bi5nZXRCeUZsYWcoZS52ZG9tLFwiYm9keVwiKS5jblswXT17Y246W3t0YWc6XCJwXCIsaHRtbDp0fV19LGUudXBkYXRlKCl9KX19YXN5bmMgYWZ0ZXJTZXRDb21tZW50cyh0LGUpe2lmKEFycmF5LmlzQXJyYXkodCkpe2xldCBlLG8sYT10aGlzLGw9bi5nZXRCeUZsYWcoYS52ZG9tLFwiY29tbWVudHMtc2VjdGlvblwiKTthLmNvbW1lbnRDb21wb25lbnR8fChvPWF3YWl0IGltcG9ydChcIi4vQ29tbWVudENvbXBvbmVudC5tanNcIiksYS5jb21tZW50Q29tcG9uZW50PW8uZGVmYXVsdCksbC5jbj1bbC5jbi5zaGlmdCgpXSx0LmZvckVhY2goKHQsbyk9PntlPXthdXRob3I6dC5hdXRob3IsYm9keTp0LmJvZHksY29tbWVudElkOnQuaWQsY3JlYXRlZEF0OnQuY3JlYXRlZEF0LHVwZGF0ZWRBdDp0LnVwZGF0ZWRBdH0sYS5jb21tZW50Q29tcG9uZW50c1tvXT9hLmNvbW1lbnRDb21wb25lbnRzW29dLnNldChlLCEwKTphLmNvbW1lbnRDb21wb25lbnRzW29dPU5lby5jcmVhdGUoe21vZHVsZTphLmNvbW1lbnRDb21wb25lbnQscGFyZW50SWQ6YS5pZCwuLi5lfSksbC5jbi5wdXNoKGEuY29tbWVudENvbXBvbmVudHNbb10udmRvbSl9KSxhLnVwZGF0ZSgpfX1hZnRlclNldENyZWF0ZWRBdCh0LGUpe3QmJihuLmdldEJ5RmxhZyh0aGlzLnZkb20sXCJjcmVhdGVkQXRcIikudGV4dD1uZXcgSW50bC5EYXRlVGltZUZvcm1hdChcImVuLVVTXCIse2RheTpcIm51bWVyaWNcIixtb250aDpcImxvbmdcIix5ZWFyOlwibnVtZXJpY1wifSkuZm9ybWF0KG5ldyBEYXRlKHQpKSx0aGlzLnVwZGF0ZSgpKX1hZnRlclNldEZhdm9yaXRlZCh0LGUpe2xldCBhPXRoaXM7bi5nZXRGbGFncyhhLnZkb20sXCJmYXZvcml0ZWRcIikuZm9yRWFjaChlPT57bi5nZXRCeUZsYWcoZSxcImZhdm9yaXRlLXRleHRcIikudGV4dD10P1wiVW5mYXZvcml0ZVwiOlwiRmF2b3JpdGVcIixvLmFkZChlLmNscyx0P1wiYnRuLXByaW1hcnlcIjpcImJ0bi1vdXRsaW5lLXByaW1hcnlcIiksby5yZW1vdmUoZS5jbHMsdD9cImJ0bi1vdXRsaW5lLXByaW1hcnlcIjpcImJ0bi1wcmltYXJ5XCIpfSksYS51cGRhdGUoKSxOZW8uaXNCb29sZWFuKGUpJiZhLmdldENvbnRyb2xsZXIoKS5mYXZvcml0ZUFydGljbGUoYS5zbHVnLHQpLnRoZW4odD0+e2EuZmF2b3JpdGVzQ291bnQ9dC5qc29uLmFydGljbGUuZmF2b3JpdGVzQ291bnR9KX1hZnRlclNldEZhdm9yaXRlc0NvdW50KHQsZSl7TmVvLmlzTnVtYmVyKHQpJiYobi5nZXRGbGFncyh0aGlzLnZkb20sXCJmYXZvcml0ZXNDb3VudFwiKS5mb3JFYWNoKGU9PntlLnRleHQ9YCgke3R9KWB9KSx0aGlzLnVwZGF0ZSgpKX1hZnRlclNldFRhZ0xpc3QodCxlKXtsZXQgbyxhPW4uZ2V0QnlGbGFnKHRoaXMudmRvbSxcImJvZHlcIik7QXJyYXkuaXNBcnJheSh0KSYmdC5sZW5ndGg+MD8obz17dGFnOlwidWxcIixjbHM6W1widGFnLWxpc3RcIl0sY246W119LHQuZm9yRWFjaCh0PT57by5jbi5wdXNoKHt0YWc6XCJsaVwiLGNsczpbXCJ0YWctZGVmYXVsdFwiLFwidGFnLXBpbGxcIixcInRhZy1vdXRsaW5lXCJdLHRleHQ6dH0pfSksYS5jblsxXT1vKTphLmNuWzFdJiYoYS5jblsxXS5yZW1vdmVEb209ITApLHRoaXMudXBkYXRlKCl9YWZ0ZXJTZXRUaXRsZSh0LGUpe24uZ2V0QnlGbGFnKHRoaXMudmRvbSxcInRpdGxlXCIpLnRleHQ9dCx0aGlzLnVwZGF0ZSgpfW9uQ3VycmVudFVzZXJDaGFuZ2UoKXtsZXQgdCxlPXRoaXMsbz1lLmdldENvbnRyb2xsZXIoKS5jdXJyZW50VXNlcixhPWUudmRvbTtlLmF1dGhvciYmbyYmKHQ9ZS5hdXRob3IudXNlcm5hbWU9PT1vLnVzZXJuYW1lLG4uZ2V0RmxhZ3MoYSxcImZvbGxvdy1idXR0b25cIikuZm9yRWFjaChlPT5lLnJlbW92ZURvbT10KSxuLmdldEZsYWdzKGEsXCJmYXZvcml0ZWRcIikuZm9yRWFjaChlPT5lLnJlbW92ZURvbT10KSxuLmdldEJ5RmxhZyhhLFwiYXJ0aWNsZS1hY3Rpb25zXCIpLnJlbW92ZURvbT10LG4uZ2V0QnlGbGFnKGEsXCJkZWxldGUtYnV0dG9uXCIpLnJlbW92ZURvbT0hdCxuLmdldEJ5RmxhZyhhLFwiZWRpdC1idXR0b25cIikucmVtb3ZlRG9tPSF0LGUudXBkYXRlKCkpfW9uRGVsZXRlQnV0dG9uQ2xpY2sodCl7dGhpcy5nZXRDb250cm9sbGVyKCkuZGVsZXRlQXJ0aWNsZSh0aGlzLnNsdWcpfW9uRWRpdEJ1dHRvbkNsaWNrKHQpe05lby5NYWluLnNldFJvdXRlKHt2YWx1ZTpcIi9lZGl0b3IvXCIrdGhpcy5zbHVnfSl9b25GYXZvcml0ZUJ1dHRvbkNsaWNrKHQpe3RoaXMuZmF2b3JpdGVkPSF0aGlzLmZhdm9yaXRlZH1vbkZvbGxvd0J1dHRvbkNsaWNrKHQpe2xldCBlPXRoaXM7ZS5nZXRDb250cm9sbGVyKCkuZm9sbG93VXNlcihlLmF1dGhvci51c2VybmFtZSwhZS5hdXRob3IuZm9sbG93aW5nKS50aGVuKHQ9PntlLmF1dGhvcj10Lmpzb24ucHJvZmlsZX0pfX0pOyIsImltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnQvQmFzZS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIHR7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiUmVhbFdvcmxkLnZpZXcuYXJ0aWNsZS5DcmVhdGVDb21tZW50Q29tcG9uZW50XCIsYmFzZUNsczpbXCJjYXJkXCIsXCJjb21tZW50LWZvcm1cIl0sdXNlckltYWdlXzpudWxsLHVzZXJOYW1lXzpudWxsLF92ZG9tOnt0YWc6XCJmb3JtXCIsY246W3tjbHM6W1wiY2FyZC1ibG9ja1wiXSxjbjpbe3RhZzpcInRleHRhcmVhXCIsY2xzOltcImZvcm0tY29udHJvbFwiXSxwbGFjZWhvbGRlcjpcIldyaXRlIGEgY29tbWVudC4uLlwiLHJvd3M6M31dfSx7Y2xzOltcImNhcmQtZm9vdGVyXCJdLGNuOlt7dGFnOlwiaW1nXCIsY2xzOltcImNvbW1lbnQtYXV0aG9yLWltZ1wiXSxzcmM6XCJodHRwczovL3N0YXRpYy5wcm9kdWN0aW9ucmVhZHkuaW8vaW1hZ2VzL3NtaWxleS1jeXJ1cy5qcGdcIn0se3Z0eXBlOlwidGV4dFwiLGh0bWw6XCImbmJzcDtcIn0se3RhZzpcInNwYW5cIixjbHM6W1wiY29tbWVudC1hdXRob3JcIl19LHt0YWc6XCJidXR0b25cIixjbHM6W1wiYnRuXCIsXCJidG4tc21cIixcImJ0bi1wcmltYXJ5XCJdLHRleHQ6XCJQb3N0IENvbW1lbnRcIix0eXBlOlwiYnV0dG9uXCJ9XX1dfX07Y29uc3RydWN0KHQpe3N1cGVyLmNvbnN0cnVjdCh0KTtsZXQgZT10aGlzO2UuYWRkRG9tTGlzdGVuZXJzKHtjbGljazp7Zm46ZS5vblN1Ym1pdEJ1dHRvbkNsaWNrLGRlbGVnYXRlOlwiLmJ0bi1wcmltYXJ5XCIsc2NvcGU6ZX19KSxlLnZkb20uY25bMF0uY25bMF0uaWQ9ZS5nZXRJbnB1dEVsSWQoKSxlLnVwZGF0ZSgpLGUuZ2V0Q29udHJvbGxlcigpLm9uKHthZnRlclNldEN1cnJlbnRVc2VyOmUub25DdXJyZW50VXNlckNoYW5nZSxzY29wZTplfSl9YWZ0ZXJTZXRVc2VySW1hZ2UodCxlKXt0JiYodGhpcy52ZG9tLmNuWzFdLmNuWzBdLnNyYz10LHRoaXMudXBkYXRlKCkpfWFmdGVyU2V0VXNlck5hbWUodCxlKXt0JiYodGhpcy52ZG9tLmNuWzFdLmNuWzJdLnRleHQ9dCx0aGlzLnVwZGF0ZSgpKX1nZXRJbnB1dEVsSWQoKXtyZXR1cm4gdGhpcy5pZCtcIl9faW5wdXRcIn1vbkN1cnJlbnRVc2VyQ2hhbmdlKHQpe3RoaXMuc2V0KHt1c2VySW1hZ2U6dC5pbWFnZSx1c2VyTmFtZTp0LnVzZXJuYW1lfSl9b25TdWJtaXRCdXR0b25DbGljayh0KXtsZXQgZT10aGlzO05lby5tYWluLkRvbUFjY2Vzcy5nZXRBdHRyaWJ1dGVzKHtpZDplLmdldElucHV0RWxJZCgpLGF0dHJpYnV0ZXM6XCJ2YWx1ZVwiLHdpbmRvd0lkOmUud2luZG93SWR9KS50aGVuKHQ9PntlLmdldENvbnRyb2xsZXIoKS5wb3N0Q29tbWVudCh7ZGF0YTpKU09OLnN0cmluZ2lmeSh7Y29tbWVudDp7Ym9keTp0LnZhbHVlfX0pfSkudGhlbih0PT57ZS52ZG9tLmNuWzBdLmNuWzBdLnZhbHVlPVwiXCIsZS51cGRhdGUoKX0pfSl9fSk7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==