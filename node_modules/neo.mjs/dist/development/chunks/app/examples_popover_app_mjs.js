export const __webpack_esm_id__ = "examples_popover_app_mjs";
export const __webpack_esm_ids__ = ["examples_popover_app_mjs"];
export const __webpack_esm_modules__ = {

/***/ "./examples/popover/MainContainer.mjs"
/*!********************************************!*\
  !*** ./examples/popover/MainContainer.mjs ***!
  \********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../src/component/Base.mjs */ "./src/component/Base.mjs");
/* harmony import */ var _ConfigurationViewport_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ConfigurationViewport.mjs */ "./examples/ConfigurationViewport.mjs");
/* harmony import */ var _src_plugin_Popover_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../src/plugin/Popover.mjs */ "./src/plugin/Popover.mjs");
/* harmony import */ var _src_button_Base_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../src/button/Base.mjs */ "./src/button/Base.mjs");





/**
 * @class Neo.examples.popover.MainContainer
 * @extends Neo.examples.ConfigurationViewport
 */
class MainContainer extends _ConfigurationViewport_mjs__WEBPACK_IMPORTED_MODULE_1__["default"] {
    static config = {
        className           : 'Neo.examples.popover.MainContainer',
        autoMount           : true,
        configItemLabelWidth: 100,
        configItemWidth     : 230,
        layout              : {ntype: 'hbox', align: 'stretch'},
        cls                 : ['examples-container-accordion']
    }

    /**
     * @returns {*}
     */
    createExampleComponent() {
        return Neo.ntype({
            ntype : 'container',
            height: '30%',
            layout: {ntype: 'vbox', align: 'center', pack: 'center'},
            items : [{
                module: _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
                height: 10
            }, {
                module : _src_button_Base_mjs__WEBPACK_IMPORTED_MODULE_3__["default"],
                width  : 200,
                text   : 'Click Me',
                plugins: [{
                    module: _src_plugin_Popover_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],
                    align : 'bc-tc',
                    items : [{
                        ntype  : 'panel',
                        headers: [{
                            dock: 'top',
                            html: 'HEADER'
                        }],
                        items  : [{
                            html: 'This is a comment about the button'
                        }]
                    }]
                }]
            }]
        })
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(MainContainer));


/***/ },

/***/ "./examples/popover/app.mjs"
/*!**********************************!*\
  !*** ./examples/popover/app.mjs ***!
  \**********************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   onStart: () => (/* binding */ onStart)
/* harmony export */ });
/* harmony import */ var _MainContainer_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MainContainer.mjs */ "./examples/popover/MainContainer.mjs");


const onStart = () => Neo.app({
    mainView: _MainContainer_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
    name    : 'Neo.examples.popover'
});


/***/ },

/***/ "./src/plugin/Base.mjs"
/*!*****************************!*\
  !*** ./src/plugin/Base.mjs ***!
  \*****************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./src/core/Base.mjs");


/**
 * Abstract base class for plugin implementations.
 * Plugins are intended to get put into the plugins config of component.Base
 * to enhance them or add additional features
 * @class Neo.plugin.Base
 * @extends Neo.core.Base
 */
class Plugin extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Neo.plugin.Base'
         * @protected
         */
        className: 'Neo.plugin.Base',
        /**
         * All plugin ntypes need to start with 'plugin-' to ensure that component.Base: getPlugin() can find them
         * @member {String} ntype='plugin'
         * @protected
         */
        ntype: 'plugin',
        /**
         * @member {Neo.component.Base} owner=null
         * @protected
         */
        owner: null,
        /**
         * @member {Number|null} windowId_=null
         * @reactive
         */
        windowId_: null
    }

    /**
     * @param {Object} config
     */
    construct(config) {
        super.construct(config);

        let me      = this,
            {owner} = me;

        if (owner.isConstructed) {
            me.onOwnerConstructed()
        } else {
            owner.on('constructed', () => {
                me.onOwnerConstructed()
            }, me, {once: true})
        }

        if (owner.mounted) {
            me.onOwnerMounted();
        } else {
            owner.on('mounted', me.onOwnerMounted, me);
        }
    }

    /**
     * Triggered after the windowId config got changed
     * @param {Number|null} value
     * @param {Number|null} oldValue
     * @protected
     */
    afterSetWindowId(value, oldValue) {
        value && Neo.currentWorker.insertThemeFiles(value, this.__proto__)
    }

    /**
     * Override this method to apply changes to the owner Component when it is constructed
     */
    onOwnerConstructed() {
        let {owner} = this;

        if (owner.windowId) {
            this.windowId = owner.windowId
        }
    }

    /**
     * Override this method to apply changes to the owner Component when it does get mounted
     */
    onOwnerMounted() {

    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(Plugin));


/***/ },

/***/ "./src/plugin/Popover.mjs"
/*!********************************!*\
  !*** ./src/plugin/Popover.mjs ***!
  \********************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../container/Base.mjs */ "./src/container/Base.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Array.mjs */ "./src/util/Array.mjs");
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Base.mjs */ "./src/plugin/Base.mjs");




/**
 * Popover usable as tooltip
 * @class Neo.plugin.Popover
 * @extends Neo.plugin.Base
 *
 * @example
 *     module : Button,
 *     width  : 200,
 *     text   : 'Click Me',
 *     plugins: [{
 *         module: PopoverPlugin,
 *         align : 'bc-tc',
 *         items : [{
 *             ntype  : 'panel',
 *             headers: [{
 *                 dock: 'top',
 *                 text: 'HEADER'
 *             }],
 *             items  : [{
 *                 text: 'This is a comment about the button'
 *             }]
 *         }]
 *     }]
 */
class Popover extends _Base_mjs__WEBPACK_IMPORTED_MODULE_2__["default"] {
    /**
     * Valid values for align
     * @member {String[]} alignValues=['bc-tc','tc-bc','tl-tr','tr-tl','cl-cr','cr-cl',null]
     * @protected
     * @static
     *
     * todo: add more
     */
    static alignValues = ['bc-tc', 'tc-bc', 'tl-tr', 'tr-tl', 'cl-cr', 'cr-cl', null]

    static config = {
        /**
         * @member {String} className='Neo.plugin.Popover'
         * @protected
         */
        className: 'Neo.plugin.Popover',
        /**
         * @member {String} ntype='plugin-popover'
         * @protected
         */
        ntype: 'plugin-popover',
        /**
         * Define popover to popover target alignment
         * Defaults to bottom center of popover is aligned to top center of owner
         * @member {String} align='bc-tc'
         */
        align_: 'bc-tc',
        /**
         * Custom cls to add to the owner component
         * @member {String} popoverBaseCls='neo-popover'
         */
        popoverBaseCls: 'neo-popover',
        /**
         * Custom cls to add to the owner component
         * @member {String} popovertargetCls='neo-popover-target'
         */
        popovertargetCls: 'neo-popover-target'
    }

    /**
     * @param {Object} config
     */
    construct(config) {
        let me = this;

        super.construct(config);

        me.popoverId = Neo.getId('popover');

        // prepare owner
        me.preparePopoverTarget();
        me.addPopover();

        me.addListeners()
    }

    /**
     * @protected
     */
    addListeners() {
        const me = this;

        me.owner.addDomListeners([
            {mouseover: me.onTargetMouseOver, scope: me},
            {mouseout : me.onTargetMouseOut,  scope: me}
        ])
    }

    /**
     * Create the popover and add it to the parent component of the owner
     * @protected
     */
    addPopover() {
        const me      = this,
              {owner} = me,
              parent  = Neo.get(me.owner.parentId),
              popover = {
                  module: _container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
                  id    : me.popoverId,

                  baseCls: [me.popoverBaseCls],
                  cls    : [me.align],

                  layout: 'base',
                  items : me.items || [],

                  vdom: {
                      // Possible Values are auto, manual.
                      popover: 'auto',
                      anchor : owner.id
                  }
              };

        parent.add(popover)
    }

    /**
     * Checks if the new value for "align" is valid
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     * @returns {String|null} value
     */
    beforeSetAlign(value, oldValue) {
        return this.testInputValue(value, oldValue, 'alignValues', 'align')
    }

    /**
     * @event mouseout
     * @param {Object} data
     * @protected
     */
    onTargetMouseOut(data) {
        Neo.main.addon.Popover.hide({id: data.component.id})
    }

    /**
     * @event mouseover
     * @param {Object} data
     * @protected
     */
    onTargetMouseOver(data) {
        Neo.main.addon.Popover.show({id: data.component.id})
    }

    /**
     * @protected
     */
    preparePopoverTarget() {
        const me         = this,
              target     = me.owner,
              targetVdom = target.vdom;

        target.addCls(me.popovertargetCls);
        targetVdom.popovertarget = me.popoverId
    }

    /**
     * Checks if the new value for propertyName is valid
     * @param {String|null} value
     * @param {String|null} oldValue
     * @param {String} validValuesName
     * @param {String} propertyName
     * @protected
     * @returns {String|null} value
     */
    testInputValue(value, oldValue, validValuesName, propertyName) {
        const validValues = this.getStaticConfig(validValuesName);

        if (!_util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].hasItem(validValues, value)) {
            Neo.logError(this.id + ' -> layout: supported values for "' + propertyName + '" are', validValues);
            return oldValue
        }

        return value
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(Popover));


/***/ }

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC9leGFtcGxlc19wb3BvdmVyX2FwcF9tanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlFO0FBQ0E7QUFDQTtBQUNIOztBQUU5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixrRUFBcUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixnQ0FBZ0M7QUFDL0Q7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLCtDQUErQztBQUNwRTtBQUNBLHdCQUF3QiwrREFBUztBQUNqQztBQUNBLGFBQWE7QUFDYix5QkFBeUIsNERBQU07QUFDL0I7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtEQUFhO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBOztBQUVBLGlFQUFlLDZCQUE2QixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7O0FDckRHOztBQUV6QztBQUNQLGNBQWMsMERBQWE7QUFDM0I7QUFDQSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7O0FDTG1DOztBQUVwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixzREFBSTtBQUN6QjtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG9CQUFvQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixhQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWEsT0FBTzs7QUFFcEI7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsYUFBYSxPQUFPLFdBQVc7QUFDL0I7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsYUFBYTtBQUM1QixlQUFlLGFBQWE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTzs7QUFFcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpRUFBZSxzQkFBc0IsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdkZPO0FBQ0g7QUFDUDs7QUFFbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCLFlBQVk7QUFDWixRQUFRO0FBQ1I7QUFDQSxzQkFBc0IsaURBQU07QUFDNUI7QUFDQTtBQUNBLGdCQUFnQixVQUFVO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSwyQ0FBMkM7QUFDeEQsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQSwwQkFBMEIsMkRBQVM7QUFDbkM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUIsZUFBZSxhQUFhO0FBQzVCO0FBQ0EsaUJBQWlCLGFBQWE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsc0JBQXNCO0FBQzNEOztBQUVBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHNCQUFzQjtBQUMzRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsYUFBYTtBQUM1QixlQUFlLGFBQWE7QUFDNUIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QjtBQUNBLGlCQUFpQixhQUFhO0FBQzlCO0FBQ0E7QUFDQTs7QUFFQSxhQUFhLHVEQUFRO0FBQ3JCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsaUVBQWUsdUJBQXVCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW8ubWpzLy4vZXhhbXBsZXMvcG9wb3Zlci9NYWluQ29udGFpbmVyLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZXhhbXBsZXMvcG9wb3Zlci9hcHAubWpzIiwid2VicGFjazovL25lby5tanMvLi9zcmMvcGx1Z2luL0Jhc2UubWpzIiwid2VicGFjazovL25lby5tanMvLi9zcmMvcGx1Z2luL1BvcG92ZXIubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb21wb25lbnQgICAgICAgICAgICAgZnJvbSAnLi4vLi4vc3JjL2NvbXBvbmVudC9CYXNlLm1qcyc7XG5pbXBvcnQgQ29uZmlndXJhdGlvblZpZXdwb3J0IGZyb20gJy4uL0NvbmZpZ3VyYXRpb25WaWV3cG9ydC5tanMnO1xuaW1wb3J0IFBvcG92ZXJQbHVnaW4gICAgICAgICBmcm9tICcuLi8uLi9zcmMvcGx1Z2luL1BvcG92ZXIubWpzJztcbmltcG9ydCBCdXR0b24gICAgICAgICAgICAgICAgZnJvbSAnLi4vLi4vc3JjL2J1dHRvbi9CYXNlLm1qcyc7XG5cbi8qKlxuICogQGNsYXNzIE5lby5leGFtcGxlcy5wb3BvdmVyLk1haW5Db250YWluZXJcbiAqIEBleHRlbmRzIE5lby5leGFtcGxlcy5Db25maWd1cmF0aW9uVmlld3BvcnRcbiAqL1xuY2xhc3MgTWFpbkNvbnRhaW5lciBleHRlbmRzIENvbmZpZ3VyYXRpb25WaWV3cG9ydCB7XG4gICAgc3RhdGljIGNvbmZpZyA9IHtcbiAgICAgICAgY2xhc3NOYW1lICAgICAgICAgICA6ICdOZW8uZXhhbXBsZXMucG9wb3Zlci5NYWluQ29udGFpbmVyJyxcbiAgICAgICAgYXV0b01vdW50ICAgICAgICAgICA6IHRydWUsXG4gICAgICAgIGNvbmZpZ0l0ZW1MYWJlbFdpZHRoOiAxMDAsXG4gICAgICAgIGNvbmZpZ0l0ZW1XaWR0aCAgICAgOiAyMzAsXG4gICAgICAgIGxheW91dCAgICAgICAgICAgICAgOiB7bnR5cGU6ICdoYm94JywgYWxpZ246ICdzdHJldGNoJ30sXG4gICAgICAgIGNscyAgICAgICAgICAgICAgICAgOiBbJ2V4YW1wbGVzLWNvbnRhaW5lci1hY2NvcmRpb24nXVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGNyZWF0ZUV4YW1wbGVDb21wb25lbnQoKSB7XG4gICAgICAgIHJldHVybiBOZW8ubnR5cGUoe1xuICAgICAgICAgICAgbnR5cGUgOiAnY29udGFpbmVyJyxcbiAgICAgICAgICAgIGhlaWdodDogJzMwJScsXG4gICAgICAgICAgICBsYXlvdXQ6IHtudHlwZTogJ3Zib3gnLCBhbGlnbjogJ2NlbnRlcicsIHBhY2s6ICdjZW50ZXInfSxcbiAgICAgICAgICAgIGl0ZW1zIDogW3tcbiAgICAgICAgICAgICAgICBtb2R1bGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbW9kdWxlIDogQnV0dG9uLFxuICAgICAgICAgICAgICAgIHdpZHRoICA6IDIwMCxcbiAgICAgICAgICAgICAgICB0ZXh0ICAgOiAnQ2xpY2sgTWUnLFxuICAgICAgICAgICAgICAgIHBsdWdpbnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZTogUG9wb3ZlclBsdWdpbixcbiAgICAgICAgICAgICAgICAgICAgYWxpZ24gOiAnYmMtdGMnLFxuICAgICAgICAgICAgICAgICAgICBpdGVtcyA6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICBudHlwZSAgOiAncGFuZWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NrOiAndG9wJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiAnSEVBREVSJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtcyAgOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6ICdUaGlzIGlzIGEgY29tbWVudCBhYm91dCB0aGUgYnV0dG9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfV1cbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKE1haW5Db250YWluZXIpO1xuIiwiaW1wb3J0IE1haW5Db250YWluZXIgZnJvbSAnLi9NYWluQ29udGFpbmVyLm1qcyc7XG5cbmV4cG9ydCBjb25zdCBvblN0YXJ0ID0gKCkgPT4gTmVvLmFwcCh7XG4gICAgbWFpblZpZXc6IE1haW5Db250YWluZXIsXG4gICAgbmFtZSAgICA6ICdOZW8uZXhhbXBsZXMucG9wb3Zlcidcbn0pO1xuIiwiaW1wb3J0IEJhc2UgZnJvbSAnLi4vY29yZS9CYXNlLm1qcyc7XG5cbi8qKlxuICogQWJzdHJhY3QgYmFzZSBjbGFzcyBmb3IgcGx1Z2luIGltcGxlbWVudGF0aW9ucy5cbiAqIFBsdWdpbnMgYXJlIGludGVuZGVkIHRvIGdldCBwdXQgaW50byB0aGUgcGx1Z2lucyBjb25maWcgb2YgY29tcG9uZW50LkJhc2VcbiAqIHRvIGVuaGFuY2UgdGhlbSBvciBhZGQgYWRkaXRpb25hbCBmZWF0dXJlc1xuICogQGNsYXNzIE5lby5wbHVnaW4uQmFzZVxuICogQGV4dGVuZHMgTmVvLmNvcmUuQmFzZVxuICovXG5jbGFzcyBQbHVnaW4gZXh0ZW5kcyBCYXNlIHtcbiAgICBzdGF0aWMgY29uZmlnID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBjbGFzc05hbWU9J05lby5wbHVnaW4uQmFzZSdcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgY2xhc3NOYW1lOiAnTmVvLnBsdWdpbi5CYXNlJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbCBwbHVnaW4gbnR5cGVzIG5lZWQgdG8gc3RhcnQgd2l0aCAncGx1Z2luLScgdG8gZW5zdXJlIHRoYXQgY29tcG9uZW50LkJhc2U6IGdldFBsdWdpbigpIGNhbiBmaW5kIHRoZW1cbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBudHlwZT0ncGx1Z2luJ1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBudHlwZTogJ3BsdWdpbicsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtOZW8uY29tcG9uZW50LkJhc2V9IG93bmVyPW51bGxcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgb3duZXI6IG51bGwsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtOdW1iZXJ8bnVsbH0gd2luZG93SWRfPW51bGxcbiAgICAgICAgICogQHJlYWN0aXZlXG4gICAgICAgICAqL1xuICAgICAgICB3aW5kb3dJZF86IG51bGxcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICovXG4gICAgY29uc3RydWN0KGNvbmZpZykge1xuICAgICAgICBzdXBlci5jb25zdHJ1Y3QoY29uZmlnKTtcblxuICAgICAgICBsZXQgbWUgICAgICA9IHRoaXMsXG4gICAgICAgICAgICB7b3duZXJ9ID0gbWU7XG5cbiAgICAgICAgaWYgKG93bmVyLmlzQ29uc3RydWN0ZWQpIHtcbiAgICAgICAgICAgIG1lLm9uT3duZXJDb25zdHJ1Y3RlZCgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvd25lci5vbignY29uc3RydWN0ZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbWUub25Pd25lckNvbnN0cnVjdGVkKClcbiAgICAgICAgICAgIH0sIG1lLCB7b25jZTogdHJ1ZX0pXG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3duZXIubW91bnRlZCkge1xuICAgICAgICAgICAgbWUub25Pd25lck1vdW50ZWQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG93bmVyLm9uKCdtb3VudGVkJywgbWUub25Pd25lck1vdW50ZWQsIG1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciB0aGUgd2luZG93SWQgY29uZmlnIGdvdCBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ8bnVsbH0gdmFsdWVcbiAgICAgKiBAcGFyYW0ge051bWJlcnxudWxsfSBvbGRWYWx1ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBhZnRlclNldFdpbmRvd0lkKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICB2YWx1ZSAmJiBOZW8uY3VycmVudFdvcmtlci5pbnNlcnRUaGVtZUZpbGVzKHZhbHVlLCB0aGlzLl9fcHJvdG9fXylcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSB0aGlzIG1ldGhvZCB0byBhcHBseSBjaGFuZ2VzIHRvIHRoZSBvd25lciBDb21wb25lbnQgd2hlbiBpdCBpcyBjb25zdHJ1Y3RlZFxuICAgICAqL1xuICAgIG9uT3duZXJDb25zdHJ1Y3RlZCgpIHtcbiAgICAgICAgbGV0IHtvd25lcn0gPSB0aGlzO1xuXG4gICAgICAgIGlmIChvd25lci53aW5kb3dJZCkge1xuICAgICAgICAgICAgdGhpcy53aW5kb3dJZCA9IG93bmVyLndpbmRvd0lkXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSB0aGlzIG1ldGhvZCB0byBhcHBseSBjaGFuZ2VzIHRvIHRoZSBvd25lciBDb21wb25lbnQgd2hlbiBpdCBkb2VzIGdldCBtb3VudGVkXG4gICAgICovXG4gICAgb25Pd25lck1vdW50ZWQoKSB7XG5cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKFBsdWdpbik7XG4iLCJpbXBvcnQgQ29udGFpbmVyIGZyb20gJy4uL2NvbnRhaW5lci9CYXNlLm1qcydcbmltcG9ydCBOZW9BcnJheSAgZnJvbSAnLi4vdXRpbC9BcnJheS5tanMnO1xuaW1wb3J0IFBsdWdpbiAgICBmcm9tICcuL0Jhc2UubWpzJztcblxuLyoqXG4gKiBQb3BvdmVyIHVzYWJsZSBhcyB0b29sdGlwXG4gKiBAY2xhc3MgTmVvLnBsdWdpbi5Qb3BvdmVyXG4gKiBAZXh0ZW5kcyBOZW8ucGx1Z2luLkJhc2VcbiAqXG4gKiBAZXhhbXBsZVxuICogICAgIG1vZHVsZSA6IEJ1dHRvbixcbiAqICAgICB3aWR0aCAgOiAyMDAsXG4gKiAgICAgdGV4dCAgIDogJ0NsaWNrIE1lJyxcbiAqICAgICBwbHVnaW5zOiBbe1xuICogICAgICAgICBtb2R1bGU6IFBvcG92ZXJQbHVnaW4sXG4gKiAgICAgICAgIGFsaWduIDogJ2JjLXRjJyxcbiAqICAgICAgICAgaXRlbXMgOiBbe1xuICogICAgICAgICAgICAgbnR5cGUgIDogJ3BhbmVsJyxcbiAqICAgICAgICAgICAgIGhlYWRlcnM6IFt7XG4gKiAgICAgICAgICAgICAgICAgZG9jazogJ3RvcCcsXG4gKiAgICAgICAgICAgICAgICAgdGV4dDogJ0hFQURFUidcbiAqICAgICAgICAgICAgIH1dLFxuICogICAgICAgICAgICAgaXRlbXMgIDogW3tcbiAqICAgICAgICAgICAgICAgICB0ZXh0OiAnVGhpcyBpcyBhIGNvbW1lbnQgYWJvdXQgdGhlIGJ1dHRvbidcbiAqICAgICAgICAgICAgIH1dXG4gKiAgICAgICAgIH1dXG4gKiAgICAgfV1cbiAqL1xuY2xhc3MgUG9wb3ZlciBleHRlbmRzIFBsdWdpbiB7XG4gICAgLyoqXG4gICAgICogVmFsaWQgdmFsdWVzIGZvciBhbGlnblxuICAgICAqIEBtZW1iZXIge1N0cmluZ1tdfSBhbGlnblZhbHVlcz1bJ2JjLXRjJywndGMtYmMnLCd0bC10cicsJ3RyLXRsJywnY2wtY3InLCdjci1jbCcsbnVsbF1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHN0YXRpY1xuICAgICAqXG4gICAgICogdG9kbzogYWRkIG1vcmVcbiAgICAgKi9cbiAgICBzdGF0aWMgYWxpZ25WYWx1ZXMgPSBbJ2JjLXRjJywgJ3RjLWJjJywgJ3RsLXRyJywgJ3RyLXRsJywgJ2NsLWNyJywgJ2NyLWNsJywgbnVsbF1cblxuICAgIHN0YXRpYyBjb25maWcgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGNsYXNzTmFtZT0nTmVvLnBsdWdpbi5Qb3BvdmVyJ1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBjbGFzc05hbWU6ICdOZW8ucGx1Z2luLlBvcG92ZXInLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBudHlwZT0ncGx1Z2luLXBvcG92ZXInXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIG50eXBlOiAncGx1Z2luLXBvcG92ZXInLFxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmaW5lIHBvcG92ZXIgdG8gcG9wb3ZlciB0YXJnZXQgYWxpZ25tZW50XG4gICAgICAgICAqIERlZmF1bHRzIHRvIGJvdHRvbSBjZW50ZXIgb2YgcG9wb3ZlciBpcyBhbGlnbmVkIHRvIHRvcCBjZW50ZXIgb2Ygb3duZXJcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBhbGlnbj0nYmMtdGMnXG4gICAgICAgICAqL1xuICAgICAgICBhbGlnbl86ICdiYy10YycsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXN0b20gY2xzIHRvIGFkZCB0byB0aGUgb3duZXIgY29tcG9uZW50XG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gcG9wb3ZlckJhc2VDbHM9J25lby1wb3BvdmVyJ1xuICAgICAgICAgKi9cbiAgICAgICAgcG9wb3ZlckJhc2VDbHM6ICduZW8tcG9wb3ZlcicsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXN0b20gY2xzIHRvIGFkZCB0byB0aGUgb3duZXIgY29tcG9uZW50XG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gcG9wb3ZlcnRhcmdldENscz0nbmVvLXBvcG92ZXItdGFyZ2V0J1xuICAgICAgICAgKi9cbiAgICAgICAgcG9wb3ZlcnRhcmdldENsczogJ25lby1wb3BvdmVyLXRhcmdldCdcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICovXG4gICAgY29uc3RydWN0KGNvbmZpZykge1xuICAgICAgICBsZXQgbWUgPSB0aGlzO1xuXG4gICAgICAgIHN1cGVyLmNvbnN0cnVjdChjb25maWcpO1xuXG4gICAgICAgIG1lLnBvcG92ZXJJZCA9IE5lby5nZXRJZCgncG9wb3ZlcicpO1xuXG4gICAgICAgIC8vIHByZXBhcmUgb3duZXJcbiAgICAgICAgbWUucHJlcGFyZVBvcG92ZXJUYXJnZXQoKTtcbiAgICAgICAgbWUuYWRkUG9wb3ZlcigpO1xuXG4gICAgICAgIG1lLmFkZExpc3RlbmVycygpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGFkZExpc3RlbmVycygpIHtcbiAgICAgICAgY29uc3QgbWUgPSB0aGlzO1xuXG4gICAgICAgIG1lLm93bmVyLmFkZERvbUxpc3RlbmVycyhbXG4gICAgICAgICAgICB7bW91c2VvdmVyOiBtZS5vblRhcmdldE1vdXNlT3Zlciwgc2NvcGU6IG1lfSxcbiAgICAgICAgICAgIHttb3VzZW91dCA6IG1lLm9uVGFyZ2V0TW91c2VPdXQsICBzY29wZTogbWV9XG4gICAgICAgIF0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBwb3BvdmVyIGFuZCBhZGQgaXQgdG8gdGhlIHBhcmVudCBjb21wb25lbnQgb2YgdGhlIG93bmVyXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGFkZFBvcG92ZXIoKSB7XG4gICAgICAgIGNvbnN0IG1lICAgICAgPSB0aGlzLFxuICAgICAgICAgICAgICB7b3duZXJ9ID0gbWUsXG4gICAgICAgICAgICAgIHBhcmVudCAgPSBOZW8uZ2V0KG1lLm93bmVyLnBhcmVudElkKSxcbiAgICAgICAgICAgICAgcG9wb3ZlciA9IHtcbiAgICAgICAgICAgICAgICAgIG1vZHVsZTogQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgaWQgICAgOiBtZS5wb3BvdmVySWQsXG5cbiAgICAgICAgICAgICAgICAgIGJhc2VDbHM6IFttZS5wb3BvdmVyQmFzZUNsc10sXG4gICAgICAgICAgICAgICAgICBjbHMgICAgOiBbbWUuYWxpZ25dLFxuXG4gICAgICAgICAgICAgICAgICBsYXlvdXQ6ICdiYXNlJyxcbiAgICAgICAgICAgICAgICAgIGl0ZW1zIDogbWUuaXRlbXMgfHwgW10sXG5cbiAgICAgICAgICAgICAgICAgIHZkb206IHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBQb3NzaWJsZSBWYWx1ZXMgYXJlIGF1dG8sIG1hbnVhbC5cbiAgICAgICAgICAgICAgICAgICAgICBwb3BvdmVyOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgYW5jaG9yIDogb3duZXIuaWRcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICBwYXJlbnQuYWRkKHBvcG92ZXIpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBuZXcgdmFsdWUgZm9yIFwiYWxpZ25cIiBpcyB2YWxpZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IHZhbHVlXG4gICAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gb2xkVmFsdWVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybnMge1N0cmluZ3xudWxsfSB2YWx1ZVxuICAgICAqL1xuICAgIGJlZm9yZVNldEFsaWduKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXN0SW5wdXRWYWx1ZSh2YWx1ZSwgb2xkVmFsdWUsICdhbGlnblZhbHVlcycsICdhbGlnbicpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGV2ZW50IG1vdXNlb3V0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgb25UYXJnZXRNb3VzZU91dChkYXRhKSB7XG4gICAgICAgIE5lby5tYWluLmFkZG9uLlBvcG92ZXIuaGlkZSh7aWQ6IGRhdGEuY29tcG9uZW50LmlkfSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZXZlbnQgbW91c2VvdmVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgb25UYXJnZXRNb3VzZU92ZXIoZGF0YSkge1xuICAgICAgICBOZW8ubWFpbi5hZGRvbi5Qb3BvdmVyLnNob3coe2lkOiBkYXRhLmNvbXBvbmVudC5pZH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByZXBhcmVQb3BvdmVyVGFyZ2V0KCkge1xuICAgICAgICBjb25zdCBtZSAgICAgICAgID0gdGhpcyxcbiAgICAgICAgICAgICAgdGFyZ2V0ICAgICA9IG1lLm93bmVyLFxuICAgICAgICAgICAgICB0YXJnZXRWZG9tID0gdGFyZ2V0LnZkb207XG5cbiAgICAgICAgdGFyZ2V0LmFkZENscyhtZS5wb3BvdmVydGFyZ2V0Q2xzKTtcbiAgICAgICAgdGFyZ2V0VmRvbS5wb3BvdmVydGFyZ2V0ID0gbWUucG9wb3ZlcklkXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBuZXcgdmFsdWUgZm9yIHByb3BlcnR5TmFtZSBpcyB2YWxpZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IHZhbHVlXG4gICAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gb2xkVmFsdWVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsaWRWYWx1ZXNOYW1lXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5TmFtZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfG51bGx9IHZhbHVlXG4gICAgICovXG4gICAgdGVzdElucHV0VmFsdWUodmFsdWUsIG9sZFZhbHVlLCB2YWxpZFZhbHVlc05hbWUsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICBjb25zdCB2YWxpZFZhbHVlcyA9IHRoaXMuZ2V0U3RhdGljQ29uZmlnKHZhbGlkVmFsdWVzTmFtZSk7XG5cbiAgICAgICAgaWYgKCFOZW9BcnJheS5oYXNJdGVtKHZhbGlkVmFsdWVzLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgIE5lby5sb2dFcnJvcih0aGlzLmlkICsgJyAtPiBsYXlvdXQ6IHN1cHBvcnRlZCB2YWx1ZXMgZm9yIFwiJyArIHByb3BlcnR5TmFtZSArICdcIiBhcmUnLCB2YWxpZFZhbHVlcyk7XG4gICAgICAgICAgICByZXR1cm4gb2xkVmFsdWVcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoUG9wb3Zlcik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=