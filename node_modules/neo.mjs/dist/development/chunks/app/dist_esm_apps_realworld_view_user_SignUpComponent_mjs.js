"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["dist_esm_apps_realworld_view_user_SignUpComponent_mjs"],{

/***/ "./dist/esm/apps/realworld/view/user/SignUpComponent.mjs":
/*!***************************************************************!*\
  !*** ./dist/esm/apps/realworld/view/user/SignUpComponent.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../src/component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony import */ var _src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../src/util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"RealWorld.view.user.SignUpComponent",baseCls:["auth-page"],errors_:[],fieldsets_:[{name:"username",placeholder:"Your Name",type:"text"},{name:"email",placeholder:"Email",type:"text"},{name:"password",placeholder:"Password",type:"password"}],keys:{Enter:"onKeyDownEnter"},mode_:"signup",_vdom:{cn:[{cls:["container","page"],cn:[{cls:["row"],cn:[{cls:["col-md-6","offset-md-3","col-xs-12"],cn:[{tag:"h1",cls:["text-xs-center"]},{tag:"p",cls:["text-xs-center"],cn:[{tag:"a"}]},{tag:"ul",cls:["error-messages"]},{tag:"form",cn:[{tag:"fieldset",cn:[{tag:"button",cls:["btn","btn-lg","btn-primary","pull-xs-right"],type:"button"}]}]}]}]}]}]}};construct(e){super.construct(e);let t=this;t.addDomListeners({click:{fn:t.onSubmitButtonClick,delegate:".btn-primary",scope:t}})}afterSetErrors(e,t){let n=this.getErrorMessagesList();n.cn=[],Object.entries(e||{}).forEach(([e,t])=>{n.cn.push({tag:"li",html:e+" "+t.join(" and ")})}),this.update()}afterSetFieldsets(e,t){let n=this,s=n.vdom.cn[0].cn[0].cn[0].cn[3];e.slice().reverse().forEach(e=>{s.cn[0].cn.unshift({tag:"fieldset",cls:["form-group"],cn:[{tag:"input",cls:["form-control","form-control-lg"],id:n.getInputId(e.name),name:e.name,placeholder:e.placeholder,type:e.type}]})}),n.update()}afterSetMode(e,t){let n="signup"===e,s=this.vdom.cn[0].cn[0].cn[0];s.cn[0].html=n?"Sign up":"Sign in",s.cn[1].cn[0].href=n?"#/login":"#/register",s.cn[1].cn[0].html=n?"Have an account?":"Need an account?",s.cn[3].cn[0].cn[0].removeDom=!n,s.cn[3].cn[0].cn[3].html=n?"Sign up":"Sign in",this.update()}getErrorMessagesList(){return _src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].find(this.vdom,{cls:"error-messages"})?.vdom}getInputId(e){return this.id+"__"+e}onKeyDownEnter(){this.onSubmitButtonClick()}onSubmitButtonClick(){let e,t=this,n=t.getController(),s="signup"===t.mode,r=[t.getInputId("email"),t.getInputId("password")];s&&r.push(t.getInputId("username")),Neo.main.DomAccess.getAttributes({id:r,attributes:"value"}).then(r=>{e={user:{email:r[0].value,password:r[1].value}},s&&(e.user.username=r[2].value),n.saveUser({data:JSON.stringify(e),slug:s?"":"/login"}).then(e=>{const s=e.json.errors;s?t.errors=s:n.login(e.json.user)})})}}));

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC9kaXN0X2VzbV9hcHBzX3JlYWx3b3JsZF92aWV3X3VzZXJfU2lnblVwQ29tcG9uZW50X21qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBK0YsaUVBQWUsNkJBQTZCLCtEQUFDLENBQUMsZUFBZSw4RkFBOEYsb0RBQW9ELEVBQUUsNkNBQTZDLEVBQUUsdURBQXVELFFBQVEsdUJBQXVCLHVCQUF1QixLQUFLLDhCQUE4QixpQkFBaUIsZ0RBQWdELGdDQUFnQyxFQUFFLG9DQUFvQyxRQUFRLEVBQUUsRUFBRSxnQ0FBZ0MsRUFBRSxnQkFBZ0Isb0JBQW9CLDhFQUE4RSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxhQUFhLG1CQUFtQixXQUFXLG1CQUFtQixPQUFPLDBEQUEwRCxFQUFFLG9CQUFvQixrQ0FBa0MsNEJBQTRCLG9CQUFvQixXQUFXLG9DQUFvQyxFQUFFLGdCQUFnQix1QkFBdUIsNENBQTRDLGdDQUFnQyxvQkFBb0IsdUNBQXVDLDZIQUE2SCxFQUFFLEVBQUUsYUFBYSxrQkFBa0IsaURBQWlELHdPQUF3Tyx1QkFBdUIsT0FBTywwREFBQyxpQkFBaUIscUJBQXFCLFFBQVEsY0FBYyxzQkFBc0IsaUJBQWlCLDJCQUEyQixzQkFBc0Isd0dBQXdHLHNFQUFzRSx3QkFBd0IsV0FBVyxHQUFHLE1BQU0sc0NBQXNDLDZDQUE2QywwQ0FBMEMsV0FBVyxzQkFBc0Isa0NBQWtDLEVBQUUsR0FBRyxDQUFDLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vYXBwcy9yZWFsd29ybGQvdmlldy91c2VyL1NpZ25VcENvbXBvbmVudC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudC9CYXNlLm1qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL3NyYy91dGlsL1ZEb20ubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBle3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIlJlYWxXb3JsZC52aWV3LnVzZXIuU2lnblVwQ29tcG9uZW50XCIsYmFzZUNsczpbXCJhdXRoLXBhZ2VcIl0sZXJyb3JzXzpbXSxmaWVsZHNldHNfOlt7bmFtZTpcInVzZXJuYW1lXCIscGxhY2Vob2xkZXI6XCJZb3VyIE5hbWVcIix0eXBlOlwidGV4dFwifSx7bmFtZTpcImVtYWlsXCIscGxhY2Vob2xkZXI6XCJFbWFpbFwiLHR5cGU6XCJ0ZXh0XCJ9LHtuYW1lOlwicGFzc3dvcmRcIixwbGFjZWhvbGRlcjpcIlBhc3N3b3JkXCIsdHlwZTpcInBhc3N3b3JkXCJ9XSxrZXlzOntFbnRlcjpcIm9uS2V5RG93bkVudGVyXCJ9LG1vZGVfOlwic2lnbnVwXCIsX3Zkb206e2NuOlt7Y2xzOltcImNvbnRhaW5lclwiLFwicGFnZVwiXSxjbjpbe2NsczpbXCJyb3dcIl0sY246W3tjbHM6W1wiY29sLW1kLTZcIixcIm9mZnNldC1tZC0zXCIsXCJjb2wteHMtMTJcIl0sY246W3t0YWc6XCJoMVwiLGNsczpbXCJ0ZXh0LXhzLWNlbnRlclwiXX0se3RhZzpcInBcIixjbHM6W1widGV4dC14cy1jZW50ZXJcIl0sY246W3t0YWc6XCJhXCJ9XX0se3RhZzpcInVsXCIsY2xzOltcImVycm9yLW1lc3NhZ2VzXCJdfSx7dGFnOlwiZm9ybVwiLGNuOlt7dGFnOlwiZmllbGRzZXRcIixjbjpbe3RhZzpcImJ1dHRvblwiLGNsczpbXCJidG5cIixcImJ0bi1sZ1wiLFwiYnRuLXByaW1hcnlcIixcInB1bGwteHMtcmlnaHRcIl0sdHlwZTpcImJ1dHRvblwifV19XX1dfV19XX1dfX07Y29uc3RydWN0KGUpe3N1cGVyLmNvbnN0cnVjdChlKTtsZXQgdD10aGlzO3QuYWRkRG9tTGlzdGVuZXJzKHtjbGljazp7Zm46dC5vblN1Ym1pdEJ1dHRvbkNsaWNrLGRlbGVnYXRlOlwiLmJ0bi1wcmltYXJ5XCIsc2NvcGU6dH19KX1hZnRlclNldEVycm9ycyhlLHQpe2xldCBuPXRoaXMuZ2V0RXJyb3JNZXNzYWdlc0xpc3QoKTtuLmNuPVtdLE9iamVjdC5lbnRyaWVzKGV8fHt9KS5mb3JFYWNoKChbZSx0XSk9PntuLmNuLnB1c2goe3RhZzpcImxpXCIsaHRtbDplK1wiIFwiK3Quam9pbihcIiBhbmQgXCIpfSl9KSx0aGlzLnVwZGF0ZSgpfWFmdGVyU2V0RmllbGRzZXRzKGUsdCl7bGV0IG49dGhpcyxzPW4udmRvbS5jblswXS5jblswXS5jblswXS5jblszXTtlLnNsaWNlKCkucmV2ZXJzZSgpLmZvckVhY2goZT0+e3MuY25bMF0uY24udW5zaGlmdCh7dGFnOlwiZmllbGRzZXRcIixjbHM6W1wiZm9ybS1ncm91cFwiXSxjbjpbe3RhZzpcImlucHV0XCIsY2xzOltcImZvcm0tY29udHJvbFwiLFwiZm9ybS1jb250cm9sLWxnXCJdLGlkOm4uZ2V0SW5wdXRJZChlLm5hbWUpLG5hbWU6ZS5uYW1lLHBsYWNlaG9sZGVyOmUucGxhY2Vob2xkZXIsdHlwZTplLnR5cGV9XX0pfSksbi51cGRhdGUoKX1hZnRlclNldE1vZGUoZSx0KXtsZXQgbj1cInNpZ251cFwiPT09ZSxzPXRoaXMudmRvbS5jblswXS5jblswXS5jblswXTtzLmNuWzBdLmh0bWw9bj9cIlNpZ24gdXBcIjpcIlNpZ24gaW5cIixzLmNuWzFdLmNuWzBdLmhyZWY9bj9cIiMvbG9naW5cIjpcIiMvcmVnaXN0ZXJcIixzLmNuWzFdLmNuWzBdLmh0bWw9bj9cIkhhdmUgYW4gYWNjb3VudD9cIjpcIk5lZWQgYW4gYWNjb3VudD9cIixzLmNuWzNdLmNuWzBdLmNuWzBdLnJlbW92ZURvbT0hbixzLmNuWzNdLmNuWzBdLmNuWzNdLmh0bWw9bj9cIlNpZ24gdXBcIjpcIlNpZ24gaW5cIix0aGlzLnVwZGF0ZSgpfWdldEVycm9yTWVzc2FnZXNMaXN0KCl7cmV0dXJuIHQuZmluZCh0aGlzLnZkb20se2NsczpcImVycm9yLW1lc3NhZ2VzXCJ9KT8udmRvbX1nZXRJbnB1dElkKGUpe3JldHVybiB0aGlzLmlkK1wiX19cIitlfW9uS2V5RG93bkVudGVyKCl7dGhpcy5vblN1Ym1pdEJ1dHRvbkNsaWNrKCl9b25TdWJtaXRCdXR0b25DbGljaygpe2xldCBlLHQ9dGhpcyxuPXQuZ2V0Q29udHJvbGxlcigpLHM9XCJzaWdudXBcIj09PXQubW9kZSxyPVt0LmdldElucHV0SWQoXCJlbWFpbFwiKSx0LmdldElucHV0SWQoXCJwYXNzd29yZFwiKV07cyYmci5wdXNoKHQuZ2V0SW5wdXRJZChcInVzZXJuYW1lXCIpKSxOZW8ubWFpbi5Eb21BY2Nlc3MuZ2V0QXR0cmlidXRlcyh7aWQ6cixhdHRyaWJ1dGVzOlwidmFsdWVcIn0pLnRoZW4ocj0+e2U9e3VzZXI6e2VtYWlsOnJbMF0udmFsdWUscGFzc3dvcmQ6clsxXS52YWx1ZX19LHMmJihlLnVzZXIudXNlcm5hbWU9clsyXS52YWx1ZSksbi5zYXZlVXNlcih7ZGF0YTpKU09OLnN0cmluZ2lmeShlKSxzbHVnOnM/XCJcIjpcIi9sb2dpblwifSkudGhlbihlPT57Y29uc3Qgcz1lLmpzb24uZXJyb3JzO3M/dC5lcnJvcnM9czpuLmxvZ2luKGUuanNvbi51c2VyKX0pfSl9fSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9