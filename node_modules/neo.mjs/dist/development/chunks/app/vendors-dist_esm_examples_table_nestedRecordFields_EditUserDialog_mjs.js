"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["vendors-dist_esm_examples_table_nestedRecordFields_EditUserDialog_mjs"],{

/***/ "./dist/esm/examples/table/nestedRecordFields/EditUserDialog.mjs":
/*!***********************************************************************!*\
  !*** ./dist/esm/examples/table/nestedRecordFields/EditUserDialog.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_form_field_CheckBox_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../src/form/field/CheckBox.mjs */ "./dist/esm/src/form/field/CheckBox.mjs");
/* harmony import */ var _src_form_field_Country_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../src/form/field/Country.mjs */ "./dist/esm/src/form/field/Country.mjs");
/* harmony import */ var _src_dialog_Base_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../src/dialog/Base.mjs */ "./dist/esm/src/dialog/Base.mjs");
/* harmony import */ var _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../src/form/field/Text.mjs */ "./dist/esm/src/form/field/Text.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _src_dialog_Base_mjs__WEBPACK_IMPORTED_MODULE_2__["default"]{static config={className:"Neo.examples.table.nestedRecordFields.EditUserDialog",closeAction:"hide",containerConfig:{style:{padding:"1em"}},modal:!0,record_:null,title:"Edit User",itemDefaults:{flex:"none",labelWidth:110},items:[{module:_src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_3__["default"],labelText:"Firstname",listeners:{change:"up.onFirstnameFieldChange"},reference:"firstname-field"},{module:_src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_3__["default"],labelText:"Lastname",listeners:{change:"up.onLastnameFieldChange"},reference:"lastname-field"},{module:_src_form_field_Country_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],bind:{store:"stores.countries"},labelText:"Country",listeners:{change:"up.onCountryFieldChange"},reference:"country-field",valueField:"code"},{module:_src_form_field_CheckBox_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],labelText:"Selected",listeners:{change:"up.onSelectedFieldChange"},reference:"selected-field",style:{marginTop:"1em"}}]};async afterSetRecord(e,t){if(e){let e=this,{record:t}=e;await e.timeout(20),e.getItem("country-field").value=t.country,e.getItem("firstname-field").value=t["user.firstname"],e.getItem("lastname-field").value=t["user.lastname"],e.getItem("selected-field").checked=t["annotations.selected"]}}onCountryFieldChange(e){this.record.set({country:e.value.code})}onFirstnameFieldChange(e){this.record.set({user:{firstname:e.value}})}onLastnameFieldChange(e){this.record.set({user:{lastname:e.value}})}onSelectedFieldChange(e){let t=this,l=t.getStateProvider().getStore("mainStore");!1===e.value?t.record.set({annotations:{selected:!1}}):l.items.forEach(l=>{l.set({annotations:{selected:l===t.record&&e.value}})})}}));

/***/ }),

/***/ "./dist/esm/src/container/Panel.mjs":
/*!******************************************!*\
  !*** ./dist/esm/src/container/Panel.mjs ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./dist/esm/src/container/Base.mjs");
/* harmony import */ var _toolbar_Base_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../toolbar/Base.mjs */ "./dist/esm/src/toolbar/Base.mjs");
class a extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.container.Panel",ntype:"panel",baseCls:["neo-panel","neo-container"],containerConfig:null,headerDefaults:null,headers:null,_layout:{ntype:"vbox",align:"stretch"},verticalHeadersFirst:!1};construct(e){super.construct(e);let t=this;t.hasHeaders()&&!0===t.verticalHeadersFirst&&(t.layout={ntype:"hbox",align:"stretch"})}static createHeaderConfig(e){if("NeoInstance"===Neo.typeOf(e))return e;let t={flex:"0 1 auto"};return e.module||e.ntype||(t.cls=["neo-panel-header-toolbar","neo-toolbar"],t.ntype="toolbar"),e.text&&(t.items=[{ntype:"label",cls:["neo-panel-header-text","neo-label"],text:e.text}],delete e.text),Array.isArray(e.items)&&e.items.forEach(e=>{"label"===e.ntype&&(e.cls=["neo-panel-header-text","neo-label"])}),{...t,...e}}createItems(){let e=this,t=e.containerConfig;if(e.hasHeaders()){let r,s=!1===e.verticalHeadersFirst,l=e.headers||[],n=l.filter(e=>e.dock===(s?"bottom":"right")),o=l.filter(e=>e.dock===(s?"left":"top")),i=l.filter(e=>e.dock===(s?"right":"bottom")),c=l.filter(e=>e.dock===(s?"top":"left")),h=n.length>0||c.length>0,f=o.length>0||i.length>0,{items:u}=e,p=[],d=[];c.forEach(e=>{d.push(a.createHeaderConfig(e))}),f&&(s&&h||!s&&h)?(o.forEach(e=>{p.push(a.createHeaderConfig(e))}),r={ntype:"container",flex:1,items:u,itemDefaults:e.itemDefaults,...t},p.push({...e.headerDefaults,...r}),i.forEach(e=>{p.push(a.createHeaderConfig(e))}),d.push({ntype:"container",items:p,layout:{ntype:s?"hbox":"vbox",align:"stretch"}})):(r={ntype:"container",flex:1,items:u,itemDefaults:e.itemDefaults,...t},d.push({...e.headerDefaults,...r})),n.forEach(e=>{d.push(a.createHeaderConfig(e))}),e.items=d,e.itemDefaults=null,super.createItems()}else t&&e.set(t),super.createItems()}hasHeaders(){return Array.isArray(this.headers)&&this.headers.length>0}}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(a));

/***/ }),

/***/ "./dist/esm/src/dialog/Base.mjs":
/*!**************************************!*\
  !*** ./dist/esm/src/dialog/Base.mjs ***!
  \**************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _container_Panel_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../container/Panel.mjs */ "./dist/esm/src/container/Panel.mjs");
/* harmony import */ var _header_Toolbar_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./header/Toolbar.mjs */ "./dist/esm/src/dialog/header/Toolbar.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
let o;/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _container_Panel_mjs__WEBPACK_IMPORTED_MODULE_1__["default"]{static closeActions=["close","hide"];static config={className:"Neo.dialog.Base",ntype:"dialog",animateOnDragEnd:!1,animateTargetId_:null,autoMount:!0,autoRender:!0,autoShow:!0,baseCls:["neo-dialog","neo-panel","neo-container"],boundaryContainerId:"document.body",closeAction:"close",draggable_:!0,dragListenersAdded:!1,dragZone:null,dragZoneConfig:null,floating:!0,headerConfig:null,headerToolbar:null,isDragging:!1,keys:{Escape:"onKeyDownEscape"},maximizeCls:"far fa-window-maximize",maximized_:!1,minimizeCls:"far fa-window-minimize",modal_:!1,resizable_:!0,resizablePluginConfig:null,title_:null,trapFocus_:!1};get animateTarget(){return Neo.getComponent(this.animateTargetId)}construct(e){super.construct(e),this.createHeader()}afterSetAnimateTargetId(e,t){this.autoMount=!e,this.autoRender=!e}afterSetAppName(e,t){let a=this,i=a.getPlugin("resizable");a.dragZone&&(a.dragZone.appName=e),i&&(i.appName=e),super.afterSetAppName(e,t)}afterSetDraggable(t,a){let i,d=this;void 0!==a&&d.headerToolbar&&(i=d.headerToolbar.cls,_util_Array_mjs__WEBPACK_IMPORTED_MODULE_0__["default"][t?"add":"remove"](i,"neo-draggable"),d.headerToolbar.cls=i),t&&__webpack_require__.e(/*! import() */ "dist_esm_src_draggable_DragZone_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ../draggable/DragZone.mjs */ "./dist/esm/src/draggable/DragZone.mjs")).then(e=>{if(o=e.default,!d.dragListenersAdded){const e=[{"drag:end":d.onDragEnd,scope:d,delegate:".neo-header-toolbar"},{"drag:start":d.onDragStart,scope:d,delegate:".neo-header-toolbar"}];d.dragZoneConfig?.alwaysFireDragMove&&e.push({"drag:move":d.onDragMove,scope:d,delegate:".neo-header-toolbar"}),d.domListeners=[...d.domListeners,...e],d.dragListenersAdded=!0}})}async afterSetMaximized(t,a){let i=this,o=void 0===a,{cls:d}=i.vdom;!o&&_util_Array_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].add(d,"animated-hiding-showing"),_util_Array_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].toggle(d,"neo-maximized",t),i.update(),o||(await i.timeout(250),_util_Array_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].remove(d,"animated-hiding-showing"),i.update())}afterSetModal(t,a){let i=this;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].toggle(i.vdom.cls,"neo-modal",t),i.update(),i.rendered&&i.syncModalMask()}afterSetMounted(e,t){super.afterSetMounted(e,t),void 0!==t&&this.syncTrapFocus()}afterSetResizable(e,t){e&&!this.getPlugin("resizable")&&__webpack_require__.e(/*! import() */ "vendors-dist_esm_src_plugin_Resizable_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ../plugin/Resizable.mjs */ "./dist/esm/src/plugin/Resizable.mjs")).then(e=>{let t=this,{appName:a}=t,i=t.plugins||[];i.push({module:e.default,appName:a,delegationCls:"neo-dialog",...t.resizablePluginConfig}),t.plugins=i})}afterSetTitle(e,t){let{headerToolbar:a}=this;a&&(a.title=e)}afterSetTrapFocus(e,t){this.syncTrapFocus()}afterSetWindowId(e,t){let a=this,i=a.getPlugin("resizable");a.dragZone&&(a.dragZone.windowId=e),i&&(i.windowId=e),super.afterSetWindowId(e,t)}async animateHide(){let e,t,a=this,{animateTarget:i,id:o}=a;a.windowId=i.windowId,a.appName=e=i.appName,t=await a.getDomRect([o,a.animateTargetId]),await Neo.applyDeltas(e,{id:o,style:{height:`${t[0].height}px`,left:`${t[0].left}px`,top:`${t[0].top}px`,transform:"none",width:`${t[0].width}px`}}),await a.timeout(30),await Neo.applyDeltas(e,{id:o,cls:{add:["animated-hiding-showing"]},style:{height:`${t[1].height}px`,left:`${t[1].left}px`,top:`${t[1].top}px`,width:`${t[1].width}px`}}),await a.timeout(250),a.closeOrHide(!1),"hide"===a.closeAction&&await Neo.applyDeltas(e,{id:o,action:"removeNode"})}async animateShow(){let e,t,a=this,{animateTarget:i,id:o,style:d}=a;if(a.windowId=i.windowId,a.appName=e=i.appName,t=await a.getDomRect(a.animateTargetId),d.left||d.top){let e={...d};delete d.left,delete d.top,a.style=d,a._style=d=e}await a.render(!0);let[n,r]=await a.waitForDomRect({id:[a.id,"document.body"]});await Neo.applyDeltas(e,{id:o,style:{height:`${t.height}px`,left:`${t.left}px`,top:`${t.top}px`,width:`${t.width}px`}}),await a.timeout(50),await Neo.applyDeltas(e,{id:o,cls:{add:["animated-hiding-showing"]},style:{height:d?.height||`${n.height}px`,left:d?.left||`${Math.round(r.width/2-n.width/2)}px`,top:d?.top||`${Math.round(r.height/2-n.height/2)}px`,width:d?.width||`${n.width}px`}}),await a.timeout(200),await Neo.applyDeltas(e,{id:o,cls:{remove:["animated-hiding-showing"]}}),a.show(!1)}beforeSetCloseAction(e,t){return this.beforeSetEnumValue(e,t,"closeAction")}close(e=!!this.animateTargetId){let t=this;t.revertFocus(),e?t.animateHide():(t.fire("close"),t.destroy(!0))}async closeOrHide(e=!!this.animateTargetId){let t=this;t[t.closeAction](e),await t.timeout(30),t.syncModalMask(t.id)}closeOrHideAction(e){this.closeOrHide()}createHeader(){let e=this,{appName:t,windowId:i}=e,o=["neo-header-toolbar","neo-toolbar"],d=e.headers||[];e.draggable&&o.push("neo-draggable"),e.headerToolbar=Neo.create({module:_header_Toolbar_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],appName:t,cls:o,dock:"top",flex:"none",id:e.getHeaderToolbarId(),listeners:{headerAction:e.executeHeaderAction,scope:e},title:e.title,windowId:i,...e.headerConfig}),d.unshift(e.headerToolbar),e.headers=d}executeHeaderAction(e){let t=this,a={close:t.closeOrHideAction,maximize:t.maximize};a[e.action]?.call(t,e),t.fire("headerAction",{dialog:t,...e})}getAnimateTargetId(){return this.id+"-animate"}getHeaderToolbarId(){return this.id+"-header-toolbar"}getProxyVdom(){return _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].clone(this.vdom)}async hide(e=!!this.animateTargetId){let t=this;e?t.animateHide():(t.unmount(),t.fire("hide")),await t.timeout(30),t.syncModalMask()}init(){super.init();let e=this;e.animateTargetId?e.autoShow&&e.show():e.timeout(100).then(()=>{e.syncModalMask()})}maximize(e){let t=this;e.component.iconCls=t.maximized?t.maximizeCls:t.minimizeCls,t.maximized=!t.maximized}onConstructed(){super.onConstructed();let e=this;e.headerToolbar=e.down({id:e.getHeaderToolbarId()})}onDragEnd(e){let t,a,i=this;i.maximized||i.getDomRect(i.dragZone.dragProxy.id).then(o=>{a=i.style,Object.assign(a,{height:`${o.height}px`,left:`${o.left}px`,opacity:1,top:`${o.top}px`,transform:"none",width:`${o.width}px`}),i.animateOnDragEnd||(t=a.transitionProperty||null,a.transitionProperty="none",i.timeout(50).then(()=>{a=i.style,a.transitionProperty=t,i.style=a})),i.style=a,i.dragZone.dragEnd(e),i.dragZone.boundaryContainerId=null,i.isDragging=!1,i.focus(i.id,!0)})}onDragMove(e){this.dragZone.dragMove(e)}onDragStart(e){let t=this,{appName:a,id:i,windowId:d}=t,n=t.style||{};t.maximized||(t.isDragging=!0,t.getPlugin("resizable")?.removeAllNodes(),t.dragZone?t.dragZone.boundaryContainerId=t.boundaryContainerId:(t.dragZone=Neo.create({module:o,appName:a,bodyCursorStyle:"move !important",boundaryContainerId:t.boundaryContainerId,dragElement:t.vdom,dragProxyConfig:{vdom:t.getProxyVdom()},owner:t,useProxyWrapper:!1,windowId:d,...t.dragZoneConfig}),t.fire("dragZoneCreated",{dragZone:t.dragZone,id:i})),t.dragZone.dragStart(e),n.opacity=.7,t.style=n)}onKeyDownEscape(){this.hidden=!0}async render(e){let t=this,{wrapperStyle:a}=t;t.animateTargetId||(a.left||(a.left="initial"),a.top||(a.top="initial"),t.wrapperStyle=a),await super.render(e)}show(e=!!this.animateTargetId){let t=this;e?t.animateShow():(t.mounted||t.render(!0),t.fire("show")),t.syncModalMask()}syncModalMask(e=this.id){let{modal:t,windowId:a}=this;Neo.main.DomAccess.syncModalMask({id:e,modal:t,windowId:a})}syncTrapFocus(){let e=this,{id:t,windowId:a}=e;e.mounted&&Neo.main.DomAccess.trapFocus({id:t,trap:e.trapFocus,windowId:a})}}));

/***/ }),

/***/ "./dist/esm/src/dialog/header/Toolbar.mjs":
/*!************************************************!*\
  !*** ./dist/esm/src/dialog/header/Toolbar.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _toolbar_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../toolbar/Base.mjs */ "./dist/esm/src/toolbar/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _toolbar_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.dialog.header.Toolbar",actionMap:{close:()=>({action:"close",iconCls:"far fa-window-close"}),maximize:()=>({action:"maximize",iconCls:"far fa-window-maximize"})},actions:["maximize","close"],title_:null};afterSetTitle(e,t){this.down({flag:"title-label"})?.set({hidden:!e,text:e})}createItems(){let e=this,t=e.fireAction.bind(e),i=e.items||[],{title:a}=e;i.push({ntype:"label",cls:["neo-panel-header-text","neo-label"],flag:"title-label",hidden:!a,text:a}),e.actions&&(i.push("->"),e.actions.forEach(a=>{"Object"!==Neo.typeOf(a)&&(a=e.actionMap[a]()),i.push({handler:t,...a})})),e.items=i,super.createItems()}fireAction(e){let{component:t}=e;this.fire("headerAction",{action:t.action,component:t,scope:this})}}));

/***/ }),

/***/ "./dist/esm/src/form/field/CheckBox.mjs":
/*!**********************************************!*\
  !*** ./dist/esm/src/form/field/CheckBox.mjs ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _manager_Component_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../manager/Component.mjs */ "./dist/esm/src/manager/Component.mjs");
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Base.mjs */ "./dist/esm/src/form/field/Base.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Base_mjs__WEBPACK_IMPORTED_MODULE_1__["default"]{static labelPositions=["left","top"];static config={className:"Neo.form.field.CheckBox",ntype:"checkboxfield",baseCls:["neo-checkboxfield"],checked_:!1,error_:null,errorPositionAbsolute_:!1,errorTextGroupRequired:e=>`Please check at least one item of the group: ${e.name}`,errorTextRequired:"Required",groupRequired_:!1,hideLabel_:!1,iconCls:["far","fa-square"],iconClsChecked:["fas","fa-check"],inputType_:"checkbox",labelBaseCls:["neo-checkbox-label"],labelCls_:[],labelId_:null,labelIdCls_:[],labelIdSeparator_:" · ",labelPosition_:"left",labelText_:"LabelText",labelWidth_:150,required_:!1,showErrorTexts_:!0,uncheckedValue:!1,useAlertState_:!1,value:!0,valueLabelText_:null,_vdom:{cn:[{tag:"label",cls:["neo-checkbox-label"],cn:[{tag:"span",cls:[]},{tag:"input",cls:["neo-checkbox-input"]},{tag:"i",cls:["neo-checkbox-icon"]},{tag:"span",cls:["neo-checkbox-value-label"]}]},{cls:["neo-error-wrapper"],removeDom:!0,cn:[{cls:["neo-error"]}]}]}};clean=!0;construct(e){super.construct(e);let t=this;t.addDomListeners({change:t.onInputValueChange,scope:t})}afterSetChecked(e,t){let l=this,a=l.vdom.cn[0],o=a.cn[2].cls,i=e?l.iconClsChecked:l.iconCls,n=e?l.iconCls:l.iconClsChecked;t&&(l.clean=!1),l.validate(),a.cn[1].checked=e,_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].removeAdd(o,n,i),l.update(),void 0!==t&&l.fireChangeEvent(l.getSubmitValue(),l.getOldSubmitValue())}afterSetError(e,t){this.updateError(e)}afterSetErrorPositionAbsolute(e,t){let l=this.vdom.cn[1].cn[0].cls;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"][e?"add":"remove"](l,"neo-absolute"),this.update()}afterSetGroupRequired(e,t){void 0!==t&&this.validate(!1)}afterSetHideLabel(e,t){this.vdom.cn[0].cn[0].removeDom=e,this.update()}afterSetId(e,t){let r=this,l=r.vdom.cn[0];l.cn[0].id=r.getLabelId(),l.cn[1].id=r.getInputElId(),l.cn[2].id=r.getIconElId(),l.cn[3].id=r.getValueLabelId(),super.afterSetId(e,t)}afterSetInputType(e,t){this.changeInputElKey("type",e)}afterSetLabelCls(e,t){let l=this.vdom.cn[0].cn[0].cls;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].remove(l,t),_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].add(l,e),this.update()}afterSetLabelPosition(e,t){let{cls:l}=this;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].remove(l,"neo-label-"+t),_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].add(l,"neo-label-"+e),this.cls=l}afterSetLabelText(e,t){let r=this;r.labelId&&(e=`<span class="${r.labelIdCls.join(",")}">${r.labelId}</span>${r.labelIdSeparator+e}`),r.vdom.cn[0].cn[0].html=e,r.update()}afterSetLabelWidth(e,t){let r=this;r.hideLabel||(r.vdom.cn[0].cn[0].width=e,r.update())}afterSetRequired(e,t){void 0!==t&&this.validate(!1)}afterSetShowErrorTexts(e,t){void 0!==t&&this.validate(!1)}afterSetUseAlertState(e,t){let{cls:l}=this;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].toggle(l,"neo-use-alert-state",e),this.cls=l}afterSetValue(e,t){this.changeInputElKey("value",e)}afterSetValueLabelText(e,t){let r=this.vdom.cn[0].cn[3],l=!!e;l&&(r.html=e),r.removeDom=!l,this.update()}beforeSetGroupRequired(e,t){return e&&this.required?(console.warn("Do not use groupRequired & required at the same time. Switching to required.",this),!1):e}beforeSetLabelCls(e,t){return _util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].union(e||[],this.labelBaseCls)}beforeSetLabelPosition(e,t){return this.beforeSetEnumValue(e,t,"labelPosition")}beforeSetRenderName(e,t){return!0}getGroupValue(){let t,l=this.getClosestForm(),a=this.getPath(),o=[];return a&&(t=_manager_Component_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].find({path:a}),t.forEach(e=>{e.checked&&e.getClosestForm()===l&&_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].add(o,e.value)})),o}getIconElId(){return`${this.id}__icon`}getInputEl(){return this.vdom.cn[0].cn[1]}getInputElId(){return`${this.id}__input`}getLabelId(){return`${this.id}__label`}getOldSubmitValue(){let e=this;return e.checked?e.uncheckedValue:e.value}getOldValue(){return this.getOldSubmitValue()}getSubmitValue(){let e=this;return e.checked?e.value:e.uncheckedValue}getValueLabelId(){return`${this.id}__value-label`}isEmptyAndRequired(){return!this.validate(!1)}isValid(){return this.validate(!0),!this.error&&super.isValid()}onInputValueChange(e){let t=this,r=e.target.checked;t.vnode.childNodes[0].childNodes[t.hideLabel?0:1].attributes.checked=`${r}`,t.checked=r,t.fireUserChangeEvent(t.getSubmitValue(),t.getOldSubmitValue())}updateError(e,t=!1){let l,a,o=this,{cls:i}=o,n=e&&o.showErrorTexts;o.clean&&!o.mounted||(o._error=e,_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"][e?"add":"remove"](i,"neo-invalid"),o.cls=i,a=o.vdom.cn[1],l=a.cn[0],n?l.html=e:delete l.html,a.removeDom=!n,!t&&o.update())}validate(t=!0){let r,l,a=this,{name:o}=a,i=!0;if(t||(a.clean=!1),a.groupRequired){for(r of(i=!1,l=_manager_Component_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].find({ntype:a.ntype,name:o}),l))if(r.checked){i=!0;break}for(r of l)r.id!==a.id&&(a.clean||(r.clean=!1),r[a.clean?"_error":"error"]=i?null:r.errorTextGroupRequired({name:o}));i||(a._error=a.errorTextGroupRequired({name:o}))}else a.required&&!a.checked&&(a._error=a.errorTextRequired,i=!1);return i&&(a._error=null),!a.clean&&a.updateError(a._error,t),!!i&&super.validate(t)}}));

/***/ }),

/***/ "./dist/esm/src/form/field/ComboBox.mjs":
/*!**********************************************!*\
  !*** ./dist/esm/src/form/field/ComboBox.mjs ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _util_Function_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Function.mjs */ "./dist/esm/src/util/Function.mjs");
/* harmony import */ var _util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/ClassSystem.mjs */ "./dist/esm/src/util/ClassSystem.mjs");
/* harmony import */ var _manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../manager/Component.mjs */ "./dist/esm/src/manager/Component.mjs");
/* harmony import */ var _list_Base_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../list/Base.mjs */ "./dist/esm/src/list/Base.mjs");
/* harmony import */ var _Picker_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Picker.mjs */ "./dist/esm/src/form/field/Picker.mjs");
/* harmony import */ var _data_Store_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../data/Store.mjs */ "./dist/esm/src/data/Store.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Picker_mjs__WEBPACK_IMPORTED_MODULE_4__["default"]{static triggerActions=["all","filtered"];static config={className:"Neo.form.field.ComboBox",ntype:"combobox",activeRecordId:null,baseCls:["neo-combobox","neo-pickerfield","neo-textfield"],displayField:"name",filterDelay:50,filterOperator_:"like",forceSelection:!0,keys:{Down:"onKeyDownDown",Escape:"onKeyDownEscape"},lastManualInput:null,list:null,listConfig_:null,pickerHeight:null,role:"combobox",store_:null,triggerAction_:"all",typeAhead_:!0,useFilter_:!0,valueField:"id"};preStoreLoadValue=null;programmaticValueChange=!1;construct(t){super.construct(t);let i=this;i.filterOnInput=(0,_util_Function_mjs__WEBPACK_IMPORTED_MODULE_0__.buffer)(i.filterOnInput,i,i.filterDelay),i.typeAhead&&i.updateTypeAhead()}afterSetInputValue(e,t){super.afterSetInputValue(e,t),this.updateTypeAheadValue(e)}afterSetStore(e,t){let i,l,a=this;e&&(a.useFilter&&(i=e.filters||[],i.push({includeEmptyValues:!0,operator:a.filterOperator,property:a.displayField,value:e?.[a.displayField]||null}),e.filters=i),a.list&&(a.list.store=e),e.on("load",a.onStoreLoad,a),a.value&&(l=a.value,a._value=null,a.value=l))}afterSetTypeAhead(e,t){this.rendered&&this.updateTypeAhead()}afterSetValue(e,t){let i=this;if(i.programmaticValueChange=!0,super.afterSetValue(e,t),i.programmaticValueChange=!1,i._picker?.isVisible){let l=i.list?.selectionModel;e?(t&&l?.deselect(t),l?.select(e)):l.deselectAll()}}beforeSetListConfig(e,t){return e&&this.parseItemConfigs(e),e}beforeSetStore(e,i){let{displayField:l,valueField:a}=this;return!e&&this.bind?.store?null:(i?.destroy(),Array.isArray(e)&&(e={data:e.map((e,t)=>("string"==typeof e&&(e={[l]:e,[a]:e}),e))}),"Object"!==Neo.typeOf(e)||e.model||e.module||e.ntype||(e.model={fields:[{name:l,type:"String"},{name:a,type:"String"}]}),_util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].beforeSetInstance(e,_data_Store_mjs__WEBPACK_IMPORTED_MODULE_5__["default"]))}beforeSetTriggerAction(e,t){return this.beforeSetEnumValue(e,t,"triggerAction")}beforeSetValue(e,t){let i,l=this,{displayField:a,store:o}=l;return Neo.isRecord(e)?e:null===e?null:o?o.getCount()>0?(i=o.isFiltered()?o.allItems.get(e):o.get(e),i||(o.find(a,e)[0]||null)):(l.preStoreLoadValue=e,null):e}createPickerComponent(){const e=this;return e.list=Neo.create({module:_list_Base_mjs__WEBPACK_IMPORTED_MODULE_3__["default"],appName:e.appName,displayField:e.displayField,itemRole:"option",itemsFocusable:!1,keepFocusIndex:!0,navigator:{eventSource:e.getInputElId()},parentId:e.id,role:"listbox",selectionModel:{stayInList:!1},store:e.store,windowId:e.windowId,...e.listConfig}),e.getInputEl()["aria-controls"]=e.list.id,e.list.addDomListeners({neonavigate:{fn:e.onListItemNavigate,scope:e}}),e.list.selectionModel.on({noChange:e.onListItemSelectionNoChange,selectionChange:e.onListItemSelectionChange,scope:e}),e.list}doFilter(e){let t=this,{picker:i,store:l}=t,a=t.value,o=l.getFilter(t.displayField);if(o&&(o.value=e),l.getCount()){t.showPicker();let{list:e}=t,{selectionModel:i}=e,o=l.indexOf(a);a&&(i.suspendEvents=!0,i.select(a),i.suspendEvents=!1),e._focusIndex=-1,e.focusIndex=o>-1?o:0}else i?.hide()}filterOnInput(e){e?this.doFilter(e):this.picker?.hide()}async fireChangeEvent(e,t){let l=this,a=Neo.form?.Container,o={component:l,oldValue:t,value:e};await l.timeout(30),l.fire("change",o),l.suspendEvents||_manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getParents(l).forEach(e=>{a&&e instanceof a&&e.fire("fieldChange",o)})}getInputHintEl(){return _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].find(this.vdom,this.getInputHintId())?.vdom}getInputHintId(){return this.id+"__input-hint"}getRecord(){let{list:e}=this,t=e.selectionModel.getSelection()[0];return t&&this.store.get(e.getItemRecordId(t))||null}getSubmitValue(){let e=this;return e.value?.[e.valueField]||e.emptyValue}onConstructed(){const e=this.getInputEl();e["aria-activedescendant"]="",e["aria-expanded"]=!1,e["aria-haspopup"]="listbox",super.onConstructed(...arguments)}onFocusLeave(e){let t=this;t.forceSelection&&!t.value&&(t.programmaticValueChange=!0,t.value=t.store.get(t.activeRecordId),t.programmaticValueChange=!1),t.updateTypeAheadValue(null),super.onFocusLeave(e)}onKeyDownDown(e){let t=this;t.picker&&!t.picker?.hidden||t.onPickerTriggerClick()}async onListItemSelectionChange({selection:e}){if(e?.length){let t=this,i=e[0],l="string"==typeof i?t.store.get(t.list.getItemRecordId(i)):i;t.hintRecordId=null,t.updateTypeAheadValue(null,!0),await t.hidePicker(),t.preventFiltering=!0,t.value=l,t.preventFiltering=!1,t.fire("select",{value:l})}}onListItemSelectionNoChange(){this.hidePicker()}onListItemNavigate(e){let{activeIndex:t}=e;if(t>=0){let i=this,{store:l}=i;i.activeRecord=e.record||l.getAt(t),i.activeRecordId=i.activeRecord[l.getKeyProperty()],i.typeAhead?i.updateTypeAheadValue(i.lastManualInput):i.update()}}onPickerHiddenChange({value:e}){const t=this.getInputEl();super.onPickerHiddenChange(...arguments),e&&(t["aria-activedescendant"]=""),t["aria-expanded"]=!e,this.update()}onStoreLoad(e){let t=this,i=t.preStoreLoadValue;null!==i&&(t._value=void 0,t.value=i)}selectFirstListItem(){this.selectListItem(0)}selectLastListItem(){this.selectListItem(this.store.getCount()-1)}selectListItem(e){let t=this;Neo.isNumber(e)||(e=t.activeRecordId?t.store.indexOfKey(t.activeRecordId):0),t.list.selectItem(e)}togglePicker(){let e=this,{picker:t}=e;!1===t?.hidden?t.hidden=!0:e.disabled||e.readOnly||e.doFilter(null)}updateInputValueFromValue(e){let t=null;Neo.isRecord(e)&&(t=e[this.displayField]),this.inputValue=t}updateTypeAhead(e=!1){let t=this,i=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].find(t.vdom,{flag:"neo-real-input"});t.typeAhead?i.parentNode.cn[i.index]={tag:"span",cls:["neo-input-field-wrapper"],cn:[{tag:"input",autocomplete:"no",autocorrect:"off",cls:["neo-textfield-input","neo-typeahead-input"],disabled:!0,id:t.getInputHintId(),spellcheck:"false"},i.vdom]}:_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].replaceVdomChild(t.vdom,i.parentNode.id,i.vdom),!e&&t.update()}updateTypeAheadValue(e=this.lastManualInput,t=!1){let i=this,l=!1,a=i.getInputHintEl(),{displayField:o,store:n}=i;if(i.typeAhead){if(!i.value&&e?.length>0){const t=e.toLocaleLowerCase();l=n.items.find(e=>e[o]?.toLowerCase?.()?.startsWith(t)),l&&a&&(a.value=e+l[o].substr(e.length),i.activeRecord=l,i.activeRecordId=l[n.getKeyProperty()])}!l&&a&&(a.value=i.activeRecord=i.activeRecordId=null),!t&&i.update()}}updateValueFromInputValue(e){let t=this;t.lastManualInput=e,t.programmaticValueChange||(t._value=null,t.list?.selectionModel.deselectAll(),t.filterOnInput(e))}}));

/***/ }),

/***/ "./dist/esm/src/form/field/Country.mjs":
/*!*********************************************!*\
  !*** ./dist/esm/src/form/field/Country.mjs ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ComboBox_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ComboBox.mjs */ "./dist/esm/src/form/field/ComboBox.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _ComboBox_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.form.field.Country",ntype:"countryfield",zipCodeField_:null};afterSetZipCodeField(e,o){e&&e instanceof Neo.form.field.Base&&(e.countryField=this)}beforeSetZipCodeField(e,o){let t=this;return Neo.isString(e)?t.up().getReference(e):e}}));

/***/ }),

/***/ "./dist/esm/src/form/field/Picker.mjs":
/*!********************************************!*\
  !*** ./dist/esm/src/form/field/Picker.mjs ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../container/Base.mjs */ "./dist/esm/src/container/Base.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _trigger_Picker_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./trigger/Picker.mjs */ "./dist/esm/src/form/field/trigger/Picker.mjs");
/* harmony import */ var _Text_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Text.mjs */ "./dist/esm/src/form/field/Text.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Text_mjs__WEBPACK_IMPORTED_MODULE_3__["default"]{static config={className:"Neo.form.field.Picker",ntype:"pickerfield",baseCls:["neo-pickerfield","neo-textfield"],clientRects:null,keys:{Enter:"onKeyDownEnter",Escape:"onKeyDownEscape"},picker:null,pickerConfig:null,pickerHeight:100,pickerIsMounted_:!1,pickerMaxHeight:200,pickerWidth:null,showPickerOnFocus:!1,triggers:[{module:_trigger_Picker_mjs__WEBPACK_IMPORTED_MODULE_2__["default"]}]};construct(e){super.construct(e);let i=this;i.addDomListeners({click:i.onInputClick,scope:i})}afterSetMounted(e,i){!1===e&&i&&this.pickerIsMounted&&this.picker.hide(),super.afterSetMounted(e,i)}afterSetTheme(e,i){super.afterSetTheme(e,i),this.picker&&(this.picker.theme=e)}createPicker(){const i=this,{pickerWidth:t}=i,r=i.createPickerComponent();return i.picker=Neo.create({module:_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],parentId:"document.body",floating:!0,align:{edgeAlign:t?"t0-b0":"t-b",matchSize:!t,axisLock:!0,target:i.getInputWrapperId()},appName:i.appName,cls:["neo-picker-container","neo-container"],height:i.pickerHeight,hidden:!0,id:i.getPickerId(),items:r?[r]:[],maxHeight:i.pickerMaxHeight,theme:i.theme,width:t,windowId:i.windowId,...i.pickerConfig,onFocusLeave:e=>{let t,r=!1;for(t of e.oldPath)if(t.id===i.id){r=!0;break}r||(i.hidePicker(),super.onFocusLeave(e))}}),i.picker.on("hiddenChange",i.onPickerHiddenChange,i),i.picker}createPickerComponent(){return null}destroy(...e){let{picker:i}=this;!1===i?.hidden&&i.unmount(),i?.destroy(),super.destroy(...e)}getPicker(){return this.picker||this.createPicker()}getPickerId(){return`${this.id}__picker`}async hidePicker(){this.picker&&(this.picker.hidden=!0)}onFocusEnter(e){super.onFocusEnter(e);this.showPickerOnFocus&&this.showPicker()}onFocusLeave(e){let i,t=this,r=!1;for(i of e.oldPath)if(i.id===t.getPickerId()){r=!0;break}r||(t.hidePicker(),super.onFocusLeave(e))}onInputClick(e){!this.editable&&this.togglePicker()}onKeyDownEnter(e,i,t){!this.pickerIsMounted&&this.showPicker(i,t)}onKeyDownEscape(e){if(this.pickerIsMounted)return this.hidePicker(),e.cancelBubble=!0,!1}onPickerHiddenChange(e){this.pickerIsMounted=!e.value}onPickerTriggerClick(){this.togglePicker()}showPicker(){this.getPicker().hidden=!1}togglePicker(){let e=this.getPicker();e.hidden=!e.hidden}}));

/***/ }),

/***/ "./dist/esm/src/form/field/trigger/Picker.mjs":
/*!****************************************************!*\
  !*** ./dist/esm/src/form/field/trigger/Picker.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./dist/esm/src/form/field/trigger/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.form.field.trigger.Picker",ntype:"trigger-picker",iconCls:"fa fa-caret-down",type:"picker"};onTriggerClick(e){this.field.onPickerTriggerClick()}}));

/***/ }),

/***/ "./dist/esm/src/list/Base.mjs":
/*!************************************!*\
  !*** ./dist/esm/src/list/Base.mjs ***!
  \************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/ClassSystem.mjs */ "./dist/esm/src/util/ClassSystem.mjs");
/* harmony import */ var _component_Base_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony import */ var _selection_ListModel_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../selection/ListModel.mjs */ "./dist/esm/src/selection/ListModel.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _data_Store_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../data/Store.mjs */ "./dist/esm/src/data/Store.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _component_Base_mjs__WEBPACK_IMPORTED_MODULE_1__["default"]{static config={className:"Neo.list.Base",ntype:"list",animate_:!1,autoDestroyStore:!0,baseCls:["neo-list"],disabledField:"disabled",disableSelection_:!1,displayField:"name",draggable_:!1,dragZone:null,dragZoneConfig:null,focusIndex_:null,headerlessSelectedIndex_:null,highlightFilterValue:!0,itemCls:"neo-list-item",itemHeight_:null,itemTagName:"li",itemWidth_:null,itemsFocusable:!0,keepFocusIndex:!1,keys:{},pluginAnimateConfig:null,selectedIndex_:null,selectionModel_:null,selectOnFocus:!1,silentSelect:!1,store_:null,useCheckBoxes_:!1,useHeaders_:!1,useWrapperNode_:!1,_vdom:{tag:"ul",cn:[]}};itemRole=null;navigator={};scrollIntoViewOnFocus=!0;construct(e){super.construct(e);let t=this;t.useHeaders&&(t.scrollIntoViewOnFocus=!1),t.addDomListeners({click:t.onClick,scope:t})}afterSetAnimate(e,t){e&&!this.getPlugin("list-animate")&&__webpack_require__.e(/*! import() */ "dist_esm_src_list_plugin_Animate_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ./plugin/Animate.mjs */ "./dist/esm/src/list/plugin/Animate.mjs")).then(e=>{let t=this,s=t.plugins||[];s.push({module:e.default,...t.pluginAnimateConfig}),t.plugins=s})}afterSetDisableSelection(e,t){e&&this.rendered&&this.selectionModel?.deselectAll()}afterSetDraggable(e,t){let s=this;e&&!s.dragZone&&__webpack_require__.e(/*! import() */ "dist_esm_src_draggable_list_DragZone_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ../draggable/list/DragZone.mjs */ "./dist/esm/src/draggable/list/DragZone.mjs")).then(e=>{s.dragZone=Neo.create({module:e.default,appName:s.appName,owner:s,windowId:s.windowId,...s.dragZoneConfig})})}afterSetFocusIndex(e,t){null!==e&&this.updateItemFocus(e)}afterSetHeaderlessSelectedIndex(e,t){let s=this;Neo.isNumber(e)?s.selectedIndex=s.store.getCount()?s.getSelectedIndex(e):null:Neo.isNumber(t)&&(s.selectedIndex=null)}afterSetMounted(e,t){let s=this;!e&&s.hasNavigator&&(Neo.main.addon.Navigator.unsubscribe(s.navigator),s.hasNavigator=!1,s.selectedIndex=null),e&&(s.hasNavigator||(s.navigator={appName:s.appName,autoClick:s.selectOnFocus,id:s.id,keepFocusIndex:s.keepFocusIndex,selector:`.${s.itemCls}:not(.neo-disabled,.neo-list-header)`,windowId:s.windowId,...s.navigator},s.hasNavigator=!0),Neo.main.addon.Navigator.subscribe(s.navigator)),super.afterSetMounted(e,t)}afterSetSelectedIndex(e,t){let s=this,{selectionModel:o}=s;Neo.isNumber(e)?(o?.selectAt(e),s.headerlessSelectedIndex=s.getHeaderlessIndex(e)):Neo.isNumber(t)&&(o.deselectAll(),s.headerlessSelectedIndex=null)}afterSetSelectionModel(e,t){this.rendered&&e.register(this)}afterSetStore(e,t){e?.on({filter:"onStoreFilter",load:"onStoreLoad",recordChange:"onStoreRecordChange",sort:"onStoreSort",scope:this}),e?.getCount()>0&&this.onStoreLoad()}afterSetUseCheckBoxes(e,t){let{cls:s}=this;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].toggle(s,"neo-use-checkicons",!!e),this.cls=s}afterSetUseHeaders(e,t){if(e){let e=this;e.vdom.tag="dl",e.itemTagName="dd"}}afterSetUseWrapperNode(e,t){let s=this,{cls:r,wrapperCls:i}=s;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"][e?"add":"remove"](r,"neo-use-wrapper-node"),_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"][e?"add":"remove"](i,"neo-list-wrapper"),s.wrapperCls=i,s.cls=r}afterSetWindowId(e,t){super.afterSetWindowId(e,t);let{navigator:s}=this;s&&(s.windowId=e)}beforeSetSelectionModel(t,o){return o?.destroy(),_util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].beforeSetInstance(t,_selection_ListModel_mjs__WEBPACK_IMPORTED_MODULE_2__["default"])}beforeSetStore(t,s){return s?.destroy(),_util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].beforeSetInstance(t,_data_Store_mjs__WEBPACK_IMPORTED_MODULE_4__["default"])}createItem(e,t){let s,r,i=this,l=[i.itemCls],n=null!==i.itemHeight,a=null!==i.itemWidth,d=i.useHeaders&&e.isHeader,c=i.createItemContent(e,t),u=i.getItemId(e[i.getKeyProperty()]),{selectionModel:m}=i,h=!i.disableSelection&&m?.isSelected(u);switch(d&&l.push("neo-list-header"),h&&l.push(m.selectedCls),e.cls&&_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].add(l,e.cls),e[i.disabledField]&&l.push("neo-disabled"),s={id:u,tag:d?"dt":i.itemTagName,"aria-selected":h,cls:l},i.itemsFocusable&&(s.tabIndex=-1),(e.hidden||c.removeDom)&&(s.removeDom=!0),i.itemRole&&(s.role=i.itemRole),Neo.typeOf(c)){case null:return null;case"Array":s.cn=c,r=!0,c.forEach(e=>{e.removeDom||(r=!1)}),r&&(s.removeDom=!0);break;case"Object":c.cls&&(_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].add(s.cls,c.cls),delete c.cls),Object.assign(s,c);break;case"Number":case"String":s.html=c}return(n||a)&&(s.style=s.style||{},n&&!s.hasOwnProperty("height")&&(s.style.height=`${i.itemHeight}px`),a&&!s.hasOwnProperty("width")&&(s.style.width=`${i.itemWidth}px`)),s}createItemContent(e,t){let s,o=this,r=e[o.displayField];return o.highlightFilterValue&&(s=o.store.getFilter(o.displayField),s&&null!==s.value&&""!==s.value&&(r=r.replace(new RegExp(s.value,"gi"),function(e){return'<span class="neo-highlight-search">'+e+"</span>"}))),r}createItems(e=!1){let t,s=this,{headerlessSelectedIndex:o}=s,r=s.getVdomRoot();Neo.isNumber(o)&&!Neo.isNumber(s.selectedIndex)&&s.afterSetHeaderlessSelectedIndex(o,null),s.animate&&!s.getPlugin("list-animate")||(r.cn=[],s.store.items.forEach((e,o)=>{t=s.createItem(e,o),t&&r.cn.push(t)}),!e&&s.promiseUpdate().then(()=>{s.fire("createItems")}))}destroy(...e){let t=this;t.selectionModel?.destroy(),t.autoDestroyStore&&t.store?.destroy(),super.destroy(...e)}focus(e=this.id){this.mounted&&Neo.main.addon.Navigator.navigateTo([e,this.navigator])}getSelectedIndex(e){let t=0,s=0,o=this.store.items,r=e;if(o.length<1)return null;for(;s<=r;s++)o[s].isHeader&&(t++,r++);return e+t}getHeaderlessIndex(e){let t=0,s=0,o=this.store.items;for(;s<e;s++)o[s].isHeader||t++;return t}getItemId(e){return`${this.id}__${e.isRecord?e[this.getKeyProperty()]:e}`}getItemRecordId(e){let t=e.split("__")[1],{model:s}=this.store,o=s?.getField(this.getKeyProperty()),r=o?.type?.toLowerCase();return"int"!==r&&"integer"!==r||(t=parseInt(t)),t}getKeyProperty(){return this.store.keyProperty||this.store.model.keyProperty}onClick(e){let t,s=this;if(e.path[0].id===s.id)s.onContainerClick(e);else for(t of e.path)if(t.cls.includes(s.itemCls)){s.onItemClick(t,e);break}}onConstructed(){super.onConstructed(),this.selectionModel?.register(this)}onContainerClick(e){this.fire("containerClick",e)}onItemClick(e,t){let s=this,o=s.store.get(s.getItemRecordId(e.id));t.record=o,s.fire("itemClick",{record:o})}onStoreFilter(){this.createItems()}onStoreLoad(){let e=this;!e.mounted&&e.rendering?e.on("mounted",()=>{e.createItems()},e,{once:!0}):e.createItems()}onStoreRecordChange(e){let t=this,{index:s}=e;s>-1&&(t.vdom.cn[s]=t.createItem(e.record,s),t.update())}onStoreSort(e){this.createItems()}selectItem(e){let t=this;t.disableSelection||(Neo.isNumber(e)?t.selectionModel?.selectAt(e):e&&t.selectionModel?.selectAt(t.store.indexOf(e)))}async updateItemFocus(e){let t=this,{navigateTo:s}=Neo.main.addon.Navigator;t.mounted?Neo.isNumber(e)?s([t.getHeaderlessIndex(e),t.navigator]):e&&s([t.getItemId(e[t.getKeyProperty()]),t.navigator]):t.on("mounted",()=>{e===t.focusIndex&&t.updateItemFocus(t.focusIndex)},t,{once:!0})}}));

/***/ }),

/***/ "./dist/esm/src/selection/ListModel.mjs":
/*!**********************************************!*\
  !*** ./dist/esm/src/selection/ListModel.mjs ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Model_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Model.mjs */ "./dist/esm/src/selection/Model.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Model_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.selection.ListModel",ntype:"selection-listmodel"};onKeyDownEscape(e){}onKeyDownDown(e){}onKeyDownEnter(e){}onKeyDownLeft(e){}onKeyDownRight(e){}onKeyDownUp(e){}onListClick({currentTarget:e}){let n,{view:o}=this;o.disableSelection||(n=o.store.get(o.getItemRecordId(e)),n&&this.select(n))}onListNavigate(e){let{view:n}=this,{store:o}=n;e.record=o.getAt(Math.min(e.activeIndex,o.getCount())),n._focusIndex=o.indexOf(e.record),n.fire("itemNavigate",e)}register(e){super.register(e);let n=this,{id:o,view:t}=n;t.addDomListeners([{click:n.onListClick,scope:n,delegate:e=>{for(let n=0,{length:o}=e;n<o;n++){const{cls:o}=e[n];if(o.includes(t.itemCls)&&!o.includes("neo-disabled")&&!o.includes("neo-list-header"))return n}}},{neonavigate:n.onListNavigate,scope:n}]),t.keys?._keys.push({fn:"onKeyDownDown",key:"Down",scope:o},{fn:"onKeyDownEnter",key:"Enter",scope:o},{fn:"onKeyDownEscape",key:"Escape",scope:o},{fn:"onKeyDownLeft",key:"Left",scope:o},{fn:"onKeyDownRight",key:"Right",scope:o},{fn:"onKeyDownUp",key:"Up",scope:o})}selectAt(e){let{view:n}=this,o=n?.store.getKeyAt(e),t=o&&n.getItemId(o);t&&this.select(t)}unregister(){let{id:e,view:n}=this;n.keys?.removeKeys([{fn:"onKeyDownDown",key:"Down",scope:e},{fn:"onKeyDownEnter",key:"Enter",scope:e},{fn:"onKeyDownEscape",key:"Escape",scope:e},{fn:"onKeyDownLeft",key:"Left",scope:e},{fn:"onKeyDownRight",key:"Right",scope:e},{fn:"onKeyDownUp",key:"Up",scope:e}]),super.unregister()}}));

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC92ZW5kb3JzLWRpc3RfZXNtX2V4YW1wbGVzX3RhYmxlX25lc3RlZFJlY29yZEZpZWxkc19FZGl0VXNlckRpYWxvZ19tanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBbU0saUVBQWUsNkJBQTZCLDREQUFDLENBQUMsZUFBZSxxR0FBcUcsT0FBTyxlQUFlLHVEQUF1RCwyQkFBMkIsU0FBUyxPQUFPLGdFQUFDLGtDQUFrQyxtQ0FBbUMsNkJBQTZCLEVBQUUsT0FBTyxnRUFBQyxpQ0FBaUMsa0NBQWtDLDRCQUE0QixFQUFFLE9BQU8sbUVBQUMsT0FBTyx5QkFBeUIsZ0NBQWdDLGlDQUFpQyw2Q0FBNkMsRUFBRSxPQUFPLG9FQUFDLGlDQUFpQyxrQ0FBa0MsbUNBQW1DLGlCQUFpQixHQUFHLDBCQUEwQixNQUFNLFlBQVksU0FBUyxHQUFHLDBPQUEwTyx3QkFBd0IsaUJBQWlCLHFCQUFxQixFQUFFLDBCQUEwQixpQkFBaUIsTUFBTSxtQkFBbUIsRUFBRSx5QkFBeUIsaUJBQWlCLE1BQU0sa0JBQWtCLEVBQUUseUJBQXlCLHdEQUF3RCwyQkFBMkIsYUFBYSxhQUFhLHNCQUFzQixPQUFPLGFBQWEsZ0NBQWdDLEVBQUUsR0FBRyxDQUFDLEU7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBMWtELGdCQUFnQixpREFBQyxDQUFDLGVBQWUsbUpBQW1KLDZCQUE2QiwwQkFBMEIsYUFBYSxtQkFBbUIsV0FBVyx3REFBd0QsNkJBQTZCLEVBQUUsNkJBQTZCLDBDQUEwQyxPQUFPLGlCQUFpQixrSEFBa0gsb0VBQW9FLDZEQUE2RCxpRUFBaUUsR0FBRyxXQUFXLGNBQWMsK0JBQStCLG1CQUFtQixtUkFBbVIsUUFBUSxhQUFhLGNBQWMsZ0NBQWdDLGtDQUFrQyxnQ0FBZ0MsS0FBSyxrRUFBa0UsU0FBUyx5QkFBeUIsZ0JBQWdCLGdDQUFnQyxVQUFVLGtDQUFrQyx1Q0FBdUMsT0FBTyxrRUFBa0UsU0FBUyx5QkFBeUIsaUJBQWlCLGdDQUFnQyxvREFBb0QscUNB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QU8sTUFBTSw0RUFBNEUsa0JBQWtCLElBQUksT0FBTyxPQUFPLFFBQVEsR0FBRyxrSEFBa0gsWUFBWSxrQkFBa0IsWUFBWSxZQUFZLEdBQUcsb0JBQW9CLHlDQUF5QyxhQUFhLFNBQVMsR0FBRyxJQUFJLEtBQUssTUFBTSxNQUFNLE1BQU0saUdBQWlHLEVBQUUscUNBQXFDLHVCQUF1QixzQ0FBc0MsRUFBRSx3Q0FBd0MsRUFBRSwwQ0FBMEMsRUFBRSxzQ0FBc0MsRUFBRSx3Q0FBd0MsRUFBRSxrQ0FBa0MsRUFBRSxZQUFZLElBQUksT0FBTyxpREFBaUQsa0JBQWtCLGFBQWEsSUFBSSxZQUFZLE1BQU0scUJBQXFCLHNDQUFzQyxFQUFFLHdDQUF3QyxFQUFFLDBDQUEwQyxFQUFFLHNDQUFzQyxFQUFFLHdDQUF3QyxFQUFFLGtDQUFrQyx1QkFBdUIsQ0FBQyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL2V4YW1wbGVzL3RhYmxlL25lc3RlZFJlY29yZEZpZWxkcy9FZGl0VXNlckRpYWxvZy5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9jb250YWluZXIvUGFuZWwubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvZGlhbG9nL0Jhc2UubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvZGlhbG9nL2hlYWRlci9Ub29sYmFyLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2Zvcm0vZmllbGQvQ2hlY2tCb3gubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvZm9ybS9maWVsZC9Db21ib0JveC5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9mb3JtL2ZpZWxkL0NvdW50cnkubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvZm9ybS9maWVsZC9QaWNrZXIubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvZm9ybS9maWVsZC90cmlnZ2VyL1BpY2tlci5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9saXN0L0Jhc2UubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvc2VsZWN0aW9uL0xpc3RNb2RlbC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vc3JjL2Zvcm0vZmllbGQvQ2hlY2tCb3gubWpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vc3JjL2Zvcm0vZmllbGQvQ291bnRyeS5tanNcIjtpbXBvcnQgbCBmcm9tXCIuLi8uLi8uLi9zcmMvZGlhbG9nL0Jhc2UubWpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vc3JjL2Zvcm0vZmllbGQvVGV4dC5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGx7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmV4YW1wbGVzLnRhYmxlLm5lc3RlZFJlY29yZEZpZWxkcy5FZGl0VXNlckRpYWxvZ1wiLGNsb3NlQWN0aW9uOlwiaGlkZVwiLGNvbnRhaW5lckNvbmZpZzp7c3R5bGU6e3BhZGRpbmc6XCIxZW1cIn19LG1vZGFsOiEwLHJlY29yZF86bnVsbCx0aXRsZTpcIkVkaXQgVXNlclwiLGl0ZW1EZWZhdWx0czp7ZmxleDpcIm5vbmVcIixsYWJlbFdpZHRoOjExMH0saXRlbXM6W3ttb2R1bGU6cyxsYWJlbFRleHQ6XCJGaXJzdG5hbWVcIixsaXN0ZW5lcnM6e2NoYW5nZTpcInVwLm9uRmlyc3RuYW1lRmllbGRDaGFuZ2VcIn0scmVmZXJlbmNlOlwiZmlyc3RuYW1lLWZpZWxkXCJ9LHttb2R1bGU6cyxsYWJlbFRleHQ6XCJMYXN0bmFtZVwiLGxpc3RlbmVyczp7Y2hhbmdlOlwidXAub25MYXN0bmFtZUZpZWxkQ2hhbmdlXCJ9LHJlZmVyZW5jZTpcImxhc3RuYW1lLWZpZWxkXCJ9LHttb2R1bGU6dCxiaW5kOntzdG9yZTpcInN0b3Jlcy5jb3VudHJpZXNcIn0sbGFiZWxUZXh0OlwiQ291bnRyeVwiLGxpc3RlbmVyczp7Y2hhbmdlOlwidXAub25Db3VudHJ5RmllbGRDaGFuZ2VcIn0scmVmZXJlbmNlOlwiY291bnRyeS1maWVsZFwiLHZhbHVlRmllbGQ6XCJjb2RlXCJ9LHttb2R1bGU6ZSxsYWJlbFRleHQ6XCJTZWxlY3RlZFwiLGxpc3RlbmVyczp7Y2hhbmdlOlwidXAub25TZWxlY3RlZEZpZWxkQ2hhbmdlXCJ9LHJlZmVyZW5jZTpcInNlbGVjdGVkLWZpZWxkXCIsc3R5bGU6e21hcmdpblRvcDpcIjFlbVwifX1dfTthc3luYyBhZnRlclNldFJlY29yZChlLHQpe2lmKGUpe2xldCBlPXRoaXMse3JlY29yZDp0fT1lO2F3YWl0IGUudGltZW91dCgyMCksZS5nZXRJdGVtKFwiY291bnRyeS1maWVsZFwiKS52YWx1ZT10LmNvdW50cnksZS5nZXRJdGVtKFwiZmlyc3RuYW1lLWZpZWxkXCIpLnZhbHVlPXRbXCJ1c2VyLmZpcnN0bmFtZVwiXSxlLmdldEl0ZW0oXCJsYXN0bmFtZS1maWVsZFwiKS52YWx1ZT10W1widXNlci5sYXN0bmFtZVwiXSxlLmdldEl0ZW0oXCJzZWxlY3RlZC1maWVsZFwiKS5jaGVja2VkPXRbXCJhbm5vdGF0aW9ucy5zZWxlY3RlZFwiXX19b25Db3VudHJ5RmllbGRDaGFuZ2UoZSl7dGhpcy5yZWNvcmQuc2V0KHtjb3VudHJ5OmUudmFsdWUuY29kZX0pfW9uRmlyc3RuYW1lRmllbGRDaGFuZ2UoZSl7dGhpcy5yZWNvcmQuc2V0KHt1c2VyOntmaXJzdG5hbWU6ZS52YWx1ZX19KX1vbkxhc3RuYW1lRmllbGRDaGFuZ2UoZSl7dGhpcy5yZWNvcmQuc2V0KHt1c2VyOntsYXN0bmFtZTplLnZhbHVlfX0pfW9uU2VsZWN0ZWRGaWVsZENoYW5nZShlKXtsZXQgdD10aGlzLGw9dC5nZXRTdGF0ZVByb3ZpZGVyKCkuZ2V0U3RvcmUoXCJtYWluU3RvcmVcIik7ITE9PT1lLnZhbHVlP3QucmVjb3JkLnNldCh7YW5ub3RhdGlvbnM6e3NlbGVjdGVkOiExfX0pOmwuaXRlbXMuZm9yRWFjaChsPT57bC5zZXQoe2Fubm90YXRpb25zOntzZWxlY3RlZDpsPT09dC5yZWNvcmQmJmUudmFsdWV9fSl9KX19KTsiLCJpbXBvcnQgZSBmcm9tXCIuL0Jhc2UubWpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vdG9vbGJhci9CYXNlLm1qc1wiO2NsYXNzIGEgZXh0ZW5kcyBle3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5jb250YWluZXIuUGFuZWxcIixudHlwZTpcInBhbmVsXCIsYmFzZUNsczpbXCJuZW8tcGFuZWxcIixcIm5lby1jb250YWluZXJcIl0sY29udGFpbmVyQ29uZmlnOm51bGwsaGVhZGVyRGVmYXVsdHM6bnVsbCxoZWFkZXJzOm51bGwsX2xheW91dDp7bnR5cGU6XCJ2Ym94XCIsYWxpZ246XCJzdHJldGNoXCJ9LHZlcnRpY2FsSGVhZGVyc0ZpcnN0OiExfTtjb25zdHJ1Y3QoZSl7c3VwZXIuY29uc3RydWN0KGUpO2xldCB0PXRoaXM7dC5oYXNIZWFkZXJzKCkmJiEwPT09dC52ZXJ0aWNhbEhlYWRlcnNGaXJzdCYmKHQubGF5b3V0PXtudHlwZTpcImhib3hcIixhbGlnbjpcInN0cmV0Y2hcIn0pfXN0YXRpYyBjcmVhdGVIZWFkZXJDb25maWcoZSl7aWYoXCJOZW9JbnN0YW5jZVwiPT09TmVvLnR5cGVPZihlKSlyZXR1cm4gZTtsZXQgdD17ZmxleDpcIjAgMSBhdXRvXCJ9O3JldHVybiBlLm1vZHVsZXx8ZS5udHlwZXx8KHQuY2xzPVtcIm5lby1wYW5lbC1oZWFkZXItdG9vbGJhclwiLFwibmVvLXRvb2xiYXJcIl0sdC5udHlwZT1cInRvb2xiYXJcIiksZS50ZXh0JiYodC5pdGVtcz1be250eXBlOlwibGFiZWxcIixjbHM6W1wibmVvLXBhbmVsLWhlYWRlci10ZXh0XCIsXCJuZW8tbGFiZWxcIl0sdGV4dDplLnRleHR9XSxkZWxldGUgZS50ZXh0KSxBcnJheS5pc0FycmF5KGUuaXRlbXMpJiZlLml0ZW1zLmZvckVhY2goZT0+e1wibGFiZWxcIj09PWUubnR5cGUmJihlLmNscz1bXCJuZW8tcGFuZWwtaGVhZGVyLXRleHRcIixcIm5lby1sYWJlbFwiXSl9KSx7Li4udCwuLi5lfX1jcmVhdGVJdGVtcygpe2xldCBlPXRoaXMsdD1lLmNvbnRhaW5lckNvbmZpZztpZihlLmhhc0hlYWRlcnMoKSl7bGV0IHIscz0hMT09PWUudmVydGljYWxIZWFkZXJzRmlyc3QsbD1lLmhlYWRlcnN8fFtdLG49bC5maWx0ZXIoZT0+ZS5kb2NrPT09KHM/XCJib3R0b21cIjpcInJpZ2h0XCIpKSxvPWwuZmlsdGVyKGU9PmUuZG9jaz09PShzP1wibGVmdFwiOlwidG9wXCIpKSxpPWwuZmlsdGVyKGU9PmUuZG9jaz09PShzP1wicmlnaHRcIjpcImJvdHRvbVwiKSksYz1sLmZpbHRlcihlPT5lLmRvY2s9PT0ocz9cInRvcFwiOlwibGVmdFwiKSksaD1uLmxlbmd0aD4wfHxjLmxlbmd0aD4wLGY9by5sZW5ndGg+MHx8aS5sZW5ndGg+MCx7aXRlbXM6dX09ZSxwPVtdLGQ9W107Yy5mb3JFYWNoKGU9PntkLnB1c2goYS5jcmVhdGVIZWFkZXJDb25maWcoZSkpfSksZiYmKHMmJmh8fCFzJiZoKT8oby5mb3JFYWNoKGU9PntwLnB1c2goYS5jcmVhdGVIZWFkZXJDb25maWcoZSkpfSkscj17bnR5cGU6XCJjb250YWluZXJcIixmbGV4OjEsaXRlbXM6dSxpdGVtRGVmYXVsdHM6ZS5pdGVtRGVmYXVsdHMsLi4udH0scC5wdXNoKHsuLi5lLmhlYWRlckRlZmF1bHRzLC4uLnJ9KSxpLmZvckVhY2goZT0+e3AucHVzaChhLmNyZWF0ZUhlYWRlckNvbmZpZyhlKSl9KSxkLnB1c2goe250eXBlOlwiY29udGFpbmVyXCIsaXRlbXM6cCxsYXlvdXQ6e250eXBlOnM/XCJoYm94XCI6XCJ2Ym94XCIsYWxpZ246XCJzdHJldGNoXCJ9fSkpOihyPXtudHlwZTpcImNvbnRhaW5lclwiLGZsZXg6MSxpdGVtczp1LGl0ZW1EZWZhdWx0czplLml0ZW1EZWZhdWx0cywuLi50fSxkLnB1c2goey4uLmUuaGVhZGVyRGVmYXVsdHMsLi4ucn0pKSxuLmZvckVhY2goZT0+e2QucHVzaChhLmNyZWF0ZUhlYWRlckNvbmZpZyhlKSl9KSxlLml0ZW1zPWQsZS5pdGVtRGVmYXVsdHM9bnVsbCxzdXBlci5jcmVhdGVJdGVtcygpfWVsc2UgdCYmZS5zZXQodCksc3VwZXIuY3JlYXRlSXRlbXMoKX1oYXNIZWFkZXJzKCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodGhpcy5oZWFkZXJzKSYmdGhpcy5oZWFkZXJzLmxlbmd0aD4wfX1leHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhhKTsiLCJpbXBvcnQgZSBmcm9tXCIuLi91dGlsL0FycmF5Lm1qc1wiO2ltcG9ydCB0IGZyb21cIi4uL2NvbnRhaW5lci9QYW5lbC5tanNcIjtpbXBvcnQgYSBmcm9tXCIuL2hlYWRlci9Ub29sYmFyLm1qc1wiO2ltcG9ydCBpIGZyb21cIi4uL3V0aWwvVkRvbS5tanNcIjtsZXQgbztleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIHR7c3RhdGljIGNsb3NlQWN0aW9ucz1bXCJjbG9zZVwiLFwiaGlkZVwiXTtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uZGlhbG9nLkJhc2VcIixudHlwZTpcImRpYWxvZ1wiLGFuaW1hdGVPbkRyYWdFbmQ6ITEsYW5pbWF0ZVRhcmdldElkXzpudWxsLGF1dG9Nb3VudDohMCxhdXRvUmVuZGVyOiEwLGF1dG9TaG93OiEwLGJhc2VDbHM6W1wibmVvLWRpYWxvZ1wiLFwibmVvLXBhbmVsXCIsXCJuZW8tY29udGFpbmVyXCJdLGJvdW5kYXJ5Q29udGFpbmVySWQ6XCJkb2N1bWVudC5ib2R5XCIsY2xvc2VBY3Rpb246XCJjbG9zZVwiLGRyYWdnYWJsZV86ITAsZHJhZ0xpc3RlbmVyc0FkZGVkOiExLGRyYWdab25lOm51bGwsZHJhZ1pvbmVDb25maWc6bnVsbCxmbG9hdGluZzohMCxoZWFkZXJDb25maWc6bnVsbCxoZWFkZXJUb29sYmFyOm51bGwsaXNEcmFnZ2luZzohMSxrZXlzOntFc2NhcGU6XCJvbktleURvd25Fc2NhcGVcIn0sbWF4aW1pemVDbHM6XCJmYXIgZmEtd2luZG93LW1heGltaXplXCIsbWF4aW1pemVkXzohMSxtaW5pbWl6ZUNsczpcImZhciBmYS13aW5kb3ctbWluaW1pemVcIixtb2RhbF86ITEscmVzaXphYmxlXzohMCxyZXNpemFibGVQbHVnaW5Db25maWc6bnVsbCx0aXRsZV86bnVsbCx0cmFwRm9jdXNfOiExfTtnZXQgYW5pbWF0ZVRhcmdldCgpe3JldHVybiBOZW8uZ2V0Q29tcG9uZW50KHRoaXMuYW5pbWF0ZVRhcmdldElkKX1jb25zdHJ1Y3QoZSl7c3VwZXIuY29uc3RydWN0KGUpLHRoaXMuY3JlYXRlSGVhZGVyKCl9YWZ0ZXJTZXRBbmltYXRlVGFyZ2V0SWQoZSx0KXt0aGlzLmF1dG9Nb3VudD0hZSx0aGlzLmF1dG9SZW5kZXI9IWV9YWZ0ZXJTZXRBcHBOYW1lKGUsdCl7bGV0IGE9dGhpcyxpPWEuZ2V0UGx1Z2luKFwicmVzaXphYmxlXCIpO2EuZHJhZ1pvbmUmJihhLmRyYWdab25lLmFwcE5hbWU9ZSksaSYmKGkuYXBwTmFtZT1lKSxzdXBlci5hZnRlclNldEFwcE5hbWUoZSx0KX1hZnRlclNldERyYWdnYWJsZSh0LGEpe2xldCBpLGQ9dGhpczt2b2lkIDAhPT1hJiZkLmhlYWRlclRvb2xiYXImJihpPWQuaGVhZGVyVG9vbGJhci5jbHMsZVt0P1wiYWRkXCI6XCJyZW1vdmVcIl0oaSxcIm5lby1kcmFnZ2FibGVcIiksZC5oZWFkZXJUb29sYmFyLmNscz1pKSx0JiZpbXBvcnQoXCIuLi9kcmFnZ2FibGUvRHJhZ1pvbmUubWpzXCIpLnRoZW4oZT0+e2lmKG89ZS5kZWZhdWx0LCFkLmRyYWdMaXN0ZW5lcnNBZGRlZCl7Y29uc3QgZT1be1wiZHJhZzplbmRcIjpkLm9uRHJhZ0VuZCxzY29wZTpkLGRlbGVnYXRlOlwiLm5lby1oZWFkZXItdG9vbGJhclwifSx7XCJkcmFnOnN0YXJ0XCI6ZC5vbkRyYWdTdGFydCxzY29wZTpkLGRlbGVnYXRlOlwiLm5lby1oZWFkZXItdG9vbGJhclwifV07ZC5kcmFnWm9uZUNvbmZpZz8uYWx3YXlzRmlyZURyYWdNb3ZlJiZlLnB1c2goe1wiZHJhZzptb3ZlXCI6ZC5vbkRyYWdNb3ZlLHNjb3BlOmQsZGVsZWdhdGU6XCIubmVvLWhlYWRlci10b29sYmFyXCJ9KSxkLmRvbUxpc3RlbmVycz1bLi4uZC5kb21MaXN0ZW5lcnMsLi4uZV0sZC5kcmFnTGlzdGVuZXJzQWRkZWQ9ITB9fSl9YXN5bmMgYWZ0ZXJTZXRNYXhpbWl6ZWQodCxhKXtsZXQgaT10aGlzLG89dm9pZCAwPT09YSx7Y2xzOmR9PWkudmRvbTshbyYmZS5hZGQoZCxcImFuaW1hdGVkLWhpZGluZy1zaG93aW5nXCIpLGUudG9nZ2xlKGQsXCJuZW8tbWF4aW1pemVkXCIsdCksaS51cGRhdGUoKSxvfHwoYXdhaXQgaS50aW1lb3V0KDI1MCksZS5yZW1vdmUoZCxcImFuaW1hdGVkLWhpZGluZy1zaG93aW5nXCIpLGkudXBkYXRlKCkpfWFmdGVyU2V0TW9kYWwodCxhKXtsZXQgaT10aGlzO2UudG9nZ2xlKGkudmRvbS5jbHMsXCJuZW8tbW9kYWxcIix0KSxpLnVwZGF0ZSgpLGkucmVuZGVyZWQmJmkuc3luY01vZGFsTWFzaygpfWFmdGVyU2V0TW91bnRlZChlLHQpe3N1cGVyLmFmdGVyU2V0TW91bnRlZChlLHQpLHZvaWQgMCE9PXQmJnRoaXMuc3luY1RyYXBGb2N1cygpfWFmdGVyU2V0UmVzaXphYmxlKGUsdCl7ZSYmIXRoaXMuZ2V0UGx1Z2luKFwicmVzaXphYmxlXCIpJiZpbXBvcnQoXCIuLi9wbHVnaW4vUmVzaXphYmxlLm1qc1wiKS50aGVuKGU9PntsZXQgdD10aGlzLHthcHBOYW1lOmF9PXQsaT10LnBsdWdpbnN8fFtdO2kucHVzaCh7bW9kdWxlOmUuZGVmYXVsdCxhcHBOYW1lOmEsZGVsZWdhdGlvbkNsczpcIm5lby1kaWFsb2dcIiwuLi50LnJlc2l6YWJsZVBsdWdpbkNvbmZpZ30pLHQucGx1Z2lucz1pfSl9YWZ0ZXJTZXRUaXRsZShlLHQpe2xldHtoZWFkZXJUb29sYmFyOmF9PXRoaXM7YSYmKGEudGl0bGU9ZSl9YWZ0ZXJTZXRUcmFwRm9jdXMoZSx0KXt0aGlzLnN5bmNUcmFwRm9jdXMoKX1hZnRlclNldFdpbmRvd0lkKGUsdCl7bGV0IGE9dGhpcyxpPWEuZ2V0UGx1Z2luKFwicmVzaXphYmxlXCIpO2EuZHJhZ1pvbmUmJihhLmRyYWdab25lLndpbmRvd0lkPWUpLGkmJihpLndpbmRvd0lkPWUpLHN1cGVyLmFmdGVyU2V0V2luZG93SWQoZSx0KX1hc3luYyBhbmltYXRlSGlkZSgpe2xldCBlLHQsYT10aGlzLHthbmltYXRlVGFyZ2V0OmksaWQ6b309YTthLndpbmRvd0lkPWkud2luZG93SWQsYS5hcHBOYW1lPWU9aS5hcHBOYW1lLHQ9YXdhaXQgYS5nZXREb21SZWN0KFtvLGEuYW5pbWF0ZVRhcmdldElkXSksYXdhaXQgTmVvLmFwcGx5RGVsdGFzKGUse2lkOm8sc3R5bGU6e2hlaWdodDpgJHt0WzBdLmhlaWdodH1weGAsbGVmdDpgJHt0WzBdLmxlZnR9cHhgLHRvcDpgJHt0WzBdLnRvcH1weGAsdHJhbnNmb3JtOlwibm9uZVwiLHdpZHRoOmAke3RbMF0ud2lkdGh9cHhgfX0pLGF3YWl0IGEudGltZW91dCgzMCksYXdhaXQgTmVvLmFwcGx5RGVsdGFzKGUse2lkOm8sY2xzOnthZGQ6W1wiYW5pbWF0ZWQtaGlkaW5nLXNob3dpbmdcIl19LHN0eWxlOntoZWlnaHQ6YCR7dFsxXS5oZWlnaHR9cHhgLGxlZnQ6YCR7dFsxXS5sZWZ0fXB4YCx0b3A6YCR7dFsxXS50b3B9cHhgLHdpZHRoOmAke3RbMV0ud2lkdGh9cHhgfX0pLGF3YWl0IGEudGltZW91dCgyNTApLGEuY2xvc2VPckhpZGUoITEpLFwiaGlkZVwiPT09YS5jbG9zZUFjdGlvbiYmYXdhaXQgTmVvLmFwcGx5RGVsdGFzKGUse2lkOm8sYWN0aW9uOlwicmVtb3ZlTm9kZVwifSl9YXN5bmMgYW5pbWF0ZVNob3coKXtsZXQgZSx0LGE9dGhpcyx7YW5pbWF0ZVRhcmdldDppLGlkOm8sc3R5bGU6ZH09YTtpZihhLndpbmRvd0lkPWkud2luZG93SWQsYS5hcHBOYW1lPWU9aS5hcHBOYW1lLHQ9YXdhaXQgYS5nZXREb21SZWN0KGEuYW5pbWF0ZVRhcmdldElkKSxkLmxlZnR8fGQudG9wKXtsZXQgZT17Li4uZH07ZGVsZXRlIGQubGVmdCxkZWxldGUgZC50b3AsYS5zdHlsZT1kLGEuX3N0eWxlPWQ9ZX1hd2FpdCBhLnJlbmRlcighMCk7bGV0W24scl09YXdhaXQgYS53YWl0Rm9yRG9tUmVjdCh7aWQ6W2EuaWQsXCJkb2N1bWVudC5ib2R5XCJdfSk7YXdhaXQgTmVvLmFwcGx5RGVsdGFzKGUse2lkOm8sc3R5bGU6e2hlaWdodDpgJHt0LmhlaWdodH1weGAsbGVmdDpgJHt0LmxlZnR9cHhgLHRvcDpgJHt0LnRvcH1weGAsd2lkdGg6YCR7dC53aWR0aH1weGB9fSksYXdhaXQgYS50aW1lb3V0KDUwKSxhd2FpdCBOZW8uYXBwbHlEZWx0YXMoZSx7aWQ6byxjbHM6e2FkZDpbXCJhbmltYXRlZC1oaWRpbmctc2hvd2luZ1wiXX0sc3R5bGU6e2hlaWdodDpkPy5oZWlnaHR8fGAke24uaGVpZ2h0fXB4YCxsZWZ0OmQ/LmxlZnR8fGAke01hdGgucm91bmQoci53aWR0aC8yLW4ud2lkdGgvMil9cHhgLHRvcDpkPy50b3B8fGAke01hdGgucm91bmQoci5oZWlnaHQvMi1uLmhlaWdodC8yKX1weGAsd2lkdGg6ZD8ud2lkdGh8fGAke24ud2lkdGh9cHhgfX0pLGF3YWl0IGEudGltZW91dCgyMDApLGF3YWl0IE5lby5hcHBseURlbHRhcyhlLHtpZDpvLGNsczp7cmVtb3ZlOltcImFuaW1hdGVkLWhpZGluZy1zaG93aW5nXCJdfX0pLGEuc2hvdyghMSl9YmVmb3JlU2V0Q2xvc2VBY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iZWZvcmVTZXRFbnVtVmFsdWUoZSx0LFwiY2xvc2VBY3Rpb25cIil9Y2xvc2UoZT0hIXRoaXMuYW5pbWF0ZVRhcmdldElkKXtsZXQgdD10aGlzO3QucmV2ZXJ0Rm9jdXMoKSxlP3QuYW5pbWF0ZUhpZGUoKToodC5maXJlKFwiY2xvc2VcIiksdC5kZXN0cm95KCEwKSl9YXN5bmMgY2xvc2VPckhpZGUoZT0hIXRoaXMuYW5pbWF0ZVRhcmdldElkKXtsZXQgdD10aGlzO3RbdC5jbG9zZUFjdGlvbl0oZSksYXdhaXQgdC50aW1lb3V0KDMwKSx0LnN5bmNNb2RhbE1hc2sodC5pZCl9Y2xvc2VPckhpZGVBY3Rpb24oZSl7dGhpcy5jbG9zZU9ySGlkZSgpfWNyZWF0ZUhlYWRlcigpe2xldCBlPXRoaXMse2FwcE5hbWU6dCx3aW5kb3dJZDppfT1lLG89W1wibmVvLWhlYWRlci10b29sYmFyXCIsXCJuZW8tdG9vbGJhclwiXSxkPWUuaGVhZGVyc3x8W107ZS5kcmFnZ2FibGUmJm8ucHVzaChcIm5lby1kcmFnZ2FibGVcIiksZS5oZWFkZXJUb29sYmFyPU5lby5jcmVhdGUoe21vZHVsZTphLGFwcE5hbWU6dCxjbHM6byxkb2NrOlwidG9wXCIsZmxleDpcIm5vbmVcIixpZDplLmdldEhlYWRlclRvb2xiYXJJZCgpLGxpc3RlbmVyczp7aGVhZGVyQWN0aW9uOmUuZXhlY3V0ZUhlYWRlckFjdGlvbixzY29wZTplfSx0aXRsZTplLnRpdGxlLHdpbmRvd0lkOmksLi4uZS5oZWFkZXJDb25maWd9KSxkLnVuc2hpZnQoZS5oZWFkZXJUb29sYmFyKSxlLmhlYWRlcnM9ZH1leGVjdXRlSGVhZGVyQWN0aW9uKGUpe2xldCB0PXRoaXMsYT17Y2xvc2U6dC5jbG9zZU9ySGlkZUFjdGlvbixtYXhpbWl6ZTp0Lm1heGltaXplfTthW2UuYWN0aW9uXT8uY2FsbCh0LGUpLHQuZmlyZShcImhlYWRlckFjdGlvblwiLHtkaWFsb2c6dCwuLi5lfSl9Z2V0QW5pbWF0ZVRhcmdldElkKCl7cmV0dXJuIHRoaXMuaWQrXCItYW5pbWF0ZVwifWdldEhlYWRlclRvb2xiYXJJZCgpe3JldHVybiB0aGlzLmlkK1wiLWhlYWRlci10b29sYmFyXCJ9Z2V0UHJveHlWZG9tKCl7cmV0dXJuIGkuY2xvbmUodGhpcy52ZG9tKX1hc3luYyBoaWRlKGU9ISF0aGlzLmFuaW1hdGVUYXJnZXRJZCl7bGV0IHQ9dGhpcztlP3QuYW5pbWF0ZUhpZGUoKToodC51bm1vdW50KCksdC5maXJlKFwiaGlkZVwiKSksYXdhaXQgdC50aW1lb3V0KDMwKSx0LnN5bmNNb2RhbE1hc2soKX1pbml0KCl7c3VwZXIuaW5pdCgpO2xldCBlPXRoaXM7ZS5hbmltYXRlVGFyZ2V0SWQ/ZS5hdXRvU2hvdyYmZS5zaG93KCk6ZS50aW1lb3V0KDEwMCkudGhlbigoKT0+e2Uuc3luY01vZGFsTWFzaygpfSl9bWF4aW1pemUoZSl7bGV0IHQ9dGhpcztlLmNvbXBvbmVudC5pY29uQ2xzPXQubWF4aW1pemVkP3QubWF4aW1pemVDbHM6dC5taW5pbWl6ZUNscyx0Lm1heGltaXplZD0hdC5tYXhpbWl6ZWR9b25Db25zdHJ1Y3RlZCgpe3N1cGVyLm9uQ29uc3RydWN0ZWQoKTtsZXQgZT10aGlzO2UuaGVhZGVyVG9vbGJhcj1lLmRvd24oe2lkOmUuZ2V0SGVhZGVyVG9vbGJhcklkKCl9KX1vbkRyYWdFbmQoZSl7bGV0IHQsYSxpPXRoaXM7aS5tYXhpbWl6ZWR8fGkuZ2V0RG9tUmVjdChpLmRyYWdab25lLmRyYWdQcm94eS5pZCkudGhlbihvPT57YT1pLnN0eWxlLE9iamVjdC5hc3NpZ24oYSx7aGVpZ2h0OmAke28uaGVpZ2h0fXB4YCxsZWZ0OmAke28ubGVmdH1weGAsb3BhY2l0eToxLHRvcDpgJHtvLnRvcH1weGAsdHJhbnNmb3JtOlwibm9uZVwiLHdpZHRoOmAke28ud2lkdGh9cHhgfSksaS5hbmltYXRlT25EcmFnRW5kfHwodD1hLnRyYW5zaXRpb25Qcm9wZXJ0eXx8bnVsbCxhLnRyYW5zaXRpb25Qcm9wZXJ0eT1cIm5vbmVcIixpLnRpbWVvdXQoNTApLnRoZW4oKCk9PnthPWkuc3R5bGUsYS50cmFuc2l0aW9uUHJvcGVydHk9dCxpLnN0eWxlPWF9KSksaS5zdHlsZT1hLGkuZHJhZ1pvbmUuZHJhZ0VuZChlKSxpLmRyYWdab25lLmJvdW5kYXJ5Q29udGFpbmVySWQ9bnVsbCxpLmlzRHJhZ2dpbmc9ITEsaS5mb2N1cyhpLmlkLCEwKX0pfW9uRHJhZ01vdmUoZSl7dGhpcy5kcmFnWm9uZS5kcmFnTW92ZShlKX1vbkRyYWdTdGFydChlKXtsZXQgdD10aGlzLHthcHBOYW1lOmEsaWQ6aSx3aW5kb3dJZDpkfT10LG49dC5zdHlsZXx8e307dC5tYXhpbWl6ZWR8fCh0LmlzRHJhZ2dpbmc9ITAsdC5nZXRQbHVnaW4oXCJyZXNpemFibGVcIik/LnJlbW92ZUFsbE5vZGVzKCksdC5kcmFnWm9uZT90LmRyYWdab25lLmJvdW5kYXJ5Q29udGFpbmVySWQ9dC5ib3VuZGFyeUNvbnRhaW5lcklkOih0LmRyYWdab25lPU5lby5jcmVhdGUoe21vZHVsZTpvLGFwcE5hbWU6YSxib2R5Q3Vyc29yU3R5bGU6XCJtb3ZlICFpbXBvcnRhbnRcIixib3VuZGFyeUNvbnRhaW5lcklkOnQuYm91bmRhcnlDb250YWluZXJJZCxkcmFnRWxlbWVudDp0LnZkb20sZHJhZ1Byb3h5Q29uZmlnOnt2ZG9tOnQuZ2V0UHJveHlWZG9tKCl9LG93bmVyOnQsdXNlUHJveHlXcmFwcGVyOiExLHdpbmRvd0lkOmQsLi4udC5kcmFnWm9uZUNvbmZpZ30pLHQuZmlyZShcImRyYWdab25lQ3JlYXRlZFwiLHtkcmFnWm9uZTp0LmRyYWdab25lLGlkOml9KSksdC5kcmFnWm9uZS5kcmFnU3RhcnQoZSksbi5vcGFjaXR5PS43LHQuc3R5bGU9bil9b25LZXlEb3duRXNjYXBlKCl7dGhpcy5oaWRkZW49ITB9YXN5bmMgcmVuZGVyKGUpe2xldCB0PXRoaXMse3dyYXBwZXJTdHlsZTphfT10O3QuYW5pbWF0ZVRhcmdldElkfHwoYS5sZWZ0fHwoYS5sZWZ0PVwiaW5pdGlhbFwiKSxhLnRvcHx8KGEudG9wPVwiaW5pdGlhbFwiKSx0LndyYXBwZXJTdHlsZT1hKSxhd2FpdCBzdXBlci5yZW5kZXIoZSl9c2hvdyhlPSEhdGhpcy5hbmltYXRlVGFyZ2V0SWQpe2xldCB0PXRoaXM7ZT90LmFuaW1hdGVTaG93KCk6KHQubW91bnRlZHx8dC5yZW5kZXIoITApLHQuZmlyZShcInNob3dcIikpLHQuc3luY01vZGFsTWFzaygpfXN5bmNNb2RhbE1hc2soZT10aGlzLmlkKXtsZXR7bW9kYWw6dCx3aW5kb3dJZDphfT10aGlzO05lby5tYWluLkRvbUFjY2Vzcy5zeW5jTW9kYWxNYXNrKHtpZDplLG1vZGFsOnQsd2luZG93SWQ6YX0pfXN5bmNUcmFwRm9jdXMoKXtsZXQgZT10aGlzLHtpZDp0LHdpbmRvd0lkOmF9PWU7ZS5tb3VudGVkJiZOZW8ubWFpbi5Eb21BY2Nlc3MudHJhcEZvY3VzKHtpZDp0LHRyYXA6ZS50cmFwRm9jdXMsd2luZG93SWQ6YX0pfX0pOyIsImltcG9ydCBlIGZyb21cIi4uLy4uL3Rvb2xiYXIvQmFzZS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGV7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmRpYWxvZy5oZWFkZXIuVG9vbGJhclwiLGFjdGlvbk1hcDp7Y2xvc2U6KCk9Pih7YWN0aW9uOlwiY2xvc2VcIixpY29uQ2xzOlwiZmFyIGZhLXdpbmRvdy1jbG9zZVwifSksbWF4aW1pemU6KCk9Pih7YWN0aW9uOlwibWF4aW1pemVcIixpY29uQ2xzOlwiZmFyIGZhLXdpbmRvdy1tYXhpbWl6ZVwifSl9LGFjdGlvbnM6W1wibWF4aW1pemVcIixcImNsb3NlXCJdLHRpdGxlXzpudWxsfTthZnRlclNldFRpdGxlKGUsdCl7dGhpcy5kb3duKHtmbGFnOlwidGl0bGUtbGFiZWxcIn0pPy5zZXQoe2hpZGRlbjohZSx0ZXh0OmV9KX1jcmVhdGVJdGVtcygpe2xldCBlPXRoaXMsdD1lLmZpcmVBY3Rpb24uYmluZChlKSxpPWUuaXRlbXN8fFtdLHt0aXRsZTphfT1lO2kucHVzaCh7bnR5cGU6XCJsYWJlbFwiLGNsczpbXCJuZW8tcGFuZWwtaGVhZGVyLXRleHRcIixcIm5lby1sYWJlbFwiXSxmbGFnOlwidGl0bGUtbGFiZWxcIixoaWRkZW46IWEsdGV4dDphfSksZS5hY3Rpb25zJiYoaS5wdXNoKFwiLT5cIiksZS5hY3Rpb25zLmZvckVhY2goYT0+e1wiT2JqZWN0XCIhPT1OZW8udHlwZU9mKGEpJiYoYT1lLmFjdGlvbk1hcFthXSgpKSxpLnB1c2goe2hhbmRsZXI6dCwuLi5hfSl9KSksZS5pdGVtcz1pLHN1cGVyLmNyZWF0ZUl0ZW1zKCl9ZmlyZUFjdGlvbihlKXtsZXR7Y29tcG9uZW50OnR9PWU7dGhpcy5maXJlKFwiaGVhZGVyQWN0aW9uXCIse2FjdGlvbjp0LmFjdGlvbixjb21wb25lbnQ6dCxzY29wZTp0aGlzfSl9fSk7IiwiaW1wb3J0IGUgZnJvbVwiLi4vLi4vbWFuYWdlci9Db21wb25lbnQubWpzXCI7aW1wb3J0IHQgZnJvbVwiLi9CYXNlLm1qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL3V0aWwvQXJyYXkubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyB0e3N0YXRpYyBsYWJlbFBvc2l0aW9ucz1bXCJsZWZ0XCIsXCJ0b3BcIl07c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmZvcm0uZmllbGQuQ2hlY2tCb3hcIixudHlwZTpcImNoZWNrYm94ZmllbGRcIixiYXNlQ2xzOltcIm5lby1jaGVja2JveGZpZWxkXCJdLGNoZWNrZWRfOiExLGVycm9yXzpudWxsLGVycm9yUG9zaXRpb25BYnNvbHV0ZV86ITEsZXJyb3JUZXh0R3JvdXBSZXF1aXJlZDplPT5gUGxlYXNlIGNoZWNrIGF0IGxlYXN0IG9uZSBpdGVtIG9mIHRoZSBncm91cDogJHtlLm5hbWV9YCxlcnJvclRleHRSZXF1aXJlZDpcIlJlcXVpcmVkXCIsZ3JvdXBSZXF1aXJlZF86ITEsaGlkZUxhYmVsXzohMSxpY29uQ2xzOltcImZhclwiLFwiZmEtc3F1YXJlXCJdLGljb25DbHNDaGVja2VkOltcImZhc1wiLFwiZmEtY2hlY2tcIl0saW5wdXRUeXBlXzpcImNoZWNrYm94XCIsbGFiZWxCYXNlQ2xzOltcIm5lby1jaGVja2JveC1sYWJlbFwiXSxsYWJlbENsc186W10sbGFiZWxJZF86bnVsbCxsYWJlbElkQ2xzXzpbXSxsYWJlbElkU2VwYXJhdG9yXzpcIiDCtyBcIixsYWJlbFBvc2l0aW9uXzpcImxlZnRcIixsYWJlbFRleHRfOlwiTGFiZWxUZXh0XCIsbGFiZWxXaWR0aF86MTUwLHJlcXVpcmVkXzohMSxzaG93RXJyb3JUZXh0c186ITAsdW5jaGVja2VkVmFsdWU6ITEsdXNlQWxlcnRTdGF0ZV86ITEsdmFsdWU6ITAsdmFsdWVMYWJlbFRleHRfOm51bGwsX3Zkb206e2NuOlt7dGFnOlwibGFiZWxcIixjbHM6W1wibmVvLWNoZWNrYm94LWxhYmVsXCJdLGNuOlt7dGFnOlwic3BhblwiLGNsczpbXX0se3RhZzpcImlucHV0XCIsY2xzOltcIm5lby1jaGVja2JveC1pbnB1dFwiXX0se3RhZzpcImlcIixjbHM6W1wibmVvLWNoZWNrYm94LWljb25cIl19LHt0YWc6XCJzcGFuXCIsY2xzOltcIm5lby1jaGVja2JveC12YWx1ZS1sYWJlbFwiXX1dfSx7Y2xzOltcIm5lby1lcnJvci13cmFwcGVyXCJdLHJlbW92ZURvbTohMCxjbjpbe2NsczpbXCJuZW8tZXJyb3JcIl19XX1dfX07Y2xlYW49ITA7Y29uc3RydWN0KGUpe3N1cGVyLmNvbnN0cnVjdChlKTtsZXQgdD10aGlzO3QuYWRkRG9tTGlzdGVuZXJzKHtjaGFuZ2U6dC5vbklucHV0VmFsdWVDaGFuZ2Usc2NvcGU6dH0pfWFmdGVyU2V0Q2hlY2tlZChlLHQpe2xldCBsPXRoaXMsYT1sLnZkb20uY25bMF0sbz1hLmNuWzJdLmNscyxpPWU/bC5pY29uQ2xzQ2hlY2tlZDpsLmljb25DbHMsbj1lP2wuaWNvbkNsczpsLmljb25DbHNDaGVja2VkO3QmJihsLmNsZWFuPSExKSxsLnZhbGlkYXRlKCksYS5jblsxXS5jaGVja2VkPWUsci5yZW1vdmVBZGQobyxuLGkpLGwudXBkYXRlKCksdm9pZCAwIT09dCYmbC5maXJlQ2hhbmdlRXZlbnQobC5nZXRTdWJtaXRWYWx1ZSgpLGwuZ2V0T2xkU3VibWl0VmFsdWUoKSl9YWZ0ZXJTZXRFcnJvcihlLHQpe3RoaXMudXBkYXRlRXJyb3IoZSl9YWZ0ZXJTZXRFcnJvclBvc2l0aW9uQWJzb2x1dGUoZSx0KXtsZXQgbD10aGlzLnZkb20uY25bMV0uY25bMF0uY2xzO3JbZT9cImFkZFwiOlwicmVtb3ZlXCJdKGwsXCJuZW8tYWJzb2x1dGVcIiksdGhpcy51cGRhdGUoKX1hZnRlclNldEdyb3VwUmVxdWlyZWQoZSx0KXt2b2lkIDAhPT10JiZ0aGlzLnZhbGlkYXRlKCExKX1hZnRlclNldEhpZGVMYWJlbChlLHQpe3RoaXMudmRvbS5jblswXS5jblswXS5yZW1vdmVEb209ZSx0aGlzLnVwZGF0ZSgpfWFmdGVyU2V0SWQoZSx0KXtsZXQgcj10aGlzLGw9ci52ZG9tLmNuWzBdO2wuY25bMF0uaWQ9ci5nZXRMYWJlbElkKCksbC5jblsxXS5pZD1yLmdldElucHV0RWxJZCgpLGwuY25bMl0uaWQ9ci5nZXRJY29uRWxJZCgpLGwuY25bM10uaWQ9ci5nZXRWYWx1ZUxhYmVsSWQoKSxzdXBlci5hZnRlclNldElkKGUsdCl9YWZ0ZXJTZXRJbnB1dFR5cGUoZSx0KXt0aGlzLmNoYW5nZUlucHV0RWxLZXkoXCJ0eXBlXCIsZSl9YWZ0ZXJTZXRMYWJlbENscyhlLHQpe2xldCBsPXRoaXMudmRvbS5jblswXS5jblswXS5jbHM7ci5yZW1vdmUobCx0KSxyLmFkZChsLGUpLHRoaXMudXBkYXRlKCl9YWZ0ZXJTZXRMYWJlbFBvc2l0aW9uKGUsdCl7bGV0e2NsczpsfT10aGlzO3IucmVtb3ZlKGwsXCJuZW8tbGFiZWwtXCIrdCksci5hZGQobCxcIm5lby1sYWJlbC1cIitlKSx0aGlzLmNscz1sfWFmdGVyU2V0TGFiZWxUZXh0KGUsdCl7bGV0IHI9dGhpcztyLmxhYmVsSWQmJihlPWA8c3BhbiBjbGFzcz1cIiR7ci5sYWJlbElkQ2xzLmpvaW4oXCIsXCIpfVwiPiR7ci5sYWJlbElkfTwvc3Bhbj4ke3IubGFiZWxJZFNlcGFyYXRvcitlfWApLHIudmRvbS5jblswXS5jblswXS5odG1sPWUsci51cGRhdGUoKX1hZnRlclNldExhYmVsV2lkdGgoZSx0KXtsZXQgcj10aGlzO3IuaGlkZUxhYmVsfHwoci52ZG9tLmNuWzBdLmNuWzBdLndpZHRoPWUsci51cGRhdGUoKSl9YWZ0ZXJTZXRSZXF1aXJlZChlLHQpe3ZvaWQgMCE9PXQmJnRoaXMudmFsaWRhdGUoITEpfWFmdGVyU2V0U2hvd0Vycm9yVGV4dHMoZSx0KXt2b2lkIDAhPT10JiZ0aGlzLnZhbGlkYXRlKCExKX1hZnRlclNldFVzZUFsZXJ0U3RhdGUoZSx0KXtsZXR7Y2xzOmx9PXRoaXM7ci50b2dnbGUobCxcIm5lby11c2UtYWxlcnQtc3RhdGVcIixlKSx0aGlzLmNscz1sfWFmdGVyU2V0VmFsdWUoZSx0KXt0aGlzLmNoYW5nZUlucHV0RWxLZXkoXCJ2YWx1ZVwiLGUpfWFmdGVyU2V0VmFsdWVMYWJlbFRleHQoZSx0KXtsZXQgcj10aGlzLnZkb20uY25bMF0uY25bM10sbD0hIWU7bCYmKHIuaHRtbD1lKSxyLnJlbW92ZURvbT0hbCx0aGlzLnVwZGF0ZSgpfWJlZm9yZVNldEdyb3VwUmVxdWlyZWQoZSx0KXtyZXR1cm4gZSYmdGhpcy5yZXF1aXJlZD8oY29uc29sZS53YXJuKFwiRG8gbm90IHVzZSBncm91cFJlcXVpcmVkICYgcmVxdWlyZWQgYXQgdGhlIHNhbWUgdGltZS4gU3dpdGNoaW5nIHRvIHJlcXVpcmVkLlwiLHRoaXMpLCExKTplfWJlZm9yZVNldExhYmVsQ2xzKGUsdCl7cmV0dXJuIHIudW5pb24oZXx8W10sdGhpcy5sYWJlbEJhc2VDbHMpfWJlZm9yZVNldExhYmVsUG9zaXRpb24oZSx0KXtyZXR1cm4gdGhpcy5iZWZvcmVTZXRFbnVtVmFsdWUoZSx0LFwibGFiZWxQb3NpdGlvblwiKX1iZWZvcmVTZXRSZW5kZXJOYW1lKGUsdCl7cmV0dXJuITB9Z2V0R3JvdXBWYWx1ZSgpe2xldCB0LGw9dGhpcy5nZXRDbG9zZXN0Rm9ybSgpLGE9dGhpcy5nZXRQYXRoKCksbz1bXTtyZXR1cm4gYSYmKHQ9ZS5maW5kKHtwYXRoOmF9KSx0LmZvckVhY2goZT0+e2UuY2hlY2tlZCYmZS5nZXRDbG9zZXN0Rm9ybSgpPT09bCYmci5hZGQobyxlLnZhbHVlKX0pKSxvfWdldEljb25FbElkKCl7cmV0dXJuYCR7dGhpcy5pZH1fX2ljb25gfWdldElucHV0RWwoKXtyZXR1cm4gdGhpcy52ZG9tLmNuWzBdLmNuWzFdfWdldElucHV0RWxJZCgpe3JldHVybmAke3RoaXMuaWR9X19pbnB1dGB9Z2V0TGFiZWxJZCgpe3JldHVybmAke3RoaXMuaWR9X19sYWJlbGB9Z2V0T2xkU3VibWl0VmFsdWUoKXtsZXQgZT10aGlzO3JldHVybiBlLmNoZWNrZWQ/ZS51bmNoZWNrZWRWYWx1ZTplLnZhbHVlfWdldE9sZFZhbHVlKCl7cmV0dXJuIHRoaXMuZ2V0T2xkU3VibWl0VmFsdWUoKX1nZXRTdWJtaXRWYWx1ZSgpe2xldCBlPXRoaXM7cmV0dXJuIGUuY2hlY2tlZD9lLnZhbHVlOmUudW5jaGVja2VkVmFsdWV9Z2V0VmFsdWVMYWJlbElkKCl7cmV0dXJuYCR7dGhpcy5pZH1fX3ZhbHVlLWxhYmVsYH1pc0VtcHR5QW5kUmVxdWlyZWQoKXtyZXR1cm4hdGhpcy52YWxpZGF0ZSghMSl9aXNWYWxpZCgpe3JldHVybiB0aGlzLnZhbGlkYXRlKCEwKSwhdGhpcy5lcnJvciYmc3VwZXIuaXNWYWxpZCgpfW9uSW5wdXRWYWx1ZUNoYW5nZShlKXtsZXQgdD10aGlzLHI9ZS50YXJnZXQuY2hlY2tlZDt0LnZub2RlLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1t0LmhpZGVMYWJlbD8wOjFdLmF0dHJpYnV0ZXMuY2hlY2tlZD1gJHtyfWAsdC5jaGVja2VkPXIsdC5maXJlVXNlckNoYW5nZUV2ZW50KHQuZ2V0U3VibWl0VmFsdWUoKSx0LmdldE9sZFN1Ym1pdFZhbHVlKCkpfXVwZGF0ZUVycm9yKGUsdD0hMSl7bGV0IGwsYSxvPXRoaXMse2NsczppfT1vLG49ZSYmby5zaG93RXJyb3JUZXh0cztvLmNsZWFuJiYhby5tb3VudGVkfHwoby5fZXJyb3I9ZSxyW2U/XCJhZGRcIjpcInJlbW92ZVwiXShpLFwibmVvLWludmFsaWRcIiksby5jbHM9aSxhPW8udmRvbS5jblsxXSxsPWEuY25bMF0sbj9sLmh0bWw9ZTpkZWxldGUgbC5odG1sLGEucmVtb3ZlRG9tPSFuLCF0JiZvLnVwZGF0ZSgpKX12YWxpZGF0ZSh0PSEwKXtsZXQgcixsLGE9dGhpcyx7bmFtZTpvfT1hLGk9ITA7aWYodHx8KGEuY2xlYW49ITEpLGEuZ3JvdXBSZXF1aXJlZCl7Zm9yKHIgb2YoaT0hMSxsPWUuZmluZCh7bnR5cGU6YS5udHlwZSxuYW1lOm99KSxsKSlpZihyLmNoZWNrZWQpe2k9ITA7YnJlYWt9Zm9yKHIgb2YgbClyLmlkIT09YS5pZCYmKGEuY2xlYW58fChyLmNsZWFuPSExKSxyW2EuY2xlYW4/XCJfZXJyb3JcIjpcImVycm9yXCJdPWk/bnVsbDpyLmVycm9yVGV4dEdyb3VwUmVxdWlyZWQoe25hbWU6b30pKTtpfHwoYS5fZXJyb3I9YS5lcnJvclRleHRHcm91cFJlcXVpcmVkKHtuYW1lOm99KSl9ZWxzZSBhLnJlcXVpcmVkJiYhYS5jaGVja2VkJiYoYS5fZXJyb3I9YS5lcnJvclRleHRSZXF1aXJlZCxpPSExKTtyZXR1cm4gaSYmKGEuX2Vycm9yPW51bGwpLCFhLmNsZWFuJiZhLnVwZGF0ZUVycm9yKGEuX2Vycm9yLHQpLCEhaSYmc3VwZXIudmFsaWRhdGUodCl9fSk7IiwiaW1wb3J0e2J1ZmZlciBhcyBlfWZyb21cIi4uLy4uL3V0aWwvRnVuY3Rpb24ubWpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vdXRpbC9DbGFzc1N5c3RlbS5tanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi9tYW5hZ2VyL0NvbXBvbmVudC5tanNcIjtpbXBvcnQgbCBmcm9tXCIuLi8uLi9saXN0L0Jhc2UubWpzXCI7aW1wb3J0IGEgZnJvbVwiLi9QaWNrZXIubWpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vLi4vZGF0YS9TdG9yZS5tanNcIjtpbXBvcnQgbiBmcm9tXCIuLi8uLi91dGlsL1ZEb20ubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBhe3N0YXRpYyB0cmlnZ2VyQWN0aW9ucz1bXCJhbGxcIixcImZpbHRlcmVkXCJdO3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5mb3JtLmZpZWxkLkNvbWJvQm94XCIsbnR5cGU6XCJjb21ib2JveFwiLGFjdGl2ZVJlY29yZElkOm51bGwsYmFzZUNsczpbXCJuZW8tY29tYm9ib3hcIixcIm5lby1waWNrZXJmaWVsZFwiLFwibmVvLXRleHRmaWVsZFwiXSxkaXNwbGF5RmllbGQ6XCJuYW1lXCIsZmlsdGVyRGVsYXk6NTAsZmlsdGVyT3BlcmF0b3JfOlwibGlrZVwiLGZvcmNlU2VsZWN0aW9uOiEwLGtleXM6e0Rvd246XCJvbktleURvd25Eb3duXCIsRXNjYXBlOlwib25LZXlEb3duRXNjYXBlXCJ9LGxhc3RNYW51YWxJbnB1dDpudWxsLGxpc3Q6bnVsbCxsaXN0Q29uZmlnXzpudWxsLHBpY2tlckhlaWdodDpudWxsLHJvbGU6XCJjb21ib2JveFwiLHN0b3JlXzpudWxsLHRyaWdnZXJBY3Rpb25fOlwiYWxsXCIsdHlwZUFoZWFkXzohMCx1c2VGaWx0ZXJfOiEwLHZhbHVlRmllbGQ6XCJpZFwifTtwcmVTdG9yZUxvYWRWYWx1ZT1udWxsO3Byb2dyYW1tYXRpY1ZhbHVlQ2hhbmdlPSExO2NvbnN0cnVjdCh0KXtzdXBlci5jb25zdHJ1Y3QodCk7bGV0IGk9dGhpcztpLmZpbHRlck9uSW5wdXQ9ZShpLmZpbHRlck9uSW5wdXQsaSxpLmZpbHRlckRlbGF5KSxpLnR5cGVBaGVhZCYmaS51cGRhdGVUeXBlQWhlYWQoKX1hZnRlclNldElucHV0VmFsdWUoZSx0KXtzdXBlci5hZnRlclNldElucHV0VmFsdWUoZSx0KSx0aGlzLnVwZGF0ZVR5cGVBaGVhZFZhbHVlKGUpfWFmdGVyU2V0U3RvcmUoZSx0KXtsZXQgaSxsLGE9dGhpcztlJiYoYS51c2VGaWx0ZXImJihpPWUuZmlsdGVyc3x8W10saS5wdXNoKHtpbmNsdWRlRW1wdHlWYWx1ZXM6ITAsb3BlcmF0b3I6YS5maWx0ZXJPcGVyYXRvcixwcm9wZXJ0eTphLmRpc3BsYXlGaWVsZCx2YWx1ZTplPy5bYS5kaXNwbGF5RmllbGRdfHxudWxsfSksZS5maWx0ZXJzPWkpLGEubGlzdCYmKGEubGlzdC5zdG9yZT1lKSxlLm9uKFwibG9hZFwiLGEub25TdG9yZUxvYWQsYSksYS52YWx1ZSYmKGw9YS52YWx1ZSxhLl92YWx1ZT1udWxsLGEudmFsdWU9bCkpfWFmdGVyU2V0VHlwZUFoZWFkKGUsdCl7dGhpcy5yZW5kZXJlZCYmdGhpcy51cGRhdGVUeXBlQWhlYWQoKX1hZnRlclNldFZhbHVlKGUsdCl7bGV0IGk9dGhpcztpZihpLnByb2dyYW1tYXRpY1ZhbHVlQ2hhbmdlPSEwLHN1cGVyLmFmdGVyU2V0VmFsdWUoZSx0KSxpLnByb2dyYW1tYXRpY1ZhbHVlQ2hhbmdlPSExLGkuX3BpY2tlcj8uaXNWaXNpYmxlKXtsZXQgbD1pLmxpc3Q/LnNlbGVjdGlvbk1vZGVsO2U/KHQmJmw/LmRlc2VsZWN0KHQpLGw/LnNlbGVjdChlKSk6bC5kZXNlbGVjdEFsbCgpfX1iZWZvcmVTZXRMaXN0Q29uZmlnKGUsdCl7cmV0dXJuIGUmJnRoaXMucGFyc2VJdGVtQ29uZmlncyhlKSxlfWJlZm9yZVNldFN0b3JlKGUsaSl7bGV0e2Rpc3BsYXlGaWVsZDpsLHZhbHVlRmllbGQ6YX09dGhpcztyZXR1cm4hZSYmdGhpcy5iaW5kPy5zdG9yZT9udWxsOihpPy5kZXN0cm95KCksQXJyYXkuaXNBcnJheShlKSYmKGU9e2RhdGE6ZS5tYXAoKGUsdCk9PihcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9e1tsXTplLFthXTplfSksZSkpfSksXCJPYmplY3RcIiE9PU5lby50eXBlT2YoZSl8fGUubW9kZWx8fGUubW9kdWxlfHxlLm50eXBlfHwoZS5tb2RlbD17ZmllbGRzOlt7bmFtZTpsLHR5cGU6XCJTdHJpbmdcIn0se25hbWU6YSx0eXBlOlwiU3RyaW5nXCJ9XX0pLHQuYmVmb3JlU2V0SW5zdGFuY2UoZSxvKSl9YmVmb3JlU2V0VHJpZ2dlckFjdGlvbihlLHQpe3JldHVybiB0aGlzLmJlZm9yZVNldEVudW1WYWx1ZShlLHQsXCJ0cmlnZ2VyQWN0aW9uXCIpfWJlZm9yZVNldFZhbHVlKGUsdCl7bGV0IGksbD10aGlzLHtkaXNwbGF5RmllbGQ6YSxzdG9yZTpvfT1sO3JldHVybiBOZW8uaXNSZWNvcmQoZSk/ZTpudWxsPT09ZT9udWxsOm8/by5nZXRDb3VudCgpPjA/KGk9by5pc0ZpbHRlcmVkKCk/by5hbGxJdGVtcy5nZXQoZSk6by5nZXQoZSksaXx8KG8uZmluZChhLGUpWzBdfHxudWxsKSk6KGwucHJlU3RvcmVMb2FkVmFsdWU9ZSxudWxsKTplfWNyZWF0ZVBpY2tlckNvbXBvbmVudCgpe2NvbnN0IGU9dGhpcztyZXR1cm4gZS5saXN0PU5lby5jcmVhdGUoe21vZHVsZTpsLGFwcE5hbWU6ZS5hcHBOYW1lLGRpc3BsYXlGaWVsZDplLmRpc3BsYXlGaWVsZCxpdGVtUm9sZTpcIm9wdGlvblwiLGl0ZW1zRm9jdXNhYmxlOiExLGtlZXBGb2N1c0luZGV4OiEwLG5hdmlnYXRvcjp7ZXZlbnRTb3VyY2U6ZS5nZXRJbnB1dEVsSWQoKX0scGFyZW50SWQ6ZS5pZCxyb2xlOlwibGlzdGJveFwiLHNlbGVjdGlvbk1vZGVsOntzdGF5SW5MaXN0OiExfSxzdG9yZTplLnN0b3JlLHdpbmRvd0lkOmUud2luZG93SWQsLi4uZS5saXN0Q29uZmlnfSksZS5nZXRJbnB1dEVsKClbXCJhcmlhLWNvbnRyb2xzXCJdPWUubGlzdC5pZCxlLmxpc3QuYWRkRG9tTGlzdGVuZXJzKHtuZW9uYXZpZ2F0ZTp7Zm46ZS5vbkxpc3RJdGVtTmF2aWdhdGUsc2NvcGU6ZX19KSxlLmxpc3Quc2VsZWN0aW9uTW9kZWwub24oe25vQ2hhbmdlOmUub25MaXN0SXRlbVNlbGVjdGlvbk5vQ2hhbmdlLHNlbGVjdGlvbkNoYW5nZTplLm9uTGlzdEl0ZW1TZWxlY3Rpb25DaGFuZ2Usc2NvcGU6ZX0pLGUubGlzdH1kb0ZpbHRlcihlKXtsZXQgdD10aGlzLHtwaWNrZXI6aSxzdG9yZTpsfT10LGE9dC52YWx1ZSxvPWwuZ2V0RmlsdGVyKHQuZGlzcGxheUZpZWxkKTtpZihvJiYoby52YWx1ZT1lKSxsLmdldENvdW50KCkpe3Quc2hvd1BpY2tlcigpO2xldHtsaXN0OmV9PXQse3NlbGVjdGlvbk1vZGVsOml9PWUsbz1sLmluZGV4T2YoYSk7YSYmKGkuc3VzcGVuZEV2ZW50cz0hMCxpLnNlbGVjdChhKSxpLnN1c3BlbmRFdmVudHM9ITEpLGUuX2ZvY3VzSW5kZXg9LTEsZS5mb2N1c0luZGV4PW8+LTE/bzowfWVsc2UgaT8uaGlkZSgpfWZpbHRlck9uSW5wdXQoZSl7ZT90aGlzLmRvRmlsdGVyKGUpOnRoaXMucGlja2VyPy5oaWRlKCl9YXN5bmMgZmlyZUNoYW5nZUV2ZW50KGUsdCl7bGV0IGw9dGhpcyxhPU5lby5mb3JtPy5Db250YWluZXIsbz17Y29tcG9uZW50Omwsb2xkVmFsdWU6dCx2YWx1ZTplfTthd2FpdCBsLnRpbWVvdXQoMzApLGwuZmlyZShcImNoYW5nZVwiLG8pLGwuc3VzcGVuZEV2ZW50c3x8aS5nZXRQYXJlbnRzKGwpLmZvckVhY2goZT0+e2EmJmUgaW5zdGFuY2VvZiBhJiZlLmZpcmUoXCJmaWVsZENoYW5nZVwiLG8pfSl9Z2V0SW5wdXRIaW50RWwoKXtyZXR1cm4gbi5maW5kKHRoaXMudmRvbSx0aGlzLmdldElucHV0SGludElkKCkpPy52ZG9tfWdldElucHV0SGludElkKCl7cmV0dXJuIHRoaXMuaWQrXCJfX2lucHV0LWhpbnRcIn1nZXRSZWNvcmQoKXtsZXR7bGlzdDplfT10aGlzLHQ9ZS5zZWxlY3Rpb25Nb2RlbC5nZXRTZWxlY3Rpb24oKVswXTtyZXR1cm4gdCYmdGhpcy5zdG9yZS5nZXQoZS5nZXRJdGVtUmVjb3JkSWQodCkpfHxudWxsfWdldFN1Ym1pdFZhbHVlKCl7bGV0IGU9dGhpcztyZXR1cm4gZS52YWx1ZT8uW2UudmFsdWVGaWVsZF18fGUuZW1wdHlWYWx1ZX1vbkNvbnN0cnVjdGVkKCl7Y29uc3QgZT10aGlzLmdldElucHV0RWwoKTtlW1wiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCJdPVwiXCIsZVtcImFyaWEtZXhwYW5kZWRcIl09ITEsZVtcImFyaWEtaGFzcG9wdXBcIl09XCJsaXN0Ym94XCIsc3VwZXIub25Db25zdHJ1Y3RlZCguLi5hcmd1bWVudHMpfW9uRm9jdXNMZWF2ZShlKXtsZXQgdD10aGlzO3QuZm9yY2VTZWxlY3Rpb24mJiF0LnZhbHVlJiYodC5wcm9ncmFtbWF0aWNWYWx1ZUNoYW5nZT0hMCx0LnZhbHVlPXQuc3RvcmUuZ2V0KHQuYWN0aXZlUmVjb3JkSWQpLHQucHJvZ3JhbW1hdGljVmFsdWVDaGFuZ2U9ITEpLHQudXBkYXRlVHlwZUFoZWFkVmFsdWUobnVsbCksc3VwZXIub25Gb2N1c0xlYXZlKGUpfW9uS2V5RG93bkRvd24oZSl7bGV0IHQ9dGhpczt0LnBpY2tlciYmIXQucGlja2VyPy5oaWRkZW58fHQub25QaWNrZXJUcmlnZ2VyQ2xpY2soKX1hc3luYyBvbkxpc3RJdGVtU2VsZWN0aW9uQ2hhbmdlKHtzZWxlY3Rpb246ZX0pe2lmKGU/Lmxlbmd0aCl7bGV0IHQ9dGhpcyxpPWVbMF0sbD1cInN0cmluZ1wiPT10eXBlb2YgaT90LnN0b3JlLmdldCh0Lmxpc3QuZ2V0SXRlbVJlY29yZElkKGkpKTppO3QuaGludFJlY29yZElkPW51bGwsdC51cGRhdGVUeXBlQWhlYWRWYWx1ZShudWxsLCEwKSxhd2FpdCB0LmhpZGVQaWNrZXIoKSx0LnByZXZlbnRGaWx0ZXJpbmc9ITAsdC52YWx1ZT1sLHQucHJldmVudEZpbHRlcmluZz0hMSx0LmZpcmUoXCJzZWxlY3RcIix7dmFsdWU6bH0pfX1vbkxpc3RJdGVtU2VsZWN0aW9uTm9DaGFuZ2UoKXt0aGlzLmhpZGVQaWNrZXIoKX1vbkxpc3RJdGVtTmF2aWdhdGUoZSl7bGV0e2FjdGl2ZUluZGV4OnR9PWU7aWYodD49MCl7bGV0IGk9dGhpcyx7c3RvcmU6bH09aTtpLmFjdGl2ZVJlY29yZD1lLnJlY29yZHx8bC5nZXRBdCh0KSxpLmFjdGl2ZVJlY29yZElkPWkuYWN0aXZlUmVjb3JkW2wuZ2V0S2V5UHJvcGVydHkoKV0saS50eXBlQWhlYWQ/aS51cGRhdGVUeXBlQWhlYWRWYWx1ZShpLmxhc3RNYW51YWxJbnB1dCk6aS51cGRhdGUoKX19b25QaWNrZXJIaWRkZW5DaGFuZ2Uoe3ZhbHVlOmV9KXtjb25zdCB0PXRoaXMuZ2V0SW5wdXRFbCgpO3N1cGVyLm9uUGlja2VySGlkZGVuQ2hhbmdlKC4uLmFyZ3VtZW50cyksZSYmKHRbXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIl09XCJcIiksdFtcImFyaWEtZXhwYW5kZWRcIl09IWUsdGhpcy51cGRhdGUoKX1vblN0b3JlTG9hZChlKXtsZXQgdD10aGlzLGk9dC5wcmVTdG9yZUxvYWRWYWx1ZTtudWxsIT09aSYmKHQuX3ZhbHVlPXZvaWQgMCx0LnZhbHVlPWkpfXNlbGVjdEZpcnN0TGlzdEl0ZW0oKXt0aGlzLnNlbGVjdExpc3RJdGVtKDApfXNlbGVjdExhc3RMaXN0SXRlbSgpe3RoaXMuc2VsZWN0TGlzdEl0ZW0odGhpcy5zdG9yZS5nZXRDb3VudCgpLTEpfXNlbGVjdExpc3RJdGVtKGUpe2xldCB0PXRoaXM7TmVvLmlzTnVtYmVyKGUpfHwoZT10LmFjdGl2ZVJlY29yZElkP3Quc3RvcmUuaW5kZXhPZktleSh0LmFjdGl2ZVJlY29yZElkKTowKSx0Lmxpc3Quc2VsZWN0SXRlbShlKX10b2dnbGVQaWNrZXIoKXtsZXQgZT10aGlzLHtwaWNrZXI6dH09ZTshMT09PXQ/LmhpZGRlbj90LmhpZGRlbj0hMDplLmRpc2FibGVkfHxlLnJlYWRPbmx5fHxlLmRvRmlsdGVyKG51bGwpfXVwZGF0ZUlucHV0VmFsdWVGcm9tVmFsdWUoZSl7bGV0IHQ9bnVsbDtOZW8uaXNSZWNvcmQoZSkmJih0PWVbdGhpcy5kaXNwbGF5RmllbGRdKSx0aGlzLmlucHV0VmFsdWU9dH11cGRhdGVUeXBlQWhlYWQoZT0hMSl7bGV0IHQ9dGhpcyxpPW4uZmluZCh0LnZkb20se2ZsYWc6XCJuZW8tcmVhbC1pbnB1dFwifSk7dC50eXBlQWhlYWQ/aS5wYXJlbnROb2RlLmNuW2kuaW5kZXhdPXt0YWc6XCJzcGFuXCIsY2xzOltcIm5lby1pbnB1dC1maWVsZC13cmFwcGVyXCJdLGNuOlt7dGFnOlwiaW5wdXRcIixhdXRvY29tcGxldGU6XCJub1wiLGF1dG9jb3JyZWN0Olwib2ZmXCIsY2xzOltcIm5lby10ZXh0ZmllbGQtaW5wdXRcIixcIm5lby10eXBlYWhlYWQtaW5wdXRcIl0sZGlzYWJsZWQ6ITAsaWQ6dC5nZXRJbnB1dEhpbnRJZCgpLHNwZWxsY2hlY2s6XCJmYWxzZVwifSxpLnZkb21dfTpuLnJlcGxhY2VWZG9tQ2hpbGQodC52ZG9tLGkucGFyZW50Tm9kZS5pZCxpLnZkb20pLCFlJiZ0LnVwZGF0ZSgpfXVwZGF0ZVR5cGVBaGVhZFZhbHVlKGU9dGhpcy5sYXN0TWFudWFsSW5wdXQsdD0hMSl7bGV0IGk9dGhpcyxsPSExLGE9aS5nZXRJbnB1dEhpbnRFbCgpLHtkaXNwbGF5RmllbGQ6byxzdG9yZTpufT1pO2lmKGkudHlwZUFoZWFkKXtpZighaS52YWx1ZSYmZT8ubGVuZ3RoPjApe2NvbnN0IHQ9ZS50b0xvY2FsZUxvd2VyQ2FzZSgpO2w9bi5pdGVtcy5maW5kKGU9PmVbb10/LnRvTG93ZXJDYXNlPy4oKT8uc3RhcnRzV2l0aCh0KSksbCYmYSYmKGEudmFsdWU9ZStsW29dLnN1YnN0cihlLmxlbmd0aCksaS5hY3RpdmVSZWNvcmQ9bCxpLmFjdGl2ZVJlY29yZElkPWxbbi5nZXRLZXlQcm9wZXJ0eSgpXSl9IWwmJmEmJihhLnZhbHVlPWkuYWN0aXZlUmVjb3JkPWkuYWN0aXZlUmVjb3JkSWQ9bnVsbCksIXQmJmkudXBkYXRlKCl9fXVwZGF0ZVZhbHVlRnJvbUlucHV0VmFsdWUoZSl7bGV0IHQ9dGhpczt0Lmxhc3RNYW51YWxJbnB1dD1lLHQucHJvZ3JhbW1hdGljVmFsdWVDaGFuZ2V8fCh0Ll92YWx1ZT1udWxsLHQubGlzdD8uc2VsZWN0aW9uTW9kZWwuZGVzZWxlY3RBbGwoKSx0LmZpbHRlck9uSW5wdXQoZSkpfX0pOyIsImltcG9ydCBlIGZyb21cIi4vQ29tYm9Cb3gubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBle3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5mb3JtLmZpZWxkLkNvdW50cnlcIixudHlwZTpcImNvdW50cnlmaWVsZFwiLHppcENvZGVGaWVsZF86bnVsbH07YWZ0ZXJTZXRaaXBDb2RlRmllbGQoZSxvKXtlJiZlIGluc3RhbmNlb2YgTmVvLmZvcm0uZmllbGQuQmFzZSYmKGUuY291bnRyeUZpZWxkPXRoaXMpfWJlZm9yZVNldFppcENvZGVGaWVsZChlLG8pe2xldCB0PXRoaXM7cmV0dXJuIE5lby5pc1N0cmluZyhlKT90LnVwKCkuZ2V0UmVmZXJlbmNlKGUpOmV9fSk7IiwiaW1wb3J0IGUgZnJvbVwiLi4vLi4vY29udGFpbmVyL0Jhc2UubWpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vdXRpbC9BcnJheS5tanNcIjtpbXBvcnQgdCBmcm9tXCIuL3RyaWdnZXIvUGlja2VyLm1qc1wiO2ltcG9ydCByIGZyb21cIi4vVGV4dC5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIHJ7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmZvcm0uZmllbGQuUGlja2VyXCIsbnR5cGU6XCJwaWNrZXJmaWVsZFwiLGJhc2VDbHM6W1wibmVvLXBpY2tlcmZpZWxkXCIsXCJuZW8tdGV4dGZpZWxkXCJdLGNsaWVudFJlY3RzOm51bGwsa2V5czp7RW50ZXI6XCJvbktleURvd25FbnRlclwiLEVzY2FwZTpcIm9uS2V5RG93bkVzY2FwZVwifSxwaWNrZXI6bnVsbCxwaWNrZXJDb25maWc6bnVsbCxwaWNrZXJIZWlnaHQ6MTAwLHBpY2tlcklzTW91bnRlZF86ITEscGlja2VyTWF4SGVpZ2h0OjIwMCxwaWNrZXJXaWR0aDpudWxsLHNob3dQaWNrZXJPbkZvY3VzOiExLHRyaWdnZXJzOlt7bW9kdWxlOnR9XX07Y29uc3RydWN0KGUpe3N1cGVyLmNvbnN0cnVjdChlKTtsZXQgaT10aGlzO2kuYWRkRG9tTGlzdGVuZXJzKHtjbGljazppLm9uSW5wdXRDbGljayxzY29wZTppfSl9YWZ0ZXJTZXRNb3VudGVkKGUsaSl7ITE9PT1lJiZpJiZ0aGlzLnBpY2tlcklzTW91bnRlZCYmdGhpcy5waWNrZXIuaGlkZSgpLHN1cGVyLmFmdGVyU2V0TW91bnRlZChlLGkpfWFmdGVyU2V0VGhlbWUoZSxpKXtzdXBlci5hZnRlclNldFRoZW1lKGUsaSksdGhpcy5waWNrZXImJih0aGlzLnBpY2tlci50aGVtZT1lKX1jcmVhdGVQaWNrZXIoKXtjb25zdCBpPXRoaXMse3BpY2tlcldpZHRoOnR9PWkscj1pLmNyZWF0ZVBpY2tlckNvbXBvbmVudCgpO3JldHVybiBpLnBpY2tlcj1OZW8uY3JlYXRlKHttb2R1bGU6ZSxwYXJlbnRJZDpcImRvY3VtZW50LmJvZHlcIixmbG9hdGluZzohMCxhbGlnbjp7ZWRnZUFsaWduOnQ/XCJ0MC1iMFwiOlwidC1iXCIsbWF0Y2hTaXplOiF0LGF4aXNMb2NrOiEwLHRhcmdldDppLmdldElucHV0V3JhcHBlcklkKCl9LGFwcE5hbWU6aS5hcHBOYW1lLGNsczpbXCJuZW8tcGlja2VyLWNvbnRhaW5lclwiLFwibmVvLWNvbnRhaW5lclwiXSxoZWlnaHQ6aS5waWNrZXJIZWlnaHQsaGlkZGVuOiEwLGlkOmkuZ2V0UGlja2VySWQoKSxpdGVtczpyP1tyXTpbXSxtYXhIZWlnaHQ6aS5waWNrZXJNYXhIZWlnaHQsdGhlbWU6aS50aGVtZSx3aWR0aDp0LHdpbmRvd0lkOmkud2luZG93SWQsLi4uaS5waWNrZXJDb25maWcsb25Gb2N1c0xlYXZlOmU9PntsZXQgdCxyPSExO2Zvcih0IG9mIGUub2xkUGF0aClpZih0LmlkPT09aS5pZCl7cj0hMDticmVha31yfHwoaS5oaWRlUGlja2VyKCksc3VwZXIub25Gb2N1c0xlYXZlKGUpKX19KSxpLnBpY2tlci5vbihcImhpZGRlbkNoYW5nZVwiLGkub25QaWNrZXJIaWRkZW5DaGFuZ2UsaSksaS5waWNrZXJ9Y3JlYXRlUGlja2VyQ29tcG9uZW50KCl7cmV0dXJuIG51bGx9ZGVzdHJveSguLi5lKXtsZXR7cGlja2VyOml9PXRoaXM7ITE9PT1pPy5oaWRkZW4mJmkudW5tb3VudCgpLGk/LmRlc3Ryb3koKSxzdXBlci5kZXN0cm95KC4uLmUpfWdldFBpY2tlcigpe3JldHVybiB0aGlzLnBpY2tlcnx8dGhpcy5jcmVhdGVQaWNrZXIoKX1nZXRQaWNrZXJJZCgpe3JldHVybmAke3RoaXMuaWR9X19waWNrZXJgfWFzeW5jIGhpZGVQaWNrZXIoKXt0aGlzLnBpY2tlciYmKHRoaXMucGlja2VyLmhpZGRlbj0hMCl9b25Gb2N1c0VudGVyKGUpe3N1cGVyLm9uRm9jdXNFbnRlcihlKTt0aGlzLnNob3dQaWNrZXJPbkZvY3VzJiZ0aGlzLnNob3dQaWNrZXIoKX1vbkZvY3VzTGVhdmUoZSl7bGV0IGksdD10aGlzLHI9ITE7Zm9yKGkgb2YgZS5vbGRQYXRoKWlmKGkuaWQ9PT10LmdldFBpY2tlcklkKCkpe3I9ITA7YnJlYWt9cnx8KHQuaGlkZVBpY2tlcigpLHN1cGVyLm9uRm9jdXNMZWF2ZShlKSl9b25JbnB1dENsaWNrKGUpeyF0aGlzLmVkaXRhYmxlJiZ0aGlzLnRvZ2dsZVBpY2tlcigpfW9uS2V5RG93bkVudGVyKGUsaSx0KXshdGhpcy5waWNrZXJJc01vdW50ZWQmJnRoaXMuc2hvd1BpY2tlcihpLHQpfW9uS2V5RG93bkVzY2FwZShlKXtpZih0aGlzLnBpY2tlcklzTW91bnRlZClyZXR1cm4gdGhpcy5oaWRlUGlja2VyKCksZS5jYW5jZWxCdWJibGU9ITAsITF9b25QaWNrZXJIaWRkZW5DaGFuZ2UoZSl7dGhpcy5waWNrZXJJc01vdW50ZWQ9IWUudmFsdWV9b25QaWNrZXJUcmlnZ2VyQ2xpY2soKXt0aGlzLnRvZ2dsZVBpY2tlcigpfXNob3dQaWNrZXIoKXt0aGlzLmdldFBpY2tlcigpLmhpZGRlbj0hMX10b2dnbGVQaWNrZXIoKXtsZXQgZT10aGlzLmdldFBpY2tlcigpO2UuaGlkZGVuPSFlLmhpZGRlbn19KTsiLCJpbXBvcnQgZSBmcm9tXCIuL0Jhc2UubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBle3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5mb3JtLmZpZWxkLnRyaWdnZXIuUGlja2VyXCIsbnR5cGU6XCJ0cmlnZ2VyLXBpY2tlclwiLGljb25DbHM6XCJmYSBmYS1jYXJldC1kb3duXCIsdHlwZTpcInBpY2tlclwifTtvblRyaWdnZXJDbGljayhlKXt0aGlzLmZpZWxkLm9uUGlja2VyVHJpZ2dlckNsaWNrKCl9fSk7IiwiaW1wb3J0IGUgZnJvbVwiLi4vdXRpbC9DbGFzc1N5c3RlbS5tanNcIjtpbXBvcnQgdCBmcm9tXCIuLi9jb21wb25lbnQvQmFzZS5tanNcIjtpbXBvcnQgcyBmcm9tXCIuLi9zZWxlY3Rpb24vTGlzdE1vZGVsLm1qc1wiO2ltcG9ydCBvIGZyb21cIi4uL3V0aWwvQXJyYXkubWpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vZGF0YS9TdG9yZS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIHR7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmxpc3QuQmFzZVwiLG50eXBlOlwibGlzdFwiLGFuaW1hdGVfOiExLGF1dG9EZXN0cm95U3RvcmU6ITAsYmFzZUNsczpbXCJuZW8tbGlzdFwiXSxkaXNhYmxlZEZpZWxkOlwiZGlzYWJsZWRcIixkaXNhYmxlU2VsZWN0aW9uXzohMSxkaXNwbGF5RmllbGQ6XCJuYW1lXCIsZHJhZ2dhYmxlXzohMSxkcmFnWm9uZTpudWxsLGRyYWdab25lQ29uZmlnOm51bGwsZm9jdXNJbmRleF86bnVsbCxoZWFkZXJsZXNzU2VsZWN0ZWRJbmRleF86bnVsbCxoaWdobGlnaHRGaWx0ZXJWYWx1ZTohMCxpdGVtQ2xzOlwibmVvLWxpc3QtaXRlbVwiLGl0ZW1IZWlnaHRfOm51bGwsaXRlbVRhZ05hbWU6XCJsaVwiLGl0ZW1XaWR0aF86bnVsbCxpdGVtc0ZvY3VzYWJsZTohMCxrZWVwRm9jdXNJbmRleDohMSxrZXlzOnt9LHBsdWdpbkFuaW1hdGVDb25maWc6bnVsbCxzZWxlY3RlZEluZGV4XzpudWxsLHNlbGVjdGlvbk1vZGVsXzpudWxsLHNlbGVjdE9uRm9jdXM6ITEsc2lsZW50U2VsZWN0OiExLHN0b3JlXzpudWxsLHVzZUNoZWNrQm94ZXNfOiExLHVzZUhlYWRlcnNfOiExLHVzZVdyYXBwZXJOb2RlXzohMSxfdmRvbTp7dGFnOlwidWxcIixjbjpbXX19O2l0ZW1Sb2xlPW51bGw7bmF2aWdhdG9yPXt9O3Njcm9sbEludG9WaWV3T25Gb2N1cz0hMDtjb25zdHJ1Y3QoZSl7c3VwZXIuY29uc3RydWN0KGUpO2xldCB0PXRoaXM7dC51c2VIZWFkZXJzJiYodC5zY3JvbGxJbnRvVmlld09uRm9jdXM9ITEpLHQuYWRkRG9tTGlzdGVuZXJzKHtjbGljazp0Lm9uQ2xpY2ssc2NvcGU6dH0pfWFmdGVyU2V0QW5pbWF0ZShlLHQpe2UmJiF0aGlzLmdldFBsdWdpbihcImxpc3QtYW5pbWF0ZVwiKSYmaW1wb3J0KFwiLi9wbHVnaW4vQW5pbWF0ZS5tanNcIikudGhlbihlPT57bGV0IHQ9dGhpcyxzPXQucGx1Z2luc3x8W107cy5wdXNoKHttb2R1bGU6ZS5kZWZhdWx0LC4uLnQucGx1Z2luQW5pbWF0ZUNvbmZpZ30pLHQucGx1Z2lucz1zfSl9YWZ0ZXJTZXREaXNhYmxlU2VsZWN0aW9uKGUsdCl7ZSYmdGhpcy5yZW5kZXJlZCYmdGhpcy5zZWxlY3Rpb25Nb2RlbD8uZGVzZWxlY3RBbGwoKX1hZnRlclNldERyYWdnYWJsZShlLHQpe2xldCBzPXRoaXM7ZSYmIXMuZHJhZ1pvbmUmJmltcG9ydChcIi4uL2RyYWdnYWJsZS9saXN0L0RyYWdab25lLm1qc1wiKS50aGVuKGU9PntzLmRyYWdab25lPU5lby5jcmVhdGUoe21vZHVsZTplLmRlZmF1bHQsYXBwTmFtZTpzLmFwcE5hbWUsb3duZXI6cyx3aW5kb3dJZDpzLndpbmRvd0lkLC4uLnMuZHJhZ1pvbmVDb25maWd9KX0pfWFmdGVyU2V0Rm9jdXNJbmRleChlLHQpe251bGwhPT1lJiZ0aGlzLnVwZGF0ZUl0ZW1Gb2N1cyhlKX1hZnRlclNldEhlYWRlcmxlc3NTZWxlY3RlZEluZGV4KGUsdCl7bGV0IHM9dGhpcztOZW8uaXNOdW1iZXIoZSk/cy5zZWxlY3RlZEluZGV4PXMuc3RvcmUuZ2V0Q291bnQoKT9zLmdldFNlbGVjdGVkSW5kZXgoZSk6bnVsbDpOZW8uaXNOdW1iZXIodCkmJihzLnNlbGVjdGVkSW5kZXg9bnVsbCl9YWZ0ZXJTZXRNb3VudGVkKGUsdCl7bGV0IHM9dGhpczshZSYmcy5oYXNOYXZpZ2F0b3ImJihOZW8ubWFpbi5hZGRvbi5OYXZpZ2F0b3IudW5zdWJzY3JpYmUocy5uYXZpZ2F0b3IpLHMuaGFzTmF2aWdhdG9yPSExLHMuc2VsZWN0ZWRJbmRleD1udWxsKSxlJiYocy5oYXNOYXZpZ2F0b3J8fChzLm5hdmlnYXRvcj17YXBwTmFtZTpzLmFwcE5hbWUsYXV0b0NsaWNrOnMuc2VsZWN0T25Gb2N1cyxpZDpzLmlkLGtlZXBGb2N1c0luZGV4OnMua2VlcEZvY3VzSW5kZXgsc2VsZWN0b3I6YC4ke3MuaXRlbUNsc306bm90KC5uZW8tZGlzYWJsZWQsLm5lby1saXN0LWhlYWRlcilgLHdpbmRvd0lkOnMud2luZG93SWQsLi4ucy5uYXZpZ2F0b3J9LHMuaGFzTmF2aWdhdG9yPSEwKSxOZW8ubWFpbi5hZGRvbi5OYXZpZ2F0b3Iuc3Vic2NyaWJlKHMubmF2aWdhdG9yKSksc3VwZXIuYWZ0ZXJTZXRNb3VudGVkKGUsdCl9YWZ0ZXJTZXRTZWxlY3RlZEluZGV4KGUsdCl7bGV0IHM9dGhpcyx7c2VsZWN0aW9uTW9kZWw6b309cztOZW8uaXNOdW1iZXIoZSk/KG8/LnNlbGVjdEF0KGUpLHMuaGVhZGVybGVzc1NlbGVjdGVkSW5kZXg9cy5nZXRIZWFkZXJsZXNzSW5kZXgoZSkpOk5lby5pc051bWJlcih0KSYmKG8uZGVzZWxlY3RBbGwoKSxzLmhlYWRlcmxlc3NTZWxlY3RlZEluZGV4PW51bGwpfWFmdGVyU2V0U2VsZWN0aW9uTW9kZWwoZSx0KXt0aGlzLnJlbmRlcmVkJiZlLnJlZ2lzdGVyKHRoaXMpfWFmdGVyU2V0U3RvcmUoZSx0KXtlPy5vbih7ZmlsdGVyOlwib25TdG9yZUZpbHRlclwiLGxvYWQ6XCJvblN0b3JlTG9hZFwiLHJlY29yZENoYW5nZTpcIm9uU3RvcmVSZWNvcmRDaGFuZ2VcIixzb3J0Olwib25TdG9yZVNvcnRcIixzY29wZTp0aGlzfSksZT8uZ2V0Q291bnQoKT4wJiZ0aGlzLm9uU3RvcmVMb2FkKCl9YWZ0ZXJTZXRVc2VDaGVja0JveGVzKGUsdCl7bGV0e2NsczpzfT10aGlzO28udG9nZ2xlKHMsXCJuZW8tdXNlLWNoZWNraWNvbnNcIiwhIWUpLHRoaXMuY2xzPXN9YWZ0ZXJTZXRVc2VIZWFkZXJzKGUsdCl7aWYoZSl7bGV0IGU9dGhpcztlLnZkb20udGFnPVwiZGxcIixlLml0ZW1UYWdOYW1lPVwiZGRcIn19YWZ0ZXJTZXRVc2VXcmFwcGVyTm9kZShlLHQpe2xldCBzPXRoaXMse2NsczpyLHdyYXBwZXJDbHM6aX09cztvW2U/XCJhZGRcIjpcInJlbW92ZVwiXShyLFwibmVvLXVzZS13cmFwcGVyLW5vZGVcIiksb1tlP1wiYWRkXCI6XCJyZW1vdmVcIl0oaSxcIm5lby1saXN0LXdyYXBwZXJcIikscy53cmFwcGVyQ2xzPWkscy5jbHM9cn1hZnRlclNldFdpbmRvd0lkKGUsdCl7c3VwZXIuYWZ0ZXJTZXRXaW5kb3dJZChlLHQpO2xldHtuYXZpZ2F0b3I6c309dGhpcztzJiYocy53aW5kb3dJZD1lKX1iZWZvcmVTZXRTZWxlY3Rpb25Nb2RlbCh0LG8pe3JldHVybiBvPy5kZXN0cm95KCksZS5iZWZvcmVTZXRJbnN0YW5jZSh0LHMpfWJlZm9yZVNldFN0b3JlKHQscyl7cmV0dXJuIHM/LmRlc3Ryb3koKSxlLmJlZm9yZVNldEluc3RhbmNlKHQscil9Y3JlYXRlSXRlbShlLHQpe2xldCBzLHIsaT10aGlzLGw9W2kuaXRlbUNsc10sbj1udWxsIT09aS5pdGVtSGVpZ2h0LGE9bnVsbCE9PWkuaXRlbVdpZHRoLGQ9aS51c2VIZWFkZXJzJiZlLmlzSGVhZGVyLGM9aS5jcmVhdGVJdGVtQ29udGVudChlLHQpLHU9aS5nZXRJdGVtSWQoZVtpLmdldEtleVByb3BlcnR5KCldKSx7c2VsZWN0aW9uTW9kZWw6bX09aSxoPSFpLmRpc2FibGVTZWxlY3Rpb24mJm0/LmlzU2VsZWN0ZWQodSk7c3dpdGNoKGQmJmwucHVzaChcIm5lby1saXN0LWhlYWRlclwiKSxoJiZsLnB1c2gobS5zZWxlY3RlZENscyksZS5jbHMmJm8uYWRkKGwsZS5jbHMpLGVbaS5kaXNhYmxlZEZpZWxkXSYmbC5wdXNoKFwibmVvLWRpc2FibGVkXCIpLHM9e2lkOnUsdGFnOmQ/XCJkdFwiOmkuaXRlbVRhZ05hbWUsXCJhcmlhLXNlbGVjdGVkXCI6aCxjbHM6bH0saS5pdGVtc0ZvY3VzYWJsZSYmKHMudGFiSW5kZXg9LTEpLChlLmhpZGRlbnx8Yy5yZW1vdmVEb20pJiYocy5yZW1vdmVEb209ITApLGkuaXRlbVJvbGUmJihzLnJvbGU9aS5pdGVtUm9sZSksTmVvLnR5cGVPZihjKSl7Y2FzZSBudWxsOnJldHVybiBudWxsO2Nhc2VcIkFycmF5XCI6cy5jbj1jLHI9ITAsYy5mb3JFYWNoKGU9PntlLnJlbW92ZURvbXx8KHI9ITEpfSksciYmKHMucmVtb3ZlRG9tPSEwKTticmVhaztjYXNlXCJPYmplY3RcIjpjLmNscyYmKG8uYWRkKHMuY2xzLGMuY2xzKSxkZWxldGUgYy5jbHMpLE9iamVjdC5hc3NpZ24ocyxjKTticmVhaztjYXNlXCJOdW1iZXJcIjpjYXNlXCJTdHJpbmdcIjpzLmh0bWw9Y31yZXR1cm4obnx8YSkmJihzLnN0eWxlPXMuc3R5bGV8fHt9LG4mJiFzLmhhc093blByb3BlcnR5KFwiaGVpZ2h0XCIpJiYocy5zdHlsZS5oZWlnaHQ9YCR7aS5pdGVtSGVpZ2h0fXB4YCksYSYmIXMuaGFzT3duUHJvcGVydHkoXCJ3aWR0aFwiKSYmKHMuc3R5bGUud2lkdGg9YCR7aS5pdGVtV2lkdGh9cHhgKSksc31jcmVhdGVJdGVtQ29udGVudChlLHQpe2xldCBzLG89dGhpcyxyPWVbby5kaXNwbGF5RmllbGRdO3JldHVybiBvLmhpZ2hsaWdodEZpbHRlclZhbHVlJiYocz1vLnN0b3JlLmdldEZpbHRlcihvLmRpc3BsYXlGaWVsZCkscyYmbnVsbCE9PXMudmFsdWUmJlwiXCIhPT1zLnZhbHVlJiYocj1yLnJlcGxhY2UobmV3IFJlZ0V4cChzLnZhbHVlLFwiZ2lcIiksZnVuY3Rpb24oZSl7cmV0dXJuJzxzcGFuIGNsYXNzPVwibmVvLWhpZ2hsaWdodC1zZWFyY2hcIj4nK2UrXCI8L3NwYW4+XCJ9KSkpLHJ9Y3JlYXRlSXRlbXMoZT0hMSl7bGV0IHQscz10aGlzLHtoZWFkZXJsZXNzU2VsZWN0ZWRJbmRleDpvfT1zLHI9cy5nZXRWZG9tUm9vdCgpO05lby5pc051bWJlcihvKSYmIU5lby5pc051bWJlcihzLnNlbGVjdGVkSW5kZXgpJiZzLmFmdGVyU2V0SGVhZGVybGVzc1NlbGVjdGVkSW5kZXgobyxudWxsKSxzLmFuaW1hdGUmJiFzLmdldFBsdWdpbihcImxpc3QtYW5pbWF0ZVwiKXx8KHIuY249W10scy5zdG9yZS5pdGVtcy5mb3JFYWNoKChlLG8pPT57dD1zLmNyZWF0ZUl0ZW0oZSxvKSx0JiZyLmNuLnB1c2godCl9KSwhZSYmcy5wcm9taXNlVXBkYXRlKCkudGhlbigoKT0+e3MuZmlyZShcImNyZWF0ZUl0ZW1zXCIpfSkpfWRlc3Ryb3koLi4uZSl7bGV0IHQ9dGhpczt0LnNlbGVjdGlvbk1vZGVsPy5kZXN0cm95KCksdC5hdXRvRGVzdHJveVN0b3JlJiZ0LnN0b3JlPy5kZXN0cm95KCksc3VwZXIuZGVzdHJveSguLi5lKX1mb2N1cyhlPXRoaXMuaWQpe3RoaXMubW91bnRlZCYmTmVvLm1haW4uYWRkb24uTmF2aWdhdG9yLm5hdmlnYXRlVG8oW2UsdGhpcy5uYXZpZ2F0b3JdKX1nZXRTZWxlY3RlZEluZGV4KGUpe2xldCB0PTAscz0wLG89dGhpcy5zdG9yZS5pdGVtcyxyPWU7aWYoby5sZW5ndGg8MSlyZXR1cm4gbnVsbDtmb3IoO3M8PXI7cysrKW9bc10uaXNIZWFkZXImJih0KysscisrKTtyZXR1cm4gZSt0fWdldEhlYWRlcmxlc3NJbmRleChlKXtsZXQgdD0wLHM9MCxvPXRoaXMuc3RvcmUuaXRlbXM7Zm9yKDtzPGU7cysrKW9bc10uaXNIZWFkZXJ8fHQrKztyZXR1cm4gdH1nZXRJdGVtSWQoZSl7cmV0dXJuYCR7dGhpcy5pZH1fXyR7ZS5pc1JlY29yZD9lW3RoaXMuZ2V0S2V5UHJvcGVydHkoKV06ZX1gfWdldEl0ZW1SZWNvcmRJZChlKXtsZXQgdD1lLnNwbGl0KFwiX19cIilbMV0se21vZGVsOnN9PXRoaXMuc3RvcmUsbz1zPy5nZXRGaWVsZCh0aGlzLmdldEtleVByb3BlcnR5KCkpLHI9bz8udHlwZT8udG9Mb3dlckNhc2UoKTtyZXR1cm5cImludFwiIT09ciYmXCJpbnRlZ2VyXCIhPT1yfHwodD1wYXJzZUludCh0KSksdH1nZXRLZXlQcm9wZXJ0eSgpe3JldHVybiB0aGlzLnN0b3JlLmtleVByb3BlcnR5fHx0aGlzLnN0b3JlLm1vZGVsLmtleVByb3BlcnR5fW9uQ2xpY2soZSl7bGV0IHQscz10aGlzO2lmKGUucGF0aFswXS5pZD09PXMuaWQpcy5vbkNvbnRhaW5lckNsaWNrKGUpO2Vsc2UgZm9yKHQgb2YgZS5wYXRoKWlmKHQuY2xzLmluY2x1ZGVzKHMuaXRlbUNscykpe3Mub25JdGVtQ2xpY2sodCxlKTticmVha319b25Db25zdHJ1Y3RlZCgpe3N1cGVyLm9uQ29uc3RydWN0ZWQoKSx0aGlzLnNlbGVjdGlvbk1vZGVsPy5yZWdpc3Rlcih0aGlzKX1vbkNvbnRhaW5lckNsaWNrKGUpe3RoaXMuZmlyZShcImNvbnRhaW5lckNsaWNrXCIsZSl9b25JdGVtQ2xpY2soZSx0KXtsZXQgcz10aGlzLG89cy5zdG9yZS5nZXQocy5nZXRJdGVtUmVjb3JkSWQoZS5pZCkpO3QucmVjb3JkPW8scy5maXJlKFwiaXRlbUNsaWNrXCIse3JlY29yZDpvfSl9b25TdG9yZUZpbHRlcigpe3RoaXMuY3JlYXRlSXRlbXMoKX1vblN0b3JlTG9hZCgpe2xldCBlPXRoaXM7IWUubW91bnRlZCYmZS5yZW5kZXJpbmc/ZS5vbihcIm1vdW50ZWRcIiwoKT0+e2UuY3JlYXRlSXRlbXMoKX0sZSx7b25jZTohMH0pOmUuY3JlYXRlSXRlbXMoKX1vblN0b3JlUmVjb3JkQ2hhbmdlKGUpe2xldCB0PXRoaXMse2luZGV4OnN9PWU7cz4tMSYmKHQudmRvbS5jbltzXT10LmNyZWF0ZUl0ZW0oZS5yZWNvcmQscyksdC51cGRhdGUoKSl9b25TdG9yZVNvcnQoZSl7dGhpcy5jcmVhdGVJdGVtcygpfXNlbGVjdEl0ZW0oZSl7bGV0IHQ9dGhpczt0LmRpc2FibGVTZWxlY3Rpb258fChOZW8uaXNOdW1iZXIoZSk/dC5zZWxlY3Rpb25Nb2RlbD8uc2VsZWN0QXQoZSk6ZSYmdC5zZWxlY3Rpb25Nb2RlbD8uc2VsZWN0QXQodC5zdG9yZS5pbmRleE9mKGUpKSl9YXN5bmMgdXBkYXRlSXRlbUZvY3VzKGUpe2xldCB0PXRoaXMse25hdmlnYXRlVG86c309TmVvLm1haW4uYWRkb24uTmF2aWdhdG9yO3QubW91bnRlZD9OZW8uaXNOdW1iZXIoZSk/cyhbdC5nZXRIZWFkZXJsZXNzSW5kZXgoZSksdC5uYXZpZ2F0b3JdKTplJiZzKFt0LmdldEl0ZW1JZChlW3QuZ2V0S2V5UHJvcGVydHkoKV0pLHQubmF2aWdhdG9yXSk6dC5vbihcIm1vdW50ZWRcIiwoKT0+e2U9PT10LmZvY3VzSW5kZXgmJnQudXBkYXRlSXRlbUZvY3VzKHQuZm9jdXNJbmRleCl9LHQse29uY2U6ITB9KX19KTsiLCJpbXBvcnQgZSBmcm9tXCIuL01vZGVsLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgZXtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uc2VsZWN0aW9uLkxpc3RNb2RlbFwiLG50eXBlOlwic2VsZWN0aW9uLWxpc3Rtb2RlbFwifTtvbktleURvd25Fc2NhcGUoZSl7fW9uS2V5RG93bkRvd24oZSl7fW9uS2V5RG93bkVudGVyKGUpe31vbktleURvd25MZWZ0KGUpe31vbktleURvd25SaWdodChlKXt9b25LZXlEb3duVXAoZSl7fW9uTGlzdENsaWNrKHtjdXJyZW50VGFyZ2V0OmV9KXtsZXQgbix7dmlldzpvfT10aGlzO28uZGlzYWJsZVNlbGVjdGlvbnx8KG49by5zdG9yZS5nZXQoby5nZXRJdGVtUmVjb3JkSWQoZSkpLG4mJnRoaXMuc2VsZWN0KG4pKX1vbkxpc3ROYXZpZ2F0ZShlKXtsZXR7dmlldzpufT10aGlzLHtzdG9yZTpvfT1uO2UucmVjb3JkPW8uZ2V0QXQoTWF0aC5taW4oZS5hY3RpdmVJbmRleCxvLmdldENvdW50KCkpKSxuLl9mb2N1c0luZGV4PW8uaW5kZXhPZihlLnJlY29yZCksbi5maXJlKFwiaXRlbU5hdmlnYXRlXCIsZSl9cmVnaXN0ZXIoZSl7c3VwZXIucmVnaXN0ZXIoZSk7bGV0IG49dGhpcyx7aWQ6byx2aWV3OnR9PW47dC5hZGREb21MaXN0ZW5lcnMoW3tjbGljazpuLm9uTGlzdENsaWNrLHNjb3BlOm4sZGVsZWdhdGU6ZT0+e2ZvcihsZXQgbj0wLHtsZW5ndGg6b309ZTtuPG87bisrKXtjb25zdHtjbHM6b309ZVtuXTtpZihvLmluY2x1ZGVzKHQuaXRlbUNscykmJiFvLmluY2x1ZGVzKFwibmVvLWRpc2FibGVkXCIpJiYhby5pbmNsdWRlcyhcIm5lby1saXN0LWhlYWRlclwiKSlyZXR1cm4gbn19fSx7bmVvbmF2aWdhdGU6bi5vbkxpc3ROYXZpZ2F0ZSxzY29wZTpufV0pLHQua2V5cz8uX2tleXMucHVzaCh7Zm46XCJvbktleURvd25Eb3duXCIsa2V5OlwiRG93blwiLHNjb3BlOm99LHtmbjpcIm9uS2V5RG93bkVudGVyXCIsa2V5OlwiRW50ZXJcIixzY29wZTpvfSx7Zm46XCJvbktleURvd25Fc2NhcGVcIixrZXk6XCJFc2NhcGVcIixzY29wZTpvfSx7Zm46XCJvbktleURvd25MZWZ0XCIsa2V5OlwiTGVmdFwiLHNjb3BlOm99LHtmbjpcIm9uS2V5RG93blJpZ2h0XCIsa2V5OlwiUmlnaHRcIixzY29wZTpvfSx7Zm46XCJvbktleURvd25VcFwiLGtleTpcIlVwXCIsc2NvcGU6b30pfXNlbGVjdEF0KGUpe2xldHt2aWV3Om59PXRoaXMsbz1uPy5zdG9yZS5nZXRLZXlBdChlKSx0PW8mJm4uZ2V0SXRlbUlkKG8pO3QmJnRoaXMuc2VsZWN0KHQpfXVucmVnaXN0ZXIoKXtsZXR7aWQ6ZSx2aWV3Om59PXRoaXM7bi5rZXlzPy5yZW1vdmVLZXlzKFt7Zm46XCJvbktleURvd25Eb3duXCIsa2V5OlwiRG93blwiLHNjb3BlOmV9LHtmbjpcIm9uS2V5RG93bkVudGVyXCIsa2V5OlwiRW50ZXJcIixzY29wZTplfSx7Zm46XCJvbktleURvd25Fc2NhcGVcIixrZXk6XCJFc2NhcGVcIixzY29wZTplfSx7Zm46XCJvbktleURvd25MZWZ0XCIsa2V5OlwiTGVmdFwiLHNjb3BlOmV9LHtmbjpcIm9uS2V5RG93blJpZ2h0XCIsa2V5OlwiUmlnaHRcIixzY29wZTplfSx7Zm46XCJvbktleURvd25VcFwiLGtleTpcIlVwXCIsc2NvcGU6ZX1dKSxzdXBlci51bnJlZ2lzdGVyKCl9fSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9