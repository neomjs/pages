"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["vendors-dist_esm_src_component_Base_mjs"],{

/***/ "./dist/esm/src/collection/Base.mjs":
/*!******************************************!*\
  !*** ./dist/esm/src/collection/Base.mjs ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _Filter_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Filter.mjs */ "./dist/esm/src/collection/Filter.mjs");
/* harmony import */ var _util_Logger_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Logger.mjs */ "./dist/esm/src/util/Logger.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _core_Observable_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/Observable.mjs */ "./dist/esm/src/core/Observable.mjs");
/* harmony import */ var _Sorter_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Sorter.mjs */ "./dist/esm/src/collection/Sorter.mjs");
const l=Symbol("countMutations"),n=Symbol("isFiltered"),a=Symbol("isSorted"),p=Symbol("silentUpdateMode"),u=Symbol("toAddArray"),h=Symbol("toRemoveArray"),m=Symbol("updatingIndex");class d extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static observable=!0;static config={className:"Neo.collection.Base",ntype:"collection",allItems:null,autoSort:!0,filterMode:"primitive",filters_:[],items_:null,keyProperty:"id",keyPropertyIndex:-1,map_:null,sortDirections:null,sortProperties:null,sorters_:[],sourceId_:null};construct(e){super.construct(e);let t=this,r={enumerable:!1,writable:!0};t.items=t.items||[],Object.defineProperties(t,{[l]:{...r,value:!1},[n]:{...r,value:!1},[a]:{...r,value:!1},[p]:{...r,value:!1},[u]:{...r,value:[]},[h]:{...r,value:[]},[m]:{...r,value:0}}),t.autoSort&&t._sorters.length>0&&t.doSort()}add(e){return this.splice(null,null,e).addedItems}afterSetFilters(e,t){let r=this;e.forEach(e=>{!1===e.listenerApplied&&(e.on("change",r.onFilterChange,r),e.listenerApplied=!0)}),t&&r.filter()}afterSetItems(e,t){if(e){let t,r=this,{keyProperty:s}=r,i=0,o=e.length;for(;i<o;i++)t=e[i],r.map.set(t[s],t)}}afterSetSorters(e,t){let r=this;r.applySorterConfigs(),e.forEach(e=>{!1===e.listenerApplied&&(e.on("change",r.onSorterChange,r),e.listenerApplied=!0)}),t&&r.autoSort&&r.doSort()}afterSetSourceId(e,t){if(e){let r=this,s=Neo.get(e);r._items=[...s._items],r.map=new Map(s.map);const i={mutate:r.onMutate,scope:r};s.on(i),t&&(s=Neo.get(t),s.un(i))}}applySorterConfigs(){let e=this;e.sortDirections=[],e.sortProperties=[],e.sorters.forEach(t=>{e.sortDirections.push(t.directionMultiplier),e.sortProperties.push(t.property)})}beforeSetFilters(e,r){Array.isArray(e)||(e=e?[e]:[]);let s,i,o=r&&r.length||0;return e.forEach((l,n)=>{if(r)for(s=!1,i=0;i<o;i++){if(r[i]===l){r[i].set({operator:l.operator,property:l.property,value:l.value}),s=!0;break}if(r[i].operator===(l.operator||"===")&&r[i].property===l.property&&r[i].value===l.value){s=!0;break}}s?(e[n]=r[i],r.splice(i,1),o--):e[n]=Neo.create(_Filter_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],l)}),Array.isArray(r)&&r.forEach(e=>{e.destroy()}),e}beforeSetMap(e,t){return e||new Map}beforeSetSorters(e,t){Array.isArray(e)||(e=e?[e]:[]);let r,s,i=t?.length||0;return e.forEach((l,n)=>{if(t){r=!1,s=0;let{direction:e,property:o}=l;for(;s<i;s++){if(t[s]===l){t[s].set({direction:e,property:o}),r=!0;break}if(t[s].property===o&&t[s].direction===e){r=!0;break}}}r?(e[n]=t[s],t.splice(s,1),i--):e[n]=Neo.create(_Sorter_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],l)}),t?.forEach(e=>{e.destroy()}),e}cacheUpdate(e){}clear(){this.splice(0,this.getCount())}clearFilters(e){this.filters=e?Neo.clone(this.originalConfig.filters,!0,!0):null}clearSilent(){let e=this;e._items.splice(0,e.getCount()),e.map.clear()}clearSorters(e){this.sorters=e?Neo.clone(this.originalConfig.sorters,!0,!0):null}clone(){let e=this,t=Neo.clone(e.originalConfig,!0),r=e._filters||[],s=e._sorters||[];return delete t.id,delete t.filters,delete t.items,delete t.sorters,e._items.length>0&&(t.items=[...e._items]),t.filters=[],t.sorters=[],r.forEach(function(e){t.filters.push(e.originalConfig)}),s.forEach(function(e){t.sorters.push(e.originalConfig)}),Neo.create(d,t)}destroy(){let e=this;e._items.splice(0,e._items.length),e.map.clear(),super.destroy()}doSort(e=this._items,t=!1){let r,s,i,o,l,n,p=this,u=[...e],{sorters:h,sortDirections:d,sortProperties:f}=p,c=f.length||0,g=!1,y=!1;c>0&&(h.forEach(e=>{e.sortBy&&(g=!0),e.useTransformValue&&(y=!0)}),g?p._items.sort((e,t)=>{for(r=0;r<c;r++)if(o=h[r],n=o[o.sortBy?"sortBy":"defaultSortBy"](e,t),0!==n)return n;return 0}):(s=y?e.map((e,t)=>{for(i={index:t},r=0;r<c;r++)h[r].useTransformValue?i[f[r]]=h[r].transformValue(e[f[r]]):i[f[r]]=e[f[r]];return i}):e,s.sort((e,t)=>{for(r=0;r<c;r++){if(l=f[r],e[l]>t[l])return 1*d[r];if(e[l]<t[l])return-1*d[r]}return 0}),y&&(p._items=s.map(t=>e[t.index])))),p[a]=c>0,t||0!==p[m]||p.fire("sort",{items:p._items,previousItems:u,scope:p})}endUpdate(e){const t=this;t[m]>0&&t[m]--,e?t[p]=!1:(t.fire("mutate",{addedItems:t[u],removedItems:t[h]}),t[u].splice(0,t[u].length),t[h].splice(0,t[h].length))}exportFilters(){let e,t=[];return this.filters?.forEach(r=>{e=r.export(),e&&t.push(e)}),t}exportSorters(){let e,t=[];return this.sorters?.forEach(r=>{e=r.export(),e&&t.push(e)}),t}filter(){let e,t,r,s,i,o=this,l=o._filters,a=l.length,p=0,u=o.allItems?._items||o._items,h=0,m=u.length,f=[],c=!1,g=[...o._items];for(;h<a;h++)l[h].disabled||p++;if(0===p&&o.allItems)o.sorters.length>0&&(c=!0),o.clearSilent(),o.items=[...o.allItems._items];else if(o.allItems||(e={...o.originalConfig},delete e.filters,delete e.items,delete e.sorters,o.allItems=Neo.create(d,{...Neo.clone(e,!0,!0),keyProperty:o.keyProperty,sourceId:o.id})),o.map.clear(),"primitive"===o.filterMode){for(h=0;h<m;h++){for(t=!0,r=u[h],s=0;s<a;s++)if(l[s].isFiltered(r,u,u)){t=!1;break}t&&(f.push(r),o.map.set(r[o.keyProperty],r))}o._items=f}else{for(f=[...u],s=0;s<a;s++){for(i=[],h=0;h<m;h++)l[s].isFiltered(f[h],f,u)||i.push(f[h]);f=[...i],m=f.length}o.items=f}o[n]=0!==p,c&&o.doSort(o.items,!0),o.fire("filter",{isFiltered:o[n],items:o.items,oldItems:g,scope:o})}find(e,t,r=!1){let s,i,o,l,n=this,a=[],p=n.isItem(e);for(s of(p&&(o=Object.entries(e),l=o.length),n.items))if(p){if(i=[],o.forEach(([e,t])=>{Neo.ns(e,!1,s)===t&&i.push(!0)}),i.length===l){if(r)return s;a.push(s)}}else if(Neo.ns(e,!1,s)===t){if(r)return s;a.push(s)}return r?null:a}findBy(e,t=this,r=0,s=this.getCount()){let i=this,o=[],l=r;for(;l<s;l++)e.call(t,i.items[l])&&o.push(i.items[l]);return o}findFirst(e,t){return this.find(e,t,!0)}first(){return this._items[0]}get(e){return this.map.get(e)||null}getAt(e){return this._items[e]}getCount(){return this._items.length}getCountMutations(){return this[l]}getFilter(e){let t=this.filters||[],r=0,s=t.length;for(;r<s;r++)if(t[r].property===e)return t[r];return null}getKeyAt(e){let t=this._items[e];return t?.[this.keyProperty]}getRange(e,t){return this._items.slice(e,t)}getSource(){return this.sourceId&&Neo.get(this.sourceId)}has(e){return this.map.has(e)}hasItem(e){return this.map.has(e[this.keyProperty])}indexOf(e){let t=this;return t._items.indexOf(t.isItem(e)?e:t.map.get(e))}indexOfItem(e){return this._items.indexOf(e)}indexOfKey(e){return this._items.indexOf(this.map.get(e))}insert(e,t){return this.splice(e,0,t).addedItems}isFiltered(){return this[n]}isFilteredItem(e){let t=this._filters,r=0,s=t.length,i=!1;for(;r<s;r++)if(t[r].isFiltered(e)){i=!0;break}return i}isItem(e){return"object"==typeof e}isSorted(){return this[a]}last(){return this._items[this.getCount()-1]}move(e,t){if(e===t)return;let{items:r}=this;e>=r.length&&(e=r.length-1),r.splice(t,0,r.splice(e,1)[0])}onFilterChange(e){this.filter()}onMutate(e){this.preventBubbleUp=!0,this.splice(null,e.removedItems,e.addedItems)}onSorterChange(e){this.applySorterConfigs(),this.doSort()}pop(){return this.splice(this.getCount()-1,1).removedItems[0]}push(e){return this.add(e)}remove(e){return this.splice(0,Array.isArray(e)?e:[e]),this.getCount()}removeAt(e){return this.splice(e,1),this.getCount()}reverse(){return this._items.reverse()}shift(){return this.splice(0,1).addedItems[0]}some(...e){return this._items.some(...e)}splice(e,t,s){let i,o,n,a,u,h=this,{keyProperty:d,map:f}=h,c=h.getSource(),g=[],y=h._items,b=[],S=Neo.isNumber(t)?t:null,I=Array.isArray(t)?t:null;if(!Neo.isNumber(e)&&S&&_util_Logger_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].error(h.id+": If index is not passed, removeCountAtIndex cannot be used"),s=s&&!Array.isArray(s)?[s]:s,I&&(a=I.length)>0)for(s&&s.length>0&&(u=s.map(e=>e[d])),i=0;i<a;i++)o=I[i],n=h.isItem(o)?o[d]:o,f.has(n)&&(!u||u&&u.indexOf(n)<0)&&(b.push(y.splice(h.indexOfKey(n),1)[0]),f.delete(n));else S&&S>0&&(b.push(...y.splice(e,S)),b.forEach(e=>{f.delete(e[d])}));if(s&&(a=s.length)>0){for(i=0;i<a;i++)o=s[i],n=o[d],n||(o[d]=n=h.keyPropertyIndex,h.keyPropertyIndex--),f.has(n)||h.isFilteredItem(o)||(g.push(o),f.set(n,o));g.length>0&&(0===y.length?h._items=g:y.splice(Neo.isNumber(e)?e:y.length,0,...g),h.autoSort&&h._sorters.length>0&&h.doSort())}return c&&(c.getSource()||(c.preventBubbleUp=!0),h.preventBubbleUp||(h.startUpdate(!0),c.splice(null,I||b,s),h.endUpdate(!0)),delete c.preventBubbleUp),(g.length>0||b.length>0)&&h[l]++,0===h[m]?h.fire("mutate",{addedItems:s,preventBubbleUp:h.preventBubbleUp,removedItems:I||b}):h[p]||h.cacheUpdate({addedItems:g,removedItems:b}),0===h[m]&&delete h.preventBubbleUp,{addedItems:g,removedItems:b}}startUpdate(e){e&&(this[p]=!0),this[m]++}unshift(e){return this.splice(0,0,e),this.getCount()}}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(d));

/***/ }),

/***/ "./dist/esm/src/collection/Filter.mjs":
/*!********************************************!*\
  !*** ./dist/esm/src/collection/Filter.mjs ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _core_Observable_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Observable.mjs */ "./dist/esm/src/core/Observable.mjs");
class r extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static observable=!0;static operators=["==","===","!=","!==","<","<=",">",">=","endsWith","excluded","included","isDefined","isUndefined","like","startsWith"];static config={className:"Neo.collection.Filter",ntype:"filter",disabled_:!1,filterBy_:null,includeEmptyValues:!0,isUpdating_:!1,listenerApplied:!1,operator_:"===",property_:"id",scope:null,value_:null};afterSetDisabled(...e){this.fireChangeEvent(...e)}afterSetFilterBy(e,t){}afterSetIsUpdating(e,t){!1===e&&this.fireChangeEvent(e,t)}afterSetOperator(...e){this.fireChangeEvent(...e)}afterSetProperty(...e){this.fireChangeEvent(...e)}afterSetValue(...e){this.fireChangeEvent(...e)}beforeSetFilterBy(e,t){return e&&"function"!=typeof e?(Neo.logError("filterBy has to be a function",this),t):e}beforeSetOperator(e,t){return this.beforeSetEnumValue(e,t,"operator")}export(){let{operator:e,property:t,value:r}=this;return this.filterBy?null:{operator:e,property:t,value:r}}fireChangeEvent(e,t){let r=this;if(void 0!==t&&!0!==r.isUpdating){let{operator:e,property:t,value:i}=r;r.fire("change",{operator:e,property:t,value:i})}}isFiltered(e,t,i){let a,s,n=this;return!n._disabled&&(n._filterBy?n.filterBy.call(n.scope||n,{allItems:i,filteredItems:t,item:e,value:n._value}):(!n.includeEmptyValues||null!==n._value&&!Neo.isEmpty(n._value))&&(a=n._value,s=e[n._property],a instanceof Date&&s instanceof Date&&(a=a.valueOf(),s=s.valueOf()),!r[n._operator](s,a)))}static"=="(e,t){return e==t}static"==="(e,t){return e===t}static"!="(e,t){return e!=t}static"!=="(e,t){return e!==t}static"<"(e,t){return e<t}static"<="(e,t){return e<=t}static">"(e,t){return e>t}static">="(e,t){return e>=t}static endsWith(e,t){return Neo.isString(e)||(e=String(e)),Neo.isString(t)||(t=String(t)),e?.toLowerCase().endsWith(t?.toLowerCase())||!1}static excluded(e,t){return t.indexOf(e)<0}static included(e,t){return t.indexOf(e)>-1}static isDefined(e,t){return void 0!==e}static isUndefined(e,t){return void 0===e}static like(e,t){return Neo.isString(e)||(e=String(e)),Neo.isString(t)||(t=String(t)),e?.toLowerCase().includes(t?.toLowerCase())||!1}static startsWith(e,t){return Neo.isString(e)||(e=String(e)),Neo.isString(t)||(t=String(t)),e?.toLowerCase().startsWith(t?.toLowerCase())||!1}}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(r));

/***/ }),

/***/ "./dist/esm/src/collection/Sorter.mjs":
/*!********************************************!*\
  !*** ./dist/esm/src/collection/Sorter.mjs ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _core_Observable_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Observable.mjs */ "./dist/esm/src/core/Observable.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static observable=!0;static config={className:"Neo.collection.Sorter",ntype:"sorter",directionMultiplier:1,direction_:"ASC",listenerApplied:!1,property_:"id",sortBy:null,useTransformValue:!0};afterSetDirection(r,e){let t=this;t.directionMultiplier="ASC"===r?1:-1,e&&t.fire("change",{direction:t.direction,property:t.property})}afterSetProperty(r,e){let t=this;e&&t.fire("change",{direction:t.direction,property:t.property})}defaultSortBy(r,e){let t=this;return r=r[t.property],e=e[t.property],t.useTransformValue&&(r=t.transformValue(r),e=t.transformValue(e)),r>e?1*t.directionMultiplier:r<e?-1*t.directionMultiplier:0}export(){let{direction:r,property:e}=this;return!this.sortBy&&r&&e?{direction:r,property:e}:null}transformValue(r){return"string"==typeof r&&(r=r.toLowerCase()),r}}));

/***/ }),

/***/ "./dist/esm/src/component/Base.mjs":
/*!*****************************************!*\
  !*** ./dist/esm/src/component/Base.mjs ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/ClassSystem.mjs */ "./dist/esm/src/util/ClassSystem.mjs");
/* harmony import */ var _manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../manager/Component.mjs */ "./dist/esm/src/manager/Component.mjs");
/* harmony import */ var _manager_DomEvent_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../manager/DomEvent.mjs */ "./dist/esm/src/manager/DomEvent.mjs");
/* harmony import */ var _util_KeyNavigation_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/KeyNavigation.mjs */ "./dist/esm/src/util/KeyNavigation.mjs");
/* harmony import */ var _util_Logger_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/Logger.mjs */ "./dist/esm/src/util/Logger.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _core_Observable_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/Observable.mjs */ "./dist/esm/src/core/Observable.mjs");
/* harmony import */ var _util_Rectangle_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../util/Rectangle.mjs */ "./dist/esm/src/util/Rectangle.mjs");
/* harmony import */ var _util_Style_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../util/Style.mjs */ "./dist/esm/src/util/Style.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony import */ var _util_VNode_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../util/VNode.mjs */ "./dist/esm/src/util/VNode.mjs");
const h=e=>null==e||isNaN(e)?e:`${e}px`,u=Symbol.for("closestController"),c=Symbol.for("closestProvider"),{currentWorker:g}=Neo,f=/^\d+\w+$/,v=Symbol.for("twoWayBinding");/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static hideModes=["removeDom","visibility"];static observable=!0;static config={className:"Neo.component.Base",ntype:"component",align_:{edgeAlign:"t-b",constrainTo:"document.body"},appName_:null,autoMount:!1,autoRender:!1,baseCls:[],bind:null,cls_:null,containsFocus_:!1,controller_:null,data_:null,disabled_:!1,domListeners_:null,droppable_:!1,dropZone:null,dropZoneConfig:null,floating:!1,hasBeenMounted:!1,hasRenderingListener:!1,hasUnmountedVdomChanges_:!1,height_:null,hidden_:!1,hideMode_:"removeDom",html_:null,isLoading_:!1,isVdomUpdating_:!1,keys_:null,loadingSpinnerCls_:["fa","fa-spinner","fa-spin"],maxHeight_:null,maxWidth_:null,minHeight_:null,minWidth_:null,modelData:null,mounted_:!1,needsVdomUpdate_:!1,parentComponent_:null,parentId_:"document.body",plugins_:null,reference_:null,responsive_:null,rendering_:!1,role_:null,scrollable_:!1,silentVdomUpdate_:!1,stateProvider_:null,style_:null,theme_:null,tag_:null,tooltip_:null,ui_:null,updateDepth_:1,vnode_:null,width_:null,windowId_:null,wrapperCls_:null,wrapperStyle_:null,_vdom:{}};childUpdateCache={};currentUpdateDepth=null;resolveUpdateCache=[];get app(){return Neo.apps[this.appName]||null}get isVisible(){return this.mounted&&!this.hidden&&(!this.parent||this.parent.isVisible)}get listeners(){return this._listeners||{}}set listeners(e){this._listeners=e}get parent(){let e=this;return e.parentComponent||("document.body"===e.parentId?null:Neo.getComponent(e.parentId))}get rendered(){return this._rendered||!1}set rendered(e){let t=this;t._rendered=e,!0===e&&t.fire("rendered",t.id)}get vdom(){return this._vdom}set vdom(e){this.afterSetVdom(e,e)}addCls(e){let{cls:t}=this;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].add(t,e),this.cls=t}addDomListeners(e){Array.isArray(e)||(e=[e]);let t=this.domListeners;t.push(...e),this.domListeners=t}addStyle(e){return Neo.isString(e)&&(e=Neo.createStyleObject(e)),this.style=Object.assign(this.style,e)}addWrapperCls(e){let{wrapperCls:t}=this;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].add(t,e),this.wrapperCls=t}afterSetAppName(e,t){}afterSetCls(e,t){t=t||[];let o,n=this,d=n.vdom,i=n.getVdomRoot();d!==i?i.cls=[...e]:(o=_util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].union(n.wrapperCls,e),_util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].remove(o,_util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].difference(t,e)),d.cls=o),n.update()}afterSetConfig(e,t,o){let n=this;if(g.isUsingStateProviders&&n[v]&&void 0!==o){let o=n.bind?.[e];o?.twoWay&&this.getStateProvider()?.setData(o.key,t)}}afterSetDisabled(e,t){let o=this.cls;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__["default"][e?"add":"remove"](o,"neo-disabled"),this.cls=o}afterSetDomListeners(e,t){let o=this;(e?.[0]||t?.[0])&&_manager_DomEvent_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].updateDomListeners(o,e,t)}afterSetDroppable(e,t){let o=this;e&&!o.dropZone&&__webpack_require__.e(/*! import() */ "dist_esm_src_draggable_DropZone_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ../draggable/DropZone.mjs */ "./dist/esm/src/draggable/DropZone.mjs")).then(e=>{o.dropZone=Neo.create({module:e.default,appName:o.appName,owner:o,windowId:o.windowId,...o.dropZoneConfig})})}afterSetFlex(e,t){isNaN(e)||(e=`${e} ${e} 0%`),this.configuredFlex=e,this.changeVdomRootKey("flex",e)}afterSetHasUnmountedVdomChanges(e,t){if(e||!e&&t){let t,n=_manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getParentIds(this),d=0,i=n.length;for(;d<i;d++)t=Neo.getComponent(n[d]),t&&(t._hasUnmountedVdomChanges=e)}}afterSetHeight(e,t){this.configuredHeight=h(e),this.changeVdomRootKey("height",e)}afterSetHidden(e,t){let o=this,n=e?"hide":"show";e&&void 0===t&&"removeDom"===o.hideMode?o.vdom.removeDom=!0:(e||void 0!==t)&&o[n](),e||o.revertFocus(),o.fire(n,{id:o.id}),o.fire("hiddenChange",{id:o.id,oldValue:t,value:e})}afterSetHtml(e,t){this.changeVdomRootKey("html",e)}afterSetId(e,t){super.afterSetId(e,t),this.changeVdomRootKey("id",e),t&&_manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].unregister(t),e&&_manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].register(this)}afterSetIsLoading(e,t){if(e||void 0!==t){let o,n=this,{wrapperCls:d,vdom:i}=n;void 0!==t&&i.cn&&(o=i.cn.findLastIndex(e=>e.cls?.includes("neo-load-mask")),-1!==o&&i.cn.splice(o,1)),e&&(i.cn||(i.cn=[]),i.cn.push(n.createLoadingMask(e))),_util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].toggle(d,"neo-masked",e),n.set({vdom:i,wrapperCls:d})}}afterSetIsVdomUpdating(e,t){this.currentUpdateDepth=e?this.updateDepth:null}afterSetMaxHeight(e,t){this.configuredMaxHeight=h(e),this.changeVdomRootKey("maxHeight",e)}afterSetMaxWidth(e,t){this.configuredMaxWidth=h(e),this.changeVdomRootKey("maxWidth",e)}afterSetMinHeight(e,t){this.configuredMinHeight=h(e),this.changeVdomRootKey("minHeight",e)}afterSetMinWidth(e,t){this.configuredMinWidth=h(e),this.changeVdomRootKey("minWidth",e)}afterSetMounted(e,t){if(void 0!==t){let t=this,{id:o,windowId:d}=t;e?(t.hasBeenMounted=!0,t.domListeners?.length>0&&t.timeout(150).then(()=>{_manager_DomEvent_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].mountDomListeners(t)}),t.doResolveUpdateCache(),t.floating&&(t.alignTo(),t.focus(o,!0)),t.fire("mounted",t.id)):t.revertFocus()}}afterSetReference(e,t){e&&this.changeVdomRootKey("data-ref",e)}async afterSetResponsive(e,t){if(e&&!this.getPlugin("responsive")){let t=this,o=await __webpack_require__.e(/*! import() */ "dist_esm_src_plugin_Responsive_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ../../src/plugin/Responsive.mjs */ "./dist/esm/src/plugin/Responsive.mjs")),n=t.plugins||[];n.push({module:o.default,appName:t.appName,value:e}),t.plugins=n}}afterSetRole(e,t){this.changeVdomRootKey("role",e)}afterSetScrollable(e,t){if(void 0===t&&!e)return;let o=this;if(t){let e="overflow";Neo.isBoolean(t)||(e+=Neo.capitalize(t)),o.removeStyle([e])}if(!Neo.isEmpty(e)){let t="overflow";e&&!Neo.isBoolean(e)&&(t+=Neo.capitalize(e)),e?(o.addStyle(t+":auto"),o.addCls("neo-scrollable")):o.removeCls("neo-scrollable")}}afterSetStyle(e,t){(e||void 0!==t)&&this.updateStyle()}afterSetTag(e,t){e&&this.changeVdomRootKey("tag",e)}afterSetTheme(e,t){if(e||void 0!==t){let o=this,{cls:n}=o,d=!1;t&&n.includes(t)&&(_util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].remove(n,t),d=!0),e!==o.parent?.theme&&(e&&_util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].add(n,e),d=!0),d&&(o.cls=n)}}afterSetTooltip(e,t){t?.destroy?.(),e&&(Neo.ns("Neo.tooltip.Base")?this.createTooltip(e):Promise.all(/*! import() */[__webpack_require__.e("vendors-dist_esm_src_container_Base_mjs"), __webpack_require__.e("dist_esm_src_container_lazy_recursive-dist_esm_src_tooltip_Base_mjs")]).then(__webpack_require__.bind(__webpack_require__, /*! ../tooltip/Base.mjs */ "./dist/esm/src/tooltip/Base.mjs")).then(()=>{this.createTooltip(e)}))}afterSetUi(e,t){let o=this,n=o.cls;t&&_util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].remove(n,`neo-${o.ntype}-${t}`),e&&""!==e&&_util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].add(n,`neo-${o.ntype}-${e}`),o.cls=n}afterSetVdom(e,t){this.updateVdom()}afterSetVnode(e,t){void 0!==t&&this.syncVnodeTree()}afterSetWidth(e,t){this.configuredWidth=h(e),this.changeVdomRootKey("width",e)}afterSetWindowId(e,t){let o=this,n=o.controller;e&&(g.insertThemeFiles(e,o.__proto__),n&&(n.windowId=e)),t&&(o.isVdomUpdating=!1)}afterSetWrapperCls(e,t){t=t||[],e=e||[];let o=this,{vdom:n}=o,d=o.getVdomRoot(),i=n.cls||[];n===d?(i=_util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].union(i,e),_util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].remove(i,_util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].difference(t,e)),n.cls=i):(e=e||[],t&&_util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].remove(i,t),_util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].add(i,e),n.cls=i),o.update()}afterSetWrapperStyle(e,t){(e||void 0!==t)&&this.updateStyle()}async alignTo(e={}){const t=this,o={...t.align,...e,id:t.id,configuredFlex:t.configuredFlex,configuredWidth:t.configuredWidth,configuredHeight:t.configuredHeight,configuredMinWidth:t.configuredMinWidth,configuredMinHeight:t.configuredMinHeight,configuredMaxWidth:t.configuredMaxWidth,configuredMaxHeight:t.configuredMaxHeight};o.target&&await Neo.main.DomAccess.align(o)}beforeGetCls(e){return e?[...e]:[]}beforeGetData(e){return this.getStateProvider().getHierarchyData()}beforeGetStyle(e){return{...e}}beforeGetWrapperCls(e){return e?[...e]:[]}beforeGetWrapperStyle(e){return{...Object.assign(this.vdom.style||{},e)}}beforeSetAlign(e,t){return"string"==typeof e&&(e={edgeAlign:e}),Neo.merge({},e,this.constructor.config.align)}beforeSetCls(e,t){return _util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].union(e||[],this.baseCls,this.getBaseClass())}beforeSetController(e,o){return o?.destroy(),e?_util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].beforeSetInstance(e,"Neo.controller.Component",{component:this,windowId:this.windowId}):e}beforeSetDomListeners(e,t){return Neo.isObject(e)&&(e=[e]),e||[]}beforeSetHideMode(e,t){return this.beforeSetEnumValue(e,t,"hideMode")}beforeSetKeys(e,o){return o?.destroy(),e&&(e=_util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].beforeSetInstance(e,_util_KeyNavigation_mjs__WEBPACK_IMPORTED_MODULE_4__["default"],{keyDownEventBubble:!0,keys:e})),e}beforeSetPlugins(e,o){return Array.isArray(e)&&e.forEach((o,n)=>{e[n]=_util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].beforeSetInstance(o,null,{owner:this})}),e}beforeSetSilentVdomUpdate(e,t){return!0===e?Neo.isNumber(t)?t+1:1:Neo.isNumber(t)&&t>0?t-1:0}beforeSetStateProvider(e,o){if(o?.destroy(),e){let o=this,n={component:o};return o.modelData&&(n.data=o.modelData),_util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].beforeSetInstance(e,"Neo.state.Provider",n)}return null}beforeSetUpdateDepth(e,t){return void 0===t?e:-1===t||-1===e?-1:Math.max(e,t)}changeVdomRootKey(e,t){let o=this.getVdomRoot();t?o[e]=t:delete o[e],this.update()}createLoadingMask(e){return{cls:["neo-load-mask"],cn:[{cls:["neo-load-mask-body"],cn:[{cls:this.loadingSpinnerCls},{cls:["neo-loading-message"],html:e,removeDom:!Neo.isString(e)}]}]}}createTooltip(e){"string"==typeof e&&(e={text:e});let t=this;e.ownInstance?t._tooltip=Neo.create("Neo.tooltip.Base",{...e,appName:t.appName,componentId:t.id,windowId:t.windowId}):(t._tooltip=e,Neo.tooltip.Base.createSingleton(t.app),t.addCls("neo-uses-shared-tooltip"),t.update())}createVdomReference(){let e=this,t={componentId:e.id},o=e.vdom.id;return o&&e.id!==o&&(t.id=o),t}destroy(e=!1,t=!1){let n,d=this,{parent:i,parentId:r}=d,s=i?.getStateProvider();d.revertFocus(),d.domListeners=[],d.controller=null,d.reference&&d.getController()?.removeReference(d),d.stateProvider=null,d.bind&&s?.removeBindings(d.id),d.plugins?.forEach(e=>{e.destroy()}),e&&r&&("document.body"===r?Neo.applyDeltas(d.appName,{action:"removeNode",id:d.vdom.id}):(n=i.vdom,_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_10__["default"].removeVdomChild(n,d.vdom.id),i[t?"_vdom":"vdom"]=n)),_manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].unregister(d),super.destroy(),d.onFocusLeave=Neo.emptyFn,d.unmount=Neo.emptyFn}doResolveUpdateCache(){let e=this;e.resolveUpdateCache&&(e.resolveUpdateCache.forEach(e=>e()),e.resolveUpdateCache=[])}down(e,t=!0){return _manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].down(this,e,t)}#e(e,t){let n,d=this,{vdom:i,vnode:r}=d,s={};g.isSharedWorker&&(s.appName=d.appName,s.windowId=d.windowId),d.isVdomUpdating=!0,d._needsVdomUpdate=!1,d.afterSetNeedsVdomUpdate?.(!1,!0),s.vdom=_manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getVdomTree(i,d.updateDepth),s.vnode=_manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getVnodeTree(r,d.updateDepth),d._updateDepth=d.constructor.config.updateDepth,Neo.vdom.Helper.update(s).catch(e=>{d.isVdomUpdating=!1,t?.()}).then(t=>{d.id&&(d.vnode=t.vnode,d.isVdomUpdating=!1,n=t.deltas,!Neo.config.useVdomWorker&&n.length>0?Neo.applyDeltas(d.appName,n).then(()=>{d.resolveVdomUpdate(e)}):d.resolveVdomUpdate(e))})}focus(e=this.id,t=!1){Neo.main.DomAccess.focus({children:t,id:e,windowId:this.windowId})}getBaseClass(){const e=[];return this.floating&&e.push("neo-floating"),e}getConfigInstanceByNtype(e,t){let o=this,n=o[e],{parentComponent:d}=o;return!n||t&&t!==n.ntype?(!d&&o.parentId&&(d=o.parent||Neo.get(o.parentId)),d?d.getConfigInstanceByNtype(e,t):null):n}getController(e){let t,o=this;return!e&&(t=o[u],t)||(t=o.getConfigInstanceByNtype("controller",e),e||(o[u]=t)),t}async getDomRect(e=this.id,t=this.appName){let o=await Neo.main.DomAccess.getBoundingClientRect({appName:t,id:e,windowId:this.windowId});return Array.isArray(o)?o.map(e=>_util_Rectangle_mjs__WEBPACK_IMPORTED_MODULE_8__["default"].clone(e)):_util_Rectangle_mjs__WEBPACK_IMPORTED_MODULE_8__["default"].clone(o)}getMountedParentId(){let e=this.parentId,t=Neo.getComponent(e),o=t?.getVdomItemsRoot?.();return o?o.id:e}getMountedParentIndex(){let e,t=this.parent,o=t?.items||[],n=0,d=0,i=o.length;for(;n<i;n++){if(e=o[n],e===this)return d;e.hidden||"removeDom"!==e.hideMode||d++}}getParents(){return _manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getParents(this)}getPlugin(e){Neo.isString(e)&&(e.startsWith("plugin-")||(e="plugin-"+e),e={ntype:e});let t,o=this;for(const n of o.plugins||[]){t=!0;for(const o in e)if(n[o]!==e[o]){t=!1;break}if(t)return n}return null}getReference(e){return this.down({reference:e})}getState(...e){return this.getStateProvider().getData(...e)}getStateProvider(e){if(!g.isUsingStateProviders)return null;let t,o=this;return!e&&(t=o[c],t)||(t=o.getConfigInstanceByNtype("stateProvider",e),e||(o[c]=t)),t}getTheme(){let e,t,o=this,n="neo-theme-";for(const e of o.cls||[])if(e.startsWith(n))return e;if(e=o.app?.mainView,e){t=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_10__["default"].getParentNodes(e.vdom,o.id);for(const e of t||[])for(const t of e.cls||[])if(t.startsWith(n))return t}return Neo.config.themes?.[0]}getVdomChild(e,t=this.vdom){return _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_10__["default"].find(t,e)?.vdom}getVdomRoot(){return this.vdom}getVnodeRoot(){return this.vnode}hasUpdateCollision(e,t){return-1===e||t<e}hide(e){let t=this;if("visibility"!==t.hideMode){let o=function(){"document.body"!==t.parentId?(t.vdom.removeDom=!0,t.parent.updateDepth=2,t.parent.update()):t.unmount()};e?t.timeout(e).then(o):o()}else{let e=t.style;e.visibility="hidden",t.style=e}t._hidden=!0}init(){this.autoRender&&this.render()}initConfig(e,t){super.initConfig(e,t);this.getStateProvider()?.parseConfig(this)}isFloating(){let e=this;return!!e.floating||!!e.parent&&e.parent.floating}isParentUpdating(e=this.parentId,t,o=1){if("document.body"!==e){let n=this,d=Neo.getComponent(e);if(d)return d.isVdomUpdating?!!n.hasUpdateCollision(d.currentUpdateDepth,o)&&(Neo.config.logVdomUpdateCollisions&&console.warn("vdom parent update conflict with:",d,"for:",n),d.childUpdateCache[n.id]={distance:o,resolve:t},t&&n.resolveUpdateCache.push(t),!0):n.isParentUpdating(d.parentId,t,o+1)}return!1}async measure(e){if(null!=e)if(e.endsWith("px"))e=parseFloat(e);else if(f.test(e)){let{id:t,windowId:o}=this;e=await Neo.main.DomAccess.measure({id:t,value:e,windowId:o})}else isNaN(e)||(e=parseFloat(e));return e}mergeConfig(...e){let t=this,o=super.mergeConfig(...e),n={...t._vdom||{},...o.vdom||{}};return t._vdom=Neo.clone(n,!0,!0),o.style&&(t.style="Object"===Neo.typeOf(o.style)?{...o.style,...t.constructor.config.style}:o.style),t.wrapperStyle=Neo.clone(o.wrapperStyle,!1),delete o.style,delete o._vdom,delete o.vdom,delete o.wrapperStyle,o}async mount(){let e,t,n=this;if(!n.vnode)throw new Error("Component vnode must be generated before mounting, use Component.render()");n.hasUnmountedVdomChanges?(n.hasUnmountedVdomChanges=!1,t=_manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getChildIds(n.vnode),t.forEach(t=>{e=Neo.getComponent(t),e&&(e._hasUnmountedVdomChanges=!1)}),n.render(!0)):(await g.promiseMessage("main",{action:"mountDom",appName:n.appName,id:n.id,html:n.vnode.outerHTML,parentId:n.getMountedParentId(),parentIndex:n.getMountedParentIndex()}),delete n.vdom.removeDom,await n.timeout(30),n.mounted=!0)}needsParentUpdate(e=this.parentId,t,o=1){if("document.body"!==e){let n=this,d=Neo.getComponent(e);if(d)return d.needsVdomUpdate&&n.hasUpdateCollision(d.updateDepth,o)?(d.resolveUpdateCache.push(...n.resolveUpdateCache),t&&d.resolveUpdateCache.push(t),n.resolveUpdateCache=[],!0):n.needsParentUpdate(d.parentId,t,o+1)}return!1}onConstructed(){super.onConstructed(),this.keys?.register(this)}onFocusEnter(e){this.focusEnterData=e}onFocusLeave(e){this.focusEnterData=null}onRender(e,t){let n=this,{app:d}=n;if(n.rendering=!1,d){d.rendered||(d.rendering=!1,d.rendered=!0,d.fire("render")),n.vnode=e;let i,r=_manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getChildIds(e),s=0,a=r.length;for(;s<a;s++)i=Neo.getComponent(r[s]),i&&(i.rendered=!0);n._rendered=!0,n.fire("rendered",n.id),t&&(n.mounted=!0,d.mounted||(d.mounted=!0,d.fire("mounted")))}}promiseUpdate(){return new Promise((e,t)=>{this.updateVdom(e,t)})}removeCls(e){let t=this.cls;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].remove(t,e),this.cls=t}removeDomListeners(e){Array.isArray(e)||(e=[e]);let t,o,{domListeners:n}=this;e.forEach(e=>{for(t=0,o=n.length;t<o;t++)if(Neo.isEqual(e,n[t])){n.splice(t,1);break}}),this.domListeners=n}removeStyle(e){Array.isArray(e)||(e=[e]);let{style:t}=this,o=!1;return Object.keys(t).forEach(n=>{e.indexOf(n)>-1&&(delete t[n],o=!0)}),o&&(this.style=t),t}async render(e){let t=this,n=e||t.autoMount,{app:d}=t,{useVdomWorker:i}=Neo.config;if(n&&0!==g.countLoadingThemeFiles)g.on("themeFilesLoaded",function(){!t.mounted&&t.render(e)},t,{once:!0});else if(t.rendering=!0,d.rendered||(d.rendering=!0),t.vdom){t.isVdomUpdating=!0,delete t.vdom.removeDom,t._needsVdomUpdate=!1,t.afterSetNeedsVdomUpdate?.(!1,!0);const e=await Neo.vdom.Helper.create({appName:t.appName,autoMount:n,parentId:n?t.getMountedParentId():void 0,parentIndex:n?t.getMountedParentIndex():void 0,vdom:_manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getVdomTree(t.vdom),windowId:t.windowId});t.onRender(e.vnode,!!i&&n),t.isVdomUpdating=!1,n&&!i&&t.mount(),t.resolveVdomUpdate()}}resolveVdomUpdate(e){let t,o=this,n=!Neo.isEmpty(o.childUpdateCache);o.doResolveUpdateCache(),e?.(),o.needsVdomUpdate?(n&&(Object.entries(o.childUpdateCache).forEach(([e,n])=>{t=Neo.getComponent(e),t&&(n.resolve&&_util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].add(o.resolveUpdateCache,n.resolve),-1!==o.updateDepth&&(-1===t.updateDepth?o.updateDepth=-1:o.updateDepth=o.updateDepth+n.distance+t.updateDepth-1))}),o.childUpdateCache={}),o.update()):n&&(Object.keys(o.childUpdateCache).forEach(e=>{Neo.getComponent(e)?.update()}),o.childUpdateCache={})}revertFocus(){let e=this.focusEnterData?.relatedTarget;this.containsFocus&&e&&Neo.getComponent(e.id)?.focus()}set(e={},t=!1){let o=this,n=!1===e.hidden&&e.hidden!==o.hidden;return o.silentVdomUpdate=!0,super.set(e),o.silentVdomUpdate=!1,t||!o.needsVdomUpdate?Promise.resolve():n?(o.show(),Promise.resolve()):o.promiseUpdate()}setSilent(e={}){return this.set(e,!0)}setState(...e){this.getStateProvider().setData(...e)}show(){let e=this;if("visibility"!==e.hideMode)delete e.vdom.removeDom,e.silentVdomUpdate?e.needsVdomUpdate=!0:"document.body"!==e.parentId?(e.parent.updateDepth=2,e.parent.update()):!e.mounted&&e.render(!0);else{let t=e.style;delete t.visibility,e.style=t}e._hidden=!1}syncVdomIds(e=this.vnode,t=this.vdom,o=!1){_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_10__["default"].syncVdomIds(e,t,o)}syncVnodeTree(e=this.vnode){let t,n=this,d=_manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getChildren(n),i=!1,r={};n.syncVdomIds(),e&&n.id!==e.id&&_manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].registerWrapperNode(e.id,n),d.forEach(e=>{t=_util_VNode_mjs__WEBPACK_IMPORTED_MODULE_11__["default"].find(n.vnode,e.vdom.id)?.vnode,t&&(r[e.id]=t,e.id!==t.id&&_manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].registerWrapperNode(t.id,e))}),d.forEach(e=>{t=r[e.id],t?(e._vnode=_manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].addVnodeComponentReferences(t,e.id),e.rendered||(e._rendered=!0,e.fire("rendered",e.id)),e.mounted=!0):console.warn("syncVnodeTree: Could not replace the child vnode for",e.id)}),n._vnode=e?_manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].addVnodeComponentReferences(e,n.id):null}toggleCls(e,t){let o=this.cls;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].toggle(o,e,t),this.cls=o}unmount(){let e=this;e.vdom.removeDom=!0,e._hidden=!0,e.mounted=!1,Neo.applyDeltas(e.appName,{action:"removeNode",id:e.vdom.id})}up(e){return _manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].up(this.id,e)}update(){this.afterSetVdom(this.vdom,null)}updateStyle(){let e=this,{vdom:t}=e,o=e.getVdomRoot();t!==o?(t.style=e.wrapperStyle,o.style=e.style):t.style={...e.wrapperStyle,...e.style},e.update()}updateVdom(e,t){let o=this,{app:n,mounted:d,parentId:i,vnode:r}=o;o.isVdomUpdating||o.silentVdomUpdate?(e&&o.resolveUpdateCache.push(e),o.needsVdomUpdate=!0):d||!o.isConstructed||o.hasRenderingListener||!0!==n?.rendering?(!e||d&&r||o.resolveUpdateCache.push(e),!o.needsParentUpdate(i,e)&&!o.isParentUpdating(i,e)&&d&&r&&(0!==g.countLoadingThemeFiles?g.on("themeFilesLoaded",function(){o.updateVdom(e,t)},o,{once:!0}):o.#e(e,t))):(o.hasRenderingListener=!0,n.on("mounted",()=>{o.timeout(50).then(()=>{o.vnode&&o.updateVdom(e,t)})},o,{once:!0})),o.hasUnmountedVdomChanges=!d&&o.hasBeenMounted}async waitForDomRect({appName:e=this.appName,attempts:t=10,delay:o=50,id:n=this.id}){let d=this,i=await d.getDomRect(n,e),r=!1;return Array.isArray(i)?i.forEach(e=>{(e.height<1||e.width<1)&&(r=!0)}):(i.height<1||i.width<1)&&(r=!0),r&&t>0?(await d.timeout(o),await d.waitForDomRect({appName:e,attempts:t-1,delay:o,id:n})):i}}));

/***/ }),

/***/ "./dist/esm/src/core/Base.mjs":
/*!************************************!*\
  !*** ./dist/esm/src/core/Base.mjs ***!
  \************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _util_Function_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/Function.mjs */ "./dist/esm/src/util/Function.mjs");
/* harmony import */ var _IdGenerator_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./IdGenerator.mjs */ "./dist/esm/src/core/IdGenerator.mjs");
const n=Symbol.for("configSymbol"),a=Symbol("forceAssignConfigs"),c=Symbol("isInstance");class l{static delayable={};static instanceManagerAvailable=!1;static methodNameRegex=/\n.*\n\s+at\s+.*\.(\w+)\s+.*/;static observable=!1;static overwrittenMethods={};static config={className:"Neo.core.Base",ntype:"base",delayable:null,id_:null,isConstructed:!1,isReady_:!1,mixins:null,module:null,remote_:null};#e=[];construct(e={}){let t=this;Object.defineProperties(t,{[n]:{configurable:!0,enumerable:!1,value:{},writable:!0},[c]:{enumerable:!1,value:!0}}),t.createId(e.id||t.id),delete e.id,t.constructor.config&&delete t.constructor.config.id,t.getStaticConfig("observable")&&t.initObservable(e),e=t.setFields(e),t.initConfig(e),Object.defineProperty(t,"configsApplied",{enumerable:!1,value:!0}),t.applyDelayable(),(0,_util_Function_mjs__WEBPACK_IMPORTED_MODULE_0__.intercept)(t,"destroy",t.isDestroyedCheck,t),Promise.resolve().then(async()=>{await t.initAsync(),t.isReady=!0})}afterSetId(e,t){let s=this,r=!0===l.instanceManagerAvailable;t&&(r?Neo.manager.Instance.unregister(t):delete Neo.idMap[t]),e&&(r?Neo.manager.Instance.register(s):(Neo.idMap=Neo.idMap||{},Neo.idMap[s.id]=s))}applyDelayable(){let s=this,r=s.constructor.delayable,o=s.delayable?Neo.merge({},s.delayable,r):r;Object.entries(o).forEach(([r,o])=>{if(o){let n={buffer(){s[r]=new _util_Function_mjs__WEBPACK_IMPORTED_MODULE_0__.buffer(s[r],s,o.timer)},debounce(){s[r]=new _util_Function_mjs__WEBPACK_IMPORTED_MODULE_0__.debounce(s[r],s,o.timer)},throttle(){s[r]=new _util_Function_mjs__WEBPACK_IMPORTED_MODULE_0__.throttle(s[r],s,o.timer)}};n[o.type]?.()}})}static applyOverwrites(e){let t,s,r=Neo.ns(e.className,!1,Neo.overwrites);if(r){for(s in r)Neo.isFunction(r[s])&&(t=this.prototype,t[s]&&(t.constructor.overwrittenMethods[s]=t[s]));Object.assign(e,r)}}beforeSetEnumValue(e,t,s,r=s+"s"){let i=Array.isArray(r)?r:this.getStaticConfig(r);return i.includes(e)?e:(console.error(`Supported values for ${s} are:`,...i,this),t)}beforeSetRemote(e,t){let s=this;if(e&&!s.singleton&&!s.isMainThreadAddon)throw new Error("Remote method access is only functional for Singleton classes "+s.className);return e}bindCallback(e,t,s=this,i=this){if(e&&Neo.isString(e)){const o=(0,_util_Function_mjs__WEBPACK_IMPORTED_MODULE_0__.resolveCallback)(e,s);i[t]=o.fn.bind(o.scope)}}callOverwritten(...e){let t=(new Error).stack.match(l.methodNameRegex)[1];this.__proto__.constructor.overwrittenMethods[t].call(this,...e)}createId(e){this.id=e||_IdGenerator_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getId(this.getIdKey())}destroy(){let e=this;e.#e.forEach(e=>{clearTimeout(e)}),!0===l.instanceManagerAvailable?Neo.manager.Instance.unregister(e):Neo.idMap&&delete Neo.idMap[e.id],Object.keys(e).forEach(t=>{Object.getOwnPropertyDescriptor(e,t).writable&&"destroy"!==t&&"_id"!==t&&delete e[t]}),Neo.isFunction(e.fire)&&(e.fire=Neo.emptyFn),e.isDestroyed=!0}getIdKey(){return this.ntype}getStaticConfig(e){return this.constructor[e]}hasNtype(e){return this.constructor.ntypeChain.includes(e)}init(){}async initAsync(){this.remote&&this.initRemote()}initConfig(e,t){let s=this;s.isConfiguring=!0,Object.assign(s[n],s.mergeConfig(e,t)),s.processConfigs(),s.isConfiguring=!1}initRemote(){let{className:e,remote:t}=this,{currentWorker:s}=Neo;Neo.config.unitTestMode||("main"!==Neo.workerId&&s.isSharedWorker&&!s.isConnected?s.on("connected",()=>{l.sendRemotes(e,t)},this,{once:!0}):l.sendRemotes(e,t))}isDestroyedCheck(){return!this.isDestroyed}mergeConfig(e,t){let s=this,r=s.constructor;if(!r.config)throw new Error("Neo.applyClassConfig has not been run on "+s.className);return t||(s.originalConfig=Neo.clone(e,!0,!0)),{...r.config,...e}}onAfterConstructed(){let e=this;e.isConstructed=!0,e.getStaticConfig("observable")&&e.fire("constructed",e)}onConstructed(){}parseItemConfigs(e){let t,s,r,i,o=this;e&&(Array.isArray(e)||(e=[e]),e.forEach(e=>{e&&Object.entries(e).forEach(([a,c])=>{Array.isArray(c)?o.parseItemConfigs(c):"string"==typeof c&&c.startsWith("@config:")&&(s=c.substring(8).trim().split("."),r=s.pop(),t=Neo.ns(s,!1,o),void 0===t[r]?console.error("The used @config does not exist:",r,s.join(".")):(i=Neo.ns(s,!1,o[n]),i&&Object.hasOwn(i,r)?e[a]=i[r]:e[a]=t[r]))})}))}processConfigs(e=!1){let t=this,s=Object.keys(t[n]);t[a]=e,s.length>0&&(!e&&t.hasOwnProperty(s[0])||(t[s[0]]=t[n][s[0]]),delete t[n][s[0]],t.processConfigs(e))}static sendRemotes(e,t){let s;Object.entries(t).forEach(([t,r])=>{Neo.workerId!==t&&(s="main"===Neo.workerId?Neo.worker.Manager:Neo.currentWorker,s.sendMessage(t,{action:"registerRemote",className:e,methods:r}))})}set(e={}){let t=this;e=t.setFields(e),!0!==t[a]&&Object.keys(t[n]).length>0&&t.processConfigs(),Object.assign(t[n],e),t.processConfigs(!0)}setFields(e){let t=this,s=t.constructor.config;return Object.entries(e).forEach(([r,i])=>{s.hasOwnProperty(r)||Neo.hasPropertySetter(t,r)||(t[r]=i,delete e[r])}),e}setStaticConfig(e,t){let s=this.constructor.staticConfig;return!!s.hasOwnProperty(e)&&(s[e]=t,!0)}timeout(e){return new Promise(t=>{let s=this.#e,r=setTimeout(()=>{s.splice(s.indexOf(r),1),t()},e);s.push(r)})}get[Symbol.toStringTag](){return`${this.className} (id: ${this.id})`}static[Symbol.hasInstance](e){return!!e&&(!0===e[c]&&super[Symbol.hasInstance](e))}}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(l));

/***/ }),

/***/ "./dist/esm/src/core/IdGenerator.mjs":
/*!*******************************************!*\
  !*** ./dist/esm/src/core/IdGenerator.mjs ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class{static config={className:"Neo.core.IdGenerator",ntype:"id-generator",base:"neo-",singleton:!0};construct(e){let t=this;t.idCounter={},Neo.getId=t.getId.bind(t)}getId(e){e=e||"neo";let t=this.idCounter,n=t[e]||0;return t[e]=++n,this.base+("neo"===e?"":e+"-")+n}init(){}onAfterConstructed(){}onConstructed(){}}));

/***/ }),

/***/ "./dist/esm/src/core/Observable.mjs":
/*!******************************************!*\
  !*** ./dist/esm/src/core/Observable.mjs ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _util_Function_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Function.mjs */ "./dist/esm/src/util/Function.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.core.Observable",ntype:"mixin-observable",mixin:!0};addListener(e,s,t,o,r,n){let i,c,l,a=this,d=0,p="object"==typeof e,f=!1,u=typeof s;if("object"==typeof o&&"function"===u&&(o.fn=s,s=o,u="object",o=null),p)e.hasOwnProperty("delay")&&(d=e.delay,delete e.delay),e.hasOwnProperty("once")&&(f=e.once,delete e.once),e.hasOwnProperty("order")&&(n=e.order,delete e.order),e.hasOwnProperty("scope")&&(t=e.scope,delete e.scope),Object.entries(e).forEach(([e,s])=>{Neo.isObject(s)?a.addListener(e,{delay:d,once:f,order:n,scope:t,...s}):a.addListener(e,{delay:d,fn:s,once:f,order:n,scope:t})});else if("object"===u)d=d||s.delay,o=o||s.eventId,i=s.fn,f=f||s.once,n=n||s.order,t=t||s.scope;else if("function"===u)i=s;else{if("string"!==u)throw new Error("Invalid addListener call: "+e);i=s}return p?null:(l={fn:i,id:o||Neo.getId("event")},r&&(l.data=r),d>0&&(l.delay=d),f&&(l.once=f),t&&(l.scope=t),(c=a.listeners?.[e])?(c.forEach(s=>{(s.id===o||s.fn===i&&s.scope===t)&&console.error("Duplicate event handler attached:",e,a)}),"number"==typeof n?c.splice(n,0,l):"before"===n?c.unshift(l):c.push(l)):a.listeners[e]=[l],l.id)}callback(e,s=this,o){if(e){const r=(0,_util_Function_mjs__WEBPACK_IMPORTED_MODULE_2__.resolveCallback)(e,s);r.fn.apply(r.scope,o)}}delayedCallback(e,s,t){this.timeout(t).then(()=>{e.fn.apply(e.scope,s)})}fire(e){let o,r,n,i,c,l=this,a=[].slice.call(arguments,1),d=l.listeners;if(d&&d[e])for(n=[...d[e]],c=n.length,i=0;i<c;i++){r=n[i],o=r.delay;const c=(0,_util_Function_mjs__WEBPACK_IMPORTED_MODULE_2__.resolveCallback)(r.fn,r.scope||l);c.scope&&!c.scope.id?_util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].remove(d[e],r):l.suspendEvents||(1===a.length&&Neo.isObject(a[0])&&(a[0].source=l.id),r.once&&_util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].remove(d[e],r),Neo.isNumber(o)&&o>0?l.delayedCallback(c,r.data?a.concat(r.data):a,o):c.fn.apply(c.scope,r.data?a.concat(r.data):a))}}initObservable(e){let s,t=this,o=t.__proto__,r=o.constructor;for(e.listeners&&(t.listeners=e.listeners,delete e.listeners),s=t.listeners,t.listeners={},s&&(Neo.isObject(s)&&(s={...s}),t.addListener(s));o?.constructor.isClass;)r=o.constructor,r.observable&&!r.listeners&&Object.assign(r,{addListener:t.addListener,fire:t.fire,listeners:{},on:t.on,removeListener:t.removeListener,un:t.un}),o=o.__proto__}on(...e){return this.addListener(...e)}removeListener(e,s,t){let o,r,n,i,c,l=this;Neo.isFunction(s)?l.removeListener({[e]:s,scope:t}):Neo.isObject(e)?(e.scope&&(t=e.scope,delete e.scope),Object.entries(e).forEach(([e,s])=>{for(i=l.listeners[e]||[],o=0,r=i.length;o<r;o++)if(n=i[o],n.fn.name===(Neo.isString(s)?s:s.name)&&n.scope===t){i.splice(o,1);break}})):Neo.isString(s)&&(i=l.listeners[e],c=!1,i.forEach((e,t)=>{if(e.id===s)return c=t}),!1!==c&&i.splice(c,1))}un(...e){this.removeListener(...e)}}));

/***/ }),

/***/ "./dist/esm/src/manager/Base.mjs":
/*!***************************************!*\
  !*** ./dist/esm/src/manager/Base.mjs ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _collection_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../collection/Base.mjs */ "./dist/esm/src/collection/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _collection_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.manager.Base"};getById(e){return e&&this.get(e)||null}register(e){let t=this;t.get(e.id)?Neo.logError("Trying to create an item with an already existing id",e,t.get(e.id)):t.push(e)}unregister(e){this.remove(e)}}));

/***/ }),

/***/ "./dist/esm/src/manager/Component.mjs":
/*!********************************************!*\
  !*** ./dist/esm/src/manager/Component.mjs ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./dist/esm/src/manager/Base.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony import */ var _util_VNode_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/VNode.mjs */ "./dist/esm/src/util/VNode.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.manager.Component",singleton:!0};wrapperNodes=new Map;construct(e){super.construct(e);let t=this;Neo.first=t.getFirst.bind(t),Neo.getComponent=t.get.bind(t)}addVnodeComponentReferences(e,r){e={...e};let n,o,s,i,d,p=this,h=e?.childNodes?[...e.childNodes]:[];return e.childNodes=h,h.forEach((e,l)=>{n=e.id,e.componentId||n===r||(o=p.get(n),o||(o=p.wrapperNodes.get(n),o&&(s=o.id,i=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].find(o.parent.vdom,{componentId:s},!1),i&&(i.vdom.id=n))),o&&(s=o.id,d={componentId:s},s!==n&&(d.id=n))),h[l]=o?d:p.addVnodeComponentReferences(e,r)}),e}down(e,t,r=!0){Neo.isString(e)&&(e=this.getById(e));let n,o,s,i,d=this,p=[],h=null,l=0,u=[];if(Neo.isString(t)?t={ntype:t}:t||(t={}),o=Object.entries(t),s=o.length,o.forEach(([t,r])=>{(e[t]===r||"ntype"===t&&d.hasPrototypePropertyValue(e,t,r))&&p.push(!0)}),p.length===s){if(r)return e;u.push(e)}for(n=d.find({parentId:e.id}),i=n.length;l<i;l++)if(h=d.down(n[l],t,r),r){if(null!==h)return h}else h.length>0&&u.push(...h);return r?null:u}findParentComponent(e){let t,r=this,n=0,o=e?.length||0;for(;n<o;n++)if(t=e[n],t&&r.has(t))return t;return null}get(e,t=!0){if(t){let t=this.wrapperNodes.get(e);if(t)return t}return super.get(e)}getChildComponents(e){let t,r=this,n=r.find("parentId",e.id)||[],o=[];return n.forEach(e=>{o.push(e),t=r.getChildComponents(e),t&&o.push(...t)}),o}getChildIds(e,t=[]){return _util_VNode_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getChildIds(e,t)}getChildren(e){let t,n=[];return _util_VNode_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getChildIds(e.vnode).forEach(e=>{t=this.get(e),t&&n.push(t)}),n}getFirst(e,t=!0){let r=[],n=Neo.apps[Object.keys(Neo.apps)[0]].mainView;if(Neo.isString(e)){const t=/(\w*)(\[[^\]]*\])|(\w*)/g;let n;for(;n=t.exec(e);){let e,[,o,s,i]=n;if(o=o||i,e={ntype:o},s){const t=/\[(.*?)\]/,r=s.match(t);if(r){r[1].split(",").forEach(t=>{const[r,n]=t.split("=");e[r]=n.replace(/"/g,"")})}}r.push(e),t.lastIndex++}}else Neo.isObject(e)?r.push(e):Neo.isArray(e)&&(r=e);return r.reduce((e,r)=>{if(e){let n=e.down(r,t);if(n)return n}return null},n)}getParentIds(e){let t=[];for(;e?.parentId;)(e=this.get(e.parentId))&&t.push(e.id);return t}getParentPath(e){let t=this,r=[],n=0,o=e?.length||0;for(;n<o;n++)(t.has(e[n])||t.wrapperNodes.get(e[n]))&&r.push(e[n]);return r}getParents(e){Neo.isString(e)&&(e=this.get(e));let t=[];for(;e?.parentId;)(e=this.get(e.parentId))&&t.push(e);return t}getVdomTree(e,t=-1){let r,n={...e};return e.cn&&(n.cn=[],e.cn.forEach(e=>{r=t,e.componentId&&(r=-1===t?-1:t>1?t-1:1,(-1===t||t>1)&&(e=this.get(e.componentId).vdom)),n.cn.push(this.getVdomTree(e,r))})),n}getVnodeTree(e,t=-1){let r,n,o={...e};return e.childNodes&&(o.childNodes=[],e.childNodes.forEach(e=>{r=t,e.componentId&&(r=-1===t?-1:t>1?t-1:1,(-1===t||t>1)&&(n=this.get(e.componentId),n?.vnode&&(e=n.vnode))),o.childNodes.push(this.getVnodeTree(e,r))})),o}hasPrototypePropertyValue(e,t,r){for(;null!==e;){if(e.hasOwnProperty(t)&&e[t]===r)return!0;e=e.__proto__}return!1}registerWrapperNode(e,t){this.wrapperNodes.set(e,t)}unregister(e){e&&(Neo.isString(e)?this.wrapperNodes.delete(e):e.id!==e.vdom.id&&this.wrapperNodes.delete(e.vdom.id)),super.unregister(e)}up(e,t,r=!0){let n,o,s,i=this.get(e),d=[];for(Neo.isString(t)?t={ntype:t}:t||(t={}),n=Object.entries(t),o=n.length;i?.parentId;){if(i=this.get(i.parentId),!i)return r?null:d;if(s=[],n.forEach(([e,t])=>{i[e]===t&&s.push(!0)}),s.length===o){if(r)return i;d.push(i)}}}}));

/***/ }),

/***/ "./dist/esm/src/manager/DomEvent.mjs":
/*!*******************************************!*\
  !*** ./dist/esm/src/manager/DomEvent.mjs ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _Component_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Component.mjs */ "./dist/esm/src/manager/Component.mjs");
/* harmony import */ var _Focus_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Focus.mjs */ "./dist/esm/src/manager/Focus.mjs");
/* harmony import */ var _util_Logger_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Logger.mjs */ "./dist/esm/src/util/Logger.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
const s=["bubble","delegate","local","scope","vnodeId"],d=["change","click","contextmenu","dblclick","drag:end","drag:move","drag:start","focusin","focusout","input","intersect","keydown","keyup","mousedown","mouseenter","mouseleave","mouseup","neonavigate","scroll","selectionchange","touchmove","wheel"];class a extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.manager.DomEvent",items:{},map:{},singleton:!0};addResizeObserver(e,t){Neo.main.addon.ResizeObserver||console.error("For using resize domListeners, you must include main.addon.ResizeObserver.",t);let{id:o,windowId:r}=e;Neo.main.addon.ResizeObserver.register({id:o,windowId:r})}fire(e){let r,n,i,s,d=this,l=!0,m=e.data||{},{eventName:u}=e,c=0,p=null,g=m.path.map(e=>e.id),f=_Component_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getParentPath(g),b=f.length;for(;c<b&&(i=f[c],r=Neo.getComponent(i),r&&!r.disabled);c++){if(p=d.items[i]?.[u],p&&Array.isArray(p)&&p.every(e=>{let t;return e&&e.fn&&(n="resize"===u?m.id===r.id&&m.id:d.verifyDelegationPath(e,m.path),!1!==n&&(s=!1,"mouseenter"!==u&&"mouseleave"!==u||(s=!a.verifyMouseEnterLeave(r,m,n,u)),s||(m=Neo.clone(m,!0,!0),m.component=r,m.currentTarget=n,Neo.isString(e.fn)&&d.bindCallback(e.fn,"fn",e.scope,e),t=e.fn.apply(e.scope||globalThis,[m]),e.bubble||(l=!1)))),!1!==t}),"focusin"===u||"focusout"===u){_Focus_mjs__WEBPACK_IMPORTED_MODULE_2__["default"]["on"+Neo.capitalize(u)]({componentPath:f,data:m});break}if(!l||m.cancelBubble)break}if("contextmenu"===u&&m.ctrlKey)Neo.util?.Logger?.onContextMenu(m);else if(u.startsWith("drop")){let e=m.dragZoneId&&Neo.get(m.dragZoneId);e&&(e.fire(u,m),e[{drop:"onDrop","drop:enter":"onDropEnter","drop:leave":"onDropLeave"}[u]].call(e,m))}}generateListenerConfig(e,t){return{bubble:e.bubble,delegate:e.delegate,eventName:e.eventName,id:t.id,opts:e,priority:e.priority,scope:e.scope||t,vnodeId:e.vnodeId||t.vdom.id}}getEventName(e){let t=null;return Neo.isObject(e)&&Object.keys(e).forEach(e=>{s.includes(e)||(t=e)}),t}getListener(e){let t,o=this.items;if(o?.[e.id])return t=o[e.id][e.eventName],t||null}mountDomListeners(e){let t=this.items[e.id],o=[];t&&(Object.entries(t).forEach(([t,r])=>{r.forEach(r=>{"resize"===(t=r.eventName)?this.addResizeObserver(e,r):!t||!r.local&&d.includes(t)||o.push({name:t,handler:"domEventListener",vnodeId:r.vnodeId})})}),o.length>0&&Neo.worker.App.promiseMessage("main",{action:"addDomListener",appName:e.appName,events:o,windowId:e.windowId}).then(e=>{}).catch(e=>{console.log("App: Got error attempting to add a domListener",e)}))}register(e){let t,o,r,n,i=!1,{eventName:s,id:a,opts:l,scope:m}=e,u=this.items,c=typeof l;return"function"===c||"string"===c?t=l:(t=l.fn,m=l.scope||m),u[a]||(u[a]={}),u[a][s]?(o=u[a][s],Object.keys(o).forEach(r=>{o[r].fn.toString()===t.toString()&&o[r].scope===m&&o[r].delegate===e.delegate&&(i=!0)})):u[a][s]=[],!0!==i&&(n=Neo.getId("dom-event"),e.listenerId=n,r={bubble:e.hasOwnProperty("bubble")?e.bubble:!l.hasOwnProperty("bubble")||l.bubble,delegate:e.delegate,eventName:s,fn:t,id:n,mounted:!e.local&&d.includes(s),originalConfig:e.originalConfig,ownerId:e.ownerId,priority:e.priority||l.priority||1,scope:m,vnodeId:e.vnodeId},this.map[n]=r,u[a][s].push(r),u[a][s].sort((e,t)=>t.priority-e.priority),!0)}unregister(e,t){console.log("unregister",e),console.log(this.generateListenerConfig(e,t))}updateDomListeners(e,t,o){let i,d,a,l=this,m=l.items[e.id]||{};Array.isArray(t)?(Array.isArray(o)&&o.forEach(e=>{if(!t.includes(e))for(a=m[l.getEventName(e)]||[],i=0,d=a.length;i<d;i++)if(a[i].originalConfig===e){_util_Array_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].remove(a,a[i]);break}}),t.forEach(t=>{Object.entries(t).forEach(([o,r])=>{s.includes(o)||l.register({bubble:t.bubble||r.bubble,delegate:t.delegate||r.delegate||"#"+(e.vdom.id||e.id),eventName:o,id:e.vdom.id||e.id,opts:r,originalConfig:t,ownerId:e.id,priority:t.priority||r.priority||1,scope:t.scope||e,vnodeId:t.vnodeId||r.vnodeId||e.vdom.id})})}),e.mounted&&t?.length>0&&l.timeout(100).then(()=>{l.mountDomListeners(e)})):_util_Logger_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].logError("Component.domListeners have to be an array",e)}verifyDelegationPath(e,t){let o,{delegate:r}=e,n=0,i=t.length;if("function"==typeof r)n=r(t),null!=n&&(o=t[n].id);else{let e,s,d,a,l=r.split(" ");for(s=l.length-1;s>=0;s--){for(e=!1,d=l[s],a=d.startsWith("#"),(a||d.startsWith("."))&&(d=d.substr(1));n<i;n++)if(a&&t[n].id===d||t[n].cls.includes(d)){e=!0,o=t[n].id;break}if(!e)return!1}}for(;n<i;n++)if(t[n].id===e.vnodeId)return o;return!1}static verifyMouseEnterLeave(e,t,o,r){let n,s="mouseenter"===r?t.fromElementId:t.toElementId;return!(s&&s!==o&&(n=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].find(e.vdom,o),!n||n.vdom&&_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].find(n.vdom,s)))}}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(a));

/***/ }),

/***/ "./dist/esm/src/manager/Focus.mjs":
/*!****************************************!*\
  !*** ./dist/esm/src/manager/Focus.mjs ***!
  \****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.manager.Focus",history:[],lastFocusInDate:null,lastFocusOutDate:null,maxFocusInOutGap:50,maxHistoryLength:20,singleton:!0};addToHistory(t){let o=this.history;o.unshift(t),o.length>=this.maxHistoryLength&&o.pop()}focusEnter(t){this.setComponentFocus(t,!0),this.addToHistory(t)}focusLeave(t){this.setComponentFocus(t,!1)}focusMove(t){let e,a,s=this,{history:n}=s,c=t.componentPath,u=n[0].componentPath,h=_util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].difference(c,u),r=_util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].difference(u,c),i=_util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].intersection(c,u);s.setComponentFocus({componentPath:r,data:t.data},!1),s.setComponentFocus({componentPath:h,data:t.data},!0),i.forEach(o=>{e=Neo.getComponent(o),e&&(a={component:e,path:t.data.path,oldPath:n[0].data.path},e.onFocusMove?.(a),e.fire("focusMove",a),e.onFocusChange?.(a),e.fire("focusChange",a))}),s.addToHistory(t)}onFocusin(t){let o=this;o.lastFocusInDate=new Date,o.lastFocusOutDate&&o.lastFocusInDate-o.lastFocusOutDate<o.maxFocusInOutGap?o.focusMove(t):o.focusEnter(t)}onFocusout(t){let o=this;o.lastFocusOutDate=new Date,o.timeout(o.maxFocusInOutGap).then(()=>{o.lastFocusOutDate>o.lastFocusInDate&&o.focusLeave(t)})}setComponentFocus(t,o){let e,a={relatedTarget:t.data.relatedTarget},s=t.componentPath.map(t=>Neo.getComponent(t));s.forEach(t=>{t&&(t.containsFocus=o)}),s.forEach(s=>{s&&(a.component=s,a[o?"path":"oldPath"]=t.data.path,e=o?"onFocusEnter":"onFocusLeave",s[e]?.(a),s.fire(o?"focusEnter":"focusLeave",a),s.onFocusChange?.(a),s.fire("focusChange",a))})}}));

/***/ }),

/***/ "./dist/esm/src/util/Array.mjs":
/*!*************************************!*\
  !*** ./dist/esm/src/util/Array.mjs ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.util.Array"};static add(t,e){return Array.isArray(e)||(e=[e]),e.forEach(e=>{t.includes(e)||t.push(e)}),t}static difference(t=[],e=[]){return t.filter(t=>!e.includes(t))}static hasItem(t,e){return t.includes(e)}static insert(t,e,r){Array.isArray(r)||(r=[r]);let s,i,a=r.length-1;for(;a>-1;a--)i=r[a],s=t.indexOf(i),e!==s&&(s>-1?this.move(t,s,e):t.splice(e,0,i));return t}static intersection(t=[],e=[]){return t.filter(t=>e.includes(t))}static move(t,e,r){return e===r||(e>=t.length&&(e=t.length-1),t.splice(r,0,t.splice(e,1)[0])),t}static remove(t,e){let r;return Array.isArray(e)||(e=[e]),e.forEach(e=>{r=t.indexOf(e),r>-1&&t.splice(r,1)}),t}static removeAdd(t,e,r){return this.remove(t,e),this.add(t,r)}static toggle(t,e,r=!this.hasItem(t,e)){return this[r?"add":"remove"](t,e)}static union(){return[...new Set(Array.prototype.concat(...arguments))]}static unshift(t,e){return Array.isArray(e)||(e=[e]),e.forEach(e=>{t.includes(e)||t.unshift(e)}),t}}));

/***/ }),

/***/ "./dist/esm/src/util/ClassSystem.mjs":
/*!*******************************************!*\
  !*** ./dist/esm/src/util/ClassSystem.mjs ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.util.ClassSystem"};static beforeSetInstance(e,s=null,t={}){let o=Neo.typeOf(e);if(Neo.isString(s)&&(s=Neo.ns(s)),!e&&s)e=Neo.create(s,t);else if("NeoClass"===o)e=Neo.create(e,t);else if("Object"===o)if(e.ntype)e=Neo.ntype({...t,...e});else{let o={};s&&(o.module=s),Object.assign(o,{...t,...e}),e=Neo.create(o)}else"NeoInstance"===o&&t?.listeners&&e.on(t.listeners);return e}}));

/***/ }),

/***/ "./dist/esm/src/util/Function.mjs":
/*!****************************************!*\
  !*** ./dist/esm/src/util/Function.mjs ***!
  \****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   bindAppend: () => (/* binding */ bindAppend),
/* harmony export */   buffer: () => (/* binding */ buffer),
/* harmony export */   createInterceptor: () => (/* binding */ createInterceptor),
/* harmony export */   createSequence: () => (/* binding */ createSequence),
/* harmony export */   debounce: () => (/* binding */ debounce),
/* harmony export */   intercept: () => (/* binding */ intercept),
/* harmony export */   resolveCallback: () => (/* binding */ resolveCallback),
/* harmony export */   throttle: () => (/* binding */ throttle)
/* harmony export */ });
function bindAppend(e,t){const n=[].slice.call(arguments).slice(2);return function(){return e.apply(t,[].slice.call(arguments).concat(n))}}function buffer(e,t,n=300){let o;const r=function(...i){clearTimeout(o),r.isPending=!0,o=setTimeout(()=>{o=0,r.isPending=!1,e.apply(t,i)},n)};return r.cancel=()=>{r.isPending=!1,clearTimeout(o)},r}function createInterceptor(e,t,n,o){let r=e[t];return e[t]=function(t){return r.call(e,n.call(o||e,t))}}function createSequence(e,t,n,o){let r=e[t]||Neo.emptyFn;return e[t]=function(){return r.apply(this,arguments),n.apply(o||this,arguments)}}function debounce(e,t,n=300){let o;return function(...r){Neo.isNumber(o)?(clearTimeout(o),o=setTimeout(()=>{t?.id&&e.apply(t,r),o=setTimeout(()=>{o=null},n)},n)):(t?.id&&e.apply(t,r),o=setTimeout(()=>{o=null},n))}}function intercept(e,t,n,o,r=null){let i=e[t];return e[t]=function(){return!1===n.apply(o||e,arguments)?r:i.apply(e,arguments)}}function resolveCallback(e,t=this){if(Neo.isString(e)){if(!t[e]&&e.startsWith("up."))for(e=e.slice(3);!t[e]&&(t=t.parent););else t=t.getController?.()?.getHandlerScope(e,null)||t;e=t[e]}return{fn:e,scope:t}}function throttle(e,t,n=300){let o,r;return function(...i){o?(clearTimeout(r),r=setTimeout(function(){Date.now()-o>=n&&(t?.id&&e.apply(t,i),o=Date.now())},n-(Date.now()-o))):(t?.id&&e.apply(t,i),o=Date.now())}}

/***/ }),

/***/ "./dist/esm/src/util/KeyNavigation.mjs":
/*!*********************************************!*\
  !*** ./dist/esm/src/util/KeyNavigation.mjs ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.util.KeyNavigation",ntype:"keynav",component_:null,keyDownEventBubble:!1,keys_:null};add(e){this._keys.push(...this.parseKeys(e))}beforeGetComponent(){return Neo.getComponent(this._component)}beforeSetComponent(e){return e?.id}destroy(){this.unregister(),super.destroy()}onKeyDown(e){if(e.key){let s,o=this,r=e.key.toUpperCase();r=o.parseUpperCaseKey(r),o.keys.forEach(t=>{s=Neo.isString(t.scope)?Neo.get(t.scope):t.scope,t.key.toUpperCase()===r&&(Neo.isFunction(t.fn)?t.fn.apply(s,[e,o.component]):s[t.fn]?.apply(s,[e,o.component]))})}}parseKeys(e){if(!Array.isArray(e)){let s=this._component,o=[];s&&(Object.entries(e).forEach(([r,t])=>{"scope"!==r&&o.push({fn:t,key:r,scope:e.scope||s})}),e=o)}return e}parseUpperCaseKey(e){switch(e){case" ":e="SPACE";break;case"ARROWDOWN":e="DOWN";break;case"ARROWLEFT":e="LEFT";break;case"ARROWRIGHT":e="RIGHT";break;case"ARROWUP":e="UP"}return e}register(e){let s=this;s.component=e,s.keys=s.parseKeys(s.keys),e.addDomListeners({keydown:{bubble:s.keyDownEventBubble,fn:s.onKeyDown,scope:s}})}removeKey(e){let o,r=this._keys,t=0,n=r.length;for(;t<n;t++)if(o=r[t],Neo.isEqual(o,e)){_util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].remove(r,o);break}}removeKeys(e){Array.isArray(e)&&e.forEach(e=>this.removeKey(e))}unregister(){}}));

/***/ }),

/***/ "./dist/esm/src/util/Logger.mjs":
/*!**************************************!*\
  !*** ./dist/esm/src/util/Logger.mjs ***!
  \**************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.util.Logger",level_:"info",singleton:!0};logChars={error:"E",info:"I",log:"L",warn:"W"};logColors={error:"indianred",info:"#acacac",log:"#448888",warn:"#6d6d00"};logLevels=["info","log","warn","error"];construct(o){super.construct(o);let e=this;Neo.applyFromNs(Neo,e,{error:"error",info:"info",log:"log",logError:"logError",warn:"warn"},!0),e.timeout(50).then(()=>{Neo.config.enableLogsInProduction||"dist/production"!==Neo.config.environment||(e.write=Neo.emptyFn)})}beforeSetLevel(o,e){return this.logLevels.indexOf(o)}error(o){throw new Error(o)}getCaller(){let o,e,r,t=(new Error).stack.split("\n"),l=!1;for(e in t)if(r=t[e],!l&&/Logger\.mjs/.test(r))l=!0;else if(l&&!/Logger\.mjs/.test(r)){r=r.replace(")",""),o=r.match(/([^\/]+)$/)[1].match(/([^ ]+)$/)[1];break}return o}info(...o){o=this.resolveArgs(...o),this.write(o,"info")}log(...o){o=this.resolveArgs(...o),this.write(o,"log")}logError(...o){o=this.resolveArgs(...o),this.write(o,"error")}onContextMenu(o){let{config:e}=Neo;if(e.enableComponentLogger&&("dist/production"!==e.env||!e.enableLogsInProduction)){let e,r=!1;o.path.forEach(o=>{e=Neo.getComponent(o.id,!1),e&&(r||(r=!0,console.group(o.id)),console.log(e))}),r&&console.groupEnd()}}resolveArgs(...o){let e=o[0],r={};return 1===o.length?Neo.isString(e)?r.msg=o[0]:Neo.isObject(e)&&(r=e):o.length>2&&(r.msg=o[0],r.data=o.slice(1)),r}warn(...o){o=this.resolveArgs(...o),this.write(o,"warn")}write(o,e){let r=this;if(r.beforeSetLevel(e)<r.level)return;console.log("#",o.msg,e);let t=r.logColors[e],l=r.logChars[e],n=`background-color:${t}; color: white; font-weight: 900;`,s=`color:${t};`,i=`[${r.getCaller()}] ${o.msg}`;o.data?(console.groupCollapsed(`%c ${l} %c ${i}`,n,s),console.log(o.data),console.groupEnd()):console.log(`%c ${l} %c ${i}`,n,s)}}));

/***/ }),

/***/ "./dist/esm/src/util/Rectangle.mjs":
/*!*****************************************!*\
  !*** ./dist/esm/src/util/Rectangle.mjs ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ l)
/* harmony export */ });
const t=Object.freeze([]),e=(t=0)=>{switch(Array.isArray(t)||(t=[t]),t.length){case 1:return t.length=4,t.fill(t[0],1,4);case 2:return[t[0],t[1],t[0],t[1]];case 3:return[t[0],t[1],t[2],t[1]]}return t},i=t=>{const e=o[t.ourEdge],i=o[t.theirEdge];return`${e}${t.ourEdgeOffset}${t.ourEdgeUnit}-${i}${t.theirEdgeOffset}${t.theirEdgeUnit}`},n=t=>{const e=t instanceof DOMRect?t:(1===t?.nodeType?t:"string"==typeof t?document.getElementById(t):null)?.getBoundingClientRect();return e&&new l(e.x,e.y,e.width,e.height)},o={t:"b",r:"l",b:"t",l:"r"},h={t:0,r:1,b:2,l:3},r=["top","right","bottom","left"],s=["t","r","b","l"],g=["width","height"],c=[0,0,0,0],a=/^([trblc])(\d*)(%|px)?-([trblc])(\d*)(%|px)?$/;class l extends DOMRect{static config={className:"Neo.util.Rectangle"};minHeight=null;minWidth=null;static excludes(t,e){return t.bottom<e.top||t.left>e.right||t.right<e.left||t.top>e.bottom}static getIntersection(t,e){let i=Math.max(t.x,e.x),n=Math.max(t.y,e.y),o=Math.min(t.right,e.right),h=Math.min(t.bottom,e.bottom),r=Math.max(0,o-i),s=Math.max(0,h-n);return s<1||r<1?null:new l(i,n,r,s)}static includes(t,e){return t.bottom>=e.bottom&&t.left<=e.left&&t.right>=e.right&&t.top<=e.top}static leavesSide(t,e,i){return!l.includes(t,e)&&("bottom"===i?t.bottom<e.bottom:"left"===i?t.left>e.left:"right"===i?t.right<e.right:"top"===i?t.top>e.top:void 0)}static moveBy(t,e=null,i=null){let n={...t};return Neo.isNumber(e)&&(n.left+=e,n.right+=e,n.x+=e),Neo.isNumber(i)&&(n.bottom+=i,n.top+=i,n.y+=i),n}static moveTo(t,e=null,i=null){let n={...t};return Neo.isNumber(e)&&(n.left=e,n.right=e+n.width,n.x=e),Neo.isNumber(i)&&(n.bottom=i+n.height,n.top=i,n.y=i),n}set bottom(t){this.height+=t-this.bottom}get bottom(){return super.bottom}set right(t){this.width+=t-this.right}get right(){return super.right}changeX(t){const e=this.x-t;this.x=t,this.width+=e}changeY(t){const e=this.y-t;this.y=t,this.height+=e}clone(){return l.clone(this)}static clone(t){const e=new l(t.x,t.y,t.width,t.height);return e.minWidth=t.minWidth,e.minHeight=t.minHeight,e}intersects(t){const e=this;if(t.height&&t.width){const i=Math.max(e.x,t.x),n=Math.max(e.y,t.y),o=Math.min(e.x+e.width,t.x+t.width),h=Math.min(e.y+e.height,t.y+t.height);return!(i>=o||n>=h)&&new l(i,n,o-i,h-n)}return t.x>=e.x&&t.y>=e.y&&t.right<=e.right&&t.bottom<=e.bottom}contains(t){return this.bottom>=t.bottom&&this.left<=t.left&&this.right>=t.right&&this.top<=t.top}expand(t){return t=e(t),new this.constructor(this.x-t[3],this.y-t[0],this.width+t[1]+t[3],this.height+t[0]+t[2])}moveBy(t=0,e=0){const i=this.clone();return Array.isArray(t)&&(e=t[1],t=t[0]),i.x+=t,i.y+=e,i}contains(t){return this.constructor.includes(this,t)}constrainTo(t){const e=this,i=e.minWidth||e.width;if((e.minHeight||e.height)>t.height||i>t.width)return!1;const n=e.clone();return n.x=Math.max(e.x+Math.min(t.right-n.right,0),t.x),n.y=Math.max(e.y+Math.min(t.bottom-n.bottom,0),t.y),n.bottom=Math.min(n.bottom,t.bottom),n.right=Math.min(n.right,t.right),n}alignTo(t){const l=this,{constrainTo:d,target:m,edgeAlign:u,axisLock:b,offset:x,matchSize:f}=t,y=t.targetMargin?e(t.targetMargin):c,p=n(m),w=n(d),E=(t=>{const e=a.exec(t),i=h[e[1]],n=h[e[4]];return{ourEdge:e[1],ourEdgeOffset:parseInt(e[2]||50),ourEdgeUnit:e[3]||"%",ourEdgeZone:i,theirEdge:e[4],theirEdgeOffset:parseInt(e[5]||50),theirEdgeUnit:e[6]||"%",theirEdgeZone:n,edgeAligned:(1&i)==(1&n)&&i!==n}})(u),M=g[1&E.theirEdgeZone];let $=l.clone();f&&($[M]=p[M]);const A=$.getAnchorPoint(E.ourEdgeZone,E.ourEdgeOffset,E.ourEdgeUnit),z=p.getAnchorPoint(E.theirEdgeZone,E.theirEdgeOffset,E.theirEdgeUnit,y),N=[z[0]-A[0],z[1]-A[1]];if($=$.moveBy(N),$.zone=E.theirEdgeZone,$.position=r[$.zone],w&&!w.contains($)){if(p.intersects($))return $;let t=E.theirEdgeZone;const e=[{zone:t,edgeAlign:u}];if(b)e[1]={zone:t=(t+2)%4,edgeAlign:i(E)},e.push({zone:t=(E.theirEdgeZone+1)%4,edgeAlign:`${o[s[t]]}-${s[t]}`}),e.push({zone:t=(E.theirEdgeZone+3)%4,edgeAlign:`${o[s[t]]}-${s[t]}`});else for(let i=1;i<4;i++)e.push({zone:t=(t+1)%4,edgeAlign:`${o[s[t]]}-${s[t]}`});for(let t=0;t<e.length;t++){const i=w.clone();switch(e[t].zone){case 0:i.bottom=p.y-y[0];break;case 1:i.changeX(p.right+y[1]);break;case 2:i.changeY(p.bottom+y[2]);break;case 3:i.right=p.x-y[3]}e[t].constrainRect=i}for(let t=0;t<e.length;t++){const{zone:i,edgeAlign:n,constrainRect:h}=e[t],g=s[i];f&&($[M]=g===E.theirEdge||g==o[E.theirEdge]?p[M]:l[M]),$=$.alignTo({target:p,edgeAlign:n,targetMargin:y});let c=$.constrainTo(h);if(c)return c.zone=i,c.position=r[i],c}}return x&&$.moveBy(x),$}getAnchorPoint(e,i,n,o=t){const h=this;let r;switch(e){case 0:r=[h.x,h.y-(o[0]||0),h.width,0];break;case 1:r=[h.x+h.width+(o[1]||0),h.y,h.height,1];break;case 2:r=[h.x,h.y+h.height+(o[2]||0),h.width,0];break;case 3:r=[h.x-(o[3]||0),h.y,h.height,1]}return r[r[3]]+="%"===n?r[2]/100*i:i,r.length=2,r}equals(t){return t instanceof DOMRect&&t.x===this.x&&t.y===this.y&&t.height===this.height&&t.width===this.width}show(t="red"){const e=document.createElement("div");return e.style=`\n            position:absolute;\n            transform:translate3d(${this.x}px, ${this.y}px, 0);\n            height:${this.height}px;\n            width:${this.width}px;\n            background-color:${t}\n        `,document.body.appendChild(e),setTimeout(()=>e.remove(),3e4),e}toJSON(){const{bottom:t,height:e,left:i,minHeight:n,minWidth:o,right:h,top:r,width:s,x:g,y:c}=this;return{bottom:t,height:e,left:i,minHeight:n,minWidth:o,right:h,top:r,width:s,x:g,y:c}}}

/***/ }),

/***/ "./dist/esm/src/util/Style.mjs":
/*!*************************************!*\
  !*** ./dist/esm/src/util/Style.mjs ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.util.Style"};static compareStyles(e,t){let s={};return Neo.isString(e)&&(e=Neo.createStyleObject(e)),Neo.isString(t)&&(t=Neo.createStyleObject(t)),e||t?t?(e&&Object.keys(e).forEach(l=>{t.hasOwnProperty(l)&&t[l]===e[l]||(s[l]=e[l])}),Object.keys(t).forEach(t=>{e&&e.hasOwnProperty(t)||(s[t]=null)}),Object.keys(s).length>0?s:null):Neo.clone(e):null}}));

/***/ }),

/***/ "./dist/esm/src/util/VDom.mjs":
/*!************************************!*\
  !*** ./dist/esm/src/util/VDom.mjs ***!
  \************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _manager_Component_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../manager/Component.mjs */ "./dist/esm/src/manager/Component.mjs");
class r extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.util.VDom"};static clone(e,t=!0){let n=Neo.clone(e,!0);return t&&delete n.id,n.cn&&n.cn.forEach((e,i)=>{n.cn[i]=r.clone(e,t)}),n}static find(e,t,n=!0,i,o){i=i||0,t=Neo.isString(t)?{id:t}:t,n&&(e=r.getVdom(e));let s,d=null,c=[],a=!0,l=0,f=e.cn?.length,g=Object.entries(t),m=g.length;if(g.forEach(([t,r])=>{if(e.hasOwnProperty(t))switch(t){case"cls":if("string"==typeof r&&Neo.isArray(e[t]))e[t].includes(r)&&c.push(!0);else if("string"==typeof r&&"string"==typeof e[t])e[t]===r&&c.push(!0);else if(Neo.isArray(r)&&Neo.isArray(e[t]))throw new Error("find: cls matching not supported for target & source types of Arrays");break;case"style":if("string"==typeof r&&"string"==typeof e[t])e[t]===r&&c.push(!0);else{if(!Neo.isObject(r)||!Neo.isObject(e[t]))throw new Error("find: style matching not supported for mixed target & source types (Object VS String)");Object.entries(r).forEach(([r,n])=>{e[t].hasOwnProperty(r)&&e[t][r]===n||(a=!1)}),a&&c.push(!0)}break;default:e[t]===r&&c.push(!0)}}),c.length===m)return{index:i,parentNode:o,vdom:e};if(e.cn)for(;l<f;l++)if(e.cn[l]&&(s=r.find(e.cn[l],t,n,l,e),s)){d={index:s.index,parentNode:s.parentNode,vdom:s.vdom};break}return d}static getByFlag(e,t){return r.find(e,{flag:t})?.vdom}static getChildIds(e,t=[]){return e=r.getVdom(e),(e?.cn||[]).forEach(e=>{e.id&&t.push(e.id),t=r.getChildIds(e,t)}),t}static getColumnNodes(e,t){e=r.getVdom(e);let n=[];return e.cn?.forEach(e=>{e.cn?.[t]&&n.push(e.cn[t])}),n}static getColumnNodesIds(e,t){return r.getColumnNodes(e,t).map(e=>e.id)}static getFlags(e,t,n){return e=r.getVdom(e),n||(n=[],e.flag===t&&n.push(e)),(e?.cn||[]).forEach(e=>{e.flag===t&&n.push(e),n=r.getFlags(e,t,n)}),n}static getParentNodes(e,t,n=!0){e=r.getVdom(e);let i=null,o=0,s=e.cn?.length||0;if(e.id===t)return[];for(;o<s;o++)if(i=r.getParentNodes(e.cn[o],t,!1),i){i.push(e.cn[o]);break}return n&&i&&i.push(e),i}static getVdom(e){return e.componentId&&(e=_manager_Component_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].get(e.componentId).vdom),e}static insertAfterNode(e,t,n){return r.insertNode(e,t,n,!1)}static insertBeforeNode(e,t,n){return r.insertNode(e,t,n,!0)}static insertNode(e,t,n,i){Neo.isObject(n)&&(n=n.id);let o,s=r.find(e,n);return!!s&&(o=i?s.index:s.index+1,s.parentNode.cn.splice(o,0,t),!0)}static removeVdomChild(e,t){let n=r.find(e,t);return!!n&&(n.parentNode.cn.splice(n.index,1),!0)}static replaceVdomChild(e,t,n){let i,o=(e=r.getVdom(e)).cn||[],s=0,d=o.length;if(e.id===t)throw new Error("replaceVdomChild: target id matches the root vnode id: "+t);for(;s<d;s++){if(i=o[s],i.id===t)return o[s]=n,!0;if(r.replaceVdomChild(i,t,n))return!0}return!1}static syncVdomIds(e,t,n=!1){if(e&&t){let i,o,s,d=(t=r.getVdom(t)).cn;if(n?e.id&&t.id!==e.id&&(t.id=e.id):!t.id&&e.id&&(t.id=e.id),d)for(i=d.map(e=>r.getVdom(e)),i=i.filter(e=>!0!==e.removeDom),o=0,s=i?.length||0;o<s;o++)e.childNodes&&r.syncVdomIds(e.childNodes[o],i[o],n)}}}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(r));

/***/ }),

/***/ "./dist/esm/src/util/VNode.mjs":
/*!*************************************!*\
  !*** ./dist/esm/src/util/VNode.mjs ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _manager_Component_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../manager/Component.mjs */ "./dist/esm/src/manager/Component.mjs");
class r extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.util.VNode"};static find(e,t,o,i){e=r.getVnode(e),o=o||0,t="string"!=typeof t?t:{id:t};let n,d,s,a=!0,c=[],l=!0,h=0,f=e.childNodes?.length||0;if(n=Object.entries(t),d=n.length,n.forEach(([t,r])=>{if(e.hasOwnProperty(t))switch(t){case"attributes":Neo.isObject(r)&&Neo.isObject(e[t])&&(Object.entries(r).forEach(([r,o])=>{e[t].hasOwnProperty(r)&&e[t][r]===o||(a=!1)}),a&&c.push(!0));break;case"className":if("string"==typeof r&&Neo.isArray(e[t]))e[t].includes(r)&&c.push(!0);else if("string"==typeof r&&"string"==typeof e[t])e[t]===r&&c.push(!0);else if(Neo.isArray(r)&&Neo.isArray(e[t]))throw new Error("find: cls matching not supported for target & source types of Arrays");break;case"style":Neo.isObject(r)&&Neo.isObject(e[t])&&(Object.entries(r).forEach(([r,o])=>{e[t].hasOwnProperty(r)&&e[t][r]===o||(l=!1)}),l&&c.push(!0));break;default:e[t]===r&&c.push(!0)}}),c.length===d)return{index:o,parentNode:i,vnode:e};for(;h<f;h++)if(s=r.find(e.childNodes[h],t,h,e),s)return s;return null}static getById(e,t){let o,i=(e=r.getVnode(e)).childNodes||[],n=0,d=i.length;if(e.id===t)return e;for(;n<d;n++){if(o=r.getVnode(i[n]),o.id===t)return o;if(o=r.getById(o,t),o)return o}return null}static getChildIds(e,t=[]){return e?.childNodes?.forEach(e=>{e.id&&!e.componentId&&t.push(e.id),r.getChildIds(e,t)}),t}static getVnode(e){return e.componentId&&(e=_manager_Component_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].get(e.componentId).vnode),e}static removeChildVnode(e,t){let o,i=(e=r.getVnode(e)).childNodes||[],n=0,d=i.length;if(e.id===t)throw new Error("removeChildVnode: target id matches the root vnode id: "+t);for(;n<d;n++){if(o=r.getVnode(i[n]),o.id===t)return i.splice(n,1),!0;if(r.removeChildVnode(o,t))return!0}return!1}static replaceChildVnode(e,t,o){let i,n=(e=r.getVnode(e)).childNodes||[],d=0,s=n.length;if(e.id===t)throw new Error("replaceChildVnode: target id matches the root vnode id: "+t);for(;d<s;d++){if(i=r.getVnode(n[d]),i.id===t)return n[d]=o,!0;if(r.replaceChildVnode(i,t,o))return!0}return!1}}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(r));

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC92ZW5kb3JzLWRpc3RfZXNtX3NyY19jb21wb25lbnRfQmFzZV9tanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFpTSxxTEFBcUwsZ0JBQWdCLHNEQUFDLENBQUMscUJBQXFCLGVBQWUsK09BQStPLGFBQWEsbUJBQW1CLGNBQWMsMkJBQTJCLCtDQUErQyxLQUFLLGNBQWMsTUFBTSxjQUFjLE1BQU0sY0FBYyxNQUFNLGNBQWMsTUFBTSxjQUFjLE1BQU0sY0FBYyxNQUFNLGNBQWMsOENBQThDLE9BQU8sMkNBQTJDLHFCQUFxQixXQUFXLGNBQWMsaUZBQWlGLGdCQUFnQixtQkFBbUIsTUFBTSxjQUFjLGNBQWMsa0JBQWtCLEtBQUssSUFBSSw4QkFBOEIscUJBQXFCLFdBQVcscUNBQXFDLGlGQUFpRiw0QkFBNEIsc0JBQXNCLE1BQU0sd0JBQXdCLDRDQUE0QyxTQUFTLDJCQUEyQixtQ0FBbUMscUJBQXFCLFdBQVcsOERBQThELCtFQUErRSxFQUFFLHNCQUFzQiwrQkFBK0IseUJBQXlCLHlCQUF5QixrQkFBa0IsSUFBSSxLQUFLLGFBQWEsVUFBVSxzREFBc0QsT0FBTyxNQUFNLDBGQUEwRixLQUFLLE9BQU8sZ0RBQWdELG1EQUFDLElBQUksa0NBQWtDLFlBQVksSUFBSSxrQkFBa0Isa0JBQWtCLHNCQUFzQiwrQkFBK0IsdUJBQXVCLHlCQUF5QixNQUFNLFNBQVMsSUFBSSx1QkFBdUIsR0FBRyxLQUFLLElBQUksS0FBSyxhQUFhLFVBQVUsdUJBQXVCLE9BQU8sTUFBTSwwQ0FBMEMsS0FBSyxRQUFRLGdEQUFnRCxtREFBQyxJQUFJLGlCQUFpQixZQUFZLElBQUksZ0JBQWdCLFFBQVEsK0JBQStCLGdCQUFnQixpRUFBaUUsY0FBYyxXQUFXLDhDQUE4QyxnQkFBZ0IsaUVBQWlFLFFBQVEsOEVBQThFLCtKQUErSixpQ0FBaUMsd0JBQXdCLGlDQUFpQyxrQkFBa0IsVUFBVSxXQUFXLGlFQUFpRSwyQkFBMkIsaUNBQWlDLDRDQUE0Qywy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QyxTQUFTLDZCQUE2QixTQUFTLGdDQUFnQywrSUFBK0ksSUFBSSwwREFBMEQsaUVBQWUsaUJBQWlCLEU7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBcDJGLGdCQUFnQixzREFBQyxDQUFDLGVBQWUsNEJBQTRCLHFCQUFxQiwrQ0FBK0MsTUFBTSx1REFBdUQsc0RBQXNELGlDQUFpQywyRkFBMkYsNENBQTRDLGlCQUFpQixNQUFNLHNGQUFzRix1RUFBdUUsa0lBQWtJLE1BQU0sc0ZBQXNGLDRDQUE0QyxpQkFBaUIsTUFBTSw4QkFBOEIsc0JBQXNCLDhCQUE4QixLQUFLLElBQUksa0RBQWtELFlBQVksb0JBQW9CLHdEQUF3RCxxQkFBcUIsS0FBSyxJQUFJLEtBQUssd0NBQXdDLCtCQUErQixZQUFZLDJCQUEyQixrQ0FBa0Msc0RBQXNELElBQUksbUJBQW1CLHlCQUF5Qiw4REFBQyw2QkFBNkIsNkJBQTZCLHdEQUF3RCx5RkFBeUYsS0FBSyxJQUFJLEtBQUssdURBQXVELG9DQUFvQyxTQUFTLGdDQUFnQyx3REFBd0QsMEZBQTBGLEtBQUssSUFBSSxLQUFLLGdEQUFnRCx1Q0FBdUMsVUFBVSxpRUFBZSxpQkFBaUIsRSIsInNvdXJjZXMiOlsid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvY29sbGVjdGlvbi9CYXNlLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2NvbGxlY3Rpb24vRmlsdGVyLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2NvbGxlY3Rpb24vU29ydGVyLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2NvbXBvbmVudC9CYXNlLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2NvcmUvQmFzZS5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9jb3JlL0lkR2VuZXJhdG9yLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2NvcmUvT2JzZXJ2YWJsZS5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9tYW5hZ2VyL0Jhc2UubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvbWFuYWdlci9Db21wb25lbnQubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvbWFuYWdlci9Eb21FdmVudC5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9tYW5hZ2VyL0ZvY3VzLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL3V0aWwvQXJyYXkubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvdXRpbC9DbGFzc1N5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy91dGlsL0Z1bmN0aW9uLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL3V0aWwvS2V5TmF2aWdhdGlvbi5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy91dGlsL0xvZ2dlci5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy91dGlsL1JlY3RhbmdsZS5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy91dGlsL1N0eWxlLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL3V0aWwvVkRvbS5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy91dGlsL1ZOb2RlLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZSBmcm9tXCIuLi9jb3JlL0Jhc2UubWpzXCI7aW1wb3J0IHQgZnJvbVwiLi9GaWx0ZXIubWpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vdXRpbC9Mb2dnZXIubWpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vdXRpbC9BcnJheS5tanNcIjtpbXBvcnQgaSBmcm9tXCIuLi9jb3JlL09ic2VydmFibGUubWpzXCI7aW1wb3J0IG8gZnJvbVwiLi9Tb3J0ZXIubWpzXCI7Y29uc3QgbD1TeW1ib2woXCJjb3VudE11dGF0aW9uc1wiKSxuPVN5bWJvbChcImlzRmlsdGVyZWRcIiksYT1TeW1ib2woXCJpc1NvcnRlZFwiKSxwPVN5bWJvbChcInNpbGVudFVwZGF0ZU1vZGVcIiksdT1TeW1ib2woXCJ0b0FkZEFycmF5XCIpLGg9U3ltYm9sKFwidG9SZW1vdmVBcnJheVwiKSxtPVN5bWJvbChcInVwZGF0aW5nSW5kZXhcIik7Y2xhc3MgZCBleHRlbmRzIGV7c3RhdGljIG9ic2VydmFibGU9ITA7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmNvbGxlY3Rpb24uQmFzZVwiLG50eXBlOlwiY29sbGVjdGlvblwiLGFsbEl0ZW1zOm51bGwsYXV0b1NvcnQ6ITAsZmlsdGVyTW9kZTpcInByaW1pdGl2ZVwiLGZpbHRlcnNfOltdLGl0ZW1zXzpudWxsLGtleVByb3BlcnR5OlwiaWRcIixrZXlQcm9wZXJ0eUluZGV4Oi0xLG1hcF86bnVsbCxzb3J0RGlyZWN0aW9uczpudWxsLHNvcnRQcm9wZXJ0aWVzOm51bGwsc29ydGVyc186W10sc291cmNlSWRfOm51bGx9O2NvbnN0cnVjdChlKXtzdXBlci5jb25zdHJ1Y3QoZSk7bGV0IHQ9dGhpcyxyPXtlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwfTt0Lml0ZW1zPXQuaXRlbXN8fFtdLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQse1tsXTp7Li4ucix2YWx1ZTohMX0sW25dOnsuLi5yLHZhbHVlOiExfSxbYV06ey4uLnIsdmFsdWU6ITF9LFtwXTp7Li4ucix2YWx1ZTohMX0sW3VdOnsuLi5yLHZhbHVlOltdfSxbaF06ey4uLnIsdmFsdWU6W119LFttXTp7Li4ucix2YWx1ZTowfX0pLHQuYXV0b1NvcnQmJnQuX3NvcnRlcnMubGVuZ3RoPjAmJnQuZG9Tb3J0KCl9YWRkKGUpe3JldHVybiB0aGlzLnNwbGljZShudWxsLG51bGwsZSkuYWRkZWRJdGVtc31hZnRlclNldEZpbHRlcnMoZSx0KXtsZXQgcj10aGlzO2UuZm9yRWFjaChlPT57ITE9PT1lLmxpc3RlbmVyQXBwbGllZCYmKGUub24oXCJjaGFuZ2VcIixyLm9uRmlsdGVyQ2hhbmdlLHIpLGUubGlzdGVuZXJBcHBsaWVkPSEwKX0pLHQmJnIuZmlsdGVyKCl9YWZ0ZXJTZXRJdGVtcyhlLHQpe2lmKGUpe2xldCB0LHI9dGhpcyx7a2V5UHJvcGVydHk6c309cixpPTAsbz1lLmxlbmd0aDtmb3IoO2k8bztpKyspdD1lW2ldLHIubWFwLnNldCh0W3NdLHQpfX1hZnRlclNldFNvcnRlcnMoZSx0KXtsZXQgcj10aGlzO3IuYXBwbHlTb3J0ZXJDb25maWdzKCksZS5mb3JFYWNoKGU9PnshMT09PWUubGlzdGVuZXJBcHBsaWVkJiYoZS5vbihcImNoYW5nZVwiLHIub25Tb3J0ZXJDaGFuZ2UsciksZS5saXN0ZW5lckFwcGxpZWQ9ITApfSksdCYmci5hdXRvU29ydCYmci5kb1NvcnQoKX1hZnRlclNldFNvdXJjZUlkKGUsdCl7aWYoZSl7bGV0IHI9dGhpcyxzPU5lby5nZXQoZSk7ci5faXRlbXM9Wy4uLnMuX2l0ZW1zXSxyLm1hcD1uZXcgTWFwKHMubWFwKTtjb25zdCBpPXttdXRhdGU6ci5vbk11dGF0ZSxzY29wZTpyfTtzLm9uKGkpLHQmJihzPU5lby5nZXQodCkscy51bihpKSl9fWFwcGx5U29ydGVyQ29uZmlncygpe2xldCBlPXRoaXM7ZS5zb3J0RGlyZWN0aW9ucz1bXSxlLnNvcnRQcm9wZXJ0aWVzPVtdLGUuc29ydGVycy5mb3JFYWNoKHQ9PntlLnNvcnREaXJlY3Rpb25zLnB1c2godC5kaXJlY3Rpb25NdWx0aXBsaWVyKSxlLnNvcnRQcm9wZXJ0aWVzLnB1c2godC5wcm9wZXJ0eSl9KX1iZWZvcmVTZXRGaWx0ZXJzKGUscil7QXJyYXkuaXNBcnJheShlKXx8KGU9ZT9bZV06W10pO2xldCBzLGksbz1yJiZyLmxlbmd0aHx8MDtyZXR1cm4gZS5mb3JFYWNoKChsLG4pPT57aWYocilmb3Iocz0hMSxpPTA7aTxvO2krKyl7aWYocltpXT09PWwpe3JbaV0uc2V0KHtvcGVyYXRvcjpsLm9wZXJhdG9yLHByb3BlcnR5OmwucHJvcGVydHksdmFsdWU6bC52YWx1ZX0pLHM9ITA7YnJlYWt9aWYocltpXS5vcGVyYXRvcj09PShsLm9wZXJhdG9yfHxcIj09PVwiKSYmcltpXS5wcm9wZXJ0eT09PWwucHJvcGVydHkmJnJbaV0udmFsdWU9PT1sLnZhbHVlKXtzPSEwO2JyZWFrfX1zPyhlW25dPXJbaV0sci5zcGxpY2UoaSwxKSxvLS0pOmVbbl09TmVvLmNyZWF0ZSh0LGwpfSksQXJyYXkuaXNBcnJheShyKSYmci5mb3JFYWNoKGU9PntlLmRlc3Ryb3koKX0pLGV9YmVmb3JlU2V0TWFwKGUsdCl7cmV0dXJuIGV8fG5ldyBNYXB9YmVmb3JlU2V0U29ydGVycyhlLHQpe0FycmF5LmlzQXJyYXkoZSl8fChlPWU/W2VdOltdKTtsZXQgcixzLGk9dD8ubGVuZ3RofHwwO3JldHVybiBlLmZvckVhY2goKGwsbik9PntpZih0KXtyPSExLHM9MDtsZXR7ZGlyZWN0aW9uOmUscHJvcGVydHk6b309bDtmb3IoO3M8aTtzKyspe2lmKHRbc109PT1sKXt0W3NdLnNldCh7ZGlyZWN0aW9uOmUscHJvcGVydHk6b30pLHI9ITA7YnJlYWt9aWYodFtzXS5wcm9wZXJ0eT09PW8mJnRbc10uZGlyZWN0aW9uPT09ZSl7cj0hMDticmVha319fXI/KGVbbl09dFtzXSx0LnNwbGljZShzLDEpLGktLSk6ZVtuXT1OZW8uY3JlYXRlKG8sbCl9KSx0Py5mb3JFYWNoKGU9PntlLmRlc3Ryb3koKX0pLGV9Y2FjaGVVcGRhdGUoZSl7fWNsZWFyKCl7dGhpcy5zcGxpY2UoMCx0aGlzLmdldENvdW50KCkpfWNsZWFyRmlsdGVycyhlKXt0aGlzLmZpbHRlcnM9ZT9OZW8uY2xvbmUodGhpcy5vcmlnaW5hbENvbmZpZy5maWx0ZXJzLCEwLCEwKTpudWxsfWNsZWFyU2lsZW50KCl7bGV0IGU9dGhpcztlLl9pdGVtcy5zcGxpY2UoMCxlLmdldENvdW50KCkpLGUubWFwLmNsZWFyKCl9Y2xlYXJTb3J0ZXJzKGUpe3RoaXMuc29ydGVycz1lP05lby5jbG9uZSh0aGlzLm9yaWdpbmFsQ29uZmlnLnNvcnRlcnMsITAsITApOm51bGx9Y2xvbmUoKXtsZXQgZT10aGlzLHQ9TmVvLmNsb25lKGUub3JpZ2luYWxDb25maWcsITApLHI9ZS5fZmlsdGVyc3x8W10scz1lLl9zb3J0ZXJzfHxbXTtyZXR1cm4gZGVsZXRlIHQuaWQsZGVsZXRlIHQuZmlsdGVycyxkZWxldGUgdC5pdGVtcyxkZWxldGUgdC5zb3J0ZXJzLGUuX2l0ZW1zLmxlbmd0aD4wJiYodC5pdGVtcz1bLi4uZS5faXRlbXNdKSx0LmZpbHRlcnM9W10sdC5zb3J0ZXJzPVtdLHIuZm9yRWFjaChmdW5jdGlvbihlKXt0LmZpbHRlcnMucHVzaChlLm9yaWdpbmFsQ29uZmlnKX0pLHMuZm9yRWFjaChmdW5jdGlvbihlKXt0LnNvcnRlcnMucHVzaChlLm9yaWdpbmFsQ29uZmlnKX0pLE5lby5jcmVhdGUoZCx0KX1kZXN0cm95KCl7bGV0IGU9dGhpcztlLl9pdGVtcy5zcGxpY2UoMCxlLl9pdGVtcy5sZW5ndGgpLGUubWFwLmNsZWFyKCksc3VwZXIuZGVzdHJveSgpfWRvU29ydChlPXRoaXMuX2l0ZW1zLHQ9ITEpe2xldCByLHMsaSxvLGwsbixwPXRoaXMsdT1bLi4uZV0se3NvcnRlcnM6aCxzb3J0RGlyZWN0aW9uczpkLHNvcnRQcm9wZXJ0aWVzOmZ9PXAsYz1mLmxlbmd0aHx8MCxnPSExLHk9ITE7Yz4wJiYoaC5mb3JFYWNoKGU9PntlLnNvcnRCeSYmKGc9ITApLGUudXNlVHJhbnNmb3JtVmFsdWUmJih5PSEwKX0pLGc/cC5faXRlbXMuc29ydCgoZSx0KT0+e2ZvcihyPTA7cjxjO3IrKylpZihvPWhbcl0sbj1vW28uc29ydEJ5P1wic29ydEJ5XCI6XCJkZWZhdWx0U29ydEJ5XCJdKGUsdCksMCE9PW4pcmV0dXJuIG47cmV0dXJuIDB9KToocz15P2UubWFwKChlLHQpPT57Zm9yKGk9e2luZGV4OnR9LHI9MDtyPGM7cisrKWhbcl0udXNlVHJhbnNmb3JtVmFsdWU/aVtmW3JdXT1oW3JdLnRyYW5zZm9ybVZhbHVlKGVbZltyXV0pOmlbZltyXV09ZVtmW3JdXTtyZXR1cm4gaX0pOmUscy5zb3J0KChlLHQpPT57Zm9yKHI9MDtyPGM7cisrKXtpZihsPWZbcl0sZVtsXT50W2xdKXJldHVybiAxKmRbcl07aWYoZVtsXTx0W2xdKXJldHVybi0xKmRbcl19cmV0dXJuIDB9KSx5JiYocC5faXRlbXM9cy5tYXAodD0+ZVt0LmluZGV4XSkpKSkscFthXT1jPjAsdHx8MCE9PXBbbV18fHAuZmlyZShcInNvcnRcIix7aXRlbXM6cC5faXRlbXMscHJldmlvdXNJdGVtczp1LHNjb3BlOnB9KX1lbmRVcGRhdGUoZSl7Y29uc3QgdD10aGlzO3RbbV0+MCYmdFttXS0tLGU/dFtwXT0hMToodC5maXJlKFwibXV0YXRlXCIse2FkZGVkSXRlbXM6dFt1XSxyZW1vdmVkSXRlbXM6dFtoXX0pLHRbdV0uc3BsaWNlKDAsdFt1XS5sZW5ndGgpLHRbaF0uc3BsaWNlKDAsdFtoXS5sZW5ndGgpKX1leHBvcnRGaWx0ZXJzKCl7bGV0IGUsdD1bXTtyZXR1cm4gdGhpcy5maWx0ZXJzPy5mb3JFYWNoKHI9PntlPXIuZXhwb3J0KCksZSYmdC5wdXNoKGUpfSksdH1leHBvcnRTb3J0ZXJzKCl7bGV0IGUsdD1bXTtyZXR1cm4gdGhpcy5zb3J0ZXJzPy5mb3JFYWNoKHI9PntlPXIuZXhwb3J0KCksZSYmdC5wdXNoKGUpfSksdH1maWx0ZXIoKXtsZXQgZSx0LHIscyxpLG89dGhpcyxsPW8uX2ZpbHRlcnMsYT1sLmxlbmd0aCxwPTAsdT1vLmFsbEl0ZW1zPy5faXRlbXN8fG8uX2l0ZW1zLGg9MCxtPXUubGVuZ3RoLGY9W10sYz0hMSxnPVsuLi5vLl9pdGVtc107Zm9yKDtoPGE7aCsrKWxbaF0uZGlzYWJsZWR8fHArKztpZigwPT09cCYmby5hbGxJdGVtcylvLnNvcnRlcnMubGVuZ3RoPjAmJihjPSEwKSxvLmNsZWFyU2lsZW50KCksby5pdGVtcz1bLi4uby5hbGxJdGVtcy5faXRlbXNdO2Vsc2UgaWYoby5hbGxJdGVtc3x8KGU9ey4uLm8ub3JpZ2luYWxDb25maWd9LGRlbGV0ZSBlLmZpbHRlcnMsZGVsZXRlIGUuaXRlbXMsZGVsZXRlIGUuc29ydGVycyxvLmFsbEl0ZW1zPU5lby5jcmVhdGUoZCx7Li4uTmVvLmNsb25lKGUsITAsITApLGtleVByb3BlcnR5Om8ua2V5UHJvcGVydHksc291cmNlSWQ6by5pZH0pKSxvLm1hcC5jbGVhcigpLFwicHJpbWl0aXZlXCI9PT1vLmZpbHRlck1vZGUpe2ZvcihoPTA7aDxtO2grKyl7Zm9yKHQ9ITAscj11W2hdLHM9MDtzPGE7cysrKWlmKGxbc10uaXNGaWx0ZXJlZChyLHUsdSkpe3Q9ITE7YnJlYWt9dCYmKGYucHVzaChyKSxvLm1hcC5zZXQocltvLmtleVByb3BlcnR5XSxyKSl9by5faXRlbXM9Zn1lbHNle2ZvcihmPVsuLi51XSxzPTA7czxhO3MrKyl7Zm9yKGk9W10saD0wO2g8bTtoKyspbFtzXS5pc0ZpbHRlcmVkKGZbaF0sZix1KXx8aS5wdXNoKGZbaF0pO2Y9Wy4uLmldLG09Zi5sZW5ndGh9by5pdGVtcz1mfW9bbl09MCE9PXAsYyYmby5kb1NvcnQoby5pdGVtcywhMCksby5maXJlKFwiZmlsdGVyXCIse2lzRmlsdGVyZWQ6b1tuXSxpdGVtczpvLml0ZW1zLG9sZEl0ZW1zOmcsc2NvcGU6b30pfWZpbmQoZSx0LHI9ITEpe2xldCBzLGksbyxsLG49dGhpcyxhPVtdLHA9bi5pc0l0ZW0oZSk7Zm9yKHMgb2YocCYmKG89T2JqZWN0LmVudHJpZXMoZSksbD1vLmxlbmd0aCksbi5pdGVtcykpaWYocCl7aWYoaT1bXSxvLmZvckVhY2goKFtlLHRdKT0+e05lby5ucyhlLCExLHMpPT09dCYmaS5wdXNoKCEwKX0pLGkubGVuZ3RoPT09bCl7aWYocilyZXR1cm4gczthLnB1c2gocyl9fWVsc2UgaWYoTmVvLm5zKGUsITEscyk9PT10KXtpZihyKXJldHVybiBzO2EucHVzaChzKX1yZXR1cm4gcj9udWxsOmF9ZmluZEJ5KGUsdD10aGlzLHI9MCxzPXRoaXMuZ2V0Q291bnQoKSl7bGV0IGk9dGhpcyxvPVtdLGw9cjtmb3IoO2w8cztsKyspZS5jYWxsKHQsaS5pdGVtc1tsXSkmJm8ucHVzaChpLml0ZW1zW2xdKTtyZXR1cm4gb31maW5kRmlyc3QoZSx0KXtyZXR1cm4gdGhpcy5maW5kKGUsdCwhMCl9Zmlyc3QoKXtyZXR1cm4gdGhpcy5faXRlbXNbMF19Z2V0KGUpe3JldHVybiB0aGlzLm1hcC5nZXQoZSl8fG51bGx9Z2V0QXQoZSl7cmV0dXJuIHRoaXMuX2l0ZW1zW2VdfWdldENvdW50KCl7cmV0dXJuIHRoaXMuX2l0ZW1zLmxlbmd0aH1nZXRDb3VudE11dGF0aW9ucygpe3JldHVybiB0aGlzW2xdfWdldEZpbHRlcihlKXtsZXQgdD10aGlzLmZpbHRlcnN8fFtdLHI9MCxzPXQubGVuZ3RoO2Zvcig7cjxzO3IrKylpZih0W3JdLnByb3BlcnR5PT09ZSlyZXR1cm4gdFtyXTtyZXR1cm4gbnVsbH1nZXRLZXlBdChlKXtsZXQgdD10aGlzLl9pdGVtc1tlXTtyZXR1cm4gdD8uW3RoaXMua2V5UHJvcGVydHldfWdldFJhbmdlKGUsdCl7cmV0dXJuIHRoaXMuX2l0ZW1zLnNsaWNlKGUsdCl9Z2V0U291cmNlKCl7cmV0dXJuIHRoaXMuc291cmNlSWQmJk5lby5nZXQodGhpcy5zb3VyY2VJZCl9aGFzKGUpe3JldHVybiB0aGlzLm1hcC5oYXMoZSl9aGFzSXRlbShlKXtyZXR1cm4gdGhpcy5tYXAuaGFzKGVbdGhpcy5rZXlQcm9wZXJ0eV0pfWluZGV4T2YoZSl7bGV0IHQ9dGhpcztyZXR1cm4gdC5faXRlbXMuaW5kZXhPZih0LmlzSXRlbShlKT9lOnQubWFwLmdldChlKSl9aW5kZXhPZkl0ZW0oZSl7cmV0dXJuIHRoaXMuX2l0ZW1zLmluZGV4T2YoZSl9aW5kZXhPZktleShlKXtyZXR1cm4gdGhpcy5faXRlbXMuaW5kZXhPZih0aGlzLm1hcC5nZXQoZSkpfWluc2VydChlLHQpe3JldHVybiB0aGlzLnNwbGljZShlLDAsdCkuYWRkZWRJdGVtc31pc0ZpbHRlcmVkKCl7cmV0dXJuIHRoaXNbbl19aXNGaWx0ZXJlZEl0ZW0oZSl7bGV0IHQ9dGhpcy5fZmlsdGVycyxyPTAscz10Lmxlbmd0aCxpPSExO2Zvcig7cjxzO3IrKylpZih0W3JdLmlzRmlsdGVyZWQoZSkpe2k9ITA7YnJlYWt9cmV0dXJuIGl9aXNJdGVtKGUpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlfWlzU29ydGVkKCl7cmV0dXJuIHRoaXNbYV19bGFzdCgpe3JldHVybiB0aGlzLl9pdGVtc1t0aGlzLmdldENvdW50KCktMV19bW92ZShlLHQpe2lmKGU9PT10KXJldHVybjtsZXR7aXRlbXM6cn09dGhpcztlPj1yLmxlbmd0aCYmKGU9ci5sZW5ndGgtMSksci5zcGxpY2UodCwwLHIuc3BsaWNlKGUsMSlbMF0pfW9uRmlsdGVyQ2hhbmdlKGUpe3RoaXMuZmlsdGVyKCl9b25NdXRhdGUoZSl7dGhpcy5wcmV2ZW50QnViYmxlVXA9ITAsdGhpcy5zcGxpY2UobnVsbCxlLnJlbW92ZWRJdGVtcyxlLmFkZGVkSXRlbXMpfW9uU29ydGVyQ2hhbmdlKGUpe3RoaXMuYXBwbHlTb3J0ZXJDb25maWdzKCksdGhpcy5kb1NvcnQoKX1wb3AoKXtyZXR1cm4gdGhpcy5zcGxpY2UodGhpcy5nZXRDb3VudCgpLTEsMSkucmVtb3ZlZEl0ZW1zWzBdfXB1c2goZSl7cmV0dXJuIHRoaXMuYWRkKGUpfXJlbW92ZShlKXtyZXR1cm4gdGhpcy5zcGxpY2UoMCxBcnJheS5pc0FycmF5KGUpP2U6W2VdKSx0aGlzLmdldENvdW50KCl9cmVtb3ZlQXQoZSl7cmV0dXJuIHRoaXMuc3BsaWNlKGUsMSksdGhpcy5nZXRDb3VudCgpfXJldmVyc2UoKXtyZXR1cm4gdGhpcy5faXRlbXMucmV2ZXJzZSgpfXNoaWZ0KCl7cmV0dXJuIHRoaXMuc3BsaWNlKDAsMSkuYWRkZWRJdGVtc1swXX1zb21lKC4uLmUpe3JldHVybiB0aGlzLl9pdGVtcy5zb21lKC4uLmUpfXNwbGljZShlLHQscyl7bGV0IGksbyxuLGEsdSxoPXRoaXMse2tleVByb3BlcnR5OmQsbWFwOmZ9PWgsYz1oLmdldFNvdXJjZSgpLGc9W10seT1oLl9pdGVtcyxiPVtdLFM9TmVvLmlzTnVtYmVyKHQpP3Q6bnVsbCxJPUFycmF5LmlzQXJyYXkodCk/dDpudWxsO2lmKCFOZW8uaXNOdW1iZXIoZSkmJlMmJnIuZXJyb3IoaC5pZCtcIjogSWYgaW5kZXggaXMgbm90IHBhc3NlZCwgcmVtb3ZlQ291bnRBdEluZGV4IGNhbm5vdCBiZSB1c2VkXCIpLHM9cyYmIUFycmF5LmlzQXJyYXkocyk/W3NdOnMsSSYmKGE9SS5sZW5ndGgpPjApZm9yKHMmJnMubGVuZ3RoPjAmJih1PXMubWFwKGU9PmVbZF0pKSxpPTA7aTxhO2krKylvPUlbaV0sbj1oLmlzSXRlbShvKT9vW2RdOm8sZi5oYXMobikmJighdXx8dSYmdS5pbmRleE9mKG4pPDApJiYoYi5wdXNoKHkuc3BsaWNlKGguaW5kZXhPZktleShuKSwxKVswXSksZi5kZWxldGUobikpO2Vsc2UgUyYmUz4wJiYoYi5wdXNoKC4uLnkuc3BsaWNlKGUsUykpLGIuZm9yRWFjaChlPT57Zi5kZWxldGUoZVtkXSl9KSk7aWYocyYmKGE9cy5sZW5ndGgpPjApe2ZvcihpPTA7aTxhO2krKylvPXNbaV0sbj1vW2RdLG58fChvW2RdPW49aC5rZXlQcm9wZXJ0eUluZGV4LGgua2V5UHJvcGVydHlJbmRleC0tKSxmLmhhcyhuKXx8aC5pc0ZpbHRlcmVkSXRlbShvKXx8KGcucHVzaChvKSxmLnNldChuLG8pKTtnLmxlbmd0aD4wJiYoMD09PXkubGVuZ3RoP2guX2l0ZW1zPWc6eS5zcGxpY2UoTmVvLmlzTnVtYmVyKGUpP2U6eS5sZW5ndGgsMCwuLi5nKSxoLmF1dG9Tb3J0JiZoLl9zb3J0ZXJzLmxlbmd0aD4wJiZoLmRvU29ydCgpKX1yZXR1cm4gYyYmKGMuZ2V0U291cmNlKCl8fChjLnByZXZlbnRCdWJibGVVcD0hMCksaC5wcmV2ZW50QnViYmxlVXB8fChoLnN0YXJ0VXBkYXRlKCEwKSxjLnNwbGljZShudWxsLEl8fGIscyksaC5lbmRVcGRhdGUoITApKSxkZWxldGUgYy5wcmV2ZW50QnViYmxlVXApLChnLmxlbmd0aD4wfHxiLmxlbmd0aD4wKSYmaFtsXSsrLDA9PT1oW21dP2guZmlyZShcIm11dGF0ZVwiLHthZGRlZEl0ZW1zOnMscHJldmVudEJ1YmJsZVVwOmgucHJldmVudEJ1YmJsZVVwLHJlbW92ZWRJdGVtczpJfHxifSk6aFtwXXx8aC5jYWNoZVVwZGF0ZSh7YWRkZWRJdGVtczpnLHJlbW92ZWRJdGVtczpifSksMD09PWhbbV0mJmRlbGV0ZSBoLnByZXZlbnRCdWJibGVVcCx7YWRkZWRJdGVtczpnLHJlbW92ZWRJdGVtczpifX1zdGFydFVwZGF0ZShlKXtlJiYodGhpc1twXT0hMCksdGhpc1ttXSsrfXVuc2hpZnQoZSl7cmV0dXJuIHRoaXMuc3BsaWNlKDAsMCxlKSx0aGlzLmdldENvdW50KCl9fWV4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGQpOyIsImltcG9ydCBlIGZyb21cIi4uL2NvcmUvQmFzZS5tanNcIjtpbXBvcnQgdCBmcm9tXCIuLi9jb3JlL09ic2VydmFibGUubWpzXCI7Y2xhc3MgciBleHRlbmRzIGV7c3RhdGljIG9ic2VydmFibGU9ITA7c3RhdGljIG9wZXJhdG9ycz1bXCI9PVwiLFwiPT09XCIsXCIhPVwiLFwiIT09XCIsXCI8XCIsXCI8PVwiLFwiPlwiLFwiPj1cIixcImVuZHNXaXRoXCIsXCJleGNsdWRlZFwiLFwiaW5jbHVkZWRcIixcImlzRGVmaW5lZFwiLFwiaXNVbmRlZmluZWRcIixcImxpa2VcIixcInN0YXJ0c1dpdGhcIl07c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmNvbGxlY3Rpb24uRmlsdGVyXCIsbnR5cGU6XCJmaWx0ZXJcIixkaXNhYmxlZF86ITEsZmlsdGVyQnlfOm51bGwsaW5jbHVkZUVtcHR5VmFsdWVzOiEwLGlzVXBkYXRpbmdfOiExLGxpc3RlbmVyQXBwbGllZDohMSxvcGVyYXRvcl86XCI9PT1cIixwcm9wZXJ0eV86XCJpZFwiLHNjb3BlOm51bGwsdmFsdWVfOm51bGx9O2FmdGVyU2V0RGlzYWJsZWQoLi4uZSl7dGhpcy5maXJlQ2hhbmdlRXZlbnQoLi4uZSl9YWZ0ZXJTZXRGaWx0ZXJCeShlLHQpe31hZnRlclNldElzVXBkYXRpbmcoZSx0KXshMT09PWUmJnRoaXMuZmlyZUNoYW5nZUV2ZW50KGUsdCl9YWZ0ZXJTZXRPcGVyYXRvciguLi5lKXt0aGlzLmZpcmVDaGFuZ2VFdmVudCguLi5lKX1hZnRlclNldFByb3BlcnR5KC4uLmUpe3RoaXMuZmlyZUNoYW5nZUV2ZW50KC4uLmUpfWFmdGVyU2V0VmFsdWUoLi4uZSl7dGhpcy5maXJlQ2hhbmdlRXZlbnQoLi4uZSl9YmVmb3JlU2V0RmlsdGVyQnkoZSx0KXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT8oTmVvLmxvZ0Vycm9yKFwiZmlsdGVyQnkgaGFzIHRvIGJlIGEgZnVuY3Rpb25cIix0aGlzKSx0KTplfWJlZm9yZVNldE9wZXJhdG9yKGUsdCl7cmV0dXJuIHRoaXMuYmVmb3JlU2V0RW51bVZhbHVlKGUsdCxcIm9wZXJhdG9yXCIpfWV4cG9ydCgpe2xldHtvcGVyYXRvcjplLHByb3BlcnR5OnQsdmFsdWU6cn09dGhpcztyZXR1cm4gdGhpcy5maWx0ZXJCeT9udWxsOntvcGVyYXRvcjplLHByb3BlcnR5OnQsdmFsdWU6cn19ZmlyZUNoYW5nZUV2ZW50KGUsdCl7bGV0IHI9dGhpcztpZih2b2lkIDAhPT10JiYhMCE9PXIuaXNVcGRhdGluZyl7bGV0e29wZXJhdG9yOmUscHJvcGVydHk6dCx2YWx1ZTppfT1yO3IuZmlyZShcImNoYW5nZVwiLHtvcGVyYXRvcjplLHByb3BlcnR5OnQsdmFsdWU6aX0pfX1pc0ZpbHRlcmVkKGUsdCxpKXtsZXQgYSxzLG49dGhpcztyZXR1cm4hbi5fZGlzYWJsZWQmJihuLl9maWx0ZXJCeT9uLmZpbHRlckJ5LmNhbGwobi5zY29wZXx8bix7YWxsSXRlbXM6aSxmaWx0ZXJlZEl0ZW1zOnQsaXRlbTplLHZhbHVlOm4uX3ZhbHVlfSk6KCFuLmluY2x1ZGVFbXB0eVZhbHVlc3x8bnVsbCE9PW4uX3ZhbHVlJiYhTmVvLmlzRW1wdHkobi5fdmFsdWUpKSYmKGE9bi5fdmFsdWUscz1lW24uX3Byb3BlcnR5XSxhIGluc3RhbmNlb2YgRGF0ZSYmcyBpbnN0YW5jZW9mIERhdGUmJihhPWEudmFsdWVPZigpLHM9cy52YWx1ZU9mKCkpLCFyW24uX29wZXJhdG9yXShzLGEpKSl9c3RhdGljXCI9PVwiKGUsdCl7cmV0dXJuIGU9PXR9c3RhdGljXCI9PT1cIihlLHQpe3JldHVybiBlPT09dH1zdGF0aWNcIiE9XCIoZSx0KXtyZXR1cm4gZSE9dH1zdGF0aWNcIiE9PVwiKGUsdCl7cmV0dXJuIGUhPT10fXN0YXRpY1wiPFwiKGUsdCl7cmV0dXJuIGU8dH1zdGF0aWNcIjw9XCIoZSx0KXtyZXR1cm4gZTw9dH1zdGF0aWNcIj5cIihlLHQpe3JldHVybiBlPnR9c3RhdGljXCI+PVwiKGUsdCl7cmV0dXJuIGU+PXR9c3RhdGljIGVuZHNXaXRoKGUsdCl7cmV0dXJuIE5lby5pc1N0cmluZyhlKXx8KGU9U3RyaW5nKGUpKSxOZW8uaXNTdHJpbmcodCl8fCh0PVN0cmluZyh0KSksZT8udG9Mb3dlckNhc2UoKS5lbmRzV2l0aCh0Py50b0xvd2VyQ2FzZSgpKXx8ITF9c3RhdGljIGV4Y2x1ZGVkKGUsdCl7cmV0dXJuIHQuaW5kZXhPZihlKTwwfXN0YXRpYyBpbmNsdWRlZChlLHQpe3JldHVybiB0LmluZGV4T2YoZSk+LTF9c3RhdGljIGlzRGVmaW5lZChlLHQpe3JldHVybiB2b2lkIDAhPT1lfXN0YXRpYyBpc1VuZGVmaW5lZChlLHQpe3JldHVybiB2b2lkIDA9PT1lfXN0YXRpYyBsaWtlKGUsdCl7cmV0dXJuIE5lby5pc1N0cmluZyhlKXx8KGU9U3RyaW5nKGUpKSxOZW8uaXNTdHJpbmcodCl8fCh0PVN0cmluZyh0KSksZT8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0Py50b0xvd2VyQ2FzZSgpKXx8ITF9c3RhdGljIHN0YXJ0c1dpdGgoZSx0KXtyZXR1cm4gTmVvLmlzU3RyaW5nKGUpfHwoZT1TdHJpbmcoZSkpLE5lby5pc1N0cmluZyh0KXx8KHQ9U3RyaW5nKHQpKSxlPy50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgodD8udG9Mb3dlckNhc2UoKSl8fCExfX1leHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhyKTsiLCJpbXBvcnQgciBmcm9tXCIuLi9jb3JlL0Jhc2UubWpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vY29yZS9PYnNlcnZhYmxlLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgcntzdGF0aWMgb2JzZXJ2YWJsZT0hMDtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uY29sbGVjdGlvbi5Tb3J0ZXJcIixudHlwZTpcInNvcnRlclwiLGRpcmVjdGlvbk11bHRpcGxpZXI6MSxkaXJlY3Rpb25fOlwiQVNDXCIsbGlzdGVuZXJBcHBsaWVkOiExLHByb3BlcnR5XzpcImlkXCIsc29ydEJ5Om51bGwsdXNlVHJhbnNmb3JtVmFsdWU6ITB9O2FmdGVyU2V0RGlyZWN0aW9uKHIsZSl7bGV0IHQ9dGhpczt0LmRpcmVjdGlvbk11bHRpcGxpZXI9XCJBU0NcIj09PXI/MTotMSxlJiZ0LmZpcmUoXCJjaGFuZ2VcIix7ZGlyZWN0aW9uOnQuZGlyZWN0aW9uLHByb3BlcnR5OnQucHJvcGVydHl9KX1hZnRlclNldFByb3BlcnR5KHIsZSl7bGV0IHQ9dGhpcztlJiZ0LmZpcmUoXCJjaGFuZ2VcIix7ZGlyZWN0aW9uOnQuZGlyZWN0aW9uLHByb3BlcnR5OnQucHJvcGVydHl9KX1kZWZhdWx0U29ydEJ5KHIsZSl7bGV0IHQ9dGhpcztyZXR1cm4gcj1yW3QucHJvcGVydHldLGU9ZVt0LnByb3BlcnR5XSx0LnVzZVRyYW5zZm9ybVZhbHVlJiYocj10LnRyYW5zZm9ybVZhbHVlKHIpLGU9dC50cmFuc2Zvcm1WYWx1ZShlKSkscj5lPzEqdC5kaXJlY3Rpb25NdWx0aXBsaWVyOnI8ZT8tMSp0LmRpcmVjdGlvbk11bHRpcGxpZXI6MH1leHBvcnQoKXtsZXR7ZGlyZWN0aW9uOnIscHJvcGVydHk6ZX09dGhpcztyZXR1cm4hdGhpcy5zb3J0QnkmJnImJmU/e2RpcmVjdGlvbjpyLHByb3BlcnR5OmV9Om51bGx9dHJhbnNmb3JtVmFsdWUocil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHImJihyPXIudG9Mb3dlckNhc2UoKSkscn19KTsiLCJpbXBvcnQgZSBmcm9tXCIuLi9jb3JlL0Jhc2UubWpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vdXRpbC9DbGFzc1N5c3RlbS5tanNcIjtpbXBvcnQgbyBmcm9tXCIuLi9tYW5hZ2VyL0NvbXBvbmVudC5tanNcIjtpbXBvcnQgbiBmcm9tXCIuLi9tYW5hZ2VyL0RvbUV2ZW50Lm1qc1wiO2ltcG9ydCBkIGZyb21cIi4uL3V0aWwvS2V5TmF2aWdhdGlvbi5tanNcIjtpbXBvcnQgaSBmcm9tXCIuLi91dGlsL0xvZ2dlci5tanNcIjtpbXBvcnQgciBmcm9tXCIuLi91dGlsL0FycmF5Lm1qc1wiO2ltcG9ydCBzIGZyb21cIi4uL2NvcmUvT2JzZXJ2YWJsZS5tanNcIjtpbXBvcnQgYSBmcm9tXCIuLi91dGlsL1JlY3RhbmdsZS5tanNcIjtpbXBvcnQgbCBmcm9tXCIuLi91dGlsL1N0eWxlLm1qc1wiO2ltcG9ydCBwIGZyb21cIi4uL3V0aWwvVkRvbS5tanNcIjtpbXBvcnQgbSBmcm9tXCIuLi91dGlsL1ZOb2RlLm1qc1wiO2NvbnN0IGg9ZT0+bnVsbD09ZXx8aXNOYU4oZSk/ZTpgJHtlfXB4YCx1PVN5bWJvbC5mb3IoXCJjbG9zZXN0Q29udHJvbGxlclwiKSxjPVN5bWJvbC5mb3IoXCJjbG9zZXN0UHJvdmlkZXJcIikse2N1cnJlbnRXb3JrZXI6Z309TmVvLGY9L15cXGQrXFx3KyQvLHY9U3ltYm9sLmZvcihcInR3b1dheUJpbmRpbmdcIik7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBle3N0YXRpYyBoaWRlTW9kZXM9W1wicmVtb3ZlRG9tXCIsXCJ2aXNpYmlsaXR5XCJdO3N0YXRpYyBvYnNlcnZhYmxlPSEwO3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5jb21wb25lbnQuQmFzZVwiLG50eXBlOlwiY29tcG9uZW50XCIsYWxpZ25fOntlZGdlQWxpZ246XCJ0LWJcIixjb25zdHJhaW5UbzpcImRvY3VtZW50LmJvZHlcIn0sYXBwTmFtZV86bnVsbCxhdXRvTW91bnQ6ITEsYXV0b1JlbmRlcjohMSxiYXNlQ2xzOltdLGJpbmQ6bnVsbCxjbHNfOm51bGwsY29udGFpbnNGb2N1c186ITEsY29udHJvbGxlcl86bnVsbCxkYXRhXzpudWxsLGRpc2FibGVkXzohMSxkb21MaXN0ZW5lcnNfOm51bGwsZHJvcHBhYmxlXzohMSxkcm9wWm9uZTpudWxsLGRyb3Bab25lQ29uZmlnOm51bGwsZmxvYXRpbmc6ITEsaGFzQmVlbk1vdW50ZWQ6ITEsaGFzUmVuZGVyaW5nTGlzdGVuZXI6ITEsaGFzVW5tb3VudGVkVmRvbUNoYW5nZXNfOiExLGhlaWdodF86bnVsbCxoaWRkZW5fOiExLGhpZGVNb2RlXzpcInJlbW92ZURvbVwiLGh0bWxfOm51bGwsaXNMb2FkaW5nXzohMSxpc1Zkb21VcGRhdGluZ186ITEsa2V5c186bnVsbCxsb2FkaW5nU3Bpbm5lckNsc186W1wiZmFcIixcImZhLXNwaW5uZXJcIixcImZhLXNwaW5cIl0sbWF4SGVpZ2h0XzpudWxsLG1heFdpZHRoXzpudWxsLG1pbkhlaWdodF86bnVsbCxtaW5XaWR0aF86bnVsbCxtb2RlbERhdGE6bnVsbCxtb3VudGVkXzohMSxuZWVkc1Zkb21VcGRhdGVfOiExLHBhcmVudENvbXBvbmVudF86bnVsbCxwYXJlbnRJZF86XCJkb2N1bWVudC5ib2R5XCIscGx1Z2luc186bnVsbCxyZWZlcmVuY2VfOm51bGwscmVzcG9uc2l2ZV86bnVsbCxyZW5kZXJpbmdfOiExLHJvbGVfOm51bGwsc2Nyb2xsYWJsZV86ITEsc2lsZW50VmRvbVVwZGF0ZV86ITEsc3RhdGVQcm92aWRlcl86bnVsbCxzdHlsZV86bnVsbCx0aGVtZV86bnVsbCx0YWdfOm51bGwsdG9vbHRpcF86bnVsbCx1aV86bnVsbCx1cGRhdGVEZXB0aF86MSx2bm9kZV86bnVsbCx3aWR0aF86bnVsbCx3aW5kb3dJZF86bnVsbCx3cmFwcGVyQ2xzXzpudWxsLHdyYXBwZXJTdHlsZV86bnVsbCxfdmRvbTp7fX07Y2hpbGRVcGRhdGVDYWNoZT17fTtjdXJyZW50VXBkYXRlRGVwdGg9bnVsbDtyZXNvbHZlVXBkYXRlQ2FjaGU9W107Z2V0IGFwcCgpe3JldHVybiBOZW8uYXBwc1t0aGlzLmFwcE5hbWVdfHxudWxsfWdldCBpc1Zpc2libGUoKXtyZXR1cm4gdGhpcy5tb3VudGVkJiYhdGhpcy5oaWRkZW4mJighdGhpcy5wYXJlbnR8fHRoaXMucGFyZW50LmlzVmlzaWJsZSl9Z2V0IGxpc3RlbmVycygpe3JldHVybiB0aGlzLl9saXN0ZW5lcnN8fHt9fXNldCBsaXN0ZW5lcnMoZSl7dGhpcy5fbGlzdGVuZXJzPWV9Z2V0IHBhcmVudCgpe2xldCBlPXRoaXM7cmV0dXJuIGUucGFyZW50Q29tcG9uZW50fHwoXCJkb2N1bWVudC5ib2R5XCI9PT1lLnBhcmVudElkP251bGw6TmVvLmdldENvbXBvbmVudChlLnBhcmVudElkKSl9Z2V0IHJlbmRlcmVkKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmVkfHwhMX1zZXQgcmVuZGVyZWQoZSl7bGV0IHQ9dGhpczt0Ll9yZW5kZXJlZD1lLCEwPT09ZSYmdC5maXJlKFwicmVuZGVyZWRcIix0LmlkKX1nZXQgdmRvbSgpe3JldHVybiB0aGlzLl92ZG9tfXNldCB2ZG9tKGUpe3RoaXMuYWZ0ZXJTZXRWZG9tKGUsZSl9YWRkQ2xzKGUpe2xldHtjbHM6dH09dGhpcztyLmFkZCh0LGUpLHRoaXMuY2xzPXR9YWRkRG9tTGlzdGVuZXJzKGUpe0FycmF5LmlzQXJyYXkoZSl8fChlPVtlXSk7bGV0IHQ9dGhpcy5kb21MaXN0ZW5lcnM7dC5wdXNoKC4uLmUpLHRoaXMuZG9tTGlzdGVuZXJzPXR9YWRkU3R5bGUoZSl7cmV0dXJuIE5lby5pc1N0cmluZyhlKSYmKGU9TmVvLmNyZWF0ZVN0eWxlT2JqZWN0KGUpKSx0aGlzLnN0eWxlPU9iamVjdC5hc3NpZ24odGhpcy5zdHlsZSxlKX1hZGRXcmFwcGVyQ2xzKGUpe2xldHt3cmFwcGVyQ2xzOnR9PXRoaXM7ci5hZGQodCxlKSx0aGlzLndyYXBwZXJDbHM9dH1hZnRlclNldEFwcE5hbWUoZSx0KXt9YWZ0ZXJTZXRDbHMoZSx0KXt0PXR8fFtdO2xldCBvLG49dGhpcyxkPW4udmRvbSxpPW4uZ2V0VmRvbVJvb3QoKTtkIT09aT9pLmNscz1bLi4uZV06KG89ci51bmlvbihuLndyYXBwZXJDbHMsZSksci5yZW1vdmUobyxyLmRpZmZlcmVuY2UodCxlKSksZC5jbHM9byksbi51cGRhdGUoKX1hZnRlclNldENvbmZpZyhlLHQsbyl7bGV0IG49dGhpcztpZihnLmlzVXNpbmdTdGF0ZVByb3ZpZGVycyYmblt2XSYmdm9pZCAwIT09byl7bGV0IG89bi5iaW5kPy5bZV07bz8udHdvV2F5JiZ0aGlzLmdldFN0YXRlUHJvdmlkZXIoKT8uc2V0RGF0YShvLmtleSx0KX19YWZ0ZXJTZXREaXNhYmxlZChlLHQpe2xldCBvPXRoaXMuY2xzO3JbZT9cImFkZFwiOlwicmVtb3ZlXCJdKG8sXCJuZW8tZGlzYWJsZWRcIiksdGhpcy5jbHM9b31hZnRlclNldERvbUxpc3RlbmVycyhlLHQpe2xldCBvPXRoaXM7KGU/LlswXXx8dD8uWzBdKSYmbi51cGRhdGVEb21MaXN0ZW5lcnMobyxlLHQpfWFmdGVyU2V0RHJvcHBhYmxlKGUsdCl7bGV0IG89dGhpcztlJiYhby5kcm9wWm9uZSYmaW1wb3J0KFwiLi4vZHJhZ2dhYmxlL0Ryb3Bab25lLm1qc1wiKS50aGVuKGU9PntvLmRyb3Bab25lPU5lby5jcmVhdGUoe21vZHVsZTplLmRlZmF1bHQsYXBwTmFtZTpvLmFwcE5hbWUsb3duZXI6byx3aW5kb3dJZDpvLndpbmRvd0lkLC4uLm8uZHJvcFpvbmVDb25maWd9KX0pfWFmdGVyU2V0RmxleChlLHQpe2lzTmFOKGUpfHwoZT1gJHtlfSAke2V9IDAlYCksdGhpcy5jb25maWd1cmVkRmxleD1lLHRoaXMuY2hhbmdlVmRvbVJvb3RLZXkoXCJmbGV4XCIsZSl9YWZ0ZXJTZXRIYXNVbm1vdW50ZWRWZG9tQ2hhbmdlcyhlLHQpe2lmKGV8fCFlJiZ0KXtsZXQgdCxuPW8uZ2V0UGFyZW50SWRzKHRoaXMpLGQ9MCxpPW4ubGVuZ3RoO2Zvcig7ZDxpO2QrKyl0PU5lby5nZXRDb21wb25lbnQobltkXSksdCYmKHQuX2hhc1VubW91bnRlZFZkb21DaGFuZ2VzPWUpfX1hZnRlclNldEhlaWdodChlLHQpe3RoaXMuY29uZmlndXJlZEhlaWdodD1oKGUpLHRoaXMuY2hhbmdlVmRvbVJvb3RLZXkoXCJoZWlnaHRcIixlKX1hZnRlclNldEhpZGRlbihlLHQpe2xldCBvPXRoaXMsbj1lP1wiaGlkZVwiOlwic2hvd1wiO2UmJnZvaWQgMD09PXQmJlwicmVtb3ZlRG9tXCI9PT1vLmhpZGVNb2RlP28udmRvbS5yZW1vdmVEb209ITA6KGV8fHZvaWQgMCE9PXQpJiZvW25dKCksZXx8by5yZXZlcnRGb2N1cygpLG8uZmlyZShuLHtpZDpvLmlkfSksby5maXJlKFwiaGlkZGVuQ2hhbmdlXCIse2lkOm8uaWQsb2xkVmFsdWU6dCx2YWx1ZTplfSl9YWZ0ZXJTZXRIdG1sKGUsdCl7dGhpcy5jaGFuZ2VWZG9tUm9vdEtleShcImh0bWxcIixlKX1hZnRlclNldElkKGUsdCl7c3VwZXIuYWZ0ZXJTZXRJZChlLHQpLHRoaXMuY2hhbmdlVmRvbVJvb3RLZXkoXCJpZFwiLGUpLHQmJm8udW5yZWdpc3Rlcih0KSxlJiZvLnJlZ2lzdGVyKHRoaXMpfWFmdGVyU2V0SXNMb2FkaW5nKGUsdCl7aWYoZXx8dm9pZCAwIT09dCl7bGV0IG8sbj10aGlzLHt3cmFwcGVyQ2xzOmQsdmRvbTppfT1uO3ZvaWQgMCE9PXQmJmkuY24mJihvPWkuY24uZmluZExhc3RJbmRleChlPT5lLmNscz8uaW5jbHVkZXMoXCJuZW8tbG9hZC1tYXNrXCIpKSwtMSE9PW8mJmkuY24uc3BsaWNlKG8sMSkpLGUmJihpLmNufHwoaS5jbj1bXSksaS5jbi5wdXNoKG4uY3JlYXRlTG9hZGluZ01hc2soZSkpKSxyLnRvZ2dsZShkLFwibmVvLW1hc2tlZFwiLGUpLG4uc2V0KHt2ZG9tOmksd3JhcHBlckNsczpkfSl9fWFmdGVyU2V0SXNWZG9tVXBkYXRpbmcoZSx0KXt0aGlzLmN1cnJlbnRVcGRhdGVEZXB0aD1lP3RoaXMudXBkYXRlRGVwdGg6bnVsbH1hZnRlclNldE1heEhlaWdodChlLHQpe3RoaXMuY29uZmlndXJlZE1heEhlaWdodD1oKGUpLHRoaXMuY2hhbmdlVmRvbVJvb3RLZXkoXCJtYXhIZWlnaHRcIixlKX1hZnRlclNldE1heFdpZHRoKGUsdCl7dGhpcy5jb25maWd1cmVkTWF4V2lkdGg9aChlKSx0aGlzLmNoYW5nZVZkb21Sb290S2V5KFwibWF4V2lkdGhcIixlKX1hZnRlclNldE1pbkhlaWdodChlLHQpe3RoaXMuY29uZmlndXJlZE1pbkhlaWdodD1oKGUpLHRoaXMuY2hhbmdlVmRvbVJvb3RLZXkoXCJtaW5IZWlnaHRcIixlKX1hZnRlclNldE1pbldpZHRoKGUsdCl7dGhpcy5jb25maWd1cmVkTWluV2lkdGg9aChlKSx0aGlzLmNoYW5nZVZkb21Sb290S2V5KFwibWluV2lkdGhcIixlKX1hZnRlclNldE1vdW50ZWQoZSx0KXtpZih2b2lkIDAhPT10KXtsZXQgdD10aGlzLHtpZDpvLHdpbmRvd0lkOmR9PXQ7ZT8odC5oYXNCZWVuTW91bnRlZD0hMCx0LmRvbUxpc3RlbmVycz8ubGVuZ3RoPjAmJnQudGltZW91dCgxNTApLnRoZW4oKCk9PntuLm1vdW50RG9tTGlzdGVuZXJzKHQpfSksdC5kb1Jlc29sdmVVcGRhdGVDYWNoZSgpLHQuZmxvYXRpbmcmJih0LmFsaWduVG8oKSx0LmZvY3VzKG8sITApKSx0LmZpcmUoXCJtb3VudGVkXCIsdC5pZCkpOnQucmV2ZXJ0Rm9jdXMoKX19YWZ0ZXJTZXRSZWZlcmVuY2UoZSx0KXtlJiZ0aGlzLmNoYW5nZVZkb21Sb290S2V5KFwiZGF0YS1yZWZcIixlKX1hc3luYyBhZnRlclNldFJlc3BvbnNpdmUoZSx0KXtpZihlJiYhdGhpcy5nZXRQbHVnaW4oXCJyZXNwb25zaXZlXCIpKXtsZXQgdD10aGlzLG89YXdhaXQgaW1wb3J0KFwiLi4vLi4vc3JjL3BsdWdpbi9SZXNwb25zaXZlLm1qc1wiKSxuPXQucGx1Z2luc3x8W107bi5wdXNoKHttb2R1bGU6by5kZWZhdWx0LGFwcE5hbWU6dC5hcHBOYW1lLHZhbHVlOmV9KSx0LnBsdWdpbnM9bn19YWZ0ZXJTZXRSb2xlKGUsdCl7dGhpcy5jaGFuZ2VWZG9tUm9vdEtleShcInJvbGVcIixlKX1hZnRlclNldFNjcm9sbGFibGUoZSx0KXtpZih2b2lkIDA9PT10JiYhZSlyZXR1cm47bGV0IG89dGhpcztpZih0KXtsZXQgZT1cIm92ZXJmbG93XCI7TmVvLmlzQm9vbGVhbih0KXx8KGUrPU5lby5jYXBpdGFsaXplKHQpKSxvLnJlbW92ZVN0eWxlKFtlXSl9aWYoIU5lby5pc0VtcHR5KGUpKXtsZXQgdD1cIm92ZXJmbG93XCI7ZSYmIU5lby5pc0Jvb2xlYW4oZSkmJih0Kz1OZW8uY2FwaXRhbGl6ZShlKSksZT8oby5hZGRTdHlsZSh0K1wiOmF1dG9cIiksby5hZGRDbHMoXCJuZW8tc2Nyb2xsYWJsZVwiKSk6by5yZW1vdmVDbHMoXCJuZW8tc2Nyb2xsYWJsZVwiKX19YWZ0ZXJTZXRTdHlsZShlLHQpeyhlfHx2b2lkIDAhPT10KSYmdGhpcy51cGRhdGVTdHlsZSgpfWFmdGVyU2V0VGFnKGUsdCl7ZSYmdGhpcy5jaGFuZ2VWZG9tUm9vdEtleShcInRhZ1wiLGUpfWFmdGVyU2V0VGhlbWUoZSx0KXtpZihlfHx2b2lkIDAhPT10KXtsZXQgbz10aGlzLHtjbHM6bn09byxkPSExO3QmJm4uaW5jbHVkZXModCkmJihyLnJlbW92ZShuLHQpLGQ9ITApLGUhPT1vLnBhcmVudD8udGhlbWUmJihlJiZyLmFkZChuLGUpLGQ9ITApLGQmJihvLmNscz1uKX19YWZ0ZXJTZXRUb29sdGlwKGUsdCl7dD8uZGVzdHJveT8uKCksZSYmKE5lby5ucyhcIk5lby50b29sdGlwLkJhc2VcIik/dGhpcy5jcmVhdGVUb29sdGlwKGUpOmltcG9ydChcIi4uL3Rvb2x0aXAvQmFzZS5tanNcIikudGhlbigoKT0+e3RoaXMuY3JlYXRlVG9vbHRpcChlKX0pKX1hZnRlclNldFVpKGUsdCl7bGV0IG89dGhpcyxuPW8uY2xzO3QmJnIucmVtb3ZlKG4sYG5lby0ke28ubnR5cGV9LSR7dH1gKSxlJiZcIlwiIT09ZSYmci5hZGQobixgbmVvLSR7by5udHlwZX0tJHtlfWApLG8uY2xzPW59YWZ0ZXJTZXRWZG9tKGUsdCl7dGhpcy51cGRhdGVWZG9tKCl9YWZ0ZXJTZXRWbm9kZShlLHQpe3ZvaWQgMCE9PXQmJnRoaXMuc3luY1Zub2RlVHJlZSgpfWFmdGVyU2V0V2lkdGgoZSx0KXt0aGlzLmNvbmZpZ3VyZWRXaWR0aD1oKGUpLHRoaXMuY2hhbmdlVmRvbVJvb3RLZXkoXCJ3aWR0aFwiLGUpfWFmdGVyU2V0V2luZG93SWQoZSx0KXtsZXQgbz10aGlzLG49by5jb250cm9sbGVyO2UmJihnLmluc2VydFRoZW1lRmlsZXMoZSxvLl9fcHJvdG9fXyksbiYmKG4ud2luZG93SWQ9ZSkpLHQmJihvLmlzVmRvbVVwZGF0aW5nPSExKX1hZnRlclNldFdyYXBwZXJDbHMoZSx0KXt0PXR8fFtdLGU9ZXx8W107bGV0IG89dGhpcyx7dmRvbTpufT1vLGQ9by5nZXRWZG9tUm9vdCgpLGk9bi5jbHN8fFtdO249PT1kPyhpPXIudW5pb24oaSxlKSxyLnJlbW92ZShpLHIuZGlmZmVyZW5jZSh0LGUpKSxuLmNscz1pKTooZT1lfHxbXSx0JiZyLnJlbW92ZShpLHQpLHIuYWRkKGksZSksbi5jbHM9aSksby51cGRhdGUoKX1hZnRlclNldFdyYXBwZXJTdHlsZShlLHQpeyhlfHx2b2lkIDAhPT10KSYmdGhpcy51cGRhdGVTdHlsZSgpfWFzeW5jIGFsaWduVG8oZT17fSl7Y29uc3QgdD10aGlzLG89ey4uLnQuYWxpZ24sLi4uZSxpZDp0LmlkLGNvbmZpZ3VyZWRGbGV4OnQuY29uZmlndXJlZEZsZXgsY29uZmlndXJlZFdpZHRoOnQuY29uZmlndXJlZFdpZHRoLGNvbmZpZ3VyZWRIZWlnaHQ6dC5jb25maWd1cmVkSGVpZ2h0LGNvbmZpZ3VyZWRNaW5XaWR0aDp0LmNvbmZpZ3VyZWRNaW5XaWR0aCxjb25maWd1cmVkTWluSGVpZ2h0OnQuY29uZmlndXJlZE1pbkhlaWdodCxjb25maWd1cmVkTWF4V2lkdGg6dC5jb25maWd1cmVkTWF4V2lkdGgsY29uZmlndXJlZE1heEhlaWdodDp0LmNvbmZpZ3VyZWRNYXhIZWlnaHR9O28udGFyZ2V0JiZhd2FpdCBOZW8ubWFpbi5Eb21BY2Nlc3MuYWxpZ24obyl9YmVmb3JlR2V0Q2xzKGUpe3JldHVybiBlP1suLi5lXTpbXX1iZWZvcmVHZXREYXRhKGUpe3JldHVybiB0aGlzLmdldFN0YXRlUHJvdmlkZXIoKS5nZXRIaWVyYXJjaHlEYXRhKCl9YmVmb3JlR2V0U3R5bGUoZSl7cmV0dXJuey4uLmV9fWJlZm9yZUdldFdyYXBwZXJDbHMoZSl7cmV0dXJuIGU/Wy4uLmVdOltdfWJlZm9yZUdldFdyYXBwZXJTdHlsZShlKXtyZXR1cm57Li4uT2JqZWN0LmFzc2lnbih0aGlzLnZkb20uc3R5bGV8fHt9LGUpfX1iZWZvcmVTZXRBbGlnbihlLHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT17ZWRnZUFsaWduOmV9KSxOZW8ubWVyZ2Uoe30sZSx0aGlzLmNvbnN0cnVjdG9yLmNvbmZpZy5hbGlnbil9YmVmb3JlU2V0Q2xzKGUsdCl7cmV0dXJuIHIudW5pb24oZXx8W10sdGhpcy5iYXNlQ2xzLHRoaXMuZ2V0QmFzZUNsYXNzKCkpfWJlZm9yZVNldENvbnRyb2xsZXIoZSxvKXtyZXR1cm4gbz8uZGVzdHJveSgpLGU/dC5iZWZvcmVTZXRJbnN0YW5jZShlLFwiTmVvLmNvbnRyb2xsZXIuQ29tcG9uZW50XCIse2NvbXBvbmVudDp0aGlzLHdpbmRvd0lkOnRoaXMud2luZG93SWR9KTplfWJlZm9yZVNldERvbUxpc3RlbmVycyhlLHQpe3JldHVybiBOZW8uaXNPYmplY3QoZSkmJihlPVtlXSksZXx8W119YmVmb3JlU2V0SGlkZU1vZGUoZSx0KXtyZXR1cm4gdGhpcy5iZWZvcmVTZXRFbnVtVmFsdWUoZSx0LFwiaGlkZU1vZGVcIil9YmVmb3JlU2V0S2V5cyhlLG8pe3JldHVybiBvPy5kZXN0cm95KCksZSYmKGU9dC5iZWZvcmVTZXRJbnN0YW5jZShlLGQse2tleURvd25FdmVudEJ1YmJsZTohMCxrZXlzOmV9KSksZX1iZWZvcmVTZXRQbHVnaW5zKGUsbyl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUuZm9yRWFjaCgobyxuKT0+e2Vbbl09dC5iZWZvcmVTZXRJbnN0YW5jZShvLG51bGwse293bmVyOnRoaXN9KX0pLGV9YmVmb3JlU2V0U2lsZW50VmRvbVVwZGF0ZShlLHQpe3JldHVybiEwPT09ZT9OZW8uaXNOdW1iZXIodCk/dCsxOjE6TmVvLmlzTnVtYmVyKHQpJiZ0PjA/dC0xOjB9YmVmb3JlU2V0U3RhdGVQcm92aWRlcihlLG8pe2lmKG8/LmRlc3Ryb3koKSxlKXtsZXQgbz10aGlzLG49e2NvbXBvbmVudDpvfTtyZXR1cm4gby5tb2RlbERhdGEmJihuLmRhdGE9by5tb2RlbERhdGEpLHQuYmVmb3JlU2V0SW5zdGFuY2UoZSxcIk5lby5zdGF0ZS5Qcm92aWRlclwiLG4pfXJldHVybiBudWxsfWJlZm9yZVNldFVwZGF0ZURlcHRoKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/ZTotMT09PXR8fC0xPT09ZT8tMTpNYXRoLm1heChlLHQpfWNoYW5nZVZkb21Sb290S2V5KGUsdCl7bGV0IG89dGhpcy5nZXRWZG9tUm9vdCgpO3Q/b1tlXT10OmRlbGV0ZSBvW2VdLHRoaXMudXBkYXRlKCl9Y3JlYXRlTG9hZGluZ01hc2soZSl7cmV0dXJue2NsczpbXCJuZW8tbG9hZC1tYXNrXCJdLGNuOlt7Y2xzOltcIm5lby1sb2FkLW1hc2stYm9keVwiXSxjbjpbe2Nsczp0aGlzLmxvYWRpbmdTcGlubmVyQ2xzfSx7Y2xzOltcIm5lby1sb2FkaW5nLW1lc3NhZ2VcIl0saHRtbDplLHJlbW92ZURvbTohTmVvLmlzU3RyaW5nKGUpfV19XX19Y3JlYXRlVG9vbHRpcChlKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9e3RleHQ6ZX0pO2xldCB0PXRoaXM7ZS5vd25JbnN0YW5jZT90Ll90b29sdGlwPU5lby5jcmVhdGUoXCJOZW8udG9vbHRpcC5CYXNlXCIsey4uLmUsYXBwTmFtZTp0LmFwcE5hbWUsY29tcG9uZW50SWQ6dC5pZCx3aW5kb3dJZDp0LndpbmRvd0lkfSk6KHQuX3Rvb2x0aXA9ZSxOZW8udG9vbHRpcC5CYXNlLmNyZWF0ZVNpbmdsZXRvbih0LmFwcCksdC5hZGRDbHMoXCJuZW8tdXNlcy1zaGFyZWQtdG9vbHRpcFwiKSx0LnVwZGF0ZSgpKX1jcmVhdGVWZG9tUmVmZXJlbmNlKCl7bGV0IGU9dGhpcyx0PXtjb21wb25lbnRJZDplLmlkfSxvPWUudmRvbS5pZDtyZXR1cm4gbyYmZS5pZCE9PW8mJih0LmlkPW8pLHR9ZGVzdHJveShlPSExLHQ9ITEpe2xldCBuLGQ9dGhpcyx7cGFyZW50OmkscGFyZW50SWQ6cn09ZCxzPWk/LmdldFN0YXRlUHJvdmlkZXIoKTtkLnJldmVydEZvY3VzKCksZC5kb21MaXN0ZW5lcnM9W10sZC5jb250cm9sbGVyPW51bGwsZC5yZWZlcmVuY2UmJmQuZ2V0Q29udHJvbGxlcigpPy5yZW1vdmVSZWZlcmVuY2UoZCksZC5zdGF0ZVByb3ZpZGVyPW51bGwsZC5iaW5kJiZzPy5yZW1vdmVCaW5kaW5ncyhkLmlkKSxkLnBsdWdpbnM/LmZvckVhY2goZT0+e2UuZGVzdHJveSgpfSksZSYmciYmKFwiZG9jdW1lbnQuYm9keVwiPT09cj9OZW8uYXBwbHlEZWx0YXMoZC5hcHBOYW1lLHthY3Rpb246XCJyZW1vdmVOb2RlXCIsaWQ6ZC52ZG9tLmlkfSk6KG49aS52ZG9tLHAucmVtb3ZlVmRvbUNoaWxkKG4sZC52ZG9tLmlkKSxpW3Q/XCJfdmRvbVwiOlwidmRvbVwiXT1uKSksby51bnJlZ2lzdGVyKGQpLHN1cGVyLmRlc3Ryb3koKSxkLm9uRm9jdXNMZWF2ZT1OZW8uZW1wdHlGbixkLnVubW91bnQ9TmVvLmVtcHR5Rm59ZG9SZXNvbHZlVXBkYXRlQ2FjaGUoKXtsZXQgZT10aGlzO2UucmVzb2x2ZVVwZGF0ZUNhY2hlJiYoZS5yZXNvbHZlVXBkYXRlQ2FjaGUuZm9yRWFjaChlPT5lKCkpLGUucmVzb2x2ZVVwZGF0ZUNhY2hlPVtdKX1kb3duKGUsdD0hMCl7cmV0dXJuIG8uZG93bih0aGlzLGUsdCl9I2UoZSx0KXtsZXQgbixkPXRoaXMse3Zkb206aSx2bm9kZTpyfT1kLHM9e307Zy5pc1NoYXJlZFdvcmtlciYmKHMuYXBwTmFtZT1kLmFwcE5hbWUscy53aW5kb3dJZD1kLndpbmRvd0lkKSxkLmlzVmRvbVVwZGF0aW5nPSEwLGQuX25lZWRzVmRvbVVwZGF0ZT0hMSxkLmFmdGVyU2V0TmVlZHNWZG9tVXBkYXRlPy4oITEsITApLHMudmRvbT1vLmdldFZkb21UcmVlKGksZC51cGRhdGVEZXB0aCkscy52bm9kZT1vLmdldFZub2RlVHJlZShyLGQudXBkYXRlRGVwdGgpLGQuX3VwZGF0ZURlcHRoPWQuY29uc3RydWN0b3IuY29uZmlnLnVwZGF0ZURlcHRoLE5lby52ZG9tLkhlbHBlci51cGRhdGUocykuY2F0Y2goZT0+e2QuaXNWZG9tVXBkYXRpbmc9ITEsdD8uKCl9KS50aGVuKHQ9PntkLmlkJiYoZC52bm9kZT10LnZub2RlLGQuaXNWZG9tVXBkYXRpbmc9ITEsbj10LmRlbHRhcywhTmVvLmNvbmZpZy51c2VWZG9tV29ya2VyJiZuLmxlbmd0aD4wP05lby5hcHBseURlbHRhcyhkLmFwcE5hbWUsbikudGhlbigoKT0+e2QucmVzb2x2ZVZkb21VcGRhdGUoZSl9KTpkLnJlc29sdmVWZG9tVXBkYXRlKGUpKX0pfWZvY3VzKGU9dGhpcy5pZCx0PSExKXtOZW8ubWFpbi5Eb21BY2Nlc3MuZm9jdXMoe2NoaWxkcmVuOnQsaWQ6ZSx3aW5kb3dJZDp0aGlzLndpbmRvd0lkfSl9Z2V0QmFzZUNsYXNzKCl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy5mbG9hdGluZyYmZS5wdXNoKFwibmVvLWZsb2F0aW5nXCIpLGV9Z2V0Q29uZmlnSW5zdGFuY2VCeU50eXBlKGUsdCl7bGV0IG89dGhpcyxuPW9bZV0se3BhcmVudENvbXBvbmVudDpkfT1vO3JldHVybiFufHx0JiZ0IT09bi5udHlwZT8oIWQmJm8ucGFyZW50SWQmJihkPW8ucGFyZW50fHxOZW8uZ2V0KG8ucGFyZW50SWQpKSxkP2QuZ2V0Q29uZmlnSW5zdGFuY2VCeU50eXBlKGUsdCk6bnVsbCk6bn1nZXRDb250cm9sbGVyKGUpe2xldCB0LG89dGhpcztyZXR1cm4hZSYmKHQ9b1t1XSx0KXx8KHQ9by5nZXRDb25maWdJbnN0YW5jZUJ5TnR5cGUoXCJjb250cm9sbGVyXCIsZSksZXx8KG9bdV09dCkpLHR9YXN5bmMgZ2V0RG9tUmVjdChlPXRoaXMuaWQsdD10aGlzLmFwcE5hbWUpe2xldCBvPWF3YWl0IE5lby5tYWluLkRvbUFjY2Vzcy5nZXRCb3VuZGluZ0NsaWVudFJlY3Qoe2FwcE5hbWU6dCxpZDplLHdpbmRvd0lkOnRoaXMud2luZG93SWR9KTtyZXR1cm4gQXJyYXkuaXNBcnJheShvKT9vLm1hcChlPT5hLmNsb25lKGUpKTphLmNsb25lKG8pfWdldE1vdW50ZWRQYXJlbnRJZCgpe2xldCBlPXRoaXMucGFyZW50SWQsdD1OZW8uZ2V0Q29tcG9uZW50KGUpLG89dD8uZ2V0VmRvbUl0ZW1zUm9vdD8uKCk7cmV0dXJuIG8/by5pZDplfWdldE1vdW50ZWRQYXJlbnRJbmRleCgpe2xldCBlLHQ9dGhpcy5wYXJlbnQsbz10Py5pdGVtc3x8W10sbj0wLGQ9MCxpPW8ubGVuZ3RoO2Zvcig7bjxpO24rKyl7aWYoZT1vW25dLGU9PT10aGlzKXJldHVybiBkO2UuaGlkZGVufHxcInJlbW92ZURvbVwiIT09ZS5oaWRlTW9kZXx8ZCsrfX1nZXRQYXJlbnRzKCl7cmV0dXJuIG8uZ2V0UGFyZW50cyh0aGlzKX1nZXRQbHVnaW4oZSl7TmVvLmlzU3RyaW5nKGUpJiYoZS5zdGFydHNXaXRoKFwicGx1Z2luLVwiKXx8KGU9XCJwbHVnaW4tXCIrZSksZT17bnR5cGU6ZX0pO2xldCB0LG89dGhpcztmb3IoY29uc3QgbiBvZiBvLnBsdWdpbnN8fFtdKXt0PSEwO2Zvcihjb25zdCBvIGluIGUpaWYobltvXSE9PWVbb10pe3Q9ITE7YnJlYWt9aWYodClyZXR1cm4gbn1yZXR1cm4gbnVsbH1nZXRSZWZlcmVuY2UoZSl7cmV0dXJuIHRoaXMuZG93bih7cmVmZXJlbmNlOmV9KX1nZXRTdGF0ZSguLi5lKXtyZXR1cm4gdGhpcy5nZXRTdGF0ZVByb3ZpZGVyKCkuZ2V0RGF0YSguLi5lKX1nZXRTdGF0ZVByb3ZpZGVyKGUpe2lmKCFnLmlzVXNpbmdTdGF0ZVByb3ZpZGVycylyZXR1cm4gbnVsbDtsZXQgdCxvPXRoaXM7cmV0dXJuIWUmJih0PW9bY10sdCl8fCh0PW8uZ2V0Q29uZmlnSW5zdGFuY2VCeU50eXBlKFwic3RhdGVQcm92aWRlclwiLGUpLGV8fChvW2NdPXQpKSx0fWdldFRoZW1lKCl7bGV0IGUsdCxvPXRoaXMsbj1cIm5lby10aGVtZS1cIjtmb3IoY29uc3QgZSBvZiBvLmNsc3x8W10paWYoZS5zdGFydHNXaXRoKG4pKXJldHVybiBlO2lmKGU9by5hcHA/Lm1haW5WaWV3LGUpe3Q9cC5nZXRQYXJlbnROb2RlcyhlLnZkb20sby5pZCk7Zm9yKGNvbnN0IGUgb2YgdHx8W10pZm9yKGNvbnN0IHQgb2YgZS5jbHN8fFtdKWlmKHQuc3RhcnRzV2l0aChuKSlyZXR1cm4gdH1yZXR1cm4gTmVvLmNvbmZpZy50aGVtZXM/LlswXX1nZXRWZG9tQ2hpbGQoZSx0PXRoaXMudmRvbSl7cmV0dXJuIHAuZmluZCh0LGUpPy52ZG9tfWdldFZkb21Sb290KCl7cmV0dXJuIHRoaXMudmRvbX1nZXRWbm9kZVJvb3QoKXtyZXR1cm4gdGhpcy52bm9kZX1oYXNVcGRhdGVDb2xsaXNpb24oZSx0KXtyZXR1cm4tMT09PWV8fHQ8ZX1oaWRlKGUpe2xldCB0PXRoaXM7aWYoXCJ2aXNpYmlsaXR5XCIhPT10LmhpZGVNb2RlKXtsZXQgbz1mdW5jdGlvbigpe1wiZG9jdW1lbnQuYm9keVwiIT09dC5wYXJlbnRJZD8odC52ZG9tLnJlbW92ZURvbT0hMCx0LnBhcmVudC51cGRhdGVEZXB0aD0yLHQucGFyZW50LnVwZGF0ZSgpKTp0LnVubW91bnQoKX07ZT90LnRpbWVvdXQoZSkudGhlbihvKTpvKCl9ZWxzZXtsZXQgZT10LnN0eWxlO2UudmlzaWJpbGl0eT1cImhpZGRlblwiLHQuc3R5bGU9ZX10Ll9oaWRkZW49ITB9aW5pdCgpe3RoaXMuYXV0b1JlbmRlciYmdGhpcy5yZW5kZXIoKX1pbml0Q29uZmlnKGUsdCl7c3VwZXIuaW5pdENvbmZpZyhlLHQpO3RoaXMuZ2V0U3RhdGVQcm92aWRlcigpPy5wYXJzZUNvbmZpZyh0aGlzKX1pc0Zsb2F0aW5nKCl7bGV0IGU9dGhpcztyZXR1cm4hIWUuZmxvYXRpbmd8fCEhZS5wYXJlbnQmJmUucGFyZW50LmZsb2F0aW5nfWlzUGFyZW50VXBkYXRpbmcoZT10aGlzLnBhcmVudElkLHQsbz0xKXtpZihcImRvY3VtZW50LmJvZHlcIiE9PWUpe2xldCBuPXRoaXMsZD1OZW8uZ2V0Q29tcG9uZW50KGUpO2lmKGQpcmV0dXJuIGQuaXNWZG9tVXBkYXRpbmc/ISFuLmhhc1VwZGF0ZUNvbGxpc2lvbihkLmN1cnJlbnRVcGRhdGVEZXB0aCxvKSYmKE5lby5jb25maWcubG9nVmRvbVVwZGF0ZUNvbGxpc2lvbnMmJmNvbnNvbGUud2FybihcInZkb20gcGFyZW50IHVwZGF0ZSBjb25mbGljdCB3aXRoOlwiLGQsXCJmb3I6XCIsbiksZC5jaGlsZFVwZGF0ZUNhY2hlW24uaWRdPXtkaXN0YW5jZTpvLHJlc29sdmU6dH0sdCYmbi5yZXNvbHZlVXBkYXRlQ2FjaGUucHVzaCh0KSwhMCk6bi5pc1BhcmVudFVwZGF0aW5nKGQucGFyZW50SWQsdCxvKzEpfXJldHVybiExfWFzeW5jIG1lYXN1cmUoZSl7aWYobnVsbCE9ZSlpZihlLmVuZHNXaXRoKFwicHhcIikpZT1wYXJzZUZsb2F0KGUpO2Vsc2UgaWYoZi50ZXN0KGUpKXtsZXR7aWQ6dCx3aW5kb3dJZDpvfT10aGlzO2U9YXdhaXQgTmVvLm1haW4uRG9tQWNjZXNzLm1lYXN1cmUoe2lkOnQsdmFsdWU6ZSx3aW5kb3dJZDpvfSl9ZWxzZSBpc05hTihlKXx8KGU9cGFyc2VGbG9hdChlKSk7cmV0dXJuIGV9bWVyZ2VDb25maWcoLi4uZSl7bGV0IHQ9dGhpcyxvPXN1cGVyLm1lcmdlQ29uZmlnKC4uLmUpLG49ey4uLnQuX3Zkb218fHt9LC4uLm8udmRvbXx8e319O3JldHVybiB0Ll92ZG9tPU5lby5jbG9uZShuLCEwLCEwKSxvLnN0eWxlJiYodC5zdHlsZT1cIk9iamVjdFwiPT09TmVvLnR5cGVPZihvLnN0eWxlKT97Li4uby5zdHlsZSwuLi50LmNvbnN0cnVjdG9yLmNvbmZpZy5zdHlsZX06by5zdHlsZSksdC53cmFwcGVyU3R5bGU9TmVvLmNsb25lKG8ud3JhcHBlclN0eWxlLCExKSxkZWxldGUgby5zdHlsZSxkZWxldGUgby5fdmRvbSxkZWxldGUgby52ZG9tLGRlbGV0ZSBvLndyYXBwZXJTdHlsZSxvfWFzeW5jIG1vdW50KCl7bGV0IGUsdCxuPXRoaXM7aWYoIW4udm5vZGUpdGhyb3cgbmV3IEVycm9yKFwiQ29tcG9uZW50IHZub2RlIG11c3QgYmUgZ2VuZXJhdGVkIGJlZm9yZSBtb3VudGluZywgdXNlIENvbXBvbmVudC5yZW5kZXIoKVwiKTtuLmhhc1VubW91bnRlZFZkb21DaGFuZ2VzPyhuLmhhc1VubW91bnRlZFZkb21DaGFuZ2VzPSExLHQ9by5nZXRDaGlsZElkcyhuLnZub2RlKSx0LmZvckVhY2godD0+e2U9TmVvLmdldENvbXBvbmVudCh0KSxlJiYoZS5faGFzVW5tb3VudGVkVmRvbUNoYW5nZXM9ITEpfSksbi5yZW5kZXIoITApKTooYXdhaXQgZy5wcm9taXNlTWVzc2FnZShcIm1haW5cIix7YWN0aW9uOlwibW91bnREb21cIixhcHBOYW1lOm4uYXBwTmFtZSxpZDpuLmlkLGh0bWw6bi52bm9kZS5vdXRlckhUTUwscGFyZW50SWQ6bi5nZXRNb3VudGVkUGFyZW50SWQoKSxwYXJlbnRJbmRleDpuLmdldE1vdW50ZWRQYXJlbnRJbmRleCgpfSksZGVsZXRlIG4udmRvbS5yZW1vdmVEb20sYXdhaXQgbi50aW1lb3V0KDMwKSxuLm1vdW50ZWQ9ITApfW5lZWRzUGFyZW50VXBkYXRlKGU9dGhpcy5wYXJlbnRJZCx0LG89MSl7aWYoXCJkb2N1bWVudC5ib2R5XCIhPT1lKXtsZXQgbj10aGlzLGQ9TmVvLmdldENvbXBvbmVudChlKTtpZihkKXJldHVybiBkLm5lZWRzVmRvbVVwZGF0ZSYmbi5oYXNVcGRhdGVDb2xsaXNpb24oZC51cGRhdGVEZXB0aCxvKT8oZC5yZXNvbHZlVXBkYXRlQ2FjaGUucHVzaCguLi5uLnJlc29sdmVVcGRhdGVDYWNoZSksdCYmZC5yZXNvbHZlVXBkYXRlQ2FjaGUucHVzaCh0KSxuLnJlc29sdmVVcGRhdGVDYWNoZT1bXSwhMCk6bi5uZWVkc1BhcmVudFVwZGF0ZShkLnBhcmVudElkLHQsbysxKX1yZXR1cm4hMX1vbkNvbnN0cnVjdGVkKCl7c3VwZXIub25Db25zdHJ1Y3RlZCgpLHRoaXMua2V5cz8ucmVnaXN0ZXIodGhpcyl9b25Gb2N1c0VudGVyKGUpe3RoaXMuZm9jdXNFbnRlckRhdGE9ZX1vbkZvY3VzTGVhdmUoZSl7dGhpcy5mb2N1c0VudGVyRGF0YT1udWxsfW9uUmVuZGVyKGUsdCl7bGV0IG49dGhpcyx7YXBwOmR9PW47aWYobi5yZW5kZXJpbmc9ITEsZCl7ZC5yZW5kZXJlZHx8KGQucmVuZGVyaW5nPSExLGQucmVuZGVyZWQ9ITAsZC5maXJlKFwicmVuZGVyXCIpKSxuLnZub2RlPWU7bGV0IGkscj1vLmdldENoaWxkSWRzKGUpLHM9MCxhPXIubGVuZ3RoO2Zvcig7czxhO3MrKylpPU5lby5nZXRDb21wb25lbnQocltzXSksaSYmKGkucmVuZGVyZWQ9ITApO24uX3JlbmRlcmVkPSEwLG4uZmlyZShcInJlbmRlcmVkXCIsbi5pZCksdCYmKG4ubW91bnRlZD0hMCxkLm1vdW50ZWR8fChkLm1vdW50ZWQ9ITAsZC5maXJlKFwibW91bnRlZFwiKSkpfX1wcm9taXNlVXBkYXRlKCl7cmV0dXJuIG5ldyBQcm9taXNlKChlLHQpPT57dGhpcy51cGRhdGVWZG9tKGUsdCl9KX1yZW1vdmVDbHMoZSl7bGV0IHQ9dGhpcy5jbHM7ci5yZW1vdmUodCxlKSx0aGlzLmNscz10fXJlbW92ZURvbUxpc3RlbmVycyhlKXtBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pO2xldCB0LG8se2RvbUxpc3RlbmVyczpufT10aGlzO2UuZm9yRWFjaChlPT57Zm9yKHQ9MCxvPW4ubGVuZ3RoO3Q8bzt0KyspaWYoTmVvLmlzRXF1YWwoZSxuW3RdKSl7bi5zcGxpY2UodCwxKTticmVha319KSx0aGlzLmRvbUxpc3RlbmVycz1ufXJlbW92ZVN0eWxlKGUpe0FycmF5LmlzQXJyYXkoZSl8fChlPVtlXSk7bGV0e3N0eWxlOnR9PXRoaXMsbz0hMTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChuPT57ZS5pbmRleE9mKG4pPi0xJiYoZGVsZXRlIHRbbl0sbz0hMCl9KSxvJiYodGhpcy5zdHlsZT10KSx0fWFzeW5jIHJlbmRlcihlKXtsZXQgdD10aGlzLG49ZXx8dC5hdXRvTW91bnQse2FwcDpkfT10LHt1c2VWZG9tV29ya2VyOml9PU5lby5jb25maWc7aWYobiYmMCE9PWcuY291bnRMb2FkaW5nVGhlbWVGaWxlcylnLm9uKFwidGhlbWVGaWxlc0xvYWRlZFwiLGZ1bmN0aW9uKCl7IXQubW91bnRlZCYmdC5yZW5kZXIoZSl9LHQse29uY2U6ITB9KTtlbHNlIGlmKHQucmVuZGVyaW5nPSEwLGQucmVuZGVyZWR8fChkLnJlbmRlcmluZz0hMCksdC52ZG9tKXt0LmlzVmRvbVVwZGF0aW5nPSEwLGRlbGV0ZSB0LnZkb20ucmVtb3ZlRG9tLHQuX25lZWRzVmRvbVVwZGF0ZT0hMSx0LmFmdGVyU2V0TmVlZHNWZG9tVXBkYXRlPy4oITEsITApO2NvbnN0IGU9YXdhaXQgTmVvLnZkb20uSGVscGVyLmNyZWF0ZSh7YXBwTmFtZTp0LmFwcE5hbWUsYXV0b01vdW50Om4scGFyZW50SWQ6bj90LmdldE1vdW50ZWRQYXJlbnRJZCgpOnZvaWQgMCxwYXJlbnRJbmRleDpuP3QuZ2V0TW91bnRlZFBhcmVudEluZGV4KCk6dm9pZCAwLHZkb206by5nZXRWZG9tVHJlZSh0LnZkb20pLHdpbmRvd0lkOnQud2luZG93SWR9KTt0Lm9uUmVuZGVyKGUudm5vZGUsISFpJiZuKSx0LmlzVmRvbVVwZGF0aW5nPSExLG4mJiFpJiZ0Lm1vdW50KCksdC5yZXNvbHZlVmRvbVVwZGF0ZSgpfX1yZXNvbHZlVmRvbVVwZGF0ZShlKXtsZXQgdCxvPXRoaXMsbj0hTmVvLmlzRW1wdHkoby5jaGlsZFVwZGF0ZUNhY2hlKTtvLmRvUmVzb2x2ZVVwZGF0ZUNhY2hlKCksZT8uKCksby5uZWVkc1Zkb21VcGRhdGU/KG4mJihPYmplY3QuZW50cmllcyhvLmNoaWxkVXBkYXRlQ2FjaGUpLmZvckVhY2goKFtlLG5dKT0+e3Q9TmVvLmdldENvbXBvbmVudChlKSx0JiYobi5yZXNvbHZlJiZyLmFkZChvLnJlc29sdmVVcGRhdGVDYWNoZSxuLnJlc29sdmUpLC0xIT09by51cGRhdGVEZXB0aCYmKC0xPT09dC51cGRhdGVEZXB0aD9vLnVwZGF0ZURlcHRoPS0xOm8udXBkYXRlRGVwdGg9by51cGRhdGVEZXB0aCtuLmRpc3RhbmNlK3QudXBkYXRlRGVwdGgtMSkpfSksby5jaGlsZFVwZGF0ZUNhY2hlPXt9KSxvLnVwZGF0ZSgpKTpuJiYoT2JqZWN0LmtleXMoby5jaGlsZFVwZGF0ZUNhY2hlKS5mb3JFYWNoKGU9PntOZW8uZ2V0Q29tcG9uZW50KGUpPy51cGRhdGUoKX0pLG8uY2hpbGRVcGRhdGVDYWNoZT17fSl9cmV2ZXJ0Rm9jdXMoKXtsZXQgZT10aGlzLmZvY3VzRW50ZXJEYXRhPy5yZWxhdGVkVGFyZ2V0O3RoaXMuY29udGFpbnNGb2N1cyYmZSYmTmVvLmdldENvbXBvbmVudChlLmlkKT8uZm9jdXMoKX1zZXQoZT17fSx0PSExKXtsZXQgbz10aGlzLG49ITE9PT1lLmhpZGRlbiYmZS5oaWRkZW4hPT1vLmhpZGRlbjtyZXR1cm4gby5zaWxlbnRWZG9tVXBkYXRlPSEwLHN1cGVyLnNldChlKSxvLnNpbGVudFZkb21VcGRhdGU9ITEsdHx8IW8ubmVlZHNWZG9tVXBkYXRlP1Byb21pc2UucmVzb2x2ZSgpOm4/KG8uc2hvdygpLFByb21pc2UucmVzb2x2ZSgpKTpvLnByb21pc2VVcGRhdGUoKX1zZXRTaWxlbnQoZT17fSl7cmV0dXJuIHRoaXMuc2V0KGUsITApfXNldFN0YXRlKC4uLmUpe3RoaXMuZ2V0U3RhdGVQcm92aWRlcigpLnNldERhdGEoLi4uZSl9c2hvdygpe2xldCBlPXRoaXM7aWYoXCJ2aXNpYmlsaXR5XCIhPT1lLmhpZGVNb2RlKWRlbGV0ZSBlLnZkb20ucmVtb3ZlRG9tLGUuc2lsZW50VmRvbVVwZGF0ZT9lLm5lZWRzVmRvbVVwZGF0ZT0hMDpcImRvY3VtZW50LmJvZHlcIiE9PWUucGFyZW50SWQ/KGUucGFyZW50LnVwZGF0ZURlcHRoPTIsZS5wYXJlbnQudXBkYXRlKCkpOiFlLm1vdW50ZWQmJmUucmVuZGVyKCEwKTtlbHNle2xldCB0PWUuc3R5bGU7ZGVsZXRlIHQudmlzaWJpbGl0eSxlLnN0eWxlPXR9ZS5faGlkZGVuPSExfXN5bmNWZG9tSWRzKGU9dGhpcy52bm9kZSx0PXRoaXMudmRvbSxvPSExKXtwLnN5bmNWZG9tSWRzKGUsdCxvKX1zeW5jVm5vZGVUcmVlKGU9dGhpcy52bm9kZSl7bGV0IHQsbj10aGlzLGQ9by5nZXRDaGlsZHJlbihuKSxpPSExLHI9e307bi5zeW5jVmRvbUlkcygpLGUmJm4uaWQhPT1lLmlkJiZvLnJlZ2lzdGVyV3JhcHBlck5vZGUoZS5pZCxuKSxkLmZvckVhY2goZT0+e3Q9bS5maW5kKG4udm5vZGUsZS52ZG9tLmlkKT8udm5vZGUsdCYmKHJbZS5pZF09dCxlLmlkIT09dC5pZCYmby5yZWdpc3RlcldyYXBwZXJOb2RlKHQuaWQsZSkpfSksZC5mb3JFYWNoKGU9Pnt0PXJbZS5pZF0sdD8oZS5fdm5vZGU9by5hZGRWbm9kZUNvbXBvbmVudFJlZmVyZW5jZXModCxlLmlkKSxlLnJlbmRlcmVkfHwoZS5fcmVuZGVyZWQ9ITAsZS5maXJlKFwicmVuZGVyZWRcIixlLmlkKSksZS5tb3VudGVkPSEwKTpjb25zb2xlLndhcm4oXCJzeW5jVm5vZGVUcmVlOiBDb3VsZCBub3QgcmVwbGFjZSB0aGUgY2hpbGQgdm5vZGUgZm9yXCIsZS5pZCl9KSxuLl92bm9kZT1lP28uYWRkVm5vZGVDb21wb25lbnRSZWZlcmVuY2VzKGUsbi5pZCk6bnVsbH10b2dnbGVDbHMoZSx0KXtsZXQgbz10aGlzLmNscztyLnRvZ2dsZShvLGUsdCksdGhpcy5jbHM9b311bm1vdW50KCl7bGV0IGU9dGhpcztlLnZkb20ucmVtb3ZlRG9tPSEwLGUuX2hpZGRlbj0hMCxlLm1vdW50ZWQ9ITEsTmVvLmFwcGx5RGVsdGFzKGUuYXBwTmFtZSx7YWN0aW9uOlwicmVtb3ZlTm9kZVwiLGlkOmUudmRvbS5pZH0pfXVwKGUpe3JldHVybiBvLnVwKHRoaXMuaWQsZSl9dXBkYXRlKCl7dGhpcy5hZnRlclNldFZkb20odGhpcy52ZG9tLG51bGwpfXVwZGF0ZVN0eWxlKCl7bGV0IGU9dGhpcyx7dmRvbTp0fT1lLG89ZS5nZXRWZG9tUm9vdCgpO3QhPT1vPyh0LnN0eWxlPWUud3JhcHBlclN0eWxlLG8uc3R5bGU9ZS5zdHlsZSk6dC5zdHlsZT17Li4uZS53cmFwcGVyU3R5bGUsLi4uZS5zdHlsZX0sZS51cGRhdGUoKX11cGRhdGVWZG9tKGUsdCl7bGV0IG89dGhpcyx7YXBwOm4sbW91bnRlZDpkLHBhcmVudElkOmksdm5vZGU6cn09bztvLmlzVmRvbVVwZGF0aW5nfHxvLnNpbGVudFZkb21VcGRhdGU/KGUmJm8ucmVzb2x2ZVVwZGF0ZUNhY2hlLnB1c2goZSksby5uZWVkc1Zkb21VcGRhdGU9ITApOmR8fCFvLmlzQ29uc3RydWN0ZWR8fG8uaGFzUmVuZGVyaW5nTGlzdGVuZXJ8fCEwIT09bj8ucmVuZGVyaW5nPyghZXx8ZCYmcnx8by5yZXNvbHZlVXBkYXRlQ2FjaGUucHVzaChlKSwhby5uZWVkc1BhcmVudFVwZGF0ZShpLGUpJiYhby5pc1BhcmVudFVwZGF0aW5nKGksZSkmJmQmJnImJigwIT09Zy5jb3VudExvYWRpbmdUaGVtZUZpbGVzP2cub24oXCJ0aGVtZUZpbGVzTG9hZGVkXCIsZnVuY3Rpb24oKXtvLnVwZGF0ZVZkb20oZSx0KX0sbyx7b25jZTohMH0pOm8uI2UoZSx0KSkpOihvLmhhc1JlbmRlcmluZ0xpc3RlbmVyPSEwLG4ub24oXCJtb3VudGVkXCIsKCk9PntvLnRpbWVvdXQoNTApLnRoZW4oKCk9PntvLnZub2RlJiZvLnVwZGF0ZVZkb20oZSx0KX0pfSxvLHtvbmNlOiEwfSkpLG8uaGFzVW5tb3VudGVkVmRvbUNoYW5nZXM9IWQmJm8uaGFzQmVlbk1vdW50ZWR9YXN5bmMgd2FpdEZvckRvbVJlY3Qoe2FwcE5hbWU6ZT10aGlzLmFwcE5hbWUsYXR0ZW1wdHM6dD0xMCxkZWxheTpvPTUwLGlkOm49dGhpcy5pZH0pe2xldCBkPXRoaXMsaT1hd2FpdCBkLmdldERvbVJlY3QobixlKSxyPSExO3JldHVybiBBcnJheS5pc0FycmF5KGkpP2kuZm9yRWFjaChlPT57KGUuaGVpZ2h0PDF8fGUud2lkdGg8MSkmJihyPSEwKX0pOihpLmhlaWdodDwxfHxpLndpZHRoPDEpJiYocj0hMCksciYmdD4wPyhhd2FpdCBkLnRpbWVvdXQobyksYXdhaXQgZC53YWl0Rm9yRG9tUmVjdCh7YXBwTmFtZTplLGF0dGVtcHRzOnQtMSxkZWxheTpvLGlkOm59KSk6aX19KTsiLCJpbXBvcnR7YnVmZmVyIGFzIGUsZGVib3VuY2UgYXMgdCxpbnRlcmNlcHQgYXMgcyxyZXNvbHZlQ2FsbGJhY2sgYXMgcix0aHJvdHRsZSBhcyBpfWZyb21cIi4uL3V0aWwvRnVuY3Rpb24ubWpzXCI7aW1wb3J0IG8gZnJvbVwiLi9JZEdlbmVyYXRvci5tanNcIjtjb25zdCBuPVN5bWJvbC5mb3IoXCJjb25maWdTeW1ib2xcIiksYT1TeW1ib2woXCJmb3JjZUFzc2lnbkNvbmZpZ3NcIiksYz1TeW1ib2woXCJpc0luc3RhbmNlXCIpO2NsYXNzIGx7c3RhdGljIGRlbGF5YWJsZT17fTtzdGF0aWMgaW5zdGFuY2VNYW5hZ2VyQXZhaWxhYmxlPSExO3N0YXRpYyBtZXRob2ROYW1lUmVnZXg9L1xcbi4qXFxuXFxzK2F0XFxzKy4qXFwuKFxcdyspXFxzKy4qLztzdGF0aWMgb2JzZXJ2YWJsZT0hMTtzdGF0aWMgb3ZlcndyaXR0ZW5NZXRob2RzPXt9O3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5jb3JlLkJhc2VcIixudHlwZTpcImJhc2VcIixkZWxheWFibGU6bnVsbCxpZF86bnVsbCxpc0NvbnN0cnVjdGVkOiExLGlzUmVhZHlfOiExLG1peGluczpudWxsLG1vZHVsZTpudWxsLHJlbW90ZV86bnVsbH07I2U9W107Y29uc3RydWN0KGU9e30pe2xldCB0PXRoaXM7T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCx7W25dOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx2YWx1ZTp7fSx3cml0YWJsZTohMH0sW2NdOntlbnVtZXJhYmxlOiExLHZhbHVlOiEwfX0pLHQuY3JlYXRlSWQoZS5pZHx8dC5pZCksZGVsZXRlIGUuaWQsdC5jb25zdHJ1Y3Rvci5jb25maWcmJmRlbGV0ZSB0LmNvbnN0cnVjdG9yLmNvbmZpZy5pZCx0LmdldFN0YXRpY0NvbmZpZyhcIm9ic2VydmFibGVcIikmJnQuaW5pdE9ic2VydmFibGUoZSksZT10LnNldEZpZWxkcyhlKSx0LmluaXRDb25maWcoZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJjb25maWdzQXBwbGllZFwiLHtlbnVtZXJhYmxlOiExLHZhbHVlOiEwfSksdC5hcHBseURlbGF5YWJsZSgpLHModCxcImRlc3Ryb3lcIix0LmlzRGVzdHJveWVkQ2hlY2ssdCksUHJvbWlzZS5yZXNvbHZlKCkudGhlbihhc3luYygpPT57YXdhaXQgdC5pbml0QXN5bmMoKSx0LmlzUmVhZHk9ITB9KX1hZnRlclNldElkKGUsdCl7bGV0IHM9dGhpcyxyPSEwPT09bC5pbnN0YW5jZU1hbmFnZXJBdmFpbGFibGU7dCYmKHI/TmVvLm1hbmFnZXIuSW5zdGFuY2UudW5yZWdpc3Rlcih0KTpkZWxldGUgTmVvLmlkTWFwW3RdKSxlJiYocj9OZW8ubWFuYWdlci5JbnN0YW5jZS5yZWdpc3RlcihzKTooTmVvLmlkTWFwPU5lby5pZE1hcHx8e30sTmVvLmlkTWFwW3MuaWRdPXMpKX1hcHBseURlbGF5YWJsZSgpe2xldCBzPXRoaXMscj1zLmNvbnN0cnVjdG9yLmRlbGF5YWJsZSxvPXMuZGVsYXlhYmxlP05lby5tZXJnZSh7fSxzLmRlbGF5YWJsZSxyKTpyO09iamVjdC5lbnRyaWVzKG8pLmZvckVhY2goKFtyLG9dKT0+e2lmKG8pe2xldCBuPXtidWZmZXIoKXtzW3JdPW5ldyBlKHNbcl0scyxvLnRpbWVyKX0sZGVib3VuY2UoKXtzW3JdPW5ldyB0KHNbcl0scyxvLnRpbWVyKX0sdGhyb3R0bGUoKXtzW3JdPW5ldyBpKHNbcl0scyxvLnRpbWVyKX19O25bby50eXBlXT8uKCl9fSl9c3RhdGljIGFwcGx5T3ZlcndyaXRlcyhlKXtsZXQgdCxzLHI9TmVvLm5zKGUuY2xhc3NOYW1lLCExLE5lby5vdmVyd3JpdGVzKTtpZihyKXtmb3IocyBpbiByKU5lby5pc0Z1bmN0aW9uKHJbc10pJiYodD10aGlzLnByb3RvdHlwZSx0W3NdJiYodC5jb25zdHJ1Y3Rvci5vdmVyd3JpdHRlbk1ldGhvZHNbc109dFtzXSkpO09iamVjdC5hc3NpZ24oZSxyKX19YmVmb3JlU2V0RW51bVZhbHVlKGUsdCxzLHI9cytcInNcIil7bGV0IGk9QXJyYXkuaXNBcnJheShyKT9yOnRoaXMuZ2V0U3RhdGljQ29uZmlnKHIpO3JldHVybiBpLmluY2x1ZGVzKGUpP2U6KGNvbnNvbGUuZXJyb3IoYFN1cHBvcnRlZCB2YWx1ZXMgZm9yICR7c30gYXJlOmAsLi4uaSx0aGlzKSx0KX1iZWZvcmVTZXRSZW1vdGUoZSx0KXtsZXQgcz10aGlzO2lmKGUmJiFzLnNpbmdsZXRvbiYmIXMuaXNNYWluVGhyZWFkQWRkb24pdGhyb3cgbmV3IEVycm9yKFwiUmVtb3RlIG1ldGhvZCBhY2Nlc3MgaXMgb25seSBmdW5jdGlvbmFsIGZvciBTaW5nbGV0b24gY2xhc3NlcyBcIitzLmNsYXNzTmFtZSk7cmV0dXJuIGV9YmluZENhbGxiYWNrKGUsdCxzPXRoaXMsaT10aGlzKXtpZihlJiZOZW8uaXNTdHJpbmcoZSkpe2NvbnN0IG89cihlLHMpO2lbdF09by5mbi5iaW5kKG8uc2NvcGUpfX1jYWxsT3ZlcndyaXR0ZW4oLi4uZSl7bGV0IHQ9KG5ldyBFcnJvcikuc3RhY2subWF0Y2gobC5tZXRob2ROYW1lUmVnZXgpWzFdO3RoaXMuX19wcm90b19fLmNvbnN0cnVjdG9yLm92ZXJ3cml0dGVuTWV0aG9kc1t0XS5jYWxsKHRoaXMsLi4uZSl9Y3JlYXRlSWQoZSl7dGhpcy5pZD1lfHxvLmdldElkKHRoaXMuZ2V0SWRLZXkoKSl9ZGVzdHJveSgpe2xldCBlPXRoaXM7ZS4jZS5mb3JFYWNoKGU9PntjbGVhclRpbWVvdXQoZSl9KSwhMD09PWwuaW5zdGFuY2VNYW5hZ2VyQXZhaWxhYmxlP05lby5tYW5hZ2VyLkluc3RhbmNlLnVucmVnaXN0ZXIoZSk6TmVvLmlkTWFwJiZkZWxldGUgTmVvLmlkTWFwW2UuaWRdLE9iamVjdC5rZXlzKGUpLmZvckVhY2godD0+e09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS53cml0YWJsZSYmXCJkZXN0cm95XCIhPT10JiZcIl9pZFwiIT09dCYmZGVsZXRlIGVbdF19KSxOZW8uaXNGdW5jdGlvbihlLmZpcmUpJiYoZS5maXJlPU5lby5lbXB0eUZuKSxlLmlzRGVzdHJveWVkPSEwfWdldElkS2V5KCl7cmV0dXJuIHRoaXMubnR5cGV9Z2V0U3RhdGljQ29uZmlnKGUpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yW2VdfWhhc050eXBlKGUpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLm50eXBlQ2hhaW4uaW5jbHVkZXMoZSl9aW5pdCgpe31hc3luYyBpbml0QXN5bmMoKXt0aGlzLnJlbW90ZSYmdGhpcy5pbml0UmVtb3RlKCl9aW5pdENvbmZpZyhlLHQpe2xldCBzPXRoaXM7cy5pc0NvbmZpZ3VyaW5nPSEwLE9iamVjdC5hc3NpZ24oc1tuXSxzLm1lcmdlQ29uZmlnKGUsdCkpLHMucHJvY2Vzc0NvbmZpZ3MoKSxzLmlzQ29uZmlndXJpbmc9ITF9aW5pdFJlbW90ZSgpe2xldHtjbGFzc05hbWU6ZSxyZW1vdGU6dH09dGhpcyx7Y3VycmVudFdvcmtlcjpzfT1OZW87TmVvLmNvbmZpZy51bml0VGVzdE1vZGV8fChcIm1haW5cIiE9PU5lby53b3JrZXJJZCYmcy5pc1NoYXJlZFdvcmtlciYmIXMuaXNDb25uZWN0ZWQ/cy5vbihcImNvbm5lY3RlZFwiLCgpPT57bC5zZW5kUmVtb3RlcyhlLHQpfSx0aGlzLHtvbmNlOiEwfSk6bC5zZW5kUmVtb3RlcyhlLHQpKX1pc0Rlc3Ryb3llZENoZWNrKCl7cmV0dXJuIXRoaXMuaXNEZXN0cm95ZWR9bWVyZ2VDb25maWcoZSx0KXtsZXQgcz10aGlzLHI9cy5jb25zdHJ1Y3RvcjtpZighci5jb25maWcpdGhyb3cgbmV3IEVycm9yKFwiTmVvLmFwcGx5Q2xhc3NDb25maWcgaGFzIG5vdCBiZWVuIHJ1biBvbiBcIitzLmNsYXNzTmFtZSk7cmV0dXJuIHR8fChzLm9yaWdpbmFsQ29uZmlnPU5lby5jbG9uZShlLCEwLCEwKSksey4uLnIuY29uZmlnLC4uLmV9fW9uQWZ0ZXJDb25zdHJ1Y3RlZCgpe2xldCBlPXRoaXM7ZS5pc0NvbnN0cnVjdGVkPSEwLGUuZ2V0U3RhdGljQ29uZmlnKFwib2JzZXJ2YWJsZVwiKSYmZS5maXJlKFwiY29uc3RydWN0ZWRcIixlKX1vbkNvbnN0cnVjdGVkKCl7fXBhcnNlSXRlbUNvbmZpZ3MoZSl7bGV0IHQscyxyLGksbz10aGlzO2UmJihBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pLGUuZm9yRWFjaChlPT57ZSYmT2JqZWN0LmVudHJpZXMoZSkuZm9yRWFjaCgoW2EsY10pPT57QXJyYXkuaXNBcnJheShjKT9vLnBhcnNlSXRlbUNvbmZpZ3MoYyk6XCJzdHJpbmdcIj09dHlwZW9mIGMmJmMuc3RhcnRzV2l0aChcIkBjb25maWc6XCIpJiYocz1jLnN1YnN0cmluZyg4KS50cmltKCkuc3BsaXQoXCIuXCIpLHI9cy5wb3AoKSx0PU5lby5ucyhzLCExLG8pLHZvaWQgMD09PXRbcl0/Y29uc29sZS5lcnJvcihcIlRoZSB1c2VkIEBjb25maWcgZG9lcyBub3QgZXhpc3Q6XCIscixzLmpvaW4oXCIuXCIpKTooaT1OZW8ubnMocywhMSxvW25dKSxpJiZPYmplY3QuaGFzT3duKGkscik/ZVthXT1pW3JdOmVbYV09dFtyXSkpfSl9KSl9cHJvY2Vzc0NvbmZpZ3MoZT0hMSl7bGV0IHQ9dGhpcyxzPU9iamVjdC5rZXlzKHRbbl0pO3RbYV09ZSxzLmxlbmd0aD4wJiYoIWUmJnQuaGFzT3duUHJvcGVydHkoc1swXSl8fCh0W3NbMF1dPXRbbl1bc1swXV0pLGRlbGV0ZSB0W25dW3NbMF1dLHQucHJvY2Vzc0NvbmZpZ3MoZSkpfXN0YXRpYyBzZW5kUmVtb3RlcyhlLHQpe2xldCBzO09iamVjdC5lbnRyaWVzKHQpLmZvckVhY2goKFt0LHJdKT0+e05lby53b3JrZXJJZCE9PXQmJihzPVwibWFpblwiPT09TmVvLndvcmtlcklkP05lby53b3JrZXIuTWFuYWdlcjpOZW8uY3VycmVudFdvcmtlcixzLnNlbmRNZXNzYWdlKHQse2FjdGlvbjpcInJlZ2lzdGVyUmVtb3RlXCIsY2xhc3NOYW1lOmUsbWV0aG9kczpyfSkpfSl9c2V0KGU9e30pe2xldCB0PXRoaXM7ZT10LnNldEZpZWxkcyhlKSwhMCE9PXRbYV0mJk9iamVjdC5rZXlzKHRbbl0pLmxlbmd0aD4wJiZ0LnByb2Nlc3NDb25maWdzKCksT2JqZWN0LmFzc2lnbih0W25dLGUpLHQucHJvY2Vzc0NvbmZpZ3MoITApfXNldEZpZWxkcyhlKXtsZXQgdD10aGlzLHM9dC5jb25zdHJ1Y3Rvci5jb25maWc7cmV0dXJuIE9iamVjdC5lbnRyaWVzKGUpLmZvckVhY2goKFtyLGldKT0+e3MuaGFzT3duUHJvcGVydHkocil8fE5lby5oYXNQcm9wZXJ0eVNldHRlcih0LHIpfHwodFtyXT1pLGRlbGV0ZSBlW3JdKX0pLGV9c2V0U3RhdGljQ29uZmlnKGUsdCl7bGV0IHM9dGhpcy5jb25zdHJ1Y3Rvci5zdGF0aWNDb25maWc7cmV0dXJuISFzLmhhc093blByb3BlcnR5KGUpJiYoc1tlXT10LCEwKX10aW1lb3V0KGUpe3JldHVybiBuZXcgUHJvbWlzZSh0PT57bGV0IHM9dGhpcy4jZSxyPXNldFRpbWVvdXQoKCk9PntzLnNwbGljZShzLmluZGV4T2YociksMSksdCgpfSxlKTtzLnB1c2gocil9KX1nZXRbU3ltYm9sLnRvU3RyaW5nVGFnXSgpe3JldHVybmAke3RoaXMuY2xhc3NOYW1lfSAoaWQ6ICR7dGhpcy5pZH0pYH1zdGF0aWNbU3ltYm9sLmhhc0luc3RhbmNlXShlKXtyZXR1cm4hIWUmJighMD09PWVbY10mJnN1cGVyW1N5bWJvbC5oYXNJbnN0YW5jZV0oZSkpfX1leHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhsKTsiLCJleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzc3tzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uY29yZS5JZEdlbmVyYXRvclwiLG50eXBlOlwiaWQtZ2VuZXJhdG9yXCIsYmFzZTpcIm5lby1cIixzaW5nbGV0b246ITB9O2NvbnN0cnVjdChlKXtsZXQgdD10aGlzO3QuaWRDb3VudGVyPXt9LE5lby5nZXRJZD10LmdldElkLmJpbmQodCl9Z2V0SWQoZSl7ZT1lfHxcIm5lb1wiO2xldCB0PXRoaXMuaWRDb3VudGVyLG49dFtlXXx8MDtyZXR1cm4gdFtlXT0rK24sdGhpcy5iYXNlKyhcIm5lb1wiPT09ZT9cIlwiOmUrXCItXCIpK259aW5pdCgpe31vbkFmdGVyQ29uc3RydWN0ZWQoKXt9b25Db25zdHJ1Y3RlZCgpe319KTsiLCJpbXBvcnQgZSBmcm9tXCIuL0Jhc2UubWpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vdXRpbC9BcnJheS5tanNcIjtpbXBvcnR7cmVzb2x2ZUNhbGxiYWNrIGFzIHR9ZnJvbVwiLi4vdXRpbC9GdW5jdGlvbi5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGV7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmNvcmUuT2JzZXJ2YWJsZVwiLG50eXBlOlwibWl4aW4tb2JzZXJ2YWJsZVwiLG1peGluOiEwfTthZGRMaXN0ZW5lcihlLHMsdCxvLHIsbil7bGV0IGksYyxsLGE9dGhpcyxkPTAscD1cIm9iamVjdFwiPT10eXBlb2YgZSxmPSExLHU9dHlwZW9mIHM7aWYoXCJvYmplY3RcIj09dHlwZW9mIG8mJlwiZnVuY3Rpb25cIj09PXUmJihvLmZuPXMscz1vLHU9XCJvYmplY3RcIixvPW51bGwpLHApZS5oYXNPd25Qcm9wZXJ0eShcImRlbGF5XCIpJiYoZD1lLmRlbGF5LGRlbGV0ZSBlLmRlbGF5KSxlLmhhc093blByb3BlcnR5KFwib25jZVwiKSYmKGY9ZS5vbmNlLGRlbGV0ZSBlLm9uY2UpLGUuaGFzT3duUHJvcGVydHkoXCJvcmRlclwiKSYmKG49ZS5vcmRlcixkZWxldGUgZS5vcmRlciksZS5oYXNPd25Qcm9wZXJ0eShcInNjb3BlXCIpJiYodD1lLnNjb3BlLGRlbGV0ZSBlLnNjb3BlKSxPYmplY3QuZW50cmllcyhlKS5mb3JFYWNoKChbZSxzXSk9PntOZW8uaXNPYmplY3Qocyk/YS5hZGRMaXN0ZW5lcihlLHtkZWxheTpkLG9uY2U6ZixvcmRlcjpuLHNjb3BlOnQsLi4uc30pOmEuYWRkTGlzdGVuZXIoZSx7ZGVsYXk6ZCxmbjpzLG9uY2U6ZixvcmRlcjpuLHNjb3BlOnR9KX0pO2Vsc2UgaWYoXCJvYmplY3RcIj09PXUpZD1kfHxzLmRlbGF5LG89b3x8cy5ldmVudElkLGk9cy5mbixmPWZ8fHMub25jZSxuPW58fHMub3JkZXIsdD10fHxzLnNjb3BlO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT09dSlpPXM7ZWxzZXtpZihcInN0cmluZ1wiIT09dSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFkZExpc3RlbmVyIGNhbGw6IFwiK2UpO2k9c31yZXR1cm4gcD9udWxsOihsPXtmbjppLGlkOm98fE5lby5nZXRJZChcImV2ZW50XCIpfSxyJiYobC5kYXRhPXIpLGQ+MCYmKGwuZGVsYXk9ZCksZiYmKGwub25jZT1mKSx0JiYobC5zY29wZT10KSwoYz1hLmxpc3RlbmVycz8uW2VdKT8oYy5mb3JFYWNoKHM9Pnsocy5pZD09PW98fHMuZm49PT1pJiZzLnNjb3BlPT09dCkmJmNvbnNvbGUuZXJyb3IoXCJEdXBsaWNhdGUgZXZlbnQgaGFuZGxlciBhdHRhY2hlZDpcIixlLGEpfSksXCJudW1iZXJcIj09dHlwZW9mIG4/Yy5zcGxpY2UobiwwLGwpOlwiYmVmb3JlXCI9PT1uP2MudW5zaGlmdChsKTpjLnB1c2gobCkpOmEubGlzdGVuZXJzW2VdPVtsXSxsLmlkKX1jYWxsYmFjayhlLHM9dGhpcyxvKXtpZihlKXtjb25zdCByPXQoZSxzKTtyLmZuLmFwcGx5KHIuc2NvcGUsbyl9fWRlbGF5ZWRDYWxsYmFjayhlLHMsdCl7dGhpcy50aW1lb3V0KHQpLnRoZW4oKCk9PntlLmZuLmFwcGx5KGUuc2NvcGUscyl9KX1maXJlKGUpe2xldCBvLHIsbixpLGMsbD10aGlzLGE9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSksZD1sLmxpc3RlbmVycztpZihkJiZkW2VdKWZvcihuPVsuLi5kW2VdXSxjPW4ubGVuZ3RoLGk9MDtpPGM7aSsrKXtyPW5baV0sbz1yLmRlbGF5O2NvbnN0IGM9dChyLmZuLHIuc2NvcGV8fGwpO2Muc2NvcGUmJiFjLnNjb3BlLmlkP3MucmVtb3ZlKGRbZV0scik6bC5zdXNwZW5kRXZlbnRzfHwoMT09PWEubGVuZ3RoJiZOZW8uaXNPYmplY3QoYVswXSkmJihhWzBdLnNvdXJjZT1sLmlkKSxyLm9uY2UmJnMucmVtb3ZlKGRbZV0sciksTmVvLmlzTnVtYmVyKG8pJiZvPjA/bC5kZWxheWVkQ2FsbGJhY2soYyxyLmRhdGE/YS5jb25jYXQoci5kYXRhKTphLG8pOmMuZm4uYXBwbHkoYy5zY29wZSxyLmRhdGE/YS5jb25jYXQoci5kYXRhKTphKSl9fWluaXRPYnNlcnZhYmxlKGUpe2xldCBzLHQ9dGhpcyxvPXQuX19wcm90b19fLHI9by5jb25zdHJ1Y3Rvcjtmb3IoZS5saXN0ZW5lcnMmJih0Lmxpc3RlbmVycz1lLmxpc3RlbmVycyxkZWxldGUgZS5saXN0ZW5lcnMpLHM9dC5saXN0ZW5lcnMsdC5saXN0ZW5lcnM9e30scyYmKE5lby5pc09iamVjdChzKSYmKHM9ey4uLnN9KSx0LmFkZExpc3RlbmVyKHMpKTtvPy5jb25zdHJ1Y3Rvci5pc0NsYXNzOylyPW8uY29uc3RydWN0b3Isci5vYnNlcnZhYmxlJiYhci5saXN0ZW5lcnMmJk9iamVjdC5hc3NpZ24ocix7YWRkTGlzdGVuZXI6dC5hZGRMaXN0ZW5lcixmaXJlOnQuZmlyZSxsaXN0ZW5lcnM6e30sb246dC5vbixyZW1vdmVMaXN0ZW5lcjp0LnJlbW92ZUxpc3RlbmVyLHVuOnQudW59KSxvPW8uX19wcm90b19ffW9uKC4uLmUpe3JldHVybiB0aGlzLmFkZExpc3RlbmVyKC4uLmUpfXJlbW92ZUxpc3RlbmVyKGUscyx0KXtsZXQgbyxyLG4saSxjLGw9dGhpcztOZW8uaXNGdW5jdGlvbihzKT9sLnJlbW92ZUxpc3RlbmVyKHtbZV06cyxzY29wZTp0fSk6TmVvLmlzT2JqZWN0KGUpPyhlLnNjb3BlJiYodD1lLnNjb3BlLGRlbGV0ZSBlLnNjb3BlKSxPYmplY3QuZW50cmllcyhlKS5mb3JFYWNoKChbZSxzXSk9Pntmb3IoaT1sLmxpc3RlbmVyc1tlXXx8W10sbz0wLHI9aS5sZW5ndGg7bzxyO28rKylpZihuPWlbb10sbi5mbi5uYW1lPT09KE5lby5pc1N0cmluZyhzKT9zOnMubmFtZSkmJm4uc2NvcGU9PT10KXtpLnNwbGljZShvLDEpO2JyZWFrfX0pKTpOZW8uaXNTdHJpbmcocykmJihpPWwubGlzdGVuZXJzW2VdLGM9ITEsaS5mb3JFYWNoKChlLHQpPT57aWYoZS5pZD09PXMpcmV0dXJuIGM9dH0pLCExIT09YyYmaS5zcGxpY2UoYywxKSl9dW4oLi4uZSl7dGhpcy5yZW1vdmVMaXN0ZW5lciguLi5lKX19KTsiLCJpbXBvcnQgZSBmcm9tXCIuLi9jb2xsZWN0aW9uL0Jhc2UubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBle3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5tYW5hZ2VyLkJhc2VcIn07Z2V0QnlJZChlKXtyZXR1cm4gZSYmdGhpcy5nZXQoZSl8fG51bGx9cmVnaXN0ZXIoZSl7bGV0IHQ9dGhpczt0LmdldChlLmlkKT9OZW8ubG9nRXJyb3IoXCJUcnlpbmcgdG8gY3JlYXRlIGFuIGl0ZW0gd2l0aCBhbiBhbHJlYWR5IGV4aXN0aW5nIGlkXCIsZSx0LmdldChlLmlkKSk6dC5wdXNoKGUpfXVucmVnaXN0ZXIoZSl7dGhpcy5yZW1vdmUoZSl9fSk7IiwiaW1wb3J0IGUgZnJvbVwiLi9CYXNlLm1qc1wiO2ltcG9ydCB0IGZyb21cIi4uL3V0aWwvVkRvbS5tanNcIjtpbXBvcnQgciBmcm9tXCIuLi91dGlsL1ZOb2RlLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgZXtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8ubWFuYWdlci5Db21wb25lbnRcIixzaW5nbGV0b246ITB9O3dyYXBwZXJOb2Rlcz1uZXcgTWFwO2NvbnN0cnVjdChlKXtzdXBlci5jb25zdHJ1Y3QoZSk7bGV0IHQ9dGhpcztOZW8uZmlyc3Q9dC5nZXRGaXJzdC5iaW5kKHQpLE5lby5nZXRDb21wb25lbnQ9dC5nZXQuYmluZCh0KX1hZGRWbm9kZUNvbXBvbmVudFJlZmVyZW5jZXMoZSxyKXtlPXsuLi5lfTtsZXQgbixvLHMsaSxkLHA9dGhpcyxoPWU/LmNoaWxkTm9kZXM/Wy4uLmUuY2hpbGROb2Rlc106W107cmV0dXJuIGUuY2hpbGROb2Rlcz1oLGguZm9yRWFjaCgoZSxsKT0+e249ZS5pZCxlLmNvbXBvbmVudElkfHxuPT09cnx8KG89cC5nZXQobiksb3x8KG89cC53cmFwcGVyTm9kZXMuZ2V0KG4pLG8mJihzPW8uaWQsaT10LmZpbmQoby5wYXJlbnQudmRvbSx7Y29tcG9uZW50SWQ6c30sITEpLGkmJihpLnZkb20uaWQ9bikpKSxvJiYocz1vLmlkLGQ9e2NvbXBvbmVudElkOnN9LHMhPT1uJiYoZC5pZD1uKSkpLGhbbF09bz9kOnAuYWRkVm5vZGVDb21wb25lbnRSZWZlcmVuY2VzKGUscil9KSxlfWRvd24oZSx0LHI9ITApe05lby5pc1N0cmluZyhlKSYmKGU9dGhpcy5nZXRCeUlkKGUpKTtsZXQgbixvLHMsaSxkPXRoaXMscD1bXSxoPW51bGwsbD0wLHU9W107aWYoTmVvLmlzU3RyaW5nKHQpP3Q9e250eXBlOnR9OnR8fCh0PXt9KSxvPU9iamVjdC5lbnRyaWVzKHQpLHM9by5sZW5ndGgsby5mb3JFYWNoKChbdCxyXSk9PnsoZVt0XT09PXJ8fFwibnR5cGVcIj09PXQmJmQuaGFzUHJvdG90eXBlUHJvcGVydHlWYWx1ZShlLHQscikpJiZwLnB1c2goITApfSkscC5sZW5ndGg9PT1zKXtpZihyKXJldHVybiBlO3UucHVzaChlKX1mb3Iobj1kLmZpbmQoe3BhcmVudElkOmUuaWR9KSxpPW4ubGVuZ3RoO2w8aTtsKyspaWYoaD1kLmRvd24obltsXSx0LHIpLHIpe2lmKG51bGwhPT1oKXJldHVybiBofWVsc2UgaC5sZW5ndGg+MCYmdS5wdXNoKC4uLmgpO3JldHVybiByP251bGw6dX1maW5kUGFyZW50Q29tcG9uZW50KGUpe2xldCB0LHI9dGhpcyxuPTAsbz1lPy5sZW5ndGh8fDA7Zm9yKDtuPG87bisrKWlmKHQ9ZVtuXSx0JiZyLmhhcyh0KSlyZXR1cm4gdDtyZXR1cm4gbnVsbH1nZXQoZSx0PSEwKXtpZih0KXtsZXQgdD10aGlzLndyYXBwZXJOb2Rlcy5nZXQoZSk7aWYodClyZXR1cm4gdH1yZXR1cm4gc3VwZXIuZ2V0KGUpfWdldENoaWxkQ29tcG9uZW50cyhlKXtsZXQgdCxyPXRoaXMsbj1yLmZpbmQoXCJwYXJlbnRJZFwiLGUuaWQpfHxbXSxvPVtdO3JldHVybiBuLmZvckVhY2goZT0+e28ucHVzaChlKSx0PXIuZ2V0Q2hpbGRDb21wb25lbnRzKGUpLHQmJm8ucHVzaCguLi50KX0pLG99Z2V0Q2hpbGRJZHMoZSx0PVtdKXtyZXR1cm4gci5nZXRDaGlsZElkcyhlLHQpfWdldENoaWxkcmVuKGUpe2xldCB0LG49W107cmV0dXJuIHIuZ2V0Q2hpbGRJZHMoZS52bm9kZSkuZm9yRWFjaChlPT57dD10aGlzLmdldChlKSx0JiZuLnB1c2godCl9KSxufWdldEZpcnN0KGUsdD0hMCl7bGV0IHI9W10sbj1OZW8uYXBwc1tPYmplY3Qua2V5cyhOZW8uYXBwcylbMF1dLm1haW5WaWV3O2lmKE5lby5pc1N0cmluZyhlKSl7Y29uc3QgdD0vKFxcdyopKFxcW1teXFxdXSpcXF0pfChcXHcqKS9nO2xldCBuO2Zvcig7bj10LmV4ZWMoZSk7KXtsZXQgZSxbLG8scyxpXT1uO2lmKG89b3x8aSxlPXtudHlwZTpvfSxzKXtjb25zdCB0PS9cXFsoLio/KVxcXS8scj1zLm1hdGNoKHQpO2lmKHIpe3JbMV0uc3BsaXQoXCIsXCIpLmZvckVhY2godD0+e2NvbnN0W3Isbl09dC5zcGxpdChcIj1cIik7ZVtyXT1uLnJlcGxhY2UoL1wiL2csXCJcIil9KX19ci5wdXNoKGUpLHQubGFzdEluZGV4Kyt9fWVsc2UgTmVvLmlzT2JqZWN0KGUpP3IucHVzaChlKTpOZW8uaXNBcnJheShlKSYmKHI9ZSk7cmV0dXJuIHIucmVkdWNlKChlLHIpPT57aWYoZSl7bGV0IG49ZS5kb3duKHIsdCk7aWYobilyZXR1cm4gbn1yZXR1cm4gbnVsbH0sbil9Z2V0UGFyZW50SWRzKGUpe2xldCB0PVtdO2Zvcig7ZT8ucGFyZW50SWQ7KShlPXRoaXMuZ2V0KGUucGFyZW50SWQpKSYmdC5wdXNoKGUuaWQpO3JldHVybiB0fWdldFBhcmVudFBhdGgoZSl7bGV0IHQ9dGhpcyxyPVtdLG49MCxvPWU/Lmxlbmd0aHx8MDtmb3IoO248bztuKyspKHQuaGFzKGVbbl0pfHx0LndyYXBwZXJOb2Rlcy5nZXQoZVtuXSkpJiZyLnB1c2goZVtuXSk7cmV0dXJuIHJ9Z2V0UGFyZW50cyhlKXtOZW8uaXNTdHJpbmcoZSkmJihlPXRoaXMuZ2V0KGUpKTtsZXQgdD1bXTtmb3IoO2U/LnBhcmVudElkOykoZT10aGlzLmdldChlLnBhcmVudElkKSkmJnQucHVzaChlKTtyZXR1cm4gdH1nZXRWZG9tVHJlZShlLHQ9LTEpe2xldCByLG49ey4uLmV9O3JldHVybiBlLmNuJiYobi5jbj1bXSxlLmNuLmZvckVhY2goZT0+e3I9dCxlLmNvbXBvbmVudElkJiYocj0tMT09PXQ/LTE6dD4xP3QtMToxLCgtMT09PXR8fHQ+MSkmJihlPXRoaXMuZ2V0KGUuY29tcG9uZW50SWQpLnZkb20pKSxuLmNuLnB1c2godGhpcy5nZXRWZG9tVHJlZShlLHIpKX0pKSxufWdldFZub2RlVHJlZShlLHQ9LTEpe2xldCByLG4sbz17Li4uZX07cmV0dXJuIGUuY2hpbGROb2RlcyYmKG8uY2hpbGROb2Rlcz1bXSxlLmNoaWxkTm9kZXMuZm9yRWFjaChlPT57cj10LGUuY29tcG9uZW50SWQmJihyPS0xPT09dD8tMTp0PjE/dC0xOjEsKC0xPT09dHx8dD4xKSYmKG49dGhpcy5nZXQoZS5jb21wb25lbnRJZCksbj8udm5vZGUmJihlPW4udm5vZGUpKSksby5jaGlsZE5vZGVzLnB1c2godGhpcy5nZXRWbm9kZVRyZWUoZSxyKSl9KSksb31oYXNQcm90b3R5cGVQcm9wZXJ0eVZhbHVlKGUsdCxyKXtmb3IoO251bGwhPT1lOyl7aWYoZS5oYXNPd25Qcm9wZXJ0eSh0KSYmZVt0XT09PXIpcmV0dXJuITA7ZT1lLl9fcHJvdG9fX31yZXR1cm4hMX1yZWdpc3RlcldyYXBwZXJOb2RlKGUsdCl7dGhpcy53cmFwcGVyTm9kZXMuc2V0KGUsdCl9dW5yZWdpc3RlcihlKXtlJiYoTmVvLmlzU3RyaW5nKGUpP3RoaXMud3JhcHBlck5vZGVzLmRlbGV0ZShlKTplLmlkIT09ZS52ZG9tLmlkJiZ0aGlzLndyYXBwZXJOb2Rlcy5kZWxldGUoZS52ZG9tLmlkKSksc3VwZXIudW5yZWdpc3RlcihlKX11cChlLHQscj0hMCl7bGV0IG4sbyxzLGk9dGhpcy5nZXQoZSksZD1bXTtmb3IoTmVvLmlzU3RyaW5nKHQpP3Q9e250eXBlOnR9OnR8fCh0PXt9KSxuPU9iamVjdC5lbnRyaWVzKHQpLG89bi5sZW5ndGg7aT8ucGFyZW50SWQ7KXtpZihpPXRoaXMuZ2V0KGkucGFyZW50SWQpLCFpKXJldHVybiByP251bGw6ZDtpZihzPVtdLG4uZm9yRWFjaCgoW2UsdF0pPT57aVtlXT09PXQmJnMucHVzaCghMCl9KSxzLmxlbmd0aD09PW8pe2lmKHIpcmV0dXJuIGk7ZC5wdXNoKGkpfX19fSk7IiwiaW1wb3J0IGUgZnJvbVwiLi4vY29yZS9CYXNlLm1qc1wiO2ltcG9ydCB0IGZyb21cIi4vQ29tcG9uZW50Lm1qc1wiO2ltcG9ydCBvIGZyb21cIi4vRm9jdXMubWpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vdXRpbC9Mb2dnZXIubWpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vdXRpbC9BcnJheS5tanNcIjtpbXBvcnQgaSBmcm9tXCIuLi91dGlsL1ZEb20ubWpzXCI7Y29uc3Qgcz1bXCJidWJibGVcIixcImRlbGVnYXRlXCIsXCJsb2NhbFwiLFwic2NvcGVcIixcInZub2RlSWRcIl0sZD1bXCJjaGFuZ2VcIixcImNsaWNrXCIsXCJjb250ZXh0bWVudVwiLFwiZGJsY2xpY2tcIixcImRyYWc6ZW5kXCIsXCJkcmFnOm1vdmVcIixcImRyYWc6c3RhcnRcIixcImZvY3VzaW5cIixcImZvY3Vzb3V0XCIsXCJpbnB1dFwiLFwiaW50ZXJzZWN0XCIsXCJrZXlkb3duXCIsXCJrZXl1cFwiLFwibW91c2Vkb3duXCIsXCJtb3VzZWVudGVyXCIsXCJtb3VzZWxlYXZlXCIsXCJtb3VzZXVwXCIsXCJuZW9uYXZpZ2F0ZVwiLFwic2Nyb2xsXCIsXCJzZWxlY3Rpb25jaGFuZ2VcIixcInRvdWNobW92ZVwiLFwid2hlZWxcIl07Y2xhc3MgYSBleHRlbmRzIGV7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLm1hbmFnZXIuRG9tRXZlbnRcIixpdGVtczp7fSxtYXA6e30sc2luZ2xldG9uOiEwfTthZGRSZXNpemVPYnNlcnZlcihlLHQpe05lby5tYWluLmFkZG9uLlJlc2l6ZU9ic2VydmVyfHxjb25zb2xlLmVycm9yKFwiRm9yIHVzaW5nIHJlc2l6ZSBkb21MaXN0ZW5lcnMsIHlvdSBtdXN0IGluY2x1ZGUgbWFpbi5hZGRvbi5SZXNpemVPYnNlcnZlci5cIix0KTtsZXR7aWQ6byx3aW5kb3dJZDpyfT1lO05lby5tYWluLmFkZG9uLlJlc2l6ZU9ic2VydmVyLnJlZ2lzdGVyKHtpZDpvLHdpbmRvd0lkOnJ9KX1maXJlKGUpe2xldCByLG4saSxzLGQ9dGhpcyxsPSEwLG09ZS5kYXRhfHx7fSx7ZXZlbnROYW1lOnV9PWUsYz0wLHA9bnVsbCxnPW0ucGF0aC5tYXAoZT0+ZS5pZCksZj10LmdldFBhcmVudFBhdGgoZyksYj1mLmxlbmd0aDtmb3IoO2M8YiYmKGk9ZltjXSxyPU5lby5nZXRDb21wb25lbnQoaSksciYmIXIuZGlzYWJsZWQpO2MrKyl7aWYocD1kLml0ZW1zW2ldPy5bdV0scCYmQXJyYXkuaXNBcnJheShwKSYmcC5ldmVyeShlPT57bGV0IHQ7cmV0dXJuIGUmJmUuZm4mJihuPVwicmVzaXplXCI9PT11P20uaWQ9PT1yLmlkJiZtLmlkOmQudmVyaWZ5RGVsZWdhdGlvblBhdGgoZSxtLnBhdGgpLCExIT09biYmKHM9ITEsXCJtb3VzZWVudGVyXCIhPT11JiZcIm1vdXNlbGVhdmVcIiE9PXV8fChzPSFhLnZlcmlmeU1vdXNlRW50ZXJMZWF2ZShyLG0sbix1KSksc3x8KG09TmVvLmNsb25lKG0sITAsITApLG0uY29tcG9uZW50PXIsbS5jdXJyZW50VGFyZ2V0PW4sTmVvLmlzU3RyaW5nKGUuZm4pJiZkLmJpbmRDYWxsYmFjayhlLmZuLFwiZm5cIixlLnNjb3BlLGUpLHQ9ZS5mbi5hcHBseShlLnNjb3BlfHxnbG9iYWxUaGlzLFttXSksZS5idWJibGV8fChsPSExKSkpKSwhMSE9PXR9KSxcImZvY3VzaW5cIj09PXV8fFwiZm9jdXNvdXRcIj09PXUpe29bXCJvblwiK05lby5jYXBpdGFsaXplKHUpXSh7Y29tcG9uZW50UGF0aDpmLGRhdGE6bX0pO2JyZWFrfWlmKCFsfHxtLmNhbmNlbEJ1YmJsZSlicmVha31pZihcImNvbnRleHRtZW51XCI9PT11JiZtLmN0cmxLZXkpTmVvLnV0aWw/LkxvZ2dlcj8ub25Db250ZXh0TWVudShtKTtlbHNlIGlmKHUuc3RhcnRzV2l0aChcImRyb3BcIikpe2xldCBlPW0uZHJhZ1pvbmVJZCYmTmVvLmdldChtLmRyYWdab25lSWQpO2UmJihlLmZpcmUodSxtKSxlW3tkcm9wOlwib25Ecm9wXCIsXCJkcm9wOmVudGVyXCI6XCJvbkRyb3BFbnRlclwiLFwiZHJvcDpsZWF2ZVwiOlwib25Ecm9wTGVhdmVcIn1bdV1dLmNhbGwoZSxtKSl9fWdlbmVyYXRlTGlzdGVuZXJDb25maWcoZSx0KXtyZXR1cm57YnViYmxlOmUuYnViYmxlLGRlbGVnYXRlOmUuZGVsZWdhdGUsZXZlbnROYW1lOmUuZXZlbnROYW1lLGlkOnQuaWQsb3B0czplLHByaW9yaXR5OmUucHJpb3JpdHksc2NvcGU6ZS5zY29wZXx8dCx2bm9kZUlkOmUudm5vZGVJZHx8dC52ZG9tLmlkfX1nZXRFdmVudE5hbWUoZSl7bGV0IHQ9bnVsbDtyZXR1cm4gTmVvLmlzT2JqZWN0KGUpJiZPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGU9PntzLmluY2x1ZGVzKGUpfHwodD1lKX0pLHR9Z2V0TGlzdGVuZXIoZSl7bGV0IHQsbz10aGlzLml0ZW1zO2lmKG8/LltlLmlkXSlyZXR1cm4gdD1vW2UuaWRdW2UuZXZlbnROYW1lXSx0fHxudWxsfW1vdW50RG9tTGlzdGVuZXJzKGUpe2xldCB0PXRoaXMuaXRlbXNbZS5pZF0sbz1bXTt0JiYoT2JqZWN0LmVudHJpZXModCkuZm9yRWFjaCgoW3Qscl0pPT57ci5mb3JFYWNoKHI9PntcInJlc2l6ZVwiPT09KHQ9ci5ldmVudE5hbWUpP3RoaXMuYWRkUmVzaXplT2JzZXJ2ZXIoZSxyKTohdHx8IXIubG9jYWwmJmQuaW5jbHVkZXModCl8fG8ucHVzaCh7bmFtZTp0LGhhbmRsZXI6XCJkb21FdmVudExpc3RlbmVyXCIsdm5vZGVJZDpyLnZub2RlSWR9KX0pfSksby5sZW5ndGg+MCYmTmVvLndvcmtlci5BcHAucHJvbWlzZU1lc3NhZ2UoXCJtYWluXCIse2FjdGlvbjpcImFkZERvbUxpc3RlbmVyXCIsYXBwTmFtZTplLmFwcE5hbWUsZXZlbnRzOm8sd2luZG93SWQ6ZS53aW5kb3dJZH0pLnRoZW4oZT0+e30pLmNhdGNoKGU9Pntjb25zb2xlLmxvZyhcIkFwcDogR290IGVycm9yIGF0dGVtcHRpbmcgdG8gYWRkIGEgZG9tTGlzdGVuZXJcIixlKX0pKX1yZWdpc3RlcihlKXtsZXQgdCxvLHIsbixpPSExLHtldmVudE5hbWU6cyxpZDphLG9wdHM6bCxzY29wZTptfT1lLHU9dGhpcy5pdGVtcyxjPXR5cGVvZiBsO3JldHVyblwiZnVuY3Rpb25cIj09PWN8fFwic3RyaW5nXCI9PT1jP3Q9bDoodD1sLmZuLG09bC5zY29wZXx8bSksdVthXXx8KHVbYV09e30pLHVbYV1bc10/KG89dVthXVtzXSxPYmplY3Qua2V5cyhvKS5mb3JFYWNoKHI9PntvW3JdLmZuLnRvU3RyaW5nKCk9PT10LnRvU3RyaW5nKCkmJm9bcl0uc2NvcGU9PT1tJiZvW3JdLmRlbGVnYXRlPT09ZS5kZWxlZ2F0ZSYmKGk9ITApfSkpOnVbYV1bc109W10sITAhPT1pJiYobj1OZW8uZ2V0SWQoXCJkb20tZXZlbnRcIiksZS5saXN0ZW5lcklkPW4scj17YnViYmxlOmUuaGFzT3duUHJvcGVydHkoXCJidWJibGVcIik/ZS5idWJibGU6IWwuaGFzT3duUHJvcGVydHkoXCJidWJibGVcIil8fGwuYnViYmxlLGRlbGVnYXRlOmUuZGVsZWdhdGUsZXZlbnROYW1lOnMsZm46dCxpZDpuLG1vdW50ZWQ6IWUubG9jYWwmJmQuaW5jbHVkZXMocyksb3JpZ2luYWxDb25maWc6ZS5vcmlnaW5hbENvbmZpZyxvd25lcklkOmUub3duZXJJZCxwcmlvcml0eTplLnByaW9yaXR5fHxsLnByaW9yaXR5fHwxLHNjb3BlOm0sdm5vZGVJZDplLnZub2RlSWR9LHRoaXMubWFwW25dPXIsdVthXVtzXS5wdXNoKHIpLHVbYV1bc10uc29ydCgoZSx0KT0+dC5wcmlvcml0eS1lLnByaW9yaXR5KSwhMCl9dW5yZWdpc3RlcihlLHQpe2NvbnNvbGUubG9nKFwidW5yZWdpc3RlclwiLGUpLGNvbnNvbGUubG9nKHRoaXMuZ2VuZXJhdGVMaXN0ZW5lckNvbmZpZyhlLHQpKX11cGRhdGVEb21MaXN0ZW5lcnMoZSx0LG8pe2xldCBpLGQsYSxsPXRoaXMsbT1sLml0ZW1zW2UuaWRdfHx7fTtBcnJheS5pc0FycmF5KHQpPyhBcnJheS5pc0FycmF5KG8pJiZvLmZvckVhY2goZT0+e2lmKCF0LmluY2x1ZGVzKGUpKWZvcihhPW1bbC5nZXRFdmVudE5hbWUoZSldfHxbXSxpPTAsZD1hLmxlbmd0aDtpPGQ7aSsrKWlmKGFbaV0ub3JpZ2luYWxDb25maWc9PT1lKXtuLnJlbW92ZShhLGFbaV0pO2JyZWFrfX0pLHQuZm9yRWFjaCh0PT57T2JqZWN0LmVudHJpZXModCkuZm9yRWFjaCgoW28scl0pPT57cy5pbmNsdWRlcyhvKXx8bC5yZWdpc3Rlcih7YnViYmxlOnQuYnViYmxlfHxyLmJ1YmJsZSxkZWxlZ2F0ZTp0LmRlbGVnYXRlfHxyLmRlbGVnYXRlfHxcIiNcIisoZS52ZG9tLmlkfHxlLmlkKSxldmVudE5hbWU6byxpZDplLnZkb20uaWR8fGUuaWQsb3B0czpyLG9yaWdpbmFsQ29uZmlnOnQsb3duZXJJZDplLmlkLHByaW9yaXR5OnQucHJpb3JpdHl8fHIucHJpb3JpdHl8fDEsc2NvcGU6dC5zY29wZXx8ZSx2bm9kZUlkOnQudm5vZGVJZHx8ci52bm9kZUlkfHxlLnZkb20uaWR9KX0pfSksZS5tb3VudGVkJiZ0Py5sZW5ndGg+MCYmbC50aW1lb3V0KDEwMCkudGhlbigoKT0+e2wubW91bnREb21MaXN0ZW5lcnMoZSl9KSk6ci5sb2dFcnJvcihcIkNvbXBvbmVudC5kb21MaXN0ZW5lcnMgaGF2ZSB0byBiZSBhbiBhcnJheVwiLGUpfXZlcmlmeURlbGVnYXRpb25QYXRoKGUsdCl7bGV0IG8se2RlbGVnYXRlOnJ9PWUsbj0wLGk9dC5sZW5ndGg7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgciluPXIodCksbnVsbCE9biYmKG89dFtuXS5pZCk7ZWxzZXtsZXQgZSxzLGQsYSxsPXIuc3BsaXQoXCIgXCIpO2ZvcihzPWwubGVuZ3RoLTE7cz49MDtzLS0pe2ZvcihlPSExLGQ9bFtzXSxhPWQuc3RhcnRzV2l0aChcIiNcIiksKGF8fGQuc3RhcnRzV2l0aChcIi5cIikpJiYoZD1kLnN1YnN0cigxKSk7bjxpO24rKylpZihhJiZ0W25dLmlkPT09ZHx8dFtuXS5jbHMuaW5jbHVkZXMoZCkpe2U9ITAsbz10W25dLmlkO2JyZWFrfWlmKCFlKXJldHVybiExfX1mb3IoO248aTtuKyspaWYodFtuXS5pZD09PWUudm5vZGVJZClyZXR1cm4gbztyZXR1cm4hMX1zdGF0aWMgdmVyaWZ5TW91c2VFbnRlckxlYXZlKGUsdCxvLHIpe2xldCBuLHM9XCJtb3VzZWVudGVyXCI9PT1yP3QuZnJvbUVsZW1lbnRJZDp0LnRvRWxlbWVudElkO3JldHVybiEocyYmcyE9PW8mJihuPWkuZmluZChlLnZkb20sbyksIW58fG4udmRvbSYmaS5maW5kKG4udmRvbSxzKSkpfX1leHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhhKTsiLCJpbXBvcnQgdCBmcm9tXCIuLi9jb3JlL0Jhc2UubWpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vdXRpbC9BcnJheS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIHR7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLm1hbmFnZXIuRm9jdXNcIixoaXN0b3J5OltdLGxhc3RGb2N1c0luRGF0ZTpudWxsLGxhc3RGb2N1c091dERhdGU6bnVsbCxtYXhGb2N1c0luT3V0R2FwOjUwLG1heEhpc3RvcnlMZW5ndGg6MjAsc2luZ2xldG9uOiEwfTthZGRUb0hpc3RvcnkodCl7bGV0IG89dGhpcy5oaXN0b3J5O28udW5zaGlmdCh0KSxvLmxlbmd0aD49dGhpcy5tYXhIaXN0b3J5TGVuZ3RoJiZvLnBvcCgpfWZvY3VzRW50ZXIodCl7dGhpcy5zZXRDb21wb25lbnRGb2N1cyh0LCEwKSx0aGlzLmFkZFRvSGlzdG9yeSh0KX1mb2N1c0xlYXZlKHQpe3RoaXMuc2V0Q29tcG9uZW50Rm9jdXModCwhMSl9Zm9jdXNNb3ZlKHQpe2xldCBlLGEscz10aGlzLHtoaXN0b3J5Om59PXMsYz10LmNvbXBvbmVudFBhdGgsdT1uWzBdLmNvbXBvbmVudFBhdGgsaD1vLmRpZmZlcmVuY2UoYyx1KSxyPW8uZGlmZmVyZW5jZSh1LGMpLGk9by5pbnRlcnNlY3Rpb24oYyx1KTtzLnNldENvbXBvbmVudEZvY3VzKHtjb21wb25lbnRQYXRoOnIsZGF0YTp0LmRhdGF9LCExKSxzLnNldENvbXBvbmVudEZvY3VzKHtjb21wb25lbnRQYXRoOmgsZGF0YTp0LmRhdGF9LCEwKSxpLmZvckVhY2gobz0+e2U9TmVvLmdldENvbXBvbmVudChvKSxlJiYoYT17Y29tcG9uZW50OmUscGF0aDp0LmRhdGEucGF0aCxvbGRQYXRoOm5bMF0uZGF0YS5wYXRofSxlLm9uRm9jdXNNb3ZlPy4oYSksZS5maXJlKFwiZm9jdXNNb3ZlXCIsYSksZS5vbkZvY3VzQ2hhbmdlPy4oYSksZS5maXJlKFwiZm9jdXNDaGFuZ2VcIixhKSl9KSxzLmFkZFRvSGlzdG9yeSh0KX1vbkZvY3VzaW4odCl7bGV0IG89dGhpcztvLmxhc3RGb2N1c0luRGF0ZT1uZXcgRGF0ZSxvLmxhc3RGb2N1c091dERhdGUmJm8ubGFzdEZvY3VzSW5EYXRlLW8ubGFzdEZvY3VzT3V0RGF0ZTxvLm1heEZvY3VzSW5PdXRHYXA/by5mb2N1c01vdmUodCk6by5mb2N1c0VudGVyKHQpfW9uRm9jdXNvdXQodCl7bGV0IG89dGhpcztvLmxhc3RGb2N1c091dERhdGU9bmV3IERhdGUsby50aW1lb3V0KG8ubWF4Rm9jdXNJbk91dEdhcCkudGhlbigoKT0+e28ubGFzdEZvY3VzT3V0RGF0ZT5vLmxhc3RGb2N1c0luRGF0ZSYmby5mb2N1c0xlYXZlKHQpfSl9c2V0Q29tcG9uZW50Rm9jdXModCxvKXtsZXQgZSxhPXtyZWxhdGVkVGFyZ2V0OnQuZGF0YS5yZWxhdGVkVGFyZ2V0fSxzPXQuY29tcG9uZW50UGF0aC5tYXAodD0+TmVvLmdldENvbXBvbmVudCh0KSk7cy5mb3JFYWNoKHQ9Pnt0JiYodC5jb250YWluc0ZvY3VzPW8pfSkscy5mb3JFYWNoKHM9PntzJiYoYS5jb21wb25lbnQ9cyxhW28/XCJwYXRoXCI6XCJvbGRQYXRoXCJdPXQuZGF0YS5wYXRoLGU9bz9cIm9uRm9jdXNFbnRlclwiOlwib25Gb2N1c0xlYXZlXCIsc1tlXT8uKGEpLHMuZmlyZShvP1wiZm9jdXNFbnRlclwiOlwiZm9jdXNMZWF2ZVwiLGEpLHMub25Gb2N1c0NoYW5nZT8uKGEpLHMuZmlyZShcImZvY3VzQ2hhbmdlXCIsYSkpfSl9fSk7IiwiaW1wb3J0IHQgZnJvbVwiLi4vY29yZS9CYXNlLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgdHtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8udXRpbC5BcnJheVwifTtzdGF0aWMgYWRkKHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSl8fChlPVtlXSksZS5mb3JFYWNoKGU9Pnt0LmluY2x1ZGVzKGUpfHx0LnB1c2goZSl9KSx0fXN0YXRpYyBkaWZmZXJlbmNlKHQ9W10sZT1bXSl7cmV0dXJuIHQuZmlsdGVyKHQ9PiFlLmluY2x1ZGVzKHQpKX1zdGF0aWMgaGFzSXRlbSh0LGUpe3JldHVybiB0LmluY2x1ZGVzKGUpfXN0YXRpYyBpbnNlcnQodCxlLHIpe0FycmF5LmlzQXJyYXkocil8fChyPVtyXSk7bGV0IHMsaSxhPXIubGVuZ3RoLTE7Zm9yKDthPi0xO2EtLSlpPXJbYV0scz10LmluZGV4T2YoaSksZSE9PXMmJihzPi0xP3RoaXMubW92ZSh0LHMsZSk6dC5zcGxpY2UoZSwwLGkpKTtyZXR1cm4gdH1zdGF0aWMgaW50ZXJzZWN0aW9uKHQ9W10sZT1bXSl7cmV0dXJuIHQuZmlsdGVyKHQ9PmUuaW5jbHVkZXModCkpfXN0YXRpYyBtb3ZlKHQsZSxyKXtyZXR1cm4gZT09PXJ8fChlPj10Lmxlbmd0aCYmKGU9dC5sZW5ndGgtMSksdC5zcGxpY2UociwwLHQuc3BsaWNlKGUsMSlbMF0pKSx0fXN0YXRpYyByZW1vdmUodCxlKXtsZXQgcjtyZXR1cm4gQXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKSxlLmZvckVhY2goZT0+e3I9dC5pbmRleE9mKGUpLHI+LTEmJnQuc3BsaWNlKHIsMSl9KSx0fXN0YXRpYyByZW1vdmVBZGQodCxlLHIpe3JldHVybiB0aGlzLnJlbW92ZSh0LGUpLHRoaXMuYWRkKHQscil9c3RhdGljIHRvZ2dsZSh0LGUscj0hdGhpcy5oYXNJdGVtKHQsZSkpe3JldHVybiB0aGlzW3I/XCJhZGRcIjpcInJlbW92ZVwiXSh0LGUpfXN0YXRpYyB1bmlvbigpe3JldHVyblsuLi5uZXcgU2V0KEFycmF5LnByb3RvdHlwZS5jb25jYXQoLi4uYXJndW1lbnRzKSldfXN0YXRpYyB1bnNoaWZ0KHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSl8fChlPVtlXSksZS5mb3JFYWNoKGU9Pnt0LmluY2x1ZGVzKGUpfHx0LnVuc2hpZnQoZSl9KSx0fX0pOyIsImltcG9ydCBlIGZyb21cIi4uL2NvcmUvQmFzZS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGV7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLnV0aWwuQ2xhc3NTeXN0ZW1cIn07c3RhdGljIGJlZm9yZVNldEluc3RhbmNlKGUscz1udWxsLHQ9e30pe2xldCBvPU5lby50eXBlT2YoZSk7aWYoTmVvLmlzU3RyaW5nKHMpJiYocz1OZW8ubnMocykpLCFlJiZzKWU9TmVvLmNyZWF0ZShzLHQpO2Vsc2UgaWYoXCJOZW9DbGFzc1wiPT09byllPU5lby5jcmVhdGUoZSx0KTtlbHNlIGlmKFwiT2JqZWN0XCI9PT1vKWlmKGUubnR5cGUpZT1OZW8ubnR5cGUoey4uLnQsLi4uZX0pO2Vsc2V7bGV0IG89e307cyYmKG8ubW9kdWxlPXMpLE9iamVjdC5hc3NpZ24obyx7Li4udCwuLi5lfSksZT1OZW8uY3JlYXRlKG8pfWVsc2VcIk5lb0luc3RhbmNlXCI9PT1vJiZ0Py5saXN0ZW5lcnMmJmUub24odC5saXN0ZW5lcnMpO3JldHVybiBlfX0pOyIsImV4cG9ydCBmdW5jdGlvbiBiaW5kQXBwZW5kKGUsdCl7Y29uc3Qgbj1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cykuc2xpY2UoMik7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykuY29uY2F0KG4pKX19ZXhwb3J0IGZ1bmN0aW9uIGJ1ZmZlcihlLHQsbj0zMDApe2xldCBvO2NvbnN0IHI9ZnVuY3Rpb24oLi4uaSl7Y2xlYXJUaW1lb3V0KG8pLHIuaXNQZW5kaW5nPSEwLG89c2V0VGltZW91dCgoKT0+e289MCxyLmlzUGVuZGluZz0hMSxlLmFwcGx5KHQsaSl9LG4pfTtyZXR1cm4gci5jYW5jZWw9KCk9PntyLmlzUGVuZGluZz0hMSxjbGVhclRpbWVvdXQobyl9LHJ9ZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUludGVyY2VwdG9yKGUsdCxuLG8pe2xldCByPWVbdF07cmV0dXJuIGVbdF09ZnVuY3Rpb24odCl7cmV0dXJuIHIuY2FsbChlLG4uY2FsbChvfHxlLHQpKX19ZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNlcXVlbmNlKGUsdCxuLG8pe2xldCByPWVbdF18fE5lby5lbXB0eUZuO3JldHVybiBlW3RdPWZ1bmN0aW9uKCl7cmV0dXJuIHIuYXBwbHkodGhpcyxhcmd1bWVudHMpLG4uYXBwbHkob3x8dGhpcyxhcmd1bWVudHMpfX1leHBvcnQgZnVuY3Rpb24gZGVib3VuY2UoZSx0LG49MzAwKXtsZXQgbztyZXR1cm4gZnVuY3Rpb24oLi4ucil7TmVvLmlzTnVtYmVyKG8pPyhjbGVhclRpbWVvdXQobyksbz1zZXRUaW1lb3V0KCgpPT57dD8uaWQmJmUuYXBwbHkodCxyKSxvPXNldFRpbWVvdXQoKCk9PntvPW51bGx9LG4pfSxuKSk6KHQ/LmlkJiZlLmFwcGx5KHQsciksbz1zZXRUaW1lb3V0KCgpPT57bz1udWxsfSxuKSl9fWV4cG9ydCBmdW5jdGlvbiBpbnRlcmNlcHQoZSx0LG4sbyxyPW51bGwpe2xldCBpPWVbdF07cmV0dXJuIGVbdF09ZnVuY3Rpb24oKXtyZXR1cm4hMT09PW4uYXBwbHkob3x8ZSxhcmd1bWVudHMpP3I6aS5hcHBseShlLGFyZ3VtZW50cyl9fWV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQ2FsbGJhY2soZSx0PXRoaXMpe2lmKE5lby5pc1N0cmluZyhlKSl7aWYoIXRbZV0mJmUuc3RhcnRzV2l0aChcInVwLlwiKSlmb3IoZT1lLnNsaWNlKDMpOyF0W2VdJiYodD10LnBhcmVudCk7KTtlbHNlIHQ9dC5nZXRDb250cm9sbGVyPy4oKT8uZ2V0SGFuZGxlclNjb3BlKGUsbnVsbCl8fHQ7ZT10W2VdfXJldHVybntmbjplLHNjb3BlOnR9fWV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZShlLHQsbj0zMDApe2xldCBvLHI7cmV0dXJuIGZ1bmN0aW9uKC4uLmkpe28/KGNsZWFyVGltZW91dChyKSxyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtEYXRlLm5vdygpLW8+PW4mJih0Py5pZCYmZS5hcHBseSh0LGkpLG89RGF0ZS5ub3coKSl9LG4tKERhdGUubm93KCktbykpKToodD8uaWQmJmUuYXBwbHkodCxpKSxvPURhdGUubm93KCkpfX0iLCJpbXBvcnQgZSBmcm9tXCIuLi9jb3JlL0Jhc2UubWpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vdXRpbC9BcnJheS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGV7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLnV0aWwuS2V5TmF2aWdhdGlvblwiLG50eXBlOlwia2V5bmF2XCIsY29tcG9uZW50XzpudWxsLGtleURvd25FdmVudEJ1YmJsZTohMSxrZXlzXzpudWxsfTthZGQoZSl7dGhpcy5fa2V5cy5wdXNoKC4uLnRoaXMucGFyc2VLZXlzKGUpKX1iZWZvcmVHZXRDb21wb25lbnQoKXtyZXR1cm4gTmVvLmdldENvbXBvbmVudCh0aGlzLl9jb21wb25lbnQpfWJlZm9yZVNldENvbXBvbmVudChlKXtyZXR1cm4gZT8uaWR9ZGVzdHJveSgpe3RoaXMudW5yZWdpc3RlcigpLHN1cGVyLmRlc3Ryb3koKX1vbktleURvd24oZSl7aWYoZS5rZXkpe2xldCBzLG89dGhpcyxyPWUua2V5LnRvVXBwZXJDYXNlKCk7cj1vLnBhcnNlVXBwZXJDYXNlS2V5KHIpLG8ua2V5cy5mb3JFYWNoKHQ9PntzPU5lby5pc1N0cmluZyh0LnNjb3BlKT9OZW8uZ2V0KHQuc2NvcGUpOnQuc2NvcGUsdC5rZXkudG9VcHBlckNhc2UoKT09PXImJihOZW8uaXNGdW5jdGlvbih0LmZuKT90LmZuLmFwcGx5KHMsW2Usby5jb21wb25lbnRdKTpzW3QuZm5dPy5hcHBseShzLFtlLG8uY29tcG9uZW50XSkpfSl9fXBhcnNlS2V5cyhlKXtpZighQXJyYXkuaXNBcnJheShlKSl7bGV0IHM9dGhpcy5fY29tcG9uZW50LG89W107cyYmKE9iamVjdC5lbnRyaWVzKGUpLmZvckVhY2goKFtyLHRdKT0+e1wic2NvcGVcIiE9PXImJm8ucHVzaCh7Zm46dCxrZXk6cixzY29wZTplLnNjb3BlfHxzfSl9KSxlPW8pfXJldHVybiBlfXBhcnNlVXBwZXJDYXNlS2V5KGUpe3N3aXRjaChlKXtjYXNlXCIgXCI6ZT1cIlNQQUNFXCI7YnJlYWs7Y2FzZVwiQVJST1dET1dOXCI6ZT1cIkRPV05cIjticmVhaztjYXNlXCJBUlJPV0xFRlRcIjplPVwiTEVGVFwiO2JyZWFrO2Nhc2VcIkFSUk9XUklHSFRcIjplPVwiUklHSFRcIjticmVhaztjYXNlXCJBUlJPV1VQXCI6ZT1cIlVQXCJ9cmV0dXJuIGV9cmVnaXN0ZXIoZSl7bGV0IHM9dGhpcztzLmNvbXBvbmVudD1lLHMua2V5cz1zLnBhcnNlS2V5cyhzLmtleXMpLGUuYWRkRG9tTGlzdGVuZXJzKHtrZXlkb3duOntidWJibGU6cy5rZXlEb3duRXZlbnRCdWJibGUsZm46cy5vbktleURvd24sc2NvcGU6c319KX1yZW1vdmVLZXkoZSl7bGV0IG8scj10aGlzLl9rZXlzLHQ9MCxuPXIubGVuZ3RoO2Zvcig7dDxuO3QrKylpZihvPXJbdF0sTmVvLmlzRXF1YWwobyxlKSl7cy5yZW1vdmUocixvKTticmVha319cmVtb3ZlS2V5cyhlKXtBcnJheS5pc0FycmF5KGUpJiZlLmZvckVhY2goZT0+dGhpcy5yZW1vdmVLZXkoZSkpfXVucmVnaXN0ZXIoKXt9fSk7IiwiaW1wb3J0IG8gZnJvbVwiLi4vY29yZS9CYXNlLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgb3tzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8udXRpbC5Mb2dnZXJcIixsZXZlbF86XCJpbmZvXCIsc2luZ2xldG9uOiEwfTtsb2dDaGFycz17ZXJyb3I6XCJFXCIsaW5mbzpcIklcIixsb2c6XCJMXCIsd2FybjpcIldcIn07bG9nQ29sb3JzPXtlcnJvcjpcImluZGlhbnJlZFwiLGluZm86XCIjYWNhY2FjXCIsbG9nOlwiIzQ0ODg4OFwiLHdhcm46XCIjNmQ2ZDAwXCJ9O2xvZ0xldmVscz1bXCJpbmZvXCIsXCJsb2dcIixcIndhcm5cIixcImVycm9yXCJdO2NvbnN0cnVjdChvKXtzdXBlci5jb25zdHJ1Y3Qobyk7bGV0IGU9dGhpcztOZW8uYXBwbHlGcm9tTnMoTmVvLGUse2Vycm9yOlwiZXJyb3JcIixpbmZvOlwiaW5mb1wiLGxvZzpcImxvZ1wiLGxvZ0Vycm9yOlwibG9nRXJyb3JcIix3YXJuOlwid2FyblwifSwhMCksZS50aW1lb3V0KDUwKS50aGVuKCgpPT57TmVvLmNvbmZpZy5lbmFibGVMb2dzSW5Qcm9kdWN0aW9ufHxcImRpc3QvcHJvZHVjdGlvblwiIT09TmVvLmNvbmZpZy5lbnZpcm9ubWVudHx8KGUud3JpdGU9TmVvLmVtcHR5Rm4pfSl9YmVmb3JlU2V0TGV2ZWwobyxlKXtyZXR1cm4gdGhpcy5sb2dMZXZlbHMuaW5kZXhPZihvKX1lcnJvcihvKXt0aHJvdyBuZXcgRXJyb3Iobyl9Z2V0Q2FsbGVyKCl7bGV0IG8sZSxyLHQ9KG5ldyBFcnJvcikuc3RhY2suc3BsaXQoXCJcXG5cIiksbD0hMTtmb3IoZSBpbiB0KWlmKHI9dFtlXSwhbCYmL0xvZ2dlclxcLm1qcy8udGVzdChyKSlsPSEwO2Vsc2UgaWYobCYmIS9Mb2dnZXJcXC5tanMvLnRlc3Qocikpe3I9ci5yZXBsYWNlKFwiKVwiLFwiXCIpLG89ci5tYXRjaCgvKFteXFwvXSspJC8pWzFdLm1hdGNoKC8oW14gXSspJC8pWzFdO2JyZWFrfXJldHVybiBvfWluZm8oLi4ubyl7bz10aGlzLnJlc29sdmVBcmdzKC4uLm8pLHRoaXMud3JpdGUobyxcImluZm9cIil9bG9nKC4uLm8pe289dGhpcy5yZXNvbHZlQXJncyguLi5vKSx0aGlzLndyaXRlKG8sXCJsb2dcIil9bG9nRXJyb3IoLi4ubyl7bz10aGlzLnJlc29sdmVBcmdzKC4uLm8pLHRoaXMud3JpdGUobyxcImVycm9yXCIpfW9uQ29udGV4dE1lbnUobyl7bGV0e2NvbmZpZzplfT1OZW87aWYoZS5lbmFibGVDb21wb25lbnRMb2dnZXImJihcImRpc3QvcHJvZHVjdGlvblwiIT09ZS5lbnZ8fCFlLmVuYWJsZUxvZ3NJblByb2R1Y3Rpb24pKXtsZXQgZSxyPSExO28ucGF0aC5mb3JFYWNoKG89PntlPU5lby5nZXRDb21wb25lbnQoby5pZCwhMSksZSYmKHJ8fChyPSEwLGNvbnNvbGUuZ3JvdXAoby5pZCkpLGNvbnNvbGUubG9nKGUpKX0pLHImJmNvbnNvbGUuZ3JvdXBFbmQoKX19cmVzb2x2ZUFyZ3MoLi4ubyl7bGV0IGU9b1swXSxyPXt9O3JldHVybiAxPT09by5sZW5ndGg/TmVvLmlzU3RyaW5nKGUpP3IubXNnPW9bMF06TmVvLmlzT2JqZWN0KGUpJiYocj1lKTpvLmxlbmd0aD4yJiYoci5tc2c9b1swXSxyLmRhdGE9by5zbGljZSgxKSkscn13YXJuKC4uLm8pe289dGhpcy5yZXNvbHZlQXJncyguLi5vKSx0aGlzLndyaXRlKG8sXCJ3YXJuXCIpfXdyaXRlKG8sZSl7bGV0IHI9dGhpcztpZihyLmJlZm9yZVNldExldmVsKGUpPHIubGV2ZWwpcmV0dXJuO2NvbnNvbGUubG9nKFwiI1wiLG8ubXNnLGUpO2xldCB0PXIubG9nQ29sb3JzW2VdLGw9ci5sb2dDaGFyc1tlXSxuPWBiYWNrZ3JvdW5kLWNvbG9yOiR7dH07IGNvbG9yOiB3aGl0ZTsgZm9udC13ZWlnaHQ6IDkwMDtgLHM9YGNvbG9yOiR7dH07YCxpPWBbJHtyLmdldENhbGxlcigpfV0gJHtvLm1zZ31gO28uZGF0YT8oY29uc29sZS5ncm91cENvbGxhcHNlZChgJWMgJHtsfSAlYyAke2l9YCxuLHMpLGNvbnNvbGUubG9nKG8uZGF0YSksY29uc29sZS5ncm91cEVuZCgpKTpjb25zb2xlLmxvZyhgJWMgJHtsfSAlYyAke2l9YCxuLHMpfX0pOyIsImNvbnN0IHQ9T2JqZWN0LmZyZWV6ZShbXSksZT0odD0wKT0+e3N3aXRjaChBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pLHQubGVuZ3RoKXtjYXNlIDE6cmV0dXJuIHQubGVuZ3RoPTQsdC5maWxsKHRbMF0sMSw0KTtjYXNlIDI6cmV0dXJuW3RbMF0sdFsxXSx0WzBdLHRbMV1dO2Nhc2UgMzpyZXR1cm5bdFswXSx0WzFdLHRbMl0sdFsxXV19cmV0dXJuIHR9LGk9dD0+e2NvbnN0IGU9b1t0Lm91ckVkZ2VdLGk9b1t0LnRoZWlyRWRnZV07cmV0dXJuYCR7ZX0ke3Qub3VyRWRnZU9mZnNldH0ke3Qub3VyRWRnZVVuaXR9LSR7aX0ke3QudGhlaXJFZGdlT2Zmc2V0fSR7dC50aGVpckVkZ2VVbml0fWB9LG49dD0+e2NvbnN0IGU9dCBpbnN0YW5jZW9mIERPTVJlY3Q/dDooMT09PXQ/Lm5vZGVUeXBlP3Q6XCJzdHJpbmdcIj09dHlwZW9mIHQ/ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCk6bnVsbCk/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiBlJiZuZXcgbChlLngsZS55LGUud2lkdGgsZS5oZWlnaHQpfSxvPXt0OlwiYlwiLHI6XCJsXCIsYjpcInRcIixsOlwiclwifSxoPXt0OjAscjoxLGI6MixsOjN9LHI9W1widG9wXCIsXCJyaWdodFwiLFwiYm90dG9tXCIsXCJsZWZ0XCJdLHM9W1widFwiLFwiclwiLFwiYlwiLFwibFwiXSxnPVtcIndpZHRoXCIsXCJoZWlnaHRcIl0sYz1bMCwwLDAsMF0sYT0vXihbdHJibGNdKShcXGQqKSglfHB4KT8tKFt0cmJsY10pKFxcZCopKCV8cHgpPyQvO2V4cG9ydCBkZWZhdWx0IGNsYXNzIGwgZXh0ZW5kcyBET01SZWN0e3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby51dGlsLlJlY3RhbmdsZVwifTttaW5IZWlnaHQ9bnVsbDttaW5XaWR0aD1udWxsO3N0YXRpYyBleGNsdWRlcyh0LGUpe3JldHVybiB0LmJvdHRvbTxlLnRvcHx8dC5sZWZ0PmUucmlnaHR8fHQucmlnaHQ8ZS5sZWZ0fHx0LnRvcD5lLmJvdHRvbX1zdGF0aWMgZ2V0SW50ZXJzZWN0aW9uKHQsZSl7bGV0IGk9TWF0aC5tYXgodC54LGUueCksbj1NYXRoLm1heCh0LnksZS55KSxvPU1hdGgubWluKHQucmlnaHQsZS5yaWdodCksaD1NYXRoLm1pbih0LmJvdHRvbSxlLmJvdHRvbSkscj1NYXRoLm1heCgwLG8taSkscz1NYXRoLm1heCgwLGgtbik7cmV0dXJuIHM8MXx8cjwxP251bGw6bmV3IGwoaSxuLHIscyl9c3RhdGljIGluY2x1ZGVzKHQsZSl7cmV0dXJuIHQuYm90dG9tPj1lLmJvdHRvbSYmdC5sZWZ0PD1lLmxlZnQmJnQucmlnaHQ+PWUucmlnaHQmJnQudG9wPD1lLnRvcH1zdGF0aWMgbGVhdmVzU2lkZSh0LGUsaSl7cmV0dXJuIWwuaW5jbHVkZXModCxlKSYmKFwiYm90dG9tXCI9PT1pP3QuYm90dG9tPGUuYm90dG9tOlwibGVmdFwiPT09aT90LmxlZnQ+ZS5sZWZ0OlwicmlnaHRcIj09PWk/dC5yaWdodDxlLnJpZ2h0OlwidG9wXCI9PT1pP3QudG9wPmUudG9wOnZvaWQgMCl9c3RhdGljIG1vdmVCeSh0LGU9bnVsbCxpPW51bGwpe2xldCBuPXsuLi50fTtyZXR1cm4gTmVvLmlzTnVtYmVyKGUpJiYobi5sZWZ0Kz1lLG4ucmlnaHQrPWUsbi54Kz1lKSxOZW8uaXNOdW1iZXIoaSkmJihuLmJvdHRvbSs9aSxuLnRvcCs9aSxuLnkrPWkpLG59c3RhdGljIG1vdmVUbyh0LGU9bnVsbCxpPW51bGwpe2xldCBuPXsuLi50fTtyZXR1cm4gTmVvLmlzTnVtYmVyKGUpJiYobi5sZWZ0PWUsbi5yaWdodD1lK24ud2lkdGgsbi54PWUpLE5lby5pc051bWJlcihpKSYmKG4uYm90dG9tPWkrbi5oZWlnaHQsbi50b3A9aSxuLnk9aSksbn1zZXQgYm90dG9tKHQpe3RoaXMuaGVpZ2h0Kz10LXRoaXMuYm90dG9tfWdldCBib3R0b20oKXtyZXR1cm4gc3VwZXIuYm90dG9tfXNldCByaWdodCh0KXt0aGlzLndpZHRoKz10LXRoaXMucmlnaHR9Z2V0IHJpZ2h0KCl7cmV0dXJuIHN1cGVyLnJpZ2h0fWNoYW5nZVgodCl7Y29uc3QgZT10aGlzLngtdDt0aGlzLng9dCx0aGlzLndpZHRoKz1lfWNoYW5nZVkodCl7Y29uc3QgZT10aGlzLnktdDt0aGlzLnk9dCx0aGlzLmhlaWdodCs9ZX1jbG9uZSgpe3JldHVybiBsLmNsb25lKHRoaXMpfXN0YXRpYyBjbG9uZSh0KXtjb25zdCBlPW5ldyBsKHQueCx0LnksdC53aWR0aCx0LmhlaWdodCk7cmV0dXJuIGUubWluV2lkdGg9dC5taW5XaWR0aCxlLm1pbkhlaWdodD10Lm1pbkhlaWdodCxlfWludGVyc2VjdHModCl7Y29uc3QgZT10aGlzO2lmKHQuaGVpZ2h0JiZ0LndpZHRoKXtjb25zdCBpPU1hdGgubWF4KGUueCx0LngpLG49TWF0aC5tYXgoZS55LHQueSksbz1NYXRoLm1pbihlLngrZS53aWR0aCx0LngrdC53aWR0aCksaD1NYXRoLm1pbihlLnkrZS5oZWlnaHQsdC55K3QuaGVpZ2h0KTtyZXR1cm4hKGk+PW98fG4+PWgpJiZuZXcgbChpLG4sby1pLGgtbil9cmV0dXJuIHQueD49ZS54JiZ0Lnk+PWUueSYmdC5yaWdodDw9ZS5yaWdodCYmdC5ib3R0b208PWUuYm90dG9tfWNvbnRhaW5zKHQpe3JldHVybiB0aGlzLmJvdHRvbT49dC5ib3R0b20mJnRoaXMubGVmdDw9dC5sZWZ0JiZ0aGlzLnJpZ2h0Pj10LnJpZ2h0JiZ0aGlzLnRvcDw9dC50b3B9ZXhwYW5kKHQpe3JldHVybiB0PWUodCksbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LXRbM10sdGhpcy55LXRbMF0sdGhpcy53aWR0aCt0WzFdK3RbM10sdGhpcy5oZWlnaHQrdFswXSt0WzJdKX1tb3ZlQnkodD0wLGU9MCl7Y29uc3QgaT10aGlzLmNsb25lKCk7cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJihlPXRbMV0sdD10WzBdKSxpLngrPXQsaS55Kz1lLGl9Y29udGFpbnModCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuaW5jbHVkZXModGhpcyx0KX1jb25zdHJhaW5Ubyh0KXtjb25zdCBlPXRoaXMsaT1lLm1pbldpZHRofHxlLndpZHRoO2lmKChlLm1pbkhlaWdodHx8ZS5oZWlnaHQpPnQuaGVpZ2h0fHxpPnQud2lkdGgpcmV0dXJuITE7Y29uc3Qgbj1lLmNsb25lKCk7cmV0dXJuIG4ueD1NYXRoLm1heChlLngrTWF0aC5taW4odC5yaWdodC1uLnJpZ2h0LDApLHQueCksbi55PU1hdGgubWF4KGUueStNYXRoLm1pbih0LmJvdHRvbS1uLmJvdHRvbSwwKSx0LnkpLG4uYm90dG9tPU1hdGgubWluKG4uYm90dG9tLHQuYm90dG9tKSxuLnJpZ2h0PU1hdGgubWluKG4ucmlnaHQsdC5yaWdodCksbn1hbGlnblRvKHQpe2NvbnN0IGw9dGhpcyx7Y29uc3RyYWluVG86ZCx0YXJnZXQ6bSxlZGdlQWxpZ246dSxheGlzTG9jazpiLG9mZnNldDp4LG1hdGNoU2l6ZTpmfT10LHk9dC50YXJnZXRNYXJnaW4/ZSh0LnRhcmdldE1hcmdpbik6YyxwPW4obSksdz1uKGQpLEU9KHQ9Pntjb25zdCBlPWEuZXhlYyh0KSxpPWhbZVsxXV0sbj1oW2VbNF1dO3JldHVybntvdXJFZGdlOmVbMV0sb3VyRWRnZU9mZnNldDpwYXJzZUludChlWzJdfHw1MCksb3VyRWRnZVVuaXQ6ZVszXXx8XCIlXCIsb3VyRWRnZVpvbmU6aSx0aGVpckVkZ2U6ZVs0XSx0aGVpckVkZ2VPZmZzZXQ6cGFyc2VJbnQoZVs1XXx8NTApLHRoZWlyRWRnZVVuaXQ6ZVs2XXx8XCIlXCIsdGhlaXJFZGdlWm9uZTpuLGVkZ2VBbGlnbmVkOigxJmkpPT0oMSZuKSYmaSE9PW59fSkodSksTT1nWzEmRS50aGVpckVkZ2Vab25lXTtsZXQgJD1sLmNsb25lKCk7ZiYmKCRbTV09cFtNXSk7Y29uc3QgQT0kLmdldEFuY2hvclBvaW50KEUub3VyRWRnZVpvbmUsRS5vdXJFZGdlT2Zmc2V0LEUub3VyRWRnZVVuaXQpLHo9cC5nZXRBbmNob3JQb2ludChFLnRoZWlyRWRnZVpvbmUsRS50aGVpckVkZ2VPZmZzZXQsRS50aGVpckVkZ2VVbml0LHkpLE49W3pbMF0tQVswXSx6WzFdLUFbMV1dO2lmKCQ9JC5tb3ZlQnkoTiksJC56b25lPUUudGhlaXJFZGdlWm9uZSwkLnBvc2l0aW9uPXJbJC56b25lXSx3JiYhdy5jb250YWlucygkKSl7aWYocC5pbnRlcnNlY3RzKCQpKXJldHVybiAkO2xldCB0PUUudGhlaXJFZGdlWm9uZTtjb25zdCBlPVt7em9uZTp0LGVkZ2VBbGlnbjp1fV07aWYoYillWzFdPXt6b25lOnQ9KHQrMiklNCxlZGdlQWxpZ246aShFKX0sZS5wdXNoKHt6b25lOnQ9KEUudGhlaXJFZGdlWm9uZSsxKSU0LGVkZ2VBbGlnbjpgJHtvW3NbdF1dfS0ke3NbdF19YH0pLGUucHVzaCh7em9uZTp0PShFLnRoZWlyRWRnZVpvbmUrMyklNCxlZGdlQWxpZ246YCR7b1tzW3RdXX0tJHtzW3RdfWB9KTtlbHNlIGZvcihsZXQgaT0xO2k8NDtpKyspZS5wdXNoKHt6b25lOnQ9KHQrMSklNCxlZGdlQWxpZ246YCR7b1tzW3RdXX0tJHtzW3RdfWB9KTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3QgaT13LmNsb25lKCk7c3dpdGNoKGVbdF0uem9uZSl7Y2FzZSAwOmkuYm90dG9tPXAueS15WzBdO2JyZWFrO2Nhc2UgMTppLmNoYW5nZVgocC5yaWdodCt5WzFdKTticmVhaztjYXNlIDI6aS5jaGFuZ2VZKHAuYm90dG9tK3lbMl0pO2JyZWFrO2Nhc2UgMzppLnJpZ2h0PXAueC15WzNdfWVbdF0uY29uc3RyYWluUmVjdD1pfWZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdHt6b25lOmksZWRnZUFsaWduOm4sY29uc3RyYWluUmVjdDpofT1lW3RdLGc9c1tpXTtmJiYoJFtNXT1nPT09RS50aGVpckVkZ2V8fGc9PW9bRS50aGVpckVkZ2VdP3BbTV06bFtNXSksJD0kLmFsaWduVG8oe3RhcmdldDpwLGVkZ2VBbGlnbjpuLHRhcmdldE1hcmdpbjp5fSk7bGV0IGM9JC5jb25zdHJhaW5UbyhoKTtpZihjKXJldHVybiBjLnpvbmU9aSxjLnBvc2l0aW9uPXJbaV0sY319cmV0dXJuIHgmJiQubW92ZUJ5KHgpLCR9Z2V0QW5jaG9yUG9pbnQoZSxpLG4sbz10KXtjb25zdCBoPXRoaXM7bGV0IHI7c3dpdGNoKGUpe2Nhc2UgMDpyPVtoLngsaC55LShvWzBdfHwwKSxoLndpZHRoLDBdO2JyZWFrO2Nhc2UgMTpyPVtoLngraC53aWR0aCsob1sxXXx8MCksaC55LGguaGVpZ2h0LDFdO2JyZWFrO2Nhc2UgMjpyPVtoLngsaC55K2guaGVpZ2h0KyhvWzJdfHwwKSxoLndpZHRoLDBdO2JyZWFrO2Nhc2UgMzpyPVtoLngtKG9bM118fDApLGgueSxoLmhlaWdodCwxXX1yZXR1cm4gcltyWzNdXSs9XCIlXCI9PT1uP3JbMl0vMTAwKmk6aSxyLmxlbmd0aD0yLHJ9ZXF1YWxzKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRE9NUmVjdCYmdC54PT09dGhpcy54JiZ0Lnk9PT10aGlzLnkmJnQuaGVpZ2h0PT09dGhpcy5oZWlnaHQmJnQud2lkdGg9PT10aGlzLndpZHRofXNob3codD1cInJlZFwiKXtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGUuc3R5bGU9YFxcbiAgICAgICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xcbiAgICAgICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGUzZCgke3RoaXMueH1weCwgJHt0aGlzLnl9cHgsIDApO1xcbiAgICAgICAgICAgIGhlaWdodDoke3RoaXMuaGVpZ2h0fXB4O1xcbiAgICAgICAgICAgIHdpZHRoOiR7dGhpcy53aWR0aH1weDtcXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiR7dH1cXG4gICAgICAgIGAsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlKSxzZXRUaW1lb3V0KCgpPT5lLnJlbW92ZSgpLDNlNCksZX10b0pTT04oKXtjb25zdHtib3R0b206dCxoZWlnaHQ6ZSxsZWZ0OmksbWluSGVpZ2h0Om4sbWluV2lkdGg6byxyaWdodDpoLHRvcDpyLHdpZHRoOnMseDpnLHk6Y309dGhpcztyZXR1cm57Ym90dG9tOnQsaGVpZ2h0OmUsbGVmdDppLG1pbkhlaWdodDpuLG1pbldpZHRoOm8scmlnaHQ6aCx0b3A6cix3aWR0aDpzLHg6Zyx5OmN9fX0iLCJpbXBvcnQgZSBmcm9tXCIuLi9jb3JlL0Jhc2UubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBle3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby51dGlsLlN0eWxlXCJ9O3N0YXRpYyBjb21wYXJlU3R5bGVzKGUsdCl7bGV0IHM9e307cmV0dXJuIE5lby5pc1N0cmluZyhlKSYmKGU9TmVvLmNyZWF0ZVN0eWxlT2JqZWN0KGUpKSxOZW8uaXNTdHJpbmcodCkmJih0PU5lby5jcmVhdGVTdHlsZU9iamVjdCh0KSksZXx8dD90PyhlJiZPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGw9Pnt0Lmhhc093blByb3BlcnR5KGwpJiZ0W2xdPT09ZVtsXXx8KHNbbF09ZVtsXSl9KSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKHQ9PntlJiZlLmhhc093blByb3BlcnR5KHQpfHwoc1t0XT1udWxsKX0pLE9iamVjdC5rZXlzKHMpLmxlbmd0aD4wP3M6bnVsbCk6TmVvLmNsb25lKGUpOm51bGx9fSk7IiwiaW1wb3J0IGUgZnJvbVwiLi4vY29yZS9CYXNlLm1qc1wiO2ltcG9ydCB0IGZyb21cIi4uL21hbmFnZXIvQ29tcG9uZW50Lm1qc1wiO2NsYXNzIHIgZXh0ZW5kcyBle3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby51dGlsLlZEb21cIn07c3RhdGljIGNsb25lKGUsdD0hMCl7bGV0IG49TmVvLmNsb25lKGUsITApO3JldHVybiB0JiZkZWxldGUgbi5pZCxuLmNuJiZuLmNuLmZvckVhY2goKGUsaSk9PntuLmNuW2ldPXIuY2xvbmUoZSx0KX0pLG59c3RhdGljIGZpbmQoZSx0LG49ITAsaSxvKXtpPWl8fDAsdD1OZW8uaXNTdHJpbmcodCk/e2lkOnR9OnQsbiYmKGU9ci5nZXRWZG9tKGUpKTtsZXQgcyxkPW51bGwsYz1bXSxhPSEwLGw9MCxmPWUuY24/Lmxlbmd0aCxnPU9iamVjdC5lbnRyaWVzKHQpLG09Zy5sZW5ndGg7aWYoZy5mb3JFYWNoKChbdCxyXSk9PntpZihlLmhhc093blByb3BlcnR5KHQpKXN3aXRjaCh0KXtjYXNlXCJjbHNcIjppZihcInN0cmluZ1wiPT10eXBlb2YgciYmTmVvLmlzQXJyYXkoZVt0XSkpZVt0XS5pbmNsdWRlcyhyKSYmYy5wdXNoKCEwKTtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiByJiZcInN0cmluZ1wiPT10eXBlb2YgZVt0XSllW3RdPT09ciYmYy5wdXNoKCEwKTtlbHNlIGlmKE5lby5pc0FycmF5KHIpJiZOZW8uaXNBcnJheShlW3RdKSl0aHJvdyBuZXcgRXJyb3IoXCJmaW5kOiBjbHMgbWF0Y2hpbmcgbm90IHN1cHBvcnRlZCBmb3IgdGFyZ2V0ICYgc291cmNlIHR5cGVzIG9mIEFycmF5c1wiKTticmVhaztjYXNlXCJzdHlsZVwiOmlmKFwic3RyaW5nXCI9PXR5cGVvZiByJiZcInN0cmluZ1wiPT10eXBlb2YgZVt0XSllW3RdPT09ciYmYy5wdXNoKCEwKTtlbHNle2lmKCFOZW8uaXNPYmplY3Qocil8fCFOZW8uaXNPYmplY3QoZVt0XSkpdGhyb3cgbmV3IEVycm9yKFwiZmluZDogc3R5bGUgbWF0Y2hpbmcgbm90IHN1cHBvcnRlZCBmb3IgbWl4ZWQgdGFyZ2V0ICYgc291cmNlIHR5cGVzIChPYmplY3QgVlMgU3RyaW5nKVwiKTtPYmplY3QuZW50cmllcyhyKS5mb3JFYWNoKChbcixuXSk9PntlW3RdLmhhc093blByb3BlcnR5KHIpJiZlW3RdW3JdPT09bnx8KGE9ITEpfSksYSYmYy5wdXNoKCEwKX1icmVhaztkZWZhdWx0OmVbdF09PT1yJiZjLnB1c2goITApfX0pLGMubGVuZ3RoPT09bSlyZXR1cm57aW5kZXg6aSxwYXJlbnROb2RlOm8sdmRvbTplfTtpZihlLmNuKWZvcig7bDxmO2wrKylpZihlLmNuW2xdJiYocz1yLmZpbmQoZS5jbltsXSx0LG4sbCxlKSxzKSl7ZD17aW5kZXg6cy5pbmRleCxwYXJlbnROb2RlOnMucGFyZW50Tm9kZSx2ZG9tOnMudmRvbX07YnJlYWt9cmV0dXJuIGR9c3RhdGljIGdldEJ5RmxhZyhlLHQpe3JldHVybiByLmZpbmQoZSx7ZmxhZzp0fSk/LnZkb219c3RhdGljIGdldENoaWxkSWRzKGUsdD1bXSl7cmV0dXJuIGU9ci5nZXRWZG9tKGUpLChlPy5jbnx8W10pLmZvckVhY2goZT0+e2UuaWQmJnQucHVzaChlLmlkKSx0PXIuZ2V0Q2hpbGRJZHMoZSx0KX0pLHR9c3RhdGljIGdldENvbHVtbk5vZGVzKGUsdCl7ZT1yLmdldFZkb20oZSk7bGV0IG49W107cmV0dXJuIGUuY24/LmZvckVhY2goZT0+e2UuY24/Llt0XSYmbi5wdXNoKGUuY25bdF0pfSksbn1zdGF0aWMgZ2V0Q29sdW1uTm9kZXNJZHMoZSx0KXtyZXR1cm4gci5nZXRDb2x1bW5Ob2RlcyhlLHQpLm1hcChlPT5lLmlkKX1zdGF0aWMgZ2V0RmxhZ3MoZSx0LG4pe3JldHVybiBlPXIuZ2V0VmRvbShlKSxufHwobj1bXSxlLmZsYWc9PT10JiZuLnB1c2goZSkpLChlPy5jbnx8W10pLmZvckVhY2goZT0+e2UuZmxhZz09PXQmJm4ucHVzaChlKSxuPXIuZ2V0RmxhZ3MoZSx0LG4pfSksbn1zdGF0aWMgZ2V0UGFyZW50Tm9kZXMoZSx0LG49ITApe2U9ci5nZXRWZG9tKGUpO2xldCBpPW51bGwsbz0wLHM9ZS5jbj8ubGVuZ3RofHwwO2lmKGUuaWQ9PT10KXJldHVybltdO2Zvcig7bzxzO28rKylpZihpPXIuZ2V0UGFyZW50Tm9kZXMoZS5jbltvXSx0LCExKSxpKXtpLnB1c2goZS5jbltvXSk7YnJlYWt9cmV0dXJuIG4mJmkmJmkucHVzaChlKSxpfXN0YXRpYyBnZXRWZG9tKGUpe3JldHVybiBlLmNvbXBvbmVudElkJiYoZT10LmdldChlLmNvbXBvbmVudElkKS52ZG9tKSxlfXN0YXRpYyBpbnNlcnRBZnRlck5vZGUoZSx0LG4pe3JldHVybiByLmluc2VydE5vZGUoZSx0LG4sITEpfXN0YXRpYyBpbnNlcnRCZWZvcmVOb2RlKGUsdCxuKXtyZXR1cm4gci5pbnNlcnROb2RlKGUsdCxuLCEwKX1zdGF0aWMgaW5zZXJ0Tm9kZShlLHQsbixpKXtOZW8uaXNPYmplY3QobikmJihuPW4uaWQpO2xldCBvLHM9ci5maW5kKGUsbik7cmV0dXJuISFzJiYobz1pP3MuaW5kZXg6cy5pbmRleCsxLHMucGFyZW50Tm9kZS5jbi5zcGxpY2UobywwLHQpLCEwKX1zdGF0aWMgcmVtb3ZlVmRvbUNoaWxkKGUsdCl7bGV0IG49ci5maW5kKGUsdCk7cmV0dXJuISFuJiYobi5wYXJlbnROb2RlLmNuLnNwbGljZShuLmluZGV4LDEpLCEwKX1zdGF0aWMgcmVwbGFjZVZkb21DaGlsZChlLHQsbil7bGV0IGksbz0oZT1yLmdldFZkb20oZSkpLmNufHxbXSxzPTAsZD1vLmxlbmd0aDtpZihlLmlkPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJyZXBsYWNlVmRvbUNoaWxkOiB0YXJnZXQgaWQgbWF0Y2hlcyB0aGUgcm9vdCB2bm9kZSBpZDogXCIrdCk7Zm9yKDtzPGQ7cysrKXtpZihpPW9bc10saS5pZD09PXQpcmV0dXJuIG9bc109biwhMDtpZihyLnJlcGxhY2VWZG9tQ2hpbGQoaSx0LG4pKXJldHVybiEwfXJldHVybiExfXN0YXRpYyBzeW5jVmRvbUlkcyhlLHQsbj0hMSl7aWYoZSYmdCl7bGV0IGksbyxzLGQ9KHQ9ci5nZXRWZG9tKHQpKS5jbjtpZihuP2UuaWQmJnQuaWQhPT1lLmlkJiYodC5pZD1lLmlkKTohdC5pZCYmZS5pZCYmKHQuaWQ9ZS5pZCksZClmb3IoaT1kLm1hcChlPT5yLmdldFZkb20oZSkpLGk9aS5maWx0ZXIoZT0+ITAhPT1lLnJlbW92ZURvbSksbz0wLHM9aT8ubGVuZ3RofHwwO288cztvKyspZS5jaGlsZE5vZGVzJiZyLnN5bmNWZG9tSWRzKGUuY2hpbGROb2Rlc1tvXSxpW29dLG4pfX19ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3Mocik7IiwiaW1wb3J0IGUgZnJvbVwiLi4vY29yZS9CYXNlLm1qc1wiO2ltcG9ydCB0IGZyb21cIi4uL21hbmFnZXIvQ29tcG9uZW50Lm1qc1wiO2NsYXNzIHIgZXh0ZW5kcyBle3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby51dGlsLlZOb2RlXCJ9O3N0YXRpYyBmaW5kKGUsdCxvLGkpe2U9ci5nZXRWbm9kZShlKSxvPW98fDAsdD1cInN0cmluZ1wiIT10eXBlb2YgdD90OntpZDp0fTtsZXQgbixkLHMsYT0hMCxjPVtdLGw9ITAsaD0wLGY9ZS5jaGlsZE5vZGVzPy5sZW5ndGh8fDA7aWYobj1PYmplY3QuZW50cmllcyh0KSxkPW4ubGVuZ3RoLG4uZm9yRWFjaCgoW3Qscl0pPT57aWYoZS5oYXNPd25Qcm9wZXJ0eSh0KSlzd2l0Y2godCl7Y2FzZVwiYXR0cmlidXRlc1wiOk5lby5pc09iamVjdChyKSYmTmVvLmlzT2JqZWN0KGVbdF0pJiYoT2JqZWN0LmVudHJpZXMocikuZm9yRWFjaCgoW3Isb10pPT57ZVt0XS5oYXNPd25Qcm9wZXJ0eShyKSYmZVt0XVtyXT09PW98fChhPSExKX0pLGEmJmMucHVzaCghMCkpO2JyZWFrO2Nhc2VcImNsYXNzTmFtZVwiOmlmKFwic3RyaW5nXCI9PXR5cGVvZiByJiZOZW8uaXNBcnJheShlW3RdKSllW3RdLmluY2x1ZGVzKHIpJiZjLnB1c2goITApO2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIHImJlwic3RyaW5nXCI9PXR5cGVvZiBlW3RdKWVbdF09PT1yJiZjLnB1c2goITApO2Vsc2UgaWYoTmVvLmlzQXJyYXkocikmJk5lby5pc0FycmF5KGVbdF0pKXRocm93IG5ldyBFcnJvcihcImZpbmQ6IGNscyBtYXRjaGluZyBub3Qgc3VwcG9ydGVkIGZvciB0YXJnZXQgJiBzb3VyY2UgdHlwZXMgb2YgQXJyYXlzXCIpO2JyZWFrO2Nhc2VcInN0eWxlXCI6TmVvLmlzT2JqZWN0KHIpJiZOZW8uaXNPYmplY3QoZVt0XSkmJihPYmplY3QuZW50cmllcyhyKS5mb3JFYWNoKChbcixvXSk9PntlW3RdLmhhc093blByb3BlcnR5KHIpJiZlW3RdW3JdPT09b3x8KGw9ITEpfSksbCYmYy5wdXNoKCEwKSk7YnJlYWs7ZGVmYXVsdDplW3RdPT09ciYmYy5wdXNoKCEwKX19KSxjLmxlbmd0aD09PWQpcmV0dXJue2luZGV4Om8scGFyZW50Tm9kZTppLHZub2RlOmV9O2Zvcig7aDxmO2grKylpZihzPXIuZmluZChlLmNoaWxkTm9kZXNbaF0sdCxoLGUpLHMpcmV0dXJuIHM7cmV0dXJuIG51bGx9c3RhdGljIGdldEJ5SWQoZSx0KXtsZXQgbyxpPShlPXIuZ2V0Vm5vZGUoZSkpLmNoaWxkTm9kZXN8fFtdLG49MCxkPWkubGVuZ3RoO2lmKGUuaWQ9PT10KXJldHVybiBlO2Zvcig7bjxkO24rKyl7aWYobz1yLmdldFZub2RlKGlbbl0pLG8uaWQ9PT10KXJldHVybiBvO2lmKG89ci5nZXRCeUlkKG8sdCksbylyZXR1cm4gb31yZXR1cm4gbnVsbH1zdGF0aWMgZ2V0Q2hpbGRJZHMoZSx0PVtdKXtyZXR1cm4gZT8uY2hpbGROb2Rlcz8uZm9yRWFjaChlPT57ZS5pZCYmIWUuY29tcG9uZW50SWQmJnQucHVzaChlLmlkKSxyLmdldENoaWxkSWRzKGUsdCl9KSx0fXN0YXRpYyBnZXRWbm9kZShlKXtyZXR1cm4gZS5jb21wb25lbnRJZCYmKGU9dC5nZXQoZS5jb21wb25lbnRJZCkudm5vZGUpLGV9c3RhdGljIHJlbW92ZUNoaWxkVm5vZGUoZSx0KXtsZXQgbyxpPShlPXIuZ2V0Vm5vZGUoZSkpLmNoaWxkTm9kZXN8fFtdLG49MCxkPWkubGVuZ3RoO2lmKGUuaWQ9PT10KXRocm93IG5ldyBFcnJvcihcInJlbW92ZUNoaWxkVm5vZGU6IHRhcmdldCBpZCBtYXRjaGVzIHRoZSByb290IHZub2RlIGlkOiBcIit0KTtmb3IoO248ZDtuKyspe2lmKG89ci5nZXRWbm9kZShpW25dKSxvLmlkPT09dClyZXR1cm4gaS5zcGxpY2UobiwxKSwhMDtpZihyLnJlbW92ZUNoaWxkVm5vZGUobyx0KSlyZXR1cm4hMH1yZXR1cm4hMX1zdGF0aWMgcmVwbGFjZUNoaWxkVm5vZGUoZSx0LG8pe2xldCBpLG49KGU9ci5nZXRWbm9kZShlKSkuY2hpbGROb2Rlc3x8W10sZD0wLHM9bi5sZW5ndGg7aWYoZS5pZD09PXQpdGhyb3cgbmV3IEVycm9yKFwicmVwbGFjZUNoaWxkVm5vZGU6IHRhcmdldCBpZCBtYXRjaGVzIHRoZSByb290IHZub2RlIGlkOiBcIit0KTtmb3IoO2Q8cztkKyspe2lmKGk9ci5nZXRWbm9kZShuW2RdKSxpLmlkPT09dClyZXR1cm4gbltkXT1vLCEwO2lmKHIucmVwbGFjZUNoaWxkVm5vZGUoaSx0LG8pKXJldHVybiEwfXJldHVybiExfX1leHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhyKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=