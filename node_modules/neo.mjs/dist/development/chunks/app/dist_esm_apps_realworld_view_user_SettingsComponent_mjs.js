"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["dist_esm_apps_realworld_view_user_SettingsComponent_mjs"],{

/***/ "./dist/esm/apps/realworld/view/user/SettingsComponent.mjs":
/*!*****************************************************************!*\
  !*** ./dist/esm/apps/realworld/view/user/SettingsComponent.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../src/component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony import */ var _src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../src/util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"RealWorld.view.user.SettingsComponent",baseCls:["settings-page"],bio_:null,email_:null,errors_:[],image_:null,userName_:null,_vdom:{cn:[{cls:["container","page"],cn:[{cls:["row"],cn:[{cls:["col-md-6","offset-md-3","col-xs-12"],cn:[{tag:"h1",cls:["text-xs-center"],html:"Your Settings"},{tag:"ul",cls:["error-messages"],flag:"errors",removeDom:!0},{tag:"form",cn:[{tag:"fieldset",cn:[{tag:"fieldset",cls:["form-group"],cn:[{tag:"input",cls:["form-control"],flag:"image",placeholder:"URL of profile picture",type:"text"}]},{tag:"fieldset",cls:["form-group"],cn:[{tag:"input",cls:["form-control","form-control-lg"],flag:"userName",placeholder:"Your Name",type:"text"}]},{tag:"fieldset",cls:["form-group"],cn:[{tag:"textarea",cls:["form-control","form-control-lg"],flag:"bio",placeholder:"Short bio about you",rows:8}]},{tag:"fieldset",cls:["form-group"],cn:[{tag:"input",cls:["form-control","form-control-lg"],flag:"email",placeholder:"Email",type:"text"}]},{tag:"fieldset",cls:["form-group"],cn:[{tag:"input",cls:["form-control","form-control-lg"],flag:"password",placeholder:"Password",type:"password"}]},{tag:"button",cls:["btn","btn-lg","btn-primary","pull-xs-right"],html:"Update Settings"}]}]},{tag:"hr"},{tag:"button",cls:["btn","btn-outline-danger"],html:"Or click here to logout."}]}]}]}]}};construct(e){super.construct(e);let t=this;t.addDomListeners([{click:{fn:t.onLogoutButtonClick,delegate:".btn-outline-danger",scope:t}},{click:{fn:t.onSubmitButtonClick,delegate:".btn-primary",scope:t}}]),t.getController().on({afterSetCurrentUser:t.onCurrentUserChange,scope:t})}afterSetBio(e,o){let r=this.vdom;_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(r,"bio").value=e,this.update()}afterSetEmail(e,o){_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(this.vdom,"email").value=e,this.update()}afterSetErrors(e=[],o){let r=_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(this.vdom,"errors");r.cn=[],r.removeDom=0===e.length,Object.entries(e).forEach(([e,t])=>{r.cn.push({tag:"li",html:e+" "+t.join(" and ")})}),this.update()}afterSetImage(e,o){_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(this.vdom,"image").value=e,this.update()}afterSetUserName(e,o){_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(this.vdom,"userName").value=e,this.update()}onCurrentUserChange(e){e&&this.set({bio:e.bio,email:e.email,errors:[],image:e.image,userName:e.username})}onLogoutButtonClick(e){this.getController().logout()}onSubmitButtonClick(e){let o=this,r=o.vdom,l=_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(r,"bio"),a=_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(r,"email"),s=_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(r,"image"),n=_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(r,"password"),i=_src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getByFlag(r,"userName");Neo.main.DomAccess.getAttributes({id:[l.id,a.id,s.id,n.id,i.id],attributes:"value"}).then(e=>{o.getController().updateSettings({data:JSON.stringify({user:{bio:e[0].value,email:e[1].value,image:e[2].value,password:e[3].value,username:e[4].value}})}).then(e=>{const t=e.json.errors;t?o.errors=t:Neo.Main.setRoute({value:"/profile/"+e.json.user.username})})})}}));

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC9kaXN0X2VzbV9hcHBzX3JlYWx3b3JsZF92aWV3X3VzZXJfU2V0dGluZ3NDb21wb25lbnRfbWpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUErRixpRUFBZSw2QkFBNkIsK0RBQUMsQ0FBQyxlQUFlLCtJQUErSSxLQUFLLDhCQUE4QixpQkFBaUIsZ0RBQWdELHFEQUFxRCxFQUFFLDJEQUEyRCxFQUFFLGdCQUFnQixvQkFBb0IsdUNBQXVDLCtGQUErRixFQUFFLEVBQUUsdUNBQXVDLHVHQUF1RyxFQUFFLEVBQUUsdUNBQXVDLDBHQUEwRyxFQUFFLEVBQUUsdUNBQXVDLGdHQUFnRyxFQUFFLEVBQUUsdUNBQXVDLDBHQUEwRyxFQUFFLEVBQUUsdUZBQXVGLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSw4RUFBOEUsRUFBRSxFQUFFLEVBQUUsSUFBSSxhQUFhLG1CQUFtQixXQUFXLG9CQUFvQixPQUFPLGlFQUFpRSxFQUFFLE9BQU8sMERBQTBELHlCQUF5QixrREFBa0QsRUFBRSxpQkFBaUIsZ0JBQWdCLDBEQUFDLDBDQUEwQyxtQkFBbUIsMERBQUMsb0RBQW9ELHVCQUF1QixNQUFNLDBEQUFDLCtCQUErQixxRUFBcUUsV0FBVyxvQ0FBb0MsRUFBRSxnQkFBZ0IsbUJBQW1CLDBEQUFDLG9EQUFvRCxzQkFBc0IsMERBQUMsdURBQXVELHVCQUF1QixhQUFhLG9FQUFvRSxFQUFFLHVCQUF1Qiw4QkFBOEIsdUJBQXVCLHNCQUFzQiwwREFBQyxzQkFBc0IsMERBQUMsd0JBQXdCLDBEQUFDLHdCQUF3QiwwREFBQywyQkFBMkIsMERBQUMseUJBQXlCLGtDQUFrQyxpREFBaUQsV0FBVyxrQ0FBa0MscUJBQXFCLE1BQU0sMEZBQTBGLEVBQUUsV0FBVyxzQkFBc0IsZ0NBQWdDLHVDQUF1QyxFQUFFLEVBQUUsR0FBRyxDQUFDLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vYXBwcy9yZWFsd29ybGQvdmlldy91c2VyL1NldHRpbmdzQ29tcG9uZW50Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50L0Jhc2UubWpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vc3JjL3V0aWwvVkRvbS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGV7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiUmVhbFdvcmxkLnZpZXcudXNlci5TZXR0aW5nc0NvbXBvbmVudFwiLGJhc2VDbHM6W1wic2V0dGluZ3MtcGFnZVwiXSxiaW9fOm51bGwsZW1haWxfOm51bGwsZXJyb3JzXzpbXSxpbWFnZV86bnVsbCx1c2VyTmFtZV86bnVsbCxfdmRvbTp7Y246W3tjbHM6W1wiY29udGFpbmVyXCIsXCJwYWdlXCJdLGNuOlt7Y2xzOltcInJvd1wiXSxjbjpbe2NsczpbXCJjb2wtbWQtNlwiLFwib2Zmc2V0LW1kLTNcIixcImNvbC14cy0xMlwiXSxjbjpbe3RhZzpcImgxXCIsY2xzOltcInRleHQteHMtY2VudGVyXCJdLGh0bWw6XCJZb3VyIFNldHRpbmdzXCJ9LHt0YWc6XCJ1bFwiLGNsczpbXCJlcnJvci1tZXNzYWdlc1wiXSxmbGFnOlwiZXJyb3JzXCIscmVtb3ZlRG9tOiEwfSx7dGFnOlwiZm9ybVwiLGNuOlt7dGFnOlwiZmllbGRzZXRcIixjbjpbe3RhZzpcImZpZWxkc2V0XCIsY2xzOltcImZvcm0tZ3JvdXBcIl0sY246W3t0YWc6XCJpbnB1dFwiLGNsczpbXCJmb3JtLWNvbnRyb2xcIl0sZmxhZzpcImltYWdlXCIscGxhY2Vob2xkZXI6XCJVUkwgb2YgcHJvZmlsZSBwaWN0dXJlXCIsdHlwZTpcInRleHRcIn1dfSx7dGFnOlwiZmllbGRzZXRcIixjbHM6W1wiZm9ybS1ncm91cFwiXSxjbjpbe3RhZzpcImlucHV0XCIsY2xzOltcImZvcm0tY29udHJvbFwiLFwiZm9ybS1jb250cm9sLWxnXCJdLGZsYWc6XCJ1c2VyTmFtZVwiLHBsYWNlaG9sZGVyOlwiWW91ciBOYW1lXCIsdHlwZTpcInRleHRcIn1dfSx7dGFnOlwiZmllbGRzZXRcIixjbHM6W1wiZm9ybS1ncm91cFwiXSxjbjpbe3RhZzpcInRleHRhcmVhXCIsY2xzOltcImZvcm0tY29udHJvbFwiLFwiZm9ybS1jb250cm9sLWxnXCJdLGZsYWc6XCJiaW9cIixwbGFjZWhvbGRlcjpcIlNob3J0IGJpbyBhYm91dCB5b3VcIixyb3dzOjh9XX0se3RhZzpcImZpZWxkc2V0XCIsY2xzOltcImZvcm0tZ3JvdXBcIl0sY246W3t0YWc6XCJpbnB1dFwiLGNsczpbXCJmb3JtLWNvbnRyb2xcIixcImZvcm0tY29udHJvbC1sZ1wiXSxmbGFnOlwiZW1haWxcIixwbGFjZWhvbGRlcjpcIkVtYWlsXCIsdHlwZTpcInRleHRcIn1dfSx7dGFnOlwiZmllbGRzZXRcIixjbHM6W1wiZm9ybS1ncm91cFwiXSxjbjpbe3RhZzpcImlucHV0XCIsY2xzOltcImZvcm0tY29udHJvbFwiLFwiZm9ybS1jb250cm9sLWxnXCJdLGZsYWc6XCJwYXNzd29yZFwiLHBsYWNlaG9sZGVyOlwiUGFzc3dvcmRcIix0eXBlOlwicGFzc3dvcmRcIn1dfSx7dGFnOlwiYnV0dG9uXCIsY2xzOltcImJ0blwiLFwiYnRuLWxnXCIsXCJidG4tcHJpbWFyeVwiLFwicHVsbC14cy1yaWdodFwiXSxodG1sOlwiVXBkYXRlIFNldHRpbmdzXCJ9XX1dfSx7dGFnOlwiaHJcIn0se3RhZzpcImJ1dHRvblwiLGNsczpbXCJidG5cIixcImJ0bi1vdXRsaW5lLWRhbmdlclwiXSxodG1sOlwiT3IgY2xpY2sgaGVyZSB0byBsb2dvdXQuXCJ9XX1dfV19XX19O2NvbnN0cnVjdChlKXtzdXBlci5jb25zdHJ1Y3QoZSk7bGV0IHQ9dGhpczt0LmFkZERvbUxpc3RlbmVycyhbe2NsaWNrOntmbjp0Lm9uTG9nb3V0QnV0dG9uQ2xpY2ssZGVsZWdhdGU6XCIuYnRuLW91dGxpbmUtZGFuZ2VyXCIsc2NvcGU6dH19LHtjbGljazp7Zm46dC5vblN1Ym1pdEJ1dHRvbkNsaWNrLGRlbGVnYXRlOlwiLmJ0bi1wcmltYXJ5XCIsc2NvcGU6dH19XSksdC5nZXRDb250cm9sbGVyKCkub24oe2FmdGVyU2V0Q3VycmVudFVzZXI6dC5vbkN1cnJlbnRVc2VyQ2hhbmdlLHNjb3BlOnR9KX1hZnRlclNldEJpbyhlLG8pe2xldCByPXRoaXMudmRvbTt0LmdldEJ5RmxhZyhyLFwiYmlvXCIpLnZhbHVlPWUsdGhpcy51cGRhdGUoKX1hZnRlclNldEVtYWlsKGUsbyl7dC5nZXRCeUZsYWcodGhpcy52ZG9tLFwiZW1haWxcIikudmFsdWU9ZSx0aGlzLnVwZGF0ZSgpfWFmdGVyU2V0RXJyb3JzKGU9W10sbyl7bGV0IHI9dC5nZXRCeUZsYWcodGhpcy52ZG9tLFwiZXJyb3JzXCIpO3IuY249W10sci5yZW1vdmVEb209MD09PWUubGVuZ3RoLE9iamVjdC5lbnRyaWVzKGUpLmZvckVhY2goKFtlLHRdKT0+e3IuY24ucHVzaCh7dGFnOlwibGlcIixodG1sOmUrXCIgXCIrdC5qb2luKFwiIGFuZCBcIil9KX0pLHRoaXMudXBkYXRlKCl9YWZ0ZXJTZXRJbWFnZShlLG8pe3QuZ2V0QnlGbGFnKHRoaXMudmRvbSxcImltYWdlXCIpLnZhbHVlPWUsdGhpcy51cGRhdGUoKX1hZnRlclNldFVzZXJOYW1lKGUsbyl7dC5nZXRCeUZsYWcodGhpcy52ZG9tLFwidXNlck5hbWVcIikudmFsdWU9ZSx0aGlzLnVwZGF0ZSgpfW9uQ3VycmVudFVzZXJDaGFuZ2UoZSl7ZSYmdGhpcy5zZXQoe2JpbzplLmJpbyxlbWFpbDplLmVtYWlsLGVycm9yczpbXSxpbWFnZTplLmltYWdlLHVzZXJOYW1lOmUudXNlcm5hbWV9KX1vbkxvZ291dEJ1dHRvbkNsaWNrKGUpe3RoaXMuZ2V0Q29udHJvbGxlcigpLmxvZ291dCgpfW9uU3VibWl0QnV0dG9uQ2xpY2soZSl7bGV0IG89dGhpcyxyPW8udmRvbSxsPXQuZ2V0QnlGbGFnKHIsXCJiaW9cIiksYT10LmdldEJ5RmxhZyhyLFwiZW1haWxcIikscz10LmdldEJ5RmxhZyhyLFwiaW1hZ2VcIiksbj10LmdldEJ5RmxhZyhyLFwicGFzc3dvcmRcIiksaT10LmdldEJ5RmxhZyhyLFwidXNlck5hbWVcIik7TmVvLm1haW4uRG9tQWNjZXNzLmdldEF0dHJpYnV0ZXMoe2lkOltsLmlkLGEuaWQscy5pZCxuLmlkLGkuaWRdLGF0dHJpYnV0ZXM6XCJ2YWx1ZVwifSkudGhlbihlPT57by5nZXRDb250cm9sbGVyKCkudXBkYXRlU2V0dGluZ3Moe2RhdGE6SlNPTi5zdHJpbmdpZnkoe3VzZXI6e2JpbzplWzBdLnZhbHVlLGVtYWlsOmVbMV0udmFsdWUsaW1hZ2U6ZVsyXS52YWx1ZSxwYXNzd29yZDplWzNdLnZhbHVlLHVzZXJuYW1lOmVbNF0udmFsdWV9fSl9KS50aGVuKGU9Pntjb25zdCB0PWUuanNvbi5lcnJvcnM7dD9vLmVycm9ycz10Ok5lby5NYWluLnNldFJvdXRlKHt2YWx1ZTpcIi9wcm9maWxlL1wiK2UuanNvbi51c2VyLnVzZXJuYW1lfSl9KX0pfX0pOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==