"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["dist_esm_src_code_executor_Neo_mjs"],{

/***/ "./dist/esm/src/code/executor/Neo.mjs"
/*!********************************************!*\
  !*** ./dist/esm/src/code/executor/Neo.mjs ***!
  \********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
const n=/className\s*:\s*['"]([^'"]+)['"]/g,t=/export\s+(?:default\s+)?(?:const|let|var|class|function|async\s+function|generator\s+function|async\s+generator\s+function|(\{[\s\S]*?\}))/g,s=/import\s+(?:([\w-]+)|\{([^}]+)\})\s+from\s+['"]([^'"]+)['"]/;/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.code.executor.Neo"};findClassNames(e){let t,s=[];for(;null!==(t=n.exec(e));)s.push(t[1]);return s}findMainClassName(e){let n=this.findClassNames(e),t=null,s=["MainContainer","MainComponent","MainView","Main"];if(n.length>0){for(const e of s)if(t=n.find(n=>n.endsWith(e)),t)break;t||(t=n[n.length-1])}return t}async execute({code:e,container:n}){let o,a,{environment:i}=Neo.config,r=e,l=this.findMainClassName(r),c=[],m=[],d=[],p=[];r.split("\n").forEach(e=>{let n=e.match(s);if(n){let e,t=n[1],s=n[2]?.split(",").map(e=>e.trim()),o=n[3];"development"===i?o.startsWith(".")&&(o="../"+o):"dist/development"===i?(e=o.lastIndexOf("../"),o=0===e?"../../../../src/"+o.slice(e+3):o.slice(0,e)+"../../../"+o.slice(e+3)):"dist/production"===i&&(e=o.lastIndexOf("../"),o=0===e?"../../../esm/src/"+o.slice(e+3):o.slice(0,e)+"../../esm/"+o.slice(e+3)),m.push({defaultImport:t,namedImports:s,path:o})}else e.match(t)||c.push(`    ${e}`)}),a=m.map((e,n)=>{let t=`Module${n}`;return d.push(t),e.defaultImport&&p.push(`    const ${e.defaultImport} = ${t}.default;`),e.namedImports&&p.push(`    const {${e.namedImports.join(", ")}} = ${t};`),`import('${e.path}')`}),o=["Promise.all([",`    ${a.join(",\n")}`,`]).then(([${d.join(", ")}]) => {`,`${p.join("\n")}`,`    ${c.join("\n")}`,"",`    module = Neo.ns('${l}');`,"","    if (module && (","        Neo.component.Base.isPrototypeOf(module) ||","        Neo.functional.component.Base.isPrototypeOf(module)","    )) {","        container.add({module})","    }","})",".catch(error => {",'    console.warn("LivePreview Error:", error);',"    container.add({ntype:'component', html:error.message});","})"].join("\n"),n.removeAll(!0,!0),this.findClassNames(o).forEach(e=>{let n=e.split("."),t=n.pop(),s=Neo.ns(n);s&&delete s[t]});try{new Function("container","module",o)(n,undefined)}catch(e){n.add({ntype:"component",html:e.message})}return{}}}));

/***/ }

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC9kaXN0X2VzbV9zcmNfY29kZV9leGVjdXRvcl9OZW9fbWpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQW1DLDZLQUE2SyxVQUFVLCtCQUErQixJQUFJLEtBQUssNkJBQTZCLGlFQUFlLDZCQUE2QixzREFBQyxDQUFDLGVBQWUsbUNBQW1DLGtCQUFrQixXQUFXLEtBQUsscUJBQXFCLGNBQWMsU0FBUyxxQkFBcUIsMEZBQTBGLGVBQWUsdURBQXVELHFCQUFxQixTQUFTLGVBQWUsbUJBQW1CLEVBQUUsU0FBUyxjQUFjLGdFQUFnRSwwQkFBMEIsaUJBQWlCLE1BQU0sd0RBQXdELHVUQUF1VCxzQ0FBc0MsRUFBRSwrQkFBK0IsRUFBRSxHQUFHLGtCQUFrQixlQUFlLEVBQUUsRUFBRSxzREFBc0QsaUJBQWlCLElBQUksRUFBRSxTQUFTLHNDQUFzQyxFQUFFLDRCQUE0QixJQUFJLEdBQUcsY0FBYyxPQUFPLElBQUksNEJBQTRCLGNBQWMsZUFBZSxhQUFhLE9BQU8sS0FBSyxhQUFhLFNBQVMsYUFBYSw2QkFBNkIsRUFBRSxHQUFHLHdKQUF3SiwwQkFBMEIsT0FBTyxTQUFTLElBQUkscUJBQXFCLGlEQUFpRCxzQkFBc0Isc0NBQXNDLEVBQUUsSUFBSSxxRUFBcUUseUNBQXlDLGVBQWUsRUFBRSxJQUFJLGtEQUFrRCxTQUFTLE9BQU8saUNBQWlDLEVBQUUsVUFBVSxDQUFDLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2NvZGUvZXhlY3V0b3IvTmVvLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZSBmcm9tXCIuLi8uLi9jb3JlL0Jhc2UubWpzXCI7Y29uc3Qgbj0vY2xhc3NOYW1lXFxzKjpcXHMqWydcIl0oW14nXCJdKylbJ1wiXS9nLHQ9L2V4cG9ydFxccysoPzpkZWZhdWx0XFxzKyk/KD86Y29uc3R8bGV0fHZhcnxjbGFzc3xmdW5jdGlvbnxhc3luY1xccytmdW5jdGlvbnxnZW5lcmF0b3JcXHMrZnVuY3Rpb258YXN5bmNcXHMrZ2VuZXJhdG9yXFxzK2Z1bmN0aW9ufChcXHtbXFxzXFxTXSo/XFx9KSkvZyxzPS9pbXBvcnRcXHMrKD86KFtcXHctXSspfFxceyhbXn1dKylcXH0pXFxzK2Zyb21cXHMrWydcIl0oW14nXCJdKylbJ1wiXS87ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBle3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5jb2RlLmV4ZWN1dG9yLk5lb1wifTtmaW5kQ2xhc3NOYW1lcyhlKXtsZXQgdCxzPVtdO2Zvcig7bnVsbCE9PSh0PW4uZXhlYyhlKSk7KXMucHVzaCh0WzFdKTtyZXR1cm4gc31maW5kTWFpbkNsYXNzTmFtZShlKXtsZXQgbj10aGlzLmZpbmRDbGFzc05hbWVzKGUpLHQ9bnVsbCxzPVtcIk1haW5Db250YWluZXJcIixcIk1haW5Db21wb25lbnRcIixcIk1haW5WaWV3XCIsXCJNYWluXCJdO2lmKG4ubGVuZ3RoPjApe2Zvcihjb25zdCBlIG9mIHMpaWYodD1uLmZpbmQobj0+bi5lbmRzV2l0aChlKSksdClicmVhazt0fHwodD1uW24ubGVuZ3RoLTFdKX1yZXR1cm4gdH1hc3luYyBleGVjdXRlKHtjb2RlOmUsY29udGFpbmVyOm59KXtsZXQgbyxhLHtlbnZpcm9ubWVudDppfT1OZW8uY29uZmlnLHI9ZSxsPXRoaXMuZmluZE1haW5DbGFzc05hbWUociksYz1bXSxtPVtdLGQ9W10scD1bXTtyLnNwbGl0KFwiXFxuXCIpLmZvckVhY2goZT0+e2xldCBuPWUubWF0Y2gocyk7aWYobil7bGV0IGUsdD1uWzFdLHM9blsyXT8uc3BsaXQoXCIsXCIpLm1hcChlPT5lLnRyaW0oKSksbz1uWzNdO1wiZGV2ZWxvcG1lbnRcIj09PWk/by5zdGFydHNXaXRoKFwiLlwiKSYmKG89XCIuLi9cIitvKTpcImRpc3QvZGV2ZWxvcG1lbnRcIj09PWk/KGU9by5sYXN0SW5kZXhPZihcIi4uL1wiKSxvPTA9PT1lP1wiLi4vLi4vLi4vLi4vc3JjL1wiK28uc2xpY2UoZSszKTpvLnNsaWNlKDAsZSkrXCIuLi8uLi8uLi9cIitvLnNsaWNlKGUrMykpOlwiZGlzdC9wcm9kdWN0aW9uXCI9PT1pJiYoZT1vLmxhc3RJbmRleE9mKFwiLi4vXCIpLG89MD09PWU/XCIuLi8uLi8uLi9lc20vc3JjL1wiK28uc2xpY2UoZSszKTpvLnNsaWNlKDAsZSkrXCIuLi8uLi9lc20vXCIrby5zbGljZShlKzMpKSxtLnB1c2goe2RlZmF1bHRJbXBvcnQ6dCxuYW1lZEltcG9ydHM6cyxwYXRoOm99KX1lbHNlIGUubWF0Y2godCl8fGMucHVzaChgICAgICR7ZX1gKX0pLGE9bS5tYXAoKGUsbik9PntsZXQgdD1gTW9kdWxlJHtufWA7cmV0dXJuIGQucHVzaCh0KSxlLmRlZmF1bHRJbXBvcnQmJnAucHVzaChgICAgIGNvbnN0ICR7ZS5kZWZhdWx0SW1wb3J0fSA9ICR7dH0uZGVmYXVsdDtgKSxlLm5hbWVkSW1wb3J0cyYmcC5wdXNoKGAgICAgY29uc3QgeyR7ZS5uYW1lZEltcG9ydHMuam9pbihcIiwgXCIpfX0gPSAke3R9O2ApLGBpbXBvcnQoJyR7ZS5wYXRofScpYH0pLG89W1wiUHJvbWlzZS5hbGwoW1wiLGAgICAgJHthLmpvaW4oXCIsXFxuXCIpfWAsYF0pLnRoZW4oKFske2Quam9pbihcIiwgXCIpfV0pID0+IHtgLGAke3Auam9pbihcIlxcblwiKX1gLGAgICAgJHtjLmpvaW4oXCJcXG5cIil9YCxcIlwiLGAgICAgbW9kdWxlID0gTmVvLm5zKCcke2x9Jyk7YCxcIlwiLFwiICAgIGlmIChtb2R1bGUgJiYgKFwiLFwiICAgICAgICBOZW8uY29tcG9uZW50LkJhc2UuaXNQcm90b3R5cGVPZihtb2R1bGUpIHx8XCIsXCIgICAgICAgIE5lby5mdW5jdGlvbmFsLmNvbXBvbmVudC5CYXNlLmlzUHJvdG90eXBlT2YobW9kdWxlKVwiLFwiICAgICkpIHtcIixcIiAgICAgICAgY29udGFpbmVyLmFkZCh7bW9kdWxlfSlcIixcIiAgICB9XCIsXCJ9KVwiLFwiLmNhdGNoKGVycm9yID0+IHtcIiwnICAgIGNvbnNvbGUud2FybihcIkxpdmVQcmV2aWV3IEVycm9yOlwiLCBlcnJvcik7JyxcIiAgICBjb250YWluZXIuYWRkKHtudHlwZTonY29tcG9uZW50JywgaHRtbDplcnJvci5tZXNzYWdlfSk7XCIsXCJ9KVwiXS5qb2luKFwiXFxuXCIpLG4ucmVtb3ZlQWxsKCEwLCEwKSx0aGlzLmZpbmRDbGFzc05hbWVzKG8pLmZvckVhY2goZT0+e2xldCBuPWUuc3BsaXQoXCIuXCIpLHQ9bi5wb3AoKSxzPU5lby5ucyhuKTtzJiZkZWxldGUgc1t0XX0pO3RyeXtuZXcgRnVuY3Rpb24oXCJjb250YWluZXJcIixcIm1vZHVsZVwiLG8pKG4sdW5kZWZpbmVkKX1jYXRjaChlKXtuLmFkZCh7bnR5cGU6XCJjb21wb25lbnRcIixodG1sOmUubWVzc2FnZX0pfXJldHVybnt9fX0pOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=