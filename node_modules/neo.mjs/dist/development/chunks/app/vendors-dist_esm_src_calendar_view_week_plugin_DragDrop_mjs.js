"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["vendors-dist_esm_src_calendar_view_week_plugin_DragDrop_mjs"],{

/***/ "./dist/esm/src/calendar/view/week/EventDragZone.mjs":
/*!***********************************************************!*\
  !*** ./dist/esm/src/calendar/view/week/EventDragZone.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _util_Date_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../util/Date.mjs */ "./dist/esm/src/util/Date.mjs");
/* harmony import */ var _draggable_DragProxyComponent_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../draggable/DragProxyComponent.mjs */ "./dist/esm/src/draggable/DragProxyComponent.mjs");
/* harmony import */ var _draggable_DragZone_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../draggable/DragZone.mjs */ "./dist/esm/src/draggable/DragZone.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _draggable_DragZone_mjs__WEBPACK_IMPORTED_MODULE_2__["default"]{static config={className:"Neo.calendar.view.week.EventDragZone",addDragProxyCls:!1,enableResizingAcrossOppositeEdge:!0,axisEndTime:0,axisStartTime:0,columnHeight:0,columnTop:0,currentInterval:0,eventDuration:0,eventRecord:null,forceUpdate:!1,hasOverflow:!1,intervalSize:15,keepEndDate:!1,keepStartDate:!1,moveHorizontal:!1,moveInMainThread:!1,newEndDate:null,newStartDate:null,scrollFactorLeft:3,useProxyWrapper:!1};addBodyCursorCls(){Neo.applyDeltas(this.appName,{id:"document.body",cls:{add:["neo-cursor-move"]}})}adjustEndDate(e){return 0===e.getHours()&&0===e.getMinutes()?e.setMinutes(e.getMinutes()-1):23===e.getHours()&&59===e.getMinutes()||e.getMinutes()%this.intervalSize===0||e.setMinutes(e.getMinutes()+1),e}afterSetProxyParentId(e,t){if(e&&void 0!==t){let t=this;t.dragProxy?.vdom.cn[0].id&&Neo.applyDeltas(t.appName,{action:"moveNode",id:t.dragProxy.id,index:0,parentId:e})}}async createDragProxy(e,a=!0){let o=this,s=Neo.getComponent(o.getDragElementRoot().id)||o.owner,i=o.dragProxyConfig?.vdom,d=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].clone(i||o.dragElement);d.cn[2].removeDom=!1;const l={module:_draggable_DragProxyComponent_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],appName:o.appName,moveInMainThread:o.moveInMainThread,parentId:o.proxyParentId,windowId:o.windowId,...o.dragProxyConfig,vdom:o.useProxyWrapper?{cn:[d]}:d};return l.cls=l.cls||[],l.cls.push("neo-focus"),s&&l.cls.push(s.getTheme()),d.cls&&!o.useProxyWrapper&&l.cls.push(...d.cls),o.addDragProxyCls&&_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].add(l.cls,o.dragProxyCls),Object.assign(l.style,{height:`${e.height}px`,top:e.y-o.columnTop+"px",width:`${e.width}px`}),a?o.dragProxy=Neo.create(l):l}dragEnd(t){super.dragEnd(t);let a,r,o=this,{owner:s}=o,i=o.eventRecord;o.keepStartDate?(a=o.newEndDate,r=o.newStartDate||i.startDate):(r=new Date(_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].find(s.vdom,o.proxyParentId).vdom.flag+"T12:00:00.000Z"),r.setHours(o.axisStartTime),r.setMinutes(o.currentInterval*o.intervalSize),o.keepEndDate?(a=o.newEndDate||i.endDate,r=o.newStartDate||r):(a=_util_Date_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].clone(r),a.setMinutes(a.getMinutes()+o.eventDuration))),a=o.adjustEndDate(a),i.setSilent({endDate:a,startDate:r}),Object.assign(o,{currentInterval:0,hasOverflow:!1,keepEndDate:!1,keepStartDate:!1,newEndDate:null,newStartDate:null,proxyParentId:null}),s.getStateProvider().getStore("events").doSort(),s.updateEvents()}dragMove(t){let a,r,n,o,s,i,d,l,u,c,p,m,g,D,f=this,{axisEndTime:v,axisStartTime:h,columnHeight:x,eventDuration:y,intervalSize:w,keepEndDate:M,keepStartDate:E,owner:P}=f,S=0,H=t.targetPath,I=H.length,N=f.eventRecord,T=!1,{timeAxis:j}=P;if(f.dragProxy){if(!M&&!E)for(;S<I;S++)if(H[S].cls.includes("neo-c-w-column")){f.proxyParentId=H[S].id;break}if(u=60*(v-h)/w,l=x/u,m=Math.min(x,t.clientY-f.offsetY-f.columnTop),r=Math.floor(m/l),s=_util_Date_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].clone(N.endDate),g=_util_Date_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].clone(N.startDate),M&&h>g.getHours()&&(g.setHours(h),g.setMinutes(0),y=(s-g)/60/1e3),E&&v<s.getHours()&&(s.setHours(v),s.setMinutes(0),y=(s-g)/60/1e3),M||(r=Math.min(r,u-y/w)),n=[{id:f.dragProxy.id,style:{}}],M||E)if(a=_util_Date_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].clone(N.startDate),a.setHours(h),a.setMinutes(0),p=P.minimumEventDuration/w,D=(N.startDate-a)/w/60/1e3,M){if(c=D+y/w,f.enableResizingAcrossOppositeEdge){if(f.forceUpdate&&r>c-p&&r<c+p)return;r>=c+p?(T=!0,f.forceUpdate=!0,s.setHours(h),s.setMinutes(r*w),s=f.adjustEndDate(s),f.newEndDate=s,g.setHours(h),g.setMinutes(c*w),f.newStartDate=g,o=(s-g)/60/60/1e3,n[0].style.top=`calc(${c*l/x*100}% + 1px)`):(f.forceUpdate=!1,f.newStartDate=null)}T||(r=Math.min(r,c-p))}else if(E){if(c=D-y/w,f.enableResizingAcrossOppositeEdge)if(r=Math.max(-y/w,r),r<=c-p)T=!0,f.forceUpdate=!0,s.setHours(h),s.setMinutes(y+c*w),s=f.adjustEndDate(s),f.newEndDate=s,g.setHours(h),g.setMinutes(y+r*w),f.newStartDate=g,o=(s-g)/60/60/1e3,m=(y/w+r)*l,m=m/x*100,n[0].style.top=`calc(${m}% + 1px)`;else{if(f.forceUpdate&&r<c+p)return;f.forceUpdate&&r>=c+p&&f.currentInterval!==r&&(f.forceUpdate=!1,f.newStartDate=null,n[0].style.top=`calc(${D*l/x*100}% + 1px)`)}T||(r=Math.max(r,c+p))}E||(r=Math.max(0,r)),f.currentInterval!==r&&(T||(M||(s.setHours(h),s.setMinutes(y+r*w)),E?(f.newEndDate=s,o=(s-N.startDate)/60/60/1e3):(g.setHours(h),g.setMinutes(r*w),m=r*l,m=m/x*100,n[0].style.top=`calc(${m}% + 1px)`),M&&(o=(N.endDate-g)/60/60/1e3)),s=f.adjustEndDate(s),n.push({id:f.dragProxy.vdom.cn[2].id,innerHTML:P.intlFormat_time.format(s)}),(M||E)&&(d=Math.round(o/(v-h)*100*1e3)/1e3,n[0].style.height=`calc(${d}% - 2px)`),n.push({id:f.dragProxy.vdom.cn[0].id,innerHTML:P.intlFormat_time.format(g)}),f.dragProxy.vdom.cn[0].id&&(i=(o&&60*o||y)/j.interval,i<=2?j.rowHeight/i<25&&!f.hasOverflow&&(n.push({id:f.dragProxy.id,cls:{add:["neo-overflow"]}}),f.hasOverflow=!0):f.hasOverflow&&(n.push({id:f.dragProxy.id,cls:{remove:["neo-overflow"]}}),f.hasOverflow=!1),Neo.applyDeltas(f.appName,n))),f.currentInterval=r}}async dragStart(e){let t=this,a=await t.owner.getDomRect([t.getDragElementRoot().id,e.path[1].id]),r=(t.eventRecord.endDate-t.eventRecord.startDate)/60/1e3,n=e.clientX-a[0].left,o=e.clientY-a[0].top;Object.assign(t,{columnHeight:a[1].height,columnTop:a[1].top,dragElementRect:a[0],eventDuration:Math.round(r/t.intervalSize)*t.intervalSize,offsetX:n,offsetY:o}),await t.createDragProxy(a[0]),t.fire("dragStart",{dragElementRect:a[0],id:t.id,offsetX:n,offsetY:o}),t.dragMove(e)}removeBodyCursorCls(){Neo.applyDeltas(this.appName,{id:"document.body",cls:{remove:["neo-cursor-move"]}})}}));

/***/ }),

/***/ "./dist/esm/src/calendar/view/week/plugin/DragDrop.mjs":
/*!*************************************************************!*\
  !*** ./dist/esm/src/calendar/view/week/plugin/DragDrop.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _plugin_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../plugin/Base.mjs */ "./dist/esm/src/plugin/Base.mjs");
/* harmony import */ var _util_Date_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../util/Date.mjs */ "./dist/esm/src/util/Date.mjs");
/* harmony import */ var _EventDragZone_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../EventDragZone.mjs */ "./dist/esm/src/calendar/view/week/EventDragZone.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
const r=Symbol.for("newRecordSymbol");/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _plugin_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.calendar.view.week.plugin.DragDrop",ntype:"plugin-calendar-week-dragdrop",isDragging:!1,resizablePluginType:"calendar-week-eventresizable"};construct(e){super.construct(e);let t=this,n={scope:t,delegate:".neo-c-w-column"},a={scope:t,delegate:".neo-event"};t.owner.addDomListeners([{"drag:end":t.onColumnDragEnd,...n},{"drag:end":t.onEventDragEnd,...a},{"drag:move":t.onColumnDragMove,...n},{"drag:move":t.onEventDragMove,...a},{"drag:start":t.onColumnDragStart,...n},{"drag:start":t.onEventDragStart,...a}])}adjustResizeEvent(e){return e.path.shift(),e.targetPath.shift(),e.target=e.path[0],e}getEventDragZone(e){let{appName:t,owner:a,windowId:r}=this,{eventDragZone:i,timeAxis:o}=a,s={axisEndTime:o.getTime(a.endTime),axisStartTime:o.getTime(a.startTime),dragElement:e.dragElement,enableResizingAcrossOppositeEdge:e.enableResizingAcrossOppositeEdge,eventRecord:e.eventRecord,proxyParentId:e.proxyParentId};return i?i.set(s):a.eventDragZone=i=Neo.create({module:_EventDragZone_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],appName:t,owner:a,scrollContainerId:a.getScrollContainer().id,windowId:r,...s,dragProxyConfig:{style:{transition:"none",willChange:"height"}}}),i}isActiveCalendar(){let{owner:e}=this,{calendarStore:t}=e,n=e.data.activeCalendarId||t.getAt(0)[t.keyProperty];return t.get(n).active}isTopLevelColumn(e){return e[0].cls.includes("neo-c-w-column")}isTopLevelEvent(e){return e.path[0].cls.includes("neo-event")}onColumnDragEnd(e){let t=this,{owner:n}=t,a=t[r];a&&t.isTopLevelColumn(e.path)&&(t.isDragging=!1,delete t[r],Neo.applyDeltas(t.appName,{id:n.getEventId(a.id),style:{opacity:1}}).then(()=>{n.eventDragZone.dragEnd(),n.getPlugin(t.resizablePluginType).onDragEnd(e)}))}onColumnDragMove(e){let t=this;t.isActiveCalendar()&&t.isTopLevelColumn(e.path)&&t.owner.eventDragZone?.dragMove(e)}async onColumnDragStart(e){let n=this;if(n.isActiveCalendar()&&n.isTopLevelColumn(e.targetPath)){let i,o,s,g,d,{owner:l}=n,m=l.timeAxis.getTime(l.startTime),{calendarStore:p}=l,v=e.path[0].rect,u=15,c=60*(l.timeAxis.getTime(l.endTime)-m)/u,D=v.height/c,E=Math.min(v.height,e.clientY-v.top),h=Math.floor(E/D),w=new Date(_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].find(l.vdom,e.path[0].id).vdom.flag+"T12:00:00.000Z");n.isDragging=!0,w.setHours(m),w.setMinutes(Math.min(h*u,c*u-l.minimumEventDuration)),o=_util_Date_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].clone(w),o.setMinutes(o.getMinutes()+l.minimumEventDuration),0===o.getHours()&&0===o.getMinutes()&&o.setMinutes(o.getMinutes()-1),d=l.eventStore.add({calendarId:l.data.activeCalendarId||p.getAt(0)[p.keyProperty],endDate:o,startDate:w,title:"New Event"})[0],n[r]=d,await n.timeout(50),g=l.getEventId(d.id),i=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].find(l.vdom,g).vdom,s=n.getEventDragZone({dragElement:i,enableResizingAcrossOppositeEdge:!0,eventRecord:d,proxyParentId:e.path[0].id}),l.getPlugin(n.resizablePluginType).onDragStart(e),await s.dragStart(e),await n.timeout(50),n.isDragging&&Neo.applyDeltas(n.appName,{id:g,style:{opacity:0}})}}onEventDragEnd(e){let t=this,{owner:n}=t,{eventDragZone:a}=n;n.enableDrag&&(a.dragEnd(),t.isTopLevelEvent(e)?a.removeBodyCursorCls():(e=t.adjustResizeEvent(e),n.getPlugin(t.resizablePluginType).onDragEnd(e)),t.isDragging=!1)}onEventDragMove(e){let t=this,{owner:n}=t;n.enableDrag&&(t.isTopLevelEvent(e)||(e=t.adjustResizeEvent(e)),n.eventDragZone.dragMove(e))}onEventDragStart(e){let t=this,{owner:n}=t,r=n.data;if(n.enableDrag){let i,o,s=t.isTopLevelEvent(e);s||(e=t.adjustResizeEvent(e)),t.isDragging=!0,i=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].find(n.vdom,e.path[0].id).vdom,o=t.getEventDragZone({dragElement:i,enableResizingAcrossOppositeEdge:r.events.enableResizingAcrossOppositeEdge,eventRecord:n.eventStore.get(i.flag),proxyParentId:e.path[1].id}),s?o.addBodyCursorCls():n.getPlugin(t.resizablePluginType).onDragStart(e),o.dragStart(e)}}}));

/***/ }),

/***/ "./dist/esm/src/draggable/DragProxyComponent.mjs":
/*!*******************************************************!*\
  !*** ./dist/esm/src/draggable/DragProxyComponent.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.draggable.DragProxyComponent",ntype:"dragproxy",autoMount:!0,autoRender:!0,baseCls:["neo-dragproxy"],moveInMainThread:!0};afterSetMounted(e,a){if(super.afterSetMounted(e,a),e&&this.moveInMainThread){let{appName:e,id:a,windowId:o}=this;Neo.main.addon.DragDrop.setDragProxyElement({appName:e,id:a,windowId:o})}}}));

/***/ }),

/***/ "./dist/esm/src/draggable/DragZone.mjs":
/*!*********************************************!*\
  !*** ./dist/esm/src/draggable/DragZone.mjs ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _DragProxyComponent_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DragProxyComponent.mjs */ "./dist/esm/src/draggable/DragProxyComponent.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _core_Observable_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Observable.mjs */ "./dist/esm/src/core/Observable.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static observable=!0;static config={className:"Neo.draggable.DragZone",ntype:"dragzone",addDragProxyCls:!0,alwaysFireDragMove:!1,appName_:null,bodyCursorStyle:null,boundaryContainerId:null,boundaryContainerRect:null,data:null,dragElement:null,dragElementRect:null,dragProxy:null,dragProxyConfig_:null,dragProxyCls:"neo-dragproxy",dropZoneIdentifier:null,moveHorizontal:!0,moveInMainThread:!0,moveVertical:!0,offsetX:0,offsetY:0,owner:null,proxyParentId_:"document.body",scrollContainerId:null,scrollFactorLeft:1,scrollFactorTop:1,useProxyWrapper:!0,windowId_:null};construct(e){super.construct(e),Neo.main.addon.DragDrop||console.error("You can not use Neo.draggable.DragZone without adding Neo.main.addon.DragDrop to the main thread addons",this.id)}afterSetWindowId(e,r){e&&Neo.currentWorker.insertThemeFiles(e,this.__proto__)}beforeGetDragProxyConfig(e){return Neo.clone(e,!0,!0)}async createDragProxy(e,t=!0){let n=this,l=Neo.getComponent(n.getDragElementRoot().id)||n.owner,d=n.dragElementRect,i=n.dragProxyConfig?.vdom,s=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].clone(i||n.dragElement),g={module:_DragProxyComponent_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],appName:n.appName,moveInMainThread:n.moveInMainThread,parentId:n.proxyParentId,windowId:n.windowId,...n.dragProxyConfig,vdom:n.useProxyWrapper?{cn:[s]}:s};return g.cls=g.cls||[],l&&g.cls.push(l.getTheme()),s.cls&&!n.useProxyWrapper&&g.cls.push(...s.cls),n.addDragProxyCls&&g.cls&&_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].add(g.cls,n.dragProxyCls),g.style=g.style||{},Object.assign(g.style,{height:`${e.height}px`,left:`${n.moveHorizontal?e.x:d.x}px`,top:`${n.moveVertical?e.y:d.y}px`,width:`${e.width}px`}),t?n.dragProxy=Neo.create(g):g}destroyDragProxy(){let e=this,r=e.dragProxy.id;e.timeout(e.moveInMainThread?0:30).then(()=>{Neo.currentWorker.promiseMessage("main",{action:"updateDom",appName:e.appName,deltas:[{action:"removeNode",id:r}]})}),e.dragProxy.destroy()}dragEnd(e){let r=this,{owner:t}=r,{cls:a}=t;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].remove(a,"neo-is-dragging"),t.cls=a,r.dragProxy&&(r.destroyDragProxy(),r.dragProxy=null),Object.assign(r,{dragElementRect:null,offsetX:0,offsetY:0,scrollContainerId:null}),r.fire("dragEnd",e),r.resetData()}dragMove(e){let r,o=this;!o.moveInMainThread&&o.dragProxy&&(r=o.dragProxy.style,o.moveHorizontal&&(r.left=e.clientX-o.offsetX+"px"),o.moveVertical&&(r.top=e.clientY-o.offsetY+"px"),o.dragProxy.style=r),o.fire("dragMove",e)}async dragStart(e){let r,t,a,n=this,{appName:l,owner:d,windowId:i}=n,{cls:s}=d,g=n.getDragElementRect(e);n.setData(),r=await Neo.main.addon.DragDrop.setConfigs({appName:l,windowId:i,...n.getMainThreadConfigs()}),n.boundaryContainerRect=r.boundaryContainerRect,_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].add(s,"neo-is-dragging"),d.cls=s,t=e.clientX-g.left,a=e.clientY-g.top,Object.assign(n,{dragElementRect:g,offsetX:t,offsetY:a}),await n.createDragProxy(g),n.fire("dragStart",{clientX:e.clientX,clientY:e.clientY,dragElementRect:g,eventData:e,id:n.id,offsetX:t,offsetY:a})}getDragElementRect(e){let r=this.getDragElementRoot().id;for(let o of e.path)if(o.id===r)return o.rect;for(let o of e.targetPath)if(o.id===r)return o.rect;return null}getDragElementRoot(){return this.dragElement}getMainThreadConfigs(){let e=this;return{alwaysFireDragMove:e.alwaysFireDragMove,bodyCursorStyle:e.bodyCursorStyle,boundaryContainerId:e.boundaryContainerId,dragElementRootId:e.getDragElementRoot().id,dragProxyCls:e.dragProxyCls,dragZoneId:e.id,dropZoneIdentifier:e.dropZoneIdentifier,moveHorizontal:e.moveHorizontal,moveVertical:e.moveVertical,scrollContainerId:e.scrollContainerId,scrollFactorLeft:e.scrollFactorLeft,scrollFactorTop:e.scrollFactorTop}}onDrop(e){this.fire("drop",e)}onDropEnter(e){this.fire("drop:enter",e)}onDropLeave(e){this.fire("drop:leave",e)}resetData(){this.timeout(50).then(()=>{this.data=null})}setData(e={}){let r=this;r.data={dragElement:r.getDragElementRoot(),dragZoneId:r.id,...e}}}));

/***/ }),

/***/ "./dist/esm/src/plugin/Base.mjs":
/*!**************************************!*\
  !*** ./dist/esm/src/plugin/Base.mjs ***!
  \**************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.plugin.Base",ntype:"plugin",owner:null,windowId_:null};construct(e){super.construct(e);let n=this,{owner:o}=n;o.isConstructed?n.onOwnerConstructed():o.on("constructed",()=>{n.onOwnerConstructed()},n,{once:!0}),o.mounted?n.onOwnerMounted():o.on("mounted",n.onOwnerMounted,n)}afterSetWindowId(e,n){e&&Neo.currentWorker.insertThemeFiles(e,this.__proto__)}onOwnerConstructed(){let{owner:e}=this;e.windowId&&(this.windowId=e.windowId)}onOwnerMounted(){}}));

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC92ZW5kb3JzLWRpc3RfZXNtX3NyY19jYWxlbmRhcl92aWV3X3dlZWtfcGx1Z2luX0RyYWdEcm9wX21qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMk4saUVBQWUsNkJBQTZCLCtEQUFDLENBQUMsZUFBZSxpWkFBaVosbUJBQW1CLDhCQUE4Qix3QkFBd0IseUJBQXlCLEVBQUUsaUJBQWlCLDBMQUEwTCwyQkFBMkIsa0JBQWtCLFdBQVcsdURBQXVELHVEQUF1RCxHQUFHLDhCQUE4Qiw4RkFBOEYsc0RBQUMseUJBQXlCLHFCQUFxQixTQUFTLE9BQU8seUVBQUMsaUpBQWlKLE9BQU8sSUFBSSw4SUFBOEksdURBQUMsa0RBQWtELFVBQVUsU0FBUyxzQ0FBc0MsUUFBUSxJQUFJLGdDQUFnQyxXQUFXLGlCQUFpQixnQkFBZ0IsUUFBUSxtQkFBbUIsMkVBQTJFLHNEQUFDLHNNQUFzTSxzREFBQywyRkFBMkYsc0JBQXNCLG1CQUFtQixzSEFBc0gsb0VBQW9FLFlBQVksd0NBQXdDLGtIQUFrSCx1REFBdUQsV0FBVyxHQUFHLGdCQUFnQixlQUFlLElBQUksNENBQTRDLHdCQUF3QixNQUFNLHdGQUF3RixzREFBQyxvQkFBb0Isc0RBQUMscUxBQXFMLDJCQUEyQixZQUFZLHNEQUFDLDJHQUEyRywrQ0FBK0Msc0NBQXNDLDRMQUE0TCxVQUFVLGtEQUFrRCx1QkFBdUIsV0FBVyx5UkFBeVIsRUFBRSxVQUFVLEtBQUssK0JBQStCLDJHQUEyRyxVQUFVLFdBQVcsdUJBQXVCLCtNQUErTSxFQUFFLHdFQUF3RSxtRUFBbUUsdUVBQXVFLEVBQUUsbUJBQW1CLG1FQUFtRSx3R0FBd0csdUJBQXVCLHNCQUFzQiw0Q0FBNEMsdUJBQXVCLHlCQUF5Qix3RUFBd0UsbUJBQW1CLG9MQUFvTCxpQkFBaUIsK0lBQStJLG9EQUFvRCxpREFBaUQsZ0JBQWdCLHNCQUFzQiw4QkFBOEIsd0JBQXdCLDRCQUE0QixHQUFHLENBQUMsRTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQS9zSyxzQ0FBc0MsaUVBQWUsNkJBQTZCLHdEQUFDLENBQUMsZUFBZSwySkFBMkosYUFBYSxtQkFBbUIsY0FBYyxtQ0FBbUMsSUFBSSwrQkFBK0IsMEJBQTBCLGtDQUFrQyxFQUFFLGlDQUFpQyxFQUFFLG9DQUFvQyxFQUFFLG1DQUFtQyxFQUFFLHNDQUFzQyxFQUFFLHFDQUFxQyxHQUFHLHFCQUFxQixnRUFBZ0Usb0JBQW9CLElBQUksNkJBQTZCLE9BQU8sMkJBQTJCLE1BQU0sNk5BQTZOLGdEQUFnRCxPQUFPLDBEQUFDLGdHQUFnRyxPQUFPLHdDQUF3QyxJQUFJLG1CQUFtQixJQUFJLFFBQVEsT0FBTyxnQkFBZ0Isd0RBQXdELHVCQUF1QixvQkFBb0IsMkNBQTJDLG1CQUFtQiwyQ0FBMkMsbUJBQW1CLFlBQVksUUFBUSxVQUFVLHVGQUF1Riw2QkFBNkIsV0FBVyxZQUFZLDBFQUEwRSxHQUFHLG9CQUFvQixXQUFXLHFGQUFxRiwyQkFBMkIsV0FBVywyREFBMkQsZUFBZSxRQUFRLHNDQUFzQyxnQkFBZ0IsaUpBQWlKLHNEQUFDLHVEQUF1RCx1RkFBdUYsc0RBQUMsdUpBQXVKLHNHQUFzRyx1REFBdUQsc0RBQUMsMkNBQTJDLDJGQUEyRixzSUFBc0ksWUFBWSxXQUFXLEdBQUcsa0JBQWtCLFlBQVksUUFBUSxJQUFJLGdCQUFnQixHQUFHLG9LQUFvSyxtQkFBbUIsWUFBWSxRQUFRLEdBQUcsNkZBQTZGLG9CQUFvQixZQUFZLFFBQVEsWUFBWSxpQkFBaUIsK0JBQStCLGdEQUFnRCxzREFBQyxzREFBc0QseUpBQXlKLDRGQUE0RixDQUFDLEU7Ozs7Ozs7Ozs7Ozs7OztBQ0F0eEgsaUVBQWUsNkJBQTZCLDJEQUFDLENBQUMsZUFBZSx5SUFBeUkscUJBQXFCLHdEQUF3RCxJQUFJLDBCQUEwQixNQUFNLDZDQUE2QywwQkFBMEIsSUFBSSxDQUFDLEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBelAsaUVBQWUsNkJBQTZCLHNEQUFDLENBQUMscUJBQXFCLGVBQWUsaWhCQUFpaEIsYUFBYSw2S0FBNkssc0JBQXNCLHdEQUF3RCw0QkFBNEIsMEJBQTBCLDhCQUE4QixrSEFBa0gsc0RBQUMsNEJBQTRCLE9BQU8sK0RBQUMsaUpBQWlKLE9BQU8sSUFBSSw2SEFBNkgsdURBQUMsOENBQThDLHdCQUF3QixVQUFVLFNBQVMsWUFBWSx5QkFBeUIsV0FBVyx1QkFBdUIsYUFBYSxRQUFRLElBQUksZ0NBQWdDLG1CQUFtQiw0QkFBNEIsNkNBQTZDLHlDQUF5Qyw4Q0FBOEMseUJBQXlCLEVBQUUsRUFBRSx3QkFBd0IsV0FBVyxZQUFZLFFBQVEsSUFBSSxNQUFNLEdBQUcsdURBQUMsMkdBQTJHLGdFQUFnRSxvQ0FBb0MsWUFBWSxhQUFhLHNNQUFzTSxtQkFBbUIsa0JBQWtCLDZCQUE2QixJQUFJLE1BQU0sNkJBQTZCLHdEQUF3RCxpREFBaUQsa0RBQWtELHVEQUFDLHdGQUF3RixzQ0FBc0MsaURBQWlELDhGQUE4RixFQUFFLHNCQUFzQixtQ0FBbUMsOENBQThDLG9EQUFvRCxZQUFZLHFCQUFxQix3QkFBd0IsdUJBQXVCLFdBQVcsT0FBTyw2WkFBNlosVUFBVSxvQkFBb0IsZUFBZSwwQkFBMEIsZUFBZSwwQkFBMEIsWUFBWSwyQkFBMkIsZUFBZSxFQUFFLFlBQVksRUFBRSxXQUFXLFFBQVEsMERBQTBELENBQUMsRTs7Ozs7Ozs7Ozs7Ozs7O0FDQTcwSCxpRUFBZSw2QkFBNkIsc0RBQUMsQ0FBQyxlQUFlLHNFQUFzRSxhQUFhLG1CQUFtQixZQUFZLFFBQVEsR0FBRywrREFBK0QsdUJBQXVCLElBQUksUUFBUSxrRUFBa0Usc0JBQXNCLHdEQUF3RCxxQkFBcUIsSUFBSSxRQUFRLE1BQU0sdUNBQXVDLG1CQUFtQixDQUFDLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2NhbGVuZGFyL3ZpZXcvd2Vlay9FdmVudERyYWdab25lLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2NhbGVuZGFyL3ZpZXcvd2Vlay9wbHVnaW4vRHJhZ0Ryb3AubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvZHJhZ2dhYmxlL0RyYWdQcm94eUNvbXBvbmVudC5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9kcmFnZ2FibGUvRHJhZ1pvbmUubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvcGx1Z2luL0Jhc2UubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlIGZyb21cIi4uLy4uLy4uL3V0aWwvRGF0ZS5tanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9kcmFnZ2FibGUvRHJhZ1Byb3h5Q29tcG9uZW50Lm1qc1wiO2ltcG9ydCBhIGZyb21cIi4uLy4uLy4uL2RyYWdnYWJsZS9EcmFnWm9uZS5tanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi91dGlsL0FycmF5Lm1qc1wiO2ltcG9ydCBuIGZyb21cIi4uLy4uLy4uL3V0aWwvVkRvbS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGF7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmNhbGVuZGFyLnZpZXcud2Vlay5FdmVudERyYWdab25lXCIsYWRkRHJhZ1Byb3h5Q2xzOiExLGVuYWJsZVJlc2l6aW5nQWNyb3NzT3Bwb3NpdGVFZGdlOiEwLGF4aXNFbmRUaW1lOjAsYXhpc1N0YXJ0VGltZTowLGNvbHVtbkhlaWdodDowLGNvbHVtblRvcDowLGN1cnJlbnRJbnRlcnZhbDowLGV2ZW50RHVyYXRpb246MCxldmVudFJlY29yZDpudWxsLGZvcmNlVXBkYXRlOiExLGhhc092ZXJmbG93OiExLGludGVydmFsU2l6ZToxNSxrZWVwRW5kRGF0ZTohMSxrZWVwU3RhcnREYXRlOiExLG1vdmVIb3Jpem9udGFsOiExLG1vdmVJbk1haW5UaHJlYWQ6ITEsbmV3RW5kRGF0ZTpudWxsLG5ld1N0YXJ0RGF0ZTpudWxsLHNjcm9sbEZhY3RvckxlZnQ6Myx1c2VQcm94eVdyYXBwZXI6ITF9O2FkZEJvZHlDdXJzb3JDbHMoKXtOZW8uYXBwbHlEZWx0YXModGhpcy5hcHBOYW1lLHtpZDpcImRvY3VtZW50LmJvZHlcIixjbHM6e2FkZDpbXCJuZW8tY3Vyc29yLW1vdmVcIl19fSl9YWRqdXN0RW5kRGF0ZShlKXtyZXR1cm4gMD09PWUuZ2V0SG91cnMoKSYmMD09PWUuZ2V0TWludXRlcygpP2Uuc2V0TWludXRlcyhlLmdldE1pbnV0ZXMoKS0xKToyMz09PWUuZ2V0SG91cnMoKSYmNTk9PT1lLmdldE1pbnV0ZXMoKXx8ZS5nZXRNaW51dGVzKCkldGhpcy5pbnRlcnZhbFNpemU9PT0wfHxlLnNldE1pbnV0ZXMoZS5nZXRNaW51dGVzKCkrMSksZX1hZnRlclNldFByb3h5UGFyZW50SWQoZSx0KXtpZihlJiZ2b2lkIDAhPT10KXtsZXQgdD10aGlzO3QuZHJhZ1Byb3h5Py52ZG9tLmNuWzBdLmlkJiZOZW8uYXBwbHlEZWx0YXModC5hcHBOYW1lLHthY3Rpb246XCJtb3ZlTm9kZVwiLGlkOnQuZHJhZ1Byb3h5LmlkLGluZGV4OjAscGFyZW50SWQ6ZX0pfX1hc3luYyBjcmVhdGVEcmFnUHJveHkoZSxhPSEwKXtsZXQgbz10aGlzLHM9TmVvLmdldENvbXBvbmVudChvLmdldERyYWdFbGVtZW50Um9vdCgpLmlkKXx8by5vd25lcixpPW8uZHJhZ1Byb3h5Q29uZmlnPy52ZG9tLGQ9bi5jbG9uZShpfHxvLmRyYWdFbGVtZW50KTtkLmNuWzJdLnJlbW92ZURvbT0hMTtjb25zdCBsPXttb2R1bGU6dCxhcHBOYW1lOm8uYXBwTmFtZSxtb3ZlSW5NYWluVGhyZWFkOm8ubW92ZUluTWFpblRocmVhZCxwYXJlbnRJZDpvLnByb3h5UGFyZW50SWQsd2luZG93SWQ6by53aW5kb3dJZCwuLi5vLmRyYWdQcm94eUNvbmZpZyx2ZG9tOm8udXNlUHJveHlXcmFwcGVyP3tjbjpbZF19OmR9O3JldHVybiBsLmNscz1sLmNsc3x8W10sbC5jbHMucHVzaChcIm5lby1mb2N1c1wiKSxzJiZsLmNscy5wdXNoKHMuZ2V0VGhlbWUoKSksZC5jbHMmJiFvLnVzZVByb3h5V3JhcHBlciYmbC5jbHMucHVzaCguLi5kLmNscyksby5hZGREcmFnUHJveHlDbHMmJnIuYWRkKGwuY2xzLG8uZHJhZ1Byb3h5Q2xzKSxPYmplY3QuYXNzaWduKGwuc3R5bGUse2hlaWdodDpgJHtlLmhlaWdodH1weGAsdG9wOmUueS1vLmNvbHVtblRvcCtcInB4XCIsd2lkdGg6YCR7ZS53aWR0aH1weGB9KSxhP28uZHJhZ1Byb3h5PU5lby5jcmVhdGUobCk6bH1kcmFnRW5kKHQpe3N1cGVyLmRyYWdFbmQodCk7bGV0IGEscixvPXRoaXMse293bmVyOnN9PW8saT1vLmV2ZW50UmVjb3JkO28ua2VlcFN0YXJ0RGF0ZT8oYT1vLm5ld0VuZERhdGUscj1vLm5ld1N0YXJ0RGF0ZXx8aS5zdGFydERhdGUpOihyPW5ldyBEYXRlKG4uZmluZChzLnZkb20sby5wcm94eVBhcmVudElkKS52ZG9tLmZsYWcrXCJUMTI6MDA6MDAuMDAwWlwiKSxyLnNldEhvdXJzKG8uYXhpc1N0YXJ0VGltZSksci5zZXRNaW51dGVzKG8uY3VycmVudEludGVydmFsKm8uaW50ZXJ2YWxTaXplKSxvLmtlZXBFbmREYXRlPyhhPW8ubmV3RW5kRGF0ZXx8aS5lbmREYXRlLHI9by5uZXdTdGFydERhdGV8fHIpOihhPWUuY2xvbmUociksYS5zZXRNaW51dGVzKGEuZ2V0TWludXRlcygpK28uZXZlbnREdXJhdGlvbikpKSxhPW8uYWRqdXN0RW5kRGF0ZShhKSxpLnNldFNpbGVudCh7ZW5kRGF0ZTphLHN0YXJ0RGF0ZTpyfSksT2JqZWN0LmFzc2lnbihvLHtjdXJyZW50SW50ZXJ2YWw6MCxoYXNPdmVyZmxvdzohMSxrZWVwRW5kRGF0ZTohMSxrZWVwU3RhcnREYXRlOiExLG5ld0VuZERhdGU6bnVsbCxuZXdTdGFydERhdGU6bnVsbCxwcm94eVBhcmVudElkOm51bGx9KSxzLmdldFN0YXRlUHJvdmlkZXIoKS5nZXRTdG9yZShcImV2ZW50c1wiKS5kb1NvcnQoKSxzLnVwZGF0ZUV2ZW50cygpfWRyYWdNb3ZlKHQpe2xldCBhLHIsbixvLHMsaSxkLGwsdSxjLHAsbSxnLEQsZj10aGlzLHtheGlzRW5kVGltZTp2LGF4aXNTdGFydFRpbWU6aCxjb2x1bW5IZWlnaHQ6eCxldmVudER1cmF0aW9uOnksaW50ZXJ2YWxTaXplOncsa2VlcEVuZERhdGU6TSxrZWVwU3RhcnREYXRlOkUsb3duZXI6UH09ZixTPTAsSD10LnRhcmdldFBhdGgsST1ILmxlbmd0aCxOPWYuZXZlbnRSZWNvcmQsVD0hMSx7dGltZUF4aXM6an09UDtpZihmLmRyYWdQcm94eSl7aWYoIU0mJiFFKWZvcig7UzxJO1MrKylpZihIW1NdLmNscy5pbmNsdWRlcyhcIm5lby1jLXctY29sdW1uXCIpKXtmLnByb3h5UGFyZW50SWQ9SFtTXS5pZDticmVha31pZih1PTYwKih2LWgpL3csbD14L3UsbT1NYXRoLm1pbih4LHQuY2xpZW50WS1mLm9mZnNldFktZi5jb2x1bW5Ub3ApLHI9TWF0aC5mbG9vcihtL2wpLHM9ZS5jbG9uZShOLmVuZERhdGUpLGc9ZS5jbG9uZShOLnN0YXJ0RGF0ZSksTSYmaD5nLmdldEhvdXJzKCkmJihnLnNldEhvdXJzKGgpLGcuc2V0TWludXRlcygwKSx5PShzLWcpLzYwLzFlMyksRSYmdjxzLmdldEhvdXJzKCkmJihzLnNldEhvdXJzKHYpLHMuc2V0TWludXRlcygwKSx5PShzLWcpLzYwLzFlMyksTXx8KHI9TWF0aC5taW4ocix1LXkvdykpLG49W3tpZDpmLmRyYWdQcm94eS5pZCxzdHlsZTp7fX1dLE18fEUpaWYoYT1lLmNsb25lKE4uc3RhcnREYXRlKSxhLnNldEhvdXJzKGgpLGEuc2V0TWludXRlcygwKSxwPVAubWluaW11bUV2ZW50RHVyYXRpb24vdyxEPShOLnN0YXJ0RGF0ZS1hKS93LzYwLzFlMyxNKXtpZihjPUQreS93LGYuZW5hYmxlUmVzaXppbmdBY3Jvc3NPcHBvc2l0ZUVkZ2Upe2lmKGYuZm9yY2VVcGRhdGUmJnI+Yy1wJiZyPGMrcClyZXR1cm47cj49YytwPyhUPSEwLGYuZm9yY2VVcGRhdGU9ITAscy5zZXRIb3VycyhoKSxzLnNldE1pbnV0ZXMocip3KSxzPWYuYWRqdXN0RW5kRGF0ZShzKSxmLm5ld0VuZERhdGU9cyxnLnNldEhvdXJzKGgpLGcuc2V0TWludXRlcyhjKncpLGYubmV3U3RhcnREYXRlPWcsbz0ocy1nKS82MC82MC8xZTMsblswXS5zdHlsZS50b3A9YGNhbGMoJHtjKmwveCoxMDB9JSArIDFweClgKTooZi5mb3JjZVVwZGF0ZT0hMSxmLm5ld1N0YXJ0RGF0ZT1udWxsKX1UfHwocj1NYXRoLm1pbihyLGMtcCkpfWVsc2UgaWYoRSl7aWYoYz1ELXkvdyxmLmVuYWJsZVJlc2l6aW5nQWNyb3NzT3Bwb3NpdGVFZGdlKWlmKHI9TWF0aC5tYXgoLXkvdyxyKSxyPD1jLXApVD0hMCxmLmZvcmNlVXBkYXRlPSEwLHMuc2V0SG91cnMoaCkscy5zZXRNaW51dGVzKHkrYyp3KSxzPWYuYWRqdXN0RW5kRGF0ZShzKSxmLm5ld0VuZERhdGU9cyxnLnNldEhvdXJzKGgpLGcuc2V0TWludXRlcyh5K3IqdyksZi5uZXdTdGFydERhdGU9ZyxvPShzLWcpLzYwLzYwLzFlMyxtPSh5L3crcikqbCxtPW0veCoxMDAsblswXS5zdHlsZS50b3A9YGNhbGMoJHttfSUgKyAxcHgpYDtlbHNle2lmKGYuZm9yY2VVcGRhdGUmJnI8YytwKXJldHVybjtmLmZvcmNlVXBkYXRlJiZyPj1jK3AmJmYuY3VycmVudEludGVydmFsIT09ciYmKGYuZm9yY2VVcGRhdGU9ITEsZi5uZXdTdGFydERhdGU9bnVsbCxuWzBdLnN0eWxlLnRvcD1gY2FsYygke0QqbC94KjEwMH0lICsgMXB4KWApfVR8fChyPU1hdGgubWF4KHIsYytwKSl9RXx8KHI9TWF0aC5tYXgoMCxyKSksZi5jdXJyZW50SW50ZXJ2YWwhPT1yJiYoVHx8KE18fChzLnNldEhvdXJzKGgpLHMuc2V0TWludXRlcyh5K3IqdykpLEU/KGYubmV3RW5kRGF0ZT1zLG89KHMtTi5zdGFydERhdGUpLzYwLzYwLzFlMyk6KGcuc2V0SG91cnMoaCksZy5zZXRNaW51dGVzKHIqdyksbT1yKmwsbT1tL3gqMTAwLG5bMF0uc3R5bGUudG9wPWBjYWxjKCR7bX0lICsgMXB4KWApLE0mJihvPShOLmVuZERhdGUtZykvNjAvNjAvMWUzKSkscz1mLmFkanVzdEVuZERhdGUocyksbi5wdXNoKHtpZDpmLmRyYWdQcm94eS52ZG9tLmNuWzJdLmlkLGlubmVySFRNTDpQLmludGxGb3JtYXRfdGltZS5mb3JtYXQocyl9KSwoTXx8RSkmJihkPU1hdGgucm91bmQoby8odi1oKSoxMDAqMWUzKS8xZTMsblswXS5zdHlsZS5oZWlnaHQ9YGNhbGMoJHtkfSUgLSAycHgpYCksbi5wdXNoKHtpZDpmLmRyYWdQcm94eS52ZG9tLmNuWzBdLmlkLGlubmVySFRNTDpQLmludGxGb3JtYXRfdGltZS5mb3JtYXQoZyl9KSxmLmRyYWdQcm94eS52ZG9tLmNuWzBdLmlkJiYoaT0obyYmNjAqb3x8eSkvai5pbnRlcnZhbCxpPD0yP2oucm93SGVpZ2h0L2k8MjUmJiFmLmhhc092ZXJmbG93JiYobi5wdXNoKHtpZDpmLmRyYWdQcm94eS5pZCxjbHM6e2FkZDpbXCJuZW8tb3ZlcmZsb3dcIl19fSksZi5oYXNPdmVyZmxvdz0hMCk6Zi5oYXNPdmVyZmxvdyYmKG4ucHVzaCh7aWQ6Zi5kcmFnUHJveHkuaWQsY2xzOntyZW1vdmU6W1wibmVvLW92ZXJmbG93XCJdfX0pLGYuaGFzT3ZlcmZsb3c9ITEpLE5lby5hcHBseURlbHRhcyhmLmFwcE5hbWUsbikpKSxmLmN1cnJlbnRJbnRlcnZhbD1yfX1hc3luYyBkcmFnU3RhcnQoZSl7bGV0IHQ9dGhpcyxhPWF3YWl0IHQub3duZXIuZ2V0RG9tUmVjdChbdC5nZXREcmFnRWxlbWVudFJvb3QoKS5pZCxlLnBhdGhbMV0uaWRdKSxyPSh0LmV2ZW50UmVjb3JkLmVuZERhdGUtdC5ldmVudFJlY29yZC5zdGFydERhdGUpLzYwLzFlMyxuPWUuY2xpZW50WC1hWzBdLmxlZnQsbz1lLmNsaWVudFktYVswXS50b3A7T2JqZWN0LmFzc2lnbih0LHtjb2x1bW5IZWlnaHQ6YVsxXS5oZWlnaHQsY29sdW1uVG9wOmFbMV0udG9wLGRyYWdFbGVtZW50UmVjdDphWzBdLGV2ZW50RHVyYXRpb246TWF0aC5yb3VuZChyL3QuaW50ZXJ2YWxTaXplKSp0LmludGVydmFsU2l6ZSxvZmZzZXRYOm4sb2Zmc2V0WTpvfSksYXdhaXQgdC5jcmVhdGVEcmFnUHJveHkoYVswXSksdC5maXJlKFwiZHJhZ1N0YXJ0XCIse2RyYWdFbGVtZW50UmVjdDphWzBdLGlkOnQuaWQsb2Zmc2V0WDpuLG9mZnNldFk6b30pLHQuZHJhZ01vdmUoZSl9cmVtb3ZlQm9keUN1cnNvckNscygpe05lby5hcHBseURlbHRhcyh0aGlzLmFwcE5hbWUse2lkOlwiZG9jdW1lbnQuYm9keVwiLGNsczp7cmVtb3ZlOltcIm5lby1jdXJzb3ItbW92ZVwiXX19KX19KTsiLCJpbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9wbHVnaW4vQmFzZS5tanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi91dGlsL0RhdGUubWpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vRXZlbnREcmFnWm9uZS5tanNcIjtpbXBvcnQgYSBmcm9tXCIuLi8uLi8uLi8uLi91dGlsL1ZEb20ubWpzXCI7Y29uc3Qgcj1TeW1ib2wuZm9yKFwibmV3UmVjb3JkU3ltYm9sXCIpO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgZXtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uY2FsZW5kYXIudmlldy53ZWVrLnBsdWdpbi5EcmFnRHJvcFwiLG50eXBlOlwicGx1Z2luLWNhbGVuZGFyLXdlZWstZHJhZ2Ryb3BcIixpc0RyYWdnaW5nOiExLHJlc2l6YWJsZVBsdWdpblR5cGU6XCJjYWxlbmRhci13ZWVrLWV2ZW50cmVzaXphYmxlXCJ9O2NvbnN0cnVjdChlKXtzdXBlci5jb25zdHJ1Y3QoZSk7bGV0IHQ9dGhpcyxuPXtzY29wZTp0LGRlbGVnYXRlOlwiLm5lby1jLXctY29sdW1uXCJ9LGE9e3Njb3BlOnQsZGVsZWdhdGU6XCIubmVvLWV2ZW50XCJ9O3Qub3duZXIuYWRkRG9tTGlzdGVuZXJzKFt7XCJkcmFnOmVuZFwiOnQub25Db2x1bW5EcmFnRW5kLC4uLm59LHtcImRyYWc6ZW5kXCI6dC5vbkV2ZW50RHJhZ0VuZCwuLi5hfSx7XCJkcmFnOm1vdmVcIjp0Lm9uQ29sdW1uRHJhZ01vdmUsLi4ubn0se1wiZHJhZzptb3ZlXCI6dC5vbkV2ZW50RHJhZ01vdmUsLi4uYX0se1wiZHJhZzpzdGFydFwiOnQub25Db2x1bW5EcmFnU3RhcnQsLi4ubn0se1wiZHJhZzpzdGFydFwiOnQub25FdmVudERyYWdTdGFydCwuLi5hfV0pfWFkanVzdFJlc2l6ZUV2ZW50KGUpe3JldHVybiBlLnBhdGguc2hpZnQoKSxlLnRhcmdldFBhdGguc2hpZnQoKSxlLnRhcmdldD1lLnBhdGhbMF0sZX1nZXRFdmVudERyYWdab25lKGUpe2xldHthcHBOYW1lOnQsb3duZXI6YSx3aW5kb3dJZDpyfT10aGlzLHtldmVudERyYWdab25lOmksdGltZUF4aXM6b309YSxzPXtheGlzRW5kVGltZTpvLmdldFRpbWUoYS5lbmRUaW1lKSxheGlzU3RhcnRUaW1lOm8uZ2V0VGltZShhLnN0YXJ0VGltZSksZHJhZ0VsZW1lbnQ6ZS5kcmFnRWxlbWVudCxlbmFibGVSZXNpemluZ0Fjcm9zc09wcG9zaXRlRWRnZTplLmVuYWJsZVJlc2l6aW5nQWNyb3NzT3Bwb3NpdGVFZGdlLGV2ZW50UmVjb3JkOmUuZXZlbnRSZWNvcmQscHJveHlQYXJlbnRJZDplLnByb3h5UGFyZW50SWR9O3JldHVybiBpP2kuc2V0KHMpOmEuZXZlbnREcmFnWm9uZT1pPU5lby5jcmVhdGUoe21vZHVsZTpuLGFwcE5hbWU6dCxvd25lcjphLHNjcm9sbENvbnRhaW5lcklkOmEuZ2V0U2Nyb2xsQ29udGFpbmVyKCkuaWQsd2luZG93SWQ6ciwuLi5zLGRyYWdQcm94eUNvbmZpZzp7c3R5bGU6e3RyYW5zaXRpb246XCJub25lXCIsd2lsbENoYW5nZTpcImhlaWdodFwifX19KSxpfWlzQWN0aXZlQ2FsZW5kYXIoKXtsZXR7b3duZXI6ZX09dGhpcyx7Y2FsZW5kYXJTdG9yZTp0fT1lLG49ZS5kYXRhLmFjdGl2ZUNhbGVuZGFySWR8fHQuZ2V0QXQoMClbdC5rZXlQcm9wZXJ0eV07cmV0dXJuIHQuZ2V0KG4pLmFjdGl2ZX1pc1RvcExldmVsQ29sdW1uKGUpe3JldHVybiBlWzBdLmNscy5pbmNsdWRlcyhcIm5lby1jLXctY29sdW1uXCIpfWlzVG9wTGV2ZWxFdmVudChlKXtyZXR1cm4gZS5wYXRoWzBdLmNscy5pbmNsdWRlcyhcIm5lby1ldmVudFwiKX1vbkNvbHVtbkRyYWdFbmQoZSl7bGV0IHQ9dGhpcyx7b3duZXI6bn09dCxhPXRbcl07YSYmdC5pc1RvcExldmVsQ29sdW1uKGUucGF0aCkmJih0LmlzRHJhZ2dpbmc9ITEsZGVsZXRlIHRbcl0sTmVvLmFwcGx5RGVsdGFzKHQuYXBwTmFtZSx7aWQ6bi5nZXRFdmVudElkKGEuaWQpLHN0eWxlOntvcGFjaXR5OjF9fSkudGhlbigoKT0+e24uZXZlbnREcmFnWm9uZS5kcmFnRW5kKCksbi5nZXRQbHVnaW4odC5yZXNpemFibGVQbHVnaW5UeXBlKS5vbkRyYWdFbmQoZSl9KSl9b25Db2x1bW5EcmFnTW92ZShlKXtsZXQgdD10aGlzO3QuaXNBY3RpdmVDYWxlbmRhcigpJiZ0LmlzVG9wTGV2ZWxDb2x1bW4oZS5wYXRoKSYmdC5vd25lci5ldmVudERyYWdab25lPy5kcmFnTW92ZShlKX1hc3luYyBvbkNvbHVtbkRyYWdTdGFydChlKXtsZXQgbj10aGlzO2lmKG4uaXNBY3RpdmVDYWxlbmRhcigpJiZuLmlzVG9wTGV2ZWxDb2x1bW4oZS50YXJnZXRQYXRoKSl7bGV0IGksbyxzLGcsZCx7b3duZXI6bH09bixtPWwudGltZUF4aXMuZ2V0VGltZShsLnN0YXJ0VGltZSkse2NhbGVuZGFyU3RvcmU6cH09bCx2PWUucGF0aFswXS5yZWN0LHU9MTUsYz02MCoobC50aW1lQXhpcy5nZXRUaW1lKGwuZW5kVGltZSktbSkvdSxEPXYuaGVpZ2h0L2MsRT1NYXRoLm1pbih2LmhlaWdodCxlLmNsaWVudFktdi50b3ApLGg9TWF0aC5mbG9vcihFL0QpLHc9bmV3IERhdGUoYS5maW5kKGwudmRvbSxlLnBhdGhbMF0uaWQpLnZkb20uZmxhZytcIlQxMjowMDowMC4wMDBaXCIpO24uaXNEcmFnZ2luZz0hMCx3LnNldEhvdXJzKG0pLHcuc2V0TWludXRlcyhNYXRoLm1pbihoKnUsYyp1LWwubWluaW11bUV2ZW50RHVyYXRpb24pKSxvPXQuY2xvbmUodyksby5zZXRNaW51dGVzKG8uZ2V0TWludXRlcygpK2wubWluaW11bUV2ZW50RHVyYXRpb24pLDA9PT1vLmdldEhvdXJzKCkmJjA9PT1vLmdldE1pbnV0ZXMoKSYmby5zZXRNaW51dGVzKG8uZ2V0TWludXRlcygpLTEpLGQ9bC5ldmVudFN0b3JlLmFkZCh7Y2FsZW5kYXJJZDpsLmRhdGEuYWN0aXZlQ2FsZW5kYXJJZHx8cC5nZXRBdCgwKVtwLmtleVByb3BlcnR5XSxlbmREYXRlOm8sc3RhcnREYXRlOncsdGl0bGU6XCJOZXcgRXZlbnRcIn0pWzBdLG5bcl09ZCxhd2FpdCBuLnRpbWVvdXQoNTApLGc9bC5nZXRFdmVudElkKGQuaWQpLGk9YS5maW5kKGwudmRvbSxnKS52ZG9tLHM9bi5nZXRFdmVudERyYWdab25lKHtkcmFnRWxlbWVudDppLGVuYWJsZVJlc2l6aW5nQWNyb3NzT3Bwb3NpdGVFZGdlOiEwLGV2ZW50UmVjb3JkOmQscHJveHlQYXJlbnRJZDplLnBhdGhbMF0uaWR9KSxsLmdldFBsdWdpbihuLnJlc2l6YWJsZVBsdWdpblR5cGUpLm9uRHJhZ1N0YXJ0KGUpLGF3YWl0IHMuZHJhZ1N0YXJ0KGUpLGF3YWl0IG4udGltZW91dCg1MCksbi5pc0RyYWdnaW5nJiZOZW8uYXBwbHlEZWx0YXMobi5hcHBOYW1lLHtpZDpnLHN0eWxlOntvcGFjaXR5OjB9fSl9fW9uRXZlbnREcmFnRW5kKGUpe2xldCB0PXRoaXMse293bmVyOm59PXQse2V2ZW50RHJhZ1pvbmU6YX09bjtuLmVuYWJsZURyYWcmJihhLmRyYWdFbmQoKSx0LmlzVG9wTGV2ZWxFdmVudChlKT9hLnJlbW92ZUJvZHlDdXJzb3JDbHMoKTooZT10LmFkanVzdFJlc2l6ZUV2ZW50KGUpLG4uZ2V0UGx1Z2luKHQucmVzaXphYmxlUGx1Z2luVHlwZSkub25EcmFnRW5kKGUpKSx0LmlzRHJhZ2dpbmc9ITEpfW9uRXZlbnREcmFnTW92ZShlKXtsZXQgdD10aGlzLHtvd25lcjpufT10O24uZW5hYmxlRHJhZyYmKHQuaXNUb3BMZXZlbEV2ZW50KGUpfHwoZT10LmFkanVzdFJlc2l6ZUV2ZW50KGUpKSxuLmV2ZW50RHJhZ1pvbmUuZHJhZ01vdmUoZSkpfW9uRXZlbnREcmFnU3RhcnQoZSl7bGV0IHQ9dGhpcyx7b3duZXI6bn09dCxyPW4uZGF0YTtpZihuLmVuYWJsZURyYWcpe2xldCBpLG8scz10LmlzVG9wTGV2ZWxFdmVudChlKTtzfHwoZT10LmFkanVzdFJlc2l6ZUV2ZW50KGUpKSx0LmlzRHJhZ2dpbmc9ITAsaT1hLmZpbmQobi52ZG9tLGUucGF0aFswXS5pZCkudmRvbSxvPXQuZ2V0RXZlbnREcmFnWm9uZSh7ZHJhZ0VsZW1lbnQ6aSxlbmFibGVSZXNpemluZ0Fjcm9zc09wcG9zaXRlRWRnZTpyLmV2ZW50cy5lbmFibGVSZXNpemluZ0Fjcm9zc09wcG9zaXRlRWRnZSxldmVudFJlY29yZDpuLmV2ZW50U3RvcmUuZ2V0KGkuZmxhZykscHJveHlQYXJlbnRJZDplLnBhdGhbMV0uaWR9KSxzP28uYWRkQm9keUN1cnNvckNscygpOm4uZ2V0UGx1Z2luKHQucmVzaXphYmxlUGx1Z2luVHlwZSkub25EcmFnU3RhcnQoZSksby5kcmFnU3RhcnQoZSl9fX0pOyIsImltcG9ydCBlIGZyb21cIi4uL2NvbXBvbmVudC9CYXNlLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgZXtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uZHJhZ2dhYmxlLkRyYWdQcm94eUNvbXBvbmVudFwiLG50eXBlOlwiZHJhZ3Byb3h5XCIsYXV0b01vdW50OiEwLGF1dG9SZW5kZXI6ITAsYmFzZUNsczpbXCJuZW8tZHJhZ3Byb3h5XCJdLG1vdmVJbk1haW5UaHJlYWQ6ITB9O2FmdGVyU2V0TW91bnRlZChlLGEpe2lmKHN1cGVyLmFmdGVyU2V0TW91bnRlZChlLGEpLGUmJnRoaXMubW92ZUluTWFpblRocmVhZCl7bGV0e2FwcE5hbWU6ZSxpZDphLHdpbmRvd0lkOm99PXRoaXM7TmVvLm1haW4uYWRkb24uRHJhZ0Ryb3Auc2V0RHJhZ1Byb3h5RWxlbWVudCh7YXBwTmFtZTplLGlkOmEsd2luZG93SWQ6b30pfX19KTsiLCJpbXBvcnQgZSBmcm9tXCIuLi9jb3JlL0Jhc2UubWpzXCI7aW1wb3J0IHIgZnJvbVwiLi9EcmFnUHJveHlDb21wb25lbnQubWpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vdXRpbC9BcnJheS5tanNcIjtpbXBvcnQgdCBmcm9tXCIuLi9jb3JlL09ic2VydmFibGUubWpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vdXRpbC9WRG9tLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgZXtzdGF0aWMgb2JzZXJ2YWJsZT0hMDtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uZHJhZ2dhYmxlLkRyYWdab25lXCIsbnR5cGU6XCJkcmFnem9uZVwiLGFkZERyYWdQcm94eUNsczohMCxhbHdheXNGaXJlRHJhZ01vdmU6ITEsYXBwTmFtZV86bnVsbCxib2R5Q3Vyc29yU3R5bGU6bnVsbCxib3VuZGFyeUNvbnRhaW5lcklkOm51bGwsYm91bmRhcnlDb250YWluZXJSZWN0Om51bGwsZGF0YTpudWxsLGRyYWdFbGVtZW50Om51bGwsZHJhZ0VsZW1lbnRSZWN0Om51bGwsZHJhZ1Byb3h5Om51bGwsZHJhZ1Byb3h5Q29uZmlnXzpudWxsLGRyYWdQcm94eUNsczpcIm5lby1kcmFncHJveHlcIixkcm9wWm9uZUlkZW50aWZpZXI6bnVsbCxtb3ZlSG9yaXpvbnRhbDohMCxtb3ZlSW5NYWluVGhyZWFkOiEwLG1vdmVWZXJ0aWNhbDohMCxvZmZzZXRYOjAsb2Zmc2V0WTowLG93bmVyOm51bGwscHJveHlQYXJlbnRJZF86XCJkb2N1bWVudC5ib2R5XCIsc2Nyb2xsQ29udGFpbmVySWQ6bnVsbCxzY3JvbGxGYWN0b3JMZWZ0OjEsc2Nyb2xsRmFjdG9yVG9wOjEsdXNlUHJveHlXcmFwcGVyOiEwLHdpbmRvd0lkXzpudWxsfTtjb25zdHJ1Y3QoZSl7c3VwZXIuY29uc3RydWN0KGUpLE5lby5tYWluLmFkZG9uLkRyYWdEcm9wfHxjb25zb2xlLmVycm9yKFwiWW91IGNhbiBub3QgdXNlIE5lby5kcmFnZ2FibGUuRHJhZ1pvbmUgd2l0aG91dCBhZGRpbmcgTmVvLm1haW4uYWRkb24uRHJhZ0Ryb3AgdG8gdGhlIG1haW4gdGhyZWFkIGFkZG9uc1wiLHRoaXMuaWQpfWFmdGVyU2V0V2luZG93SWQoZSxyKXtlJiZOZW8uY3VycmVudFdvcmtlci5pbnNlcnRUaGVtZUZpbGVzKGUsdGhpcy5fX3Byb3RvX18pfWJlZm9yZUdldERyYWdQcm94eUNvbmZpZyhlKXtyZXR1cm4gTmVvLmNsb25lKGUsITAsITApfWFzeW5jIGNyZWF0ZURyYWdQcm94eShlLHQ9ITApe2xldCBuPXRoaXMsbD1OZW8uZ2V0Q29tcG9uZW50KG4uZ2V0RHJhZ0VsZW1lbnRSb290KCkuaWQpfHxuLm93bmVyLGQ9bi5kcmFnRWxlbWVudFJlY3QsaT1uLmRyYWdQcm94eUNvbmZpZz8udmRvbSxzPWEuY2xvbmUoaXx8bi5kcmFnRWxlbWVudCksZz17bW9kdWxlOnIsYXBwTmFtZTpuLmFwcE5hbWUsbW92ZUluTWFpblRocmVhZDpuLm1vdmVJbk1haW5UaHJlYWQscGFyZW50SWQ6bi5wcm94eVBhcmVudElkLHdpbmRvd0lkOm4ud2luZG93SWQsLi4ubi5kcmFnUHJveHlDb25maWcsdmRvbTpuLnVzZVByb3h5V3JhcHBlcj97Y246W3NdfTpzfTtyZXR1cm4gZy5jbHM9Zy5jbHN8fFtdLGwmJmcuY2xzLnB1c2gobC5nZXRUaGVtZSgpKSxzLmNscyYmIW4udXNlUHJveHlXcmFwcGVyJiZnLmNscy5wdXNoKC4uLnMuY2xzKSxuLmFkZERyYWdQcm94eUNscyYmZy5jbHMmJm8uYWRkKGcuY2xzLG4uZHJhZ1Byb3h5Q2xzKSxnLnN0eWxlPWcuc3R5bGV8fHt9LE9iamVjdC5hc3NpZ24oZy5zdHlsZSx7aGVpZ2h0OmAke2UuaGVpZ2h0fXB4YCxsZWZ0OmAke24ubW92ZUhvcml6b250YWw/ZS54OmQueH1weGAsdG9wOmAke24ubW92ZVZlcnRpY2FsP2UueTpkLnl9cHhgLHdpZHRoOmAke2Uud2lkdGh9cHhgfSksdD9uLmRyYWdQcm94eT1OZW8uY3JlYXRlKGcpOmd9ZGVzdHJveURyYWdQcm94eSgpe2xldCBlPXRoaXMscj1lLmRyYWdQcm94eS5pZDtlLnRpbWVvdXQoZS5tb3ZlSW5NYWluVGhyZWFkPzA6MzApLnRoZW4oKCk9PntOZW8uY3VycmVudFdvcmtlci5wcm9taXNlTWVzc2FnZShcIm1haW5cIix7YWN0aW9uOlwidXBkYXRlRG9tXCIsYXBwTmFtZTplLmFwcE5hbWUsZGVsdGFzOlt7YWN0aW9uOlwicmVtb3ZlTm9kZVwiLGlkOnJ9XX0pfSksZS5kcmFnUHJveHkuZGVzdHJveSgpfWRyYWdFbmQoZSl7bGV0IHI9dGhpcyx7b3duZXI6dH09cix7Y2xzOmF9PXQ7by5yZW1vdmUoYSxcIm5lby1pcy1kcmFnZ2luZ1wiKSx0LmNscz1hLHIuZHJhZ1Byb3h5JiYoci5kZXN0cm95RHJhZ1Byb3h5KCksci5kcmFnUHJveHk9bnVsbCksT2JqZWN0LmFzc2lnbihyLHtkcmFnRWxlbWVudFJlY3Q6bnVsbCxvZmZzZXRYOjAsb2Zmc2V0WTowLHNjcm9sbENvbnRhaW5lcklkOm51bGx9KSxyLmZpcmUoXCJkcmFnRW5kXCIsZSksci5yZXNldERhdGEoKX1kcmFnTW92ZShlKXtsZXQgcixvPXRoaXM7IW8ubW92ZUluTWFpblRocmVhZCYmby5kcmFnUHJveHkmJihyPW8uZHJhZ1Byb3h5LnN0eWxlLG8ubW92ZUhvcml6b250YWwmJihyLmxlZnQ9ZS5jbGllbnRYLW8ub2Zmc2V0WCtcInB4XCIpLG8ubW92ZVZlcnRpY2FsJiYoci50b3A9ZS5jbGllbnRZLW8ub2Zmc2V0WStcInB4XCIpLG8uZHJhZ1Byb3h5LnN0eWxlPXIpLG8uZmlyZShcImRyYWdNb3ZlXCIsZSl9YXN5bmMgZHJhZ1N0YXJ0KGUpe2xldCByLHQsYSxuPXRoaXMse2FwcE5hbWU6bCxvd25lcjpkLHdpbmRvd0lkOml9PW4se2NsczpzfT1kLGc9bi5nZXREcmFnRWxlbWVudFJlY3QoZSk7bi5zZXREYXRhKCkscj1hd2FpdCBOZW8ubWFpbi5hZGRvbi5EcmFnRHJvcC5zZXRDb25maWdzKHthcHBOYW1lOmwsd2luZG93SWQ6aSwuLi5uLmdldE1haW5UaHJlYWRDb25maWdzKCl9KSxuLmJvdW5kYXJ5Q29udGFpbmVyUmVjdD1yLmJvdW5kYXJ5Q29udGFpbmVyUmVjdCxvLmFkZChzLFwibmVvLWlzLWRyYWdnaW5nXCIpLGQuY2xzPXMsdD1lLmNsaWVudFgtZy5sZWZ0LGE9ZS5jbGllbnRZLWcudG9wLE9iamVjdC5hc3NpZ24obix7ZHJhZ0VsZW1lbnRSZWN0Omcsb2Zmc2V0WDp0LG9mZnNldFk6YX0pLGF3YWl0IG4uY3JlYXRlRHJhZ1Byb3h5KGcpLG4uZmlyZShcImRyYWdTdGFydFwiLHtjbGllbnRYOmUuY2xpZW50WCxjbGllbnRZOmUuY2xpZW50WSxkcmFnRWxlbWVudFJlY3Q6ZyxldmVudERhdGE6ZSxpZDpuLmlkLG9mZnNldFg6dCxvZmZzZXRZOmF9KX1nZXREcmFnRWxlbWVudFJlY3QoZSl7bGV0IHI9dGhpcy5nZXREcmFnRWxlbWVudFJvb3QoKS5pZDtmb3IobGV0IG8gb2YgZS5wYXRoKWlmKG8uaWQ9PT1yKXJldHVybiBvLnJlY3Q7Zm9yKGxldCBvIG9mIGUudGFyZ2V0UGF0aClpZihvLmlkPT09cilyZXR1cm4gby5yZWN0O3JldHVybiBudWxsfWdldERyYWdFbGVtZW50Um9vdCgpe3JldHVybiB0aGlzLmRyYWdFbGVtZW50fWdldE1haW5UaHJlYWRDb25maWdzKCl7bGV0IGU9dGhpcztyZXR1cm57YWx3YXlzRmlyZURyYWdNb3ZlOmUuYWx3YXlzRmlyZURyYWdNb3ZlLGJvZHlDdXJzb3JTdHlsZTplLmJvZHlDdXJzb3JTdHlsZSxib3VuZGFyeUNvbnRhaW5lcklkOmUuYm91bmRhcnlDb250YWluZXJJZCxkcmFnRWxlbWVudFJvb3RJZDplLmdldERyYWdFbGVtZW50Um9vdCgpLmlkLGRyYWdQcm94eUNsczplLmRyYWdQcm94eUNscyxkcmFnWm9uZUlkOmUuaWQsZHJvcFpvbmVJZGVudGlmaWVyOmUuZHJvcFpvbmVJZGVudGlmaWVyLG1vdmVIb3Jpem9udGFsOmUubW92ZUhvcml6b250YWwsbW92ZVZlcnRpY2FsOmUubW92ZVZlcnRpY2FsLHNjcm9sbENvbnRhaW5lcklkOmUuc2Nyb2xsQ29udGFpbmVySWQsc2Nyb2xsRmFjdG9yTGVmdDplLnNjcm9sbEZhY3RvckxlZnQsc2Nyb2xsRmFjdG9yVG9wOmUuc2Nyb2xsRmFjdG9yVG9wfX1vbkRyb3AoZSl7dGhpcy5maXJlKFwiZHJvcFwiLGUpfW9uRHJvcEVudGVyKGUpe3RoaXMuZmlyZShcImRyb3A6ZW50ZXJcIixlKX1vbkRyb3BMZWF2ZShlKXt0aGlzLmZpcmUoXCJkcm9wOmxlYXZlXCIsZSl9cmVzZXREYXRhKCl7dGhpcy50aW1lb3V0KDUwKS50aGVuKCgpPT57dGhpcy5kYXRhPW51bGx9KX1zZXREYXRhKGU9e30pe2xldCByPXRoaXM7ci5kYXRhPXtkcmFnRWxlbWVudDpyLmdldERyYWdFbGVtZW50Um9vdCgpLGRyYWdab25lSWQ6ci5pZCwuLi5lfX19KTsiLCJpbXBvcnQgZSBmcm9tXCIuLi9jb3JlL0Jhc2UubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBle3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5wbHVnaW4uQmFzZVwiLG50eXBlOlwicGx1Z2luXCIsb3duZXI6bnVsbCx3aW5kb3dJZF86bnVsbH07Y29uc3RydWN0KGUpe3N1cGVyLmNvbnN0cnVjdChlKTtsZXQgbj10aGlzLHtvd25lcjpvfT1uO28uaXNDb25zdHJ1Y3RlZD9uLm9uT3duZXJDb25zdHJ1Y3RlZCgpOm8ub24oXCJjb25zdHJ1Y3RlZFwiLCgpPT57bi5vbk93bmVyQ29uc3RydWN0ZWQoKX0sbix7b25jZTohMH0pLG8ubW91bnRlZD9uLm9uT3duZXJNb3VudGVkKCk6by5vbihcIm1vdW50ZWRcIixuLm9uT3duZXJNb3VudGVkLG4pfWFmdGVyU2V0V2luZG93SWQoZSxuKXtlJiZOZW8uY3VycmVudFdvcmtlci5pbnNlcnRUaGVtZUZpbGVzKGUsdGhpcy5fX3Byb3RvX18pfW9uT3duZXJDb25zdHJ1Y3RlZCgpe2xldHtvd25lcjplfT10aGlzO2Uud2luZG93SWQmJih0aGlzLndpbmRvd0lkPWUud2luZG93SWQpfW9uT3duZXJNb3VudGVkKCl7fX0pOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==