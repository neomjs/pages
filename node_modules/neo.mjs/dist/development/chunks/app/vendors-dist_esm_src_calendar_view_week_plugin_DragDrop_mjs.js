"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["vendors-dist_esm_src_calendar_view_week_plugin_DragDrop_mjs"],{

/***/ "./dist/esm/src/calendar/view/week/EventDragZone.mjs"
/*!***********************************************************!*\
  !*** ./dist/esm/src/calendar/view/week/EventDragZone.mjs ***!
  \***********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _util_Date_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../util/Date.mjs */ "./dist/esm/src/util/Date.mjs");
/* harmony import */ var _draggable_DragProxyComponent_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../draggable/DragProxyComponent.mjs */ "./dist/esm/src/draggable/DragProxyComponent.mjs");
/* harmony import */ var _draggable_DragZone_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../draggable/DragZone.mjs */ "./dist/esm/src/draggable/DragZone.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _draggable_DragZone_mjs__WEBPACK_IMPORTED_MODULE_2__["default"]{static config={className:"Neo.calendar.view.week.EventDragZone",addDragProxyCls:!1,enableResizingAcrossOppositeEdge:!0,axisEndTime:0,axisStartTime:0,columnHeight:0,columnTop:0,currentInterval:0,eventDuration:0,eventRecord:null,forceUpdate:!1,hasOverflow:!1,intervalSize:15,keepEndDate:!1,keepStartDate:!1,moveHorizontal:!1,moveInMainThread:!1,newEndDate:null,newStartDate:null,scrollFactorLeft:3,useProxyWrapper:!1};addBodyCursorCls(){Neo.applyDeltas(this.windowId,{id:"document.body",cls:{add:["neo-cursor-move"]}})}adjustEndDate(e){return 0===e.getHours()&&0===e.getMinutes()?e.setMinutes(e.getMinutes()-1):23===e.getHours()&&59===e.getMinutes()||e.getMinutes()%this.intervalSize===0||e.setMinutes(e.getMinutes()+1),e}afterSetProxyParentId(e,t){if(e&&void 0!==t){let t=this;t.dragProxy?.vdom.cn[0].id&&Neo.applyDeltas(t.windowId,{action:"moveNode",id:t.dragProxy.id,index:0,parentId:e})}}async createDragProxy(e,a=!0){let n=this,s=Neo.getComponent(n.getDragElementRoot().id)||n.owner,i=n.dragProxyConfig?.vdom,d=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].clone(i||n.dragElement);d.cn[2].removeDom=!1;const l={module:_draggable_DragProxyComponent_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],appName:n.appName,moveInMainThread:n.moveInMainThread,parentId:n.proxyParentId,windowId:n.windowId,...n.dragProxyConfig,vdom:n.useProxyWrapper?{cn:[d]}:d};return l.cls=l.cls||[],l.cls.push("neo-focus"),s&&l.cls.push(s.getTheme()),d.cls&&!n.useProxyWrapper&&l.cls.push(...d.cls),n.addDragProxyCls&&_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].add(l.cls,n.dragProxyCls),Object.assign(l.style,{height:`${e.height}px`,top:e.y-n.columnTop+"px",width:`${e.width}px`}),a?n.dragProxy=Neo.create(l):l}dragEnd(t){super.dragEnd(t);let a,r,n=this,{owner:s}=n,i=n.eventRecord;n.keepStartDate?(a=n.newEndDate,r=n.newStartDate||i.startDate):(r=new Date(_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].find(s.vdom,n.proxyParentId).vdom.flag+"T12:00:00.000Z"),r.setHours(n.axisStartTime),r.setMinutes(n.currentInterval*n.intervalSize),n.keepEndDate?(a=n.newEndDate||i.endDate,r=n.newStartDate||r):(a=_util_Date_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].clone(r),a.setMinutes(a.getMinutes()+n.eventDuration))),a=n.adjustEndDate(a),i.setSilent({endDate:a,startDate:r}),Object.assign(n,{currentInterval:0,hasOverflow:!1,keepEndDate:!1,keepStartDate:!1,newEndDate:null,newStartDate:null,proxyParentId:null}),s.getStateProvider().getStore("events").doSort(),s.updateEvents()}dragMove(t){let a,r,o,n,s,i,d,l,u,c,p,m,g,D,f=this,{axisEndTime:v,axisStartTime:h,columnHeight:w,eventDuration:x,intervalSize:y,keepEndDate:M,keepStartDate:E,owner:P}=f,S=0,I=t.targetPath,H=I.length,C=f.eventRecord,T=!1,{timeAxis:j}=P;if(f.dragProxy){if(!M&&!E)for(;S<H;S++)if(I[S].cls.includes("neo-c-w-column")){f.proxyParentId=I[S].id;break}if(u=60*(v-h)/y,l=w/u,m=Math.min(w,t.clientY-f.offsetY-f.columnTop),r=Math.floor(m/l),s=_util_Date_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].clone(C.endDate),g=_util_Date_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].clone(C.startDate),M&&h>g.getHours()&&(g.setHours(h),g.setMinutes(0),x=(s-g)/60/1e3),E&&v<s.getHours()&&(s.setHours(v),s.setMinutes(0),x=(s-g)/60/1e3),M||(r=Math.min(r,u-x/y)),o=[{id:f.dragProxy.id,style:{}}],M||E)if(a=_util_Date_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].clone(C.startDate),a.setHours(h),a.setMinutes(0),p=P.minimumEventDuration/y,D=(C.startDate-a)/y/60/1e3,M){if(c=D+x/y,f.enableResizingAcrossOppositeEdge){if(f.forceUpdate&&r>c-p&&r<c+p)return;r>=c+p?(T=!0,f.forceUpdate=!0,s.setHours(h),s.setMinutes(r*y),s=f.adjustEndDate(s),f.newEndDate=s,g.setHours(h),g.setMinutes(c*y),f.newStartDate=g,n=(s-g)/60/60/1e3,o[0].style.top=`calc(${c*l/w*100}% + 1px)`):(f.forceUpdate=!1,f.newStartDate=null)}T||(r=Math.min(r,c-p))}else if(E){if(c=D-x/y,f.enableResizingAcrossOppositeEdge)if(r=Math.max(-x/y,r),r<=c-p)T=!0,f.forceUpdate=!0,s.setHours(h),s.setMinutes(x+c*y),s=f.adjustEndDate(s),f.newEndDate=s,g.setHours(h),g.setMinutes(x+r*y),f.newStartDate=g,n=(s-g)/60/60/1e3,m=(x/y+r)*l,m=m/w*100,o[0].style.top=`calc(${m}% + 1px)`;else{if(f.forceUpdate&&r<c+p)return;f.forceUpdate&&r>=c+p&&f.currentInterval!==r&&(f.forceUpdate=!1,f.newStartDate=null,o[0].style.top=`calc(${D*l/w*100}% + 1px)`)}T||(r=Math.max(r,c+p))}E||(r=Math.max(0,r)),f.currentInterval!==r&&(T||(M||(s.setHours(h),s.setMinutes(x+r*y)),E?(f.newEndDate=s,n=(s-C.startDate)/60/60/1e3):(g.setHours(h),g.setMinutes(r*y),m=r*l,m=m/w*100,o[0].style.top=`calc(${m}% + 1px)`),M&&(n=(C.endDate-g)/60/60/1e3)),s=f.adjustEndDate(s),o.push({id:f.dragProxy.vdom.cn[2].id,textContent:P.intlFormat_time.format(s)}),(M||E)&&(d=Math.round(n/(v-h)*100*1e3)/1e3,o[0].style.height=`calc(${d}% - 2px)`),o.push({id:f.dragProxy.vdom.cn[0].id,textContent:P.intlFormat_time.format(g)}),f.dragProxy.vdom.cn[0].id&&(i=(n&&60*n||x)/j.interval,i<=2?j.rowHeight/i<25&&!f.hasOverflow&&(o.push({id:f.dragProxy.id,cls:{add:["neo-overflow"]}}),f.hasOverflow=!0):f.hasOverflow&&(o.push({id:f.dragProxy.id,cls:{remove:["neo-overflow"]}}),f.hasOverflow=!1),Neo.applyDeltas(f.windowId,o))),f.currentInterval=r}}async dragStart(e){let t=this,a=await t.owner.getDomRect([t.getDragElementRoot().id,e.path[1].id]),r=(t.eventRecord.endDate-t.eventRecord.startDate)/60/1e3,o=e.clientX-a[0].left,n=e.clientY-a[0].top;Object.assign(t,{columnHeight:a[1].height,columnTop:a[1].top,dragElementRect:a[0],eventDuration:Math.round(r/t.intervalSize)*t.intervalSize,offsetX:o,offsetY:n}),await t.createDragProxy(a[0]),t.fire("dragStart",{dragElementRect:a[0],id:t.id,offsetX:o,offsetY:n}),t.dragMove(e)}removeBodyCursorCls(){Neo.applyDeltas(this.windowId,{id:"document.body",cls:{remove:["neo-cursor-move"]}})}}));

/***/ },

/***/ "./dist/esm/src/calendar/view/week/plugin/DragDrop.mjs"
/*!*************************************************************!*\
  !*** ./dist/esm/src/calendar/view/week/plugin/DragDrop.mjs ***!
  \*************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _plugin_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../plugin/Base.mjs */ "./dist/esm/src/plugin/Base.mjs");
/* harmony import */ var _util_Date_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../util/Date.mjs */ "./dist/esm/src/util/Date.mjs");
/* harmony import */ var _EventDragZone_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../EventDragZone.mjs */ "./dist/esm/src/calendar/view/week/EventDragZone.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
const r=Symbol.for("newRecordSymbol");/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _plugin_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.calendar.view.week.plugin.DragDrop",ntype:"plugin-calendar-week-dragdrop",isDragging:!1,resizablePluginType:"calendar-week-eventresizable"};construct(e){super.construct(e);let t=this,n={scope:t,delegate:".neo-c-w-column"},a={scope:t,delegate:".neo-event"};t.owner.addDomListeners([{"drag:end":t.onColumnDragEnd,...n},{"drag:end":t.onEventDragEnd,...a},{"drag:move":t.onColumnDragMove,...n},{"drag:move":t.onEventDragMove,...a},{"drag:start":t.onColumnDragStart,...n},{"drag:start":t.onEventDragStart,...a}])}adjustResizeEvent(e){return e.path.shift(),e.targetPath.shift(),e.target=e.path[0],e}getEventDragZone(e){let{appName:t,owner:a,windowId:r}=this,{eventDragZone:i,timeAxis:o}=a,s={axisEndTime:o.getTime(a.endTime),axisStartTime:o.getTime(a.startTime),dragElement:e.dragElement,enableResizingAcrossOppositeEdge:e.enableResizingAcrossOppositeEdge,eventRecord:e.eventRecord,proxyParentId:e.proxyParentId};return i?i.set(s):a.eventDragZone=i=Neo.create({module:_EventDragZone_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],appName:t,owner:a,scrollContainerId:a.getScrollContainer().id,windowId:r,...s,dragProxyConfig:{style:{transition:"none",willChange:"height"}}}),i}isActiveCalendar(){let{owner:e}=this,{calendarStore:t}=e,n=e.data.activeCalendarId||t.getAt(0)[t.keyProperty];return t.get(n).active}isTopLevelColumn(e){return e[0].cls.includes("neo-c-w-column")}isTopLevelEvent(e){return e.path[0].cls.includes("neo-event")}onColumnDragEnd(e){let t=this,{owner:n}=t,a=t[r];a&&t.isTopLevelColumn(e.path)&&(t.isDragging=!1,delete t[r],Neo.applyDeltas(t.windowId,{id:n.getEventId(a.id),style:{opacity:1}}).then(()=>{n.eventDragZone.dragEnd(),n.getPlugin(t.resizablePluginType).onDragEnd(e)}))}onColumnDragMove(e){let t=this;t.isActiveCalendar()&&t.isTopLevelColumn(e.path)&&t.owner.eventDragZone?.dragMove(e)}async onColumnDragStart(e){let n=this;if(n.isActiveCalendar()&&n.isTopLevelColumn(e.targetPath)){let i,o,s,g,d,{owner:l}=n,v=l.timeAxis.getTime(l.startTime),{calendarStore:m}=l,p=e.path[0].rect,u=15,c=60*(l.timeAxis.getTime(l.endTime)-v)/u,D=p.height/c,E=Math.min(p.height,e.clientY-p.top),h=Math.floor(E/D),w=new Date(_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].find(l.vdom,e.path[0].id).vdom.flag+"T12:00:00.000Z");n.isDragging=!0,w.setHours(v),w.setMinutes(Math.min(h*u,c*u-l.minimumEventDuration)),o=_util_Date_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].clone(w),o.setMinutes(o.getMinutes()+l.minimumEventDuration),0===o.getHours()&&0===o.getMinutes()&&o.setMinutes(o.getMinutes()-1),d=l.eventStore.add({calendarId:l.data.activeCalendarId||m.getAt(0)[m.keyProperty],endDate:o,startDate:w,title:"New Event"},!0)[0],n[r]=d,await n.timeout(50),g=l.getEventId(d.id),i=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].find(l.vdom,g).vdom,s=n.getEventDragZone({dragElement:i,enableResizingAcrossOppositeEdge:!0,eventRecord:d,proxyParentId:e.path[0].id}),l.getPlugin(n.resizablePluginType).onDragStart(e),await s.dragStart(e),await n.timeout(50),n.isDragging&&Neo.applyDeltas(n.windowId,{id:g,style:{opacity:0}})}}onEventDragEnd(e){let t=this,{owner:n}=t,{eventDragZone:a}=n;n.enableDrag&&(a.dragEnd(),t.isTopLevelEvent(e)?a.removeBodyCursorCls():(e=t.adjustResizeEvent(e),n.getPlugin(t.resizablePluginType).onDragEnd(e)),t.isDragging=!1)}onEventDragMove(e){let t=this,{owner:n}=t;n.enableDrag&&(t.isTopLevelEvent(e)||(e=t.adjustResizeEvent(e)),n.eventDragZone.dragMove(e))}onEventDragStart(e){let t=this,{owner:n}=t,r=n.data;if(n.enableDrag){let i,o,s=t.isTopLevelEvent(e);s||(e=t.adjustResizeEvent(e)),t.isDragging=!0,i=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].find(n.vdom,e.path[0].id).vdom,o=t.getEventDragZone({dragElement:i,enableResizingAcrossOppositeEdge:r.events.enableResizingAcrossOppositeEdge,eventRecord:n.eventStore.get(i.flag),proxyParentId:e.path[1].id}),s?o.addBodyCursorCls():n.getPlugin(t.resizablePluginType).onDragStart(e),o.dragStart(e)}}}));

/***/ },

/***/ "./dist/esm/src/draggable/DragProxyComponent.mjs"
/*!*******************************************************!*\
  !*** ./dist/esm/src/draggable/DragProxyComponent.mjs ***!
  \*******************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.draggable.DragProxyComponent",ntype:"dragproxy",autoInitVnode:!0,autoMount:!0,baseCls:["neo-dragproxy"],moveInMainThread:!0};afterSetMounted(e,a){if(super.afterSetMounted(e,a),e&&this.moveInMainThread){let{appName:e,id:a,windowId:o}=this;Neo.main.addon.DragDrop.setDragProxyElement({appName:e,id:a,windowId:o})}}}));

/***/ },

/***/ "./dist/esm/src/draggable/DragProxyContainer.mjs"
/*!*******************************************************!*\
  !*** ./dist/esm/src/draggable/DragProxyContainer.mjs ***!
  \*******************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../container/Base.mjs */ "./dist/esm/src/container/Base.mjs");
/* harmony import */ var _DragProxyComponent_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DragProxyComponent.mjs */ "./dist/esm/src/draggable/DragProxyComponent.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.draggable.DragProxyContainer",ntype:"dragproxycontainer",autoInitVnode:!0,autoMount:!0,baseCls:["neo-dragproxy"],layout:"fit",moveInMainThread:!0};afterSetMounted(e,t){if(super.afterSetMounted(e,t),e&&this.moveInMainThread){let{appName:e,id:t,windowId:o}=this;Neo.main.addon.DragDrop.setDragProxyElement({appName:e,id:t,windowId:o})}}afterSetWindowId(e,o){super.afterSetWindowId(e,o),e&&Neo.currentWorker.insertThemeFiles(e,_DragProxyComponent_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].prototype)}destroy(...e){this.items=[],super.destroy(...e)}}));

/***/ },

/***/ "./dist/esm/src/draggable/DragZone.mjs"
/*!*********************************************!*\
  !*** ./dist/esm/src/draggable/DragZone.mjs ***!
  \*********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _component_Base_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony import */ var _DragProxyComponent_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DragProxyComponent.mjs */ "./dist/esm/src/draggable/DragProxyComponent.mjs");
/* harmony import */ var _DragProxyContainer_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DragProxyContainer.mjs */ "./dist/esm/src/draggable/DragProxyContainer.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _core_Observable_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/Observable.mjs */ "./dist/esm/src/core/Observable.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static observable=!0;static config={className:"Neo.draggable.DragZone",ntype:"dragzone",addDragProxyCls:!0,allowOverdrag:!1,alwaysFireDragMove:!1,appName_:null,bodyCursorStyle:null,boundaryContainerId:null,boundaryContainerRect:null,data:null,dragElement:null,dragElementRect:null,dragProxy:null,dragProxyConfig_:null,dragProxyCls:"neo-dragproxy",dropZoneIdentifier:null,moveHorizontal:!0,moveInMainThread:!0,moveVertical:!0,offsetX:0,offsetY:0,owner:null,proxyParentId_:"document.body",scrollContainerId:null,scrollFactorLeft:1,scrollFactorTop:1,useProxyWrapper:!0,windowId_:null};construct(e){super.construct(e),Neo.main.addon.DragDrop||console.error("You can not use Neo.draggable.DragZone without adding Neo.main.addon.DragDrop to the main thread addons",this.id)}afterSetWindowId(e,r){e&&Neo.currentWorker.insertThemeFiles(e,this.__proto__)}beforeGetDragProxyConfig(e){return Neo.clone(e,!0,!0)}async createDragProxy(e,n=!0){let l,i,s=this,g=Neo.getComponent(s.getDragElementRoot().id)||s.owner,c=s.dragElementRect,m=s.dragProxyConfig||{},p=m.module===_DragProxyContainer_mjs__WEBPACK_IMPORTED_MODULE_3__["default"],h=m.vdom,u=!p&&_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].clone(h||s.dragElement);if(l={module:_DragProxyComponent_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],appName:s.appName,moveInMainThread:s.moveInMainThread,parentId:s.proxyParentId,windowId:s.windowId,...m},p?(l.height=`${e.height}px`,l.items=[],l.parentComponent=s.owner,l.width=`${e.width}px`,l.cls=l.cls||[],l.cls.push("neo-draggable")):(l.vdom=s.useProxyWrapper?{cn:[u]}:u,u.cls&&!s.useProxyWrapper&&(l.cls=l.cls||[],l.cls.push(...u.cls))),l.cls=l.cls||[],g&&l.cls.push(g.getTheme()),s.addDragProxyCls&&l.cls&&_util_Array_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].add(l.cls,s.dragProxyCls),l.style=l.style||{},Object.assign(l.style,{height:`${e.height}px`,left:`${s.moveHorizontal?e.x:c.x}px`,top:`${s.moveVertical?e.y:c.y}px`,width:`${e.width}px`}),n){if(p&&(l.autoInitVnode=!0,l.autoMount=!0),s.dragProxy=i=Neo.create(l),p){await i.mountedPromise,s.dragPlaceholder=Neo.create({module:_component_Base_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],flex:g.flex,style:{height:`${e.height}px`,visibility:"hidden",width:`${e.width}px`}}),g.minHeight&&(s.dragPlaceholder.minHeight=g.minHeight),g.minWidth&&(s.dragPlaceholder.minWidth=g.minWidth),s.dragStartIndex=s.owner.items.indexOf(g);const{vnode:o}=await Neo.vdom.Helper.create({vdom:s.dragPlaceholder.vdom});await Neo.applyDeltas(s.windowId,[{action:"insertNode",index:s.dragStartIndex,parentId:s.owner.getVdomItemsRoot().id,vnode:o},{action:"moveNode",id:g.id,index:0,parentId:i.id}]),s.dragPlaceholder.set({vnode:o,mounted:!0,vnodeInitialized:!0})}return i}return l}destroyDragProxy(){let e=this,r=e.dragProxy.id;e.timeout(e.moveInMainThread?0:30).then(()=>{Neo.applyDeltas(e.windowId,[{action:"removeNode",id:r}])}),e.dragProxy.destroy()}dragEnd(e){let r=this,{owner:o}=r,{cls:t}=o;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].remove(t,"neo-is-dragging"),o.cls=t,r.dragProxy&&(r.dragPlaceholder&&(r.dragPlaceholder.destroy(),r.dragPlaceholder=null),r.destroyDragProxy(),r.dragProxy=null),Object.assign(r,{dragElementRect:null,dragStartIndex:null,offsetX:0,offsetY:0,scrollContainerId:null}),r.fire("dragEnd",e),r.resetData()}dragMove(e,r=!1){let o,t=this;t.moveInMainThread&&!r||!t.dragProxy||(o=t.dragProxy.style,t.moveHorizontal&&(o.left=e.clientX-t.offsetX+"px"),t.moveVertical&&(o.top=e.clientY-t.offsetY+"px"),t.dragProxy.style=o),t.fire("dragMove",e)}async dragStart(e){let r,o,t,n=this,{appName:d,owner:l,windowId:i}=n,{cls:s}=l,g=n.getDragElementRect(e);n.setData(),r=await Neo.main.addon.DragDrop.setConfigs({appName:d,windowId:i,...n.getMainThreadConfigs()}),n.boundaryContainerRect=r.boundaryContainerRect,_util_Array_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].add(s,"neo-is-dragging"),l.cls=s,o=e.clientX-g.left,t=e.clientY-g.top,Object.assign(n,{dragElementRect:g,offsetX:o,offsetY:t}),await n.createDragProxy(g),n.fire("dragStart",{clientX:e.clientX,clientY:e.clientY,dragElementRect:g,eventData:e,id:n.id,offsetX:o,offsetY:t})}getDragElementRect(e){let r=this.getDragElementRoot().id;for(let o of e.path)if(o.id===r)return o.rect;for(let o of e.targetPath)if(o.id===r)return o.rect;return null}getDragElementRoot(){return this.dragElement}getMainThreadConfigs(){let e=this;return{allowOverdrag:e.allowOverdrag,alwaysFireDragMove:e.alwaysFireDragMove,bodyCursorStyle:e.bodyCursorStyle,boundaryContainerId:e.boundaryContainerId,dragElementRootId:e.getDragElementRoot().id,dragProxyCls:e.dragProxyCls,dragZoneId:e.id,dropZoneIdentifier:e.dropZoneIdentifier,moveHorizontal:e.moveHorizontal,moveVertical:e.moveVertical,scrollContainerId:e.scrollContainerId,scrollFactorLeft:e.scrollFactorLeft,scrollFactorTop:e.scrollFactorTop}}onDrop(e){this.fire("drop",e)}onDropEnter(e){this.fire("drop:enter",e)}onDropLeave(e){this.fire("drop:leave",e)}resetData(){this.timeout(50).then(()=>{this.data=null})}setData(e={}){let r=this;r.data={dragElement:r.getDragElementRoot(),dragZoneId:r.id,...e}}}));

/***/ },

/***/ "./dist/esm/src/plugin/Base.mjs"
/*!**************************************!*\
  !*** ./dist/esm/src/plugin/Base.mjs ***!
  \**************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.plugin.Base",ntype:"plugin",owner:null,windowId_:null};construct(e){super.construct(e);let n=this,{owner:o}=n;o.isConstructed?n.onOwnerConstructed():o.on("constructed",()=>{n.onOwnerConstructed()},n,{once:!0}),o.mounted?n.onOwnerMounted():o.on("mounted",n.onOwnerMounted,n)}afterSetWindowId(e,n){e&&Neo.currentWorker.insertThemeFiles(e,this.__proto__)}onOwnerConstructed(){let{owner:e}=this;e.windowId&&(this.windowId=e.windowId)}onOwnerMounted(){}}));

/***/ }

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC92ZW5kb3JzLWRpc3RfZXNtX3NyY19jYWxlbmRhcl92aWV3X3dlZWtfcGx1Z2luX0RyYWdEcm9wX21qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMk4saUVBQWUsNkJBQTZCLCtEQUFDLENBQUMsZUFBZSxpWkFBaVosbUJBQW1CLCtCQUErQix3QkFBd0IseUJBQXlCLEVBQUUsaUJBQWlCLDBMQUEwTCwyQkFBMkIsa0JBQWtCLFdBQVcsd0RBQXdELHVEQUF1RCxHQUFHLDhCQUE4Qiw4RkFBOEYsc0RBQUMseUJBQXlCLHFCQUFxQixTQUFTLE9BQU8seUVBQUMsaUpBQWlKLE9BQU8sSUFBSSw4SUFBOEksdURBQUMsa0RBQWtELFVBQVUsU0FBUyxzQ0FBc0MsUUFBUSxJQUFJLGdDQUFnQyxXQUFXLGlCQUFpQixnQkFBZ0IsUUFBUSxtQkFBbUIsMkVBQTJFLHNEQUFDLHNNQUFzTSxzREFBQywyRkFBMkYsc0JBQXNCLG1CQUFtQixzSEFBc0gsb0VBQW9FLFlBQVksd0NBQXdDLGtIQUFrSCx1REFBdUQsV0FBVyxHQUFHLGdCQUFnQixlQUFlLElBQUksNENBQTRDLHdCQUF3QixNQUFNLHdGQUF3RixzREFBQyxvQkFBb0Isc0RBQUMscUxBQXFMLDJCQUEyQixZQUFZLHNEQUFDLDJHQUEyRywrQ0FBK0Msc0NBQXNDLDRMQUE0TCxVQUFVLGtEQUFrRCx1QkFBdUIsV0FBVyx5UkFBeVIsRUFBRSxVQUFVLEtBQUssK0JBQStCLDJHQUEyRyxVQUFVLFdBQVcsdUJBQXVCLCtNQUErTSxFQUFFLHdFQUF3RSxxRUFBcUUsdUVBQXVFLEVBQUUsbUJBQW1CLHFFQUFxRSx3R0FBd0csdUJBQXVCLHNCQUFzQiw0Q0FBNEMsdUJBQXVCLHlCQUF5Qix5RUFBeUUsbUJBQW1CLG9MQUFvTCxpQkFBaUIsK0lBQStJLG9EQUFvRCxpREFBaUQsZ0JBQWdCLHNCQUFzQiwrQkFBK0Isd0JBQXdCLDRCQUE0QixHQUFHLENBQUMsRTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQXZ0SyxzQ0FBc0MsaUVBQWUsNkJBQTZCLHdEQUFDLENBQUMsZUFBZSwySkFBMkosYUFBYSxtQkFBbUIsY0FBYyxtQ0FBbUMsSUFBSSwrQkFBK0IsMEJBQTBCLGtDQUFrQyxFQUFFLGlDQUFpQyxFQUFFLG9DQUFvQyxFQUFFLG1DQUFtQyxFQUFFLHNDQUFzQyxFQUFFLHFDQUFxQyxHQUFHLHFCQUFxQixnRUFBZ0Usb0JBQW9CLElBQUksNkJBQTZCLE9BQU8sMkJBQTJCLE1BQU0sNk5BQTZOLGdEQUFnRCxPQUFPLDBEQUFDLGdHQUFnRyxPQUFPLHdDQUF3QyxJQUFJLG1CQUFtQixJQUFJLFFBQVEsT0FBTyxnQkFBZ0Isd0RBQXdELHVCQUF1QixvQkFBb0IsMkNBQTJDLG1CQUFtQiwyQ0FBMkMsbUJBQW1CLFlBQVksUUFBUSxVQUFVLHdGQUF3Riw2QkFBNkIsV0FBVyxZQUFZLDBFQUEwRSxHQUFHLG9CQUFvQixXQUFXLHFGQUFxRiwyQkFBMkIsV0FBVywyREFBMkQsZUFBZSxRQUFRLHNDQUFzQyxnQkFBZ0IsaUpBQWlKLHNEQUFDLHVEQUF1RCx1RkFBdUYsc0RBQUMsdUpBQXVKLHNHQUFzRywwREFBMEQsc0RBQUMsMkNBQTJDLDJGQUEyRix1SUFBdUksWUFBWSxXQUFXLEdBQUcsa0JBQWtCLFlBQVksUUFBUSxJQUFJLGdCQUFnQixHQUFHLG9LQUFvSyxtQkFBbUIsWUFBWSxRQUFRLEdBQUcsNkZBQTZGLG9CQUFvQixZQUFZLFFBQVEsWUFBWSxpQkFBaUIsK0JBQStCLGdEQUFnRCxzREFBQyxzREFBc0QseUpBQXlKLDRGQUE0RixDQUFDLEU7Ozs7Ozs7Ozs7Ozs7OztBQ0EzeEgsaUVBQWUsNkJBQTZCLDJEQUFDLENBQUMsZUFBZSw0SUFBNEkscUJBQXFCLHdEQUF3RCxJQUFJLDBCQUEwQixNQUFNLDZDQUE2QywwQkFBMEIsSUFBSSxDQUFDLEU7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBOVYsaUVBQWUsNkJBQTZCLDJEQUFDLENBQUMsZUFBZSxrS0FBa0sscUJBQXFCLHdEQUF3RCxJQUFJLDBCQUEwQixNQUFNLDZDQUE2QywwQkFBMEIsR0FBRyxzQkFBc0Isb0VBQW9FLCtEQUFDLFlBQVksY0FBYyxtQ0FBbUMsQ0FBQyxFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBcFksaUVBQWUsNkJBQTZCLHNEQUFDLENBQUMscUJBQXFCLGVBQWUsa2lCQUFraUIsYUFBYSw2S0FBNkssc0JBQXNCLHdEQUF3RCw0QkFBNEIsMEJBQTBCLDhCQUE4QixpSEFBaUgsY0FBYywrREFBQyxnQkFBZ0Isc0RBQUMseUJBQXlCLE1BQU0sT0FBTywrREFBQyx5R0FBeUcsZ0JBQWdCLFNBQVMsb0RBQW9ELFFBQVEsNEVBQTRFLE9BQU8sNElBQTRJLHVEQUFDLDhDQUE4Qyx3QkFBd0IsVUFBVSxTQUFTLFlBQVkseUJBQXlCLFdBQVcsdUJBQXVCLGFBQWEsUUFBUSxJQUFJLEtBQUsseUVBQXlFLHFEQUFxRCxPQUFPLDJEQUFDLG9CQUFvQixVQUFVLFNBQVMsaUNBQWlDLFFBQVEsS0FBSyx1SkFBdUosTUFBTSxRQUFRLCtCQUErQiw0QkFBNEIsRUFBRSxtQ0FBbUMsMEZBQTBGLEVBQUUsZ0RBQWdELDBCQUEwQix1Q0FBdUMsRUFBRSxTQUFTLFNBQVMsbUJBQW1CLDRCQUE0Qiw2Q0FBNkMsNkJBQTZCLHlCQUF5QixHQUFHLHdCQUF3QixXQUFXLFlBQVksUUFBUSxJQUFJLE1BQU0sR0FBRyx1REFBQyxtTEFBbUwsb0ZBQW9GLG9DQUFvQyxpQkFBaUIsYUFBYSwwTUFBME0sbUJBQW1CLGtCQUFrQiw2QkFBNkIsSUFBSSxNQUFNLDZCQUE2Qix3REFBd0QsaURBQWlELGtEQUFrRCx1REFBQyx3RkFBd0Ysc0NBQXNDLGlEQUFpRCw4RkFBOEYsRUFBRSxzQkFBc0IsbUNBQW1DLDhDQUE4QyxvREFBb0QsWUFBWSxxQkFBcUIsd0JBQXdCLHVCQUF1QixXQUFXLE9BQU8sMmJBQTJiLFVBQVUsb0JBQW9CLGVBQWUsMEJBQTBCLGVBQWUsMEJBQTBCLFlBQVksMkJBQTJCLGVBQWUsRUFBRSxZQUFZLEVBQUUsV0FBVyxRQUFRLDBEQUEwRCxDQUFDLEU7Ozs7Ozs7Ozs7Ozs7OztBQ0E5ekosaUVBQWUsNkJBQTZCLHNEQUFDLENBQUMsZUFBZSxzRUFBc0UsYUFBYSxtQkFBbUIsWUFBWSxRQUFRLEdBQUcsK0RBQStELHVCQUF1QixJQUFJLFFBQVEsa0VBQWtFLHNCQUFzQix3REFBd0QscUJBQXFCLElBQUksUUFBUSxNQUFNLHVDQUF1QyxtQkFBbUIsQ0FBQyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9jYWxlbmRhci92aWV3L3dlZWsvRXZlbnREcmFnWm9uZS5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9jYWxlbmRhci92aWV3L3dlZWsvcGx1Z2luL0RyYWdEcm9wLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2RyYWdnYWJsZS9EcmFnUHJveHlDb21wb25lbnQubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvZHJhZ2dhYmxlL0RyYWdQcm94eUNvbnRhaW5lci5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9kcmFnZ2FibGUvRHJhZ1pvbmUubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvcGx1Z2luL0Jhc2UubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlIGZyb21cIi4uLy4uLy4uL3V0aWwvRGF0ZS5tanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9kcmFnZ2FibGUvRHJhZ1Byb3h5Q29tcG9uZW50Lm1qc1wiO2ltcG9ydCBhIGZyb21cIi4uLy4uLy4uL2RyYWdnYWJsZS9EcmFnWm9uZS5tanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi8uLi91dGlsL0FycmF5Lm1qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uL3V0aWwvVkRvbS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGF7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmNhbGVuZGFyLnZpZXcud2Vlay5FdmVudERyYWdab25lXCIsYWRkRHJhZ1Byb3h5Q2xzOiExLGVuYWJsZVJlc2l6aW5nQWNyb3NzT3Bwb3NpdGVFZGdlOiEwLGF4aXNFbmRUaW1lOjAsYXhpc1N0YXJ0VGltZTowLGNvbHVtbkhlaWdodDowLGNvbHVtblRvcDowLGN1cnJlbnRJbnRlcnZhbDowLGV2ZW50RHVyYXRpb246MCxldmVudFJlY29yZDpudWxsLGZvcmNlVXBkYXRlOiExLGhhc092ZXJmbG93OiExLGludGVydmFsU2l6ZToxNSxrZWVwRW5kRGF0ZTohMSxrZWVwU3RhcnREYXRlOiExLG1vdmVIb3Jpem9udGFsOiExLG1vdmVJbk1haW5UaHJlYWQ6ITEsbmV3RW5kRGF0ZTpudWxsLG5ld1N0YXJ0RGF0ZTpudWxsLHNjcm9sbEZhY3RvckxlZnQ6Myx1c2VQcm94eVdyYXBwZXI6ITF9O2FkZEJvZHlDdXJzb3JDbHMoKXtOZW8uYXBwbHlEZWx0YXModGhpcy53aW5kb3dJZCx7aWQ6XCJkb2N1bWVudC5ib2R5XCIsY2xzOnthZGQ6W1wibmVvLWN1cnNvci1tb3ZlXCJdfX0pfWFkanVzdEVuZERhdGUoZSl7cmV0dXJuIDA9PT1lLmdldEhvdXJzKCkmJjA9PT1lLmdldE1pbnV0ZXMoKT9lLnNldE1pbnV0ZXMoZS5nZXRNaW51dGVzKCktMSk6MjM9PT1lLmdldEhvdXJzKCkmJjU5PT09ZS5nZXRNaW51dGVzKCl8fGUuZ2V0TWludXRlcygpJXRoaXMuaW50ZXJ2YWxTaXplPT09MHx8ZS5zZXRNaW51dGVzKGUuZ2V0TWludXRlcygpKzEpLGV9YWZ0ZXJTZXRQcm94eVBhcmVudElkKGUsdCl7aWYoZSYmdm9pZCAwIT09dCl7bGV0IHQ9dGhpczt0LmRyYWdQcm94eT8udmRvbS5jblswXS5pZCYmTmVvLmFwcGx5RGVsdGFzKHQud2luZG93SWQse2FjdGlvbjpcIm1vdmVOb2RlXCIsaWQ6dC5kcmFnUHJveHkuaWQsaW5kZXg6MCxwYXJlbnRJZDplfSl9fWFzeW5jIGNyZWF0ZURyYWdQcm94eShlLGE9ITApe2xldCBuPXRoaXMscz1OZW8uZ2V0Q29tcG9uZW50KG4uZ2V0RHJhZ0VsZW1lbnRSb290KCkuaWQpfHxuLm93bmVyLGk9bi5kcmFnUHJveHlDb25maWc/LnZkb20sZD1vLmNsb25lKGl8fG4uZHJhZ0VsZW1lbnQpO2QuY25bMl0ucmVtb3ZlRG9tPSExO2NvbnN0IGw9e21vZHVsZTp0LGFwcE5hbWU6bi5hcHBOYW1lLG1vdmVJbk1haW5UaHJlYWQ6bi5tb3ZlSW5NYWluVGhyZWFkLHBhcmVudElkOm4ucHJveHlQYXJlbnRJZCx3aW5kb3dJZDpuLndpbmRvd0lkLC4uLm4uZHJhZ1Byb3h5Q29uZmlnLHZkb206bi51c2VQcm94eVdyYXBwZXI/e2NuOltkXX06ZH07cmV0dXJuIGwuY2xzPWwuY2xzfHxbXSxsLmNscy5wdXNoKFwibmVvLWZvY3VzXCIpLHMmJmwuY2xzLnB1c2gocy5nZXRUaGVtZSgpKSxkLmNscyYmIW4udXNlUHJveHlXcmFwcGVyJiZsLmNscy5wdXNoKC4uLmQuY2xzKSxuLmFkZERyYWdQcm94eUNscyYmci5hZGQobC5jbHMsbi5kcmFnUHJveHlDbHMpLE9iamVjdC5hc3NpZ24obC5zdHlsZSx7aGVpZ2h0OmAke2UuaGVpZ2h0fXB4YCx0b3A6ZS55LW4uY29sdW1uVG9wK1wicHhcIix3aWR0aDpgJHtlLndpZHRofXB4YH0pLGE/bi5kcmFnUHJveHk9TmVvLmNyZWF0ZShsKTpsfWRyYWdFbmQodCl7c3VwZXIuZHJhZ0VuZCh0KTtsZXQgYSxyLG49dGhpcyx7b3duZXI6c309bixpPW4uZXZlbnRSZWNvcmQ7bi5rZWVwU3RhcnREYXRlPyhhPW4ubmV3RW5kRGF0ZSxyPW4ubmV3U3RhcnREYXRlfHxpLnN0YXJ0RGF0ZSk6KHI9bmV3IERhdGUoby5maW5kKHMudmRvbSxuLnByb3h5UGFyZW50SWQpLnZkb20uZmxhZytcIlQxMjowMDowMC4wMDBaXCIpLHIuc2V0SG91cnMobi5heGlzU3RhcnRUaW1lKSxyLnNldE1pbnV0ZXMobi5jdXJyZW50SW50ZXJ2YWwqbi5pbnRlcnZhbFNpemUpLG4ua2VlcEVuZERhdGU/KGE9bi5uZXdFbmREYXRlfHxpLmVuZERhdGUscj1uLm5ld1N0YXJ0RGF0ZXx8cik6KGE9ZS5jbG9uZShyKSxhLnNldE1pbnV0ZXMoYS5nZXRNaW51dGVzKCkrbi5ldmVudER1cmF0aW9uKSkpLGE9bi5hZGp1c3RFbmREYXRlKGEpLGkuc2V0U2lsZW50KHtlbmREYXRlOmEsc3RhcnREYXRlOnJ9KSxPYmplY3QuYXNzaWduKG4se2N1cnJlbnRJbnRlcnZhbDowLGhhc092ZXJmbG93OiExLGtlZXBFbmREYXRlOiExLGtlZXBTdGFydERhdGU6ITEsbmV3RW5kRGF0ZTpudWxsLG5ld1N0YXJ0RGF0ZTpudWxsLHByb3h5UGFyZW50SWQ6bnVsbH0pLHMuZ2V0U3RhdGVQcm92aWRlcigpLmdldFN0b3JlKFwiZXZlbnRzXCIpLmRvU29ydCgpLHMudXBkYXRlRXZlbnRzKCl9ZHJhZ01vdmUodCl7bGV0IGEscixvLG4scyxpLGQsbCx1LGMscCxtLGcsRCxmPXRoaXMse2F4aXNFbmRUaW1lOnYsYXhpc1N0YXJ0VGltZTpoLGNvbHVtbkhlaWdodDp3LGV2ZW50RHVyYXRpb246eCxpbnRlcnZhbFNpemU6eSxrZWVwRW5kRGF0ZTpNLGtlZXBTdGFydERhdGU6RSxvd25lcjpQfT1mLFM9MCxJPXQudGFyZ2V0UGF0aCxIPUkubGVuZ3RoLEM9Zi5ldmVudFJlY29yZCxUPSExLHt0aW1lQXhpczpqfT1QO2lmKGYuZHJhZ1Byb3h5KXtpZighTSYmIUUpZm9yKDtTPEg7UysrKWlmKElbU10uY2xzLmluY2x1ZGVzKFwibmVvLWMtdy1jb2x1bW5cIikpe2YucHJveHlQYXJlbnRJZD1JW1NdLmlkO2JyZWFrfWlmKHU9NjAqKHYtaCkveSxsPXcvdSxtPU1hdGgubWluKHcsdC5jbGllbnRZLWYub2Zmc2V0WS1mLmNvbHVtblRvcCkscj1NYXRoLmZsb29yKG0vbCkscz1lLmNsb25lKEMuZW5kRGF0ZSksZz1lLmNsb25lKEMuc3RhcnREYXRlKSxNJiZoPmcuZ2V0SG91cnMoKSYmKGcuc2V0SG91cnMoaCksZy5zZXRNaW51dGVzKDApLHg9KHMtZykvNjAvMWUzKSxFJiZ2PHMuZ2V0SG91cnMoKSYmKHMuc2V0SG91cnModikscy5zZXRNaW51dGVzKDApLHg9KHMtZykvNjAvMWUzKSxNfHwocj1NYXRoLm1pbihyLHUteC95KSksbz1be2lkOmYuZHJhZ1Byb3h5LmlkLHN0eWxlOnt9fV0sTXx8RSlpZihhPWUuY2xvbmUoQy5zdGFydERhdGUpLGEuc2V0SG91cnMoaCksYS5zZXRNaW51dGVzKDApLHA9UC5taW5pbXVtRXZlbnREdXJhdGlvbi95LEQ9KEMuc3RhcnREYXRlLWEpL3kvNjAvMWUzLE0pe2lmKGM9RCt4L3ksZi5lbmFibGVSZXNpemluZ0Fjcm9zc09wcG9zaXRlRWRnZSl7aWYoZi5mb3JjZVVwZGF0ZSYmcj5jLXAmJnI8YytwKXJldHVybjtyPj1jK3A/KFQ9ITAsZi5mb3JjZVVwZGF0ZT0hMCxzLnNldEhvdXJzKGgpLHMuc2V0TWludXRlcyhyKnkpLHM9Zi5hZGp1c3RFbmREYXRlKHMpLGYubmV3RW5kRGF0ZT1zLGcuc2V0SG91cnMoaCksZy5zZXRNaW51dGVzKGMqeSksZi5uZXdTdGFydERhdGU9ZyxuPShzLWcpLzYwLzYwLzFlMyxvWzBdLnN0eWxlLnRvcD1gY2FsYygke2MqbC93KjEwMH0lICsgMXB4KWApOihmLmZvcmNlVXBkYXRlPSExLGYubmV3U3RhcnREYXRlPW51bGwpfVR8fChyPU1hdGgubWluKHIsYy1wKSl9ZWxzZSBpZihFKXtpZihjPUQteC95LGYuZW5hYmxlUmVzaXppbmdBY3Jvc3NPcHBvc2l0ZUVkZ2UpaWYocj1NYXRoLm1heCgteC95LHIpLHI8PWMtcClUPSEwLGYuZm9yY2VVcGRhdGU9ITAscy5zZXRIb3VycyhoKSxzLnNldE1pbnV0ZXMoeCtjKnkpLHM9Zi5hZGp1c3RFbmREYXRlKHMpLGYubmV3RW5kRGF0ZT1zLGcuc2V0SG91cnMoaCksZy5zZXRNaW51dGVzKHgrcip5KSxmLm5ld1N0YXJ0RGF0ZT1nLG49KHMtZykvNjAvNjAvMWUzLG09KHgveStyKSpsLG09bS93KjEwMCxvWzBdLnN0eWxlLnRvcD1gY2FsYygke219JSArIDFweClgO2Vsc2V7aWYoZi5mb3JjZVVwZGF0ZSYmcjxjK3ApcmV0dXJuO2YuZm9yY2VVcGRhdGUmJnI+PWMrcCYmZi5jdXJyZW50SW50ZXJ2YWwhPT1yJiYoZi5mb3JjZVVwZGF0ZT0hMSxmLm5ld1N0YXJ0RGF0ZT1udWxsLG9bMF0uc3R5bGUudG9wPWBjYWxjKCR7RCpsL3cqMTAwfSUgKyAxcHgpYCl9VHx8KHI9TWF0aC5tYXgocixjK3ApKX1FfHwocj1NYXRoLm1heCgwLHIpKSxmLmN1cnJlbnRJbnRlcnZhbCE9PXImJihUfHwoTXx8KHMuc2V0SG91cnMoaCkscy5zZXRNaW51dGVzKHgrcip5KSksRT8oZi5uZXdFbmREYXRlPXMsbj0ocy1DLnN0YXJ0RGF0ZSkvNjAvNjAvMWUzKTooZy5zZXRIb3VycyhoKSxnLnNldE1pbnV0ZXMocip5KSxtPXIqbCxtPW0vdyoxMDAsb1swXS5zdHlsZS50b3A9YGNhbGMoJHttfSUgKyAxcHgpYCksTSYmKG49KEMuZW5kRGF0ZS1nKS82MC82MC8xZTMpKSxzPWYuYWRqdXN0RW5kRGF0ZShzKSxvLnB1c2goe2lkOmYuZHJhZ1Byb3h5LnZkb20uY25bMl0uaWQsdGV4dENvbnRlbnQ6UC5pbnRsRm9ybWF0X3RpbWUuZm9ybWF0KHMpfSksKE18fEUpJiYoZD1NYXRoLnJvdW5kKG4vKHYtaCkqMTAwKjFlMykvMWUzLG9bMF0uc3R5bGUuaGVpZ2h0PWBjYWxjKCR7ZH0lIC0gMnB4KWApLG8ucHVzaCh7aWQ6Zi5kcmFnUHJveHkudmRvbS5jblswXS5pZCx0ZXh0Q29udGVudDpQLmludGxGb3JtYXRfdGltZS5mb3JtYXQoZyl9KSxmLmRyYWdQcm94eS52ZG9tLmNuWzBdLmlkJiYoaT0obiYmNjAqbnx8eCkvai5pbnRlcnZhbCxpPD0yP2oucm93SGVpZ2h0L2k8MjUmJiFmLmhhc092ZXJmbG93JiYoby5wdXNoKHtpZDpmLmRyYWdQcm94eS5pZCxjbHM6e2FkZDpbXCJuZW8tb3ZlcmZsb3dcIl19fSksZi5oYXNPdmVyZmxvdz0hMCk6Zi5oYXNPdmVyZmxvdyYmKG8ucHVzaCh7aWQ6Zi5kcmFnUHJveHkuaWQsY2xzOntyZW1vdmU6W1wibmVvLW92ZXJmbG93XCJdfX0pLGYuaGFzT3ZlcmZsb3c9ITEpLE5lby5hcHBseURlbHRhcyhmLndpbmRvd0lkLG8pKSksZi5jdXJyZW50SW50ZXJ2YWw9cn19YXN5bmMgZHJhZ1N0YXJ0KGUpe2xldCB0PXRoaXMsYT1hd2FpdCB0Lm93bmVyLmdldERvbVJlY3QoW3QuZ2V0RHJhZ0VsZW1lbnRSb290KCkuaWQsZS5wYXRoWzFdLmlkXSkscj0odC5ldmVudFJlY29yZC5lbmREYXRlLXQuZXZlbnRSZWNvcmQuc3RhcnREYXRlKS82MC8xZTMsbz1lLmNsaWVudFgtYVswXS5sZWZ0LG49ZS5jbGllbnRZLWFbMF0udG9wO09iamVjdC5hc3NpZ24odCx7Y29sdW1uSGVpZ2h0OmFbMV0uaGVpZ2h0LGNvbHVtblRvcDphWzFdLnRvcCxkcmFnRWxlbWVudFJlY3Q6YVswXSxldmVudER1cmF0aW9uOk1hdGgucm91bmQoci90LmludGVydmFsU2l6ZSkqdC5pbnRlcnZhbFNpemUsb2Zmc2V0WDpvLG9mZnNldFk6bn0pLGF3YWl0IHQuY3JlYXRlRHJhZ1Byb3h5KGFbMF0pLHQuZmlyZShcImRyYWdTdGFydFwiLHtkcmFnRWxlbWVudFJlY3Q6YVswXSxpZDp0LmlkLG9mZnNldFg6byxvZmZzZXRZOm59KSx0LmRyYWdNb3ZlKGUpfXJlbW92ZUJvZHlDdXJzb3JDbHMoKXtOZW8uYXBwbHlEZWx0YXModGhpcy53aW5kb3dJZCx7aWQ6XCJkb2N1bWVudC5ib2R5XCIsY2xzOntyZW1vdmU6W1wibmVvLWN1cnNvci1tb3ZlXCJdfX0pfX0pOyIsImltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uL3BsdWdpbi9CYXNlLm1qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uL3V0aWwvRGF0ZS5tanNcIjtpbXBvcnQgbiBmcm9tXCIuLi9FdmVudERyYWdab25lLm1qc1wiO2ltcG9ydCBhIGZyb21cIi4uLy4uLy4uLy4uL3V0aWwvVkRvbS5tanNcIjtjb25zdCByPVN5bWJvbC5mb3IoXCJuZXdSZWNvcmRTeW1ib2xcIik7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBle3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5jYWxlbmRhci52aWV3LndlZWsucGx1Z2luLkRyYWdEcm9wXCIsbnR5cGU6XCJwbHVnaW4tY2FsZW5kYXItd2Vlay1kcmFnZHJvcFwiLGlzRHJhZ2dpbmc6ITEscmVzaXphYmxlUGx1Z2luVHlwZTpcImNhbGVuZGFyLXdlZWstZXZlbnRyZXNpemFibGVcIn07Y29uc3RydWN0KGUpe3N1cGVyLmNvbnN0cnVjdChlKTtsZXQgdD10aGlzLG49e3Njb3BlOnQsZGVsZWdhdGU6XCIubmVvLWMtdy1jb2x1bW5cIn0sYT17c2NvcGU6dCxkZWxlZ2F0ZTpcIi5uZW8tZXZlbnRcIn07dC5vd25lci5hZGREb21MaXN0ZW5lcnMoW3tcImRyYWc6ZW5kXCI6dC5vbkNvbHVtbkRyYWdFbmQsLi4ubn0se1wiZHJhZzplbmRcIjp0Lm9uRXZlbnREcmFnRW5kLC4uLmF9LHtcImRyYWc6bW92ZVwiOnQub25Db2x1bW5EcmFnTW92ZSwuLi5ufSx7XCJkcmFnOm1vdmVcIjp0Lm9uRXZlbnREcmFnTW92ZSwuLi5hfSx7XCJkcmFnOnN0YXJ0XCI6dC5vbkNvbHVtbkRyYWdTdGFydCwuLi5ufSx7XCJkcmFnOnN0YXJ0XCI6dC5vbkV2ZW50RHJhZ1N0YXJ0LC4uLmF9XSl9YWRqdXN0UmVzaXplRXZlbnQoZSl7cmV0dXJuIGUucGF0aC5zaGlmdCgpLGUudGFyZ2V0UGF0aC5zaGlmdCgpLGUudGFyZ2V0PWUucGF0aFswXSxlfWdldEV2ZW50RHJhZ1pvbmUoZSl7bGV0e2FwcE5hbWU6dCxvd25lcjphLHdpbmRvd0lkOnJ9PXRoaXMse2V2ZW50RHJhZ1pvbmU6aSx0aW1lQXhpczpvfT1hLHM9e2F4aXNFbmRUaW1lOm8uZ2V0VGltZShhLmVuZFRpbWUpLGF4aXNTdGFydFRpbWU6by5nZXRUaW1lKGEuc3RhcnRUaW1lKSxkcmFnRWxlbWVudDplLmRyYWdFbGVtZW50LGVuYWJsZVJlc2l6aW5nQWNyb3NzT3Bwb3NpdGVFZGdlOmUuZW5hYmxlUmVzaXppbmdBY3Jvc3NPcHBvc2l0ZUVkZ2UsZXZlbnRSZWNvcmQ6ZS5ldmVudFJlY29yZCxwcm94eVBhcmVudElkOmUucHJveHlQYXJlbnRJZH07cmV0dXJuIGk/aS5zZXQocyk6YS5ldmVudERyYWdab25lPWk9TmVvLmNyZWF0ZSh7bW9kdWxlOm4sYXBwTmFtZTp0LG93bmVyOmEsc2Nyb2xsQ29udGFpbmVySWQ6YS5nZXRTY3JvbGxDb250YWluZXIoKS5pZCx3aW5kb3dJZDpyLC4uLnMsZHJhZ1Byb3h5Q29uZmlnOntzdHlsZTp7dHJhbnNpdGlvbjpcIm5vbmVcIix3aWxsQ2hhbmdlOlwiaGVpZ2h0XCJ9fX0pLGl9aXNBY3RpdmVDYWxlbmRhcigpe2xldHtvd25lcjplfT10aGlzLHtjYWxlbmRhclN0b3JlOnR9PWUsbj1lLmRhdGEuYWN0aXZlQ2FsZW5kYXJJZHx8dC5nZXRBdCgwKVt0LmtleVByb3BlcnR5XTtyZXR1cm4gdC5nZXQobikuYWN0aXZlfWlzVG9wTGV2ZWxDb2x1bW4oZSl7cmV0dXJuIGVbMF0uY2xzLmluY2x1ZGVzKFwibmVvLWMtdy1jb2x1bW5cIil9aXNUb3BMZXZlbEV2ZW50KGUpe3JldHVybiBlLnBhdGhbMF0uY2xzLmluY2x1ZGVzKFwibmVvLWV2ZW50XCIpfW9uQ29sdW1uRHJhZ0VuZChlKXtsZXQgdD10aGlzLHtvd25lcjpufT10LGE9dFtyXTthJiZ0LmlzVG9wTGV2ZWxDb2x1bW4oZS5wYXRoKSYmKHQuaXNEcmFnZ2luZz0hMSxkZWxldGUgdFtyXSxOZW8uYXBwbHlEZWx0YXModC53aW5kb3dJZCx7aWQ6bi5nZXRFdmVudElkKGEuaWQpLHN0eWxlOntvcGFjaXR5OjF9fSkudGhlbigoKT0+e24uZXZlbnREcmFnWm9uZS5kcmFnRW5kKCksbi5nZXRQbHVnaW4odC5yZXNpemFibGVQbHVnaW5UeXBlKS5vbkRyYWdFbmQoZSl9KSl9b25Db2x1bW5EcmFnTW92ZShlKXtsZXQgdD10aGlzO3QuaXNBY3RpdmVDYWxlbmRhcigpJiZ0LmlzVG9wTGV2ZWxDb2x1bW4oZS5wYXRoKSYmdC5vd25lci5ldmVudERyYWdab25lPy5kcmFnTW92ZShlKX1hc3luYyBvbkNvbHVtbkRyYWdTdGFydChlKXtsZXQgbj10aGlzO2lmKG4uaXNBY3RpdmVDYWxlbmRhcigpJiZuLmlzVG9wTGV2ZWxDb2x1bW4oZS50YXJnZXRQYXRoKSl7bGV0IGksbyxzLGcsZCx7b3duZXI6bH09bix2PWwudGltZUF4aXMuZ2V0VGltZShsLnN0YXJ0VGltZSkse2NhbGVuZGFyU3RvcmU6bX09bCxwPWUucGF0aFswXS5yZWN0LHU9MTUsYz02MCoobC50aW1lQXhpcy5nZXRUaW1lKGwuZW5kVGltZSktdikvdSxEPXAuaGVpZ2h0L2MsRT1NYXRoLm1pbihwLmhlaWdodCxlLmNsaWVudFktcC50b3ApLGg9TWF0aC5mbG9vcihFL0QpLHc9bmV3IERhdGUoYS5maW5kKGwudmRvbSxlLnBhdGhbMF0uaWQpLnZkb20uZmxhZytcIlQxMjowMDowMC4wMDBaXCIpO24uaXNEcmFnZ2luZz0hMCx3LnNldEhvdXJzKHYpLHcuc2V0TWludXRlcyhNYXRoLm1pbihoKnUsYyp1LWwubWluaW11bUV2ZW50RHVyYXRpb24pKSxvPXQuY2xvbmUodyksby5zZXRNaW51dGVzKG8uZ2V0TWludXRlcygpK2wubWluaW11bUV2ZW50RHVyYXRpb24pLDA9PT1vLmdldEhvdXJzKCkmJjA9PT1vLmdldE1pbnV0ZXMoKSYmby5zZXRNaW51dGVzKG8uZ2V0TWludXRlcygpLTEpLGQ9bC5ldmVudFN0b3JlLmFkZCh7Y2FsZW5kYXJJZDpsLmRhdGEuYWN0aXZlQ2FsZW5kYXJJZHx8bS5nZXRBdCgwKVttLmtleVByb3BlcnR5XSxlbmREYXRlOm8sc3RhcnREYXRlOncsdGl0bGU6XCJOZXcgRXZlbnRcIn0sITApWzBdLG5bcl09ZCxhd2FpdCBuLnRpbWVvdXQoNTApLGc9bC5nZXRFdmVudElkKGQuaWQpLGk9YS5maW5kKGwudmRvbSxnKS52ZG9tLHM9bi5nZXRFdmVudERyYWdab25lKHtkcmFnRWxlbWVudDppLGVuYWJsZVJlc2l6aW5nQWNyb3NzT3Bwb3NpdGVFZGdlOiEwLGV2ZW50UmVjb3JkOmQscHJveHlQYXJlbnRJZDplLnBhdGhbMF0uaWR9KSxsLmdldFBsdWdpbihuLnJlc2l6YWJsZVBsdWdpblR5cGUpLm9uRHJhZ1N0YXJ0KGUpLGF3YWl0IHMuZHJhZ1N0YXJ0KGUpLGF3YWl0IG4udGltZW91dCg1MCksbi5pc0RyYWdnaW5nJiZOZW8uYXBwbHlEZWx0YXMobi53aW5kb3dJZCx7aWQ6ZyxzdHlsZTp7b3BhY2l0eTowfX0pfX1vbkV2ZW50RHJhZ0VuZChlKXtsZXQgdD10aGlzLHtvd25lcjpufT10LHtldmVudERyYWdab25lOmF9PW47bi5lbmFibGVEcmFnJiYoYS5kcmFnRW5kKCksdC5pc1RvcExldmVsRXZlbnQoZSk/YS5yZW1vdmVCb2R5Q3Vyc29yQ2xzKCk6KGU9dC5hZGp1c3RSZXNpemVFdmVudChlKSxuLmdldFBsdWdpbih0LnJlc2l6YWJsZVBsdWdpblR5cGUpLm9uRHJhZ0VuZChlKSksdC5pc0RyYWdnaW5nPSExKX1vbkV2ZW50RHJhZ01vdmUoZSl7bGV0IHQ9dGhpcyx7b3duZXI6bn09dDtuLmVuYWJsZURyYWcmJih0LmlzVG9wTGV2ZWxFdmVudChlKXx8KGU9dC5hZGp1c3RSZXNpemVFdmVudChlKSksbi5ldmVudERyYWdab25lLmRyYWdNb3ZlKGUpKX1vbkV2ZW50RHJhZ1N0YXJ0KGUpe2xldCB0PXRoaXMse293bmVyOm59PXQscj1uLmRhdGE7aWYobi5lbmFibGVEcmFnKXtsZXQgaSxvLHM9dC5pc1RvcExldmVsRXZlbnQoZSk7c3x8KGU9dC5hZGp1c3RSZXNpemVFdmVudChlKSksdC5pc0RyYWdnaW5nPSEwLGk9YS5maW5kKG4udmRvbSxlLnBhdGhbMF0uaWQpLnZkb20sbz10LmdldEV2ZW50RHJhZ1pvbmUoe2RyYWdFbGVtZW50OmksZW5hYmxlUmVzaXppbmdBY3Jvc3NPcHBvc2l0ZUVkZ2U6ci5ldmVudHMuZW5hYmxlUmVzaXppbmdBY3Jvc3NPcHBvc2l0ZUVkZ2UsZXZlbnRSZWNvcmQ6bi5ldmVudFN0b3JlLmdldChpLmZsYWcpLHByb3h5UGFyZW50SWQ6ZS5wYXRoWzFdLmlkfSkscz9vLmFkZEJvZHlDdXJzb3JDbHMoKTpuLmdldFBsdWdpbih0LnJlc2l6YWJsZVBsdWdpblR5cGUpLm9uRHJhZ1N0YXJ0KGUpLG8uZHJhZ1N0YXJ0KGUpfX19KTsiLCJpbXBvcnQgZSBmcm9tXCIuLi9jb21wb25lbnQvQmFzZS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGV7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmRyYWdnYWJsZS5EcmFnUHJveHlDb21wb25lbnRcIixudHlwZTpcImRyYWdwcm94eVwiLGF1dG9Jbml0Vm5vZGU6ITAsYXV0b01vdW50OiEwLGJhc2VDbHM6W1wibmVvLWRyYWdwcm94eVwiXSxtb3ZlSW5NYWluVGhyZWFkOiEwfTthZnRlclNldE1vdW50ZWQoZSxhKXtpZihzdXBlci5hZnRlclNldE1vdW50ZWQoZSxhKSxlJiZ0aGlzLm1vdmVJbk1haW5UaHJlYWQpe2xldHthcHBOYW1lOmUsaWQ6YSx3aW5kb3dJZDpvfT10aGlzO05lby5tYWluLmFkZG9uLkRyYWdEcm9wLnNldERyYWdQcm94eUVsZW1lbnQoe2FwcE5hbWU6ZSxpZDphLHdpbmRvd0lkOm99KX19fSk7IiwiaW1wb3J0IGUgZnJvbVwiLi4vY29udGFpbmVyL0Jhc2UubWpzXCI7aW1wb3J0IHQgZnJvbVwiLi9EcmFnUHJveHlDb21wb25lbnQubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBle3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5kcmFnZ2FibGUuRHJhZ1Byb3h5Q29udGFpbmVyXCIsbnR5cGU6XCJkcmFncHJveHljb250YWluZXJcIixhdXRvSW5pdFZub2RlOiEwLGF1dG9Nb3VudDohMCxiYXNlQ2xzOltcIm5lby1kcmFncHJveHlcIl0sbGF5b3V0OlwiZml0XCIsbW92ZUluTWFpblRocmVhZDohMH07YWZ0ZXJTZXRNb3VudGVkKGUsdCl7aWYoc3VwZXIuYWZ0ZXJTZXRNb3VudGVkKGUsdCksZSYmdGhpcy5tb3ZlSW5NYWluVGhyZWFkKXtsZXR7YXBwTmFtZTplLGlkOnQsd2luZG93SWQ6b309dGhpcztOZW8ubWFpbi5hZGRvbi5EcmFnRHJvcC5zZXREcmFnUHJveHlFbGVtZW50KHthcHBOYW1lOmUsaWQ6dCx3aW5kb3dJZDpvfSl9fWFmdGVyU2V0V2luZG93SWQoZSxvKXtzdXBlci5hZnRlclNldFdpbmRvd0lkKGUsbyksZSYmTmVvLmN1cnJlbnRXb3JrZXIuaW5zZXJ0VGhlbWVGaWxlcyhlLHQucHJvdG90eXBlKX1kZXN0cm95KC4uLmUpe3RoaXMuaXRlbXM9W10sc3VwZXIuZGVzdHJveSguLi5lKX19KTsiLCJpbXBvcnQgZSBmcm9tXCIuLi9jb3JlL0Jhc2UubWpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vY29tcG9uZW50L0Jhc2UubWpzXCI7aW1wb3J0IG8gZnJvbVwiLi9EcmFnUHJveHlDb21wb25lbnQubWpzXCI7aW1wb3J0IHQgZnJvbVwiLi9EcmFnUHJveHlDb250YWluZXIubWpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vdXRpbC9BcnJheS5tanNcIjtpbXBvcnQgbiBmcm9tXCIuLi9jb3JlL09ic2VydmFibGUubWpzXCI7aW1wb3J0IGQgZnJvbVwiLi4vdXRpbC9WRG9tLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgZXtzdGF0aWMgb2JzZXJ2YWJsZT0hMDtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uZHJhZ2dhYmxlLkRyYWdab25lXCIsbnR5cGU6XCJkcmFnem9uZVwiLGFkZERyYWdQcm94eUNsczohMCxhbGxvd092ZXJkcmFnOiExLGFsd2F5c0ZpcmVEcmFnTW92ZTohMSxhcHBOYW1lXzpudWxsLGJvZHlDdXJzb3JTdHlsZTpudWxsLGJvdW5kYXJ5Q29udGFpbmVySWQ6bnVsbCxib3VuZGFyeUNvbnRhaW5lclJlY3Q6bnVsbCxkYXRhOm51bGwsZHJhZ0VsZW1lbnQ6bnVsbCxkcmFnRWxlbWVudFJlY3Q6bnVsbCxkcmFnUHJveHk6bnVsbCxkcmFnUHJveHlDb25maWdfOm51bGwsZHJhZ1Byb3h5Q2xzOlwibmVvLWRyYWdwcm94eVwiLGRyb3Bab25lSWRlbnRpZmllcjpudWxsLG1vdmVIb3Jpem9udGFsOiEwLG1vdmVJbk1haW5UaHJlYWQ6ITAsbW92ZVZlcnRpY2FsOiEwLG9mZnNldFg6MCxvZmZzZXRZOjAsb3duZXI6bnVsbCxwcm94eVBhcmVudElkXzpcImRvY3VtZW50LmJvZHlcIixzY3JvbGxDb250YWluZXJJZDpudWxsLHNjcm9sbEZhY3RvckxlZnQ6MSxzY3JvbGxGYWN0b3JUb3A6MSx1c2VQcm94eVdyYXBwZXI6ITAsd2luZG93SWRfOm51bGx9O2NvbnN0cnVjdChlKXtzdXBlci5jb25zdHJ1Y3QoZSksTmVvLm1haW4uYWRkb24uRHJhZ0Ryb3B8fGNvbnNvbGUuZXJyb3IoXCJZb3UgY2FuIG5vdCB1c2UgTmVvLmRyYWdnYWJsZS5EcmFnWm9uZSB3aXRob3V0IGFkZGluZyBOZW8ubWFpbi5hZGRvbi5EcmFnRHJvcCB0byB0aGUgbWFpbiB0aHJlYWQgYWRkb25zXCIsdGhpcy5pZCl9YWZ0ZXJTZXRXaW5kb3dJZChlLHIpe2UmJk5lby5jdXJyZW50V29ya2VyLmluc2VydFRoZW1lRmlsZXMoZSx0aGlzLl9fcHJvdG9fXyl9YmVmb3JlR2V0RHJhZ1Byb3h5Q29uZmlnKGUpe3JldHVybiBOZW8uY2xvbmUoZSwhMCwhMCl9YXN5bmMgY3JlYXRlRHJhZ1Byb3h5KGUsbj0hMCl7bGV0IGwsaSxzPXRoaXMsZz1OZW8uZ2V0Q29tcG9uZW50KHMuZ2V0RHJhZ0VsZW1lbnRSb290KCkuaWQpfHxzLm93bmVyLGM9cy5kcmFnRWxlbWVudFJlY3QsbT1zLmRyYWdQcm94eUNvbmZpZ3x8e30scD1tLm1vZHVsZT09PXQsaD1tLnZkb20sdT0hcCYmZC5jbG9uZShofHxzLmRyYWdFbGVtZW50KTtpZihsPXttb2R1bGU6byxhcHBOYW1lOnMuYXBwTmFtZSxtb3ZlSW5NYWluVGhyZWFkOnMubW92ZUluTWFpblRocmVhZCxwYXJlbnRJZDpzLnByb3h5UGFyZW50SWQsd2luZG93SWQ6cy53aW5kb3dJZCwuLi5tfSxwPyhsLmhlaWdodD1gJHtlLmhlaWdodH1weGAsbC5pdGVtcz1bXSxsLnBhcmVudENvbXBvbmVudD1zLm93bmVyLGwud2lkdGg9YCR7ZS53aWR0aH1weGAsbC5jbHM9bC5jbHN8fFtdLGwuY2xzLnB1c2goXCJuZW8tZHJhZ2dhYmxlXCIpKToobC52ZG9tPXMudXNlUHJveHlXcmFwcGVyP3tjbjpbdV19OnUsdS5jbHMmJiFzLnVzZVByb3h5V3JhcHBlciYmKGwuY2xzPWwuY2xzfHxbXSxsLmNscy5wdXNoKC4uLnUuY2xzKSkpLGwuY2xzPWwuY2xzfHxbXSxnJiZsLmNscy5wdXNoKGcuZ2V0VGhlbWUoKSkscy5hZGREcmFnUHJveHlDbHMmJmwuY2xzJiZhLmFkZChsLmNscyxzLmRyYWdQcm94eUNscyksbC5zdHlsZT1sLnN0eWxlfHx7fSxPYmplY3QuYXNzaWduKGwuc3R5bGUse2hlaWdodDpgJHtlLmhlaWdodH1weGAsbGVmdDpgJHtzLm1vdmVIb3Jpem9udGFsP2UueDpjLnh9cHhgLHRvcDpgJHtzLm1vdmVWZXJ0aWNhbD9lLnk6Yy55fXB4YCx3aWR0aDpgJHtlLndpZHRofXB4YH0pLG4pe2lmKHAmJihsLmF1dG9Jbml0Vm5vZGU9ITAsbC5hdXRvTW91bnQ9ITApLHMuZHJhZ1Byb3h5PWk9TmVvLmNyZWF0ZShsKSxwKXthd2FpdCBpLm1vdW50ZWRQcm9taXNlLHMuZHJhZ1BsYWNlaG9sZGVyPU5lby5jcmVhdGUoe21vZHVsZTpyLGZsZXg6Zy5mbGV4LHN0eWxlOntoZWlnaHQ6YCR7ZS5oZWlnaHR9cHhgLHZpc2liaWxpdHk6XCJoaWRkZW5cIix3aWR0aDpgJHtlLndpZHRofXB4YH19KSxnLm1pbkhlaWdodCYmKHMuZHJhZ1BsYWNlaG9sZGVyLm1pbkhlaWdodD1nLm1pbkhlaWdodCksZy5taW5XaWR0aCYmKHMuZHJhZ1BsYWNlaG9sZGVyLm1pbldpZHRoPWcubWluV2lkdGgpLHMuZHJhZ1N0YXJ0SW5kZXg9cy5vd25lci5pdGVtcy5pbmRleE9mKGcpO2NvbnN0e3Zub2RlOm99PWF3YWl0IE5lby52ZG9tLkhlbHBlci5jcmVhdGUoe3Zkb206cy5kcmFnUGxhY2Vob2xkZXIudmRvbX0pO2F3YWl0IE5lby5hcHBseURlbHRhcyhzLndpbmRvd0lkLFt7YWN0aW9uOlwiaW5zZXJ0Tm9kZVwiLGluZGV4OnMuZHJhZ1N0YXJ0SW5kZXgscGFyZW50SWQ6cy5vd25lci5nZXRWZG9tSXRlbXNSb290KCkuaWQsdm5vZGU6b30se2FjdGlvbjpcIm1vdmVOb2RlXCIsaWQ6Zy5pZCxpbmRleDowLHBhcmVudElkOmkuaWR9XSkscy5kcmFnUGxhY2Vob2xkZXIuc2V0KHt2bm9kZTpvLG1vdW50ZWQ6ITAsdm5vZGVJbml0aWFsaXplZDohMH0pfXJldHVybiBpfXJldHVybiBsfWRlc3Ryb3lEcmFnUHJveHkoKXtsZXQgZT10aGlzLHI9ZS5kcmFnUHJveHkuaWQ7ZS50aW1lb3V0KGUubW92ZUluTWFpblRocmVhZD8wOjMwKS50aGVuKCgpPT57TmVvLmFwcGx5RGVsdGFzKGUud2luZG93SWQsW3thY3Rpb246XCJyZW1vdmVOb2RlXCIsaWQ6cn1dKX0pLGUuZHJhZ1Byb3h5LmRlc3Ryb3koKX1kcmFnRW5kKGUpe2xldCByPXRoaXMse293bmVyOm99PXIse2Nsczp0fT1vO2EucmVtb3ZlKHQsXCJuZW8taXMtZHJhZ2dpbmdcIiksby5jbHM9dCxyLmRyYWdQcm94eSYmKHIuZHJhZ1BsYWNlaG9sZGVyJiYoci5kcmFnUGxhY2Vob2xkZXIuZGVzdHJveSgpLHIuZHJhZ1BsYWNlaG9sZGVyPW51bGwpLHIuZGVzdHJveURyYWdQcm94eSgpLHIuZHJhZ1Byb3h5PW51bGwpLE9iamVjdC5hc3NpZ24ocix7ZHJhZ0VsZW1lbnRSZWN0Om51bGwsZHJhZ1N0YXJ0SW5kZXg6bnVsbCxvZmZzZXRYOjAsb2Zmc2V0WTowLHNjcm9sbENvbnRhaW5lcklkOm51bGx9KSxyLmZpcmUoXCJkcmFnRW5kXCIsZSksci5yZXNldERhdGEoKX1kcmFnTW92ZShlLHI9ITEpe2xldCBvLHQ9dGhpczt0Lm1vdmVJbk1haW5UaHJlYWQmJiFyfHwhdC5kcmFnUHJveHl8fChvPXQuZHJhZ1Byb3h5LnN0eWxlLHQubW92ZUhvcml6b250YWwmJihvLmxlZnQ9ZS5jbGllbnRYLXQub2Zmc2V0WCtcInB4XCIpLHQubW92ZVZlcnRpY2FsJiYoby50b3A9ZS5jbGllbnRZLXQub2Zmc2V0WStcInB4XCIpLHQuZHJhZ1Byb3h5LnN0eWxlPW8pLHQuZmlyZShcImRyYWdNb3ZlXCIsZSl9YXN5bmMgZHJhZ1N0YXJ0KGUpe2xldCByLG8sdCxuPXRoaXMse2FwcE5hbWU6ZCxvd25lcjpsLHdpbmRvd0lkOml9PW4se2NsczpzfT1sLGc9bi5nZXREcmFnRWxlbWVudFJlY3QoZSk7bi5zZXREYXRhKCkscj1hd2FpdCBOZW8ubWFpbi5hZGRvbi5EcmFnRHJvcC5zZXRDb25maWdzKHthcHBOYW1lOmQsd2luZG93SWQ6aSwuLi5uLmdldE1haW5UaHJlYWRDb25maWdzKCl9KSxuLmJvdW5kYXJ5Q29udGFpbmVyUmVjdD1yLmJvdW5kYXJ5Q29udGFpbmVyUmVjdCxhLmFkZChzLFwibmVvLWlzLWRyYWdnaW5nXCIpLGwuY2xzPXMsbz1lLmNsaWVudFgtZy5sZWZ0LHQ9ZS5jbGllbnRZLWcudG9wLE9iamVjdC5hc3NpZ24obix7ZHJhZ0VsZW1lbnRSZWN0Omcsb2Zmc2V0WDpvLG9mZnNldFk6dH0pLGF3YWl0IG4uY3JlYXRlRHJhZ1Byb3h5KGcpLG4uZmlyZShcImRyYWdTdGFydFwiLHtjbGllbnRYOmUuY2xpZW50WCxjbGllbnRZOmUuY2xpZW50WSxkcmFnRWxlbWVudFJlY3Q6ZyxldmVudERhdGE6ZSxpZDpuLmlkLG9mZnNldFg6byxvZmZzZXRZOnR9KX1nZXREcmFnRWxlbWVudFJlY3QoZSl7bGV0IHI9dGhpcy5nZXREcmFnRWxlbWVudFJvb3QoKS5pZDtmb3IobGV0IG8gb2YgZS5wYXRoKWlmKG8uaWQ9PT1yKXJldHVybiBvLnJlY3Q7Zm9yKGxldCBvIG9mIGUudGFyZ2V0UGF0aClpZihvLmlkPT09cilyZXR1cm4gby5yZWN0O3JldHVybiBudWxsfWdldERyYWdFbGVtZW50Um9vdCgpe3JldHVybiB0aGlzLmRyYWdFbGVtZW50fWdldE1haW5UaHJlYWRDb25maWdzKCl7bGV0IGU9dGhpcztyZXR1cm57YWxsb3dPdmVyZHJhZzplLmFsbG93T3ZlcmRyYWcsYWx3YXlzRmlyZURyYWdNb3ZlOmUuYWx3YXlzRmlyZURyYWdNb3ZlLGJvZHlDdXJzb3JTdHlsZTplLmJvZHlDdXJzb3JTdHlsZSxib3VuZGFyeUNvbnRhaW5lcklkOmUuYm91bmRhcnlDb250YWluZXJJZCxkcmFnRWxlbWVudFJvb3RJZDplLmdldERyYWdFbGVtZW50Um9vdCgpLmlkLGRyYWdQcm94eUNsczplLmRyYWdQcm94eUNscyxkcmFnWm9uZUlkOmUuaWQsZHJvcFpvbmVJZGVudGlmaWVyOmUuZHJvcFpvbmVJZGVudGlmaWVyLG1vdmVIb3Jpem9udGFsOmUubW92ZUhvcml6b250YWwsbW92ZVZlcnRpY2FsOmUubW92ZVZlcnRpY2FsLHNjcm9sbENvbnRhaW5lcklkOmUuc2Nyb2xsQ29udGFpbmVySWQsc2Nyb2xsRmFjdG9yTGVmdDplLnNjcm9sbEZhY3RvckxlZnQsc2Nyb2xsRmFjdG9yVG9wOmUuc2Nyb2xsRmFjdG9yVG9wfX1vbkRyb3AoZSl7dGhpcy5maXJlKFwiZHJvcFwiLGUpfW9uRHJvcEVudGVyKGUpe3RoaXMuZmlyZShcImRyb3A6ZW50ZXJcIixlKX1vbkRyb3BMZWF2ZShlKXt0aGlzLmZpcmUoXCJkcm9wOmxlYXZlXCIsZSl9cmVzZXREYXRhKCl7dGhpcy50aW1lb3V0KDUwKS50aGVuKCgpPT57dGhpcy5kYXRhPW51bGx9KX1zZXREYXRhKGU9e30pe2xldCByPXRoaXM7ci5kYXRhPXtkcmFnRWxlbWVudDpyLmdldERyYWdFbGVtZW50Um9vdCgpLGRyYWdab25lSWQ6ci5pZCwuLi5lfX19KTsiLCJpbXBvcnQgZSBmcm9tXCIuLi9jb3JlL0Jhc2UubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBle3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5wbHVnaW4uQmFzZVwiLG50eXBlOlwicGx1Z2luXCIsb3duZXI6bnVsbCx3aW5kb3dJZF86bnVsbH07Y29uc3RydWN0KGUpe3N1cGVyLmNvbnN0cnVjdChlKTtsZXQgbj10aGlzLHtvd25lcjpvfT1uO28uaXNDb25zdHJ1Y3RlZD9uLm9uT3duZXJDb25zdHJ1Y3RlZCgpOm8ub24oXCJjb25zdHJ1Y3RlZFwiLCgpPT57bi5vbk93bmVyQ29uc3RydWN0ZWQoKX0sbix7b25jZTohMH0pLG8ubW91bnRlZD9uLm9uT3duZXJNb3VudGVkKCk6by5vbihcIm1vdW50ZWRcIixuLm9uT3duZXJNb3VudGVkLG4pfWFmdGVyU2V0V2luZG93SWQoZSxuKXtlJiZOZW8uY3VycmVudFdvcmtlci5pbnNlcnRUaGVtZUZpbGVzKGUsdGhpcy5fX3Byb3RvX18pfW9uT3duZXJDb25zdHJ1Y3RlZCgpe2xldHtvd25lcjplfT10aGlzO2Uud2luZG93SWQmJih0aGlzLndpbmRvd0lkPWUud2luZG93SWQpfW9uT3duZXJNb3VudGVkKCl7fX0pOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=