"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["vendors-dist_esm_examples_table_cellEditing_app_mjs"],{

/***/ "./dist/esm/examples/table/cellEditing/MainContainer.mjs"
/*!***************************************************************!*\
  !*** ./dist/esm/examples/table/cellEditing/MainContainer.mjs ***!
  \***************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_selection_table_CellColumnModel_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../src/selection/table/CellColumnModel.mjs */ "./dist/esm/src/selection/table/CellColumnModel.mjs");
/* harmony import */ var _src_selection_table_CellColumnRowModel_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../src/selection/table/CellColumnRowModel.mjs */ "./dist/esm/src/selection/table/CellColumnRowModel.mjs");
/* harmony import */ var _src_selection_table_CellModel_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../src/selection/table/CellModel.mjs */ "./dist/esm/src/selection/table/CellModel.mjs");
/* harmony import */ var _src_selection_table_CellRowModel_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../src/selection/table/CellRowModel.mjs */ "./dist/esm/src/selection/table/CellRowModel.mjs");
/* harmony import */ var _src_form_field_CheckBox_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../src/form/field/CheckBox.mjs */ "./dist/esm/src/form/field/CheckBox.mjs");
/* harmony import */ var _src_form_field_Country_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../src/form/field/Country.mjs */ "./dist/esm/src/form/field/Country.mjs");
/* harmony import */ var _ConfigurationViewport_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../ConfigurationViewport.mjs */ "./dist/esm/examples/ConfigurationViewport.mjs");
/* harmony import */ var _src_form_field_Date_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../src/form/field/Date.mjs */ "./dist/esm/src/form/field/Date.mjs");
/* harmony import */ var _MainContainerStateProvider_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./MainContainerStateProvider.mjs */ "./dist/esm/examples/table/cellEditing/MainContainerStateProvider.mjs");
/* harmony import */ var _MainStore_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./MainStore.mjs */ "./dist/esm/examples/table/cellEditing/MainStore.mjs");
/* harmony import */ var _src_form_field_Number_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../src/form/field/Number.mjs */ "./dist/esm/src/form/field/Number.mjs");
/* harmony import */ var _src_form_field_Radio_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../src/form/field/Radio.mjs */ "./dist/esm/src/form/field/Radio.mjs");
/* harmony import */ var _src_table_Container_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../src/table/Container.mjs */ "./dist/esm/src/table/Container.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _ConfigurationViewport_mjs__WEBPACK_IMPORTED_MODULE_6__["default"]{static config={className:"Neo.examples.table.cellEditing.MainContainer",autoMount:!0,configItemLabelWidth:130,configPanelFlex:1.5,exampleComponentFlex:3,layout:{ntype:"hbox",align:"stretch"},stateProvider:_MainContainerStateProvider_mjs__WEBPACK_IMPORTED_MODULE_8__["default"]};countryRenderer({record:e}){let l=this.getStateProvider().getStore("countries");return l.getCount()>0?l.get(e.country).name:""}createConfigurationComponents(){let a=this,{selectionModel:i}=a.exampleComponent.view;const r={module:_src_form_field_Radio_mjs__WEBPACK_IMPORTED_MODULE_11__["default"],hideValueLabel:!1,labelText:"",name:"selectionModel",width:350};return[{module:_src_form_field_Number_mjs__WEBPACK_IMPORTED_MODULE_10__["default"],labelText:"height",listeners:{change:a.onConfigChange.bind(a,"height")},maxValue:800,minValue:225,stepSize:5,value:a.exampleComponent.height},{...r,checked:"selection-table-cellmodel"===i.ntype,labelText:"selectionModel",listeners:{change:a.onRadioViewChange.bind(a,"selectionModel",_src_selection_table_CellModel_mjs__WEBPACK_IMPORTED_MODULE_2__["default"])},style:{marginTop:"10px"},valueLabel:"Cell"},{...r,checked:"selection-table-cellcolumnmodel"===i.ntype,listeners:{change:a.onRadioViewChange.bind(a,"selectionModel",_src_selection_table_CellColumnModel_mjs__WEBPACK_IMPORTED_MODULE_0__["default"])},valueLabel:"Cell & Column"},{...r,checked:"selection-table-cellrowmodel"===i.ntype,listeners:{change:a.onRadioViewChange.bind(a,"selectionModel",_src_selection_table_CellRowModel_mjs__WEBPACK_IMPORTED_MODULE_3__["default"])},valueLabel:"Cell & Row"},{...r,checked:"selection-table-cellcolumnrowmodel"===i.ntype,listeners:{change:a.onRadioViewChange.bind(a,"selectionModel",_src_selection_table_CellColumnRowModel_mjs__WEBPACK_IMPORTED_MODULE_1__["default"])},valueLabel:"Cell & Column & Row"},{module:_src_form_field_CheckBox_mjs__WEBPACK_IMPORTED_MODULE_4__["default"],checked:a.exampleComponent.dragResortable,hideLabel:!0,listeners:{change:a.onConfigChange.bind(a,"dragResortable")},style:{marginTop:"10px"},valueLabel:"dragResortable"},{module:_src_form_field_CheckBox_mjs__WEBPACK_IMPORTED_MODULE_4__["default"],checked:!1,hideLabel:!0,listeners:{change:a.onPluginConfigChange.bind(a,"disabled")},style:{marginTop:"10px"},valueLabel:"Disable CellEditing"}]}createExampleComponent(){return{module:_src_table_Container_mjs__WEBPACK_IMPORTED_MODULE_12__["default"],bind:{store:"stores.mainStore"},cellEditing:!0,parentId:this.id,store:_MainStore_mjs__WEBPACK_IMPORTED_MODULE_9__["default"],bodyConfig:{selectionModel:_src_selection_table_CellModel_mjs__WEBPACK_IMPORTED_MODULE_2__["default"]},columnDefaults:{editable:!0},columns:[{dataField:"firstname",text:"Firstname"},{dataField:"randomNumber",text:"Number (step 5)",editor:{module:_src_form_field_Number_mjs__WEBPACK_IMPORTED_MODULE_10__["default"],clearable:!1,maxValue:100,minValue:0,stepSize:5}},{dataField:"randomDate",renderer:({value:e})=>new Intl.DateTimeFormat("default").format(e),text:"Random Date",editor:{module:_src_form_field_Date_mjs__WEBPACK_IMPORTED_MODULE_7__["default"],clearable:!1,maxValue:"2024-12-20",minValue:"2024-12-10"}},{dataField:"country",renderer:"up.countryRenderer",text:"Country",editor:{module:_src_form_field_Country_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],bind:{store:"stores.countries"},clearable:!1,forceSelection:!0,valueField:"code"}},{dataField:"githubId",editable:!1,text:"Github Id (Non-editable)"}]}}onPluginConfigChange(e,l){this.exampleComponent.getPlugin("table-cell-editing")[e]=l.value}onRadioViewChange(e,l,o){!0===o.value&&(this.exampleComponent.view[e]=l)}}));

/***/ },

/***/ "./dist/esm/examples/table/cellEditing/MainContainerStateProvider.mjs"
/*!****************************************************************************!*\
  !*** ./dist/esm/examples/table/cellEditing/MainContainerStateProvider.mjs ***!
  \****************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _MainStore_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MainStore.mjs */ "./dist/esm/examples/table/cellEditing/MainStore.mjs");
/* harmony import */ var _src_state_Provider_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../src/state/Provider.mjs */ "./dist/esm/src/state/Provider.mjs");
/* harmony import */ var _src_data_Store_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../src/data/Store.mjs */ "./dist/esm/src/data/Store.mjs");
const r=Symbol.for("country");/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _src_state_Provider_mjs__WEBPACK_IMPORTED_MODULE_1__["default"]{static config={className:"Neo.examples.table.cellEditing.MainContainerStateProvider",stores:{countries:{module:_src_data_Store_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],autoLoad:!0,keyProperty:"code",listeners:{load:"onCountryStoreLoad"},url:"../../../resources/examples/data/countries.json",model:{fields:[{name:"code"},{name:"name"}]}},mainStore:_MainStore_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]}};onCountryStoreLoad(o){let e,t=this.getStore("mainStore");t.getCount()>0&&t.forEach(o=>{e=o.country,o[r]=null,o.country=e})}}));

/***/ },

/***/ "./dist/esm/examples/table/cellEditing/MainModel.mjs"
/*!***********************************************************!*\
  !*** ./dist/esm/examples/table/cellEditing/MainModel.mjs ***!
  \***********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_data_Model_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../src/data/Model.mjs */ "./dist/esm/src/data/Model.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _src_data_Model_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.examples.table.cellEditing.MainModel",fields:[{name:"country",type:"String"},{name:"firstname",type:"String"},{name:"githubId",type:"String"},{name:"randomNumber",type:"Int"},{name:"randomDate",type:"Date"}]}}));

/***/ },

/***/ "./dist/esm/examples/table/cellEditing/MainStore.mjs"
/*!***********************************************************!*\
  !*** ./dist/esm/examples/table/cellEditing/MainStore.mjs ***!
  \***********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _MainModel_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MainModel.mjs */ "./dist/esm/examples/table/cellEditing/MainModel.mjs");
/* harmony import */ var _src_data_Store_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../src/data/Store.mjs */ "./dist/esm/src/data/Store.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _src_data_Store_mjs__WEBPACK_IMPORTED_MODULE_1__["default"]{static config={className:"Neo.examples.table.cellEditing.MainStore",keyProperty:"githubId",model:_MainModel_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],data:[{country:"DE",firstname:"Tobias",githubId:"tobiu",randomDate:"2024-12-20",randomNumber:100},{country:"US",firstname:"Rich",githubId:"rwaters",randomDate:"2024-12-18",randomNumber:90},{country:"DE",firstname:"Nils",githubId:"mrsunshine",randomDate:"2024-12-19",randomNumber:70},{country:"US",firstname:"Gerard",githubId:"camtnbikerrwc",randomDate:"2024-12-17",randomNumber:80},{country:"SK",firstname:"Jozef",githubId:"jsakalos",randomDate:"2024-12-16",randomNumber:60},{country:"DE",firstname:"Bastian",githubId:"bhaustein",randomDate:"2024-12-15",randomNumber:50}]}}));

/***/ },

/***/ "./dist/esm/examples/table/cellEditing/app.mjs"
/*!*****************************************************!*\
  !*** ./dist/esm/examples/table/cellEditing/app.mjs ***!
  \*****************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   onStart: () => (/* binding */ onStart)
/* harmony export */ });
/* harmony import */ var _MainContainer_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MainContainer.mjs */ "./dist/esm/examples/table/cellEditing/MainContainer.mjs");
const onStart=()=>Neo.app({mainView:_MainContainer_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],name:"Neo.examples.table.cellEditing"});

/***/ },

/***/ "./dist/esm/src/core/Effect.mjs"
/*!**************************************!*\
  !*** ./dist/esm/src/core/Effect.mjs ***!
  \**************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Config_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Config.mjs */ "./dist/esm/src/core/Config.mjs");
/* harmony import */ var _EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EffectManager.mjs */ "./dist/esm/src/core/EffectManager.mjs");
/* harmony import */ var _IdGenerator_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./IdGenerator.mjs */ "./dist/esm/src/core/IdGenerator.mjs");
class i{componentId=null;dependencies=new Map;_fn=null;id=_IdGenerator_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getId("effect");isDestroyed=!1;isRunning=null;get fn(){return this._fn}set fn(e){this._fn=e,this.run()}constructor(n,s={}){const i=this,{fn:t,componentId:r,lazy:c=!1,subscriber:o}="function"==typeof n?{...s,fn:n}:n||{};r&&(i.componentId=r),i.isRunning=new _Config_mjs__WEBPACK_IMPORTED_MODULE_0__["default"](!1),o&&[].concat(o).forEach(e=>i.isRunning.subscribe(e)),c?i._fn=t:i.fn=t}destroy(){const e=this;e.dependencies.forEach(e=>e()),e.dependencies.clear(),e.isDestroyed=!0}run(){const e=this;if(e.isDestroyed)return;_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].pauseTracking();const s=e.isRunning.get();if(_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].resumeTracking(),!s)if(_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].isPaused())_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].queue(e);else{_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].pauseTracking(),e.isRunning.set(!0),_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].resumeTracking(),e.dependencies.forEach(e=>e()),e.dependencies.clear(),_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].push(e);try{e.fn()}finally{_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].pop(),_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].pauseTracking(),e.isRunning.set(!1),_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].resumeTracking()}}}addDependency(e){const n=this;if(!n.dependencies.has(e)){const s=e.subscribe({id:n.id,fn:n.run.bind(n)});n.dependencies.set(e,s)}}}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.gatekeep(i,"Neo.core.Effect",()=>{Neo.effect=(e,n)=>new i(e,n)}));

/***/ },

/***/ "./dist/esm/src/form/field/ComboBox.mjs"
/*!**********************************************!*\
  !*** ./dist/esm/src/form/field/ComboBox.mjs ***!
  \**********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _util_Function_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Function.mjs */ "./dist/esm/src/util/Function.mjs");
/* harmony import */ var _util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/ClassSystem.mjs */ "./dist/esm/src/util/ClassSystem.mjs");
/* harmony import */ var _manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../manager/Component.mjs */ "./dist/esm/src/manager/Component.mjs");
/* harmony import */ var _list_Base_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../list/Base.mjs */ "./dist/esm/src/list/Base.mjs");
/* harmony import */ var _Picker_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Picker.mjs */ "./dist/esm/src/form/field/Picker.mjs");
/* harmony import */ var _data_Store_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../data/Store.mjs */ "./dist/esm/src/data/Store.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Picker_mjs__WEBPACK_IMPORTED_MODULE_4__["default"]{static triggerActions=["all","filtered"];static config={className:"Neo.form.field.ComboBox",ntype:"combobox",activeRecordId:null,baseCls:["neo-combobox","neo-pickerfield","neo-textfield"],displayField:"name",filterDelay:50,filterOperator_:"like",forceSelection:!0,keys:{Down:"onKeyDownDown",Escape:"onKeyDownEscape"},lastManualInput:null,list:null,listConfig_:null,pickerHeight:null,role:"combobox",store_:null,triggerAction_:"all",typeAhead_:!0,useFilter_:!0,valueField:"id",width:150};preStoreLoadValue=null;programmaticValueChange=!1;construct(t){super.construct(t);let i=this;i.filterOnInput=(0,_util_Function_mjs__WEBPACK_IMPORTED_MODULE_0__.buffer)(i.filterOnInput,i,i.filterDelay),i.typeAhead&&i.updateTypeAhead()}afterSetInputValue(e,t){super.afterSetInputValue(e,t),this.updateTypeAheadValue(e)}afterSetStore(e,t){let i,l=this;e&&(l.useFilter&&(i=e.filters||[],i.push({includeEmptyValues:!0,operator:l.filterOperator,property:l.displayField,value:e?.[l.displayField]||null}),e.filters=i),l.list&&(l.list.store=e),e.on("load",l.onStoreLoad,l))}afterSetTypeAhead(e,t){this.vnodeInitialized&&this.updateTypeAhead()}afterSetValue(e,t){let i=this;if(i.programmaticValueChange=!0,super.afterSetValue(e,t),i.programmaticValueChange=!1,i._picker?.isVisible){let t=i.list?.selectionModel;e?t?.select(e):t?.deselectAll()}}beforeSetListConfig(e,t){return e&&this.parseItemConfigs(e),e}beforeSetStore(e,i){let{displayField:l,valueField:o}=this;return!e&&this.bind?.store?null:(i?.destroy(),Array.isArray(e)&&(e={data:e.map((e,t)=>("string"==typeof e&&(e={[l]:e,[o]:e}),e))}),"Object"!==Neo.typeOf(e)||e.model||e.module||e.ntype||(e.model={fields:[{name:l,type:"String"},{name:o,type:"String"}]}),_util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].beforeSetInstance(e,_data_Store_mjs__WEBPACK_IMPORTED_MODULE_5__["default"]))}beforeSetTriggerAction(e,t){return this.beforeSetEnumValue(e,t,"triggerAction")}beforeSetValue(e,t){let i,l=this,{displayField:o,store:a}=l;return Neo.isRecord(e)?e:null===e?null:a?a.isLoaded?(i=a.isFiltered()?a.allItems.get(e):a.get(e),i||(a.find(o,e)[0]||null)):(l.preStoreLoadValue=e,null):e}createPickerComponent(){let e=this,{windowId:t}=e;return e.list=Neo.create({module:_list_Base_mjs__WEBPACK_IMPORTED_MODULE_3__["default"],appName:e.appName,displayField:e.displayField,itemRole:"option",itemsFocusable:!1,keepFocusIndex:!0,navigator:{eventSource:e.getInputElId(),windowId:t},parentId:e.id,role:"listbox",selectionModel:{stayInList:!1},store:e.store,windowId:t,...e.listConfig}),e.getInputEl()["aria-controls"]=e.list.id,e.list.addDomListeners({neonavigate:{fn:e.onListItemNavigate,scope:e}}),e.list.selectionModel.on({noChange:e.onListItemSelectionNoChange,selectionChange:e.onListItemSelectionChange,scope:e}),e.list}doFilter(e){let t=this,{picker:i,store:l}=t,o=t.value,a=l.getFilter(t.displayField);if(a&&(a.value=e),l.getCount()){t.showPicker();let{list:e}=t,{selectionModel:i}=e,a=l.indexOf(o);o&&(i.suspendEvents=!0,i.select(o),i.suspendEvents=!1),e._focusIndex=-1,e.focusIndex=a>-1?a:0}else i?.hide()}filterOnInput(e){e?this.doFilter(e):this.picker?.hide()}fireChangeEvent(e,t){let l=this,o=Neo.form?.Container,a={component:l,oldValue:t,value:e};l.fire("change",a),l.suspendEvents||_manager_Component_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getParents(l).forEach(e=>{o&&e instanceof o&&e.fire("fieldChange",a)})}getInputHintEl(){return _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].find(this.vdom,this.getInputHintId())?.vdom}getInputHintId(){return this.id+"__input-hint"}getRecord(){let{list:e}=this,t=e.selectionModel.getSelection()[0];return t&&this.store.get(e.getItemRecordId(t))||null}getSubmitValue(){let e=this;return e.value?.[e.valueField]||e.emptyValue}onConstructed(){const e=this.getInputEl();e["aria-activedescendant"]="",e["aria-expanded"]=!1,e["aria-haspopup"]="listbox",super.onConstructed(...arguments)}onFocusLeave(e){let t=this;t.forceSelection&&!t.value&&(t.programmaticValueChange=!0,t.value=t.store.get(t.activeRecordId),t.programmaticValueChange=!1),t.updateTypeAheadValue(null),super.onFocusLeave(e)}onKeyDownDown(e){let t=this;t.picker&&!t.picker?.hidden||t.onPickerTriggerClick()}async onListItemSelectionChange({selection:e}){if(e?.length){let t=this,i=e[0],l="string"==typeof i?t.store.get(t.list.getItemRecordId(i)):i;t.hintRecordId=null,t.updateTypeAheadValue(null,!0),await t.hidePicker(),t.preventFiltering=!0,t.value=l,t.preventFiltering=!1,t.fire("select",{value:l})}}onListItemSelectionNoChange(){this.hidePicker()}onListItemNavigate(e){let{activeIndex:t}=e;if(t>=0){let i=this,{store:l}=i;i.activeRecord=e.record||l.getAt(t),i.activeRecordId=i.activeRecord[l.getKeyProperty()],i.typeAhead?i.updateTypeAheadValue(i.lastManualInput):i.update()}}onPickerHiddenChange({value:e}){const t=this.getInputEl();super.onPickerHiddenChange(...arguments),e&&(t["aria-activedescendant"]=""),t["aria-expanded"]=!e,this.update()}onStoreLoad(e){let t=this,i=t.preStoreLoadValue;null!==i&&(t._value=void 0,t.value=i)}selectFirstListItem(){this.selectListItem(0)}selectLastListItem(){this.selectListItem(this.store.getCount()-1)}selectListItem(e){let t=this;Neo.isNumber(e)||(e=t.activeRecordId?t.store.indexOfKey(t.activeRecordId):0),t.list.selectItem(e)}togglePicker(){let e=this,{picker:t}=e;!1===t?.hidden?t.hidden=!0:e.disabled||e.readOnly||e.doFilter(null)}updateInputValueFromValue(e){let t=null;(Neo.isObject(e)||Neo.isRecord(e))&&(t=e[this.displayField]),this.inputValue=t}updateTypeAhead(e=!1){let t=this,i=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].find(t.vdom,{flag:"neo-real-input"});t.typeAhead?i.parentNode.cn[i.index]={tag:"span",cls:["neo-input-field-wrapper"],cn:[{tag:"input",autocomplete:"no",autocorrect:"off",cls:["neo-textfield-input","neo-typeahead-input"],disabled:!0,id:t.getInputHintId(),spellcheck:"false"},i.vdom]}:_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].replaceVdomChild(t.vdom,i.parentNode.id,i.vdom),!e&&t.update()}updateTypeAheadValue(e=this.lastManualInput,t=!1){let i=this,l=!1,o=i.getInputHintEl(),{displayField:a,store:n}=i;if(i.typeAhead){if(!i.value&&e?.length>0){const t=e.toLocaleLowerCase();for(let e=0;e<n.count;e++){const i=n.getAt(e);if(i[a]?.toLowerCase?.()?.startsWith(t)){l=i;break}}l&&o&&(o.value=e+l[a].substr(e.length),i.activeRecord=l,i.activeRecordId=l[n.getKeyProperty()])}!l&&o&&(o.value=i.activeRecord=i.activeRecordId=null),!t&&i.update()}}updateValueFromInputValue(e){let t=this;t.lastManualInput=e,t.programmaticValueChange||(t._value=null,t.list?.selectionModel.deselectAll(),t.filterOnInput(e))}}));

/***/ },

/***/ "./dist/esm/src/form/field/Country.mjs"
/*!*********************************************!*\
  !*** ./dist/esm/src/form/field/Country.mjs ***!
  \*********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ComboBox_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ComboBox.mjs */ "./dist/esm/src/form/field/ComboBox.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _ComboBox_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.form.field.Country",ntype:"countryfield",zipCodeField_:null};afterSetZipCodeField(e,o){e&&e instanceof Neo.form.field.Base&&(e.countryField=this)}beforeSetZipCodeField(e,o){let t=this;return Neo.isString(e)?t.up().getReference(e):e}}));

/***/ },

/***/ "./dist/esm/src/form/field/Date.mjs"
/*!******************************************!*\
  !*** ./dist/esm/src/form/field/Date.mjs ***!
  \******************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _component_DateSelector_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component/DateSelector.mjs */ "./dist/esm/src/component/DateSelector.mjs");
/* harmony import */ var _trigger_Date_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./trigger/Date.mjs */ "./dist/esm/src/form/field/trigger/Date.mjs");
/* harmony import */ var _util_Date_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Date.mjs */ "./dist/esm/src/util/Date.mjs");
/* harmony import */ var _Picker_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Picker.mjs */ "./dist/esm/src/form/field/Picker.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Picker_mjs__WEBPACK_IMPORTED_MODULE_3__["default"]{static config={className:"Neo.form.field.Date",ntype:"datefield",baseCls:["neo-datefield","neo-pickerfield","neo-textfield"],dateSelector:null,dateSelectorConfig:null,errorTextInvalidDate:"Not a valid date",isoDate:!1,hidePickerOnSelect:!1,inputType:"date",maxValue_:null,minValue_:null,pickerHeight:225,pickerMaxHeight:225,pickerWidth:200,triggers:[{module:_trigger_Date_mjs__WEBPACK_IMPORTED_MODULE_1__["default"]}]};invalidInput=!1;submitDateObject=!1;construct(t){super.construct(t);let r=this;r.dateSelector=Neo.create({module:_component_DateSelector_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],dayNameFormat:"short",maxValue:r.maxValue,minValue:r.minValue,value:r.value||_util_Date_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].convertToyyyymmdd(new Date),...r.dateSelectorConfig}),r.dateSelector.keys._keys.push({fn:"onContainerKeyDownEscape",key:"Escape",scope:r.id}),r.dateSelector.on({change:r.onDatePickerChange,scope:r})}afterSetMaxValue(e,t){let a=this;a.changeInputElKey("max",e),a.dateSelector&&(a.dateSelector.maxValue=e)}afterSetMinValue(e,t){let a=this;a.changeInputElKey("min",e),a.dateSelector&&(a.dateSelector.minValue=e)}afterSetValue(e,t){super.afterSetValue(e,t),void 0!==t&&(this.dateSelector.value=e)}beforeSetValue(e,t){return"Date"===Neo.typeOf(e)&&(e=_util_Date_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].convertToyyyymmdd(e),this.originalConfig.value=e),e=super.beforeSetValue(e,t),this.isoDate&&e?e.substring(0,10):e}createPickerComponent(){return this.dateSelector}getSubmitValue(){let e=this.value;return this.submitDateObject&&e?new Date(`${e}T12:00:00.000Z`):this.isoDate&&e?new Date(e).toISOString():e}hasContent(){return"inline"===this.labelPosition||super.hasContent()}onContainerKeyDownEscape(e){let t=this;t.hidePicker(),t.focus(t.getInputElId())}onDatePickerChange(e){let t=this;t.clean=!1,t.hidePickerOnSelect?(_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].removeVdomChild(t.vdom,t.getPickerId()),t.promiseUpdate().then(a=>{t.value=e.value})):t.value=e.value}onInputValueChange(e){this.invalidInput=!e.valid,e.valid?super.onInputValueChange(e):this.validate(!1)}onKeyDownEnter(e){let t=this;t.pickerIsMounted?(t.dateSelector.focusCurrentItem(),super.onKeyDownEnter(e)):super.onKeyDownEnter(e,t.dateSelector.focusCurrentItem,t.dateSelector)}toJSON(){let e=this;return{...super.toJSON(),dateSelector:e.dateSelector?.toJSON(),dateSelectorConfig:e.serializeConfig(e.dateSelectorConfig),hidePickerOnSelect:e.hidePickerOnSelect,isoDate:e.isoDate,maxValue:e.maxValue,minValue:e.minValue,submitDateObject:e.submitDateObject}}validate(e=!0){let t=this,a=super.validate(e);return a&&t.invalidInput&&(t._error=t.errorTextInvalidDate,a=!1),!a&&!t.clean&&t.updateError(t._error,e),a}}));

/***/ },

/***/ "./dist/esm/src/form/field/Number.mjs"
/*!********************************************!*\
  !*** ./dist/esm/src/form/field/Number.mjs ***!
  \********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _trigger_SpinDown_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./trigger/SpinDown.mjs */ "./dist/esm/src/form/field/trigger/SpinDown.mjs");
/* harmony import */ var _trigger_SpinUp_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./trigger/SpinUp.mjs */ "./dist/esm/src/form/field/trigger/SpinUp.mjs");
/* harmony import */ var _trigger_SpinUpDown_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./trigger/SpinUpDown.mjs */ "./dist/esm/src/form/field/trigger/SpinUpDown.mjs");
/* harmony import */ var _Text_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Text.mjs */ "./dist/esm/src/form/field/Text.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Text_mjs__WEBPACK_IMPORTED_MODULE_3__["default"]{static triggerPositions=["right","sides"];static config={className:"Neo.form.field.Number",ntype:"numberfield",baseCls:["neo-numberfield","neo-textfield"],disabledChars:["e","E"],errorTextMaxValue:e=>`Max value violation: ${e.value} / ${e.maxValue}`,errorTextMinValue:e=>`Min value violation: ${e.value} / ${e.minValue}`,errorTextStepSize:e=>`step-size violation: ${e.value} / ${e.stepSize}`,excludedValues:null,inputEditable_:!0,inputType:"number",maxValue_:100,minValue_:0,stepSize_:1,triggerPosition_:"right",useSpinButtons_:!0};stepSizeDigits=null;afterSetInputEditable(e,t){let i=this.getInputEl().style||{};e?delete i.pointerEvents:i.pointerEvents="none",this.update()}afterSetMaxValue(e,t){this.validate(),this.changeInputElKey("max",e)}afterSetMinValue(e,t){this.validate(),this.changeInputElKey("min",e)}afterSetStepSize(e,t){let i,r,u=this,s=u.value;u.changeInputElKey("step",e),r=String(e),u.stepSizeDigits=r.includes(".")?r.split(".")[1].length:0,null!==s&&(i=(s-u.minValue)%e,0!==i&&(i/e>.5?s+e-i<u.maxValue?u.value=s+e-i:s-i>u.minValue&&(u.value=s-i):s-i>u.minValue?u.value=s-i:s+e-i<u.maxValue&&(u.value=s+e-i)))}afterSetTriggerPosition(e,t){t&&this.updateTriggers()}afterSetUseSpinButtons(e,t){Neo.isBoolean(t)&&this.updateTriggers()}beforeSetMaxLength(e,t){return null!==e&&console.warn("input type number does not support maxLength. use maxValue instead.",this),null}beforeSetMinLength(e,t){return null!==e&&console.warn("input type number does not support minLength. use minValue instead.",this),null}beforeSetTriggerPosition(e,t){return this.beforeSetEnumValue(e,t,"triggerPosition")}beforeSetValue(e,t){return null===e||""===e?null:(Neo.isNumber(e)||(e=+e),this.stepSizeDigits>0&&(e=+e.toFixed(this.stepSizeDigits)),e)}fitsStepSize(e){return null===e||parseInt(e.toString().replace(".",""))*(1/this.stepSize)%1==0}isValid(){let{maxValue:e,minValue:t,value:i}=this,r=Neo.isNumber(i);return!(Neo.isNumber(e)&&r&&i>e)&&(!(Neo.isNumber(t)&&r&&i<t)&&(!!this.fitsStepSize(i)&&super.isValid()))}onConstructed(){this.updateTriggers(),super.onConstructed()}onFocusLeave(e){let t=this,{value:i}=t;null!==i&&(i=t.stepSizeDigits>0?parseFloat(i):parseInt(i),i=Math.max(t.minValue,i),i=Math.min(t.maxValue,i),t.value!==i?t.value=i:t.getInputEl().value=t.inputValueRenderer(i)),super.onFocusLeave(e)}onSpinButtonDownClick(){let e=this,{stepSize:t}=e,i=Neo.isNumber(e.value)?e.value:e.minValue,r=i-t<e.minValue?e.maxValue:i-t;if(e.excludedValues)for(;e.excludedValues.includes(r);)r=Math.max(e.minValue,r-t);i!==r&&(e.value=r)}onSpinButtonUpClick(){let e=this,{stepSize:t}=e,i=Neo.isNumber(e.value)?e.value:e.maxValue,r=i+t>e.maxValue?e.minValue:i+t;if(e.excludedValues)for(;e.excludedValues.includes(r);)r=Math.min(e.maxValue,r+t);i!==r&&(e.value=r)}updateTriggers(){let r=this,u=r.triggers||[];r.useSpinButtons?"right"===r.triggerPosition?(r.hasTrigger("spinupdown")||u.push(_trigger_SpinUpDown_mjs__WEBPACK_IMPORTED_MODULE_2__["default"]),r.removeTrigger("spindown",!0,u),r.removeTrigger("spinup",!0,u)):(r.hasTrigger("spindown")||u.push(_trigger_SpinDown_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]),r.hasTrigger("spinup")||u.push(_trigger_SpinUp_mjs__WEBPACK_IMPORTED_MODULE_1__["default"]),r.removeTrigger("spinupdown",!0,u)):(r.removeTrigger("spindown",!0,u),r.removeTrigger("spinup",!0,u),r.removeTrigger("spinupdown",!0,u)),r.triggers=u}validate(e=!0){let t=this,{maxValue:i,minValue:r,stepSize:u,value:s}=t,a=Neo.isNumber(s),n=super.validate(e),l={maxValue:i,minValue:r,stepSize:u,value:s};return n&&(Neo.isNumber(i)&&a&&s>i?(t._error=t.errorTextMaxValue(l),n=!1):Neo.isNumber(r)&&a&&s<r?(t._error=t.errorTextMinValue(l),n=!1):t.fitsStepSize(s)||(t._error=t.errorTextStepSize(l),n=!1)),!n&&!t.clean&&t.updateError(t._error,e),n}toJSON(){let e=this;return{...super.toJSON(),maxValue:e.maxValue,minValue:e.minValue,stepSize:e.stepSize,useSpinButtons:e.useSpinButtons}}}));

/***/ },

/***/ "./dist/esm/src/form/field/trigger/Date.mjs"
/*!**************************************************!*\
  !*** ./dist/esm/src/form/field/trigger/Date.mjs ***!
  \**************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Picker_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Picker.mjs */ "./dist/esm/src/form/field/trigger/Picker.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Picker_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.form.field.trigger.Date",ntype:"trigger-date",iconCls:"fa fa-calendar-alt"}}));

/***/ },

/***/ "./dist/esm/src/form/field/trigger/SpinDown.mjs"
/*!******************************************************!*\
  !*** ./dist/esm/src/form/field/trigger/SpinDown.mjs ***!
  \******************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./dist/esm/src/form/field/trigger/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.form.field.trigger.SpinDown",ntype:"trigger-spindown",align:"start",iconCls:"fa fa-chevron-left",type:"spindown"};onTriggerClick(e){this.field.onSpinButtonDownClick()}}));

/***/ },

/***/ "./dist/esm/src/form/field/trigger/SpinUp.mjs"
/*!****************************************************!*\
  !*** ./dist/esm/src/form/field/trigger/SpinUp.mjs ***!
  \****************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./dist/esm/src/form/field/trigger/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.form.field.trigger.SpinUp",ntype:"trigger-spinup",iconCls:"fa fa-chevron-right",type:"spinup"};onTriggerClick(e){this.field.onSpinButtonUpClick()}}));

/***/ },

/***/ "./dist/esm/src/form/field/trigger/SpinUpDown.mjs"
/*!********************************************************!*\
  !*** ./dist/esm/src/form/field/trigger/SpinUpDown.mjs ***!
  \********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./dist/esm/src/form/field/trigger/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.form.field.trigger.SpinUpDown",ntype:"trigger-spinupdown",baseCls:["neo-field-trigger","neo-spin-buttons"],spinButtonDownIconCls:"fa fa-chevron-down",spinButtonUpIconCls:"fa fa-chevron-up",type:"spinupdown"};onConstructed(){let n=this;n.vdom.cn=[{cls:["neo-spin-button","neo-up",...n.spinButtonUpIconCls.split(" ")]},{cls:["neo-spin-button","neo-down",...n.spinButtonDownIconCls.split(" ")]}],n.update(),super.onConstructed()}onTriggerClick(n){let o=this,t=n.path[0].cls.join(" ");t.includes("neo-down")?o.field.onSpinButtonDownClick():t.includes("neo-up")&&o.field.onSpinButtonUpClick()}toJSON(){return{...super.toJSON(),spinButtonDownIconCls:this.spinButtonDownIconCls,spinButtonUpIconCls:this.spinButtonUpIconCls}}}));

/***/ },

/***/ "./dist/esm/src/list/Base.mjs"
/*!************************************!*\
  !*** ./dist/esm/src/list/Base.mjs ***!
  \************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/ClassSystem.mjs */ "./dist/esm/src/util/ClassSystem.mjs");
/* harmony import */ var _component_Base_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony import */ var _selection_ListModel_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../selection/ListModel.mjs */ "./dist/esm/src/selection/ListModel.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _data_Store_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../data/Store.mjs */ "./dist/esm/src/data/Store.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _component_Base_mjs__WEBPACK_IMPORTED_MODULE_1__["default"]{static config={className:"Neo.list.Base",ntype:"list",animate_:!1,autoDestroyStore:!0,baseCls:["neo-list"],disabledField:"disabled",disableSelection_:!1,displayField:"name",draggable_:!1,dragZone:null,dragZoneConfig:null,focusIndex_:null,headerlessSelectedIndex_:null,highlightFilterValue:!0,itemCls:"neo-list-item",itemHeight_:null,itemTagName:"li",itemWidth_:null,itemsFocusable:!0,keepFocusIndex:!1,keys:{},pluginAnimateConfig:null,selectedIndex_:null,selectionModel_:null,selectOnFocus:!1,silentSelect:!1,store_:null,useCheckBoxes_:!1,useHeaders_:!1,useWrapperNode_:!1,_vdom:{tag:"ul",cn:[]}};itemRole=null;navigator={};scrollIntoViewOnFocus=!0;construct(e){super.construct(e);let t=this;t.useHeaders&&(t.scrollIntoViewOnFocus=!1),t.addDomListeners({click:t.onClick,scope:t})}afterSetAnimate(e,t){e&&!this.getPlugin("list-animate")&&__webpack_require__.e(/*! import() */ "dist_esm_src_list_plugin_Animate_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ./plugin/Animate.mjs */ "./dist/esm/src/list/plugin/Animate.mjs")).then(e=>{let t=this,s=t.plugins||[];s.push({module:e.default,...t.pluginAnimateConfig}),t.plugins=s})}afterSetDisableSelection(e,t){e&&this.vnodeInitialized&&this.selectionModel?.deselectAll()}afterSetDraggable(e,t){let s=this;e&&!s.dragZone&&__webpack_require__.e(/*! import() */ "dist_esm_src_draggable_list_DragZone_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ../draggable/list/DragZone.mjs */ "./dist/esm/src/draggable/list/DragZone.mjs")).then(e=>{s.dragZone=Neo.create({module:e.default,appName:s.appName,owner:s,windowId:s.windowId,...s.dragZoneConfig})})}afterSetFocusIndex(e,t){null!==e&&this.updateItemFocus(e)}afterSetHeaderlessSelectedIndex(e,t){let s=this;Neo.isNumber(e)?s.selectedIndex=s.store.getCount()?s.getSelectedIndex(e):null:Neo.isNumber(t)&&(s.selectedIndex=null)}afterSetMounted(e,t){let s=this;!e&&s.hasNavigator&&(Neo.main.addon.Navigator.unsubscribe(s.navigator),s.hasNavigator=!1,s.selectedIndex=null),e&&(s.hasNavigator||(s.navigator=Neo.merge({appName:s.appName,autoClick:s.selectOnFocus,id:s.id,keepFocusIndex:s.keepFocusIndex,selector:`.${s.itemCls}:not(.neo-disabled,.neo-list-header)`,windowId:s.windowId},s.navigator),s.hasNavigator=!0),Neo.main.addon.Navigator.subscribe(s.navigator)),super.afterSetMounted(e,t)}afterSetSelectedIndex(e,t){let s=this,{selectionModel:o}=s;Neo.isNumber(e)?(o?.selectAt(e),s.headerlessSelectedIndex=s.getHeaderlessIndex(e)):Neo.isNumber(t)&&(o.deselectAll(),s.headerlessSelectedIndex=null)}afterSetSelectionModel(e,t){this.vnodeInitialized&&e.register(this)}afterSetStore(e,t){e?.on({filter:"onStoreFilter",load:"onStoreLoad",recordChange:"onStoreRecordChange",sort:"onStoreSort",scope:this}),e?.getCount()>0&&this.onStoreLoad()}afterSetUseCheckBoxes(e,t){let{cls:s}=this;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].toggle(s,"neo-use-checkicons",!!e),this.cls=s}afterSetUseHeaders(e,t){if(e){let e=this;e.vdom.tag="dl",e.itemTagName="dd"}}afterSetUseWrapperNode(e,t){let s=this,{cls:i,wrapperCls:r}=s;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"][e?"add":"remove"](i,"neo-use-wrapper-node"),_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"][e?"add":"remove"](r,"neo-list-wrapper"),s.wrapperCls=r,s.cls=i}afterSetWindowId(e,t){super.afterSetWindowId(e,t);let{navigator:s}=this;e&&s&&(s.windowId=e)}beforeSetSelectionModel(t,o){return o?.destroy(),_util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].beforeSetInstance(t,_selection_ListModel_mjs__WEBPACK_IMPORTED_MODULE_2__["default"])}beforeSetStore(t,s){return s?.destroy(),_util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].beforeSetInstance(t,_data_Store_mjs__WEBPACK_IMPORTED_MODULE_4__["default"])}createItem(e,t){let s,i,r=this,l=[r.itemCls],n=null!==r.itemHeight,a=null!==r.itemWidth,d=r.useHeaders&&e.isHeader,c=r.createItemContent(e,t),u=r.getItemId(e[r.getKeyProperty()]),{selectionModel:m}=r,h=!r.disableSelection&&m?.isSelected(u);switch(d&&l.push("neo-list-header"),h&&l.push(m.selectedCls),e.cls&&_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].add(l,e.cls),e[r.disabledField]&&l.push("neo-disabled"),s={id:u,tag:d?"dt":r.itemTagName,"aria-selected":h,cls:l},r.itemsFocusable&&(s.tabIndex=-1),(e.hidden||c.removeDom)&&(s.removeDom=!0),r.itemRole&&(s.role=r.itemRole),Neo.typeOf(c)){case null:return null;case"Array":s.cn=c,i=!0,c.forEach(e=>{e.removeDom||(i=!1)}),i&&(s.removeDom=!0);break;case"Object":c.cls&&(_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].add(s.cls,c.cls),delete c.cls),Object.assign(s,c);break;case"Number":case"String":s.html=c}return(n||a)&&(s.style=s.style||{},n&&!s.hasOwnProperty("height")&&(s.style.height=`${r.itemHeight}px`),a&&!s.hasOwnProperty("width")&&(s.style.width=`${r.itemWidth}px`)),s}createItemContent(e,t){let s,o=this,i=e[o.displayField];return o.highlightFilterValue&&(s=o.store.getFilter(o.displayField),s&&null!==s.value&&""!==s.value&&(i=i.replace(new RegExp(s.value,"gi"),function(e){return'<span class="neo-highlight-search">'+e+"</span>"}))),i}createItems(e=!1){let t,s=this,{headerlessSelectedIndex:o}=s,i=s.getVdomRoot();Neo.isNumber(o)&&!Neo.isNumber(s.selectedIndex)&&s.afterSetHeaderlessSelectedIndex(o,null),s.animate&&!s.getPlugin("list-animate")||(i.cn=[],s.store.forEach((e,o)=>{t=s.createItem(e,o),t&&i.cn.push(t)}),!e&&s.promiseUpdate().then(()=>{s.fire("createItems")}))}destroy(...e){let t=this;t.selectionModel?.destroy(),t.autoDestroyStore&&t.store?.destroy(),super.destroy(...e)}focus(e=this.id){this.mounted&&Neo.main.addon.Navigator.navigateTo({data:this.navigator,target:e,windowId:this.windowId})}getSelectedIndex(e){let t=0,s=0,o=this.store.items,i=e;if(o.length<1)return null;for(;s<=i;s++)o[s].isHeader&&(t++,i++);return e+t}getHeaderlessIndex(e){let t=0,s=0,o=this.store.items;for(;s<e;s++)o[s].isHeader||t++;return t}getItemId(e){return`${this.id}__${e.isRecord?e[this.getKeyProperty()]:e}`}getItemRecordId(e){let t=e.split("__")[1],{model:s}=this.store,o=s?.getField(this.getKeyProperty()),i=o?.type?.toLowerCase();return"int"!==i&&"integer"!==i||(t=parseInt(t)),t}getKeyProperty(){return this.store.keyProperty||this.store.model.keyProperty}onClick(e){let t,s=this;if(e.path[0].id===s.id)s.onContainerClick(e);else for(t of e.path)if(t.cls.includes(s.itemCls)){s.onItemClick(t,e);break}}onConstructed(){super.onConstructed(),this.selectionModel?.register(this)}onContainerClick(e){this.fire("containerClick",e)}onItemClick(e,t){let s=this,o=s.store.get(s.getItemRecordId(e.id));t.record=o,s.fire("itemClick",{record:o})}onStoreFilter(){this.createItems()}onStoreLoad(){let e=this;!e.mounted&&e.isVnodeInitializing?e.on("mounted",()=>{e.createItems()},e,{once:!0}):e.createItems()}onStoreRecordChange(e){let t=this,{index:s}=e;s>-1&&(t.vdom.cn[s]=t.createItem(e.record,s),t.update())}onStoreSort(e){this.createItems()}selectItem(e){let t=this;t.disableSelection||(Neo.isNumber(e)?t.selectionModel?.selectAt(e):e&&t.selectionModel?.selectAt(t.store.indexOf(e)))}async updateItemFocus(e){let t=this,{navigateTo:s}=Neo.main.addon.Navigator;t.mounted?Neo.isNumber(e)?s({data:t.navigator,target:t.getHeaderlessIndex(e),windowId:t.windowId}):e&&s({data:t.navigator,target:t.getItemId(e[t.getKeyProperty()]),windowId:t.windowId}):t.on("mounted",()=>{e===t.focusIndex&&t.updateItemFocus(t.focusIndex)},t,{once:!0})}}));

/***/ },

/***/ "./dist/esm/src/selection/ListModel.mjs"
/*!**********************************************!*\
  !*** ./dist/esm/src/selection/ListModel.mjs ***!
  \**********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Model_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Model.mjs */ "./dist/esm/src/selection/Model.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Model_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.selection.ListModel",ntype:"selection-listmodel"};onKeyDownEscape(e){}onKeyDownDown(e){}onKeyDownEnter(e){}onKeyDownLeft(e){}onKeyDownRight(e){}onKeyDownUp(e){}onListClick({currentTarget:e}){let t,{view:n}=this;n.disableSelection||(t=n.store.get(n.getItemRecordId(e)),t&&this.select(t))}onListNavigate(e){let t,{view:n}=this,{store:o}=n;e.activeItem&&(t=o.get(n.getItemRecordId(e.activeItem))),t||(t=o.getAt(Math.min(e.activeIndex,o.getCount()))),e.record=t,n._focusIndex=o.indexOf(t),n.fire("itemNavigate",e)}register(e){super.register(e);let t=this,{id:n,view:o}=t;o.addDomListeners([{click:t.onListClick,scope:t,delegate:e=>{for(let t=0,{length:n}=e;t<n;t++){const{cls:n}=e[t];if(n.includes(o.itemCls)&&!n.includes("neo-disabled")&&!n.includes("neo-list-header"))return t}}},{neonavigate:t.onListNavigate,scope:t}]),o.keys?._keys.push({fn:"onKeyDownDown",key:"Down",scope:n},{fn:"onKeyDownEnter",key:"Enter",scope:n},{fn:"onKeyDownEscape",key:"Escape",scope:n},{fn:"onKeyDownLeft",key:"Left",scope:n},{fn:"onKeyDownRight",key:"Right",scope:n},{fn:"onKeyDownUp",key:"Up",scope:n})}selectAt(e){let{view:t}=this,n=t?.store.getKeyAt(e),o=n&&t.getItemId(n);o&&this.select(o)}unregister(){let{id:e,view:t}=this;t.keys?.removeKeys([{fn:"onKeyDownDown",key:"Down",scope:e},{fn:"onKeyDownEnter",key:"Enter",scope:e},{fn:"onKeyDownEscape",key:"Escape",scope:e},{fn:"onKeyDownLeft",key:"Left",scope:e},{fn:"onKeyDownRight",key:"Right",scope:e},{fn:"onKeyDownUp",key:"Up",scope:e}]),super.unregister()}}));

/***/ },

/***/ "./dist/esm/src/selection/table/CellColumnModel.mjs"
/*!**********************************************************!*\
  !*** ./dist/esm/src/selection/table/CellColumnModel.mjs ***!
  \**********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _CellModel_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CellModel.mjs */ "./dist/esm/src/selection/table/CellModel.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _CellModel_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.selection.table.CellColumnModel",ntype:"selection-table-cellcolumnmodel",cls:"neo-selection-cellcolumnmodel",selectedColumnCellCls:"selected-column-cell",selectedColumnCellIds:[]};deselectAllCells(e){let l=this,s=[...l.selectedColumnCellIds],{view:t}=l;s.forEach(e=>{l.deselect(e,!0,l.selectedColumnCellIds,l.selectedColumnCellCls)}),!e&&t.update()}onCellClick(e){let s,t,o,C=this,{view:d}=C,n=e.data.currentTarget;n&&(t=d.getDataField(n),o=d.getColumn(t,!0),s=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getColumnNodesIds(d.vdom,o),C.deselectAllCells(!0),C.select(s,C.selectedColumnCellIds,C.selectedColumnCellCls)),super.onCellClick(e)}onNavKeyColumn(e){let s,t,o,C=this,{dataFields:d,view:n}=C;for(t=C.hasSelection()?n.getDataField(C.items[0]):d[0],o=(d.indexOf(t)+e)%d.length;o<0;)o+=d.length;s=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getColumnNodesIds(n.vdom,o),C.deselectAllCells(!0),C.select(s,C.selectedColumnCellIds,C.selectedColumnCellCls),super.onNavKeyColumn(e)}toJSON(){return{...super.toJSON(),selectedColumnCellCls:this.selectedColumnCellCls,selectedColumnCellIds:this.selectedColumnCellIds}}unregister(){this.deselectAllCells(),super.unregister()}}));

/***/ },

/***/ "./dist/esm/src/selection/table/CellColumnRowModel.mjs"
/*!*************************************************************!*\
  !*** ./dist/esm/src/selection/table/CellColumnRowModel.mjs ***!
  \*************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _CellRowModel_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CellRowModel.mjs */ "./dist/esm/src/selection/table/CellRowModel.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _CellRowModel_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.selection.table.CellColumnRowModel",ntype:"selection-table-cellcolumnrowmodel",cls:"neo-selection-cellcolumnrowmodel",selectedColumnCellCls:"selected-column-cell",selectedColumnCellIds:[]};deselectAllCells(e){let l=this,s=[...l.selectedColumnCellIds],{view:t}=l;s.forEach(e=>{l.deselect(e,!0,l.selectedColumnCellIds,l.selectedColumnCellCls)}),!e&&t.update()}onCellClick(e){let s,t,o,C=this,{view:d}=C,n=e.data.currentTarget;n&&(t=d.getDataField(n),o=d.getColumn(t,!0),s=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getColumnNodesIds(d.vdom,o),C.deselectAllCells(!0),C.select(s,C.selectedColumnCellIds,C.selectedColumnCellCls)),super.onCellClick(e)}onNavKeyColumn(e){let s,t,o,C=this,{dataFields:d,view:n}=C;for(t=C.hasSelection()?n.getDataField(C.items[0]):d[0],o=(d.indexOf(t)+e)%d.length;o<0;)o+=d.length;s=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getColumnNodesIds(n.vdom,o),C.deselectAllCells(!0),C.select(s,C.selectedColumnCellIds,C.selectedColumnCellCls),super.onNavKeyColumn(e)}toJSON(){return{...super.toJSON(),selectedColumnCellCls:this.selectedColumnCellCls,selectedColumnCellIds:this.selectedColumnCellIds}}unregister(){this.deselectAllCells(),super.unregister()}}));

/***/ },

/***/ "./dist/esm/src/selection/table/CellRowModel.mjs"
/*!*******************************************************!*\
  !*** ./dist/esm/src/selection/table/CellRowModel.mjs ***!
  \*******************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _CellModel_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CellModel.mjs */ "./dist/esm/src/selection/table/CellModel.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _CellModel_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.selection.table.CellRowModel",ntype:"selection-table-cellrowmodel",cls:"neo-selection-cellrowmodel",selectedRowIds:[]};deselectAllRows(e){let t=this,l=[...t.selectedRowIds],{view:s}=t;l.forEach(e=>{t.deselectRow(e,!0)}),!e&&s.update()}deselectRow(e,l){let s,o=this,{view:d}=o,c=d.getVdomChild(e);c&&(s=c.cls||[],_util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].remove(s,o.selectedCls),c.cls=s),_util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].remove(o.selectedRowIds,e),!l&&d.update()}onCellClick(e){let t=this,l=t.view.getRecord(e.data.currentTarget),s=t.view.getRowId(l);s&&(t.deselectAllRows(!0),t.selectRow(s)),super.onCellClick(e)}onNavKeyRow(e){super.onNavKeyRow(e);let t,l=this,{view:s}=l,{store:o}=s,d=o.getCount(),c=l.selectedRowIds[0]||s.getRowId(o.getAt(0)),w=s.getRecord(c),r=(o.indexOf(w)+e)%d;for(;r<0;)r+=d;t=s.getRowId(o.getAt(r)),t&&(l.deselectAllRows(!0),l.selectRow(t))}selectRow(e,l){let s,o=this,{view:d}=o,c=e&&d.getVdomChild(e);c&&(s=c.cls||[],_util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].add(s,o.selectedCls),c.cls=s,o.selectedRowIds.push(e)),!l&&d.update()}toJSON(){return{...super.toJSON(),selectedRowIds:this.selectedRowIds}}unregister(){this.deselectAllRows(),super.unregister()}}));

/***/ },

/***/ "./dist/esm/src/state/Provider.mjs"
/*!*****************************************!*\
  !*** ./dist/esm/src/state/Provider.mjs ***!
  \*****************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/ClassSystem.mjs */ "./dist/esm/src/util/ClassSystem.mjs");
/* harmony import */ var _core_Config_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Config.mjs */ "./dist/esm/src/core/Config.mjs");
/* harmony import */ var _core_Effect_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Effect.mjs */ "./dist/esm/src/core/Effect.mjs");
/* harmony import */ var _core_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/EffectManager.mjs */ "./dist/esm/src/core/EffectManager.mjs");
/* harmony import */ var _core_Observable_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/Observable.mjs */ "./dist/esm/src/core/Observable.mjs");
/* harmony import */ var _createHierarchicalDataProxy_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./createHierarchicalDataProxy.mjs */ "./dist/esm/src/state/createHierarchicalDataProxy.mjs");
/* harmony import */ var _core_ConfigSymbols_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/ConfigSymbols.mjs */ "./dist/esm/src/core/ConfigSymbols.mjs");
const c=Symbol.for("twoWayBinding");/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static observable=!0;static config={className:"Neo.state.Provider",ntype:"state-provider",component:null,data_:{[_core_ConfigSymbols_mjs__WEBPACK_IMPORTED_MODULE_7__.isDescriptor]:!0,merge:"deep",value:{}},formulas_:null,parent_:null,stores_:null,windowId:null};#t=new Map;#e={};#r=new Map;construct(t){Neo.isUsingStateProviders=!0,super.construct(t)}adjustValue(t){return t instanceof Date?new Date(t.valueOf()):t}afterSetData(t,e){t&&this.processDataObject(t)}afterSetFormulas(t,e){const r=this;r.#r.forEach(t=>t.destroy()),r.#r.clear(),t&&Object.entries(t).forEach(([t,e])=>{const a=new _core_Effect_mjs__WEBPACK_IMPORTED_MODULE_3__["default"]({fn:()=>{const s=r.getHierarchyData(),a=e(s);r.setData(t,a)},lazy:!0});r.#r.set(t,a)})}beforeGetData(t){return this.getHierarchyData()}beforeSetStores(t,r){if(t){let r=this;Object.entries(t).forEach(([s,a])=>{Object.entries(a.listeners||{}).forEach(([t,e])=>{r.bindCallback(e,t,r,a.listeners)}),t[s]=_util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].beforeSetInstance(a)})}return t}createBinding(t,e,r){const a=this,o=new _core_Effect_mjs__WEBPACK_IMPORTED_MODULE_3__["default"](()=>{const s=Neo.get(t);if(s&&!s.isDestroyed){const t=a.getHierarchyData(),o=Neo.isFunction(r)?r.call(a,t):t[r];s._skipTwoWayPush=e,s[e]=o,delete s._skipTwoWayPush}});return a.#t.set(t,o),a.observeConfig(t,"isDestroying",e=>{e&&(o.destroy(),a.#t.delete(t))}),o}createBindings(t){let e=this,r=!1;Object.entries(t.bind||{}).forEach(([s,a])=>{let o=a;Neo.isObject(a)&&(a.twoWay&&(r=!0),o=a.key),e.isStoreValue(o)?e.resolveStore(t,s,o.substring(7)):e.createBinding(t.id,s,o,a.twoWay)}),r&&(t[c]=!0)}destroy(){const t=this;t.#r.forEach(t=>t.destroy()),t.#r.clear(),t.#t.forEach(t=>t.destroy()),t.#t.clear(),super.destroy()}getController(t){return this.component.getController(t)}getData(t){const e=this.getOwnerOfDataProperty(t);if(e)return e.owner.getDataConfig(e.propertyName).get()}getDataConfig(t){return this.#e[t]||null}getHierarchyData(){return (0,_createHierarchicalDataProxy_mjs__WEBPACK_IMPORTED_MODULE_6__.createHierarchicalDataProxy)(this)}getOwnerOfDataProperty(t){let e=this;if(e.#e[t])return{owner:e,propertyName:t};const r=e.getParent();return r?r.getOwnerOfDataProperty(t):null}getParent(){let t=this;return t._parent?t._parent:t.component&&t.component.parent?.getStateProvider()||null}getStore(t,e=this){let r,{stores:s}=this;return s?.hasOwnProperty(t)?s[t]:(r=this.getParent(),r||console.error(`store '${t}' not found inside this stateProvider or parents.`,e),r.getStore(t,e))}hasNestedDataStartingWith(t){const e=`${t}.`;return!!Object.keys(this.#e).some(t=>t.startsWith(e))||(this.getParent()?.hasNestedDataStartingWith(t)||!1)}getTopLevelDataKeys(t){const e=new Set,r=t?`${t}.`:"";for(const t in this.#e)if(t.startsWith(r)){const s=t.substring(r.length).split(".")[0];s&&e.add(s)}return Array.from(e)}internalSetData(t,e,r){const s=this;if(Neo.isObject(t))return void Object.entries(t).forEach(([t,e])=>{s.internalSetData(t,e,r)});if("Object"===Neo.typeOf(e))return void Object.entries(e).forEach(([e,a])=>{const o=`${t}.${e}`;s.internalSetData(o,a,r)});const a=s.getOwnerOfDataProperty(t),o=a?a.owner:r||s;s.#s(o,t,e,null);let n=t,i=e;for(;n.includes(".");){const t=n.split(".").pop();n=n.substring(0,n.lastIndexOf("."));const e=o.getDataConfig(n);if(e){const r=e.get();if(!Neo.isObject(r))break;{const s={...r,[t]:i};e.set(s),i=s}}else{const e={[t]:i};s.#s(o,n,e),i=e}}}isStoreValue(t){return Neo.isString(t)&&t.startsWith("stores.")}onConstructed(){super.onConstructed(),this.#r.forEach(t=>t.run())}onDataPropertyChange(t,e,r){}processDataObject(t,e=""){let s=this;Object.entries(t).forEach(([t,a])=>{const o=e?`${e}.${t}`:t;a=s.adjustValue(a),s.#e[o]?s.#e[o].set(a):s.#e[o]=new _core_Config_mjs__WEBPACK_IMPORTED_MODULE_2__["default"](a),"Object"===Neo.typeOf(a)&&s.processDataObject(a,o)})}resolveStore(t,e,r){let s=this.getStore(r);t[e]!==s&&(t[e]=s)}#s(t,e,s,a){s=t.adjustValue(s);let o=t.getDataConfig(e),n=!0,i=a;o?(i=o.get(),n=o.set(s)):(o=new _core_Config_mjs__WEBPACK_IMPORTED_MODULE_2__["default"](s),t.#e[e]=o,t.#t.forEach(t=>t.run())),n&&t.onDataPropertyChange(e,s,i)}setData(t,e){_core_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].pause();try{this.internalSetData(t,e,this)}finally{_core_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].resume()}}setDataAtSameLevel(t,e){_core_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].pause();try{this.internalSetData(t,e)}finally{_core_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].resume()}}toJSON(){const t=this,e={};return t.stores&&Object.entries(t.stores).forEach(([t,r])=>{e[t]=r.toJSON()}),{...super.toJSON(),component:t.component?.id,data:t.data,parent:t.parent?.id,stores:e,windowId:t.windowId}}}));

/***/ },

/***/ "./dist/esm/src/state/createHierarchicalDataProxy.mjs"
/*!************************************************************!*\
  !*** ./dist/esm/src/state/createHierarchicalDataProxy.mjs ***!
  \************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createHierarchicalDataProxy: () => (/* binding */ createHierarchicalDataProxy)
/* harmony export */ });
/* harmony import */ var _core_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/EffectManager.mjs */ "./dist/esm/src/core/EffectManager.mjs");
function t(r,o){return new Proxy({},{get(n,a){if("symbol"==typeof a||"__REFADR__"===a||"inspect"===a||"then"===a)return Reflect.get(n,a);if("string"!=typeof a&&"number"!=typeof a)return;if(""===o&&"stores"===a)return new Proxy({},{get:(e,t)=>"symbol"==typeof t||"__REFADR__"===t?Reflect.get(e,t):r.getStore(t)});const f=o?`${o}.${a}`:a,i=r.getOwnerOfDataProperty(f);if(i){const{owner:o,propertyName:n}=i,a=o.getDataConfig(n);if(a){_core_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].getActiveEffect()?.addDependency(a);const o=a.get();return Neo.isObject(o)?t(r,f):o}}return r.hasNestedDataStartingWith(f)?t(r,f):void 0},set(e,t,n){if("symbol"==typeof t||"__REFADR__"===t)return Reflect.set(e,t,n);const a=o?`${o}.${t}`:t,f=r.getOwnerOfDataProperty(a);let i;return i=f?f.owner:r,i.setData(a,n),!0},ownKeys:e=>r.getTopLevelDataKeys(o),getOwnPropertyDescriptor(e,n){const a=o?`${o}.${n}`:n,f=r.getOwnerOfDataProperty(a);if(f){const e=f.owner.getDataConfig(f.propertyName);if(e){const o=e.get();return{value:Neo.isObject(o)?t(r,a):o,writable:!0,enumerable:!0,configurable:!0}}}}})}function createHierarchicalDataProxy(e){return t(e,"")}

/***/ }

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC92ZW5kb3JzLWRpc3RfZXNtX2V4YW1wbGVzX3RhYmxlX2NlbGxFZGl0aW5nX2FwcF9tanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBa3FCLGlFQUFlLDZCQUE2QixrRUFBQyxDQUFDLGVBQWUsa0pBQWtKLDZCQUE2QixlQUFlLHVFQUFDLEVBQUUsaUJBQWlCLFNBQVMsRUFBRSxvREFBb0QsK0NBQStDLGdDQUFnQyxZQUFZLGlCQUFpQix5QkFBeUIsU0FBUyxPQUFPLGtFQUFDLGlFQUFpRSxRQUFRLE9BQU8sbUVBQUMsK0JBQStCLHlDQUF5QyxzRUFBc0UsRUFBRSx5RkFBeUYsbURBQW1ELDBFQUFDLEVBQUUsUUFBUSxpQkFBaUIsbUJBQW1CLEVBQUUsb0VBQW9FLG1EQUFtRCxnRkFBQyxFQUFFLDRCQUE0QixFQUFFLGlFQUFpRSxtREFBbUQsNkVBQUMsRUFBRSx5QkFBeUIsRUFBRSx1RUFBdUUsbURBQW1ELG1GQUFDLEVBQUUsa0NBQWtDLEVBQUUsT0FBTyxvRUFBQyxtRUFBbUUsaURBQWlELFFBQVEsaUJBQWlCLDZCQUE2QixFQUFFLE9BQU8sb0VBQUMsb0NBQW9DLGlEQUFpRCxRQUFRLGlCQUFpQixrQ0FBa0MsRUFBRSx5QkFBeUIsT0FBTyxPQUFPLGlFQUFDLE9BQU8seUJBQXlCLHVDQUF1QyxzREFBQyxhQUFhLGVBQWUsMEVBQUMsQ0FBQyxpQkFBaUIsWUFBWSxXQUFXLHVDQUF1QyxFQUFFLHdEQUF3RCxPQUFPLG1FQUFDLGtEQUFrRCxFQUFFLGtDQUFrQyxRQUFRLDJFQUEyRSxPQUFPLGdFQUFDLDJEQUEyRCxFQUFFLHlFQUF5RSxPQUFPLG1FQUFDLE9BQU8seUJBQXlCLG1EQUFtRCxFQUFFLGlFQUFpRSxHQUFHLDBCQUEwQixpRUFBaUUseUJBQXlCLGlEQUFpRCxDQUFDLEU7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQWptRyw4QkFBOEIsaUVBQWUsNkJBQTZCLCtEQUFDLENBQUMsZUFBZSw4RUFBOEUsV0FB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QUFrQixnQkFBZ0IsZ0RBQWdELGdCQUFnQixrREFBa0QsNkJBQTZCLDBCQUEwQixXQUFXLG9DQUFvQyxhQUFhLEVBQUUsR0FBRyxFQUFFLElBQUksc0RBQXNELHdEQUFDLHVEQUF1RCxFQUFFLG9CQUFvQix1QkFBdUIsbUJBQW1CLFlBQVksbUJBQW1CLGtDQUFrQyxnQ0FBZ0Msd0RBQUMseUVBQXlFLGFBQWEsK0RBQUMsU0FBUyxJQUFJLCtCQUErQixRQUFRLCtEQUFDLFdBQVcsd0JBQXdCLCtEQUFDLFNBQVMsSUFBSSwwQkFBMEIsUUFBUSwrREFBQyxXQUFXLFNBQVMsa0JBQWtCLDREQUE0RCxnQkFBZ0IsR0FBRywyR0FBMkcsQ0FBQyxFOzs7Ozs7Ozs7Ozs7Ozs7QUNBMzNJLGdCQUFnQixtQkFBbUIsRUFBRSxTQUFTLDJGQUEyRixpREFBaUQsMkNBQTJDLEVBQUUsK0VBQStFLEVBQUUsYUFBYSxFQUFFLEdBQUcsRUFBRSxrQ0FBa0MsTUFBTSxNQUFNLHVCQUF1Qix3QkFBd0IsTUFBTSwrREFBQyxxQ0FBcUMsZ0JBQWdCLGlDQUFpQyxvREFBb0QsWUFBWSxrRUFBa0UsYUFBYSxFQUFFLEdBQUcsRUFBRSxrQ0FBa0MsTUFBTSx1Q0FBdUMsbUVBQW1FLGFBQWEsRUFBRSxHQUFHLEVBQUUsa0NBQWtDLE1BQU0sOENBQThDLE1BQU0sZ0JBQWdCLE9BQU8sNkVBQTZFLEVBQVMsd0NBQXdDLGUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vZXhhbXBsZXMvdGFibGUvY2VsbEVkaXRpbmcvTWFpbkNvbnRhaW5lci5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL2V4YW1wbGVzL3RhYmxlL2NlbGxFZGl0aW5nL01haW5Db250YWluZXJTdGF0ZVByb3ZpZGVyLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vZXhhbXBsZXMvdGFibGUvY2VsbEVkaXRpbmcvTWFpbk1vZGVsLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vZXhhbXBsZXMvdGFibGUvY2VsbEVkaXRpbmcvTWFpblN0b3JlLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vZXhhbXBsZXMvdGFibGUvY2VsbEVkaXRpbmcvYXBwLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2NvcmUvRWZmZWN0Lm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2Zvcm0vZmllbGQvQ29tYm9Cb3gubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvZm9ybS9maWVsZC9Db3VudHJ5Lm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2Zvcm0vZmllbGQvRGF0ZS5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9mb3JtL2ZpZWxkL051bWJlci5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9mb3JtL2ZpZWxkL3RyaWdnZXIvRGF0ZS5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9mb3JtL2ZpZWxkL3RyaWdnZXIvU3BpbkRvd24ubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvZm9ybS9maWVsZC90cmlnZ2VyL1NwaW5VcC5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9mb3JtL2ZpZWxkL3RyaWdnZXIvU3BpblVwRG93bi5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9saXN0L0Jhc2UubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvc2VsZWN0aW9uL0xpc3RNb2RlbC5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9zZWxlY3Rpb24vdGFibGUvQ2VsbENvbHVtbk1vZGVsLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL3NlbGVjdGlvbi90YWJsZS9DZWxsQ29sdW1uUm93TW9kZWwubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvc2VsZWN0aW9uL3RhYmxlL0NlbGxSb3dNb2RlbC5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9zdGF0ZS9Qcm92aWRlci5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9zdGF0ZS9jcmVhdGVIaWVyYXJjaGljYWxEYXRhUHJveHkubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlIGZyb21cIi4uLy4uLy4uL3NyYy9zZWxlY3Rpb24vdGFibGUvQ2VsbENvbHVtbk1vZGVsLm1qc1wiO2ltcG9ydCBsIGZyb21cIi4uLy4uLy4uL3NyYy9zZWxlY3Rpb24vdGFibGUvQ2VsbENvbHVtblJvd01vZGVsLm1qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uL3NyYy9zZWxlY3Rpb24vdGFibGUvQ2VsbE1vZGVsLm1qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uLy4uL3NyYy9zZWxlY3Rpb24vdGFibGUvQ2VsbFJvd01vZGVsLm1qc1wiO2ltcG9ydCBuIGZyb21cIi4uLy4uLy4uL3NyYy9mb3JtL2ZpZWxkL0NoZWNrQm94Lm1qc1wiO2ltcG9ydCBhIGZyb21cIi4uLy4uLy4uL3NyYy9mb3JtL2ZpZWxkL0NvdW50cnkubWpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vQ29uZmlndXJhdGlvblZpZXdwb3J0Lm1qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uLy4uL3NyYy9mb3JtL2ZpZWxkL0RhdGUubWpzXCI7aW1wb3J0IG0gZnJvbVwiLi9NYWluQ29udGFpbmVyU3RhdGVQcm92aWRlci5tanNcIjtpbXBvcnQgZCBmcm9tXCIuL01haW5TdG9yZS5tanNcIjtpbXBvcnQgcyBmcm9tXCIuLi8uLi8uLi9zcmMvZm9ybS9maWVsZC9OdW1iZXIubWpzXCI7aW1wb3J0IGMgZnJvbVwiLi4vLi4vLi4vc3JjL2Zvcm0vZmllbGQvUmFkaW8ubWpzXCI7aW1wb3J0IHUgZnJvbVwiLi4vLi4vLi4vc3JjL3RhYmxlL0NvbnRhaW5lci5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGl7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmV4YW1wbGVzLnRhYmxlLmNlbGxFZGl0aW5nLk1haW5Db250YWluZXJcIixhdXRvTW91bnQ6ITAsY29uZmlnSXRlbUxhYmVsV2lkdGg6MTMwLGNvbmZpZ1BhbmVsRmxleDoxLjUsZXhhbXBsZUNvbXBvbmVudEZsZXg6MyxsYXlvdXQ6e250eXBlOlwiaGJveFwiLGFsaWduOlwic3RyZXRjaFwifSxzdGF0ZVByb3ZpZGVyOm19O2NvdW50cnlSZW5kZXJlcih7cmVjb3JkOmV9KXtsZXQgbD10aGlzLmdldFN0YXRlUHJvdmlkZXIoKS5nZXRTdG9yZShcImNvdW50cmllc1wiKTtyZXR1cm4gbC5nZXRDb3VudCgpPjA/bC5nZXQoZS5jb3VudHJ5KS5uYW1lOlwiXCJ9Y3JlYXRlQ29uZmlndXJhdGlvbkNvbXBvbmVudHMoKXtsZXQgYT10aGlzLHtzZWxlY3Rpb25Nb2RlbDppfT1hLmV4YW1wbGVDb21wb25lbnQudmlldztjb25zdCByPXttb2R1bGU6YyxoaWRlVmFsdWVMYWJlbDohMSxsYWJlbFRleHQ6XCJcIixuYW1lOlwic2VsZWN0aW9uTW9kZWxcIix3aWR0aDozNTB9O3JldHVyblt7bW9kdWxlOnMsbGFiZWxUZXh0OlwiaGVpZ2h0XCIsbGlzdGVuZXJzOntjaGFuZ2U6YS5vbkNvbmZpZ0NoYW5nZS5iaW5kKGEsXCJoZWlnaHRcIil9LG1heFZhbHVlOjgwMCxtaW5WYWx1ZToyMjUsc3RlcFNpemU6NSx2YWx1ZTphLmV4YW1wbGVDb21wb25lbnQuaGVpZ2h0fSx7Li4ucixjaGVja2VkOlwic2VsZWN0aW9uLXRhYmxlLWNlbGxtb2RlbFwiPT09aS5udHlwZSxsYWJlbFRleHQ6XCJzZWxlY3Rpb25Nb2RlbFwiLGxpc3RlbmVyczp7Y2hhbmdlOmEub25SYWRpb1ZpZXdDaGFuZ2UuYmluZChhLFwic2VsZWN0aW9uTW9kZWxcIixvKX0sc3R5bGU6e21hcmdpblRvcDpcIjEwcHhcIn0sdmFsdWVMYWJlbDpcIkNlbGxcIn0sey4uLnIsY2hlY2tlZDpcInNlbGVjdGlvbi10YWJsZS1jZWxsY29sdW1ubW9kZWxcIj09PWkubnR5cGUsbGlzdGVuZXJzOntjaGFuZ2U6YS5vblJhZGlvVmlld0NoYW5nZS5iaW5kKGEsXCJzZWxlY3Rpb25Nb2RlbFwiLGUpfSx2YWx1ZUxhYmVsOlwiQ2VsbCAmIENvbHVtblwifSx7Li4ucixjaGVja2VkOlwic2VsZWN0aW9uLXRhYmxlLWNlbGxyb3dtb2RlbFwiPT09aS5udHlwZSxsaXN0ZW5lcnM6e2NoYW5nZTphLm9uUmFkaW9WaWV3Q2hhbmdlLmJpbmQoYSxcInNlbGVjdGlvbk1vZGVsXCIsdCl9LHZhbHVlTGFiZWw6XCJDZWxsICYgUm93XCJ9LHsuLi5yLGNoZWNrZWQ6XCJzZWxlY3Rpb24tdGFibGUtY2VsbGNvbHVtbnJvd21vZGVsXCI9PT1pLm50eXBlLGxpc3RlbmVyczp7Y2hhbmdlOmEub25SYWRpb1ZpZXdDaGFuZ2UuYmluZChhLFwic2VsZWN0aW9uTW9kZWxcIixsKX0sdmFsdWVMYWJlbDpcIkNlbGwgJiBDb2x1bW4gJiBSb3dcIn0se21vZHVsZTpuLGNoZWNrZWQ6YS5leGFtcGxlQ29tcG9uZW50LmRyYWdSZXNvcnRhYmxlLGhpZGVMYWJlbDohMCxsaXN0ZW5lcnM6e2NoYW5nZTphLm9uQ29uZmlnQ2hhbmdlLmJpbmQoYSxcImRyYWdSZXNvcnRhYmxlXCIpfSxzdHlsZTp7bWFyZ2luVG9wOlwiMTBweFwifSx2YWx1ZUxhYmVsOlwiZHJhZ1Jlc29ydGFibGVcIn0se21vZHVsZTpuLGNoZWNrZWQ6ITEsaGlkZUxhYmVsOiEwLGxpc3RlbmVyczp7Y2hhbmdlOmEub25QbHVnaW5Db25maWdDaGFuZ2UuYmluZChhLFwiZGlzYWJsZWRcIil9LHN0eWxlOnttYXJnaW5Ub3A6XCIxMHB4XCJ9LHZhbHVlTGFiZWw6XCJEaXNhYmxlIENlbGxFZGl0aW5nXCJ9XX1jcmVhdGVFeGFtcGxlQ29tcG9uZW50KCl7cmV0dXJue21vZHVsZTp1LGJpbmQ6e3N0b3JlOlwic3RvcmVzLm1haW5TdG9yZVwifSxjZWxsRWRpdGluZzohMCxwYXJlbnRJZDp0aGlzLmlkLHN0b3JlOmQsYm9keUNvbmZpZzp7c2VsZWN0aW9uTW9kZWw6b30sY29sdW1uRGVmYXVsdHM6e2VkaXRhYmxlOiEwfSxjb2x1bW5zOlt7ZGF0YUZpZWxkOlwiZmlyc3RuYW1lXCIsdGV4dDpcIkZpcnN0bmFtZVwifSx7ZGF0YUZpZWxkOlwicmFuZG9tTnVtYmVyXCIsdGV4dDpcIk51bWJlciAoc3RlcCA1KVwiLGVkaXRvcjp7bW9kdWxlOnMsY2xlYXJhYmxlOiExLG1heFZhbHVlOjEwMCxtaW5WYWx1ZTowLHN0ZXBTaXplOjV9fSx7ZGF0YUZpZWxkOlwicmFuZG9tRGF0ZVwiLHJlbmRlcmVyOih7dmFsdWU6ZX0pPT5uZXcgSW50bC5EYXRlVGltZUZvcm1hdChcImRlZmF1bHRcIikuZm9ybWF0KGUpLHRleHQ6XCJSYW5kb20gRGF0ZVwiLGVkaXRvcjp7bW9kdWxlOnIsY2xlYXJhYmxlOiExLG1heFZhbHVlOlwiMjAyNC0xMi0yMFwiLG1pblZhbHVlOlwiMjAyNC0xMi0xMFwifX0se2RhdGFGaWVsZDpcImNvdW50cnlcIixyZW5kZXJlcjpcInVwLmNvdW50cnlSZW5kZXJlclwiLHRleHQ6XCJDb3VudHJ5XCIsZWRpdG9yOnttb2R1bGU6YSxiaW5kOntzdG9yZTpcInN0b3Jlcy5jb3VudHJpZXNcIn0sY2xlYXJhYmxlOiExLGZvcmNlU2VsZWN0aW9uOiEwLHZhbHVlRmllbGQ6XCJjb2RlXCJ9fSx7ZGF0YUZpZWxkOlwiZ2l0aHViSWRcIixlZGl0YWJsZTohMSx0ZXh0OlwiR2l0aHViIElkIChOb24tZWRpdGFibGUpXCJ9XX19b25QbHVnaW5Db25maWdDaGFuZ2UoZSxsKXt0aGlzLmV4YW1wbGVDb21wb25lbnQuZ2V0UGx1Z2luKFwidGFibGUtY2VsbC1lZGl0aW5nXCIpW2VdPWwudmFsdWV9b25SYWRpb1ZpZXdDaGFuZ2UoZSxsLG8peyEwPT09by52YWx1ZSYmKHRoaXMuZXhhbXBsZUNvbXBvbmVudC52aWV3W2VdPWwpfX0pOyIsImltcG9ydCBvIGZyb21cIi4vTWFpblN0b3JlLm1qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uL3NyYy9zdGF0ZS9Qcm92aWRlci5tanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9zcmMvZGF0YS9TdG9yZS5tanNcIjtjb25zdCByPVN5bWJvbC5mb3IoXCJjb3VudHJ5XCIpO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgZXtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uZXhhbXBsZXMudGFibGUuY2VsbEVkaXRpbmcuTWFpbkNvbnRhaW5lclN0YXRlUHJvdmlkZXJcIixzdG9yZXM6e2NvdW50cmllczp7bW9kdWxlOnQsYXV0b0xvYWQ6ITAsa2V5UHJvcGVydHk6XCJjb2RlXCIsbGlzdGVuZXJzOntsb2FkOlwib25Db3VudHJ5U3RvcmVMb2FkXCJ9LHVybDpcIi4uLy4uLy4uL3Jlc291cmNlcy9leGFtcGxlcy9kYXRhL2NvdW50cmllcy5qc29uXCIsbW9kZWw6e2ZpZWxkczpbe25hbWU6XCJjb2RlXCJ9LHtuYW1lOlwibmFtZVwifV19fSxtYWluU3RvcmU6b319O29uQ291bnRyeVN0b3JlTG9hZChvKXtsZXQgZSx0PXRoaXMuZ2V0U3RvcmUoXCJtYWluU3RvcmVcIik7dC5nZXRDb3VudCgpPjAmJnQuZm9yRWFjaChvPT57ZT1vLmNvdW50cnksb1tyXT1udWxsLG8uY291bnRyeT1lfSl9fSk7IiwiaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vc3JjL2RhdGEvTW9kZWwubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBle3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5leGFtcGxlcy50YWJsZS5jZWxsRWRpdGluZy5NYWluTW9kZWxcIixmaWVsZHM6W3tuYW1lOlwiY291bnRyeVwiLHR5cGU6XCJTdHJpbmdcIn0se25hbWU6XCJmaXJzdG5hbWVcIix0eXBlOlwiU3RyaW5nXCJ9LHtuYW1lOlwiZ2l0aHViSWRcIix0eXBlOlwiU3RyaW5nXCJ9LHtuYW1lOlwicmFuZG9tTnVtYmVyXCIsdHlwZTpcIkludFwifSx7bmFtZTpcInJhbmRvbURhdGVcIix0eXBlOlwiRGF0ZVwifV19fSk7IiwiaW1wb3J0IGEgZnJvbVwiLi9NYWluTW9kZWwubWpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vLi4vLi4vc3JjL2RhdGEvU3RvcmUubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBye3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5leGFtcGxlcy50YWJsZS5jZWxsRWRpdGluZy5NYWluU3RvcmVcIixrZXlQcm9wZXJ0eTpcImdpdGh1YklkXCIsbW9kZWw6YSxkYXRhOlt7Y291bnRyeTpcIkRFXCIsZmlyc3RuYW1lOlwiVG9iaWFzXCIsZ2l0aHViSWQ6XCJ0b2JpdVwiLHJhbmRvbURhdGU6XCIyMDI0LTEyLTIwXCIscmFuZG9tTnVtYmVyOjEwMH0se2NvdW50cnk6XCJVU1wiLGZpcnN0bmFtZTpcIlJpY2hcIixnaXRodWJJZDpcInJ3YXRlcnNcIixyYW5kb21EYXRlOlwiMjAyNC0xMi0xOFwiLHJhbmRvbU51bWJlcjo5MH0se2NvdW50cnk6XCJERVwiLGZpcnN0bmFtZTpcIk5pbHNcIixnaXRodWJJZDpcIm1yc3Vuc2hpbmVcIixyYW5kb21EYXRlOlwiMjAyNC0xMi0xOVwiLHJhbmRvbU51bWJlcjo3MH0se2NvdW50cnk6XCJVU1wiLGZpcnN0bmFtZTpcIkdlcmFyZFwiLGdpdGh1YklkOlwiY2FtdG5iaWtlcnJ3Y1wiLHJhbmRvbURhdGU6XCIyMDI0LTEyLTE3XCIscmFuZG9tTnVtYmVyOjgwfSx7Y291bnRyeTpcIlNLXCIsZmlyc3RuYW1lOlwiSm96ZWZcIixnaXRodWJJZDpcImpzYWthbG9zXCIscmFuZG9tRGF0ZTpcIjIwMjQtMTItMTZcIixyYW5kb21OdW1iZXI6NjB9LHtjb3VudHJ5OlwiREVcIixmaXJzdG5hbWU6XCJCYXN0aWFuXCIsZ2l0aHViSWQ6XCJiaGF1c3RlaW5cIixyYW5kb21EYXRlOlwiMjAyNC0xMi0xNVwiLHJhbmRvbU51bWJlcjo1MH1dfX0pOyIsImltcG9ydCBlIGZyb21cIi4vTWFpbkNvbnRhaW5lci5tanNcIjtleHBvcnQgY29uc3Qgb25TdGFydD0oKT0+TmVvLmFwcCh7bWFpblZpZXc6ZSxuYW1lOlwiTmVvLmV4YW1wbGVzLnRhYmxlLmNlbGxFZGl0aW5nXCJ9KTsiLCJpbXBvcnQgZSBmcm9tXCIuL0NvbmZpZy5tanNcIjtpbXBvcnQgbiBmcm9tXCIuL0VmZmVjdE1hbmFnZXIubWpzXCI7aW1wb3J0IHMgZnJvbVwiLi9JZEdlbmVyYXRvci5tanNcIjtjbGFzcyBpe2NvbXBvbmVudElkPW51bGw7ZGVwZW5kZW5jaWVzPW5ldyBNYXA7X2ZuPW51bGw7aWQ9cy5nZXRJZChcImVmZmVjdFwiKTtpc0Rlc3Ryb3llZD0hMTtpc1J1bm5pbmc9bnVsbDtnZXQgZm4oKXtyZXR1cm4gdGhpcy5fZm59c2V0IGZuKGUpe3RoaXMuX2ZuPWUsdGhpcy5ydW4oKX1jb25zdHJ1Y3RvcihuLHM9e30pe2NvbnN0IGk9dGhpcyx7Zm46dCxjb21wb25lbnRJZDpyLGxhenk6Yz0hMSxzdWJzY3JpYmVyOm99PVwiZnVuY3Rpb25cIj09dHlwZW9mIG4/ey4uLnMsZm46bn06bnx8e307ciYmKGkuY29tcG9uZW50SWQ9ciksaS5pc1J1bm5pbmc9bmV3IGUoITEpLG8mJltdLmNvbmNhdChvKS5mb3JFYWNoKGU9PmkuaXNSdW5uaW5nLnN1YnNjcmliZShlKSksYz9pLl9mbj10OmkuZm49dH1kZXN0cm95KCl7Y29uc3QgZT10aGlzO2UuZGVwZW5kZW5jaWVzLmZvckVhY2goZT0+ZSgpKSxlLmRlcGVuZGVuY2llcy5jbGVhcigpLGUuaXNEZXN0cm95ZWQ9ITB9cnVuKCl7Y29uc3QgZT10aGlzO2lmKGUuaXNEZXN0cm95ZWQpcmV0dXJuO24ucGF1c2VUcmFja2luZygpO2NvbnN0IHM9ZS5pc1J1bm5pbmcuZ2V0KCk7aWYobi5yZXN1bWVUcmFja2luZygpLCFzKWlmKG4uaXNQYXVzZWQoKSluLnF1ZXVlKGUpO2Vsc2V7bi5wYXVzZVRyYWNraW5nKCksZS5pc1J1bm5pbmcuc2V0KCEwKSxuLnJlc3VtZVRyYWNraW5nKCksZS5kZXBlbmRlbmNpZXMuZm9yRWFjaChlPT5lKCkpLGUuZGVwZW5kZW5jaWVzLmNsZWFyKCksbi5wdXNoKGUpO3RyeXtlLmZuKCl9ZmluYWxseXtuLnBvcCgpLG4ucGF1c2VUcmFja2luZygpLGUuaXNSdW5uaW5nLnNldCghMSksbi5yZXN1bWVUcmFja2luZygpfX19YWRkRGVwZW5kZW5jeShlKXtjb25zdCBuPXRoaXM7aWYoIW4uZGVwZW5kZW5jaWVzLmhhcyhlKSl7Y29uc3Qgcz1lLnN1YnNjcmliZSh7aWQ6bi5pZCxmbjpuLnJ1bi5iaW5kKG4pfSk7bi5kZXBlbmRlbmNpZXMuc2V0KGUscyl9fX1leHBvcnQgZGVmYXVsdCBOZW8uZ2F0ZWtlZXAoaSxcIk5lby5jb3JlLkVmZmVjdFwiLCgpPT57TmVvLmVmZmVjdD0oZSxuKT0+bmV3IGkoZSxuKX0pOyIsImltcG9ydHtidWZmZXIgYXMgZX1mcm9tXCIuLi8uLi91dGlsL0Z1bmN0aW9uLm1qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL3V0aWwvQ2xhc3NTeXN0ZW0ubWpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vbWFuYWdlci9Db21wb25lbnQubWpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vLi4vbGlzdC9CYXNlLm1qc1wiO2ltcG9ydCBvIGZyb21cIi4vUGlja2VyLm1qc1wiO2ltcG9ydCBhIGZyb21cIi4uLy4uL2RhdGEvU3RvcmUubWpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vdXRpbC9WRG9tLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgb3tzdGF0aWMgdHJpZ2dlckFjdGlvbnM9W1wiYWxsXCIsXCJmaWx0ZXJlZFwiXTtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uZm9ybS5maWVsZC5Db21ib0JveFwiLG50eXBlOlwiY29tYm9ib3hcIixhY3RpdmVSZWNvcmRJZDpudWxsLGJhc2VDbHM6W1wibmVvLWNvbWJvYm94XCIsXCJuZW8tcGlja2VyZmllbGRcIixcIm5lby10ZXh0ZmllbGRcIl0sZGlzcGxheUZpZWxkOlwibmFtZVwiLGZpbHRlckRlbGF5OjUwLGZpbHRlck9wZXJhdG9yXzpcImxpa2VcIixmb3JjZVNlbGVjdGlvbjohMCxrZXlzOntEb3duOlwib25LZXlEb3duRG93blwiLEVzY2FwZTpcIm9uS2V5RG93bkVzY2FwZVwifSxsYXN0TWFudWFsSW5wdXQ6bnVsbCxsaXN0Om51bGwsbGlzdENvbmZpZ186bnVsbCxwaWNrZXJIZWlnaHQ6bnVsbCxyb2xlOlwiY29tYm9ib3hcIixzdG9yZV86bnVsbCx0cmlnZ2VyQWN0aW9uXzpcImFsbFwiLHR5cGVBaGVhZF86ITAsdXNlRmlsdGVyXzohMCx2YWx1ZUZpZWxkOlwiaWRcIix3aWR0aDoxNTB9O3ByZVN0b3JlTG9hZFZhbHVlPW51bGw7cHJvZ3JhbW1hdGljVmFsdWVDaGFuZ2U9ITE7Y29uc3RydWN0KHQpe3N1cGVyLmNvbnN0cnVjdCh0KTtsZXQgaT10aGlzO2kuZmlsdGVyT25JbnB1dD1lKGkuZmlsdGVyT25JbnB1dCxpLGkuZmlsdGVyRGVsYXkpLGkudHlwZUFoZWFkJiZpLnVwZGF0ZVR5cGVBaGVhZCgpfWFmdGVyU2V0SW5wdXRWYWx1ZShlLHQpe3N1cGVyLmFmdGVyU2V0SW5wdXRWYWx1ZShlLHQpLHRoaXMudXBkYXRlVHlwZUFoZWFkVmFsdWUoZSl9YWZ0ZXJTZXRTdG9yZShlLHQpe2xldCBpLGw9dGhpcztlJiYobC51c2VGaWx0ZXImJihpPWUuZmlsdGVyc3x8W10saS5wdXNoKHtpbmNsdWRlRW1wdHlWYWx1ZXM6ITAsb3BlcmF0b3I6bC5maWx0ZXJPcGVyYXRvcixwcm9wZXJ0eTpsLmRpc3BsYXlGaWVsZCx2YWx1ZTplPy5bbC5kaXNwbGF5RmllbGRdfHxudWxsfSksZS5maWx0ZXJzPWkpLGwubGlzdCYmKGwubGlzdC5zdG9yZT1lKSxlLm9uKFwibG9hZFwiLGwub25TdG9yZUxvYWQsbCkpfWFmdGVyU2V0VHlwZUFoZWFkKGUsdCl7dGhpcy52bm9kZUluaXRpYWxpemVkJiZ0aGlzLnVwZGF0ZVR5cGVBaGVhZCgpfWFmdGVyU2V0VmFsdWUoZSx0KXtsZXQgaT10aGlzO2lmKGkucHJvZ3JhbW1hdGljVmFsdWVDaGFuZ2U9ITAsc3VwZXIuYWZ0ZXJTZXRWYWx1ZShlLHQpLGkucHJvZ3JhbW1hdGljVmFsdWVDaGFuZ2U9ITEsaS5fcGlja2VyPy5pc1Zpc2libGUpe2xldCB0PWkubGlzdD8uc2VsZWN0aW9uTW9kZWw7ZT90Py5zZWxlY3QoZSk6dD8uZGVzZWxlY3RBbGwoKX19YmVmb3JlU2V0TGlzdENvbmZpZyhlLHQpe3JldHVybiBlJiZ0aGlzLnBhcnNlSXRlbUNvbmZpZ3MoZSksZX1iZWZvcmVTZXRTdG9yZShlLGkpe2xldHtkaXNwbGF5RmllbGQ6bCx2YWx1ZUZpZWxkOm99PXRoaXM7cmV0dXJuIWUmJnRoaXMuYmluZD8uc3RvcmU/bnVsbDooaT8uZGVzdHJveSgpLEFycmF5LmlzQXJyYXkoZSkmJihlPXtkYXRhOmUubWFwKChlLHQpPT4oXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXtbbF06ZSxbb106ZX0pLGUpKX0pLFwiT2JqZWN0XCIhPT1OZW8udHlwZU9mKGUpfHxlLm1vZGVsfHxlLm1vZHVsZXx8ZS5udHlwZXx8KGUubW9kZWw9e2ZpZWxkczpbe25hbWU6bCx0eXBlOlwiU3RyaW5nXCJ9LHtuYW1lOm8sdHlwZTpcIlN0cmluZ1wifV19KSx0LmJlZm9yZVNldEluc3RhbmNlKGUsYSkpfWJlZm9yZVNldFRyaWdnZXJBY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5iZWZvcmVTZXRFbnVtVmFsdWUoZSx0LFwidHJpZ2dlckFjdGlvblwiKX1iZWZvcmVTZXRWYWx1ZShlLHQpe2xldCBpLGw9dGhpcyx7ZGlzcGxheUZpZWxkOm8sc3RvcmU6YX09bDtyZXR1cm4gTmVvLmlzUmVjb3JkKGUpP2U6bnVsbD09PWU/bnVsbDphP2EuaXNMb2FkZWQ/KGk9YS5pc0ZpbHRlcmVkKCk/YS5hbGxJdGVtcy5nZXQoZSk6YS5nZXQoZSksaXx8KGEuZmluZChvLGUpWzBdfHxudWxsKSk6KGwucHJlU3RvcmVMb2FkVmFsdWU9ZSxudWxsKTplfWNyZWF0ZVBpY2tlckNvbXBvbmVudCgpe2xldCBlPXRoaXMse3dpbmRvd0lkOnR9PWU7cmV0dXJuIGUubGlzdD1OZW8uY3JlYXRlKHttb2R1bGU6bCxhcHBOYW1lOmUuYXBwTmFtZSxkaXNwbGF5RmllbGQ6ZS5kaXNwbGF5RmllbGQsaXRlbVJvbGU6XCJvcHRpb25cIixpdGVtc0ZvY3VzYWJsZTohMSxrZWVwRm9jdXNJbmRleDohMCxuYXZpZ2F0b3I6e2V2ZW50U291cmNlOmUuZ2V0SW5wdXRFbElkKCksd2luZG93SWQ6dH0scGFyZW50SWQ6ZS5pZCxyb2xlOlwibGlzdGJveFwiLHNlbGVjdGlvbk1vZGVsOntzdGF5SW5MaXN0OiExfSxzdG9yZTplLnN0b3JlLHdpbmRvd0lkOnQsLi4uZS5saXN0Q29uZmlnfSksZS5nZXRJbnB1dEVsKClbXCJhcmlhLWNvbnRyb2xzXCJdPWUubGlzdC5pZCxlLmxpc3QuYWRkRG9tTGlzdGVuZXJzKHtuZW9uYXZpZ2F0ZTp7Zm46ZS5vbkxpc3RJdGVtTmF2aWdhdGUsc2NvcGU6ZX19KSxlLmxpc3Quc2VsZWN0aW9uTW9kZWwub24oe25vQ2hhbmdlOmUub25MaXN0SXRlbVNlbGVjdGlvbk5vQ2hhbmdlLHNlbGVjdGlvbkNoYW5nZTplLm9uTGlzdEl0ZW1TZWxlY3Rpb25DaGFuZ2Usc2NvcGU6ZX0pLGUubGlzdH1kb0ZpbHRlcihlKXtsZXQgdD10aGlzLHtwaWNrZXI6aSxzdG9yZTpsfT10LG89dC52YWx1ZSxhPWwuZ2V0RmlsdGVyKHQuZGlzcGxheUZpZWxkKTtpZihhJiYoYS52YWx1ZT1lKSxsLmdldENvdW50KCkpe3Quc2hvd1BpY2tlcigpO2xldHtsaXN0OmV9PXQse3NlbGVjdGlvbk1vZGVsOml9PWUsYT1sLmluZGV4T2Yobyk7byYmKGkuc3VzcGVuZEV2ZW50cz0hMCxpLnNlbGVjdChvKSxpLnN1c3BlbmRFdmVudHM9ITEpLGUuX2ZvY3VzSW5kZXg9LTEsZS5mb2N1c0luZGV4PWE+LTE/YTowfWVsc2UgaT8uaGlkZSgpfWZpbHRlck9uSW5wdXQoZSl7ZT90aGlzLmRvRmlsdGVyKGUpOnRoaXMucGlja2VyPy5oaWRlKCl9ZmlyZUNoYW5nZUV2ZW50KGUsdCl7bGV0IGw9dGhpcyxvPU5lby5mb3JtPy5Db250YWluZXIsYT17Y29tcG9uZW50Omwsb2xkVmFsdWU6dCx2YWx1ZTplfTtsLmZpcmUoXCJjaGFuZ2VcIixhKSxsLnN1c3BlbmRFdmVudHN8fGkuZ2V0UGFyZW50cyhsKS5mb3JFYWNoKGU9PntvJiZlIGluc3RhbmNlb2YgbyYmZS5maXJlKFwiZmllbGRDaGFuZ2VcIixhKX0pfWdldElucHV0SGludEVsKCl7cmV0dXJuIG4uZmluZCh0aGlzLnZkb20sdGhpcy5nZXRJbnB1dEhpbnRJZCgpKT8udmRvbX1nZXRJbnB1dEhpbnRJZCgpe3JldHVybiB0aGlzLmlkK1wiX19pbnB1dC1oaW50XCJ9Z2V0UmVjb3JkKCl7bGV0e2xpc3Q6ZX09dGhpcyx0PWUuc2VsZWN0aW9uTW9kZWwuZ2V0U2VsZWN0aW9uKClbMF07cmV0dXJuIHQmJnRoaXMuc3RvcmUuZ2V0KGUuZ2V0SXRlbVJlY29yZElkKHQpKXx8bnVsbH1nZXRTdWJtaXRWYWx1ZSgpe2xldCBlPXRoaXM7cmV0dXJuIGUudmFsdWU/LltlLnZhbHVlRmllbGRdfHxlLmVtcHR5VmFsdWV9b25Db25zdHJ1Y3RlZCgpe2NvbnN0IGU9dGhpcy5nZXRJbnB1dEVsKCk7ZVtcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiXT1cIlwiLGVbXCJhcmlhLWV4cGFuZGVkXCJdPSExLGVbXCJhcmlhLWhhc3BvcHVwXCJdPVwibGlzdGJveFwiLHN1cGVyLm9uQ29uc3RydWN0ZWQoLi4uYXJndW1lbnRzKX1vbkZvY3VzTGVhdmUoZSl7bGV0IHQ9dGhpczt0LmZvcmNlU2VsZWN0aW9uJiYhdC52YWx1ZSYmKHQucHJvZ3JhbW1hdGljVmFsdWVDaGFuZ2U9ITAsdC52YWx1ZT10LnN0b3JlLmdldCh0LmFjdGl2ZVJlY29yZElkKSx0LnByb2dyYW1tYXRpY1ZhbHVlQ2hhbmdlPSExKSx0LnVwZGF0ZVR5cGVBaGVhZFZhbHVlKG51bGwpLHN1cGVyLm9uRm9jdXNMZWF2ZShlKX1vbktleURvd25Eb3duKGUpe2xldCB0PXRoaXM7dC5waWNrZXImJiF0LnBpY2tlcj8uaGlkZGVufHx0Lm9uUGlja2VyVHJpZ2dlckNsaWNrKCl9YXN5bmMgb25MaXN0SXRlbVNlbGVjdGlvbkNoYW5nZSh7c2VsZWN0aW9uOmV9KXtpZihlPy5sZW5ndGgpe2xldCB0PXRoaXMsaT1lWzBdLGw9XCJzdHJpbmdcIj09dHlwZW9mIGk/dC5zdG9yZS5nZXQodC5saXN0LmdldEl0ZW1SZWNvcmRJZChpKSk6aTt0LmhpbnRSZWNvcmRJZD1udWxsLHQudXBkYXRlVHlwZUFoZWFkVmFsdWUobnVsbCwhMCksYXdhaXQgdC5oaWRlUGlja2VyKCksdC5wcmV2ZW50RmlsdGVyaW5nPSEwLHQudmFsdWU9bCx0LnByZXZlbnRGaWx0ZXJpbmc9ITEsdC5maXJlKFwic2VsZWN0XCIse3ZhbHVlOmx9KX19b25MaXN0SXRlbVNlbGVjdGlvbk5vQ2hhbmdlKCl7dGhpcy5oaWRlUGlja2VyKCl9b25MaXN0SXRlbU5hdmlnYXRlKGUpe2xldHthY3RpdmVJbmRleDp0fT1lO2lmKHQ+PTApe2xldCBpPXRoaXMse3N0b3JlOmx9PWk7aS5hY3RpdmVSZWNvcmQ9ZS5yZWNvcmR8fGwuZ2V0QXQodCksaS5hY3RpdmVSZWNvcmRJZD1pLmFjdGl2ZVJlY29yZFtsLmdldEtleVByb3BlcnR5KCldLGkudHlwZUFoZWFkP2kudXBkYXRlVHlwZUFoZWFkVmFsdWUoaS5sYXN0TWFudWFsSW5wdXQpOmkudXBkYXRlKCl9fW9uUGlja2VySGlkZGVuQ2hhbmdlKHt2YWx1ZTplfSl7Y29uc3QgdD10aGlzLmdldElucHV0RWwoKTtzdXBlci5vblBpY2tlckhpZGRlbkNoYW5nZSguLi5hcmd1bWVudHMpLGUmJih0W1wiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCJdPVwiXCIpLHRbXCJhcmlhLWV4cGFuZGVkXCJdPSFlLHRoaXMudXBkYXRlKCl9b25TdG9yZUxvYWQoZSl7bGV0IHQ9dGhpcyxpPXQucHJlU3RvcmVMb2FkVmFsdWU7bnVsbCE9PWkmJih0Ll92YWx1ZT12b2lkIDAsdC52YWx1ZT1pKX1zZWxlY3RGaXJzdExpc3RJdGVtKCl7dGhpcy5zZWxlY3RMaXN0SXRlbSgwKX1zZWxlY3RMYXN0TGlzdEl0ZW0oKXt0aGlzLnNlbGVjdExpc3RJdGVtKHRoaXMuc3RvcmUuZ2V0Q291bnQoKS0xKX1zZWxlY3RMaXN0SXRlbShlKXtsZXQgdD10aGlzO05lby5pc051bWJlcihlKXx8KGU9dC5hY3RpdmVSZWNvcmRJZD90LnN0b3JlLmluZGV4T2ZLZXkodC5hY3RpdmVSZWNvcmRJZCk6MCksdC5saXN0LnNlbGVjdEl0ZW0oZSl9dG9nZ2xlUGlja2VyKCl7bGV0IGU9dGhpcyx7cGlja2VyOnR9PWU7ITE9PT10Py5oaWRkZW4/dC5oaWRkZW49ITA6ZS5kaXNhYmxlZHx8ZS5yZWFkT25seXx8ZS5kb0ZpbHRlcihudWxsKX11cGRhdGVJbnB1dFZhbHVlRnJvbVZhbHVlKGUpe2xldCB0PW51bGw7KE5lby5pc09iamVjdChlKXx8TmVvLmlzUmVjb3JkKGUpKSYmKHQ9ZVt0aGlzLmRpc3BsYXlGaWVsZF0pLHRoaXMuaW5wdXRWYWx1ZT10fXVwZGF0ZVR5cGVBaGVhZChlPSExKXtsZXQgdD10aGlzLGk9bi5maW5kKHQudmRvbSx7ZmxhZzpcIm5lby1yZWFsLWlucHV0XCJ9KTt0LnR5cGVBaGVhZD9pLnBhcmVudE5vZGUuY25baS5pbmRleF09e3RhZzpcInNwYW5cIixjbHM6W1wibmVvLWlucHV0LWZpZWxkLXdyYXBwZXJcIl0sY246W3t0YWc6XCJpbnB1dFwiLGF1dG9jb21wbGV0ZTpcIm5vXCIsYXV0b2NvcnJlY3Q6XCJvZmZcIixjbHM6W1wibmVvLXRleHRmaWVsZC1pbnB1dFwiLFwibmVvLXR5cGVhaGVhZC1pbnB1dFwiXSxkaXNhYmxlZDohMCxpZDp0LmdldElucHV0SGludElkKCksc3BlbGxjaGVjazpcImZhbHNlXCJ9LGkudmRvbV19Om4ucmVwbGFjZVZkb21DaGlsZCh0LnZkb20saS5wYXJlbnROb2RlLmlkLGkudmRvbSksIWUmJnQudXBkYXRlKCl9dXBkYXRlVHlwZUFoZWFkVmFsdWUoZT10aGlzLmxhc3RNYW51YWxJbnB1dCx0PSExKXtsZXQgaT10aGlzLGw9ITEsbz1pLmdldElucHV0SGludEVsKCkse2Rpc3BsYXlGaWVsZDphLHN0b3JlOm59PWk7aWYoaS50eXBlQWhlYWQpe2lmKCFpLnZhbHVlJiZlPy5sZW5ndGg+MCl7Y29uc3QgdD1lLnRvTG9jYWxlTG93ZXJDYXNlKCk7Zm9yKGxldCBlPTA7ZTxuLmNvdW50O2UrKyl7Y29uc3QgaT1uLmdldEF0KGUpO2lmKGlbYV0/LnRvTG93ZXJDYXNlPy4oKT8uc3RhcnRzV2l0aCh0KSl7bD1pO2JyZWFrfX1sJiZvJiYoby52YWx1ZT1lK2xbYV0uc3Vic3RyKGUubGVuZ3RoKSxpLmFjdGl2ZVJlY29yZD1sLGkuYWN0aXZlUmVjb3JkSWQ9bFtuLmdldEtleVByb3BlcnR5KCldKX0hbCYmbyYmKG8udmFsdWU9aS5hY3RpdmVSZWNvcmQ9aS5hY3RpdmVSZWNvcmRJZD1udWxsKSwhdCYmaS51cGRhdGUoKX19dXBkYXRlVmFsdWVGcm9tSW5wdXRWYWx1ZShlKXtsZXQgdD10aGlzO3QubGFzdE1hbnVhbElucHV0PWUsdC5wcm9ncmFtbWF0aWNWYWx1ZUNoYW5nZXx8KHQuX3ZhbHVlPW51bGwsdC5saXN0Py5zZWxlY3Rpb25Nb2RlbC5kZXNlbGVjdEFsbCgpLHQuZmlsdGVyT25JbnB1dChlKSl9fSk7IiwiaW1wb3J0IGUgZnJvbVwiLi9Db21ib0JveC5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGV7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmZvcm0uZmllbGQuQ291bnRyeVwiLG50eXBlOlwiY291bnRyeWZpZWxkXCIsemlwQ29kZUZpZWxkXzpudWxsfTthZnRlclNldFppcENvZGVGaWVsZChlLG8pe2UmJmUgaW5zdGFuY2VvZiBOZW8uZm9ybS5maWVsZC5CYXNlJiYoZS5jb3VudHJ5RmllbGQ9dGhpcyl9YmVmb3JlU2V0WmlwQ29kZUZpZWxkKGUsbyl7bGV0IHQ9dGhpcztyZXR1cm4gTmVvLmlzU3RyaW5nKGUpP3QudXAoKS5nZXRSZWZlcmVuY2UoZSk6ZX19KTsiLCJpbXBvcnQgZSBmcm9tXCIuLi8uLi9jb21wb25lbnQvRGF0ZVNlbGVjdG9yLm1qc1wiO2ltcG9ydCB0IGZyb21cIi4vdHJpZ2dlci9EYXRlLm1qc1wiO2ltcG9ydCBhIGZyb21cIi4uLy4uL3V0aWwvRGF0ZS5tanNcIjtpbXBvcnQgciBmcm9tXCIuL1BpY2tlci5tanNcIjtpbXBvcnQgaSBmcm9tXCIuLi8uLi91dGlsL1ZEb20ubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBye3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5mb3JtLmZpZWxkLkRhdGVcIixudHlwZTpcImRhdGVmaWVsZFwiLGJhc2VDbHM6W1wibmVvLWRhdGVmaWVsZFwiLFwibmVvLXBpY2tlcmZpZWxkXCIsXCJuZW8tdGV4dGZpZWxkXCJdLGRhdGVTZWxlY3RvcjpudWxsLGRhdGVTZWxlY3RvckNvbmZpZzpudWxsLGVycm9yVGV4dEludmFsaWREYXRlOlwiTm90IGEgdmFsaWQgZGF0ZVwiLGlzb0RhdGU6ITEsaGlkZVBpY2tlck9uU2VsZWN0OiExLGlucHV0VHlwZTpcImRhdGVcIixtYXhWYWx1ZV86bnVsbCxtaW5WYWx1ZV86bnVsbCxwaWNrZXJIZWlnaHQ6MjI1LHBpY2tlck1heEhlaWdodDoyMjUscGlja2VyV2lkdGg6MjAwLHRyaWdnZXJzOlt7bW9kdWxlOnR9XX07aW52YWxpZElucHV0PSExO3N1Ym1pdERhdGVPYmplY3Q9ITE7Y29uc3RydWN0KHQpe3N1cGVyLmNvbnN0cnVjdCh0KTtsZXQgcj10aGlzO3IuZGF0ZVNlbGVjdG9yPU5lby5jcmVhdGUoe21vZHVsZTplLGRheU5hbWVGb3JtYXQ6XCJzaG9ydFwiLG1heFZhbHVlOnIubWF4VmFsdWUsbWluVmFsdWU6ci5taW5WYWx1ZSx2YWx1ZTpyLnZhbHVlfHxhLmNvbnZlcnRUb3l5eXltbWRkKG5ldyBEYXRlKSwuLi5yLmRhdGVTZWxlY3RvckNvbmZpZ30pLHIuZGF0ZVNlbGVjdG9yLmtleXMuX2tleXMucHVzaCh7Zm46XCJvbkNvbnRhaW5lcktleURvd25Fc2NhcGVcIixrZXk6XCJFc2NhcGVcIixzY29wZTpyLmlkfSksci5kYXRlU2VsZWN0b3Iub24oe2NoYW5nZTpyLm9uRGF0ZVBpY2tlckNoYW5nZSxzY29wZTpyfSl9YWZ0ZXJTZXRNYXhWYWx1ZShlLHQpe2xldCBhPXRoaXM7YS5jaGFuZ2VJbnB1dEVsS2V5KFwibWF4XCIsZSksYS5kYXRlU2VsZWN0b3ImJihhLmRhdGVTZWxlY3Rvci5tYXhWYWx1ZT1lKX1hZnRlclNldE1pblZhbHVlKGUsdCl7bGV0IGE9dGhpczthLmNoYW5nZUlucHV0RWxLZXkoXCJtaW5cIixlKSxhLmRhdGVTZWxlY3RvciYmKGEuZGF0ZVNlbGVjdG9yLm1pblZhbHVlPWUpfWFmdGVyU2V0VmFsdWUoZSx0KXtzdXBlci5hZnRlclNldFZhbHVlKGUsdCksdm9pZCAwIT09dCYmKHRoaXMuZGF0ZVNlbGVjdG9yLnZhbHVlPWUpfWJlZm9yZVNldFZhbHVlKGUsdCl7cmV0dXJuXCJEYXRlXCI9PT1OZW8udHlwZU9mKGUpJiYoZT1hLmNvbnZlcnRUb3l5eXltbWRkKGUpLHRoaXMub3JpZ2luYWxDb25maWcudmFsdWU9ZSksZT1zdXBlci5iZWZvcmVTZXRWYWx1ZShlLHQpLHRoaXMuaXNvRGF0ZSYmZT9lLnN1YnN0cmluZygwLDEwKTplfWNyZWF0ZVBpY2tlckNvbXBvbmVudCgpe3JldHVybiB0aGlzLmRhdGVTZWxlY3Rvcn1nZXRTdWJtaXRWYWx1ZSgpe2xldCBlPXRoaXMudmFsdWU7cmV0dXJuIHRoaXMuc3VibWl0RGF0ZU9iamVjdCYmZT9uZXcgRGF0ZShgJHtlfVQxMjowMDowMC4wMDBaYCk6dGhpcy5pc29EYXRlJiZlP25ldyBEYXRlKGUpLnRvSVNPU3RyaW5nKCk6ZX1oYXNDb250ZW50KCl7cmV0dXJuXCJpbmxpbmVcIj09PXRoaXMubGFiZWxQb3NpdGlvbnx8c3VwZXIuaGFzQ29udGVudCgpfW9uQ29udGFpbmVyS2V5RG93bkVzY2FwZShlKXtsZXQgdD10aGlzO3QuaGlkZVBpY2tlcigpLHQuZm9jdXModC5nZXRJbnB1dEVsSWQoKSl9b25EYXRlUGlja2VyQ2hhbmdlKGUpe2xldCB0PXRoaXM7dC5jbGVhbj0hMSx0LmhpZGVQaWNrZXJPblNlbGVjdD8oaS5yZW1vdmVWZG9tQ2hpbGQodC52ZG9tLHQuZ2V0UGlja2VySWQoKSksdC5wcm9taXNlVXBkYXRlKCkudGhlbihhPT57dC52YWx1ZT1lLnZhbHVlfSkpOnQudmFsdWU9ZS52YWx1ZX1vbklucHV0VmFsdWVDaGFuZ2UoZSl7dGhpcy5pbnZhbGlkSW5wdXQ9IWUudmFsaWQsZS52YWxpZD9zdXBlci5vbklucHV0VmFsdWVDaGFuZ2UoZSk6dGhpcy52YWxpZGF0ZSghMSl9b25LZXlEb3duRW50ZXIoZSl7bGV0IHQ9dGhpczt0LnBpY2tlcklzTW91bnRlZD8odC5kYXRlU2VsZWN0b3IuZm9jdXNDdXJyZW50SXRlbSgpLHN1cGVyLm9uS2V5RG93bkVudGVyKGUpKTpzdXBlci5vbktleURvd25FbnRlcihlLHQuZGF0ZVNlbGVjdG9yLmZvY3VzQ3VycmVudEl0ZW0sdC5kYXRlU2VsZWN0b3IpfXRvSlNPTigpe2xldCBlPXRoaXM7cmV0dXJuey4uLnN1cGVyLnRvSlNPTigpLGRhdGVTZWxlY3RvcjplLmRhdGVTZWxlY3Rvcj8udG9KU09OKCksZGF0ZVNlbGVjdG9yQ29uZmlnOmUuc2VyaWFsaXplQ29uZmlnKGUuZGF0ZVNlbGVjdG9yQ29uZmlnKSxoaWRlUGlja2VyT25TZWxlY3Q6ZS5oaWRlUGlja2VyT25TZWxlY3QsaXNvRGF0ZTplLmlzb0RhdGUsbWF4VmFsdWU6ZS5tYXhWYWx1ZSxtaW5WYWx1ZTplLm1pblZhbHVlLHN1Ym1pdERhdGVPYmplY3Q6ZS5zdWJtaXREYXRlT2JqZWN0fX12YWxpZGF0ZShlPSEwKXtsZXQgdD10aGlzLGE9c3VwZXIudmFsaWRhdGUoZSk7cmV0dXJuIGEmJnQuaW52YWxpZElucHV0JiYodC5fZXJyb3I9dC5lcnJvclRleHRJbnZhbGlkRGF0ZSxhPSExKSwhYSYmIXQuY2xlYW4mJnQudXBkYXRlRXJyb3IodC5fZXJyb3IsZSksYX19KTsiLCJpbXBvcnQgZSBmcm9tXCIuL3RyaWdnZXIvU3BpbkRvd24ubWpzXCI7aW1wb3J0IHQgZnJvbVwiLi90cmlnZ2VyL1NwaW5VcC5tanNcIjtpbXBvcnQgaSBmcm9tXCIuL3RyaWdnZXIvU3BpblVwRG93bi5tanNcIjtpbXBvcnQgciBmcm9tXCIuL1RleHQubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBye3N0YXRpYyB0cmlnZ2VyUG9zaXRpb25zPVtcInJpZ2h0XCIsXCJzaWRlc1wiXTtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uZm9ybS5maWVsZC5OdW1iZXJcIixudHlwZTpcIm51bWJlcmZpZWxkXCIsYmFzZUNsczpbXCJuZW8tbnVtYmVyZmllbGRcIixcIm5lby10ZXh0ZmllbGRcIl0sZGlzYWJsZWRDaGFyczpbXCJlXCIsXCJFXCJdLGVycm9yVGV4dE1heFZhbHVlOmU9PmBNYXggdmFsdWUgdmlvbGF0aW9uOiAke2UudmFsdWV9IC8gJHtlLm1heFZhbHVlfWAsZXJyb3JUZXh0TWluVmFsdWU6ZT0+YE1pbiB2YWx1ZSB2aW9sYXRpb246ICR7ZS52YWx1ZX0gLyAke2UubWluVmFsdWV9YCxlcnJvclRleHRTdGVwU2l6ZTplPT5gc3RlcC1zaXplIHZpb2xhdGlvbjogJHtlLnZhbHVlfSAvICR7ZS5zdGVwU2l6ZX1gLGV4Y2x1ZGVkVmFsdWVzOm51bGwsaW5wdXRFZGl0YWJsZV86ITAsaW5wdXRUeXBlOlwibnVtYmVyXCIsbWF4VmFsdWVfOjEwMCxtaW5WYWx1ZV86MCxzdGVwU2l6ZV86MSx0cmlnZ2VyUG9zaXRpb25fOlwicmlnaHRcIix1c2VTcGluQnV0dG9uc186ITB9O3N0ZXBTaXplRGlnaXRzPW51bGw7YWZ0ZXJTZXRJbnB1dEVkaXRhYmxlKGUsdCl7bGV0IGk9dGhpcy5nZXRJbnB1dEVsKCkuc3R5bGV8fHt9O2U/ZGVsZXRlIGkucG9pbnRlckV2ZW50czppLnBvaW50ZXJFdmVudHM9XCJub25lXCIsdGhpcy51cGRhdGUoKX1hZnRlclNldE1heFZhbHVlKGUsdCl7dGhpcy52YWxpZGF0ZSgpLHRoaXMuY2hhbmdlSW5wdXRFbEtleShcIm1heFwiLGUpfWFmdGVyU2V0TWluVmFsdWUoZSx0KXt0aGlzLnZhbGlkYXRlKCksdGhpcy5jaGFuZ2VJbnB1dEVsS2V5KFwibWluXCIsZSl9YWZ0ZXJTZXRTdGVwU2l6ZShlLHQpe2xldCBpLHIsdT10aGlzLHM9dS52YWx1ZTt1LmNoYW5nZUlucHV0RWxLZXkoXCJzdGVwXCIsZSkscj1TdHJpbmcoZSksdS5zdGVwU2l6ZURpZ2l0cz1yLmluY2x1ZGVzKFwiLlwiKT9yLnNwbGl0KFwiLlwiKVsxXS5sZW5ndGg6MCxudWxsIT09cyYmKGk9KHMtdS5taW5WYWx1ZSklZSwwIT09aSYmKGkvZT4uNT9zK2UtaTx1Lm1heFZhbHVlP3UudmFsdWU9cytlLWk6cy1pPnUubWluVmFsdWUmJih1LnZhbHVlPXMtaSk6cy1pPnUubWluVmFsdWU/dS52YWx1ZT1zLWk6cytlLWk8dS5tYXhWYWx1ZSYmKHUudmFsdWU9cytlLWkpKSl9YWZ0ZXJTZXRUcmlnZ2VyUG9zaXRpb24oZSx0KXt0JiZ0aGlzLnVwZGF0ZVRyaWdnZXJzKCl9YWZ0ZXJTZXRVc2VTcGluQnV0dG9ucyhlLHQpe05lby5pc0Jvb2xlYW4odCkmJnRoaXMudXBkYXRlVHJpZ2dlcnMoKX1iZWZvcmVTZXRNYXhMZW5ndGgoZSx0KXtyZXR1cm4gbnVsbCE9PWUmJmNvbnNvbGUud2FybihcImlucHV0IHR5cGUgbnVtYmVyIGRvZXMgbm90IHN1cHBvcnQgbWF4TGVuZ3RoLiB1c2UgbWF4VmFsdWUgaW5zdGVhZC5cIix0aGlzKSxudWxsfWJlZm9yZVNldE1pbkxlbmd0aChlLHQpe3JldHVybiBudWxsIT09ZSYmY29uc29sZS53YXJuKFwiaW5wdXQgdHlwZSBudW1iZXIgZG9lcyBub3Qgc3VwcG9ydCBtaW5MZW5ndGguIHVzZSBtaW5WYWx1ZSBpbnN0ZWFkLlwiLHRoaXMpLG51bGx9YmVmb3JlU2V0VHJpZ2dlclBvc2l0aW9uKGUsdCl7cmV0dXJuIHRoaXMuYmVmb3JlU2V0RW51bVZhbHVlKGUsdCxcInRyaWdnZXJQb3NpdGlvblwiKX1iZWZvcmVTZXRWYWx1ZShlLHQpe3JldHVybiBudWxsPT09ZXx8XCJcIj09PWU/bnVsbDooTmVvLmlzTnVtYmVyKGUpfHwoZT0rZSksdGhpcy5zdGVwU2l6ZURpZ2l0cz4wJiYoZT0rZS50b0ZpeGVkKHRoaXMuc3RlcFNpemVEaWdpdHMpKSxlKX1maXRzU3RlcFNpemUoZSl7cmV0dXJuIG51bGw9PT1lfHxwYXJzZUludChlLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIixcIlwiKSkqKDEvdGhpcy5zdGVwU2l6ZSklMT09MH1pc1ZhbGlkKCl7bGV0e21heFZhbHVlOmUsbWluVmFsdWU6dCx2YWx1ZTppfT10aGlzLHI9TmVvLmlzTnVtYmVyKGkpO3JldHVybiEoTmVvLmlzTnVtYmVyKGUpJiZyJiZpPmUpJiYoIShOZW8uaXNOdW1iZXIodCkmJnImJmk8dCkmJighIXRoaXMuZml0c1N0ZXBTaXplKGkpJiZzdXBlci5pc1ZhbGlkKCkpKX1vbkNvbnN0cnVjdGVkKCl7dGhpcy51cGRhdGVUcmlnZ2VycygpLHN1cGVyLm9uQ29uc3RydWN0ZWQoKX1vbkZvY3VzTGVhdmUoZSl7bGV0IHQ9dGhpcyx7dmFsdWU6aX09dDtudWxsIT09aSYmKGk9dC5zdGVwU2l6ZURpZ2l0cz4wP3BhcnNlRmxvYXQoaSk6cGFyc2VJbnQoaSksaT1NYXRoLm1heCh0Lm1pblZhbHVlLGkpLGk9TWF0aC5taW4odC5tYXhWYWx1ZSxpKSx0LnZhbHVlIT09aT90LnZhbHVlPWk6dC5nZXRJbnB1dEVsKCkudmFsdWU9dC5pbnB1dFZhbHVlUmVuZGVyZXIoaSkpLHN1cGVyLm9uRm9jdXNMZWF2ZShlKX1vblNwaW5CdXR0b25Eb3duQ2xpY2soKXtsZXQgZT10aGlzLHtzdGVwU2l6ZTp0fT1lLGk9TmVvLmlzTnVtYmVyKGUudmFsdWUpP2UudmFsdWU6ZS5taW5WYWx1ZSxyPWktdDxlLm1pblZhbHVlP2UubWF4VmFsdWU6aS10O2lmKGUuZXhjbHVkZWRWYWx1ZXMpZm9yKDtlLmV4Y2x1ZGVkVmFsdWVzLmluY2x1ZGVzKHIpOylyPU1hdGgubWF4KGUubWluVmFsdWUsci10KTtpIT09ciYmKGUudmFsdWU9cil9b25TcGluQnV0dG9uVXBDbGljaygpe2xldCBlPXRoaXMse3N0ZXBTaXplOnR9PWUsaT1OZW8uaXNOdW1iZXIoZS52YWx1ZSk/ZS52YWx1ZTplLm1heFZhbHVlLHI9aSt0PmUubWF4VmFsdWU/ZS5taW5WYWx1ZTppK3Q7aWYoZS5leGNsdWRlZFZhbHVlcylmb3IoO2UuZXhjbHVkZWRWYWx1ZXMuaW5jbHVkZXMocik7KXI9TWF0aC5taW4oZS5tYXhWYWx1ZSxyK3QpO2khPT1yJiYoZS52YWx1ZT1yKX11cGRhdGVUcmlnZ2Vycygpe2xldCByPXRoaXMsdT1yLnRyaWdnZXJzfHxbXTtyLnVzZVNwaW5CdXR0b25zP1wicmlnaHRcIj09PXIudHJpZ2dlclBvc2l0aW9uPyhyLmhhc1RyaWdnZXIoXCJzcGludXBkb3duXCIpfHx1LnB1c2goaSksci5yZW1vdmVUcmlnZ2VyKFwic3BpbmRvd25cIiwhMCx1KSxyLnJlbW92ZVRyaWdnZXIoXCJzcGludXBcIiwhMCx1KSk6KHIuaGFzVHJpZ2dlcihcInNwaW5kb3duXCIpfHx1LnB1c2goZSksci5oYXNUcmlnZ2VyKFwic3BpbnVwXCIpfHx1LnB1c2godCksci5yZW1vdmVUcmlnZ2VyKFwic3BpbnVwZG93blwiLCEwLHUpKTooci5yZW1vdmVUcmlnZ2VyKFwic3BpbmRvd25cIiwhMCx1KSxyLnJlbW92ZVRyaWdnZXIoXCJzcGludXBcIiwhMCx1KSxyLnJlbW92ZVRyaWdnZXIoXCJzcGludXBkb3duXCIsITAsdSkpLHIudHJpZ2dlcnM9dX12YWxpZGF0ZShlPSEwKXtsZXQgdD10aGlzLHttYXhWYWx1ZTppLG1pblZhbHVlOnIsc3RlcFNpemU6dSx2YWx1ZTpzfT10LGE9TmVvLmlzTnVtYmVyKHMpLG49c3VwZXIudmFsaWRhdGUoZSksbD17bWF4VmFsdWU6aSxtaW5WYWx1ZTpyLHN0ZXBTaXplOnUsdmFsdWU6c307cmV0dXJuIG4mJihOZW8uaXNOdW1iZXIoaSkmJmEmJnM+aT8odC5fZXJyb3I9dC5lcnJvclRleHRNYXhWYWx1ZShsKSxuPSExKTpOZW8uaXNOdW1iZXIocikmJmEmJnM8cj8odC5fZXJyb3I9dC5lcnJvclRleHRNaW5WYWx1ZShsKSxuPSExKTp0LmZpdHNTdGVwU2l6ZShzKXx8KHQuX2Vycm9yPXQuZXJyb3JUZXh0U3RlcFNpemUobCksbj0hMSkpLCFuJiYhdC5jbGVhbiYmdC51cGRhdGVFcnJvcih0Ll9lcnJvcixlKSxufXRvSlNPTigpe2xldCBlPXRoaXM7cmV0dXJuey4uLnN1cGVyLnRvSlNPTigpLG1heFZhbHVlOmUubWF4VmFsdWUsbWluVmFsdWU6ZS5taW5WYWx1ZSxzdGVwU2l6ZTplLnN0ZXBTaXplLHVzZVNwaW5CdXR0b25zOmUudXNlU3BpbkJ1dHRvbnN9fX0pOyIsImltcG9ydCBlIGZyb21cIi4vUGlja2VyLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgZXtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uZm9ybS5maWVsZC50cmlnZ2VyLkRhdGVcIixudHlwZTpcInRyaWdnZXItZGF0ZVwiLGljb25DbHM6XCJmYSBmYS1jYWxlbmRhci1hbHRcIn19KTsiLCJpbXBvcnQgZSBmcm9tXCIuL0Jhc2UubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBle3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5mb3JtLmZpZWxkLnRyaWdnZXIuU3BpbkRvd25cIixudHlwZTpcInRyaWdnZXItc3BpbmRvd25cIixhbGlnbjpcInN0YXJ0XCIsaWNvbkNsczpcImZhIGZhLWNoZXZyb24tbGVmdFwiLHR5cGU6XCJzcGluZG93blwifTtvblRyaWdnZXJDbGljayhlKXt0aGlzLmZpZWxkLm9uU3BpbkJ1dHRvbkRvd25DbGljaygpfX0pOyIsImltcG9ydCBlIGZyb21cIi4vQmFzZS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGV7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmZvcm0uZmllbGQudHJpZ2dlci5TcGluVXBcIixudHlwZTpcInRyaWdnZXItc3BpbnVwXCIsaWNvbkNsczpcImZhIGZhLWNoZXZyb24tcmlnaHRcIix0eXBlOlwic3BpbnVwXCJ9O29uVHJpZ2dlckNsaWNrKGUpe3RoaXMuZmllbGQub25TcGluQnV0dG9uVXBDbGljaygpfX0pOyIsImltcG9ydCBuIGZyb21cIi4vQmFzZS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIG57c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmZvcm0uZmllbGQudHJpZ2dlci5TcGluVXBEb3duXCIsbnR5cGU6XCJ0cmlnZ2VyLXNwaW51cGRvd25cIixiYXNlQ2xzOltcIm5lby1maWVsZC10cmlnZ2VyXCIsXCJuZW8tc3Bpbi1idXR0b25zXCJdLHNwaW5CdXR0b25Eb3duSWNvbkNsczpcImZhIGZhLWNoZXZyb24tZG93blwiLHNwaW5CdXR0b25VcEljb25DbHM6XCJmYSBmYS1jaGV2cm9uLXVwXCIsdHlwZTpcInNwaW51cGRvd25cIn07b25Db25zdHJ1Y3RlZCgpe2xldCBuPXRoaXM7bi52ZG9tLmNuPVt7Y2xzOltcIm5lby1zcGluLWJ1dHRvblwiLFwibmVvLXVwXCIsLi4ubi5zcGluQnV0dG9uVXBJY29uQ2xzLnNwbGl0KFwiIFwiKV19LHtjbHM6W1wibmVvLXNwaW4tYnV0dG9uXCIsXCJuZW8tZG93blwiLC4uLm4uc3BpbkJ1dHRvbkRvd25JY29uQ2xzLnNwbGl0KFwiIFwiKV19XSxuLnVwZGF0ZSgpLHN1cGVyLm9uQ29uc3RydWN0ZWQoKX1vblRyaWdnZXJDbGljayhuKXtsZXQgbz10aGlzLHQ9bi5wYXRoWzBdLmNscy5qb2luKFwiIFwiKTt0LmluY2x1ZGVzKFwibmVvLWRvd25cIik/by5maWVsZC5vblNwaW5CdXR0b25Eb3duQ2xpY2soKTp0LmluY2x1ZGVzKFwibmVvLXVwXCIpJiZvLmZpZWxkLm9uU3BpbkJ1dHRvblVwQ2xpY2soKX10b0pTT04oKXtyZXR1cm57Li4uc3VwZXIudG9KU09OKCksc3BpbkJ1dHRvbkRvd25JY29uQ2xzOnRoaXMuc3BpbkJ1dHRvbkRvd25JY29uQ2xzLHNwaW5CdXR0b25VcEljb25DbHM6dGhpcy5zcGluQnV0dG9uVXBJY29uQ2xzfX19KTsiLCJpbXBvcnQgZSBmcm9tXCIuLi91dGlsL0NsYXNzU3lzdGVtLm1qc1wiO2ltcG9ydCB0IGZyb21cIi4uL2NvbXBvbmVudC9CYXNlLm1qc1wiO2ltcG9ydCBzIGZyb21cIi4uL3NlbGVjdGlvbi9MaXN0TW9kZWwubWpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vdXRpbC9BcnJheS5tanNcIjtpbXBvcnQgaSBmcm9tXCIuLi9kYXRhL1N0b3JlLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgdHtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8ubGlzdC5CYXNlXCIsbnR5cGU6XCJsaXN0XCIsYW5pbWF0ZV86ITEsYXV0b0Rlc3Ryb3lTdG9yZTohMCxiYXNlQ2xzOltcIm5lby1saXN0XCJdLGRpc2FibGVkRmllbGQ6XCJkaXNhYmxlZFwiLGRpc2FibGVTZWxlY3Rpb25fOiExLGRpc3BsYXlGaWVsZDpcIm5hbWVcIixkcmFnZ2FibGVfOiExLGRyYWdab25lOm51bGwsZHJhZ1pvbmVDb25maWc6bnVsbCxmb2N1c0luZGV4XzpudWxsLGhlYWRlcmxlc3NTZWxlY3RlZEluZGV4XzpudWxsLGhpZ2hsaWdodEZpbHRlclZhbHVlOiEwLGl0ZW1DbHM6XCJuZW8tbGlzdC1pdGVtXCIsaXRlbUhlaWdodF86bnVsbCxpdGVtVGFnTmFtZTpcImxpXCIsaXRlbVdpZHRoXzpudWxsLGl0ZW1zRm9jdXNhYmxlOiEwLGtlZXBGb2N1c0luZGV4OiExLGtleXM6e30scGx1Z2luQW5pbWF0ZUNvbmZpZzpudWxsLHNlbGVjdGVkSW5kZXhfOm51bGwsc2VsZWN0aW9uTW9kZWxfOm51bGwsc2VsZWN0T25Gb2N1czohMSxzaWxlbnRTZWxlY3Q6ITEsc3RvcmVfOm51bGwsdXNlQ2hlY2tCb3hlc186ITEsdXNlSGVhZGVyc186ITEsdXNlV3JhcHBlck5vZGVfOiExLF92ZG9tOnt0YWc6XCJ1bFwiLGNuOltdfX07aXRlbVJvbGU9bnVsbDtuYXZpZ2F0b3I9e307c2Nyb2xsSW50b1ZpZXdPbkZvY3VzPSEwO2NvbnN0cnVjdChlKXtzdXBlci5jb25zdHJ1Y3QoZSk7bGV0IHQ9dGhpczt0LnVzZUhlYWRlcnMmJih0LnNjcm9sbEludG9WaWV3T25Gb2N1cz0hMSksdC5hZGREb21MaXN0ZW5lcnMoe2NsaWNrOnQub25DbGljayxzY29wZTp0fSl9YWZ0ZXJTZXRBbmltYXRlKGUsdCl7ZSYmIXRoaXMuZ2V0UGx1Z2luKFwibGlzdC1hbmltYXRlXCIpJiZpbXBvcnQoXCIuL3BsdWdpbi9BbmltYXRlLm1qc1wiKS50aGVuKGU9PntsZXQgdD10aGlzLHM9dC5wbHVnaW5zfHxbXTtzLnB1c2goe21vZHVsZTplLmRlZmF1bHQsLi4udC5wbHVnaW5BbmltYXRlQ29uZmlnfSksdC5wbHVnaW5zPXN9KX1hZnRlclNldERpc2FibGVTZWxlY3Rpb24oZSx0KXtlJiZ0aGlzLnZub2RlSW5pdGlhbGl6ZWQmJnRoaXMuc2VsZWN0aW9uTW9kZWw/LmRlc2VsZWN0QWxsKCl9YWZ0ZXJTZXREcmFnZ2FibGUoZSx0KXtsZXQgcz10aGlzO2UmJiFzLmRyYWdab25lJiZpbXBvcnQoXCIuLi9kcmFnZ2FibGUvbGlzdC9EcmFnWm9uZS5tanNcIikudGhlbihlPT57cy5kcmFnWm9uZT1OZW8uY3JlYXRlKHttb2R1bGU6ZS5kZWZhdWx0LGFwcE5hbWU6cy5hcHBOYW1lLG93bmVyOnMsd2luZG93SWQ6cy53aW5kb3dJZCwuLi5zLmRyYWdab25lQ29uZmlnfSl9KX1hZnRlclNldEZvY3VzSW5kZXgoZSx0KXtudWxsIT09ZSYmdGhpcy51cGRhdGVJdGVtRm9jdXMoZSl9YWZ0ZXJTZXRIZWFkZXJsZXNzU2VsZWN0ZWRJbmRleChlLHQpe2xldCBzPXRoaXM7TmVvLmlzTnVtYmVyKGUpP3Muc2VsZWN0ZWRJbmRleD1zLnN0b3JlLmdldENvdW50KCk/cy5nZXRTZWxlY3RlZEluZGV4KGUpOm51bGw6TmVvLmlzTnVtYmVyKHQpJiYocy5zZWxlY3RlZEluZGV4PW51bGwpfWFmdGVyU2V0TW91bnRlZChlLHQpe2xldCBzPXRoaXM7IWUmJnMuaGFzTmF2aWdhdG9yJiYoTmVvLm1haW4uYWRkb24uTmF2aWdhdG9yLnVuc3Vic2NyaWJlKHMubmF2aWdhdG9yKSxzLmhhc05hdmlnYXRvcj0hMSxzLnNlbGVjdGVkSW5kZXg9bnVsbCksZSYmKHMuaGFzTmF2aWdhdG9yfHwocy5uYXZpZ2F0b3I9TmVvLm1lcmdlKHthcHBOYW1lOnMuYXBwTmFtZSxhdXRvQ2xpY2s6cy5zZWxlY3RPbkZvY3VzLGlkOnMuaWQsa2VlcEZvY3VzSW5kZXg6cy5rZWVwRm9jdXNJbmRleCxzZWxlY3RvcjpgLiR7cy5pdGVtQ2xzfTpub3QoLm5lby1kaXNhYmxlZCwubmVvLWxpc3QtaGVhZGVyKWAsd2luZG93SWQ6cy53aW5kb3dJZH0scy5uYXZpZ2F0b3IpLHMuaGFzTmF2aWdhdG9yPSEwKSxOZW8ubWFpbi5hZGRvbi5OYXZpZ2F0b3Iuc3Vic2NyaWJlKHMubmF2aWdhdG9yKSksc3VwZXIuYWZ0ZXJTZXRNb3VudGVkKGUsdCl9YWZ0ZXJTZXRTZWxlY3RlZEluZGV4KGUsdCl7bGV0IHM9dGhpcyx7c2VsZWN0aW9uTW9kZWw6b309cztOZW8uaXNOdW1iZXIoZSk/KG8/LnNlbGVjdEF0KGUpLHMuaGVhZGVybGVzc1NlbGVjdGVkSW5kZXg9cy5nZXRIZWFkZXJsZXNzSW5kZXgoZSkpOk5lby5pc051bWJlcih0KSYmKG8uZGVzZWxlY3RBbGwoKSxzLmhlYWRlcmxlc3NTZWxlY3RlZEluZGV4PW51bGwpfWFmdGVyU2V0U2VsZWN0aW9uTW9kZWwoZSx0KXt0aGlzLnZub2RlSW5pdGlhbGl6ZWQmJmUucmVnaXN0ZXIodGhpcyl9YWZ0ZXJTZXRTdG9yZShlLHQpe2U/Lm9uKHtmaWx0ZXI6XCJvblN0b3JlRmlsdGVyXCIsbG9hZDpcIm9uU3RvcmVMb2FkXCIscmVjb3JkQ2hhbmdlOlwib25TdG9yZVJlY29yZENoYW5nZVwiLHNvcnQ6XCJvblN0b3JlU29ydFwiLHNjb3BlOnRoaXN9KSxlPy5nZXRDb3VudCgpPjAmJnRoaXMub25TdG9yZUxvYWQoKX1hZnRlclNldFVzZUNoZWNrQm94ZXMoZSx0KXtsZXR7Y2xzOnN9PXRoaXM7by50b2dnbGUocyxcIm5lby11c2UtY2hlY2tpY29uc1wiLCEhZSksdGhpcy5jbHM9c31hZnRlclNldFVzZUhlYWRlcnMoZSx0KXtpZihlKXtsZXQgZT10aGlzO2UudmRvbS50YWc9XCJkbFwiLGUuaXRlbVRhZ05hbWU9XCJkZFwifX1hZnRlclNldFVzZVdyYXBwZXJOb2RlKGUsdCl7bGV0IHM9dGhpcyx7Y2xzOmksd3JhcHBlckNsczpyfT1zO29bZT9cImFkZFwiOlwicmVtb3ZlXCJdKGksXCJuZW8tdXNlLXdyYXBwZXItbm9kZVwiKSxvW2U/XCJhZGRcIjpcInJlbW92ZVwiXShyLFwibmVvLWxpc3Qtd3JhcHBlclwiKSxzLndyYXBwZXJDbHM9cixzLmNscz1pfWFmdGVyU2V0V2luZG93SWQoZSx0KXtzdXBlci5hZnRlclNldFdpbmRvd0lkKGUsdCk7bGV0e25hdmlnYXRvcjpzfT10aGlzO2UmJnMmJihzLndpbmRvd0lkPWUpfWJlZm9yZVNldFNlbGVjdGlvbk1vZGVsKHQsbyl7cmV0dXJuIG8/LmRlc3Ryb3koKSxlLmJlZm9yZVNldEluc3RhbmNlKHQscyl9YmVmb3JlU2V0U3RvcmUodCxzKXtyZXR1cm4gcz8uZGVzdHJveSgpLGUuYmVmb3JlU2V0SW5zdGFuY2UodCxpKX1jcmVhdGVJdGVtKGUsdCl7bGV0IHMsaSxyPXRoaXMsbD1bci5pdGVtQ2xzXSxuPW51bGwhPT1yLml0ZW1IZWlnaHQsYT1udWxsIT09ci5pdGVtV2lkdGgsZD1yLnVzZUhlYWRlcnMmJmUuaXNIZWFkZXIsYz1yLmNyZWF0ZUl0ZW1Db250ZW50KGUsdCksdT1yLmdldEl0ZW1JZChlW3IuZ2V0S2V5UHJvcGVydHkoKV0pLHtzZWxlY3Rpb25Nb2RlbDptfT1yLGg9IXIuZGlzYWJsZVNlbGVjdGlvbiYmbT8uaXNTZWxlY3RlZCh1KTtzd2l0Y2goZCYmbC5wdXNoKFwibmVvLWxpc3QtaGVhZGVyXCIpLGgmJmwucHVzaChtLnNlbGVjdGVkQ2xzKSxlLmNscyYmby5hZGQobCxlLmNscyksZVtyLmRpc2FibGVkRmllbGRdJiZsLnB1c2goXCJuZW8tZGlzYWJsZWRcIikscz17aWQ6dSx0YWc6ZD9cImR0XCI6ci5pdGVtVGFnTmFtZSxcImFyaWEtc2VsZWN0ZWRcIjpoLGNsczpsfSxyLml0ZW1zRm9jdXNhYmxlJiYocy50YWJJbmRleD0tMSksKGUuaGlkZGVufHxjLnJlbW92ZURvbSkmJihzLnJlbW92ZURvbT0hMCksci5pdGVtUm9sZSYmKHMucm9sZT1yLml0ZW1Sb2xlKSxOZW8udHlwZU9mKGMpKXtjYXNlIG51bGw6cmV0dXJuIG51bGw7Y2FzZVwiQXJyYXlcIjpzLmNuPWMsaT0hMCxjLmZvckVhY2goZT0+e2UucmVtb3ZlRG9tfHwoaT0hMSl9KSxpJiYocy5yZW1vdmVEb209ITApO2JyZWFrO2Nhc2VcIk9iamVjdFwiOmMuY2xzJiYoby5hZGQocy5jbHMsYy5jbHMpLGRlbGV0ZSBjLmNscyksT2JqZWN0LmFzc2lnbihzLGMpO2JyZWFrO2Nhc2VcIk51bWJlclwiOmNhc2VcIlN0cmluZ1wiOnMuaHRtbD1jfXJldHVybihufHxhKSYmKHMuc3R5bGU9cy5zdHlsZXx8e30sbiYmIXMuaGFzT3duUHJvcGVydHkoXCJoZWlnaHRcIikmJihzLnN0eWxlLmhlaWdodD1gJHtyLml0ZW1IZWlnaHR9cHhgKSxhJiYhcy5oYXNPd25Qcm9wZXJ0eShcIndpZHRoXCIpJiYocy5zdHlsZS53aWR0aD1gJHtyLml0ZW1XaWR0aH1weGApKSxzfWNyZWF0ZUl0ZW1Db250ZW50KGUsdCl7bGV0IHMsbz10aGlzLGk9ZVtvLmRpc3BsYXlGaWVsZF07cmV0dXJuIG8uaGlnaGxpZ2h0RmlsdGVyVmFsdWUmJihzPW8uc3RvcmUuZ2V0RmlsdGVyKG8uZGlzcGxheUZpZWxkKSxzJiZudWxsIT09cy52YWx1ZSYmXCJcIiE9PXMudmFsdWUmJihpPWkucmVwbGFjZShuZXcgUmVnRXhwKHMudmFsdWUsXCJnaVwiKSxmdW5jdGlvbihlKXtyZXR1cm4nPHNwYW4gY2xhc3M9XCJuZW8taGlnaGxpZ2h0LXNlYXJjaFwiPicrZStcIjwvc3Bhbj5cIn0pKSksaX1jcmVhdGVJdGVtcyhlPSExKXtsZXQgdCxzPXRoaXMse2hlYWRlcmxlc3NTZWxlY3RlZEluZGV4Om99PXMsaT1zLmdldFZkb21Sb290KCk7TmVvLmlzTnVtYmVyKG8pJiYhTmVvLmlzTnVtYmVyKHMuc2VsZWN0ZWRJbmRleCkmJnMuYWZ0ZXJTZXRIZWFkZXJsZXNzU2VsZWN0ZWRJbmRleChvLG51bGwpLHMuYW5pbWF0ZSYmIXMuZ2V0UGx1Z2luKFwibGlzdC1hbmltYXRlXCIpfHwoaS5jbj1bXSxzLnN0b3JlLmZvckVhY2goKGUsbyk9Pnt0PXMuY3JlYXRlSXRlbShlLG8pLHQmJmkuY24ucHVzaCh0KX0pLCFlJiZzLnByb21pc2VVcGRhdGUoKS50aGVuKCgpPT57cy5maXJlKFwiY3JlYXRlSXRlbXNcIil9KSl9ZGVzdHJveSguLi5lKXtsZXQgdD10aGlzO3Quc2VsZWN0aW9uTW9kZWw/LmRlc3Ryb3koKSx0LmF1dG9EZXN0cm95U3RvcmUmJnQuc3RvcmU/LmRlc3Ryb3koKSxzdXBlci5kZXN0cm95KC4uLmUpfWZvY3VzKGU9dGhpcy5pZCl7dGhpcy5tb3VudGVkJiZOZW8ubWFpbi5hZGRvbi5OYXZpZ2F0b3IubmF2aWdhdGVUbyh7ZGF0YTp0aGlzLm5hdmlnYXRvcix0YXJnZXQ6ZSx3aW5kb3dJZDp0aGlzLndpbmRvd0lkfSl9Z2V0U2VsZWN0ZWRJbmRleChlKXtsZXQgdD0wLHM9MCxvPXRoaXMuc3RvcmUuaXRlbXMsaT1lO2lmKG8ubGVuZ3RoPDEpcmV0dXJuIG51bGw7Zm9yKDtzPD1pO3MrKylvW3NdLmlzSGVhZGVyJiYodCsrLGkrKyk7cmV0dXJuIGUrdH1nZXRIZWFkZXJsZXNzSW5kZXgoZSl7bGV0IHQ9MCxzPTAsbz10aGlzLnN0b3JlLml0ZW1zO2Zvcig7czxlO3MrKylvW3NdLmlzSGVhZGVyfHx0Kys7cmV0dXJuIHR9Z2V0SXRlbUlkKGUpe3JldHVybmAke3RoaXMuaWR9X18ke2UuaXNSZWNvcmQ/ZVt0aGlzLmdldEtleVByb3BlcnR5KCldOmV9YH1nZXRJdGVtUmVjb3JkSWQoZSl7bGV0IHQ9ZS5zcGxpdChcIl9fXCIpWzFdLHttb2RlbDpzfT10aGlzLnN0b3JlLG89cz8uZ2V0RmllbGQodGhpcy5nZXRLZXlQcm9wZXJ0eSgpKSxpPW8/LnR5cGU/LnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnRcIiE9PWkmJlwiaW50ZWdlclwiIT09aXx8KHQ9cGFyc2VJbnQodCkpLHR9Z2V0S2V5UHJvcGVydHkoKXtyZXR1cm4gdGhpcy5zdG9yZS5rZXlQcm9wZXJ0eXx8dGhpcy5zdG9yZS5tb2RlbC5rZXlQcm9wZXJ0eX1vbkNsaWNrKGUpe2xldCB0LHM9dGhpcztpZihlLnBhdGhbMF0uaWQ9PT1zLmlkKXMub25Db250YWluZXJDbGljayhlKTtlbHNlIGZvcih0IG9mIGUucGF0aClpZih0LmNscy5pbmNsdWRlcyhzLml0ZW1DbHMpKXtzLm9uSXRlbUNsaWNrKHQsZSk7YnJlYWt9fW9uQ29uc3RydWN0ZWQoKXtzdXBlci5vbkNvbnN0cnVjdGVkKCksdGhpcy5zZWxlY3Rpb25Nb2RlbD8ucmVnaXN0ZXIodGhpcyl9b25Db250YWluZXJDbGljayhlKXt0aGlzLmZpcmUoXCJjb250YWluZXJDbGlja1wiLGUpfW9uSXRlbUNsaWNrKGUsdCl7bGV0IHM9dGhpcyxvPXMuc3RvcmUuZ2V0KHMuZ2V0SXRlbVJlY29yZElkKGUuaWQpKTt0LnJlY29yZD1vLHMuZmlyZShcIml0ZW1DbGlja1wiLHtyZWNvcmQ6b30pfW9uU3RvcmVGaWx0ZXIoKXt0aGlzLmNyZWF0ZUl0ZW1zKCl9b25TdG9yZUxvYWQoKXtsZXQgZT10aGlzOyFlLm1vdW50ZWQmJmUuaXNWbm9kZUluaXRpYWxpemluZz9lLm9uKFwibW91bnRlZFwiLCgpPT57ZS5jcmVhdGVJdGVtcygpfSxlLHtvbmNlOiEwfSk6ZS5jcmVhdGVJdGVtcygpfW9uU3RvcmVSZWNvcmRDaGFuZ2UoZSl7bGV0IHQ9dGhpcyx7aW5kZXg6c309ZTtzPi0xJiYodC52ZG9tLmNuW3NdPXQuY3JlYXRlSXRlbShlLnJlY29yZCxzKSx0LnVwZGF0ZSgpKX1vblN0b3JlU29ydChlKXt0aGlzLmNyZWF0ZUl0ZW1zKCl9c2VsZWN0SXRlbShlKXtsZXQgdD10aGlzO3QuZGlzYWJsZVNlbGVjdGlvbnx8KE5lby5pc051bWJlcihlKT90LnNlbGVjdGlvbk1vZGVsPy5zZWxlY3RBdChlKTplJiZ0LnNlbGVjdGlvbk1vZGVsPy5zZWxlY3RBdCh0LnN0b3JlLmluZGV4T2YoZSkpKX1hc3luYyB1cGRhdGVJdGVtRm9jdXMoZSl7bGV0IHQ9dGhpcyx7bmF2aWdhdGVUbzpzfT1OZW8ubWFpbi5hZGRvbi5OYXZpZ2F0b3I7dC5tb3VudGVkP05lby5pc051bWJlcihlKT9zKHtkYXRhOnQubmF2aWdhdG9yLHRhcmdldDp0LmdldEhlYWRlcmxlc3NJbmRleChlKSx3aW5kb3dJZDp0LndpbmRvd0lkfSk6ZSYmcyh7ZGF0YTp0Lm5hdmlnYXRvcix0YXJnZXQ6dC5nZXRJdGVtSWQoZVt0LmdldEtleVByb3BlcnR5KCldKSx3aW5kb3dJZDp0LndpbmRvd0lkfSk6dC5vbihcIm1vdW50ZWRcIiwoKT0+e2U9PT10LmZvY3VzSW5kZXgmJnQudXBkYXRlSXRlbUZvY3VzKHQuZm9jdXNJbmRleCl9LHQse29uY2U6ITB9KX19KTsiLCJpbXBvcnQgZSBmcm9tXCIuL01vZGVsLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgZXtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uc2VsZWN0aW9uLkxpc3RNb2RlbFwiLG50eXBlOlwic2VsZWN0aW9uLWxpc3Rtb2RlbFwifTtvbktleURvd25Fc2NhcGUoZSl7fW9uS2V5RG93bkRvd24oZSl7fW9uS2V5RG93bkVudGVyKGUpe31vbktleURvd25MZWZ0KGUpe31vbktleURvd25SaWdodChlKXt9b25LZXlEb3duVXAoZSl7fW9uTGlzdENsaWNrKHtjdXJyZW50VGFyZ2V0OmV9KXtsZXQgdCx7dmlldzpufT10aGlzO24uZGlzYWJsZVNlbGVjdGlvbnx8KHQ9bi5zdG9yZS5nZXQobi5nZXRJdGVtUmVjb3JkSWQoZSkpLHQmJnRoaXMuc2VsZWN0KHQpKX1vbkxpc3ROYXZpZ2F0ZShlKXtsZXQgdCx7dmlldzpufT10aGlzLHtzdG9yZTpvfT1uO2UuYWN0aXZlSXRlbSYmKHQ9by5nZXQobi5nZXRJdGVtUmVjb3JkSWQoZS5hY3RpdmVJdGVtKSkpLHR8fCh0PW8uZ2V0QXQoTWF0aC5taW4oZS5hY3RpdmVJbmRleCxvLmdldENvdW50KCkpKSksZS5yZWNvcmQ9dCxuLl9mb2N1c0luZGV4PW8uaW5kZXhPZih0KSxuLmZpcmUoXCJpdGVtTmF2aWdhdGVcIixlKX1yZWdpc3RlcihlKXtzdXBlci5yZWdpc3RlcihlKTtsZXQgdD10aGlzLHtpZDpuLHZpZXc6b309dDtvLmFkZERvbUxpc3RlbmVycyhbe2NsaWNrOnQub25MaXN0Q2xpY2ssc2NvcGU6dCxkZWxlZ2F0ZTplPT57Zm9yKGxldCB0PTAse2xlbmd0aDpufT1lO3Q8bjt0Kyspe2NvbnN0e2NsczpufT1lW3RdO2lmKG4uaW5jbHVkZXMoby5pdGVtQ2xzKSYmIW4uaW5jbHVkZXMoXCJuZW8tZGlzYWJsZWRcIikmJiFuLmluY2x1ZGVzKFwibmVvLWxpc3QtaGVhZGVyXCIpKXJldHVybiB0fX19LHtuZW9uYXZpZ2F0ZTp0Lm9uTGlzdE5hdmlnYXRlLHNjb3BlOnR9XSksby5rZXlzPy5fa2V5cy5wdXNoKHtmbjpcIm9uS2V5RG93bkRvd25cIixrZXk6XCJEb3duXCIsc2NvcGU6bn0se2ZuOlwib25LZXlEb3duRW50ZXJcIixrZXk6XCJFbnRlclwiLHNjb3BlOm59LHtmbjpcIm9uS2V5RG93bkVzY2FwZVwiLGtleTpcIkVzY2FwZVwiLHNjb3BlOm59LHtmbjpcIm9uS2V5RG93bkxlZnRcIixrZXk6XCJMZWZ0XCIsc2NvcGU6bn0se2ZuOlwib25LZXlEb3duUmlnaHRcIixrZXk6XCJSaWdodFwiLHNjb3BlOm59LHtmbjpcIm9uS2V5RG93blVwXCIsa2V5OlwiVXBcIixzY29wZTpufSl9c2VsZWN0QXQoZSl7bGV0e3ZpZXc6dH09dGhpcyxuPXQ/LnN0b3JlLmdldEtleUF0KGUpLG89biYmdC5nZXRJdGVtSWQobik7byYmdGhpcy5zZWxlY3Qobyl9dW5yZWdpc3Rlcigpe2xldHtpZDplLHZpZXc6dH09dGhpczt0LmtleXM/LnJlbW92ZUtleXMoW3tmbjpcIm9uS2V5RG93bkRvd25cIixrZXk6XCJEb3duXCIsc2NvcGU6ZX0se2ZuOlwib25LZXlEb3duRW50ZXJcIixrZXk6XCJFbnRlclwiLHNjb3BlOmV9LHtmbjpcIm9uS2V5RG93bkVzY2FwZVwiLGtleTpcIkVzY2FwZVwiLHNjb3BlOmV9LHtmbjpcIm9uS2V5RG93bkxlZnRcIixrZXk6XCJMZWZ0XCIsc2NvcGU6ZX0se2ZuOlwib25LZXlEb3duUmlnaHRcIixrZXk6XCJSaWdodFwiLHNjb3BlOmV9LHtmbjpcIm9uS2V5RG93blVwXCIsa2V5OlwiVXBcIixzY29wZTplfV0pLHN1cGVyLnVucmVnaXN0ZXIoKX19KTsiLCJpbXBvcnQgZSBmcm9tXCIuL0NlbGxNb2RlbC5tanNcIjtpbXBvcnQgbCBmcm9tXCIuLi8uLi91dGlsL1ZEb20ubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBle3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5zZWxlY3Rpb24udGFibGUuQ2VsbENvbHVtbk1vZGVsXCIsbnR5cGU6XCJzZWxlY3Rpb24tdGFibGUtY2VsbGNvbHVtbm1vZGVsXCIsY2xzOlwibmVvLXNlbGVjdGlvbi1jZWxsY29sdW1ubW9kZWxcIixzZWxlY3RlZENvbHVtbkNlbGxDbHM6XCJzZWxlY3RlZC1jb2x1bW4tY2VsbFwiLHNlbGVjdGVkQ29sdW1uQ2VsbElkczpbXX07ZGVzZWxlY3RBbGxDZWxscyhlKXtsZXQgbD10aGlzLHM9Wy4uLmwuc2VsZWN0ZWRDb2x1bW5DZWxsSWRzXSx7dmlldzp0fT1sO3MuZm9yRWFjaChlPT57bC5kZXNlbGVjdChlLCEwLGwuc2VsZWN0ZWRDb2x1bW5DZWxsSWRzLGwuc2VsZWN0ZWRDb2x1bW5DZWxsQ2xzKX0pLCFlJiZ0LnVwZGF0ZSgpfW9uQ2VsbENsaWNrKGUpe2xldCBzLHQsbyxDPXRoaXMse3ZpZXc6ZH09QyxuPWUuZGF0YS5jdXJyZW50VGFyZ2V0O24mJih0PWQuZ2V0RGF0YUZpZWxkKG4pLG89ZC5nZXRDb2x1bW4odCwhMCkscz1sLmdldENvbHVtbk5vZGVzSWRzKGQudmRvbSxvKSxDLmRlc2VsZWN0QWxsQ2VsbHMoITApLEMuc2VsZWN0KHMsQy5zZWxlY3RlZENvbHVtbkNlbGxJZHMsQy5zZWxlY3RlZENvbHVtbkNlbGxDbHMpKSxzdXBlci5vbkNlbGxDbGljayhlKX1vbk5hdktleUNvbHVtbihlKXtsZXQgcyx0LG8sQz10aGlzLHtkYXRhRmllbGRzOmQsdmlldzpufT1DO2Zvcih0PUMuaGFzU2VsZWN0aW9uKCk/bi5nZXREYXRhRmllbGQoQy5pdGVtc1swXSk6ZFswXSxvPShkLmluZGV4T2YodCkrZSklZC5sZW5ndGg7bzwwOylvKz1kLmxlbmd0aDtzPWwuZ2V0Q29sdW1uTm9kZXNJZHMobi52ZG9tLG8pLEMuZGVzZWxlY3RBbGxDZWxscyghMCksQy5zZWxlY3QocyxDLnNlbGVjdGVkQ29sdW1uQ2VsbElkcyxDLnNlbGVjdGVkQ29sdW1uQ2VsbENscyksc3VwZXIub25OYXZLZXlDb2x1bW4oZSl9dG9KU09OKCl7cmV0dXJuey4uLnN1cGVyLnRvSlNPTigpLHNlbGVjdGVkQ29sdW1uQ2VsbENsczp0aGlzLnNlbGVjdGVkQ29sdW1uQ2VsbENscyxzZWxlY3RlZENvbHVtbkNlbGxJZHM6dGhpcy5zZWxlY3RlZENvbHVtbkNlbGxJZHN9fXVucmVnaXN0ZXIoKXt0aGlzLmRlc2VsZWN0QWxsQ2VsbHMoKSxzdXBlci51bnJlZ2lzdGVyKCl9fSk7IiwiaW1wb3J0IGUgZnJvbVwiLi9DZWxsUm93TW9kZWwubWpzXCI7aW1wb3J0IGwgZnJvbVwiLi4vLi4vdXRpbC9WRG9tLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgZXtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uc2VsZWN0aW9uLnRhYmxlLkNlbGxDb2x1bW5Sb3dNb2RlbFwiLG50eXBlOlwic2VsZWN0aW9uLXRhYmxlLWNlbGxjb2x1bW5yb3dtb2RlbFwiLGNsczpcIm5lby1zZWxlY3Rpb24tY2VsbGNvbHVtbnJvd21vZGVsXCIsc2VsZWN0ZWRDb2x1bW5DZWxsQ2xzOlwic2VsZWN0ZWQtY29sdW1uLWNlbGxcIixzZWxlY3RlZENvbHVtbkNlbGxJZHM6W119O2Rlc2VsZWN0QWxsQ2VsbHMoZSl7bGV0IGw9dGhpcyxzPVsuLi5sLnNlbGVjdGVkQ29sdW1uQ2VsbElkc10se3ZpZXc6dH09bDtzLmZvckVhY2goZT0+e2wuZGVzZWxlY3QoZSwhMCxsLnNlbGVjdGVkQ29sdW1uQ2VsbElkcyxsLnNlbGVjdGVkQ29sdW1uQ2VsbENscyl9KSwhZSYmdC51cGRhdGUoKX1vbkNlbGxDbGljayhlKXtsZXQgcyx0LG8sQz10aGlzLHt2aWV3OmR9PUMsbj1lLmRhdGEuY3VycmVudFRhcmdldDtuJiYodD1kLmdldERhdGFGaWVsZChuKSxvPWQuZ2V0Q29sdW1uKHQsITApLHM9bC5nZXRDb2x1bW5Ob2Rlc0lkcyhkLnZkb20sbyksQy5kZXNlbGVjdEFsbENlbGxzKCEwKSxDLnNlbGVjdChzLEMuc2VsZWN0ZWRDb2x1bW5DZWxsSWRzLEMuc2VsZWN0ZWRDb2x1bW5DZWxsQ2xzKSksc3VwZXIub25DZWxsQ2xpY2soZSl9b25OYXZLZXlDb2x1bW4oZSl7bGV0IHMsdCxvLEM9dGhpcyx7ZGF0YUZpZWxkczpkLHZpZXc6bn09Qztmb3IodD1DLmhhc1NlbGVjdGlvbigpP24uZ2V0RGF0YUZpZWxkKEMuaXRlbXNbMF0pOmRbMF0sbz0oZC5pbmRleE9mKHQpK2UpJWQubGVuZ3RoO288MDspbys9ZC5sZW5ndGg7cz1sLmdldENvbHVtbk5vZGVzSWRzKG4udmRvbSxvKSxDLmRlc2VsZWN0QWxsQ2VsbHMoITApLEMuc2VsZWN0KHMsQy5zZWxlY3RlZENvbHVtbkNlbGxJZHMsQy5zZWxlY3RlZENvbHVtbkNlbGxDbHMpLHN1cGVyLm9uTmF2S2V5Q29sdW1uKGUpfXRvSlNPTigpe3JldHVybnsuLi5zdXBlci50b0pTT04oKSxzZWxlY3RlZENvbHVtbkNlbGxDbHM6dGhpcy5zZWxlY3RlZENvbHVtbkNlbGxDbHMsc2VsZWN0ZWRDb2x1bW5DZWxsSWRzOnRoaXMuc2VsZWN0ZWRDb2x1bW5DZWxsSWRzfX11bnJlZ2lzdGVyKCl7dGhpcy5kZXNlbGVjdEFsbENlbGxzKCksc3VwZXIudW5yZWdpc3RlcigpfX0pOyIsImltcG9ydCBlIGZyb21cIi4vQ2VsbE1vZGVsLm1qc1wiO2ltcG9ydCB0IGZyb21cIi4uLy4uL3V0aWwvQXJyYXkubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBle3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5zZWxlY3Rpb24udGFibGUuQ2VsbFJvd01vZGVsXCIsbnR5cGU6XCJzZWxlY3Rpb24tdGFibGUtY2VsbHJvd21vZGVsXCIsY2xzOlwibmVvLXNlbGVjdGlvbi1jZWxscm93bW9kZWxcIixzZWxlY3RlZFJvd0lkczpbXX07ZGVzZWxlY3RBbGxSb3dzKGUpe2xldCB0PXRoaXMsbD1bLi4udC5zZWxlY3RlZFJvd0lkc10se3ZpZXc6c309dDtsLmZvckVhY2goZT0+e3QuZGVzZWxlY3RSb3coZSwhMCl9KSwhZSYmcy51cGRhdGUoKX1kZXNlbGVjdFJvdyhlLGwpe2xldCBzLG89dGhpcyx7dmlldzpkfT1vLGM9ZC5nZXRWZG9tQ2hpbGQoZSk7YyYmKHM9Yy5jbHN8fFtdLHQucmVtb3ZlKHMsby5zZWxlY3RlZENscyksYy5jbHM9cyksdC5yZW1vdmUoby5zZWxlY3RlZFJvd0lkcyxlKSwhbCYmZC51cGRhdGUoKX1vbkNlbGxDbGljayhlKXtsZXQgdD10aGlzLGw9dC52aWV3LmdldFJlY29yZChlLmRhdGEuY3VycmVudFRhcmdldCkscz10LnZpZXcuZ2V0Um93SWQobCk7cyYmKHQuZGVzZWxlY3RBbGxSb3dzKCEwKSx0LnNlbGVjdFJvdyhzKSksc3VwZXIub25DZWxsQ2xpY2soZSl9b25OYXZLZXlSb3coZSl7c3VwZXIub25OYXZLZXlSb3coZSk7bGV0IHQsbD10aGlzLHt2aWV3OnN9PWwse3N0b3JlOm99PXMsZD1vLmdldENvdW50KCksYz1sLnNlbGVjdGVkUm93SWRzWzBdfHxzLmdldFJvd0lkKG8uZ2V0QXQoMCkpLHc9cy5nZXRSZWNvcmQoYykscj0oby5pbmRleE9mKHcpK2UpJWQ7Zm9yKDtyPDA7KXIrPWQ7dD1zLmdldFJvd0lkKG8uZ2V0QXQocikpLHQmJihsLmRlc2VsZWN0QWxsUm93cyghMCksbC5zZWxlY3RSb3codCkpfXNlbGVjdFJvdyhlLGwpe2xldCBzLG89dGhpcyx7dmlldzpkfT1vLGM9ZSYmZC5nZXRWZG9tQ2hpbGQoZSk7YyYmKHM9Yy5jbHN8fFtdLHQuYWRkKHMsby5zZWxlY3RlZENscyksYy5jbHM9cyxvLnNlbGVjdGVkUm93SWRzLnB1c2goZSkpLCFsJiZkLnVwZGF0ZSgpfXRvSlNPTigpe3JldHVybnsuLi5zdXBlci50b0pTT04oKSxzZWxlY3RlZFJvd0lkczp0aGlzLnNlbGVjdGVkUm93SWRzfX11bnJlZ2lzdGVyKCl7dGhpcy5kZXNlbGVjdEFsbFJvd3MoKSxzdXBlci51bnJlZ2lzdGVyKCl9fSk7IiwiaW1wb3J0IHQgZnJvbVwiLi4vY29yZS9CYXNlLm1qc1wiO2ltcG9ydCBlIGZyb21cIi4uL3V0aWwvQ2xhc3NTeXN0ZW0ubWpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vY29yZS9Db25maWcubWpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vY29yZS9FZmZlY3QubWpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vY29yZS9FZmZlY3RNYW5hZ2VyLm1qc1wiO2ltcG9ydCBvIGZyb21cIi4uL2NvcmUvT2JzZXJ2YWJsZS5tanNcIjtpbXBvcnR7Y3JlYXRlSGllcmFyY2hpY2FsRGF0YVByb3h5IGFzIG59ZnJvbVwiLi9jcmVhdGVIaWVyYXJjaGljYWxEYXRhUHJveHkubWpzXCI7aW1wb3J0e2lzRGVzY3JpcHRvciBhcyBpfWZyb21cIi4uL2NvcmUvQ29uZmlnU3ltYm9scy5tanNcIjtjb25zdCBjPVN5bWJvbC5mb3IoXCJ0d29XYXlCaW5kaW5nXCIpO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgdHtzdGF0aWMgb2JzZXJ2YWJsZT0hMDtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uc3RhdGUuUHJvdmlkZXJcIixudHlwZTpcInN0YXRlLXByb3ZpZGVyXCIsY29tcG9uZW50Om51bGwsZGF0YV86e1tpXTohMCxtZXJnZTpcImRlZXBcIix2YWx1ZTp7fX0sZm9ybXVsYXNfOm51bGwscGFyZW50XzpudWxsLHN0b3Jlc186bnVsbCx3aW5kb3dJZDpudWxsfTsjdD1uZXcgTWFwOyNlPXt9OyNyPW5ldyBNYXA7Y29uc3RydWN0KHQpe05lby5pc1VzaW5nU3RhdGVQcm92aWRlcnM9ITAsc3VwZXIuY29uc3RydWN0KHQpfWFkanVzdFZhbHVlKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRGF0ZT9uZXcgRGF0ZSh0LnZhbHVlT2YoKSk6dH1hZnRlclNldERhdGEodCxlKXt0JiZ0aGlzLnByb2Nlc3NEYXRhT2JqZWN0KHQpfWFmdGVyU2V0Rm9ybXVsYXModCxlKXtjb25zdCByPXRoaXM7ci4jci5mb3JFYWNoKHQ9PnQuZGVzdHJveSgpKSxyLiNyLmNsZWFyKCksdCYmT2JqZWN0LmVudHJpZXModCkuZm9yRWFjaCgoW3QsZV0pPT57Y29uc3QgYT1uZXcgcyh7Zm46KCk9Pntjb25zdCBzPXIuZ2V0SGllcmFyY2h5RGF0YSgpLGE9ZShzKTtyLnNldERhdGEodCxhKX0sbGF6eTohMH0pO3IuI3Iuc2V0KHQsYSl9KX1iZWZvcmVHZXREYXRhKHQpe3JldHVybiB0aGlzLmdldEhpZXJhcmNoeURhdGEoKX1iZWZvcmVTZXRTdG9yZXModCxyKXtpZih0KXtsZXQgcj10aGlzO09iamVjdC5lbnRyaWVzKHQpLmZvckVhY2goKFtzLGFdKT0+e09iamVjdC5lbnRyaWVzKGEubGlzdGVuZXJzfHx7fSkuZm9yRWFjaCgoW3QsZV0pPT57ci5iaW5kQ2FsbGJhY2soZSx0LHIsYS5saXN0ZW5lcnMpfSksdFtzXT1lLmJlZm9yZVNldEluc3RhbmNlKGEpfSl9cmV0dXJuIHR9Y3JlYXRlQmluZGluZyh0LGUscil7Y29uc3QgYT10aGlzLG89bmV3IHMoKCk9Pntjb25zdCBzPU5lby5nZXQodCk7aWYocyYmIXMuaXNEZXN0cm95ZWQpe2NvbnN0IHQ9YS5nZXRIaWVyYXJjaHlEYXRhKCksbz1OZW8uaXNGdW5jdGlvbihyKT9yLmNhbGwoYSx0KTp0W3JdO3MuX3NraXBUd29XYXlQdXNoPWUsc1tlXT1vLGRlbGV0ZSBzLl9za2lwVHdvV2F5UHVzaH19KTtyZXR1cm4gYS4jdC5zZXQodCxvKSxhLm9ic2VydmVDb25maWcodCxcImlzRGVzdHJveWluZ1wiLGU9PntlJiYoby5kZXN0cm95KCksYS4jdC5kZWxldGUodCkpfSksb31jcmVhdGVCaW5kaW5ncyh0KXtsZXQgZT10aGlzLHI9ITE7T2JqZWN0LmVudHJpZXModC5iaW5kfHx7fSkuZm9yRWFjaCgoW3MsYV0pPT57bGV0IG89YTtOZW8uaXNPYmplY3QoYSkmJihhLnR3b1dheSYmKHI9ITApLG89YS5rZXkpLGUuaXNTdG9yZVZhbHVlKG8pP2UucmVzb2x2ZVN0b3JlKHQscyxvLnN1YnN0cmluZyg3KSk6ZS5jcmVhdGVCaW5kaW5nKHQuaWQscyxvLGEudHdvV2F5KX0pLHImJih0W2NdPSEwKX1kZXN0cm95KCl7Y29uc3QgdD10aGlzO3QuI3IuZm9yRWFjaCh0PT50LmRlc3Ryb3koKSksdC4jci5jbGVhcigpLHQuI3QuZm9yRWFjaCh0PT50LmRlc3Ryb3koKSksdC4jdC5jbGVhcigpLHN1cGVyLmRlc3Ryb3koKX1nZXRDb250cm9sbGVyKHQpe3JldHVybiB0aGlzLmNvbXBvbmVudC5nZXRDb250cm9sbGVyKHQpfWdldERhdGEodCl7Y29uc3QgZT10aGlzLmdldE93bmVyT2ZEYXRhUHJvcGVydHkodCk7aWYoZSlyZXR1cm4gZS5vd25lci5nZXREYXRhQ29uZmlnKGUucHJvcGVydHlOYW1lKS5nZXQoKX1nZXREYXRhQ29uZmlnKHQpe3JldHVybiB0aGlzLiNlW3RdfHxudWxsfWdldEhpZXJhcmNoeURhdGEoKXtyZXR1cm4gbih0aGlzKX1nZXRPd25lck9mRGF0YVByb3BlcnR5KHQpe2xldCBlPXRoaXM7aWYoZS4jZVt0XSlyZXR1cm57b3duZXI6ZSxwcm9wZXJ0eU5hbWU6dH07Y29uc3Qgcj1lLmdldFBhcmVudCgpO3JldHVybiByP3IuZ2V0T3duZXJPZkRhdGFQcm9wZXJ0eSh0KTpudWxsfWdldFBhcmVudCgpe2xldCB0PXRoaXM7cmV0dXJuIHQuX3BhcmVudD90Ll9wYXJlbnQ6dC5jb21wb25lbnQmJnQuY29tcG9uZW50LnBhcmVudD8uZ2V0U3RhdGVQcm92aWRlcigpfHxudWxsfWdldFN0b3JlKHQsZT10aGlzKXtsZXQgcix7c3RvcmVzOnN9PXRoaXM7cmV0dXJuIHM/Lmhhc093blByb3BlcnR5KHQpP3NbdF06KHI9dGhpcy5nZXRQYXJlbnQoKSxyfHxjb25zb2xlLmVycm9yKGBzdG9yZSAnJHt0fScgbm90IGZvdW5kIGluc2lkZSB0aGlzIHN0YXRlUHJvdmlkZXIgb3IgcGFyZW50cy5gLGUpLHIuZ2V0U3RvcmUodCxlKSl9aGFzTmVzdGVkRGF0YVN0YXJ0aW5nV2l0aCh0KXtjb25zdCBlPWAke3R9LmA7cmV0dXJuISFPYmplY3Qua2V5cyh0aGlzLiNlKS5zb21lKHQ9PnQuc3RhcnRzV2l0aChlKSl8fCh0aGlzLmdldFBhcmVudCgpPy5oYXNOZXN0ZWREYXRhU3RhcnRpbmdXaXRoKHQpfHwhMSl9Z2V0VG9wTGV2ZWxEYXRhS2V5cyh0KXtjb25zdCBlPW5ldyBTZXQscj10P2Ake3R9LmA6XCJcIjtmb3IoY29uc3QgdCBpbiB0aGlzLiNlKWlmKHQuc3RhcnRzV2l0aChyKSl7Y29uc3Qgcz10LnN1YnN0cmluZyhyLmxlbmd0aCkuc3BsaXQoXCIuXCIpWzBdO3MmJmUuYWRkKHMpfXJldHVybiBBcnJheS5mcm9tKGUpfWludGVybmFsU2V0RGF0YSh0LGUscil7Y29uc3Qgcz10aGlzO2lmKE5lby5pc09iamVjdCh0KSlyZXR1cm4gdm9pZCBPYmplY3QuZW50cmllcyh0KS5mb3JFYWNoKChbdCxlXSk9PntzLmludGVybmFsU2V0RGF0YSh0LGUscil9KTtpZihcIk9iamVjdFwiPT09TmVvLnR5cGVPZihlKSlyZXR1cm4gdm9pZCBPYmplY3QuZW50cmllcyhlKS5mb3JFYWNoKChbZSxhXSk9Pntjb25zdCBvPWAke3R9LiR7ZX1gO3MuaW50ZXJuYWxTZXREYXRhKG8sYSxyKX0pO2NvbnN0IGE9cy5nZXRPd25lck9mRGF0YVByb3BlcnR5KHQpLG89YT9hLm93bmVyOnJ8fHM7cy4jcyhvLHQsZSxudWxsKTtsZXQgbj10LGk9ZTtmb3IoO24uaW5jbHVkZXMoXCIuXCIpOyl7Y29uc3QgdD1uLnNwbGl0KFwiLlwiKS5wb3AoKTtuPW4uc3Vic3RyaW5nKDAsbi5sYXN0SW5kZXhPZihcIi5cIikpO2NvbnN0IGU9by5nZXREYXRhQ29uZmlnKG4pO2lmKGUpe2NvbnN0IHI9ZS5nZXQoKTtpZighTmVvLmlzT2JqZWN0KHIpKWJyZWFrO3tjb25zdCBzPXsuLi5yLFt0XTppfTtlLnNldChzKSxpPXN9fWVsc2V7Y29uc3QgZT17W3RdOml9O3MuI3MobyxuLGUpLGk9ZX19fWlzU3RvcmVWYWx1ZSh0KXtyZXR1cm4gTmVvLmlzU3RyaW5nKHQpJiZ0LnN0YXJ0c1dpdGgoXCJzdG9yZXMuXCIpfW9uQ29uc3RydWN0ZWQoKXtzdXBlci5vbkNvbnN0cnVjdGVkKCksdGhpcy4jci5mb3JFYWNoKHQ9PnQucnVuKCkpfW9uRGF0YVByb3BlcnR5Q2hhbmdlKHQsZSxyKXt9cHJvY2Vzc0RhdGFPYmplY3QodCxlPVwiXCIpe2xldCBzPXRoaXM7T2JqZWN0LmVudHJpZXModCkuZm9yRWFjaCgoW3QsYV0pPT57Y29uc3Qgbz1lP2Ake2V9LiR7dH1gOnQ7YT1zLmFkanVzdFZhbHVlKGEpLHMuI2Vbb10/cy4jZVtvXS5zZXQoYSk6cy4jZVtvXT1uZXcgcihhKSxcIk9iamVjdFwiPT09TmVvLnR5cGVPZihhKSYmcy5wcm9jZXNzRGF0YU9iamVjdChhLG8pfSl9cmVzb2x2ZVN0b3JlKHQsZSxyKXtsZXQgcz10aGlzLmdldFN0b3JlKHIpO3RbZV0hPT1zJiYodFtlXT1zKX0jcyh0LGUscyxhKXtzPXQuYWRqdXN0VmFsdWUocyk7bGV0IG89dC5nZXREYXRhQ29uZmlnKGUpLG49ITAsaT1hO28/KGk9by5nZXQoKSxuPW8uc2V0KHMpKToobz1uZXcgcihzKSx0LiNlW2VdPW8sdC4jdC5mb3JFYWNoKHQ9PnQucnVuKCkpKSxuJiZ0Lm9uRGF0YVByb3BlcnR5Q2hhbmdlKGUscyxpKX1zZXREYXRhKHQsZSl7YS5wYXVzZSgpO3RyeXt0aGlzLmludGVybmFsU2V0RGF0YSh0LGUsdGhpcyl9ZmluYWxseXthLnJlc3VtZSgpfX1zZXREYXRhQXRTYW1lTGV2ZWwodCxlKXthLnBhdXNlKCk7dHJ5e3RoaXMuaW50ZXJuYWxTZXREYXRhKHQsZSl9ZmluYWxseXthLnJlc3VtZSgpfX10b0pTT04oKXtjb25zdCB0PXRoaXMsZT17fTtyZXR1cm4gdC5zdG9yZXMmJk9iamVjdC5lbnRyaWVzKHQuc3RvcmVzKS5mb3JFYWNoKChbdCxyXSk9PntlW3RdPXIudG9KU09OKCl9KSx7Li4uc3VwZXIudG9KU09OKCksY29tcG9uZW50OnQuY29tcG9uZW50Py5pZCxkYXRhOnQuZGF0YSxwYXJlbnQ6dC5wYXJlbnQ/LmlkLHN0b3JlczplLHdpbmRvd0lkOnQud2luZG93SWR9fX0pOyIsImltcG9ydCBlIGZyb21cIi4uL2NvcmUvRWZmZWN0TWFuYWdlci5tanNcIjtmdW5jdGlvbiB0KHIsbyl7cmV0dXJuIG5ldyBQcm94eSh7fSx7Z2V0KG4sYSl7aWYoXCJzeW1ib2xcIj09dHlwZW9mIGF8fFwiX19SRUZBRFJfX1wiPT09YXx8XCJpbnNwZWN0XCI9PT1hfHxcInRoZW5cIj09PWEpcmV0dXJuIFJlZmxlY3QuZ2V0KG4sYSk7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEmJlwibnVtYmVyXCIhPXR5cGVvZiBhKXJldHVybjtpZihcIlwiPT09byYmXCJzdG9yZXNcIj09PWEpcmV0dXJuIG5ldyBQcm94eSh7fSx7Z2V0OihlLHQpPT5cInN5bWJvbFwiPT10eXBlb2YgdHx8XCJfX1JFRkFEUl9fXCI9PT10P1JlZmxlY3QuZ2V0KGUsdCk6ci5nZXRTdG9yZSh0KX0pO2NvbnN0IGY9bz9gJHtvfS4ke2F9YDphLGk9ci5nZXRPd25lck9mRGF0YVByb3BlcnR5KGYpO2lmKGkpe2NvbnN0e293bmVyOm8scHJvcGVydHlOYW1lOm59PWksYT1vLmdldERhdGFDb25maWcobik7aWYoYSl7ZS5nZXRBY3RpdmVFZmZlY3QoKT8uYWRkRGVwZW5kZW5jeShhKTtjb25zdCBvPWEuZ2V0KCk7cmV0dXJuIE5lby5pc09iamVjdChvKT90KHIsZik6b319cmV0dXJuIHIuaGFzTmVzdGVkRGF0YVN0YXJ0aW5nV2l0aChmKT90KHIsZik6dm9pZCAwfSxzZXQoZSx0LG4pe2lmKFwic3ltYm9sXCI9PXR5cGVvZiB0fHxcIl9fUkVGQURSX19cIj09PXQpcmV0dXJuIFJlZmxlY3Quc2V0KGUsdCxuKTtjb25zdCBhPW8/YCR7b30uJHt0fWA6dCxmPXIuZ2V0T3duZXJPZkRhdGFQcm9wZXJ0eShhKTtsZXQgaTtyZXR1cm4gaT1mP2Yub3duZXI6cixpLnNldERhdGEoYSxuKSwhMH0sb3duS2V5czplPT5yLmdldFRvcExldmVsRGF0YUtleXMobyksZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbil7Y29uc3QgYT1vP2Ake299LiR7bn1gOm4sZj1yLmdldE93bmVyT2ZEYXRhUHJvcGVydHkoYSk7aWYoZil7Y29uc3QgZT1mLm93bmVyLmdldERhdGFDb25maWcoZi5wcm9wZXJ0eU5hbWUpO2lmKGUpe2NvbnN0IG89ZS5nZXQoKTtyZXR1cm57dmFsdWU6TmVvLmlzT2JqZWN0KG8pP3QocixhKTpvLHdyaXRhYmxlOiEwLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfX19fX0pfWV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIaWVyYXJjaGljYWxEYXRhUHJveHkoZSl7cmV0dXJuIHQoZSxcIlwiKX0iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9