export const __webpack_esm_id__ = "vendors-apps_devindex_view_home_MainContainer_mjs";
export const __webpack_esm_ids__ = ["vendors-apps_devindex_view_home_MainContainer_mjs"];
export const __webpack_esm_modules__ = {

/***/ "./apps/devindex/model/Contributor.mjs"
/*!*********************************************!*\
  !*** ./apps/devindex/model/Contributor.mjs ***!
  \*********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_data_Model_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../src/data/Model.mjs */ "./src/data/Model.mjs");


/**
 * @class DevIndex.model.Contributor
 * @extends Neo.data.Model
 *
 * @summary Data model representing a GitHub contributor with advanced year-based field mapping.
 *
 * This model utilizes `Neo.data.RecordFactory`'s advanced capabilities to map array-based data
 * (compact JSON for network efficiency) into addressable fields (required for Grid sorting and binding)
 * with zero per-record memory overhead.
 *
 * **Performance Architecture:**
 * - **Raw Data:** stored as compact arrays: `y` (Total), `cy` (Commits), `py` (Private).
 * - **Virtual Fields:** The `addYearFields()` method generates field configurations for every year (e.g., `y2024`, `py2024`).
 * - **Zero Overhead:** These fields are processed by `RecordFactory` to create **prototype-based getters** on the generated
 *   Record class. They read directly from the raw data arrays using the calculated index. This means adding 60+ year fields
 *   adds 0 bytes to the individual record instances, maintaining a flat memory profile even with 50k+ records.
 */
class Contributor extends _src_data_Model_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='DevIndex.model.Contributor'
         * @protected
         */
        className: 'DevIndex.model.Contributor',
        /**
         * @member {Object[]} fields
         */
        fields: [
            {name: 'login',                mapping: 'l',  type: 'String'},
            {name: 'name',                 mapping: 'n',  type: 'String'},
            {name: 'avatarUrl',            mapping: 'i',  type: 'String',  defaultValue: null},
            {name: 'location',             mapping: 'lc', type: 'String',  defaultValue: null},
            {name: 'countryCode',          mapping: 'cc', type: 'String',  defaultValue: null},
            {name: 'company',              mapping: 'c',  type: 'String',  defaultValue: null},
            {name: 'bio',                  mapping: 'b',  type: 'String',  defaultValue: null},
            {name: 'followers',            mapping: 'fl', type: 'Integer'},
            {name: 'totalContributions',   mapping: 'tc', type: 'Integer'},
            {name: 'firstYear',            mapping: 'fy', type: 'Integer'},
            {name: 'lastUpdated',          mapping: 'lu', type: 'Date'},
            {name: 'linkedinUrl',          mapping: 'li', type: 'String',  defaultValue: null},
            {name: 'twitter',              mapping: 't',  type: 'String',  defaultValue: null},
            {name: 'website',              mapping: 'w',  type: 'String',  defaultValue: null},
            {name: 'isHireable',           mapping: 'h',  type: 'Boolean', defaultValue: false, convert: v => !!v},
            {name: 'hasSponsors',          mapping: 's',  type: 'Integer', defaultValue: null},
            {name: 'heuristics',           mapping: 'hm', type: 'Object',  defaultValue: null},
            {name: 'topRepo',              mapping: 'tr', type: 'Array',   defaultValue: null},
            {
                name     : 'topRepoCount',
                type     : 'Integer',
                virtual  : true,
                calculate: data => (data.topRepo ?? data.tr)?.[1] || 0
            },
            {name: 'privateContributions', mapping: 'py', type: 'Array',   defaultValue: []},
            {
                name   : 'organizations',
                mapping: 'o',
                type   : 'Array',
                convert: value => {
                    if (!Array.isArray(value)) return [];
                    return value.map(item => ({
                        login    : item[0],
                        avatarUrl: item[1]
                    }))
                }
            },
            {name: 'commitsArray', mapping: 'cy', type: 'Array'},
            {name: 'yearsArray',   mapping: 'y',  type: 'Array'},
            {
                name   : 'totalCommits',
                type   : 'Integer',
                /**
                 * Calculates the total commits from the yearly breakdown.
                 *
                 * **Turbo Mode / Soft Hydration Compatibility:**
                 * In "Turbo Mode" (autoInitRecords: false), the Store sorts raw JSON objects, not Record instances.
                 * The `Neo.data.Store#doSort` "Soft Hydration" logic resolves this field (`totalCommits`)
                 * by calling this `calculate` function on the raw object.
                 *
                 * - **Record Context:** `data` is a Record. `data.commitsArray` exists (via getter/mapping).
                 * - **Raw Context:** `data` is a POJO. `data.commitsArray` is undefined. `data.cy` exists.
                 *
                 * To support both contexts without forcing full record instantiation (performance killer),
                 * we must check for both the canonical name AND the raw data key.
                 *
                 * @param {Object|Neo.data.Record} data
                 * @returns {Number}
                 */
                calculate: data => {
                    return (data.commitsArray || data.cy)?.reduce((a, b) => a + b, 0) || 0
                }
            },
            {
                name   : 'totalPrivateContributions',
                type   : 'Integer',
                /**
                 * Calculates the total private contributions from the yearly breakdown.
                 * @param {Object|Neo.data.Record} data
                 * @returns {Number}
                 */
                calculate: data => {
                    return (data.privateContributions || data.py)?.reduce((a, b) => a + b, 0) || 0
                }
            },
            {
                name   : 'totalPublicContributions',
                type   : 'Integer',
                depends: ['totalPrivateContributions'],
                /**
                 * Calculates the total public contributions (Total - Private).
                 * @param {Object|Neo.data.Record} data
                 * @returns {Number}
                 */
                calculate: data => {
                    const total = data.totalContributions || data.tc || 0;
                    return total - data.totalPrivateContributions
                }
            },
            {
                name: 'privateContributionsRatio',
                type: 'Float',
                depends: ['totalPrivateContributions'],
                /**
                 * Calculates the ratio of private to total contributions (0-100).
                 * @param {Object|Neo.data.Record} data
                 * @returns {Number}
                 */
                calculate: data => {
                    const total = data.totalContributions || data.tc || 0;
                    return total === 0 ? 0 : (data.totalPrivateContributions / total) * 100
                }
            },
            {
                name: 'commitRatio',
                type: 'Float',
                depends: ['totalCommits', 'totalPublicContributions'],
                /**
                 * Calculates the ratio of public commits to total public contributions (0-100).
                 * We exclude private contributions from the denominator because GitHub does not
                 * distinguish between private commits vs. private issues/PRs. Including them
                 * would artificially tank the ratio for users with high private activity.
                 * @param {Object|Neo.data.Record} data
                 * @returns {Number}
                 */
                calculate: data => {
                    return data.totalPublicContributions === 0 ? 0 : (data.totalCommits / data.totalPublicContributions) * 100
                }
            }
        ]
    }

    /**
     * @param {Object} config
     */
    construct(config) {
        super.construct(config);
        this.addYearFields()
    }

    /**
     * Dynamically add fields for each year from 2010 to current year
     */
    addYearFields() {
        let me          = this,
            currentYear = new Date().getFullYear(),
            fields      = [...me.fields];

        for (let i = currentYear; i >= 2010; i--) {
            // Total Contributions
            fields.push({
                name     : `y${i}`,
                type     : 'Integer',
                virtual  : true,
                calculate: data => {
                    const firstYear = data.fy || data.firstYear;
                    if (!firstYear) return 0;
                    return (data.yearsArray || data.y)?.[i - firstYear] || 0
                }
            });

            // Commits Only
            fields.push({
                name     : `cy${i}`,
                type     : 'Integer',
                virtual  : true,
                calculate: data => {
                    const firstYear = data.fy || data.firstYear;
                    if (!firstYear) return 0;
                    return (data.commitsArray || data.cy)?.[i - firstYear] || 0
                }
            });

            // Private Contributions
            fields.push({
                name     : `py${i}`,
                type     : 'Integer',
                virtual  : true,
                calculate: data => {
                    const firstYear = data.fy || data.firstYear;
                    if (!firstYear) return 0;
                    return (data.privateContributions || data.py)?.[i - firstYear] || 0
                }
            });

            // Public Contributions (Calculated: Total - Private)
            fields.push({
                name     : `puy${i}`,
                type     : 'Integer',
                virtual  : true,
                calculate: data => {
                    const firstYear = data.fy || data.firstYear;
                    if (!firstYear) return 0;

                    const
                        index      = i - firstYear,
                        total      = (data.yearsArray || data.y)?.[index] || 0,
                        privateVal = (data.privateContributions || data.py)?.[index] || 0;

                    return total - privateVal
                }
            });
        }

        me.fields = fields
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(Contributor));


/***/ },

/***/ "./apps/devindex/store/Contributors.mjs"
/*!**********************************************!*\
  !*** ./apps/devindex/store/Contributors.mjs ***!
  \**********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _model_Contributor_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/Contributor.mjs */ "./apps/devindex/model/Contributor.mjs");
/* harmony import */ var _src_data_Store_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../src/data/Store.mjs */ "./src/data/Store.mjs");
/* harmony import */ var _src_data_proxy_Stream_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../src/data/proxy/Stream.mjs */ "./src/data/proxy/Stream.mjs");




/**
 * @class DevIndex.store.Contributors
 * @extends Neo.data.Store
 */
class Contributors extends _src_data_Store_mjs__WEBPACK_IMPORTED_MODULE_1__["default"] {
    static config = {
        /**
         * @member {String} className='DevIndex.store.Contributors'
         * @protected
         */
        className: 'DevIndex.store.Contributors',
        /**
         * @member {Neo.data.Model} model=ContributorModel
         */
        model: _model_Contributor_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
        /**
         * @member {String} keyProperty='login'
         */
        keyProperty: 'login',
        /**
         * @member {Boolean} autoLoad=true
         */
        autoLoad: true,
        /**
         * @member {Boolean} autoInitRecords=false
         */
        autoInitRecords: false,
        /**
         * @member {Object[]} filters
         */
        filters: [
            {property: 'bio',         operator: 'like', value: null},
            {property: 'commitRatio', operator: '<=',   value: null},
            {property: 'countryCode', operator: '===',  value: null},
            {property: 'isHireable',  operator: '===',  value: null},
            {property: 'login',       operator: 'like', value: null},
            {property: 'name',        operator: 'like', value: null}
        ],
        /**
         * @member {Object} proxy
         */
        proxy: {
            module: _src_data_proxy_Stream_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],
            progressiveChunkSize: true,
            url   : Neo.config.basePath + 'apps/devindex/resources/data/users.jsonl'
        },
        /**
         * @member {Object[]} sorters
         */
        sorters: [
            {property: 'totalContributions', direction: 'DESC'}
        ]
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(Contributors));


/***/ },

/***/ "./apps/devindex/view/home/ControlsContainer.mjs"
/*!*******************************************************!*\
  !*** ./apps/devindex/view/home/ControlsContainer.mjs ***!
  \*******************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_selection_grid_export_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../src/selection/grid/_export.mjs */ "./src/selection/grid/_export.mjs");
/* harmony import */ var _src_form_field_CheckBox_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../src/form/field/CheckBox.mjs */ "./src/form/field/CheckBox.mjs");
/* harmony import */ var _src_form_field_ComboBox_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../src/form/field/ComboBox.mjs */ "./src/form/field/ComboBox.mjs");
/* harmony import */ var _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../src/container/Base.mjs */ "./src/container/Base.mjs");
/* harmony import */ var _src_form_field_Country_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../src/form/field/Country.mjs */ "./src/form/field/Country.mjs");
/* harmony import */ var _ProfileContainer_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ProfileContainer.mjs */ "./apps/devindex/view/home/ProfileContainer.mjs");
/* harmony import */ var _src_form_field_Radio_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../src/form/field/Radio.mjs */ "./src/form/field/Radio.mjs");
/* harmony import */ var _src_tab_Container_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../src/tab/Container.mjs */ "./src/tab/Container.mjs");









/**
 * @class DevIndex.view.home.ControlsContainer
 * @extends Neo.container.Base
 */
class ControlsContainer extends _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_3__["default"] {
    static config = {
        /**
         * @member {String} className='DevIndex.view.home.ControlsContainer'
         * @protected
         */
        className: 'DevIndex.view.home.ControlsContainer',
        /**
         * @member {String[]} cls=['devindex-controls-container']
         * @reactive
         */
        cls: ['devindex-controls-container'],
        /**
         * @member {Object[]} items
         */
        items: [{
            module        : _src_tab_Container_mjs__WEBPACK_IMPORTED_MODULE_7__["default"],
            cls           : ['devindex-controls-container-content'],
            dragResortable: true,
            reference     : 'controls-tab-container',

            headerToolbar: {
                cls           : ['devindex-tab-header-toolbar'],
                sortZoneConfig: {
                    adjustItemRectsToParent: true
                }
            },

            items: [{
                module: _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_3__["default"],
                header: {text: 'Search'},
                layout: 'vbox',

                items: [{
                    module        : _src_form_field_Country_mjs__WEBPACK_IMPORTED_MODULE_4__["default"],
                    clearable     : true,
                    forceSelection: true,
                    labelPosition : 'inline',
                    labelText     : 'Country',
                    listeners     : {change: 'onFilterChange'},
                    name          : 'countryCode',
                    reference     : 'country-field',
                    showFlags     : true,
                    style         : {marginTop: '.3em'},
                    valueField    : 'code',
                    width         : 200
                }, {
                    ntype        : 'textfield',
                    clearable    : true,
                    editable     : true,
                    labelPosition: 'inline',
                    labelText    : 'Username',
                    listeners    : {change: 'onFilterChange'},
                    name         : 'login',
                    style        : {marginTop: '.3em'},
                    width        : 200
                }, {
                    ntype        : 'textfield',
                    clearable    : true,
                    editable     : true,
                    labelPosition: 'inline',
                    labelText    : 'Fullname',
                    listeners    : {change: 'onFilterChange'},
                    name         : 'name',
                    style        : {marginTop: '.3em'},
                    width        : 200
                }, {
                    ntype        : 'textfield',
                    clearable    : true,
                    editable     : true,
                    labelPosition: 'inline',
                    labelText    : 'Bio Search',
                    listeners    : {change: 'onFilterChange'},
                    name         : 'bio',
                    style        : {marginTop: '.3em'},
                    width        : 200
                }, {
                    ntype: 'label',
                    style: {marginTop: '1em'},
                    text : 'Data Mode'
                }, {
                    module        : _src_form_field_Radio_mjs__WEBPACK_IMPORTED_MODULE_6__["default"],
                    checked       : true,
                    dataMode      : 'total',
                    hideLabel     : true,
                    hideValueLabel: false,
                    labelText     : '',
                    listeners     : {change: 'onDataModeChange'},
                    name          : 'dataMode',
                    valueLabel    : 'Total Contributions',
                    width         : 200
                }, {
                    module        : _src_form_field_Radio_mjs__WEBPACK_IMPORTED_MODULE_6__["default"],
                    dataMode      : 'public',
                    hideLabel     : true,
                    hideValueLabel: false,
                    labelText     : '',
                    listeners     : {change: 'onDataModeChange'},
                    name          : 'dataMode',
                    style         : {marginTop: '.3em'},
                    valueLabel    : 'Public Contributions',
                    width         : 200
                }, {
                    module        : _src_form_field_Radio_mjs__WEBPACK_IMPORTED_MODULE_6__["default"],
                    dataMode      : 'private',
                    hideLabel     : true,
                    hideValueLabel: false,
                    labelText     : '',
                    listeners     : {change: 'onDataModeChange'},
                    name          : 'dataMode',
                    style         : {marginTop: '.3em'},
                    valueLabel    : 'Private Contributions',
                    width         : 200
                }, {
                    module        : _src_form_field_Radio_mjs__WEBPACK_IMPORTED_MODULE_6__["default"],
                    dataMode      : 'commits',
                    hideLabel     : true,
                    hideValueLabel: false,
                    labelText     : '',
                    listeners     : {change: 'onDataModeChange'},
                    name          : 'dataMode',
                    style         : {marginTop: '.3em'},
                    valueLabel    : 'Total Commits',
                    width         : 200
                }, {
                    ntype: 'label',
                    style: {marginTop: '1em'},
                    text : 'Filters'
                }, {
                    module       : _src_form_field_CheckBox_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
                    checked      : false,
                    hideLabel    : true,
                    listeners    : {change: 'onHireableChange'},
                    valueLabel   : 'Hireable Only',
                    width        : 200
                }, {
                    module       : _src_form_field_CheckBox_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
                    checked      : false,
                    hideLabel    : true,
                    listeners    : {change: 'onHideAutomationChange'},
                    style        : {marginTop: '.3em'},
                    valueLabel   : 'Hide Commit Ratio > 90%',
                    width        : 200
                }]
            }, {
                module   : _ProfileContainer_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
                header   : {text: 'Profile'},
                reference: 'profile-container'
            }, {
                module: _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_3__["default"],
                header: {text: 'Settings'},
                layout: 'vbox',

                itemDefaults: {
                    module        : _src_form_field_Radio_mjs__WEBPACK_IMPORTED_MODULE_6__["default"],
                    hideLabel     : true,
                    hideValueLabel: false,
                    labelText     : '',
                    listeners     : {change: 'onSelectionModelChange'},
                    name          : 'selectionModel',
                    style         : {marginTop: '.3em'},
                    width         : 200
                },

                items: [{
                    module       : _src_form_field_CheckBox_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
                    bind         : {checked: data => data.slowHeaderVisuals},
                    checked      : false,
                    hideLabel    : true,
                    listeners    : {change: 'onSlowHeaderVisualsChange'},
                    name         : 'slowHeaderVisuals',
                    style        : {marginTop: 0},
                    valueLabel   : 'Slow Header Canvas',
                    width        : 200
                }, {
                    module       : _src_form_field_CheckBox_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
                    bind         : {checked: data => data.animateGridVisuals},
                    checked      : true,
                    hideLabel    : true,
                    listeners    : {change: 'onAnimateGridVisualsChange'},
                    name         : 'animateGridVisuals',
                    style        : {marginTop: '.3em'},
                    valueLabel   : 'Animate Grid Sparklines',
                    width        : 200
                }, {
                    module        : _src_form_field_ComboBox_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],
                    clearable     : false,
                    editable      : false,
                    forceSelection: true,
                    hideLabel     : false,
                    labelText     : 'Buffer Row Range',
                    labelPosition : 'inline',
                    labelWidth    : 135,
                    listeners     : {change: 'onBufferRowRangeChange'},
                    store         : ['1', '2', '3', '5'],
                    style         : {marginTop: '1em'},
                    value         : '1',
                    width         : 200
                }, {
                    module        : _src_form_field_ComboBox_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],
                    clearable     : false,
                    editable      : false,
                    forceSelection: true,
                    hideLabel     : false,
                    labelText     : 'Buffer Column Range',
                    labelPosition : 'inline',
                    labelWidth    : 135,
                    listeners     : {change: 'onBufferColumnRangeChange'},
                    store         : ['1', '2', '3', '5'],
                    style         : {marginTop: '.3em'},
                    value         : '1',
                    width         : 200
                }, {
                    ntype: 'label',
                    style: {marginTop: '1em'},
                    text : 'Pick the Selection Model'
                }, {
                    style         : {marginTop: '.3em'},
                    selectionModel: _src_selection_grid_export_mjs__WEBPACK_IMPORTED_MODULE_0__.CellModel,
                    valueLabel    : 'Cell'
                }, {
                    selectionModel: _src_selection_grid_export_mjs__WEBPACK_IMPORTED_MODULE_0__.ColumnModel,
                    valueLabel    : 'Column'
                }, {
                    checked       : true,
                    selectionModel: _src_selection_grid_export_mjs__WEBPACK_IMPORTED_MODULE_0__.RowModel,
                    valueLabel    : 'Row'
                }, {
                    selectionModel: _src_selection_grid_export_mjs__WEBPACK_IMPORTED_MODULE_0__.CellColumnModel,
                    valueLabel    : 'Cell & Column'
                }, {
                    selectionModel: _src_selection_grid_export_mjs__WEBPACK_IMPORTED_MODULE_0__.CellRowModel,
                    valueLabel    : 'Cell & Row'
                }, {
                    selectionModel: _src_selection_grid_export_mjs__WEBPACK_IMPORTED_MODULE_0__.CellColumnRowModel,
                    valueLabel    : 'Cell & Column & Row'
                }]
            }]
        }],
        /**
         * @member {Object} layout={ntype:'vbox'}
         * @reactive
         */
        layout: {ntype: 'fit'},
        /**
         * @member {String} tag='aside'
         * @reactive
         */
        tag: 'aside'
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(ControlsContainer));


/***/ },

/***/ "./apps/devindex/view/home/GridContainer.mjs"
/*!***************************************************!*\
  !*** ./apps/devindex/view/home/GridContainer.mjs ***!
  \***************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_grid_Container_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../src/grid/Container.mjs */ "./src/grid/Container.mjs");
/* harmony import */ var _component_Heuristics_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./component/Heuristics.mjs */ "./apps/devindex/view/home/component/Heuristics.mjs");



const regexYearColumn = /^(c|p|pu)?y\d{4}$/;

/**
 * @class DevIndex.view.home.GridContainer
 * @extends Neo.grid.Container
 */
class GridContainer extends _src_grid_Container_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='DevIndex.view.home.GridContainer'
         * @protected
         */
        className: 'DevIndex.view.home.GridContainer',
        /**
         * @member {Boolean} animateVisuals_=true
         * @reactive
         */
        animateVisuals_: true,
        /**
         * @member {String[]} cls=['devindex-grid-container']
         */
        cls: ['devindex-grid-container'],
        /**
         * @member {String} dataMode_='total'
         * @reactive
         */
        dataMode_: 'total',
        /**
         * @member {Object} body
         */
        body: {
            bufferColumnRange: 1,
            bufferRowRange   : 1,
            listeners        : {
                isScrollingChange: 'onGridIsScrollingChange'
            }
        },
        /**
         * Default configs for each column
         * @member {Object} columnDefaults
         */
        columnDefaults: {
            cellAlign           : 'left',
            defaultSortDirection: 'DESC',
            width               : 150
        },
        /**
         * @member {Number} rowHeight=50
         */
        rowHeight: 50
    }

    /**
     * @param {Object} config
     */
    construct(config) {
        super.construct(config);
        this.buildDynamicColumns()
    }

    /**
     * @param {String} value
     * @param {String} oldValue
     */
    afterSetDataMode(value, oldValue) {
        if (oldValue === undefined) return;

        let me              = this,
            {footerToolbar} = me,
            {store}         = me,
            activeSorter    = store.sorters?.[0];

        if (footerToolbar) {
            footerToolbar.dataMode = value
        }

        // 1. Update Column DataFields & Components
        me.columns.items.forEach(column => {
            let {dataField} = column,
                newDataField;

            if (regexYearColumn.test(dataField)) {
                // Switch between 'y2020', 'cy2020', 'py2020', 'puy2020'
                let year   = dataField.slice(-4),
                    prefix = '';

                if (value === 'commits') {
                    prefix = 'c'
                } else if (value === 'private') {
                    prefix = 'p'
                } else if (value === 'public') {
                    prefix = 'pu'
                }

                newDataField = prefix + 'y' + year
            } else if (['totalContributions', 'totalCommits', 'totalPrivateContributions', 'totalPublicContributions'].includes(dataField)) {
                switch (value) {
                    case 'commits':
                        newDataField = 'totalCommits';
                        break;
                    case 'private':
                        newDataField = 'totalPrivateContributions';
                        break;
                    case 'public':
                        newDataField = 'totalPublicContributions';
                        break;
                    default:
                        newDataField = 'totalContributions';
                        break
                }
            } else if (dataField === 'activity') {
                // Update Sparkline Component to read from correct prefix
                column.component = ({record}) => {
                    const
                        data    = [],
                        endYear = new Date().getFullYear();

                    for (let i = 2010; i <= endYear; i++) {
                        let yearVal = 0;

                        if (value === 'commits') {
                            yearVal = record[`cy${i}`] || 0
                        } else if (value === 'private') {
                            yearVal = record[`py${i}`] || 0
                        } else if (value === 'public') {
                            yearVal = record[`puy${i}`] || 0
                        } else {
                            yearVal = record[`y${i}`] || 0
                        }

                        data.push(yearVal)
                    }
                    return {values: data}
                }
            }

            if (newDataField && newDataField !== dataField) {
                // Update Column
                column.dataField = newDataField
            }
        });

        // 2. Update Active Sorter if needed
        if (activeSorter) {
            let {property} = activeSorter;

            if (regexYearColumn.test(property)) {
                let year   = property.slice(-4),
                    prefix = '';

                if (value === 'commits') {
                    prefix = 'c'
                } else if (value === 'private') {
                    prefix = 'p'
                } else if (value === 'public') {
                    prefix = 'pu'
                }
                activeSorter.property = prefix + 'y' + year
            } else if (['totalContributions', 'totalCommits', 'totalPrivateContributions', 'totalPublicContributions'].includes(property)) {
                switch (value) {
                    case 'commits':
                        activeSorter.property = 'totalCommits';
                        break;
                    case 'private':
                        activeSorter.property = 'totalPrivateContributions';
                        break;
                    case 'public':
                        activeSorter.property = 'totalPublicContributions';
                        break;
                    default:
                        activeSorter.property = 'totalContributions';
                        break
                }
            }
        }

        // 3. Refresh Grid View
        me.body.createViewData(false, true)
    }

    /**
     *
     */
    buildDynamicColumns() {
        const
            currentYear      = new Date().getFullYear(),
            endYear          = currentYear,
            activityDuration = endYear - 2010 + 1,
            columns          = [{
                type     : 'index',
                dataField: 'id',
                text     : '#',
                width    : 60,
                cellAlign: 'right'
            }, {
                type     : 'githubUser',
                dataField: 'login',
                text     : 'User',
                width    : 250
            }, {
                dataField           : 'totalContributions',
                text                : 'Total',
                width               : 100,
                cellAlign           : 'right',
                defaultSortDirection: 'DESC',
                renderer            : ({value}) => new Intl.NumberFormat().format(value)
            }, {
                dataField           : 'commitRatio',
                text                : 'Commits %',
                width               : 90,
                cellAlign           : 'right',
                defaultSortDirection: 'DESC',
                renderer            : ({value}) => (value || 0).toFixed(2)
            }, {
                dataField           : 'privateContributionsRatio',
                text                : 'Private %',
                width               : 90,
                cellAlign           : 'right',
                defaultSortDirection: 'DESC',
                renderer            : ({value}) => value ? value.toFixed(2) : ''
            }, {
                type     : 'component',
                dataField: 'heuristics',
                text     : 'Impact',
                width    : 100,
                component: ({record}) => ({
                    module     : _component_Heuristics_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
                    heuristics : record.heuristics || record.hm
                })
            }, {
                dataField  : 'activity',
                text       : `Activity (${activityDuration}y)`,
                width      : 160,
                type       : 'sparkline',
                useBindings: true,
                component  : ({record}) => {
                    const data = [];
                    // Iterate from 2010 to endYear
                    for (let i = 2010; i <= endYear; i++) {
                        data.push(record[`y${i}`] || 0)
                    }

                    return {
                        bind  : {usePulse: data => data.animateGridVisuals},
                        values: data
                    }
                }
            }, {
                type          : 'iconLink',
                dataField     : 'topRepo',
                cellIconCls   : 'fa-brands fa-github',
                labelFormatter: val => val?.[1] ? new Intl.NumberFormat().format(val[1]) : null,
                text          : 'Top Repo',
                urlFormatter  : val => val ? `https://github.com/${val[0]}` : null,
                width         : 100
            }, {
                dataField: 'company',
                text     : 'Company',
                width    : 200,
                renderer : ({value}) => value ? value.replace(/^@/, '') : ''
            }, {
                type     : 'countryFlag',
                dataField: 'countryCode',
                sortable : false,
                text     : 'Location',
                width    : 200
            }, {
                type       : 'iconLink',
                cellAlign  : 'center',
                dataField  : 'website',
                cellCls    : 'devindex-column-website',
                cellIconCls: 'fa fa-home',
                text       : 'Website',
                width      : 65
            }, {
                type     : 'linkedin',
                cellAlign: 'center',
                dataField: 'linkedinUrl',
                cellCls  : 'devindex-column-linkedin',
                text     : 'LI',
                width    : 40
            }, {
                type       : 'icon',
                cellAlign  : 'center',
                dataField  : 'isHireable',
                cellCls    : 'devindex-column-hireable',
                cellIconCls: 'fas fa-circle-check',
                text       : 'Hireable',
                width      : 65
            }, {
                type       : 'iconLink',
                cellAlign  : 'center',
                dataField  : 'twitter',
                cellCls    : 'devindex-column-twitter',
                cellIconCls: 'fa-brands fa-x-twitter',
                text       : 'X',
                urlFormatter: val => val ? (String(val).startsWith('http') ? val : `https://x.com/${val}`) : null,
                width      : 40
            }, {
                type     : 'githubOrgs',
                dataField: 'organizations',
                text     : 'Orgs',
                width    : 150
            }, {
                dataField: 'followers',
                text     : 'Followers',
                width    : 100,
                cellAlign: 'right',
                renderer : ({value}) => value ? new Intl.NumberFormat().format(value) : '-'
            }, {
                type          : 'iconLink',
                cellAlign     : 'center',
                cellCls       : 'devindex-column-sponsors',
                dataField     : 'hasSponsors',
                cellIconCls   : 'fa-regular fa-heart',
                labelFormatter: val => val != null ? String(val) : null,
                text          : 'Sponsors',
                urlFormatter  : (val, record) => val != null ? `https://github.com/sponsors/${record.login}` : null,
                width         : 80
            }, {
                dataField: 'firstYear',
                text     : 'Since', width: 80,
                cellAlign: 'center'
            }];

        // Add Year Columns
        for (let year = endYear; year >= 2010; year--) {
            columns.push({
                dataField: `y${year}`,
                text     : String(year),
                width    : 80,
                cellAlign: 'center',
                renderer : ({value}) => value || '',
                cellCls  : ({value}) => {
                    let cls = ['neo-heatmap'];

                    if (!value) {
                        cls.push('heatmap-cell-0')
                    } else if (value < 100) {
                        cls.push('heatmap-cell-1')
                    } else if (value < 1000) {
                        cls.push('heatmap-cell-2')
                    } else {
                        cls.push('heatmap-cell-3')
                    }

                    return cls
                }
            });
        }

        columns.push({
            dataField: 'lastUpdated',
            text     : 'Updated',
            width    : 120,
            cellAlign: 'right',
            renderer : ({value}) => new Date(value).toISOString().split('T')[0]
        });

        this.columns = columns
    }

    /**
     * @param {Object} opts
     */
    onSortColumn(opts) {
        let me         = this,
            {dataMode} = me,
            sortOpts   = {...opts};

        if (sortOpts.property === 'topRepo') {
            sortOpts.property = 'topRepoCount';
        }

        // Intercept sort on year columns to use correct field
        if (dataMode !== 'total') {
            if (regexYearColumn.test(sortOpts.property)) {
                let year   = sortOpts.property.slice(-4),
                    prefix = '';

                if (dataMode === 'commits') {
                    prefix = 'c'
                } else if (dataMode === 'private') {
                    prefix = 'p'
                } else if (dataMode === 'public') {
                    prefix = 'pu'
                }

                if (prefix) {
                    sortOpts.property = prefix + 'y' + year
                }
            } else if (sortOpts.property === 'totalContributions') {
                switch (dataMode) {
                    case 'commits':
                        sortOpts.property = 'totalCommits';
                        break;
                    case 'private':
                        sortOpts.property = 'totalPrivateContributions';
                        break;
                    case 'public':
                        sortOpts.property = 'totalPublicContributions';
                        break;
                }
            }
        }
        
        me.store.sort(sortOpts);
        me.removeSortingCss(opts.property)
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(GridContainer));


/***/ },

/***/ "./apps/devindex/view/home/MainContainer.mjs"
/*!***************************************************!*\
  !*** ./apps/devindex/view/home/MainContainer.mjs ***!
  \***************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../src/container/Base.mjs */ "./src/container/Base.mjs");
/* harmony import */ var _MainContainerController_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MainContainerController.mjs */ "./apps/devindex/view/home/MainContainerController.mjs");
/* harmony import */ var _ControlsContainer_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ControlsContainer.mjs */ "./apps/devindex/view/home/ControlsContainer.mjs");
/* harmony import */ var _GridContainer_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GridContainer.mjs */ "./apps/devindex/view/home/GridContainer.mjs");
/* harmony import */ var _MainContainerStateProvider_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MainContainerStateProvider.mjs */ "./apps/devindex/view/home/MainContainerStateProvider.mjs");
/* harmony import */ var _StatusToolbar_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StatusToolbar.mjs */ "./apps/devindex/view/home/StatusToolbar.mjs");







/**
 * @class DevIndex.view.home.MainContainer
 * @extends Neo.container.Base
 */
class MainContainer extends _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='DevIndex.view.home.MainContainer'
         * @protected
         */
        className: 'DevIndex.view.home.MainContainer',
        /**
         * @member {String[]} baseCls=['devindex-home-maincontainer','neo-container']
         * @protected
         */
        baseCls: ['devindex-home-maincontainer', 'neo-container'],
        /**
         * @member {Neo.controller.Component} controller=Controller
         */
        controller: _MainContainerController_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
        /**
         * @member {Neo.state.Provider} stateProvider=MainContainerStateProvider
         */
        stateProvider: _MainContainerStateProvider_mjs__WEBPACK_IMPORTED_MODULE_4__["default"],
        /**
         * @member {Object} layout={ntype:'hbox',align:'stretch'}
         * @reactive
         */
        layout: {ntype: 'hbox', align: 'stretch'},
        /**
         * @member {Object[]} items
         */
        items: [{
            module   : _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
            cls      : ['devindex-grid-wrapper'],
            flex     : 1,
            layout   : {ntype: 'vbox', align: 'stretch'},
            reference: 'grid-wrapper',
            items    : [{
                module   : _GridContainer_mjs__WEBPACK_IMPORTED_MODULE_3__["default"],
                bind     : {store: 'stores.contributors'},
                reference: 'grid',
                flex     : 1
            }, {
                module: _StatusToolbar_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
                bind     : {store: 'stores.contributors'},
                flex  : 'none'
            }]
        }, {
            module   : _ControlsContainer_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],
            reference: 'controls'
        }]
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(MainContainer));


/***/ },

/***/ "./apps/devindex/view/home/MainContainerController.mjs"
/*!*************************************************************!*\
  !*** ./apps/devindex/view/home/MainContainerController.mjs ***!
  \*************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_controller_Component_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../src/controller/Component.mjs */ "./src/controller/Component.mjs");


/**
 * @class DevIndex.view.home.MainContainerController
 * @extends Neo.controller.Component
 */
class MainContainerController extends _src_controller_Component_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='DevIndex.view.home.MainContainerController'
         * @protected
         */
        className: 'DevIndex.view.home.MainContainerController'
    }

    /**
     * @member {Boolean} firstFiltering=true
     */
    firstFiltering = true

    /**
     * @param {Object} data
     */
    onBufferColumnRangeChange(data) {
        if (data.oldValue) {
            let value = data.value;

            if (Neo.isRecord(value)) {
                value = value.id
            }

            this.getReference('grid').body.bufferColumnRange = parseInt(value)
        }
    }

    /**
     * @param {Object} data
     */
    onBufferRowRangeChange(data) {
        if (data.oldValue) {
            let value = data.value;

            if (Neo.isRecord(value)) {
                value = value.id
            }

            this.getReference('grid').body.bufferRowRange = parseInt(value)
        }
    }

    /**
     * @param {Object} data
     */
    onDataModeChange(data) {
        if (data.value) { // Radio group: only react to the newly checked item
            this.getReference('grid').dataMode = data.component.dataMode
        }
    }

    /**
     *
     */
    onComponentConstructed() {
        let me = this;

        me.getReference('grid').body.on('select', me.onGridSelect, me);

        me.getReference('controls-tab-container').on('activeIndexChange', me.onControlsTabChange, me);

        Neo.Main.getByPath({
            path    : 'location.search',
            windowId: me.windowId
        }).then(data => {
            if (data) {
                let params  = new URLSearchParams(data),
                    country = params.get('country'),
                    field;

                if (country) {
                    field = me.getReference('country-field');

                    if (field) {
                        field.value = country
                    }
                }
            }
        })
    }

    /**
     * @param {Object} data
     */
    onControlsTabChange(data) {
        let me = this;

        if (data.value === 1 && me.selectedRecord) { // 1 = Profile Tab
            me.getReference('profile-container')?.updateRecord(me.selectedRecord)
        }
    }

    /**
     * @param {Object} data
     */
    async onFilterChange(data) {
        let me    = this,
            grid  = me.getReference('grid'),
            value = data.component.getSubmitValue();

        if (data.component.name === 'countryCode' && value) {
            value = value.toUpperCase()
        }

        if (me.firstFiltering) {
            me.firstFiltering = false;
            grid.isLoading = 'Is Loading';
            await me.timeout(5)
        }

        grid.store.getFilter(data.component.name).value = value;
        grid.isLoading = false
    }

    /**
     * @param {Object} data
     */
    onGridIsScrollingChange(data) {
        this.setState('isScrolling', data.value)
    }

    /**
     * @param {Object} data
     */
    onGridSelect(data) {
        let me           = this,
            record       = data.record,
            profile      = me.getReference('profile-container'),
            tabContainer = me.getReference('controls-tab-container');

        me.selectedRecord = record;

        if (record && profile && tabContainer?.activeIndex === 1) {
            profile.updateRecord(record)
        }
    }

    /**
     * @param {Object} data
     */
    async onHideAutomationChange(data) {
        let me   = this,
            grid = me.getReference('grid');

        if (me.firstFiltering) {
            me.firstFiltering = false;
            grid.isLoading = 'Is Loading';
            await me.timeout(5)
        }

        grid.store.getFilter('commitRatio').value = data.value ? 90 : null;
        grid.isLoading = false
    }

    /**
     * @param {Object} data
     */
    async onHireableChange(data) {
        let me   = this,
            grid = me.getReference('grid');

        if (me.firstFiltering) {
            me.firstFiltering = false;
            grid.isLoading = 'Is Loading';
            await me.timeout(5)
        }

        grid.store.getFilter('isHireable').value = data.value ? true : null;
        grid.isLoading = false
    }

    /**
     * @param {Object} data
     */
    onSelectionModelChange(data) {
        this.getReference('grid').body.selectionModel = data.component.selectionModel
    }

    /**
     * @param {Object} data
     */
    onAnimateGridVisualsChange(data) {
        this.setState('animateGridVisuals', data.value);

        Neo.main.addon.LocalStorage.updateLocalStorageItem({
            key     : 'devindexAnimateGridVisuals',
            value   : String(data.value),
            windowId: this.windowId
        })
    }

    /**
     * @param {Object} data
     */
    onSlowHeaderVisualsChange(data) {
        this.setState('slowHeaderVisuals', data.value);

        Neo.main.addon.LocalStorage.updateLocalStorageItem({
            key     : 'devindexSlowHeaderVisuals',
            value   : String(data.value),
            windowId: this.windowId
        })
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(MainContainerController));


/***/ },

/***/ "./apps/devindex/view/home/MainContainerStateProvider.mjs"
/*!****************************************************************!*\
  !*** ./apps/devindex/view/home/MainContainerStateProvider.mjs ***!
  \****************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _store_Contributors_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../store/Contributors.mjs */ "./apps/devindex/store/Contributors.mjs");
/* harmony import */ var _src_state_Provider_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../src/state/Provider.mjs */ "./src/state/Provider.mjs");



/**
 * @class DevIndex.view.home.MainContainerStateProvider
 * @extends Neo.state.Provider
 */
class MainContainerStateProvider extends _src_state_Provider_mjs__WEBPACK_IMPORTED_MODULE_1__["default"] {
    static config = {
        /**
         * @member {String} className='DevIndex.view.home.MainContainerStateProvider'
         * @protected
         */
        className: 'DevIndex.view.home.MainContainerStateProvider',
        /**
         * @member {Object} stores
         */
        stores: {
            contributors: {
                module: _store_Contributors_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]
            }
        }
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(MainContainerStateProvider));


/***/ },

/***/ "./apps/devindex/view/home/ProfileContainer.mjs"
/*!******************************************************!*\
  !*** ./apps/devindex/view/home/ProfileContainer.mjs ***!
  \******************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../src/container/Base.mjs */ "./src/container/Base.mjs");
/* harmony import */ var _src_component_Image_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../src/component/Image.mjs */ "./src/component/Image.mjs");
/* harmony import */ var _src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../src/util/VDom.mjs */ "./src/util/VDom.mjs");




/**
 * @class DevIndex.view.home.ProfileContainer
 * @extends Neo.container.Base
 */
class ProfileContainer extends _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='DevIndex.view.home.ProfileContainer'
         * @protected
         */
        className: 'DevIndex.view.home.ProfileContainer',
        /**
         * @member {String[]} cls=['devindex-profile-container']
         */
        cls: ['devindex-profile-container'],
        /**
         * @member {Object} layout={ntype:'vbox',align:'stretch'}
         */
        layout: {ntype: 'vbox', align: 'stretch'},
        /**
         * @member {Object} itemDefaults={flex:'none'}
         */
        itemDefaults: {flex: 'none'},
        /**
         * @member {Object[]} items
         */
        items: [{
            ntype    : 'component',
            tag      : 'div',
            reference: 'placeholder',
            text     : 'Select a user to view details',
            cls      : ['profile-placeholder']
        }, {
            ntype    : 'container',
            reference: 'details-wrapper',
            cls      : ['profile-details-wrapper'],
            hidden   : true,
            layout   : {ntype: 'vbox', align: 'stretch'},
            itemDefaults: {flex: 'none'},
            items    : [{
                ntype    : 'component',
                reference: 'profile-header',
                cls      : ['profile-header'],
                vdom     : {
                    cn: [{
                        tag: 'div', cls: ['profile-avatar-wrapper'], cn: [
                            {tag: 'img', cls: ['profile-avatar'], flag: 'avatar'}
                        ]
                    }, {
                        tag: 'div', cls: ['profile-names'], cn: [
                            {tag: 'div', cls: ['profile-name'],  flag: 'name'},
                            {tag: 'div', cls: ['profile-login'], flag: 'login'}
                        ]
                    }]
                }
            }, {
                ntype    : 'component',
                tag      : 'div',
                cls      : ['profile-bio'],
                reference: 'profile-bio',
                text     : ''
            }, {
                ntype: 'component',
                tag  : 'div',
                cls  : ['profile-details-label'],
                text : 'Details'
            }, {
                ntype    : 'component',
                tag      : 'div',
                cls      : ['profile-detail'],
                reference: 'profile-location',
                text     : ''
            }, {
                ntype    : 'component',
                tag      : 'div',
                cls      : ['profile-detail'],
                reference: 'profile-company',
                text     : ''
            }, {
                ntype    : 'container',
                reference: 'profile-orgs',
                layout   : {ntype: 'hbox', wrap: 'wrap'},
                cls      : ['profile-orgs'],
                items    : []
            }]
        }]
    }

    /**
     * @param {String} src
     * @param {Number} size
     * @returns {String}
     */
    getAvatarUrl(src, size) {
        if (src) {
            try {
                let urlStr = String(src);
                if (!urlStr.startsWith('http')) {
                    return `https://avatars.githubusercontent.com/u/${src}?v=4&s=${size}`;
                }
                let url = new URL(src);
                url.searchParams.set('s', size);
                return url.toString()
            } catch (e) {
                console.error('Invalid Avatar URL', src)
            }
        }

        return src || ''
    }

    /**
     * @param {Object} record
     */
    updateRecord(record) {
        let me      = this,
            wrapper = me.getReference('details-wrapper'),
            holder  = me.getReference('placeholder'),
            header  = me.getReference('profile-header'),
            bio     = me.getReference('profile-bio'),
            loc     = me.getReference('profile-location'),
            comp    = me.getReference('profile-company'),
            orgs    = me.getReference('profile-orgs'),
            vdom    = header.vdom,
            avatar, name, login;

        if (!record) {
            wrapper.hidden = true;
            holder.hidden  = false;
            return
        }

        wrapper.hidden = false;
        holder.hidden  = true;

        avatar = _src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getByFlag(vdom, 'avatar');
        name   = _src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getByFlag(vdom, 'name');
        login  = _src_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getByFlag(vdom, 'login');

        if (avatar) {
            avatar.src = me.getAvatarUrl(record.avatarUrl, 128)
        }
        if (name) {
            name.text  = record.name || '';
        }
        if (login) {
            login.text = `@${record.login}`;
        }

        header.update();

        bio.text = record.bio || 'No bio available.';
        loc.text = record.location ? ` ${record.location}` : '';
        comp.text = record.company ? ` ${record.company}` : '';

        // Update Orgs
        orgs.removeAll();

        if (record.organizations && Array.isArray(record.organizations) && record.organizations.length > 0) {
            orgs.add({ntype: 'component', tag: 'div', cls: ['org-label'], text: 'Organizations:'});
            
            record.organizations.forEach(org => {
                orgs.add({
                    module: _src_component_Image_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
                    alt   : org.login,
                    height: 32,
                    src   : me.getAvatarUrl(org.avatarUrl, 64),
                    title : org.login,
                    width : 32
                })
            });
        }
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(ProfileContainer));


/***/ },

/***/ "./apps/devindex/view/home/StatusToolbar.mjs"
/*!***************************************************!*\
  !*** ./apps/devindex/view/home/StatusToolbar.mjs ***!
  \***************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_component_Progress_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../src/component/Progress.mjs */ "./src/component/Progress.mjs");
/* harmony import */ var _src_grid_footer_Toolbar_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../src/grid/footer/Toolbar.mjs */ "./src/grid/footer/Toolbar.mjs");



/**
 * @class DevIndex.view.home.StatusToolbar
 * @extends Neo.grid.footer.Toolbar
 *
 * @summary A status toolbar for the DevIndex grid, displaying streaming progress and row counts.
 *
 * This component demonstrates the usage of `Neo.grid.footer.Toolbar` by implementing the
 * store event hooks (`onStoreLoad`, `onStoreProgress`, `onStoreFilter`).
 *
 * Key features:
 * - **Progressive Loading Indicator:** Uses a `Neo.component.Progress` to visualize data arrival from the
 *   `Neo.data.proxy.Stream`. The progress bar updates in real-time via `onStoreProgress`.
 * - **Visible Row Count:** Updates a label with the current number of records in the store
 *   whenever the store loads or filters change.
 * - **Auto-Hiding:** The progress bar automatically hides itself shortly after the load completes.
 */
class StatusToolbar extends _src_grid_footer_Toolbar_mjs__WEBPACK_IMPORTED_MODULE_1__["default"] {
    static config = {
        /**
         * @member {String} className='DevIndex.view.home.StatusToolbar'
         * @protected
         */
        className: 'DevIndex.view.home.StatusToolbar',
        /**
         * @member {String} ntype='devindex-status-toolbar'
         * @protected
         */
        ntype: 'devindex-status-toolbar',
        /**
         * @member {String[]} cls=['devindex-status-toolbar']
         */
        cls: ['devindex-status-toolbar'],
        /**
         * @member {String} dataMode_='total'
         */
        dataMode_: 'total',
        /**
         * @member {Object} layout
         */
        layout: {ntype: 'hbox', align: 'center', wrap: 'wrap'},
        /**
         * @member {Object[]} items
         */
        items: [{
            ntype    : 'label',
            reference: 'progress-label',
            text     : 'Streaming Users:'
        }, {
            module   : _src_component_Progress_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
            flex     : 'none',
            max      : 100,
            reference: 'progress',
            value    : 0,
            width    : 100
        }, {
            ntype    : 'button',
            cls      : ['devindex-stop-stream-button'],
            flex     : 'none',
            handler  : 'up.onStopButtonClick',
            height   : 22,
            iconCls  : 'fa fa-ban',
            reference: 'stop-button',
            text     : 'Stop',
            ui       : 'secondary'
        }, {
            ntype : 'container',
            cls   : ['devindex-stats-container'],
            layout: {ntype: 'hbox', align: 'center'},
            items : [{
                ntype    : 'label',
                reference: 'total-contributions-label',
                text     : 'Total Contributions: 0'
            }, {
                ntype: 'label',
                text : ''
            }, {
                ntype    : 'label',
                reference: 'count-rows-label',
                text     : 'Visible Rows: 0'
            }]
        }]
    }
    /**
     * @member {Intl.NumberFormat} numberFormatter=new Intl.NumberFormat()
     */
    numberFormatter = new Intl.NumberFormat()

    /**
     * @param {String} value
     * @param {String} oldValue
     */
    afterSetDataMode(value, oldValue) {
        if (oldValue !== undefined) {
            this.updateLabels()
        }
    }

    /**
     *
     */
    onStopButtonClick() {
        this.store.abort()
    }

    /**
     * @param {Object} data
     */
    onStoreFilter(data) {
        this.updateLabels()
    }

    /**
     * @param {Object} data
     */
    onStoreLoad(data) {
        let me = this;

        me.updateLabels();

        if (!data.isLoading) {
            me.timeout(500).then(() => {
                let progress      = me.getReference('progress');
                let progressLabel = me.getReference('progress-label');
                let stopButton    = me.getReference('stop-button');

                progress     .hidden = true;
                progressLabel.hidden = true;
                stopButton   .hidden = true
            })
        }
    }

    /**
     * @param {Object} data {loaded, total}
     */
    onStoreProgress(data) {
        let me = this;

        me.getReference('progress')?.set({
            hidden: false,
            max   : data.total || 100,
            value : data.total ? data.loaded : null // Indeterminate state if total is unknown
        });

        me.getReference('stop-button').hidden = false
    }

    /**
     *
     */
    updateLabels() {
        let me                = this,
            {dataMode, store} = me,
            {count, items}    = store,
            total             = 0,
            i                 = 0,
            item, labelText;

        switch (dataMode) {
            case 'commits':
                labelText = 'Total Commits';
                break;
            case 'private':
                labelText = 'Private Contributions';
                break;
            case 'public':
                labelText = 'Public Contributions';
                break;
            default: // total
                labelText = 'Total Contributions';
                break
        }

        for (; i < count; i++) {
            item = items[i];

            if (dataMode === 'commits') {
                total += (item.totalCommits ?? store.resolveField(item, 'totalCommits') ?? 0)
            } else if (dataMode === 'private') {
                total += (item.totalPrivateContributions ?? store.resolveField(item, 'totalPrivateContributions') ?? 0)
            } else if (dataMode === 'public') {
                total += (item.totalPublicContributions ?? store.resolveField(item, 'totalPublicContributions') ?? 0)
            } else { // total
                total += (item.tc ?? item.totalContributions ?? 0)
            }
        }

        me.getReference('count-rows-label')         .text = 'Visible Rows: ' + me.numberFormatter.format(count);
        me.getReference('total-contributions-label').text = `${labelText}: ${me.numberFormatter.format(total)}`
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(StatusToolbar));


/***/ },

/***/ "./apps/devindex/view/home/component/Heuristics.mjs"
/*!**********************************************************!*\
  !*** ./apps/devindex/view/home/component/Heuristics.mjs ***!
  \**********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../src/component/Base.mjs */ "./src/component/Base.mjs");


/**
 * @class DevIndex.view.home.component.Heuristics
 * @extends Neo.component.Base
 */
class Heuristics extends _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='DevIndex.view.home.component.Heuristics'
         * @protected
         */
        className: 'DevIndex.view.home.component.Heuristics',
        /**
         * @member {String[]} cls=['devindex-heuristics']
         */
        cls: ['devindex-heuristics'],
        /**
         * @member {Object|null} heuristics_=null
         */
        heuristics_: null,
        /**
         * @member {Object} _vdom
         */
        _vdom:
        {cn: [
            {tag: 'span', cls: ['devindex-badge']}, // Velocity
            {tag: 'span', cls: ['devindex-badge']}, // Acceleration
            {tag: 'span', cls: ['devindex-badge']}  // Consistency
        ]}
    }

    /**
     * @param {Object|null} value
     * @param {Object|null} oldValue
     */
    afterSetHeuristics(value, oldValue) {
        let me     = this,
            {vdom} = me,
            nodes  = vdom.cn,
            badges, v, a, c;

        if (value) {
            ({v, a, c} = value);
            badges = [];

            // 1. Velocity (v)
            if (v > 1000) {
                badges.push({cls: 'fire', icon: '', title: 'Velocity: Superhuman (>1k/day)'})
            } else if (v > 100) {
                badges.push({cls: 'bolt', icon: '', title: 'Velocity: High (>100/day)'})
            }

            // 2. Acceleration (a)
            if (a > 10) {
                badges.push({cls: 'rocket', icon: '', title: 'Acceleration: Explosive Growth (>10x)'})
            } else if (a > 2) {
                badges.push({cls: 'trend-up', icon: '', title: 'Acceleration: Rising Star (>2x)'})
            }

            // 3. Consistency (c)
            if (c > 10) {
                badges.push({cls: 'pillar', icon: '', title: 'Consistency: Community Pillar (>10y)'})
            } else if (c > 5) {
                badges.push({cls: 'shield', icon: '', title: 'Consistency: Veteran (>5y)'})
            }

            // Zero State
            if (badges.length === 0 && c <= 1) {
                badges.push({cls: 'seedling', icon: '', title: 'New Contributor'})
            }

            // Map badges to fixed nodes
            nodes.forEach((node, index) => {
                let badge = badges[index];

                if (badge) {
                    node.cls   = ['devindex-badge', badge.cls];
                    node.title = badge.title;
                    node.text  = badge.icon;
                    node.style = null        // Remove visibility: hidden
                } else {
                    node.style = {visibility: 'hidden'}
                }
            });
        } else {
            // Hide all if no data
            nodes.forEach(node => {
                node.style = {visibility: 'hidden'}
            })
        }

        me.update()
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(Heuristics));


/***/ },

/***/ "./src/component/Image.mjs"
/*!*********************************!*\
  !*** ./src/component/Image.mjs ***!
  \*********************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./src/component/Base.mjs");


/**
 * @summary A component to render an `<img>` tag with reactive `src` and `alt` attributes.
 *
 * This component provides a simple, object-oriented wrapper for the native `<img>` element,
 * allowing its `src` and `alt` text to be updated dynamically via the config system.
 *
 * This is a key component for data-binding scenarios, such as displaying an image from a store record
 * or implementing lazy-loading by updating the `src` config at runtime.
 *
 * @example
 * // Basic usage
 * Neo.create({
 *     module: Image,
 *     alt   : 'A beautiful landscape',
 *     src   : 'https://www.neomjs.com/resources/images/logo.png'
 * });
 *
 * @class Neo.component.Image
 * @extends Neo.component.Base
 */
class Image extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Neo.component.Image'
         * @protected
         */
        className: 'Neo.component.Image',
        /**
         * @member {String} ntype='image'
         * @protected
         */
        ntype: 'image',
        /**
         * The alt attribute for the image.
         * @member {String|null} alt_=null
         * @reactive
         */
        alt_: null,
        /**
         * The src attribute for the image.
         * @member {String|null} src_=null
         * @reactive
         */
        src_: null,
        /**
         * The HTML tag for this component.
         * @member {String} tag='img'
         * @reactive
         */
        tag: 'img'
    }

    /**
     * Hook that fires after the `alt` config has been changed.
     * Updates the `alt` attribute in the component's VDOM.
     * @param {String|null} value The new value
     * @param {String|null} oldValue The old value
     * @protected
     */
    afterSetAlt(value, oldValue) {
        this.changeVdomRootKey('alt', value)
    }

    /**
     * Hook that fires after the `src` config has been changed.
     * Updates the `src` attribute in the component's VDOM.
     * @param {String|null} value The new value
     * @param {String|null} oldValue The old value
     * @protected
     */
    afterSetSrc(value, oldValue) {
        this.changeVdomRootKey('src', value)
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(Image));


/***/ },

/***/ "./src/data/proxy/Base.mjs"
/*!*********************************!*\
  !*** ./src/data/proxy/Base.mjs ***!
  \*********************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Base.mjs */ "./src/core/Base.mjs");
/* harmony import */ var _core_Observable_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Observable.mjs */ "./src/core/Observable.mjs");



/**
 * @class Neo.data.proxy.Base
 * @extends Neo.core.Base
 * @mixes Neo.core.Observable
 *
 * @summary Abstract base class for Data Proxies.
 *
 * Proxies decouple the `Neo.data.Store` from the underlying data retrieval mechanism.
 * While a Store manages the *state* (records, sorting, filtering), a Proxy manages the *transport*
 * (Ajax, Streaming, WebSockets, LocalStorage).
 *
 * **Architecture:**
 * - **`read(operation)`**: The primary interface method. Implementations must return a Promise.
 * - **Events**: Proxies can fire events (like `data`) to support progressive loading patterns.
 *
 * **Future Roadmap:**
 * - `Neo.data.proxy.Ajax`: Standard XHR/Fetch wrapper (replacing Store.url).
 * - `Neo.data.proxy.WebSocket`: Real-time data updates.
 * - `Neo.data.proxy.LocalStorage`: Offline persistence.
 */
class Proxy extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    /**
     * True automatically applies the core.Observable mixin
     * @member {Boolean} observable=true
     * @static
     */
    static observable = true

    static config = {
        /**
         * @member {String} className='Neo.data.proxy.Base'
         * @protected
         */
        className: 'Neo.data.proxy.Base',
        /**
         * @member {String} ntype='proxy'
         * @protected
         */
        ntype: 'proxy',
        /**
         * @member {Neo.data.Store|null} store=null
         */
        store: null,
        /**
         * @member {String|null} store=null
         */
        url: null
    }

    /**
     * @param {Object} operation
     * @returns {Promise}
     */
    read(operation) {
        return Promise.reject('read method not implemented');
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(Proxy));


/***/ },

/***/ "./src/data/proxy/Stream.mjs"
/*!***********************************!*\
  !*** ./src/data/proxy/Stream.mjs ***!
  \***********************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./src/data/proxy/Base.mjs");


/**
 * @class Neo.data.proxy.Stream
 * @extends Neo.data.proxy.Base
 *
 * @summary A Proxy implementation for streaming newline-delimited JSON (NDJSON/JSONL).
 *
 * This proxy uses the modern `fetch` and `ReadableStream` APIs to process data incrementally.
 * Unlike standard JSON parsing (which requires the entire file to be downloaded and parsed at once),
 * this proxy yields records as they arrive.
 *
 * **Performance & Batching:**
 * To avoid overwhelming the main thread (App Worker) with thousands of micro-events, this class
 * implements a buffering strategy. It accumulates parsed records into a chunk (defined by `chunkSize`)
 * and fires a single `data` event containing the array of records. This allows the consumer (Store)
 * to perform bulk updates, drastically reducing overhead.
 *
 * **Compression Support:**
 * You can configure the proxy to use `DecompressionStream` (gzip/deflate) by setting the `compression` config.
 * This allows serving pre-compressed files (`.jsonl.gz`), significantly reducing network transfer size
 * (often >60% reduction) while keeping the client-side parsing logic identical.
 *
 * **Requirements:**
 * - The backend must serve data in NDJSON format (one valid JSON object per line).
 * - The environment must support `TextDecoderStream` (Modern Browsers, Workers).
 */
class Stream extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Neo.data.proxy.Stream'
         * @protected
         */
        className: 'Neo.data.proxy.Stream',
        /**
         * @member {String} ntype='proxy-stream'
         * @protected
         */
        ntype: 'proxy-stream',
        /**
         * Number of records to batch before firing a 'data' event.
         * @member {Number} chunkSize=500
         */
        chunkSize: 500,
        /**
         * Set the compression algorithm to use for the stream.
         * Valid values: 'gzip', 'deflate', null.
         *
         * Uses the browser's `DecompressionStream` API to transparently unzip data on the fly.
         * This can reduce bandwidth usage by 60-80% for JSONL data, enabling significantly larger datasets.
         *
         * @member {String|null} compression=null
         */
        compression: null,
        /**
         * How many chunks to send at initialChunkSize before switching to chunkSize.
         * @member {Number} initialBurstCount=5
         */
        initialBurstCount: 5,
        /**
         * The chunk size for the first few batches.
         * Useful to speed up the initial render (Time To First Content).
         * @member {Number|null} initialChunkSize=100
         */
        initialChunkSize: 100,
        /**
         * True to automatically increase the chunkSize based on the total number of loaded items.
         *
         * **Progressive Enhancement Strategy:**
         * When loading large datasets (e.g., 30k+ records), the cost of `store.add()` (sorting + event propagation)
         * becomes the dominant bottleneck. However, the user needs immediate feedback.
         *
         * - **Phase 1 (Start):** Small chunks (100-250) for immediate "Time to First Content" and frequent UI updates.
         * - **Phase 2 (Ramp):** Medium chunks (500-1500) as the user processes the initial data.
         * - **Phase 3 (Bulk):** Massive chunks (2500-10000) for the tail end of the dataset. At this point,
         *   throughput matters more than interactivity, as the user already has a screen full of data.
         *
         * This mode overrides `initialBurstCount` and `chunkSize`.
         *
         * @member {Boolean} progressiveChunkSize=false
         */
        progressiveChunkSize: false
    }

    /**
     * @member {AbortController|null} abortController=null
     * @protected
     */
    abortController = null

    /**
     * Aborts the current stream request.
     */
    abort() {
        this.abortController?.abort()
    }

    /**
     * @param {Object} operation
     * @returns {Promise}
     */
    async read(operation) {
        let me               = this,
            chunk            = [],
            {chunkSize, progressiveChunkSize} = me,
            currentChunkSize = me.initialChunkSize || chunkSize,
            burstCount       = 0,
            count            = 0,
            url              = me.url || operation.url;

        if (!url) {
            throw new Error('No URL specified')
        }

        me.abortController = new AbortController();
        me.store.isStreaming = true;

        try {
            const response = await fetch(url, {signal: me.abortController.signal});

            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`)
            }

            if (!response.body) {
                throw new Error('ReadableStream not supported in this environment.')
            }

            let stream = response.body;

            if (me.compression) {
                if (typeof DecompressionStream === 'undefined') {
                    throw new Error('DecompressionStream not supported in this environment.')
                }
                stream = stream.pipeThrough(new DecompressionStream(me.compression))
            }

            const reader = stream.getReader();
            const decoder = new TextDecoder();

            let buffer = '';
            let loaded = 0;
            const total = parseInt(response.headers.get('content-length') || 0, 10);

            while (true) {
                const {value, done} = await reader.read();

                if (done) {
                    // Process any remaining buffer
                    if (buffer.trim()) {
                        me.processLine(buffer, chunk);
                        count++
                    }
                    // Flush remaining chunk
                    if (chunk.length > 0) {
                        me.fire('data', chunk);
                        me.store.isStreaming = false
                    }
                    break
                }

                loaded += value.byteLength;
                me.fire('progress', {loaded, total});

                buffer += decoder.decode(value, {stream: true});
                const lines = buffer.split('\n');
                // Keep the last partial line in the buffer
                buffer = lines.pop();

                for (const line of lines) {
                    if (line.trim()) {
                        me.processLine(line, chunk);
                        count++;

                        if (chunk.length >= currentChunkSize) {
                            me.fire('data', chunk);

                            burstCount++;

                            if (progressiveChunkSize) {
                                currentChunkSize = me.getProgressiveChunkSize(count);
                            } else if (burstCount >= me.initialBurstCount) {
                                currentChunkSize = chunkSize
                            }

                            // Give the App Worker a minimal amount of time to breathe,
                            // so that logic can act upon events (e.g. sending out vdom updates).
                            await me.timeout(1);

                            chunk = []
                        }
                    }
                }
            }

            return {success: true, count}
        } catch (e) {
            if (e.name === 'AbortError') {
                console.log('Stream request aborted');
                me.store.isStreaming = false;
                // Treat abort as a valid "partial success"
                return {success: true, count, aborted: true}
            }
            throw e
        } finally {
            me.abortController = null
        }
    }

    /**
     * Calculates the next chunk size based on the total number of records processed so far.
     * Implements a tiered ramping strategy to balance initial responsiveness with long-term throughput.
     *
     * @param {Number} total The total number of records processed
     * @returns {Number} The recommended chunk size for the next batch
     */
    getProgressiveChunkSize(total) {
        if (total < 100)   return 100;
        if (total < 250)   return 150;
        if (total < 500)   return 250;
        if (total < 1000)  return 500;
        if (total < 2500)  return 1500;
        if (total < 10000) return 2500;
        if (total < 20000) return 5000;
        return 10000
    }

    /**
     * @param {String} line
     * @param {Array} chunk
     */
    processLine(line, chunk) {
        try {
            chunk.push(JSON.parse(line));
        } catch (e) {
            console.warn('JSON parse error in Stream proxy:', e, line);
        }
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(Stream));


/***/ },

/***/ "./src/form/field/Country.mjs"
/*!************************************!*\
  !*** ./src/form/field/Country.mjs ***!
  \************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ComboBox_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ComboBox.mjs */ "./src/form/field/ComboBox.mjs");
/* harmony import */ var _util_CountryFlags_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/CountryFlags.mjs */ "./src/util/CountryFlags.mjs");
/* harmony import */ var _list_Country_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../list/Country.mjs */ "./src/list/Country.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/VDom.mjs */ "./src/util/VDom.mjs");





/**
 * @class Neo.form.field.Country
 * @extends Neo.form.field.ComboBox
 */
class Country extends _ComboBox_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Neo.form.field.Country'
         * @protected
         */
        className: 'Neo.form.field.Country',
        /**
         * @member {String} ntype='countryfield'
         * @protected
         */
        ntype: 'countryfield',
        /**
         * @member {String[]} baseCls=['neo-countryfield','neo-combobox','neo-pickerfield','neo-textfield']
         */
        baseCls: ['neo-countryfield', 'neo-combobox', 'neo-pickerfield', 'neo-textfield'],
        /**
         * @member {Boolean} showFlags_=false
         * @reactive
         */
        showFlags_: false,
        /**
         * @member {Object} store
         */
        store: {
            data       : _util_CountryFlags_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].countries,
            keyProperty: 'code',
            model      : {
                fields: [
                    {name: 'name', type: 'String'},
                    {name: 'code', type: 'String'}
                ]
            },
            sorters: [{
                property : 'name',
                direction: 'ASC'
            }]
        },
        /**
         * @member {String} valueField='name'
         */
        valueField: 'name',
        /**
         * You can either pass a field instance or a field reference
         * @member {Neo.form.field.Base|String|null} zipCodeField_=null
         * @reactive
         */
        zipCodeField_: null
    }

    /**
     * Triggered after the triggers config got changed
     * @param {Object[]} value
     * @param {Object[]} oldValue
     * @protected
     */
    afterSetTriggers(value, oldValue) {
        super.afterSetTriggers(value, oldValue);

        let me           = this,
            inputWrapper = _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].find(me.vdom, me.getInputWrapperId());

        if (inputWrapper) {
            inputWrapper.vdom.cn.unshift({
                cls      : 'neo-country-flag-icon',
                id       : me.getFlagIconId(),
                tag      : 'img',
                removeDom: true,
                style: {
                    height : '15px',
                    width  : '15px',
                    margin : 'auto 5px auto 5px'
                }
            });

            me.updateFlag()
        }
    }

    /**
     * Triggered after the value config got changed
     * @param {Number|String|null} value
     * @param {Number|String|null} oldValue
     * @param {Boolean} [preventFilter=false]
     * @protected
     */
    afterSetValue(value, oldValue, preventFilter=false) {
        super.afterSetValue(value, oldValue, preventFilter);
        this.updateFlag()
    }

    /**
     * Triggered after the zipCodeField config got changed
     * @param {Neo.form.field.Base|null} value
     * @param {Neo.form.field.Base|null} oldValue
     * @protected
     */
    afterSetZipCodeField(value, oldValue) {
        if (value && value instanceof Neo.form.field.Base) {
            value.countryField = this
        }
    }

    /**
     * Triggered before the showFlags config gets changed
     * @param {Boolean} value
     * @param {Boolean} oldValue
     * @protected
     */
    beforeSetShowFlags(value, oldValue) {
        if (value) {
            this.listConfig = {module: _list_Country_mjs__WEBPACK_IMPORTED_MODULE_2__["default"], ...this.listConfig}
        }

        return value
    }

    /**
     * Triggered after the showFlags config got changed
     * @param {Boolean} value
     * @param {Boolean} oldValue
     * @protected
     */
    afterSetShowFlags(value, oldValue) {
        this.updateFlag()
    }

    /**
     *
     */
    updateFlag() {
        let me       = this,
            flagIcon = _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].find(me.vdom, me.getFlagIconId()),
            flagUrl, value;

        if (flagIcon) {
            value   = me.value;
            flagUrl = me.showFlags ? _util_CountryFlags_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].getFlagUrl(Neo.isRecord(value) ? value.code : value) : null;

            if (flagUrl) {
                flagIcon.vdom.src       = flagUrl;
                flagIcon.vdom.removeDom = false
            } else {
                flagIcon.vdom.removeDom = true
            }

            me.update()
        }
    }

    /**
     * @returns {String}
     */
    getFlagIconId() {
        return `${this.id}__flag-icon`
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(Country));


/***/ },

/***/ "./src/list/Country.mjs"
/*!******************************!*\
  !*** ./src/list/Country.mjs ***!
  \******************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _util_CountryFlags_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/CountryFlags.mjs */ "./src/util/CountryFlags.mjs");
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Base.mjs */ "./src/list/Base.mjs");



/**
 * @class Neo.list.Country
 * @extends Neo.list.Base
 */
class Country extends _Base_mjs__WEBPACK_IMPORTED_MODULE_1__["default"] {
    static config = {
        /**
         * @member {String} className='Neo.list.Country'
         * @protected
         */
        className: 'Neo.list.Country',
        /**
         * @member {String} ntype='countrylist'
         * @protected
         */
        ntype: 'countrylist',
        /**
         * @member {String[]} baseCls=['neo-country-list','neo-list']
         */
        baseCls: ['neo-country-list', 'neo-list']
    }

    /**
     * @param {Object} record
     * @param {Number} index
     * @returns {Object|Object[]|String} Either a config object to assign to the item, a vdom cn array or a html string
     */
    createItemContent(record, index) {
        let me         = this,
            itemText   = record[me.displayField],
            filter     = me.highlightFilterValue ? me.store.getFilter(me.displayField) : null,
            flagUrl    = _util_CountryFlags_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].getFlagUrl(record[me.displayField] || record.code),
            flagNode   = null;

        if (flagUrl) {
            flagNode = {
                tag: 'img',
                cls: ['neo-country-flag'],
                src: flagUrl
            }
        }

        if (filter && filter.value !== null && filter.value !== '') {
            itemText = itemText.replace(new RegExp(filter.value, 'gi'), function(match) {
                return '<span class="neo-highlight-search">' + match + '</span>'
            })
        }

        return [
            flagNode,
            {tag: 'span', cls: ['neo-country-text'], html: itemText}
        ]
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(Country));


/***/ },

/***/ "./src/selection/grid/ColumnModel.mjs"
/*!********************************************!*\
  !*** ./src/selection/grid/ColumnModel.mjs ***!
  \********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _BaseModel_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseModel.mjs */ "./src/selection/grid/BaseModel.mjs");


/**
 * @class Neo.selection.grid.ColumnModel
 * @extends Neo.selection.grid.BaseModel
 */
class ColumnModel extends _BaseModel_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Neo.selection.grid.ColumnModel'
         * @protected
         */
        className: 'Neo.selection.grid.ColumnModel',
        /**
         * @member {String} ntype='selection-grid-columnmodel'
         * @protected
         */
        ntype: 'selection-grid-columnmodel',
        /**
         * @member {String} cls='neo-selection-columnmodel'
         * @protected
         */
        cls: 'neo-selection-columnmodel'
    }

    /**
     *
     */
    addDomListener() {
        let me = this;

        me.view.parent.on('cellClick', me.onCellClick, me)
    }

    /**
     * @param args
     */
    destroy(...args) {
        let me = this;

        me.view.parent.un('cellClick', me.onCellClick, me);

        super.destroy(...args)
    }

    /**
     * @returns {Boolean}
     */
    hasSelection() {
        return this.selectedColumns.length > 0
    }

    /**
     * @param {Object} data
     */
    onCellClick(data) {
        let me        = this,
            {view}    = me,
            cellId    = data.data.currentTarget,
            dataField = cellId && view.getDataField(cellId);

        if (dataField) {
            me.selectedColumns = me.isSelectedColumn(dataField) ? [] : [dataField];
            view.createViewData()
        }
    }

    /**
     * @param {Object} data
     */
    onKeyDownLeft(data) {
        !this.hasEditorFocus(data) && this.onNavKeyColumn(-1)
    }

    /**
     * @param {Object} data
     */
    onKeyDownRight(data) {
        !this.hasEditorFocus(data) && this.onNavKeyColumn(1)
    }

    /**
     * @param {Number} step
     */
    onNavKeyColumn(step) {
        let me                 = this,
            {dataFields, view} = me,
            currentColumn, currentIndex, index;

        if (me.hasSelection()) {
            currentColumn = me.selectedColumns[0]
        } else {
            currentColumn = dataFields[0]
        }

        currentIndex = dataFields.indexOf(currentColumn);
        index        = (currentIndex + step) % dataFields.length;

        while (index < 0) {
            index += dataFields.length
        }

        me.selectedColumns = [dataFields[index]];

        view.createViewData();

        view.parent.scrollByColumns(currentIndex, step)
    }

    /**
     * @param {Neo.component.Base} component
     */
    register(component) {
        super.register(component);

        let {id, view} = this;

        view.keys?._keys.push(
            {fn: 'onKeyDownLeft',  key: 'Left',  scope: id},
            {fn: 'onKeyDownRight', key: 'Right', scope: id}
        )
    }

    /**
     *
     */
    unregister() {
        let me         = this,
            {id, view} = me;

        me.selectedColumns = [];
        me.view.createViewData();

        view.keys?.removeKeys([
            {fn: 'onKeyDownLeft',  key: 'Left',  scope: id},
            {fn: 'onKeyDownRight', key: 'Right', scope: id}
        ]);

        super.unregister()
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(ColumnModel));


/***/ },

/***/ "./src/selection/grid/_export.mjs"
/*!****************************************!*\
  !*** ./src/selection/grid/_export.mjs ***!
  \****************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CellColumnModel: () => (/* reexport safe */ _CellColumnModel_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   CellColumnRowModel: () => (/* reexport safe */ _CellColumnRowModel_mjs__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   CellModel: () => (/* reexport safe */ _CellModel_mjs__WEBPACK_IMPORTED_MODULE_2__["default"]),
/* harmony export */   CellRowModel: () => (/* reexport safe */ _CellRowModel_mjs__WEBPACK_IMPORTED_MODULE_3__["default"]),
/* harmony export */   ColumnModel: () => (/* reexport safe */ _ColumnModel_mjs__WEBPACK_IMPORTED_MODULE_4__["default"]),
/* harmony export */   RowModel: () => (/* reexport safe */ _RowModel_mjs__WEBPACK_IMPORTED_MODULE_5__["default"])
/* harmony export */ });
/* harmony import */ var _CellColumnModel_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CellColumnModel.mjs */ "./src/selection/grid/CellColumnModel.mjs");
/* harmony import */ var _CellColumnRowModel_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CellColumnRowModel.mjs */ "./src/selection/grid/CellColumnRowModel.mjs");
/* harmony import */ var _CellModel_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CellModel.mjs */ "./src/selection/grid/CellModel.mjs");
/* harmony import */ var _CellRowModel_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CellRowModel.mjs */ "./src/selection/grid/CellRowModel.mjs");
/* harmony import */ var _ColumnModel_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ColumnModel.mjs */ "./src/selection/grid/ColumnModel.mjs");
/* harmony import */ var _RowModel_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./RowModel.mjs */ "./src/selection/grid/RowModel.mjs");










/***/ }

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC92ZW5kb3JzLWFwcHNfZGV2aW5kZXhfdmlld19ob21lX01haW5Db250YWluZXJfbWpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFnRDs7QUFFaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwyREFBSztBQUMvQjtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBO0FBQ0EsYUFBYSw0REFBNEQ7QUFDekUsYUFBYSw0REFBNEQ7QUFDekUsYUFBYSxpRkFBaUY7QUFDOUYsYUFBYSxpRkFBaUY7QUFDOUYsYUFBYSxpRkFBaUY7QUFDOUYsYUFBYSxpRkFBaUY7QUFDOUYsYUFBYSxpRkFBaUY7QUFDOUYsYUFBYSw2REFBNkQ7QUFDMUUsYUFBYSw2REFBNkQ7QUFDMUUsYUFBYSw2REFBNkQ7QUFDMUUsYUFBYSwwREFBMEQ7QUFDdkUsYUFBYSxpRkFBaUY7QUFDOUYsYUFBYSxpRkFBaUY7QUFDOUYsYUFBYSxpRkFBaUY7QUFDOUYsYUFBYSxxR0FBcUc7QUFDbEgsYUFBYSxpRkFBaUY7QUFDOUYsYUFBYSxpRkFBaUY7QUFDOUYsYUFBYSxpRkFBaUY7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixhQUFhLCtFQUErRTtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxhQUFhO0FBQ2IsYUFBYSxtREFBbUQ7QUFDaEUsYUFBYSxtREFBbUQ7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix3QkFBd0I7QUFDbkQsNkJB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QUNEO0FBQ0g7O0FBRTZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2FwcHMvZGV2aW5kZXgvbW9kZWwvQ29udHJpYnV0b3IubWpzIiwid2VicGFjazovL25lby5tanMvLi9hcHBzL2RldmluZGV4L3N0b3JlL0NvbnRyaWJ1dG9ycy5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2FwcHMvZGV2aW5kZXgvdmlldy9ob21lL0NvbnRyb2xzQ29udGFpbmVyLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vYXBwcy9kZXZpbmRleC92aWV3L2hvbWUvR3JpZENvbnRhaW5lci5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2FwcHMvZGV2aW5kZXgvdmlldy9ob21lL01haW5Db250YWluZXIubWpzIiwid2VicGFjazovL25lby5tanMvLi9hcHBzL2RldmluZGV4L3ZpZXcvaG9tZS9NYWluQ29udGFpbmVyQ29udHJvbGxlci5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2FwcHMvZGV2aW5kZXgvdmlldy9ob21lL01haW5Db250YWluZXJTdGF0ZVByb3ZpZGVyLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vYXBwcy9kZXZpbmRleC92aWV3L2hvbWUvUHJvZmlsZUNvbnRhaW5lci5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2FwcHMvZGV2aW5kZXgvdmlldy9ob21lL1N0YXR1c1Rvb2xiYXIubWpzIiwid2VicGFjazovL25lby5tanMvLi9hcHBzL2RldmluZGV4L3ZpZXcvaG9tZS9jb21wb25lbnQvSGV1cmlzdGljcy5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL3NyYy9jb21wb25lbnQvSW1hZ2UubWpzIiwid2VicGFjazovL25lby5tanMvLi9zcmMvZGF0YS9wcm94eS9CYXNlLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vc3JjL2RhdGEvcHJveHkvU3RyZWFtLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vc3JjL2Zvcm0vZmllbGQvQ291bnRyeS5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL3NyYy9saXN0L0NvdW50cnkubWpzIiwid2VicGFjazovL25lby5tanMvLi9zcmMvc2VsZWN0aW9uL2dyaWQvQ29sdW1uTW9kZWwubWpzIiwid2VicGFjazovL25lby5tanMvLi9zcmMvc2VsZWN0aW9uL2dyaWQvX2V4cG9ydC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1vZGVsIGZyb20gJy4uLy4uLy4uL3NyYy9kYXRhL01vZGVsLm1qcyc7XG5cbi8qKlxuICogQGNsYXNzIERldkluZGV4Lm1vZGVsLkNvbnRyaWJ1dG9yXG4gKiBAZXh0ZW5kcyBOZW8uZGF0YS5Nb2RlbFxuICpcbiAqIEBzdW1tYXJ5IERhdGEgbW9kZWwgcmVwcmVzZW50aW5nIGEgR2l0SHViIGNvbnRyaWJ1dG9yIHdpdGggYWR2YW5jZWQgeWVhci1iYXNlZCBmaWVsZCBtYXBwaW5nLlxuICpcbiAqIFRoaXMgbW9kZWwgdXRpbGl6ZXMgYE5lby5kYXRhLlJlY29yZEZhY3RvcnlgJ3MgYWR2YW5jZWQgY2FwYWJpbGl0aWVzIHRvIG1hcCBhcnJheS1iYXNlZCBkYXRhXG4gKiAoY29tcGFjdCBKU09OIGZvciBuZXR3b3JrIGVmZmljaWVuY3kpIGludG8gYWRkcmVzc2FibGUgZmllbGRzIChyZXF1aXJlZCBmb3IgR3JpZCBzb3J0aW5nIGFuZCBiaW5kaW5nKVxuICogd2l0aCB6ZXJvIHBlci1yZWNvcmQgbWVtb3J5IG92ZXJoZWFkLlxuICpcbiAqICoqUGVyZm9ybWFuY2UgQXJjaGl0ZWN0dXJlOioqXG4gKiAtICoqUmF3IERhdGE6Kiogc3RvcmVkIGFzIGNvbXBhY3QgYXJyYXlzOiBgeWAgKFRvdGFsKSwgYGN5YCAoQ29tbWl0cyksIGBweWAgKFByaXZhdGUpLlxuICogLSAqKlZpcnR1YWwgRmllbGRzOioqIFRoZSBgYWRkWWVhckZpZWxkcygpYCBtZXRob2QgZ2VuZXJhdGVzIGZpZWxkIGNvbmZpZ3VyYXRpb25zIGZvciBldmVyeSB5ZWFyIChlLmcuLCBgeTIwMjRgLCBgcHkyMDI0YCkuXG4gKiAtICoqWmVybyBPdmVyaGVhZDoqKiBUaGVzZSBmaWVsZHMgYXJlIHByb2Nlc3NlZCBieSBgUmVjb3JkRmFjdG9yeWAgdG8gY3JlYXRlICoqcHJvdG90eXBlLWJhc2VkIGdldHRlcnMqKiBvbiB0aGUgZ2VuZXJhdGVkXG4gKiAgIFJlY29yZCBjbGFzcy4gVGhleSByZWFkIGRpcmVjdGx5IGZyb20gdGhlIHJhdyBkYXRhIGFycmF5cyB1c2luZyB0aGUgY2FsY3VsYXRlZCBpbmRleC4gVGhpcyBtZWFucyBhZGRpbmcgNjArIHllYXIgZmllbGRzXG4gKiAgIGFkZHMgMCBieXRlcyB0byB0aGUgaW5kaXZpZHVhbCByZWNvcmQgaW5zdGFuY2VzLCBtYWludGFpbmluZyBhIGZsYXQgbWVtb3J5IHByb2ZpbGUgZXZlbiB3aXRoIDUwaysgcmVjb3Jkcy5cbiAqL1xuY2xhc3MgQ29udHJpYnV0b3IgZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGNvbmZpZyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gY2xhc3NOYW1lPSdEZXZJbmRleC5tb2RlbC5Db250cmlidXRvcidcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgY2xhc3NOYW1lOiAnRGV2SW5kZXgubW9kZWwuQ29udHJpYnV0b3InLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119IGZpZWxkc1xuICAgICAgICAgKi9cbiAgICAgICAgZmllbGRzOiBbXG4gICAgICAgICAgICB7bmFtZTogJ2xvZ2luJywgICAgICAgICAgICAgICAgbWFwcGluZzogJ2wnLCAgdHlwZTogJ1N0cmluZyd9LFxuICAgICAgICAgICAge25hbWU6ICduYW1lJywgICAgICAgICAgICAgICAgIG1hcHBpbmc6ICduJywgIHR5cGU6ICdTdHJpbmcnfSxcbiAgICAgICAgICAgIHtuYW1lOiAnYXZhdGFyVXJsJywgICAgICAgICAgICBtYXBwaW5nOiAnaScsICB0eXBlOiAnU3RyaW5nJywgIGRlZmF1bHRWYWx1ZTogbnVsbH0sXG4gICAgICAgICAgICB7bmFtZTogJ2xvY2F0aW9uJywgICAgICAgICAgICAgbWFwcGluZzogJ2xjJywgdHlwZTogJ1N0cmluZycsICBkZWZhdWx0VmFsdWU6IG51bGx9LFxuICAgICAgICAgICAge25hbWU6ICdjb3VudHJ5Q29kZScsICAgICAgICAgIG1hcHBpbmc6ICdjYycsIHR5cGU6ICdTdHJpbmcnLCAgZGVmYXVsdFZhbHVlOiBudWxsfSxcbiAgICAgICAgICAgIHtuYW1lOiAnY29tcGFueScsICAgICAgICAgICAgICBtYXBwaW5nOiAnYycsICB0eXBlOiAnU3RyaW5nJywgIGRlZmF1bHRWYWx1ZTogbnVsbH0sXG4gICAgICAgICAgICB7bmFtZTogJ2JpbycsICAgICAgICAgICAgICAgICAgbWFwcGluZzogJ2InLCAgdHlwZTogJ1N0cmluZycsICBkZWZhdWx0VmFsdWU6IG51bGx9LFxuICAgICAgICAgICAge25hbWU6ICdmb2xsb3dlcnMnLCAgICAgICAgICAgIG1hcHBpbmc6ICdmbCcsIHR5cGU6ICdJbnRlZ2VyJ30sXG4gICAgICAgICAgICB7bmFtZTogJ3RvdGFsQ29udHJpYnV0aW9ucycsICAgbWFwcGluZzogJ3RjJywgdHlwZTogJ0ludGVnZXInfSxcbiAgICAgICAgICAgIHtuYW1lOiAnZmlyc3RZZWFyJywgICAgICAgICAgICBtYXBwaW5nOiAnZnknLCB0eXBlOiAnSW50ZWdlcid9LFxuICAgICAgICAgICAge25hbWU6ICdsYXN0VXBkYXRlZCcsICAgICAgICAgIG1hcHBpbmc6ICdsdScsIHR5cGU6ICdEYXRlJ30sXG4gICAgICAgICAgICB7bmFtZTogJ2xpbmtlZGluVXJsJywgICAgICAgICAgbWFwcGluZzogJ2xpJywgdHlwZTogJ1N0cmluZycsICBkZWZhdWx0VmFsdWU6IG51bGx9LFxuICAgICAgICAgICAge25hbWU6ICd0d2l0dGVyJywgICAgICAgICAgICAgIG1hcHBpbmc6ICd0JywgIHR5cGU6ICdTdHJpbmcnLCAgZGVmYXVsdFZhbHVlOiBudWxsfSxcbiAgICAgICAgICAgIHtuYW1lOiAnd2Vic2l0ZScsICAgICAgICAgICAgICBtYXBwaW5nOiAndycsICB0eXBlOiAnU3RyaW5nJywgIGRlZmF1bHRWYWx1ZTogbnVsbH0sXG4gICAgICAgICAgICB7bmFtZTogJ2lzSGlyZWFibGUnLCAgICAgICAgICAgbWFwcGluZzogJ2gnLCAgdHlwZTogJ0Jvb2xlYW4nLCBkZWZhdWx0VmFsdWU6IGZhbHNlLCBjb252ZXJ0OiB2ID0+ICEhdn0sXG4gICAgICAgICAgICB7bmFtZTogJ2hhc1Nwb25zb3JzJywgICAgICAgICAgbWFwcGluZzogJ3MnLCAgdHlwZTogJ0ludGVnZXInLCBkZWZhdWx0VmFsdWU6IG51bGx9LFxuICAgICAgICAgICAge25hbWU6ICdoZXVyaXN0aWNzJywgICAgICAgICAgIG1hcHBpbmc6ICdobScsIHR5cGU6ICdPYmplY3QnLCAgZGVmYXVsdFZhbHVlOiBudWxsfSxcbiAgICAgICAgICAgIHtuYW1lOiAndG9wUmVwbycsICAgICAgICAgICAgICBtYXBwaW5nOiAndHInLCB0eXBlOiAnQXJyYXknLCAgIGRlZmF1bHRWYWx1ZTogbnVsbH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZSAgICAgOiAndG9wUmVwb0NvdW50JyxcbiAgICAgICAgICAgICAgICB0eXBlICAgICA6ICdJbnRlZ2VyJyxcbiAgICAgICAgICAgICAgICB2aXJ0dWFsICA6IHRydWUsXG4gICAgICAgICAgICAgICAgY2FsY3VsYXRlOiBkYXRhID0+IChkYXRhLnRvcFJlcG8gPz8gZGF0YS50cik/LlsxXSB8fCAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge25hbWU6ICdwcml2YXRlQ29udHJpYnV0aW9ucycsIG1hcHBpbmc6ICdweScsIHR5cGU6ICdBcnJheScsICAgZGVmYXVsdFZhbHVlOiBbXX0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZSAgIDogJ29yZ2FuaXphdGlvbnMnLFxuICAgICAgICAgICAgICAgIG1hcHBpbmc6ICdvJyxcbiAgICAgICAgICAgICAgICB0eXBlICAgOiAnQXJyYXknLFxuICAgICAgICAgICAgICAgIGNvbnZlcnQ6IHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUubWFwKGl0ZW0gPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2luICAgIDogaXRlbVswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhclVybDogaXRlbVsxXVxuICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge25hbWU6ICdjb21taXRzQXJyYXknLCBtYXBwaW5nOiAnY3knLCB0eXBlOiAnQXJyYXknfSxcbiAgICAgICAgICAgIHtuYW1lOiAneWVhcnNBcnJheScsICAgbWFwcGluZzogJ3knLCAgdHlwZTogJ0FycmF5J30sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZSAgIDogJ3RvdGFsQ29tbWl0cycsXG4gICAgICAgICAgICAgICAgdHlwZSAgIDogJ0ludGVnZXInLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENhbGN1bGF0ZXMgdGhlIHRvdGFsIGNvbW1pdHMgZnJvbSB0aGUgeWVhcmx5IGJyZWFrZG93bi5cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqICoqVHVyYm8gTW9kZSAvIFNvZnQgSHlkcmF0aW9uIENvbXBhdGliaWxpdHk6KipcbiAgICAgICAgICAgICAgICAgKiBJbiBcIlR1cmJvIE1vZGVcIiAoYXV0b0luaXRSZWNvcmRzOiBmYWxzZSksIHRoZSBTdG9yZSBzb3J0cyByYXcgSlNPTiBvYmplY3RzLCBub3QgUmVjb3JkIGluc3RhbmNlcy5cbiAgICAgICAgICAgICAgICAgKiBUaGUgYE5lby5kYXRhLlN0b3JlI2RvU29ydGAgXCJTb2Z0IEh5ZHJhdGlvblwiIGxvZ2ljIHJlc29sdmVzIHRoaXMgZmllbGQgKGB0b3RhbENvbW1pdHNgKVxuICAgICAgICAgICAgICAgICAqIGJ5IGNhbGxpbmcgdGhpcyBgY2FsY3VsYXRlYCBmdW5jdGlvbiBvbiB0aGUgcmF3IG9iamVjdC5cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIC0gKipSZWNvcmQgQ29udGV4dDoqKiBgZGF0YWAgaXMgYSBSZWNvcmQuIGBkYXRhLmNvbW1pdHNBcnJheWAgZXhpc3RzICh2aWEgZ2V0dGVyL21hcHBpbmcpLlxuICAgICAgICAgICAgICAgICAqIC0gKipSYXcgQ29udGV4dDoqKiBgZGF0YWAgaXMgYSBQT0pPLiBgZGF0YS5jb21taXRzQXJyYXlgIGlzIHVuZGVmaW5lZC4gYGRhdGEuY3lgIGV4aXN0cy5cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIFRvIHN1cHBvcnQgYm90aCBjb250ZXh0cyB3aXRob3V0IGZvcmNpbmcgZnVsbCByZWNvcmQgaW5zdGFudGlhdGlvbiAocGVyZm9ybWFuY2Uga2lsbGVyKSxcbiAgICAgICAgICAgICAgICAgKiB3ZSBtdXN0IGNoZWNrIGZvciBib3RoIHRoZSBjYW5vbmljYWwgbmFtZSBBTkQgdGhlIHJhdyBkYXRhIGtleS5cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fE5lby5kYXRhLlJlY29yZH0gZGF0YVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY2FsY3VsYXRlOiBkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChkYXRhLmNvbW1pdHNBcnJheSB8fCBkYXRhLmN5KT8ucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgfHwgMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZSAgIDogJ3RvdGFsUHJpdmF0ZUNvbnRyaWJ1dGlvbnMnLFxuICAgICAgICAgICAgICAgIHR5cGUgICA6ICdJbnRlZ2VyJyxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDYWxjdWxhdGVzIHRoZSB0b3RhbCBwcml2YXRlIGNvbnRyaWJ1dGlvbnMgZnJvbSB0aGUgeWVhcmx5IGJyZWFrZG93bi5cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdHxOZW8uZGF0YS5SZWNvcmR9IGRhdGFcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGNhbGN1bGF0ZTogZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoZGF0YS5wcml2YXRlQ29udHJpYnV0aW9ucyB8fCBkYXRhLnB5KT8ucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgfHwgMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZSAgIDogJ3RvdGFsUHVibGljQ29udHJpYnV0aW9ucycsXG4gICAgICAgICAgICAgICAgdHlwZSAgIDogJ0ludGVnZXInLFxuICAgICAgICAgICAgICAgIGRlcGVuZHM6IFsndG90YWxQcml2YXRlQ29udHJpYnV0aW9ucyddLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIENhbGN1bGF0ZXMgdGhlIHRvdGFsIHB1YmxpYyBjb250cmlidXRpb25zIChUb3RhbCAtIFByaXZhdGUpLlxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fE5lby5kYXRhLlJlY29yZH0gZGF0YVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY2FsY3VsYXRlOiBkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWwgPSBkYXRhLnRvdGFsQ29udHJpYnV0aW9ucyB8fCBkYXRhLnRjIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbCAtIGRhdGEudG90YWxQcml2YXRlQ29udHJpYnV0aW9uc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ3ByaXZhdGVDb250cmlidXRpb25zUmF0aW8nLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdGbG9hdCcsXG4gICAgICAgICAgICAgICAgZGVwZW5kczogWyd0b3RhbFByaXZhdGVDb250cmlidXRpb25zJ10sXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ2FsY3VsYXRlcyB0aGUgcmF0aW8gb2YgcHJpdmF0ZSB0byB0b3RhbCBjb250cmlidXRpb25zICgwLTEwMCkuXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R8TmVvLmRhdGEuUmVjb3JkfSBkYXRhXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjYWxjdWxhdGU6IGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbCA9IGRhdGEudG90YWxDb250cmlidXRpb25zIHx8IGRhdGEudGMgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsID09PSAwID8gMCA6IChkYXRhLnRvdGFsUHJpdmF0ZUNvbnRyaWJ1dGlvbnMgLyB0b3RhbCkgKiAxMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdjb21taXRSYXRpbycsXG4gICAgICAgICAgICAgICAgdHlwZTogJ0Zsb2F0JyxcbiAgICAgICAgICAgICAgICBkZXBlbmRzOiBbJ3RvdGFsQ29tbWl0cycsICd0b3RhbFB1YmxpY0NvbnRyaWJ1dGlvbnMnXSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDYWxjdWxhdGVzIHRoZSByYXRpbyBvZiBwdWJsaWMgY29tbWl0cyB0byB0b3RhbCBwdWJsaWMgY29udHJpYnV0aW9ucyAoMC0xMDApLlxuICAgICAgICAgICAgICAgICAqIFdlIGV4Y2x1ZGUgcHJpdmF0ZSBjb250cmlidXRpb25zIGZyb20gdGhlIGRlbm9taW5hdG9yIGJlY2F1c2UgR2l0SHViIGRvZXMgbm90XG4gICAgICAgICAgICAgICAgICogZGlzdGluZ3Vpc2ggYmV0d2VlbiBwcml2YXRlIGNvbW1pdHMgdnMuIHByaXZhdGUgaXNzdWVzL1BScy4gSW5jbHVkaW5nIHRoZW1cbiAgICAgICAgICAgICAgICAgKiB3b3VsZCBhcnRpZmljaWFsbHkgdGFuayB0aGUgcmF0aW8gZm9yIHVzZXJzIHdpdGggaGlnaCBwcml2YXRlIGFjdGl2aXR5LlxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fE5lby5kYXRhLlJlY29yZH0gZGF0YVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY2FsY3VsYXRlOiBkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEudG90YWxQdWJsaWNDb250cmlidXRpb25zID09PSAwID8gMCA6IChkYXRhLnRvdGFsQ29tbWl0cyAvIGRhdGEudG90YWxQdWJsaWNDb250cmlidXRpb25zKSAqIDEwMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3QoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLmNvbnN0cnVjdChjb25maWcpO1xuICAgICAgICB0aGlzLmFkZFllYXJGaWVsZHMoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIER5bmFtaWNhbGx5IGFkZCBmaWVsZHMgZm9yIGVhY2ggeWVhciBmcm9tIDIwMTAgdG8gY3VycmVudCB5ZWFyXG4gICAgICovXG4gICAgYWRkWWVhckZpZWxkcygpIHtcbiAgICAgICAgbGV0IG1lICAgICAgICAgID0gdGhpcyxcbiAgICAgICAgICAgIGN1cnJlbnRZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgICAgZmllbGRzICAgICAgPSBbLi4ubWUuZmllbGRzXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gY3VycmVudFllYXI7IGkgPj0gMjAxMDsgaS0tKSB7XG4gICAgICAgICAgICAvLyBUb3RhbCBDb250cmlidXRpb25zXG4gICAgICAgICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgbmFtZSAgICAgOiBgeSR7aX1gLFxuICAgICAgICAgICAgICAgIHR5cGUgICAgIDogJ0ludGVnZXInLFxuICAgICAgICAgICAgICAgIHZpcnR1YWwgIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjYWxjdWxhdGU6IGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdFllYXIgPSBkYXRhLmZ5IHx8IGRhdGEuZmlyc3RZZWFyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZpcnN0WWVhcikgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoZGF0YS55ZWFyc0FycmF5IHx8IGRhdGEueSk/LltpIC0gZmlyc3RZZWFyXSB8fCAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIENvbW1pdHMgT25seVxuICAgICAgICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICAgICAgICAgIG5hbWUgICAgIDogYGN5JHtpfWAsXG4gICAgICAgICAgICAgICAgdHlwZSAgICAgOiAnSW50ZWdlcicsXG4gICAgICAgICAgICAgICAgdmlydHVhbCAgOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNhbGN1bGF0ZTogZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0WWVhciA9IGRhdGEuZnkgfHwgZGF0YS5maXJzdFllYXI7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZmlyc3RZZWFyKSByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChkYXRhLmNvbW1pdHNBcnJheSB8fCBkYXRhLmN5KT8uW2kgLSBmaXJzdFllYXJdIHx8IDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gUHJpdmF0ZSBDb250cmlidXRpb25zXG4gICAgICAgICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgbmFtZSAgICAgOiBgcHkke2l9YCxcbiAgICAgICAgICAgICAgICB0eXBlICAgICA6ICdJbnRlZ2VyJyxcbiAgICAgICAgICAgICAgICB2aXJ0dWFsICA6IHRydWUsXG4gICAgICAgICAgICAgICAgY2FsY3VsYXRlOiBkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RZZWFyID0gZGF0YS5meSB8fCBkYXRhLmZpcnN0WWVhcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmaXJzdFllYXIpIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGRhdGEucHJpdmF0ZUNvbnRyaWJ1dGlvbnMgfHwgZGF0YS5weSk/LltpIC0gZmlyc3RZZWFyXSB8fCAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFB1YmxpYyBDb250cmlidXRpb25zIChDYWxjdWxhdGVkOiBUb3RhbCAtIFByaXZhdGUpXG4gICAgICAgICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgbmFtZSAgICAgOiBgcHV5JHtpfWAsXG4gICAgICAgICAgICAgICAgdHlwZSAgICAgOiAnSW50ZWdlcicsXG4gICAgICAgICAgICAgICAgdmlydHVhbCAgOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNhbGN1bGF0ZTogZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0WWVhciA9IGRhdGEuZnkgfHwgZGF0YS5maXJzdFllYXI7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZmlyc3RZZWFyKSByZXR1cm4gMDtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggICAgICA9IGkgLSBmaXJzdFllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCAgICAgID0gKGRhdGEueWVhcnNBcnJheSB8fCBkYXRhLnkpPy5baW5kZXhdIHx8IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcml2YXRlVmFsID0gKGRhdGEucHJpdmF0ZUNvbnRyaWJ1dGlvbnMgfHwgZGF0YS5weSk/LltpbmRleF0gfHwgMDtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG90YWwgLSBwcml2YXRlVmFsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBtZS5maWVsZHMgPSBmaWVsZHNcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKENvbnRyaWJ1dG9yKTtcbiIsImltcG9ydCBDb250cmlidXRvck1vZGVsIGZyb20gJy4uL21vZGVsL0NvbnRyaWJ1dG9yLm1qcyc7XG5pbXBvcnQgU3RvcmUgICAgICAgICAgICBmcm9tICcuLi8uLi8uLi9zcmMvZGF0YS9TdG9yZS5tanMnO1xuaW1wb3J0IFN0cmVhbVByb3h5ICAgICAgZnJvbSAnLi4vLi4vLi4vc3JjL2RhdGEvcHJveHkvU3RyZWFtLm1qcyc7XG5cbi8qKlxuICogQGNsYXNzIERldkluZGV4LnN0b3JlLkNvbnRyaWJ1dG9yc1xuICogQGV4dGVuZHMgTmVvLmRhdGEuU3RvcmVcbiAqL1xuY2xhc3MgQ29udHJpYnV0b3JzIGV4dGVuZHMgU3RvcmUge1xuICAgIHN0YXRpYyBjb25maWcgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGNsYXNzTmFtZT0nRGV2SW5kZXguc3RvcmUuQ29udHJpYnV0b3JzJ1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBjbGFzc05hbWU6ICdEZXZJbmRleC5zdG9yZS5Db250cmlidXRvcnMnLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7TmVvLmRhdGEuTW9kZWx9IG1vZGVsPUNvbnRyaWJ1dG9yTW9kZWxcbiAgICAgICAgICovXG4gICAgICAgIG1vZGVsOiBDb250cmlidXRvck1vZGVsLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBrZXlQcm9wZXJ0eT0nbG9naW4nXG4gICAgICAgICAqL1xuICAgICAgICBrZXlQcm9wZXJ0eTogJ2xvZ2luJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge0Jvb2xlYW59IGF1dG9Mb2FkPXRydWVcbiAgICAgICAgICovXG4gICAgICAgIGF1dG9Mb2FkOiB0cnVlLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7Qm9vbGVhbn0gYXV0b0luaXRSZWNvcmRzPWZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBhdXRvSW5pdFJlY29yZHM6IGZhbHNlLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119IGZpbHRlcnNcbiAgICAgICAgICovXG4gICAgICAgIGZpbHRlcnM6IFtcbiAgICAgICAgICAgIHtwcm9wZXJ0eTogJ2JpbycsICAgICAgICAgb3BlcmF0b3I6ICdsaWtlJywgdmFsdWU6IG51bGx9LFxuICAgICAgICAgICAge3Byb3BlcnR5OiAnY29tbWl0UmF0aW8nLCBvcGVyYXRvcjogJzw9JywgICB2YWx1ZTogbnVsbH0sXG4gICAgICAgICAgICB7cHJvcGVydHk6ICdjb3VudHJ5Q29kZScsIG9wZXJhdG9yOiAnPT09JywgIHZhbHVlOiBudWxsfSxcbiAgICAgICAgICAgIHtwcm9wZXJ0eTogJ2lzSGlyZWFibGUnLCAgb3BlcmF0b3I6ICc9PT0nLCAgdmFsdWU6IG51bGx9LFxuICAgICAgICAgICAge3Byb3BlcnR5OiAnbG9naW4nLCAgICAgICBvcGVyYXRvcjogJ2xpa2UnLCB2YWx1ZTogbnVsbH0sXG4gICAgICAgICAgICB7cHJvcGVydHk6ICduYW1lJywgICAgICAgIG9wZXJhdG9yOiAnbGlrZScsIHZhbHVlOiBudWxsfVxuICAgICAgICBdLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fSBwcm94eVxuICAgICAgICAgKi9cbiAgICAgICAgcHJveHk6IHtcbiAgICAgICAgICAgIG1vZHVsZTogU3RyZWFtUHJveHksXG4gICAgICAgICAgICBwcm9ncmVzc2l2ZUNodW5rU2l6ZTogdHJ1ZSxcbiAgICAgICAgICAgIHVybCAgIDogTmVvLmNvbmZpZy5iYXNlUGF0aCArICdhcHBzL2RldmluZGV4L3Jlc291cmNlcy9kYXRhL3VzZXJzLmpzb25sJ1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119IHNvcnRlcnNcbiAgICAgICAgICovXG4gICAgICAgIHNvcnRlcnM6IFtcbiAgICAgICAgICAgIHtwcm9wZXJ0eTogJ3RvdGFsQ29udHJpYnV0aW9ucycsIGRpcmVjdGlvbjogJ0RFU0MnfVxuICAgICAgICBdXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhDb250cmlidXRvcnMpO1xuIiwiaW1wb3J0ICogYXMgc2VsZWN0aW9uIGZyb20gJy4uLy4uLy4uLy4uL3NyYy9zZWxlY3Rpb24vZ3JpZC9fZXhwb3J0Lm1qcyc7XG5pbXBvcnQgQ2hlY2tCb3ggICAgICAgZnJvbSAnLi4vLi4vLi4vLi4vc3JjL2Zvcm0vZmllbGQvQ2hlY2tCb3gubWpzJztcbmltcG9ydCBDb21ib0JveCAgICAgICBmcm9tICcuLi8uLi8uLi8uLi9zcmMvZm9ybS9maWVsZC9Db21ib0JveC5tanMnO1xuaW1wb3J0IENvbnRhaW5lciAgICAgIGZyb20gJy4uLy4uLy4uLy4uL3NyYy9jb250YWluZXIvQmFzZS5tanMnO1xuaW1wb3J0IENvdW50cnkgICAgICAgIGZyb20gJy4uLy4uLy4uLy4uL3NyYy9mb3JtL2ZpZWxkL0NvdW50cnkubWpzJztcbmltcG9ydCBQcm9maWxlICAgICAgICBmcm9tICcuL1Byb2ZpbGVDb250YWluZXIubWpzJztcbmltcG9ydCBSYWRpbyAgICAgICAgICBmcm9tICcuLi8uLi8uLi8uLi9zcmMvZm9ybS9maWVsZC9SYWRpby5tanMnO1xuaW1wb3J0IFRhYkNvbnRhaW5lciAgIGZyb20gJy4uLy4uLy4uLy4uL3NyYy90YWIvQ29udGFpbmVyLm1qcyc7XG5cbi8qKlxuICogQGNsYXNzIERldkluZGV4LnZpZXcuaG9tZS5Db250cm9sc0NvbnRhaW5lclxuICogQGV4dGVuZHMgTmVvLmNvbnRhaW5lci5CYXNlXG4gKi9cbmNsYXNzIENvbnRyb2xzQ29udGFpbmVyIGV4dGVuZHMgQ29udGFpbmVyIHtcbiAgICBzdGF0aWMgY29uZmlnID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBjbGFzc05hbWU9J0RldkluZGV4LnZpZXcuaG9tZS5Db250cm9sc0NvbnRhaW5lcidcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgY2xhc3NOYW1lOiAnRGV2SW5kZXgudmlldy5ob21lLkNvbnRyb2xzQ29udGFpbmVyJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ1tdfSBjbHM9WydkZXZpbmRleC1jb250cm9scy1jb250YWluZXInXVxuICAgICAgICAgKiBAcmVhY3RpdmVcbiAgICAgICAgICovXG4gICAgICAgIGNsczogWydkZXZpbmRleC1jb250cm9scy1jb250YWluZXInXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdFtdfSBpdGVtc1xuICAgICAgICAgKi9cbiAgICAgICAgaXRlbXM6IFt7XG4gICAgICAgICAgICBtb2R1bGUgICAgICAgIDogVGFiQ29udGFpbmVyLFxuICAgICAgICAgICAgY2xzICAgICAgICAgICA6IFsnZGV2aW5kZXgtY29udHJvbHMtY29udGFpbmVyLWNvbnRlbnQnXSxcbiAgICAgICAgICAgIGRyYWdSZXNvcnRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgcmVmZXJlbmNlICAgICA6ICdjb250cm9scy10YWItY29udGFpbmVyJyxcblxuICAgICAgICAgICAgaGVhZGVyVG9vbGJhcjoge1xuICAgICAgICAgICAgICAgIGNscyAgICAgICAgICAgOiBbJ2RldmluZGV4LXRhYi1oZWFkZXItdG9vbGJhciddLFxuICAgICAgICAgICAgICAgIHNvcnRab25lQ29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIGFkanVzdEl0ZW1SZWN0c1RvUGFyZW50OiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaXRlbXM6IFt7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiBDb250YWluZXIsXG4gICAgICAgICAgICAgICAgaGVhZGVyOiB7dGV4dDogJ1NlYXJjaCd9LFxuICAgICAgICAgICAgICAgIGxheW91dDogJ3Zib3gnLFxuXG4gICAgICAgICAgICAgICAgaXRlbXM6IFt7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZSAgICAgICAgOiBDb3VudHJ5LFxuICAgICAgICAgICAgICAgICAgICBjbGVhcmFibGUgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZm9yY2VTZWxlY3Rpb246IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsUG9zaXRpb24gOiAnaW5saW5lJyxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxUZXh0ICAgICA6ICdDb3VudHJ5JyxcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzICAgICA6IHtjaGFuZ2U6ICdvbkZpbHRlckNoYW5nZSd9LFxuICAgICAgICAgICAgICAgICAgICBuYW1lICAgICAgICAgIDogJ2NvdW50cnlDb2RlJyxcbiAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlICAgICA6ICdjb3VudHJ5LWZpZWxkJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvd0ZsYWdzICAgICA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlICAgICAgICAgOiB7bWFyZ2luVG9wOiAnLjNlbSd9LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZUZpZWxkICAgIDogJ2NvZGUnLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aCAgICAgICAgIDogMjAwXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBudHlwZSAgICAgICAgOiAndGV4dGZpZWxkJyxcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJhYmxlICAgIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZWRpdGFibGUgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxQb3NpdGlvbjogJ2lubGluZScsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsVGV4dCAgICA6ICdVc2VybmFtZScsXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycyAgICA6IHtjaGFuZ2U6ICdvbkZpbHRlckNoYW5nZSd9LFxuICAgICAgICAgICAgICAgICAgICBuYW1lICAgICAgICAgOiAnbG9naW4nLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZSAgICAgICAgOiB7bWFyZ2luVG9wOiAnLjNlbSd9LFxuICAgICAgICAgICAgICAgICAgICB3aWR0aCAgICAgICAgOiAyMDBcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG50eXBlICAgICAgICA6ICd0ZXh0ZmllbGQnLFxuICAgICAgICAgICAgICAgICAgICBjbGVhcmFibGUgICAgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZSAgICAgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbFBvc2l0aW9uOiAnaW5saW5lJyxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxUZXh0ICAgIDogJ0Z1bGxuYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzICAgIDoge2NoYW5nZTogJ29uRmlsdGVyQ2hhbmdlJ30sXG4gICAgICAgICAgICAgICAgICAgIG5hbWUgICAgICAgICA6ICduYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgICAgICAgIDoge21hcmdpblRvcDogJy4zZW0nfSxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggICAgICAgIDogMjAwXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBudHlwZSAgICAgICAgOiAndGV4dGZpZWxkJyxcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJhYmxlICAgIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZWRpdGFibGUgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxQb3NpdGlvbjogJ2lubGluZScsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsVGV4dCAgICA6ICdCaW8gU2VhcmNoJyxcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzICAgIDoge2NoYW5nZTogJ29uRmlsdGVyQ2hhbmdlJ30sXG4gICAgICAgICAgICAgICAgICAgIG5hbWUgICAgICAgICA6ICdiaW8nLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZSAgICAgICAgOiB7bWFyZ2luVG9wOiAnLjNlbSd9LFxuICAgICAgICAgICAgICAgICAgICB3aWR0aCAgICAgICAgOiAyMDBcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG50eXBlOiAnbGFiZWwnLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZToge21hcmdpblRvcDogJzFlbSd9LFxuICAgICAgICAgICAgICAgICAgICB0ZXh0IDogJ0RhdGEgTW9kZSdcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZSAgICAgICAgOiBSYWRpbyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZCAgICAgICA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFNb2RlICAgICAgOiAndG90YWwnLFxuICAgICAgICAgICAgICAgICAgICBoaWRlTGFiZWwgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaGlkZVZhbHVlTGFiZWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbFRleHQgICAgIDogJycsXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycyAgICAgOiB7Y2hhbmdlOiAnb25EYXRhTW9kZUNoYW5nZSd9LFxuICAgICAgICAgICAgICAgICAgICBuYW1lICAgICAgICAgIDogJ2RhdGFNb2RlJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVMYWJlbCAgICA6ICdUb3RhbCBDb250cmlidXRpb25zJyxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggICAgICAgICA6IDIwMFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlICAgICAgICA6IFJhZGlvLFxuICAgICAgICAgICAgICAgICAgICBkYXRhTW9kZSAgICAgIDogJ3B1YmxpYycsXG4gICAgICAgICAgICAgICAgICAgIGhpZGVMYWJlbCAgICAgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBoaWRlVmFsdWVMYWJlbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsVGV4dCAgICAgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzICAgICA6IHtjaGFuZ2U6ICdvbkRhdGFNb2RlQ2hhbmdlJ30sXG4gICAgICAgICAgICAgICAgICAgIG5hbWUgICAgICAgICAgOiAnZGF0YU1vZGUnLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZSAgICAgICAgIDoge21hcmdpblRvcDogJy4zZW0nfSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVMYWJlbCAgICA6ICdQdWJsaWMgQ29udHJpYnV0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoICAgICAgICAgOiAyMDBcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZSAgICAgICAgOiBSYWRpbyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YU1vZGUgICAgICA6ICdwcml2YXRlJyxcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxhYmVsICAgICA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGhpZGVWYWx1ZUxhYmVsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxUZXh0ICAgICA6ICcnLFxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMgICAgIDoge2NoYW5nZTogJ29uRGF0YU1vZGVDaGFuZ2UnfSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSAgICAgICAgICA6ICdkYXRhTW9kZScsXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlICAgICAgICAgOiB7bWFyZ2luVG9wOiAnLjNlbSd9LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZUxhYmVsICAgIDogJ1ByaXZhdGUgQ29udHJpYnV0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoICAgICAgICAgOiAyMDBcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZSAgICAgICAgOiBSYWRpbyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YU1vZGUgICAgICA6ICdjb21taXRzJyxcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxhYmVsICAgICA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGhpZGVWYWx1ZUxhYmVsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxUZXh0ICAgICA6ICcnLFxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMgICAgIDoge2NoYW5nZTogJ29uRGF0YU1vZGVDaGFuZ2UnfSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSAgICAgICAgICA6ICdkYXRhTW9kZScsXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlICAgICAgICAgOiB7bWFyZ2luVG9wOiAnLjNlbSd9LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZUxhYmVsICAgIDogJ1RvdGFsIENvbW1pdHMnLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aCAgICAgICAgIDogMjAwXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBudHlwZTogJ2xhYmVsJyxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHttYXJnaW5Ub3A6ICcxZW0nfSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA6ICdGaWx0ZXJzJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlICAgICAgIDogQ2hlY2tCb3gsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBoaWRlTGFiZWwgICAgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMgICAgOiB7Y2hhbmdlOiAnb25IaXJlYWJsZUNoYW5nZSd9LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZUxhYmVsICAgOiAnSGlyZWFibGUgT25seScsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoICAgICAgICA6IDIwMFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlICAgICAgIDogQ2hlY2tCb3gsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBoaWRlTGFiZWwgICAgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMgICAgOiB7Y2hhbmdlOiAnb25IaWRlQXV0b21hdGlvbkNoYW5nZSd9LFxuICAgICAgICAgICAgICAgICAgICBzdHlsZSAgICAgICAgOiB7bWFyZ2luVG9wOiAnLjNlbSd9LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZUxhYmVsICAgOiAnSGlkZSBDb21taXQgUmF0aW8gPiA5MCUnLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aCAgICAgICAgOiAyMDBcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZSAgIDogUHJvZmlsZSxcbiAgICAgICAgICAgICAgICBoZWFkZXIgICA6IHt0ZXh0OiAnUHJvZmlsZSd9LFxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZTogJ3Byb2ZpbGUtY29udGFpbmVyJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgIGhlYWRlcjoge3RleHQ6ICdTZXR0aW5ncyd9LFxuICAgICAgICAgICAgICAgIGxheW91dDogJ3Zib3gnLFxuXG4gICAgICAgICAgICAgICAgaXRlbURlZmF1bHRzOiB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZSAgICAgICAgOiBSYWRpbyxcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxhYmVsICAgICA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGhpZGVWYWx1ZUxhYmVsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxUZXh0ICAgICA6ICcnLFxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMgICAgIDoge2NoYW5nZTogJ29uU2VsZWN0aW9uTW9kZWxDaGFuZ2UnfSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSAgICAgICAgICA6ICdzZWxlY3Rpb25Nb2RlbCcsXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlICAgICAgICAgOiB7bWFyZ2luVG9wOiAnLjNlbSd9LFxuICAgICAgICAgICAgICAgICAgICB3aWR0aCAgICAgICAgIDogMjAwXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGl0ZW1zOiBbe1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGUgICAgICAgOiBDaGVja0JveCxcbiAgICAgICAgICAgICAgICAgICAgYmluZCAgICAgICAgIDoge2NoZWNrZWQ6IGRhdGEgPT4gZGF0YS5zbG93SGVhZGVyVmlzdWFsc30sXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBoaWRlTGFiZWwgICAgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMgICAgOiB7Y2hhbmdlOiAnb25TbG93SGVhZGVyVmlzdWFsc0NoYW5nZSd9LFxuICAgICAgICAgICAgICAgICAgICBuYW1lICAgICAgICAgOiAnc2xvd0hlYWRlclZpc3VhbHMnLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZSAgICAgICAgOiB7bWFyZ2luVG9wOiAwfSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVMYWJlbCAgIDogJ1Nsb3cgSGVhZGVyIENhbnZhcycsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoICAgICAgICA6IDIwMFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlICAgICAgIDogQ2hlY2tCb3gsXG4gICAgICAgICAgICAgICAgICAgIGJpbmQgICAgICAgICA6IHtjaGVja2VkOiBkYXRhID0+IGRhdGEuYW5pbWF0ZUdyaWRWaXN1YWxzfSxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZCAgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxhYmVsICAgIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzICAgIDoge2NoYW5nZTogJ29uQW5pbWF0ZUdyaWRWaXN1YWxzQ2hhbmdlJ30sXG4gICAgICAgICAgICAgICAgICAgIG5hbWUgICAgICAgICA6ICdhbmltYXRlR3JpZFZpc3VhbHMnLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZSAgICAgICAgOiB7bWFyZ2luVG9wOiAnLjNlbSd9LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZUxhYmVsICAgOiAnQW5pbWF0ZSBHcmlkIFNwYXJrbGluZXMnLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aCAgICAgICAgOiAyMDBcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZSAgICAgICAgOiBDb21ib0JveCxcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJhYmxlICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZSAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGZvcmNlU2VsZWN0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBoaWRlTGFiZWwgICAgIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsVGV4dCAgICAgOiAnQnVmZmVyIFJvdyBSYW5nZScsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsUG9zaXRpb24gOiAnaW5saW5lJyxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxXaWR0aCAgICA6IDEzNSxcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzICAgICA6IHtjaGFuZ2U6ICdvbkJ1ZmZlclJvd1JhbmdlQ2hhbmdlJ30sXG4gICAgICAgICAgICAgICAgICAgIHN0b3JlICAgICAgICAgOiBbJzEnLCAnMicsICczJywgJzUnXSxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgICAgICAgICA6IHttYXJnaW5Ub3A6ICcxZW0nfSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgICAgICAgICA6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggICAgICAgICA6IDIwMFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlICAgICAgICA6IENvbWJvQm94LFxuICAgICAgICAgICAgICAgICAgICBjbGVhcmFibGUgICAgIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZm9yY2VTZWxlY3Rpb246IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGhpZGVMYWJlbCAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxUZXh0ICAgICA6ICdCdWZmZXIgQ29sdW1uIFJhbmdlJyxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxQb3NpdGlvbiA6ICdpbmxpbmUnLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbFdpZHRoICAgIDogMTM1LFxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMgICAgIDoge2NoYW5nZTogJ29uQnVmZmVyQ29sdW1uUmFuZ2VDaGFuZ2UnfSxcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUgICAgICAgICA6IFsnMScsICcyJywgJzMnLCAnNSddLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZSAgICAgICAgIDoge21hcmdpblRvcDogJy4zZW0nfSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgICAgICAgICA6ICcxJyxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggICAgICAgICA6IDIwMFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbnR5cGU6ICdsYWJlbCcsXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7bWFyZ2luVG9wOiAnMWVtJ30sXG4gICAgICAgICAgICAgICAgICAgIHRleHQgOiAnUGljayB0aGUgU2VsZWN0aW9uIE1vZGVsJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgICAgICAgICA6IHttYXJnaW5Ub3A6ICcuM2VtJ30sXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbk1vZGVsOiBzZWxlY3Rpb24uQ2VsbE1vZGVsLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZUxhYmVsICAgIDogJ0NlbGwnXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25Nb2RlbDogc2VsZWN0aW9uLkNvbHVtbk1vZGVsLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZUxhYmVsICAgIDogJ0NvbHVtbidcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQgICAgICAgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25Nb2RlbDogc2VsZWN0aW9uLlJvd01vZGVsLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZUxhYmVsICAgIDogJ1JvdydcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbk1vZGVsOiBzZWxlY3Rpb24uQ2VsbENvbHVtbk1vZGVsLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZUxhYmVsICAgIDogJ0NlbGwgJiBDb2x1bW4nXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25Nb2RlbDogc2VsZWN0aW9uLkNlbGxSb3dNb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVMYWJlbCAgICA6ICdDZWxsICYgUm93J1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uTW9kZWw6IHNlbGVjdGlvbi5DZWxsQ29sdW1uUm93TW9kZWwsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlTGFiZWwgICAgOiAnQ2VsbCAmIENvbHVtbiAmIFJvdydcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9IGxheW91dD17bnR5cGU6J3Zib3gnfVxuICAgICAgICAgKiBAcmVhY3RpdmVcbiAgICAgICAgICovXG4gICAgICAgIGxheW91dDoge250eXBlOiAnZml0J30sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IHRhZz0nYXNpZGUnXG4gICAgICAgICAqIEByZWFjdGl2ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGFnOiAnYXNpZGUnXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhDb250cm9sc0NvbnRhaW5lcik7XG4iLCJpbXBvcnQgQmFzZUdyaWRDb250YWluZXIgZnJvbSAnLi4vLi4vLi4vLi4vc3JjL2dyaWQvQ29udGFpbmVyLm1qcyc7XG5pbXBvcnQgSGV1cmlzdGljcyAgICAgICAgZnJvbSAnLi9jb21wb25lbnQvSGV1cmlzdGljcy5tanMnO1xuXG5jb25zdCByZWdleFllYXJDb2x1bW4gPSAvXihjfHB8cHUpP3lcXGR7NH0kLztcblxuLyoqXG4gKiBAY2xhc3MgRGV2SW5kZXgudmlldy5ob21lLkdyaWRDb250YWluZXJcbiAqIEBleHRlbmRzIE5lby5ncmlkLkNvbnRhaW5lclxuICovXG5jbGFzcyBHcmlkQ29udGFpbmVyIGV4dGVuZHMgQmFzZUdyaWRDb250YWluZXIge1xuICAgIHN0YXRpYyBjb25maWcgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGNsYXNzTmFtZT0nRGV2SW5kZXgudmlldy5ob21lLkdyaWRDb250YWluZXInXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGNsYXNzTmFtZTogJ0RldkluZGV4LnZpZXcuaG9tZS5HcmlkQ29udGFpbmVyJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge0Jvb2xlYW59IGFuaW1hdGVWaXN1YWxzXz10cnVlXG4gICAgICAgICAqIEByZWFjdGl2ZVxuICAgICAgICAgKi9cbiAgICAgICAgYW5pbWF0ZVZpc3VhbHNfOiB0cnVlLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nW119IGNscz1bJ2RldmluZGV4LWdyaWQtY29udGFpbmVyJ11cbiAgICAgICAgICovXG4gICAgICAgIGNsczogWydkZXZpbmRleC1ncmlkLWNvbnRhaW5lciddLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBkYXRhTW9kZV89J3RvdGFsJ1xuICAgICAgICAgKiBAcmVhY3RpdmVcbiAgICAgICAgICovXG4gICAgICAgIGRhdGFNb2RlXzogJ3RvdGFsJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH0gYm9keVxuICAgICAgICAgKi9cbiAgICAgICAgYm9keToge1xuICAgICAgICAgICAgYnVmZmVyQ29sdW1uUmFuZ2U6IDEsXG4gICAgICAgICAgICBidWZmZXJSb3dSYW5nZSAgIDogMSxcbiAgICAgICAgICAgIGxpc3RlbmVycyAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgaXNTY3JvbGxpbmdDaGFuZ2U6ICdvbkdyaWRJc1Njcm9sbGluZ0NoYW5nZSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgY29uZmlncyBmb3IgZWFjaCBjb2x1bW5cbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fSBjb2x1bW5EZWZhdWx0c1xuICAgICAgICAgKi9cbiAgICAgICAgY29sdW1uRGVmYXVsdHM6IHtcbiAgICAgICAgICAgIGNlbGxBbGlnbiAgICAgICAgICAgOiAnbGVmdCcsXG4gICAgICAgICAgICBkZWZhdWx0U29ydERpcmVjdGlvbjogJ0RFU0MnLFxuICAgICAgICAgICAgd2lkdGggICAgICAgICAgICAgICA6IDE1MFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7TnVtYmVyfSByb3dIZWlnaHQ9NTBcbiAgICAgICAgICovXG4gICAgICAgIHJvd0hlaWdodDogNTBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICovXG4gICAgY29uc3RydWN0KGNvbmZpZykge1xuICAgICAgICBzdXBlci5jb25zdHJ1Y3QoY29uZmlnKTtcbiAgICAgICAgdGhpcy5idWlsZER5bmFtaWNDb2x1bW5zKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb2xkVmFsdWVcbiAgICAgKi9cbiAgICBhZnRlclNldERhdGFNb2RlKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICBpZiAob2xkVmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgICAgIGxldCBtZSAgICAgICAgICAgICAgPSB0aGlzLFxuICAgICAgICAgICAge2Zvb3RlclRvb2xiYXJ9ID0gbWUsXG4gICAgICAgICAgICB7c3RvcmV9ICAgICAgICAgPSBtZSxcbiAgICAgICAgICAgIGFjdGl2ZVNvcnRlciAgICA9IHN0b3JlLnNvcnRlcnM/LlswXTtcblxuICAgICAgICBpZiAoZm9vdGVyVG9vbGJhcikge1xuICAgICAgICAgICAgZm9vdGVyVG9vbGJhci5kYXRhTW9kZSA9IHZhbHVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyAxLiBVcGRhdGUgQ29sdW1uIERhdGFGaWVsZHMgJiBDb21wb25lbnRzXG4gICAgICAgIG1lLmNvbHVtbnMuaXRlbXMuZm9yRWFjaChjb2x1bW4gPT4ge1xuICAgICAgICAgICAgbGV0IHtkYXRhRmllbGR9ID0gY29sdW1uLFxuICAgICAgICAgICAgICAgIG5ld0RhdGFGaWVsZDtcblxuICAgICAgICAgICAgaWYgKHJlZ2V4WWVhckNvbHVtbi50ZXN0KGRhdGFGaWVsZCkpIHtcbiAgICAgICAgICAgICAgICAvLyBTd2l0Y2ggYmV0d2VlbiAneTIwMjAnLCAnY3kyMDIwJywgJ3B5MjAyMCcsICdwdXkyMDIwJ1xuICAgICAgICAgICAgICAgIGxldCB5ZWFyICAgPSBkYXRhRmllbGQuc2xpY2UoLTQpLFxuICAgICAgICAgICAgICAgICAgICBwcmVmaXggPSAnJztcblxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gJ2NvbW1pdHMnKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZWZpeCA9ICdjJ1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdwcml2YXRlJykge1xuICAgICAgICAgICAgICAgICAgICBwcmVmaXggPSAncCdcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAncHVibGljJykge1xuICAgICAgICAgICAgICAgICAgICBwcmVmaXggPSAncHUnXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbmV3RGF0YUZpZWxkID0gcHJlZml4ICsgJ3knICsgeWVhclxuICAgICAgICAgICAgfSBlbHNlIGlmIChbJ3RvdGFsQ29udHJpYnV0aW9ucycsICd0b3RhbENvbW1pdHMnLCAndG90YWxQcml2YXRlQ29udHJpYnV0aW9ucycsICd0b3RhbFB1YmxpY0NvbnRyaWJ1dGlvbnMnXS5pbmNsdWRlcyhkYXRhRmllbGQpKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdjb21taXRzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGFGaWVsZCA9ICd0b3RhbENvbW1pdHMnO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3ByaXZhdGUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YUZpZWxkID0gJ3RvdGFsUHJpdmF0ZUNvbnRyaWJ1dGlvbnMnO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3B1YmxpYyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdEYXRhRmllbGQgPSAndG90YWxQdWJsaWNDb250cmlidXRpb25zJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YUZpZWxkID0gJ3RvdGFsQ29udHJpYnV0aW9ucyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YUZpZWxkID09PSAnYWN0aXZpdHknKSB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIFNwYXJrbGluZSBDb21wb25lbnQgdG8gcmVhZCBmcm9tIGNvcnJlY3QgcHJlZml4XG4gICAgICAgICAgICAgICAgY29sdW1uLmNvbXBvbmVudCA9ICh7cmVjb3JkfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSAgICA9IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kWWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMjAxMDsgaSA8PSBlbmRZZWFyOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB5ZWFyVmFsID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnY29tbWl0cycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ZWFyVmFsID0gcmVjb3JkW2BjeSR7aX1gXSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAncHJpdmF0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ZWFyVmFsID0gcmVjb3JkW2BweSR7aX1gXSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAncHVibGljJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHllYXJWYWwgPSByZWNvcmRbYHB1eSR7aX1gXSB8fCAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHllYXJWYWwgPSByZWNvcmRbYHkke2l9YF0gfHwgMFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2goeWVhclZhbClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge3ZhbHVlczogZGF0YX1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZXdEYXRhRmllbGQgJiYgbmV3RGF0YUZpZWxkICE9PSBkYXRhRmllbGQpIHtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgQ29sdW1uXG4gICAgICAgICAgICAgICAgY29sdW1uLmRhdGFGaWVsZCA9IG5ld0RhdGFGaWVsZFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyAyLiBVcGRhdGUgQWN0aXZlIFNvcnRlciBpZiBuZWVkZWRcbiAgICAgICAgaWYgKGFjdGl2ZVNvcnRlcikge1xuICAgICAgICAgICAgbGV0IHtwcm9wZXJ0eX0gPSBhY3RpdmVTb3J0ZXI7XG5cbiAgICAgICAgICAgIGlmIChyZWdleFllYXJDb2x1bW4udGVzdChwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgeWVhciAgID0gcHJvcGVydHkuc2xpY2UoLTQpLFxuICAgICAgICAgICAgICAgICAgICBwcmVmaXggPSAnJztcblxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gJ2NvbW1pdHMnKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZWZpeCA9ICdjJ1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdwcml2YXRlJykge1xuICAgICAgICAgICAgICAgICAgICBwcmVmaXggPSAncCdcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAncHVibGljJykge1xuICAgICAgICAgICAgICAgICAgICBwcmVmaXggPSAncHUnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFjdGl2ZVNvcnRlci5wcm9wZXJ0eSA9IHByZWZpeCArICd5JyArIHllYXJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoWyd0b3RhbENvbnRyaWJ1dGlvbnMnLCAndG90YWxDb21taXRzJywgJ3RvdGFsUHJpdmF0ZUNvbnRyaWJ1dGlvbnMnLCAndG90YWxQdWJsaWNDb250cmlidXRpb25zJ10uaW5jbHVkZXMocHJvcGVydHkpKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdjb21taXRzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVNvcnRlci5wcm9wZXJ0eSA9ICd0b3RhbENvbW1pdHMnO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3ByaXZhdGUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlU29ydGVyLnByb3BlcnR5ID0gJ3RvdGFsUHJpdmF0ZUNvbnRyaWJ1dGlvbnMnO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3B1YmxpYyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVTb3J0ZXIucHJvcGVydHkgPSAndG90YWxQdWJsaWNDb250cmlidXRpb25zJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlU29ydGVyLnByb3BlcnR5ID0gJ3RvdGFsQ29udHJpYnV0aW9ucyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDMuIFJlZnJlc2ggR3JpZCBWaWV3XG4gICAgICAgIG1lLmJvZHkuY3JlYXRlVmlld0RhdGEoZmFsc2UsIHRydWUpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBidWlsZER5bmFtaWNDb2x1bW5zKCkge1xuICAgICAgICBjb25zdFxuICAgICAgICAgICAgY3VycmVudFllYXIgICAgICA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICAgIGVuZFllYXIgICAgICAgICAgPSBjdXJyZW50WWVhcixcbiAgICAgICAgICAgIGFjdGl2aXR5RHVyYXRpb24gPSBlbmRZZWFyIC0gMjAxMCArIDEsXG4gICAgICAgICAgICBjb2x1bW5zICAgICAgICAgID0gW3tcbiAgICAgICAgICAgICAgICB0eXBlICAgICA6ICdpbmRleCcsXG4gICAgICAgICAgICAgICAgZGF0YUZpZWxkOiAnaWQnLFxuICAgICAgICAgICAgICAgIHRleHQgICAgIDogJyMnLFxuICAgICAgICAgICAgICAgIHdpZHRoICAgIDogNjAsXG4gICAgICAgICAgICAgICAgY2VsbEFsaWduOiAncmlnaHQnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdHlwZSAgICAgOiAnZ2l0aHViVXNlcicsXG4gICAgICAgICAgICAgICAgZGF0YUZpZWxkOiAnbG9naW4nLFxuICAgICAgICAgICAgICAgIHRleHQgICAgIDogJ1VzZXInLFxuICAgICAgICAgICAgICAgIHdpZHRoICAgIDogMjUwXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZGF0YUZpZWxkICAgICAgICAgICA6ICd0b3RhbENvbnRyaWJ1dGlvbnMnLFxuICAgICAgICAgICAgICAgIHRleHQgICAgICAgICAgICAgICAgOiAnVG90YWwnLFxuICAgICAgICAgICAgICAgIHdpZHRoICAgICAgICAgICAgICAgOiAxMDAsXG4gICAgICAgICAgICAgICAgY2VsbEFsaWduICAgICAgICAgICA6ICdyaWdodCcsXG4gICAgICAgICAgICAgICAgZGVmYXVsdFNvcnREaXJlY3Rpb246ICdERVNDJyxcbiAgICAgICAgICAgICAgICByZW5kZXJlciAgICAgICAgICAgIDogKHt2YWx1ZX0pID0+IG5ldyBJbnRsLk51bWJlckZvcm1hdCgpLmZvcm1hdCh2YWx1ZSlcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkYXRhRmllbGQgICAgICAgICAgIDogJ2NvbW1pdFJhdGlvJyxcbiAgICAgICAgICAgICAgICB0ZXh0ICAgICAgICAgICAgICAgIDogJ0NvbW1pdHMgJScsXG4gICAgICAgICAgICAgICAgd2lkdGggICAgICAgICAgICAgICA6IDkwLFxuICAgICAgICAgICAgICAgIGNlbGxBbGlnbiAgICAgICAgICAgOiAncmlnaHQnLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRTb3J0RGlyZWN0aW9uOiAnREVTQycsXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIgICAgICAgICAgICA6ICh7dmFsdWV9KSA9PiAodmFsdWUgfHwgMCkudG9GaXhlZCgyKVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGRhdGFGaWVsZCAgICAgICAgICAgOiAncHJpdmF0ZUNvbnRyaWJ1dGlvbnNSYXRpbycsXG4gICAgICAgICAgICAgICAgdGV4dCAgICAgICAgICAgICAgICA6ICdQcml2YXRlICUnLFxuICAgICAgICAgICAgICAgIHdpZHRoICAgICAgICAgICAgICAgOiA5MCxcbiAgICAgICAgICAgICAgICBjZWxsQWxpZ24gICAgICAgICAgIDogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgICBkZWZhdWx0U29ydERpcmVjdGlvbjogJ0RFU0MnLFxuICAgICAgICAgICAgICAgIHJlbmRlcmVyICAgICAgICAgICAgOiAoe3ZhbHVlfSkgPT4gdmFsdWUgPyB2YWx1ZS50b0ZpeGVkKDIpIDogJydcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0eXBlICAgICA6ICdjb21wb25lbnQnLFxuICAgICAgICAgICAgICAgIGRhdGFGaWVsZDogJ2hldXJpc3RpY3MnLFxuICAgICAgICAgICAgICAgIHRleHQgICAgIDogJ0ltcGFjdCcsXG4gICAgICAgICAgICAgICAgd2lkdGggICAgOiAxMDAsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiAoe3JlY29yZH0pID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZSAgICAgOiBIZXVyaXN0aWNzLFxuICAgICAgICAgICAgICAgICAgICBoZXVyaXN0aWNzIDogcmVjb3JkLmhldXJpc3RpY3MgfHwgcmVjb3JkLmhtXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkYXRhRmllbGQgIDogJ2FjdGl2aXR5JyxcbiAgICAgICAgICAgICAgICB0ZXh0ICAgICAgIDogYEFjdGl2aXR5ICgke2FjdGl2aXR5RHVyYXRpb259eSlgLFxuICAgICAgICAgICAgICAgIHdpZHRoICAgICAgOiAxNjAsXG4gICAgICAgICAgICAgICAgdHlwZSAgICAgICA6ICdzcGFya2xpbmUnLFxuICAgICAgICAgICAgICAgIHVzZUJpbmRpbmdzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudCAgOiAoe3JlY29yZH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAvLyBJdGVyYXRlIGZyb20gMjAxMCB0byBlbmRZZWFyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAyMDEwOyBpIDw9IGVuZFllYXI7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKHJlY29yZFtgeSR7aX1gXSB8fCAwKVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpbmQgIDoge3VzZVB1bHNlOiBkYXRhID0+IGRhdGEuYW5pbWF0ZUdyaWRWaXN1YWxzfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogZGF0YVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHR5cGUgICAgICAgICAgOiAnaWNvbkxpbmsnLFxuICAgICAgICAgICAgICAgIGRhdGFGaWVsZCAgICAgOiAndG9wUmVwbycsXG4gICAgICAgICAgICAgICAgY2VsbEljb25DbHMgICA6ICdmYS1icmFuZHMgZmEtZ2l0aHViJyxcbiAgICAgICAgICAgICAgICBsYWJlbEZvcm1hdHRlcjogdmFsID0+IHZhbD8uWzFdID8gbmV3IEludGwuTnVtYmVyRm9ybWF0KCkuZm9ybWF0KHZhbFsxXSkgOiBudWxsLFxuICAgICAgICAgICAgICAgIHRleHQgICAgICAgICAgOiAnVG9wIFJlcG8nLFxuICAgICAgICAgICAgICAgIHVybEZvcm1hdHRlciAgOiB2YWwgPT4gdmFsID8gYGh0dHBzOi8vZ2l0aHViLmNvbS8ke3ZhbFswXX1gIDogbnVsbCxcbiAgICAgICAgICAgICAgICB3aWR0aCAgICAgICAgIDogMTAwXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZGF0YUZpZWxkOiAnY29tcGFueScsXG4gICAgICAgICAgICAgICAgdGV4dCAgICAgOiAnQ29tcGFueScsXG4gICAgICAgICAgICAgICAgd2lkdGggICAgOiAyMDAsXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIgOiAoe3ZhbHVlfSkgPT4gdmFsdWUgPyB2YWx1ZS5yZXBsYWNlKC9eQC8sICcnKSA6ICcnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdHlwZSAgICAgOiAnY291bnRyeUZsYWcnLFxuICAgICAgICAgICAgICAgIGRhdGFGaWVsZDogJ2NvdW50cnlDb2RlJyxcbiAgICAgICAgICAgICAgICBzb3J0YWJsZSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRleHQgICAgIDogJ0xvY2F0aW9uJyxcbiAgICAgICAgICAgICAgICB3aWR0aCAgICA6IDIwMFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHR5cGUgICAgICAgOiAnaWNvbkxpbmsnLFxuICAgICAgICAgICAgICAgIGNlbGxBbGlnbiAgOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICBkYXRhRmllbGQgIDogJ3dlYnNpdGUnLFxuICAgICAgICAgICAgICAgIGNlbGxDbHMgICAgOiAnZGV2aW5kZXgtY29sdW1uLXdlYnNpdGUnLFxuICAgICAgICAgICAgICAgIGNlbGxJY29uQ2xzOiAnZmEgZmEtaG9tZScsXG4gICAgICAgICAgICAgICAgdGV4dCAgICAgICA6ICdXZWJzaXRlJyxcbiAgICAgICAgICAgICAgICB3aWR0aCAgICAgIDogNjVcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0eXBlICAgICA6ICdsaW5rZWRpbicsXG4gICAgICAgICAgICAgICAgY2VsbEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICBkYXRhRmllbGQ6ICdsaW5rZWRpblVybCcsXG4gICAgICAgICAgICAgICAgY2VsbENscyAgOiAnZGV2aW5kZXgtY29sdW1uLWxpbmtlZGluJyxcbiAgICAgICAgICAgICAgICB0ZXh0ICAgICA6ICdMSScsXG4gICAgICAgICAgICAgICAgd2lkdGggICAgOiA0MFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHR5cGUgICAgICAgOiAnaWNvbicsXG4gICAgICAgICAgICAgICAgY2VsbEFsaWduICA6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgIGRhdGFGaWVsZCAgOiAnaXNIaXJlYWJsZScsXG4gICAgICAgICAgICAgICAgY2VsbENscyAgICA6ICdkZXZpbmRleC1jb2x1bW4taGlyZWFibGUnLFxuICAgICAgICAgICAgICAgIGNlbGxJY29uQ2xzOiAnZmFzIGZhLWNpcmNsZS1jaGVjaycsXG4gICAgICAgICAgICAgICAgdGV4dCAgICAgICA6ICdIaXJlYWJsZScsXG4gICAgICAgICAgICAgICAgd2lkdGggICAgICA6IDY1XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdHlwZSAgICAgICA6ICdpY29uTGluaycsXG4gICAgICAgICAgICAgICAgY2VsbEFsaWduICA6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgIGRhdGFGaWVsZCAgOiAndHdpdHRlcicsXG4gICAgICAgICAgICAgICAgY2VsbENscyAgICA6ICdkZXZpbmRleC1jb2x1bW4tdHdpdHRlcicsXG4gICAgICAgICAgICAgICAgY2VsbEljb25DbHM6ICdmYS1icmFuZHMgZmEteC10d2l0dGVyJyxcbiAgICAgICAgICAgICAgICB0ZXh0ICAgICAgIDogJ1gnLFxuICAgICAgICAgICAgICAgIHVybEZvcm1hdHRlcjogdmFsID0+IHZhbCA/IChTdHJpbmcodmFsKS5zdGFydHNXaXRoKCdodHRwJykgPyB2YWwgOiBgaHR0cHM6Ly94LmNvbS8ke3ZhbH1gKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgd2lkdGggICAgICA6IDQwXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdHlwZSAgICAgOiAnZ2l0aHViT3JncycsXG4gICAgICAgICAgICAgICAgZGF0YUZpZWxkOiAnb3JnYW5pemF0aW9ucycsXG4gICAgICAgICAgICAgICAgdGV4dCAgICAgOiAnT3JncycsXG4gICAgICAgICAgICAgICAgd2lkdGggICAgOiAxNTBcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkYXRhRmllbGQ6ICdmb2xsb3dlcnMnLFxuICAgICAgICAgICAgICAgIHRleHQgICAgIDogJ0ZvbGxvd2VycycsXG4gICAgICAgICAgICAgICAgd2lkdGggICAgOiAxMDAsXG4gICAgICAgICAgICAgICAgY2VsbEFsaWduOiAncmlnaHQnLFxuICAgICAgICAgICAgICAgIHJlbmRlcmVyIDogKHt2YWx1ZX0pID0+IHZhbHVlID8gbmV3IEludGwuTnVtYmVyRm9ybWF0KCkuZm9ybWF0KHZhbHVlKSA6ICctJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHR5cGUgICAgICAgICAgOiAnaWNvbkxpbmsnLFxuICAgICAgICAgICAgICAgIGNlbGxBbGlnbiAgICAgOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICBjZWxsQ2xzICAgICAgIDogJ2RldmluZGV4LWNvbHVtbi1zcG9uc29ycycsXG4gICAgICAgICAgICAgICAgZGF0YUZpZWxkICAgICA6ICdoYXNTcG9uc29ycycsXG4gICAgICAgICAgICAgICAgY2VsbEljb25DbHMgICA6ICdmYS1yZWd1bGFyIGZhLWhlYXJ0JyxcbiAgICAgICAgICAgICAgICBsYWJlbEZvcm1hdHRlcjogdmFsID0+IHZhbCAhPSBudWxsID8gU3RyaW5nKHZhbCkgOiBudWxsLFxuICAgICAgICAgICAgICAgIHRleHQgICAgICAgICAgOiAnU3BvbnNvcnMnLFxuICAgICAgICAgICAgICAgIHVybEZvcm1hdHRlciAgOiAodmFsLCByZWNvcmQpID0+IHZhbCAhPSBudWxsID8gYGh0dHBzOi8vZ2l0aHViLmNvbS9zcG9uc29ycy8ke3JlY29yZC5sb2dpbn1gIDogbnVsbCxcbiAgICAgICAgICAgICAgICB3aWR0aCAgICAgICAgIDogODBcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkYXRhRmllbGQ6ICdmaXJzdFllYXInLFxuICAgICAgICAgICAgICAgIHRleHQgICAgIDogJ1NpbmNlJywgd2lkdGg6IDgwLFxuICAgICAgICAgICAgICAgIGNlbGxBbGlnbjogJ2NlbnRlcidcbiAgICAgICAgICAgIH1dO1xuXG4gICAgICAgIC8vIEFkZCBZZWFyIENvbHVtbnNcbiAgICAgICAgZm9yIChsZXQgeWVhciA9IGVuZFllYXI7IHllYXIgPj0gMjAxMDsgeWVhci0tKSB7XG4gICAgICAgICAgICBjb2x1bW5zLnB1c2goe1xuICAgICAgICAgICAgICAgIGRhdGFGaWVsZDogYHkke3llYXJ9YCxcbiAgICAgICAgICAgICAgICB0ZXh0ICAgICA6IFN0cmluZyh5ZWFyKSxcbiAgICAgICAgICAgICAgICB3aWR0aCAgICA6IDgwLFxuICAgICAgICAgICAgICAgIGNlbGxBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIgOiAoe3ZhbHVlfSkgPT4gdmFsdWUgfHwgJycsXG4gICAgICAgICAgICAgICAgY2VsbENscyAgOiAoe3ZhbHVlfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2xzID0gWyduZW8taGVhdG1hcCddO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNscy5wdXNoKCdoZWF0bWFwLWNlbGwtMCcpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPCAxMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNscy5wdXNoKCdoZWF0bWFwLWNlbGwtMScpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPCAxMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbHMucHVzaCgnaGVhdG1hcC1jZWxsLTInKVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xzLnB1c2goJ2hlYXRtYXAtY2VsbC0zJylcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbHVtbnMucHVzaCh7XG4gICAgICAgICAgICBkYXRhRmllbGQ6ICdsYXN0VXBkYXRlZCcsXG4gICAgICAgICAgICB0ZXh0ICAgICA6ICdVcGRhdGVkJyxcbiAgICAgICAgICAgIHdpZHRoICAgIDogMTIwLFxuICAgICAgICAgICAgY2VsbEFsaWduOiAncmlnaHQnLFxuICAgICAgICAgICAgcmVuZGVyZXIgOiAoe3ZhbHVlfSkgPT4gbmV3IERhdGUodmFsdWUpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNvbHVtbnMgPSBjb2x1bW5zXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAgICAgKi9cbiAgICBvblNvcnRDb2x1bW4ob3B0cykge1xuICAgICAgICBsZXQgbWUgICAgICAgICA9IHRoaXMsXG4gICAgICAgICAgICB7ZGF0YU1vZGV9ID0gbWUsXG4gICAgICAgICAgICBzb3J0T3B0cyAgID0gey4uLm9wdHN9O1xuXG4gICAgICAgIGlmIChzb3J0T3B0cy5wcm9wZXJ0eSA9PT0gJ3RvcFJlcG8nKSB7XG4gICAgICAgICAgICBzb3J0T3B0cy5wcm9wZXJ0eSA9ICd0b3BSZXBvQ291bnQnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW50ZXJjZXB0IHNvcnQgb24geWVhciBjb2x1bW5zIHRvIHVzZSBjb3JyZWN0IGZpZWxkXG4gICAgICAgIGlmIChkYXRhTW9kZSAhPT0gJ3RvdGFsJykge1xuICAgICAgICAgICAgaWYgKHJlZ2V4WWVhckNvbHVtbi50ZXN0KHNvcnRPcHRzLnByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgIGxldCB5ZWFyICAgPSBzb3J0T3B0cy5wcm9wZXJ0eS5zbGljZSgtNCksXG4gICAgICAgICAgICAgICAgICAgIHByZWZpeCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFNb2RlID09PSAnY29tbWl0cycpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJlZml4ID0gJ2MnXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhTW9kZSA9PT0gJ3ByaXZhdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZWZpeCA9ICdwJ1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YU1vZGUgPT09ICdwdWJsaWMnKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZWZpeCA9ICdwdSdcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocHJlZml4KSB7XG4gICAgICAgICAgICAgICAgICAgIHNvcnRPcHRzLnByb3BlcnR5ID0gcHJlZml4ICsgJ3knICsgeWVhclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc29ydE9wdHMucHJvcGVydHkgPT09ICd0b3RhbENvbnRyaWJ1dGlvbnMnKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChkYXRhTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdjb21taXRzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRPcHRzLnByb3BlcnR5ID0gJ3RvdGFsQ29tbWl0cyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncHJpdmF0ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3J0T3B0cy5wcm9wZXJ0eSA9ICd0b3RhbFByaXZhdGVDb250cmlidXRpb25zJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdwdWJsaWMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgc29ydE9wdHMucHJvcGVydHkgPSAndG90YWxQdWJsaWNDb250cmlidXRpb25zJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgbWUuc3RvcmUuc29ydChzb3J0T3B0cyk7XG4gICAgICAgIG1lLnJlbW92ZVNvcnRpbmdDc3Mob3B0cy5wcm9wZXJ0eSlcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKEdyaWRDb250YWluZXIpO1xuIiwiaW1wb3J0IENvbnRhaW5lciAgICAgICAgICAgICAgICAgIGZyb20gJy4uLy4uLy4uLy4uL3NyYy9jb250YWluZXIvQmFzZS5tanMnO1xuaW1wb3J0IENvbnRyb2xsZXIgICAgICAgICAgICAgICAgIGZyb20gJy4vTWFpbkNvbnRhaW5lckNvbnRyb2xsZXIubWpzJztcbmltcG9ydCBDb250cm9sc0NvbnRhaW5lciAgICAgICAgICBmcm9tICcuL0NvbnRyb2xzQ29udGFpbmVyLm1qcyc7XG5pbXBvcnQgR3JpZENvbnRhaW5lciAgICAgICAgICAgICAgZnJvbSAnLi9HcmlkQ29udGFpbmVyLm1qcyc7XG5pbXBvcnQgTWFpbkNvbnRhaW5lclN0YXRlUHJvdmlkZXIgZnJvbSAnLi9NYWluQ29udGFpbmVyU3RhdGVQcm92aWRlci5tanMnO1xuaW1wb3J0IFN0YXR1c1Rvb2xiYXIgICAgICAgICAgICAgIGZyb20gJy4vU3RhdHVzVG9vbGJhci5tanMnO1xuXG4vKipcbiAqIEBjbGFzcyBEZXZJbmRleC52aWV3LmhvbWUuTWFpbkNvbnRhaW5lclxuICogQGV4dGVuZHMgTmVvLmNvbnRhaW5lci5CYXNlXG4gKi9cbmNsYXNzIE1haW5Db250YWluZXIgZXh0ZW5kcyBDb250YWluZXIge1xuICAgIHN0YXRpYyBjb25maWcgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGNsYXNzTmFtZT0nRGV2SW5kZXgudmlldy5ob21lLk1haW5Db250YWluZXInXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGNsYXNzTmFtZTogJ0RldkluZGV4LnZpZXcuaG9tZS5NYWluQ29udGFpbmVyJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ1tdfSBiYXNlQ2xzPVsnZGV2aW5kZXgtaG9tZS1tYWluY29udGFpbmVyJywnbmVvLWNvbnRhaW5lciddXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGJhc2VDbHM6IFsnZGV2aW5kZXgtaG9tZS1tYWluY29udGFpbmVyJywgJ25lby1jb250YWluZXInXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge05lby5jb250cm9sbGVyLkNvbXBvbmVudH0gY29udHJvbGxlcj1Db250cm9sbGVyXG4gICAgICAgICAqL1xuICAgICAgICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7TmVvLnN0YXRlLlByb3ZpZGVyfSBzdGF0ZVByb3ZpZGVyPU1haW5Db250YWluZXJTdGF0ZVByb3ZpZGVyXG4gICAgICAgICAqL1xuICAgICAgICBzdGF0ZVByb3ZpZGVyOiBNYWluQ29udGFpbmVyU3RhdGVQcm92aWRlcixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH0gbGF5b3V0PXtudHlwZTonaGJveCcsYWxpZ246J3N0cmV0Y2gnfVxuICAgICAgICAgKiBAcmVhY3RpdmVcbiAgICAgICAgICovXG4gICAgICAgIGxheW91dDoge250eXBlOiAnaGJveCcsIGFsaWduOiAnc3RyZXRjaCd9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119IGl0ZW1zXG4gICAgICAgICAqL1xuICAgICAgICBpdGVtczogW3tcbiAgICAgICAgICAgIG1vZHVsZSAgIDogQ29udGFpbmVyLFxuICAgICAgICAgICAgY2xzICAgICAgOiBbJ2RldmluZGV4LWdyaWQtd3JhcHBlciddLFxuICAgICAgICAgICAgZmxleCAgICAgOiAxLFxuICAgICAgICAgICAgbGF5b3V0ICAgOiB7bnR5cGU6ICd2Ym94JywgYWxpZ246ICdzdHJldGNoJ30sXG4gICAgICAgICAgICByZWZlcmVuY2U6ICdncmlkLXdyYXBwZXInLFxuICAgICAgICAgICAgaXRlbXMgICAgOiBbe1xuICAgICAgICAgICAgICAgIG1vZHVsZSAgIDogR3JpZENvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBiaW5kICAgICA6IHtzdG9yZTogJ3N0b3Jlcy5jb250cmlidXRvcnMnfSxcbiAgICAgICAgICAgICAgICByZWZlcmVuY2U6ICdncmlkJyxcbiAgICAgICAgICAgICAgICBmbGV4ICAgICA6IDFcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBtb2R1bGU6IFN0YXR1c1Rvb2xiYXIsXG4gICAgICAgICAgICAgICAgYmluZCAgICAgOiB7c3RvcmU6ICdzdG9yZXMuY29udHJpYnV0b3JzJ30sXG4gICAgICAgICAgICAgICAgZmxleCAgOiAnbm9uZSdcbiAgICAgICAgICAgIH1dXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG1vZHVsZSAgIDogQ29udHJvbHNDb250YWluZXIsXG4gICAgICAgICAgICByZWZlcmVuY2U6ICdjb250cm9scydcbiAgICAgICAgfV1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKE1haW5Db250YWluZXIpO1xuIiwiaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAnLi4vLi4vLi4vLi4vc3JjL2NvbnRyb2xsZXIvQ29tcG9uZW50Lm1qcyc7XG5cbi8qKlxuICogQGNsYXNzIERldkluZGV4LnZpZXcuaG9tZS5NYWluQ29udGFpbmVyQ29udHJvbGxlclxuICogQGV4dGVuZHMgTmVvLmNvbnRyb2xsZXIuQ29tcG9uZW50XG4gKi9cbmNsYXNzIE1haW5Db250YWluZXJDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gICAgc3RhdGljIGNvbmZpZyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gY2xhc3NOYW1lPSdEZXZJbmRleC52aWV3LmhvbWUuTWFpbkNvbnRhaW5lckNvbnRyb2xsZXInXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGNsYXNzTmFtZTogJ0RldkluZGV4LnZpZXcuaG9tZS5NYWluQ29udGFpbmVyQ29udHJvbGxlcidcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtCb29sZWFufSBmaXJzdEZpbHRlcmluZz10cnVlXG4gICAgICovXG4gICAgZmlyc3RGaWx0ZXJpbmcgPSB0cnVlXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAqL1xuICAgIG9uQnVmZmVyQ29sdW1uUmFuZ2VDaGFuZ2UoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YS5vbGRWYWx1ZSkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gZGF0YS52YWx1ZTtcblxuICAgICAgICAgICAgaWYgKE5lby5pc1JlY29yZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmlkXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZ2V0UmVmZXJlbmNlKCdncmlkJykuYm9keS5idWZmZXJDb2x1bW5SYW5nZSA9IHBhcnNlSW50KHZhbHVlKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICAgKi9cbiAgICBvbkJ1ZmZlclJvd1JhbmdlQ2hhbmdlKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEub2xkVmFsdWUpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IGRhdGEudmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChOZW8uaXNSZWNvcmQodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5pZFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmdldFJlZmVyZW5jZSgnZ3JpZCcpLmJvZHkuYnVmZmVyUm93UmFuZ2UgPSBwYXJzZUludCh2YWx1ZSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICovXG4gICAgb25EYXRhTW9kZUNoYW5nZShkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLnZhbHVlKSB7IC8vIFJhZGlvIGdyb3VwOiBvbmx5IHJlYWN0IHRvIHRoZSBuZXdseSBjaGVja2VkIGl0ZW1cbiAgICAgICAgICAgIHRoaXMuZ2V0UmVmZXJlbmNlKCdncmlkJykuZGF0YU1vZGUgPSBkYXRhLmNvbXBvbmVudC5kYXRhTW9kZVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBvbkNvbXBvbmVudENvbnN0cnVjdGVkKCkge1xuICAgICAgICBsZXQgbWUgPSB0aGlzO1xuXG4gICAgICAgIG1lLmdldFJlZmVyZW5jZSgnZ3JpZCcpLmJvZHkub24oJ3NlbGVjdCcsIG1lLm9uR3JpZFNlbGVjdCwgbWUpO1xuXG4gICAgICAgIG1lLmdldFJlZmVyZW5jZSgnY29udHJvbHMtdGFiLWNvbnRhaW5lcicpLm9uKCdhY3RpdmVJbmRleENoYW5nZScsIG1lLm9uQ29udHJvbHNUYWJDaGFuZ2UsIG1lKTtcblxuICAgICAgICBOZW8uTWFpbi5nZXRCeVBhdGgoe1xuICAgICAgICAgICAgcGF0aCAgICA6ICdsb2NhdGlvbi5zZWFyY2gnLFxuICAgICAgICAgICAgd2luZG93SWQ6IG1lLndpbmRvd0lkXG4gICAgICAgIH0pLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGxldCBwYXJhbXMgID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhkYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgY291bnRyeSA9IHBhcmFtcy5nZXQoJ2NvdW50cnknKSxcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoY291bnRyeSkge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZCA9IG1lLmdldFJlZmVyZW5jZSgnY291bnRyeS1maWVsZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQudmFsdWUgPSBjb3VudHJ5XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICAgKi9cbiAgICBvbkNvbnRyb2xzVGFiQ2hhbmdlKGRhdGEpIHtcbiAgICAgICAgbGV0IG1lID0gdGhpcztcblxuICAgICAgICBpZiAoZGF0YS52YWx1ZSA9PT0gMSAmJiBtZS5zZWxlY3RlZFJlY29yZCkgeyAvLyAxID0gUHJvZmlsZSBUYWJcbiAgICAgICAgICAgIG1lLmdldFJlZmVyZW5jZSgncHJvZmlsZS1jb250YWluZXInKT8udXBkYXRlUmVjb3JkKG1lLnNlbGVjdGVkUmVjb3JkKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICAgKi9cbiAgICBhc3luYyBvbkZpbHRlckNoYW5nZShkYXRhKSB7XG4gICAgICAgIGxldCBtZSAgICA9IHRoaXMsXG4gICAgICAgICAgICBncmlkICA9IG1lLmdldFJlZmVyZW5jZSgnZ3JpZCcpLFxuICAgICAgICAgICAgdmFsdWUgPSBkYXRhLmNvbXBvbmVudC5nZXRTdWJtaXRWYWx1ZSgpO1xuXG4gICAgICAgIGlmIChkYXRhLmNvbXBvbmVudC5uYW1lID09PSAnY291bnRyeUNvZGUnICYmIHZhbHVlKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvVXBwZXJDYXNlKClcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtZS5maXJzdEZpbHRlcmluZykge1xuICAgICAgICAgICAgbWUuZmlyc3RGaWx0ZXJpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGdyaWQuaXNMb2FkaW5nID0gJ0lzIExvYWRpbmcnO1xuICAgICAgICAgICAgYXdhaXQgbWUudGltZW91dCg1KVxuICAgICAgICB9XG5cbiAgICAgICAgZ3JpZC5zdG9yZS5nZXRGaWx0ZXIoZGF0YS5jb21wb25lbnQubmFtZSkudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgZ3JpZC5pc0xvYWRpbmcgPSBmYWxzZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICovXG4gICAgb25HcmlkSXNTY3JvbGxpbmdDaGFuZ2UoZGF0YSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKCdpc1Njcm9sbGluZycsIGRhdGEudmFsdWUpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICAgKi9cbiAgICBvbkdyaWRTZWxlY3QoZGF0YSkge1xuICAgICAgICBsZXQgbWUgICAgICAgICAgID0gdGhpcyxcbiAgICAgICAgICAgIHJlY29yZCAgICAgICA9IGRhdGEucmVjb3JkLFxuICAgICAgICAgICAgcHJvZmlsZSAgICAgID0gbWUuZ2V0UmVmZXJlbmNlKCdwcm9maWxlLWNvbnRhaW5lcicpLFxuICAgICAgICAgICAgdGFiQ29udGFpbmVyID0gbWUuZ2V0UmVmZXJlbmNlKCdjb250cm9scy10YWItY29udGFpbmVyJyk7XG5cbiAgICAgICAgbWUuc2VsZWN0ZWRSZWNvcmQgPSByZWNvcmQ7XG5cbiAgICAgICAgaWYgKHJlY29yZCAmJiBwcm9maWxlICYmIHRhYkNvbnRhaW5lcj8uYWN0aXZlSW5kZXggPT09IDEpIHtcbiAgICAgICAgICAgIHByb2ZpbGUudXBkYXRlUmVjb3JkKHJlY29yZClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICovXG4gICAgYXN5bmMgb25IaWRlQXV0b21hdGlvbkNoYW5nZShkYXRhKSB7XG4gICAgICAgIGxldCBtZSAgID0gdGhpcyxcbiAgICAgICAgICAgIGdyaWQgPSBtZS5nZXRSZWZlcmVuY2UoJ2dyaWQnKTtcblxuICAgICAgICBpZiAobWUuZmlyc3RGaWx0ZXJpbmcpIHtcbiAgICAgICAgICAgIG1lLmZpcnN0RmlsdGVyaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBncmlkLmlzTG9hZGluZyA9ICdJcyBMb2FkaW5nJztcbiAgICAgICAgICAgIGF3YWl0IG1lLnRpbWVvdXQoNSlcbiAgICAgICAgfVxuXG4gICAgICAgIGdyaWQuc3RvcmUuZ2V0RmlsdGVyKCdjb21taXRSYXRpbycpLnZhbHVlID0gZGF0YS52YWx1ZSA/IDkwIDogbnVsbDtcbiAgICAgICAgZ3JpZC5pc0xvYWRpbmcgPSBmYWxzZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICovXG4gICAgYXN5bmMgb25IaXJlYWJsZUNoYW5nZShkYXRhKSB7XG4gICAgICAgIGxldCBtZSAgID0gdGhpcyxcbiAgICAgICAgICAgIGdyaWQgPSBtZS5nZXRSZWZlcmVuY2UoJ2dyaWQnKTtcblxuICAgICAgICBpZiAobWUuZmlyc3RGaWx0ZXJpbmcpIHtcbiAgICAgICAgICAgIG1lLmZpcnN0RmlsdGVyaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBncmlkLmlzTG9hZGluZyA9ICdJcyBMb2FkaW5nJztcbiAgICAgICAgICAgIGF3YWl0IG1lLnRpbWVvdXQoNSlcbiAgICAgICAgfVxuXG4gICAgICAgIGdyaWQuc3RvcmUuZ2V0RmlsdGVyKCdpc0hpcmVhYmxlJykudmFsdWUgPSBkYXRhLnZhbHVlID8gdHJ1ZSA6IG51bGw7XG4gICAgICAgIGdyaWQuaXNMb2FkaW5nID0gZmFsc2VcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAqL1xuICAgIG9uU2VsZWN0aW9uTW9kZWxDaGFuZ2UoZGF0YSkge1xuICAgICAgICB0aGlzLmdldFJlZmVyZW5jZSgnZ3JpZCcpLmJvZHkuc2VsZWN0aW9uTW9kZWwgPSBkYXRhLmNvbXBvbmVudC5zZWxlY3Rpb25Nb2RlbFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICovXG4gICAgb25BbmltYXRlR3JpZFZpc3VhbHNDaGFuZ2UoZGF0YSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKCdhbmltYXRlR3JpZFZpc3VhbHMnLCBkYXRhLnZhbHVlKTtcblxuICAgICAgICBOZW8ubWFpbi5hZGRvbi5Mb2NhbFN0b3JhZ2UudXBkYXRlTG9jYWxTdG9yYWdlSXRlbSh7XG4gICAgICAgICAgICBrZXkgICAgIDogJ2RldmluZGV4QW5pbWF0ZUdyaWRWaXN1YWxzJyxcbiAgICAgICAgICAgIHZhbHVlICAgOiBTdHJpbmcoZGF0YS52YWx1ZSksXG4gICAgICAgICAgICB3aW5kb3dJZDogdGhpcy53aW5kb3dJZFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICovXG4gICAgb25TbG93SGVhZGVyVmlzdWFsc0NoYW5nZShkYXRhKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoJ3Nsb3dIZWFkZXJWaXN1YWxzJywgZGF0YS52YWx1ZSk7XG5cbiAgICAgICAgTmVvLm1haW4uYWRkb24uTG9jYWxTdG9yYWdlLnVwZGF0ZUxvY2FsU3RvcmFnZUl0ZW0oe1xuICAgICAgICAgICAga2V5ICAgICA6ICdkZXZpbmRleFNsb3dIZWFkZXJWaXN1YWxzJyxcbiAgICAgICAgICAgIHZhbHVlICAgOiBTdHJpbmcoZGF0YS52YWx1ZSksXG4gICAgICAgICAgICB3aW5kb3dJZDogdGhpcy53aW5kb3dJZFxuICAgICAgICB9KVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoTWFpbkNvbnRhaW5lckNvbnRyb2xsZXIpO1xuIiwiaW1wb3J0IENvbnRyaWJ1dG9ycyAgZnJvbSAnLi4vLi4vc3RvcmUvQ29udHJpYnV0b3JzLm1qcyc7XG5pbXBvcnQgU3RhdGVQcm92aWRlciBmcm9tICcuLi8uLi8uLi8uLi9zcmMvc3RhdGUvUHJvdmlkZXIubWpzJztcblxuLyoqXG4gKiBAY2xhc3MgRGV2SW5kZXgudmlldy5ob21lLk1haW5Db250YWluZXJTdGF0ZVByb3ZpZGVyXG4gKiBAZXh0ZW5kcyBOZW8uc3RhdGUuUHJvdmlkZXJcbiAqL1xuY2xhc3MgTWFpbkNvbnRhaW5lclN0YXRlUHJvdmlkZXIgZXh0ZW5kcyBTdGF0ZVByb3ZpZGVyIHtcbiAgICBzdGF0aWMgY29uZmlnID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBjbGFzc05hbWU9J0RldkluZGV4LnZpZXcuaG9tZS5NYWluQ29udGFpbmVyU3RhdGVQcm92aWRlcidcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgY2xhc3NOYW1lOiAnRGV2SW5kZXgudmlldy5ob21lLk1haW5Db250YWluZXJTdGF0ZVByb3ZpZGVyJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH0gc3RvcmVzXG4gICAgICAgICAqL1xuICAgICAgICBzdG9yZXM6IHtcbiAgICAgICAgICAgIGNvbnRyaWJ1dG9yczoge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogQ29udHJpYnV0b3JzXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKE1haW5Db250YWluZXJTdGF0ZVByb3ZpZGVyKTtcbiIsImltcG9ydCBDb250YWluZXIgZnJvbSAnLi4vLi4vLi4vLi4vc3JjL2NvbnRhaW5lci9CYXNlLm1qcyc7XG5pbXBvcnQgSW1hZ2UgICAgIGZyb20gJy4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnQvSW1hZ2UubWpzJztcbmltcG9ydCBWRG9tVXRpbCAgZnJvbSAnLi4vLi4vLi4vLi4vc3JjL3V0aWwvVkRvbS5tanMnO1xuXG4vKipcbiAqIEBjbGFzcyBEZXZJbmRleC52aWV3LmhvbWUuUHJvZmlsZUNvbnRhaW5lclxuICogQGV4dGVuZHMgTmVvLmNvbnRhaW5lci5CYXNlXG4gKi9cbmNsYXNzIFByb2ZpbGVDb250YWluZXIgZXh0ZW5kcyBDb250YWluZXIge1xuICAgIHN0YXRpYyBjb25maWcgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGNsYXNzTmFtZT0nRGV2SW5kZXgudmlldy5ob21lLlByb2ZpbGVDb250YWluZXInXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGNsYXNzTmFtZTogJ0RldkluZGV4LnZpZXcuaG9tZS5Qcm9maWxlQ29udGFpbmVyJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ1tdfSBjbHM9WydkZXZpbmRleC1wcm9maWxlLWNvbnRhaW5lciddXG4gICAgICAgICAqL1xuICAgICAgICBjbHM6IFsnZGV2aW5kZXgtcHJvZmlsZS1jb250YWluZXInXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH0gbGF5b3V0PXtudHlwZTondmJveCcsYWxpZ246J3N0cmV0Y2gnfVxuICAgICAgICAgKi9cbiAgICAgICAgbGF5b3V0OiB7bnR5cGU6ICd2Ym94JywgYWxpZ246ICdzdHJldGNoJ30sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9IGl0ZW1EZWZhdWx0cz17ZmxleDonbm9uZSd9XG4gICAgICAgICAqL1xuICAgICAgICBpdGVtRGVmYXVsdHM6IHtmbGV4OiAnbm9uZSd9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119IGl0ZW1zXG4gICAgICAgICAqL1xuICAgICAgICBpdGVtczogW3tcbiAgICAgICAgICAgIG50eXBlICAgIDogJ2NvbXBvbmVudCcsXG4gICAgICAgICAgICB0YWcgICAgICA6ICdkaXYnLFxuICAgICAgICAgICAgcmVmZXJlbmNlOiAncGxhY2Vob2xkZXInLFxuICAgICAgICAgICAgdGV4dCAgICAgOiAnU2VsZWN0IGEgdXNlciB0byB2aWV3IGRldGFpbHMnLFxuICAgICAgICAgICAgY2xzICAgICAgOiBbJ3Byb2ZpbGUtcGxhY2Vob2xkZXInXVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBudHlwZSAgICA6ICdjb250YWluZXInLFxuICAgICAgICAgICAgcmVmZXJlbmNlOiAnZGV0YWlscy13cmFwcGVyJyxcbiAgICAgICAgICAgIGNscyAgICAgIDogWydwcm9maWxlLWRldGFpbHMtd3JhcHBlciddLFxuICAgICAgICAgICAgaGlkZGVuICAgOiB0cnVlLFxuICAgICAgICAgICAgbGF5b3V0ICAgOiB7bnR5cGU6ICd2Ym94JywgYWxpZ246ICdzdHJldGNoJ30sXG4gICAgICAgICAgICBpdGVtRGVmYXVsdHM6IHtmbGV4OiAnbm9uZSd9LFxuICAgICAgICAgICAgaXRlbXMgICAgOiBbe1xuICAgICAgICAgICAgICAgIG50eXBlICAgIDogJ2NvbXBvbmVudCcsXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlOiAncHJvZmlsZS1oZWFkZXInLFxuICAgICAgICAgICAgICAgIGNscyAgICAgIDogWydwcm9maWxlLWhlYWRlciddLFxuICAgICAgICAgICAgICAgIHZkb20gICAgIDoge1xuICAgICAgICAgICAgICAgICAgICBjbjogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZzogJ2RpdicsIGNsczogWydwcm9maWxlLWF2YXRhci13cmFwcGVyJ10sIGNuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RhZzogJ2ltZycsIGNsczogWydwcm9maWxlLWF2YXRhciddLCBmbGFnOiAnYXZhdGFyJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFnOiAnZGl2JywgY2xzOiBbJ3Byb2ZpbGUtbmFtZXMnXSwgY246IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGFnOiAnZGl2JywgY2xzOiBbJ3Byb2ZpbGUtbmFtZSddLCAgZmxhZzogJ25hbWUnfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGFnOiAnZGl2JywgY2xzOiBbJ3Byb2ZpbGUtbG9naW4nXSwgZmxhZzogJ2xvZ2luJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbnR5cGUgICAgOiAnY29tcG9uZW50JyxcbiAgICAgICAgICAgICAgICB0YWcgICAgICA6ICdkaXYnLFxuICAgICAgICAgICAgICAgIGNscyAgICAgIDogWydwcm9maWxlLWJpbyddLFxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZTogJ3Byb2ZpbGUtYmlvJyxcbiAgICAgICAgICAgICAgICB0ZXh0ICAgICA6ICcnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbnR5cGU6ICdjb21wb25lbnQnLFxuICAgICAgICAgICAgICAgIHRhZyAgOiAnZGl2JyxcbiAgICAgICAgICAgICAgICBjbHMgIDogWydwcm9maWxlLWRldGFpbHMtbGFiZWwnXSxcbiAgICAgICAgICAgICAgICB0ZXh0IDogJ0RldGFpbHMnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbnR5cGUgICAgOiAnY29tcG9uZW50JyxcbiAgICAgICAgICAgICAgICB0YWcgICAgICA6ICdkaXYnLFxuICAgICAgICAgICAgICAgIGNscyAgICAgIDogWydwcm9maWxlLWRldGFpbCddLFxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZTogJ3Byb2ZpbGUtbG9jYXRpb24nLFxuICAgICAgICAgICAgICAgIHRleHQgICAgIDogJydcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBudHlwZSAgICA6ICdjb21wb25lbnQnLFxuICAgICAgICAgICAgICAgIHRhZyAgICAgIDogJ2RpdicsXG4gICAgICAgICAgICAgICAgY2xzICAgICAgOiBbJ3Byb2ZpbGUtZGV0YWlsJ10sXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlOiAncHJvZmlsZS1jb21wYW55JyxcbiAgICAgICAgICAgICAgICB0ZXh0ICAgICA6ICcnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbnR5cGUgICAgOiAnY29udGFpbmVyJyxcbiAgICAgICAgICAgICAgICByZWZlcmVuY2U6ICdwcm9maWxlLW9yZ3MnLFxuICAgICAgICAgICAgICAgIGxheW91dCAgIDoge250eXBlOiAnaGJveCcsIHdyYXA6ICd3cmFwJ30sXG4gICAgICAgICAgICAgICAgY2xzICAgICAgOiBbJ3Byb2ZpbGUtb3JncyddLFxuICAgICAgICAgICAgICAgIGl0ZW1zICAgIDogW11cbiAgICAgICAgICAgIH1dXG4gICAgICAgIH1dXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHNyY1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzaXplXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRBdmF0YXJVcmwoc3JjLCBzaXplKSB7XG4gICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGV0IHVybFN0ciA9IFN0cmluZyhzcmMpO1xuICAgICAgICAgICAgICAgIGlmICghdXJsU3RyLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYGh0dHBzOi8vYXZhdGFycy5naXRodWJ1c2VyY29udGVudC5jb20vdS8ke3NyY30/dj00JnM9JHtzaXplfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCB1cmwgPSBuZXcgVVJMKHNyYyk7XG4gICAgICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3MnLCBzaXplKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXJsLnRvU3RyaW5nKClcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIEF2YXRhciBVUkwnLCBzcmMpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3JjIHx8ICcnXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlY29yZFxuICAgICAqL1xuICAgIHVwZGF0ZVJlY29yZChyZWNvcmQpIHtcbiAgICAgICAgbGV0IG1lICAgICAgPSB0aGlzLFxuICAgICAgICAgICAgd3JhcHBlciA9IG1lLmdldFJlZmVyZW5jZSgnZGV0YWlscy13cmFwcGVyJyksXG4gICAgICAgICAgICBob2xkZXIgID0gbWUuZ2V0UmVmZXJlbmNlKCdwbGFjZWhvbGRlcicpLFxuICAgICAgICAgICAgaGVhZGVyICA9IG1lLmdldFJlZmVyZW5jZSgncHJvZmlsZS1oZWFkZXInKSxcbiAgICAgICAgICAgIGJpbyAgICAgPSBtZS5nZXRSZWZlcmVuY2UoJ3Byb2ZpbGUtYmlvJyksXG4gICAgICAgICAgICBsb2MgICAgID0gbWUuZ2V0UmVmZXJlbmNlKCdwcm9maWxlLWxvY2F0aW9uJyksXG4gICAgICAgICAgICBjb21wICAgID0gbWUuZ2V0UmVmZXJlbmNlKCdwcm9maWxlLWNvbXBhbnknKSxcbiAgICAgICAgICAgIG9yZ3MgICAgPSBtZS5nZXRSZWZlcmVuY2UoJ3Byb2ZpbGUtb3JncycpLFxuICAgICAgICAgICAgdmRvbSAgICA9IGhlYWRlci52ZG9tLFxuICAgICAgICAgICAgYXZhdGFyLCBuYW1lLCBsb2dpbjtcblxuICAgICAgICBpZiAoIXJlY29yZCkge1xuICAgICAgICAgICAgd3JhcHBlci5oaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgaG9sZGVyLmhpZGRlbiAgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgd3JhcHBlci5oaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgaG9sZGVyLmhpZGRlbiAgPSB0cnVlO1xuXG4gICAgICAgIGF2YXRhciA9IFZEb21VdGlsLmdldEJ5RmxhZyh2ZG9tLCAnYXZhdGFyJyk7XG4gICAgICAgIG5hbWUgICA9IFZEb21VdGlsLmdldEJ5RmxhZyh2ZG9tLCAnbmFtZScpO1xuICAgICAgICBsb2dpbiAgPSBWRG9tVXRpbC5nZXRCeUZsYWcodmRvbSwgJ2xvZ2luJyk7XG5cbiAgICAgICAgaWYgKGF2YXRhcikge1xuICAgICAgICAgICAgYXZhdGFyLnNyYyA9IG1lLmdldEF2YXRhclVybChyZWNvcmQuYXZhdGFyVXJsLCAxMjgpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgIG5hbWUudGV4dCAgPSByZWNvcmQubmFtZSB8fCAnJztcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9naW4pIHtcbiAgICAgICAgICAgIGxvZ2luLnRleHQgPSBgQCR7cmVjb3JkLmxvZ2lufWA7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXIudXBkYXRlKCk7XG5cbiAgICAgICAgYmlvLnRleHQgPSByZWNvcmQuYmlvIHx8ICdObyBiaW8gYXZhaWxhYmxlLic7XG4gICAgICAgIGxvYy50ZXh0ID0gcmVjb3JkLmxvY2F0aW9uID8gYPCfk40gJHtyZWNvcmQubG9jYXRpb259YCA6ICcnO1xuICAgICAgICBjb21wLnRleHQgPSByZWNvcmQuY29tcGFueSA/IGDwn4+iICR7cmVjb3JkLmNvbXBhbnl9YCA6ICcnO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBPcmdzXG4gICAgICAgIG9yZ3MucmVtb3ZlQWxsKCk7XG5cbiAgICAgICAgaWYgKHJlY29yZC5vcmdhbml6YXRpb25zICYmIEFycmF5LmlzQXJyYXkocmVjb3JkLm9yZ2FuaXphdGlvbnMpICYmIHJlY29yZC5vcmdhbml6YXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG9yZ3MuYWRkKHtudHlwZTogJ2NvbXBvbmVudCcsIHRhZzogJ2RpdicsIGNsczogWydvcmctbGFiZWwnXSwgdGV4dDogJ09yZ2FuaXphdGlvbnM6J30pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZWNvcmQub3JnYW5pemF0aW9ucy5mb3JFYWNoKG9yZyA9PiB7XG4gICAgICAgICAgICAgICAgb3Jncy5hZGQoe1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGU6IEltYWdlLFxuICAgICAgICAgICAgICAgICAgICBhbHQgICA6IG9yZy5sb2dpbixcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAzMixcbiAgICAgICAgICAgICAgICAgICAgc3JjICAgOiBtZS5nZXRBdmF0YXJVcmwob3JnLmF2YXRhclVybCwgNjQpLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZSA6IG9yZy5sb2dpbixcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggOiAzMlxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoUHJvZmlsZUNvbnRhaW5lcik7XG4iLCJpbXBvcnQgUHJvZ3Jlc3MgZnJvbSAnLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudC9Qcm9ncmVzcy5tanMnO1xuaW1wb3J0IFRvb2xiYXIgIGZyb20gJy4uLy4uLy4uLy4uL3NyYy9ncmlkL2Zvb3Rlci9Ub29sYmFyLm1qcyc7XG5cbi8qKlxuICogQGNsYXNzIERldkluZGV4LnZpZXcuaG9tZS5TdGF0dXNUb29sYmFyXG4gKiBAZXh0ZW5kcyBOZW8uZ3JpZC5mb290ZXIuVG9vbGJhclxuICpcbiAqIEBzdW1tYXJ5IEEgc3RhdHVzIHRvb2xiYXIgZm9yIHRoZSBEZXZJbmRleCBncmlkLCBkaXNwbGF5aW5nIHN0cmVhbWluZyBwcm9ncmVzcyBhbmQgcm93IGNvdW50cy5cbiAqXG4gKiBUaGlzIGNvbXBvbmVudCBkZW1vbnN0cmF0ZXMgdGhlIHVzYWdlIG9mIGBOZW8uZ3JpZC5mb290ZXIuVG9vbGJhcmAgYnkgaW1wbGVtZW50aW5nIHRoZVxuICogc3RvcmUgZXZlbnQgaG9va3MgKGBvblN0b3JlTG9hZGAsIGBvblN0b3JlUHJvZ3Jlc3NgLCBgb25TdG9yZUZpbHRlcmApLlxuICpcbiAqIEtleSBmZWF0dXJlczpcbiAqIC0gKipQcm9ncmVzc2l2ZSBMb2FkaW5nIEluZGljYXRvcjoqKiBVc2VzIGEgYE5lby5jb21wb25lbnQuUHJvZ3Jlc3NgIHRvIHZpc3VhbGl6ZSBkYXRhIGFycml2YWwgZnJvbSB0aGVcbiAqICAgYE5lby5kYXRhLnByb3h5LlN0cmVhbWAuIFRoZSBwcm9ncmVzcyBiYXIgdXBkYXRlcyBpbiByZWFsLXRpbWUgdmlhIGBvblN0b3JlUHJvZ3Jlc3NgLlxuICogLSAqKlZpc2libGUgUm93IENvdW50OioqIFVwZGF0ZXMgYSBsYWJlbCB3aXRoIHRoZSBjdXJyZW50IG51bWJlciBvZiByZWNvcmRzIGluIHRoZSBzdG9yZVxuICogICB3aGVuZXZlciB0aGUgc3RvcmUgbG9hZHMgb3IgZmlsdGVycyBjaGFuZ2UuXG4gKiAtICoqQXV0by1IaWRpbmc6KiogVGhlIHByb2dyZXNzIGJhciBhdXRvbWF0aWNhbGx5IGhpZGVzIGl0c2VsZiBzaG9ydGx5IGFmdGVyIHRoZSBsb2FkIGNvbXBsZXRlcy5cbiAqL1xuY2xhc3MgU3RhdHVzVG9vbGJhciBleHRlbmRzIFRvb2xiYXIge1xuICAgIHN0YXRpYyBjb25maWcgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGNsYXNzTmFtZT0nRGV2SW5kZXgudmlldy5ob21lLlN0YXR1c1Rvb2xiYXInXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGNsYXNzTmFtZTogJ0RldkluZGV4LnZpZXcuaG9tZS5TdGF0dXNUb29sYmFyJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gbnR5cGU9J2RldmluZGV4LXN0YXR1cy10b29sYmFyJ1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBudHlwZTogJ2RldmluZGV4LXN0YXR1cy10b29sYmFyJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ1tdfSBjbHM9WydkZXZpbmRleC1zdGF0dXMtdG9vbGJhciddXG4gICAgICAgICAqL1xuICAgICAgICBjbHM6IFsnZGV2aW5kZXgtc3RhdHVzLXRvb2xiYXInXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gZGF0YU1vZGVfPSd0b3RhbCdcbiAgICAgICAgICovXG4gICAgICAgIGRhdGFNb2RlXzogJ3RvdGFsJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH0gbGF5b3V0XG4gICAgICAgICAqL1xuICAgICAgICBsYXlvdXQ6IHtudHlwZTogJ2hib3gnLCBhbGlnbjogJ2NlbnRlcicsIHdyYXA6ICd3cmFwJ30sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3RbXX0gaXRlbXNcbiAgICAgICAgICovXG4gICAgICAgIGl0ZW1zOiBbe1xuICAgICAgICAgICAgbnR5cGUgICAgOiAnbGFiZWwnLFxuICAgICAgICAgICAgcmVmZXJlbmNlOiAncHJvZ3Jlc3MtbGFiZWwnLFxuICAgICAgICAgICAgdGV4dCAgICAgOiAnU3RyZWFtaW5nIFVzZXJzOidcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbW9kdWxlICAgOiBQcm9ncmVzcyxcbiAgICAgICAgICAgIGZsZXggICAgIDogJ25vbmUnLFxuICAgICAgICAgICAgbWF4ICAgICAgOiAxMDAsXG4gICAgICAgICAgICByZWZlcmVuY2U6ICdwcm9ncmVzcycsXG4gICAgICAgICAgICB2YWx1ZSAgICA6IDAsXG4gICAgICAgICAgICB3aWR0aCAgICA6IDEwMFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBudHlwZSAgICA6ICdidXR0b24nLFxuICAgICAgICAgICAgY2xzICAgICAgOiBbJ2RldmluZGV4LXN0b3Atc3RyZWFtLWJ1dHRvbiddLFxuICAgICAgICAgICAgZmxleCAgICAgOiAnbm9uZScsXG4gICAgICAgICAgICBoYW5kbGVyICA6ICd1cC5vblN0b3BCdXR0b25DbGljaycsXG4gICAgICAgICAgICBoZWlnaHQgICA6IDIyLFxuICAgICAgICAgICAgaWNvbkNscyAgOiAnZmEgZmEtYmFuJyxcbiAgICAgICAgICAgIHJlZmVyZW5jZTogJ3N0b3AtYnV0dG9uJyxcbiAgICAgICAgICAgIHRleHQgICAgIDogJ1N0b3AnLFxuICAgICAgICAgICAgdWkgICAgICAgOiAnc2Vjb25kYXJ5J1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBudHlwZSA6ICdjb250YWluZXInLFxuICAgICAgICAgICAgY2xzICAgOiBbJ2RldmluZGV4LXN0YXRzLWNvbnRhaW5lciddLFxuICAgICAgICAgICAgbGF5b3V0OiB7bnR5cGU6ICdoYm94JywgYWxpZ246ICdjZW50ZXInfSxcbiAgICAgICAgICAgIGl0ZW1zIDogW3tcbiAgICAgICAgICAgICAgICBudHlwZSAgICA6ICdsYWJlbCcsXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlOiAndG90YWwtY29udHJpYnV0aW9ucy1sYWJlbCcsXG4gICAgICAgICAgICAgICAgdGV4dCAgICAgOiAnVG90YWwgQ29udHJpYnV0aW9uczogMCdcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBudHlwZTogJ2xhYmVsJyxcbiAgICAgICAgICAgICAgICB0ZXh0IDogJ+KAoidcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBudHlwZSAgICA6ICdsYWJlbCcsXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlOiAnY291bnQtcm93cy1sYWJlbCcsXG4gICAgICAgICAgICAgICAgdGV4dCAgICAgOiAnVmlzaWJsZSBSb3dzOiAwJ1xuICAgICAgICAgICAgfV1cbiAgICAgICAgfV1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7SW50bC5OdW1iZXJGb3JtYXR9IG51bWJlckZvcm1hdHRlcj1uZXcgSW50bC5OdW1iZXJGb3JtYXQoKVxuICAgICAqL1xuICAgIG51bWJlckZvcm1hdHRlciA9IG5ldyBJbnRsLk51bWJlckZvcm1hdCgpXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb2xkVmFsdWVcbiAgICAgKi9cbiAgICBhZnRlclNldERhdGFNb2RlKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICBpZiAob2xkVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVMYWJlbHMoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBvblN0b3BCdXR0b25DbGljaygpIHtcbiAgICAgICAgdGhpcy5zdG9yZS5hYm9ydCgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICAgKi9cbiAgICBvblN0b3JlRmlsdGVyKGRhdGEpIHtcbiAgICAgICAgdGhpcy51cGRhdGVMYWJlbHMoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICovXG4gICAgb25TdG9yZUxvYWQoZGF0YSkge1xuICAgICAgICBsZXQgbWUgPSB0aGlzO1xuXG4gICAgICAgIG1lLnVwZGF0ZUxhYmVscygpO1xuXG4gICAgICAgIGlmICghZGF0YS5pc0xvYWRpbmcpIHtcbiAgICAgICAgICAgIG1lLnRpbWVvdXQoNTAwKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgcHJvZ3Jlc3MgICAgICA9IG1lLmdldFJlZmVyZW5jZSgncHJvZ3Jlc3MnKTtcbiAgICAgICAgICAgICAgICBsZXQgcHJvZ3Jlc3NMYWJlbCA9IG1lLmdldFJlZmVyZW5jZSgncHJvZ3Jlc3MtbGFiZWwnKTtcbiAgICAgICAgICAgICAgICBsZXQgc3RvcEJ1dHRvbiAgICA9IG1lLmdldFJlZmVyZW5jZSgnc3RvcC1idXR0b24nKTtcblxuICAgICAgICAgICAgICAgIHByb2dyZXNzICAgICAuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0xhYmVsLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3RvcEJ1dHRvbiAgIC5oaWRkZW4gPSB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEge2xvYWRlZCwgdG90YWx9XG4gICAgICovXG4gICAgb25TdG9yZVByb2dyZXNzKGRhdGEpIHtcbiAgICAgICAgbGV0IG1lID0gdGhpcztcblxuICAgICAgICBtZS5nZXRSZWZlcmVuY2UoJ3Byb2dyZXNzJyk/LnNldCh7XG4gICAgICAgICAgICBoaWRkZW46IGZhbHNlLFxuICAgICAgICAgICAgbWF4ICAgOiBkYXRhLnRvdGFsIHx8IDEwMCxcbiAgICAgICAgICAgIHZhbHVlIDogZGF0YS50b3RhbCA/IGRhdGEubG9hZGVkIDogbnVsbCAvLyBJbmRldGVybWluYXRlIHN0YXRlIGlmIHRvdGFsIGlzIHVua25vd25cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbWUuZ2V0UmVmZXJlbmNlKCdzdG9wLWJ1dHRvbicpLmhpZGRlbiA9IGZhbHNlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICB1cGRhdGVMYWJlbHMoKSB7XG4gICAgICAgIGxldCBtZSAgICAgICAgICAgICAgICA9IHRoaXMsXG4gICAgICAgICAgICB7ZGF0YU1vZGUsIHN0b3JlfSA9IG1lLFxuICAgICAgICAgICAge2NvdW50LCBpdGVtc30gICAgPSBzdG9yZSxcbiAgICAgICAgICAgIHRvdGFsICAgICAgICAgICAgID0gMCxcbiAgICAgICAgICAgIGkgICAgICAgICAgICAgICAgID0gMCxcbiAgICAgICAgICAgIGl0ZW0sIGxhYmVsVGV4dDtcblxuICAgICAgICBzd2l0Y2ggKGRhdGFNb2RlKSB7XG4gICAgICAgICAgICBjYXNlICdjb21taXRzJzpcbiAgICAgICAgICAgICAgICBsYWJlbFRleHQgPSAnVG90YWwgQ29tbWl0cyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdwcml2YXRlJzpcbiAgICAgICAgICAgICAgICBsYWJlbFRleHQgPSAnUHJpdmF0ZSBDb250cmlidXRpb25zJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3B1YmxpYyc6XG4gICAgICAgICAgICAgICAgbGFiZWxUZXh0ID0gJ1B1YmxpYyBDb250cmlidXRpb25zJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6IC8vIHRvdGFsXG4gICAgICAgICAgICAgICAgbGFiZWxUZXh0ID0gJ1RvdGFsIENvbnRyaWJ1dGlvbnMnO1xuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGl0ZW0gPSBpdGVtc1tpXTtcblxuICAgICAgICAgICAgaWYgKGRhdGFNb2RlID09PSAnY29tbWl0cycpIHtcbiAgICAgICAgICAgICAgICB0b3RhbCArPSAoaXRlbS50b3RhbENvbW1pdHMgPz8gc3RvcmUucmVzb2x2ZUZpZWxkKGl0ZW0sICd0b3RhbENvbW1pdHMnKSA/PyAwKVxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhTW9kZSA9PT0gJ3ByaXZhdGUnKSB7XG4gICAgICAgICAgICAgICAgdG90YWwgKz0gKGl0ZW0udG90YWxQcml2YXRlQ29udHJpYnV0aW9ucyA/PyBzdG9yZS5yZXNvbHZlRmllbGQoaXRlbSwgJ3RvdGFsUHJpdmF0ZUNvbnRyaWJ1dGlvbnMnKSA/PyAwKVxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhTW9kZSA9PT0gJ3B1YmxpYycpIHtcbiAgICAgICAgICAgICAgICB0b3RhbCArPSAoaXRlbS50b3RhbFB1YmxpY0NvbnRyaWJ1dGlvbnMgPz8gc3RvcmUucmVzb2x2ZUZpZWxkKGl0ZW0sICd0b3RhbFB1YmxpY0NvbnRyaWJ1dGlvbnMnKSA/PyAwKVxuICAgICAgICAgICAgfSBlbHNlIHsgLy8gdG90YWxcbiAgICAgICAgICAgICAgICB0b3RhbCArPSAoaXRlbS50YyA/PyBpdGVtLnRvdGFsQ29udHJpYnV0aW9ucyA/PyAwKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbWUuZ2V0UmVmZXJlbmNlKCdjb3VudC1yb3dzLWxhYmVsJykgICAgICAgICAudGV4dCA9ICdWaXNpYmxlIFJvd3M6ICcgKyBtZS5udW1iZXJGb3JtYXR0ZXIuZm9ybWF0KGNvdW50KTtcbiAgICAgICAgbWUuZ2V0UmVmZXJlbmNlKCd0b3RhbC1jb250cmlidXRpb25zLWxhYmVsJykudGV4dCA9IGAke2xhYmVsVGV4dH06ICR7bWUubnVtYmVyRm9ybWF0dGVyLmZvcm1hdCh0b3RhbCl9YFxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoU3RhdHVzVG9vbGJhcik7XG4iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gJy4uLy4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnQvQmFzZS5tanMnO1xuXG4vKipcbiAqIEBjbGFzcyBEZXZJbmRleC52aWV3LmhvbWUuY29tcG9uZW50LkhldXJpc3RpY3NcbiAqIEBleHRlbmRzIE5lby5jb21wb25lbnQuQmFzZVxuICovXG5jbGFzcyBIZXVyaXN0aWNzIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgY29uZmlnID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBjbGFzc05hbWU9J0RldkluZGV4LnZpZXcuaG9tZS5jb21wb25lbnQuSGV1cmlzdGljcydcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgY2xhc3NOYW1lOiAnRGV2SW5kZXgudmlldy5ob21lLmNvbXBvbmVudC5IZXVyaXN0aWNzJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ1tdfSBjbHM9WydkZXZpbmRleC1oZXVyaXN0aWNzJ11cbiAgICAgICAgICovXG4gICAgICAgIGNsczogWydkZXZpbmRleC1oZXVyaXN0aWNzJ10sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R8bnVsbH0gaGV1cmlzdGljc189bnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgaGV1cmlzdGljc186IG51bGwsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9IF92ZG9tXG4gICAgICAgICAqL1xuICAgICAgICBfdmRvbTpcbiAgICAgICAge2NuOiBbXG4gICAgICAgICAgICB7dGFnOiAnc3BhbicsIGNsczogWydkZXZpbmRleC1iYWRnZSddfSwgLy8gVmVsb2NpdHlcbiAgICAgICAgICAgIHt0YWc6ICdzcGFuJywgY2xzOiBbJ2RldmluZGV4LWJhZGdlJ119LCAvLyBBY2NlbGVyYXRpb25cbiAgICAgICAgICAgIHt0YWc6ICdzcGFuJywgY2xzOiBbJ2RldmluZGV4LWJhZGdlJ119ICAvLyBDb25zaXN0ZW5jeVxuICAgICAgICBdfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fG51bGx9IHZhbHVlXG4gICAgICogQHBhcmFtIHtPYmplY3R8bnVsbH0gb2xkVmFsdWVcbiAgICAgKi9cbiAgICBhZnRlclNldEhldXJpc3RpY3ModmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIGxldCBtZSAgICAgPSB0aGlzLFxuICAgICAgICAgICAge3Zkb219ID0gbWUsXG4gICAgICAgICAgICBub2RlcyAgPSB2ZG9tLmNuLFxuICAgICAgICAgICAgYmFkZ2VzLCB2LCBhLCBjO1xuXG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgKHt2LCBhLCBjfSA9IHZhbHVlKTtcbiAgICAgICAgICAgIGJhZGdlcyA9IFtdO1xuXG4gICAgICAgICAgICAvLyAxLiBWZWxvY2l0eSAodilcbiAgICAgICAgICAgIGlmICh2ID4gMTAwMCkge1xuICAgICAgICAgICAgICAgIGJhZGdlcy5wdXNoKHtjbHM6ICdmaXJlJywgaWNvbjogJ/CflKUnLCB0aXRsZTogJ1ZlbG9jaXR5OiBTdXBlcmh1bWFuICg+MWsvZGF5KSd9KVxuICAgICAgICAgICAgfSBlbHNlIGlmICh2ID4gMTAwKSB7XG4gICAgICAgICAgICAgICAgYmFkZ2VzLnB1c2goe2NsczogJ2JvbHQnLCBpY29uOiAn4pqhJywgdGl0bGU6ICdWZWxvY2l0eTogSGlnaCAoPjEwMC9kYXkpJ30pXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIDIuIEFjY2VsZXJhdGlvbiAoYSlcbiAgICAgICAgICAgIGlmIChhID4gMTApIHtcbiAgICAgICAgICAgICAgICBiYWRnZXMucHVzaCh7Y2xzOiAncm9ja2V0JywgaWNvbjogJ/CfmoAnLCB0aXRsZTogJ0FjY2VsZXJhdGlvbjogRXhwbG9zaXZlIEdyb3d0aCAoPjEweCknfSlcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYSA+IDIpIHtcbiAgICAgICAgICAgICAgICBiYWRnZXMucHVzaCh7Y2xzOiAndHJlbmQtdXAnLCBpY29uOiAn8J+TiCcsIHRpdGxlOiAnQWNjZWxlcmF0aW9uOiBSaXNpbmcgU3RhciAoPjJ4KSd9KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAzLiBDb25zaXN0ZW5jeSAoYylcbiAgICAgICAgICAgIGlmIChjID4gMTApIHtcbiAgICAgICAgICAgICAgICBiYWRnZXMucHVzaCh7Y2xzOiAncGlsbGFyJywgaWNvbjogJ/Cfj5vvuI8nLCB0aXRsZTogJ0NvbnNpc3RlbmN5OiBDb21tdW5pdHkgUGlsbGFyICg+MTB5KSd9KVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjID4gNSkge1xuICAgICAgICAgICAgICAgIGJhZGdlcy5wdXNoKHtjbHM6ICdzaGllbGQnLCBpY29uOiAn8J+boe+4jycsIHRpdGxlOiAnQ29uc2lzdGVuY3k6IFZldGVyYW4gKD41eSknfSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gWmVybyBTdGF0ZVxuICAgICAgICAgICAgaWYgKGJhZGdlcy5sZW5ndGggPT09IDAgJiYgYyA8PSAxKSB7XG4gICAgICAgICAgICAgICAgYmFkZ2VzLnB1c2goe2NsczogJ3NlZWRsaW5nJywgaWNvbjogJ/CfjLEnLCB0aXRsZTogJ05ldyBDb250cmlidXRvcid9KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNYXAgYmFkZ2VzIHRvIGZpeGVkIG5vZGVzXG4gICAgICAgICAgICBub2Rlcy5mb3JFYWNoKChub2RlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBiYWRnZSA9IGJhZGdlc1tpbmRleF07XG5cbiAgICAgICAgICAgICAgICBpZiAoYmFkZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5jbHMgICA9IFsnZGV2aW5kZXgtYmFkZ2UnLCBiYWRnZS5jbHNdO1xuICAgICAgICAgICAgICAgICAgICBub2RlLnRpdGxlID0gYmFkZ2UudGl0bGU7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUudGV4dCAgPSBiYWRnZS5pY29uO1xuICAgICAgICAgICAgICAgICAgICBub2RlLnN0eWxlID0gbnVsbCAgICAgICAgLy8gUmVtb3ZlIHZpc2liaWxpdHk6IGhpZGRlblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuc3R5bGUgPSB7dmlzaWJpbGl0eTogJ2hpZGRlbid9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBIaWRlIGFsbCBpZiBubyBkYXRhXG4gICAgICAgICAgICBub2Rlcy5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgICAgICAgICAgIG5vZGUuc3R5bGUgPSB7dmlzaWJpbGl0eTogJ2hpZGRlbid9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgbWUudXBkYXRlKClcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKEhldXJpc3RpY3MpO1xuIiwiaW1wb3J0IENvbXBvbmVudCBmcm9tICcuL0Jhc2UubWpzJztcblxuLyoqXG4gKiBAc3VtbWFyeSBBIGNvbXBvbmVudCB0byByZW5kZXIgYW4gYDxpbWc+YCB0YWcgd2l0aCByZWFjdGl2ZSBgc3JjYCBhbmQgYGFsdGAgYXR0cmlidXRlcy5cbiAqXG4gKiBUaGlzIGNvbXBvbmVudCBwcm92aWRlcyBhIHNpbXBsZSwgb2JqZWN0LW9yaWVudGVkIHdyYXBwZXIgZm9yIHRoZSBuYXRpdmUgYDxpbWc+YCBlbGVtZW50LFxuICogYWxsb3dpbmcgaXRzIGBzcmNgIGFuZCBgYWx0YCB0ZXh0IHRvIGJlIHVwZGF0ZWQgZHluYW1pY2FsbHkgdmlhIHRoZSBjb25maWcgc3lzdGVtLlxuICpcbiAqIFRoaXMgaXMgYSBrZXkgY29tcG9uZW50IGZvciBkYXRhLWJpbmRpbmcgc2NlbmFyaW9zLCBzdWNoIGFzIGRpc3BsYXlpbmcgYW4gaW1hZ2UgZnJvbSBhIHN0b3JlIHJlY29yZFxuICogb3IgaW1wbGVtZW50aW5nIGxhenktbG9hZGluZyBieSB1cGRhdGluZyB0aGUgYHNyY2AgY29uZmlnIGF0IHJ1bnRpbWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEJhc2ljIHVzYWdlXG4gKiBOZW8uY3JlYXRlKHtcbiAqICAgICBtb2R1bGU6IEltYWdlLFxuICogICAgIGFsdCAgIDogJ0EgYmVhdXRpZnVsIGxhbmRzY2FwZScsXG4gKiAgICAgc3JjICAgOiAnaHR0cHM6Ly93d3cubmVvbWpzLmNvbS9yZXNvdXJjZXMvaW1hZ2VzL2xvZ28ucG5nJ1xuICogfSk7XG4gKlxuICogQGNsYXNzIE5lby5jb21wb25lbnQuSW1hZ2VcbiAqIEBleHRlbmRzIE5lby5jb21wb25lbnQuQmFzZVxuICovXG5jbGFzcyBJbWFnZSBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIGNvbmZpZyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gY2xhc3NOYW1lPSdOZW8uY29tcG9uZW50LkltYWdlJ1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBjbGFzc05hbWU6ICdOZW8uY29tcG9uZW50LkltYWdlJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gbnR5cGU9J2ltYWdlJ1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBudHlwZTogJ2ltYWdlJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbHQgYXR0cmlidXRlIGZvciB0aGUgaW1hZ2UuXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ3xudWxsfSBhbHRfPW51bGxcbiAgICAgICAgICogQHJlYWN0aXZlXG4gICAgICAgICAqL1xuICAgICAgICBhbHRfOiBudWxsLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNyYyBhdHRyaWJ1dGUgZm9yIHRoZSBpbWFnZS5cbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfG51bGx9IHNyY189bnVsbFxuICAgICAgICAgKiBAcmVhY3RpdmVcbiAgICAgICAgICovXG4gICAgICAgIHNyY186IG51bGwsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSFRNTCB0YWcgZm9yIHRoaXMgY29tcG9uZW50LlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IHRhZz0naW1nJ1xuICAgICAgICAgKiBAcmVhY3RpdmVcbiAgICAgICAgICovXG4gICAgICAgIHRhZzogJ2ltZydcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIb29rIHRoYXQgZmlyZXMgYWZ0ZXIgdGhlIGBhbHRgIGNvbmZpZyBoYXMgYmVlbiBjaGFuZ2VkLlxuICAgICAqIFVwZGF0ZXMgdGhlIGBhbHRgIGF0dHJpYnV0ZSBpbiB0aGUgY29tcG9uZW50J3MgVkRPTS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSB2YWx1ZSBUaGUgbmV3IHZhbHVlXG4gICAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gb2xkVmFsdWUgVGhlIG9sZCB2YWx1ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBhZnRlclNldEFsdCh2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VWZG9tUm9vdEtleSgnYWx0JywgdmFsdWUpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSG9vayB0aGF0IGZpcmVzIGFmdGVyIHRoZSBgc3JjYCBjb25maWcgaGFzIGJlZW4gY2hhbmdlZC5cbiAgICAgKiBVcGRhdGVzIHRoZSBgc3JjYCBhdHRyaWJ1dGUgaW4gdGhlIGNvbXBvbmVudCdzIFZET00uXG4gICAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gdmFsdWUgVGhlIG5ldyB2YWx1ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IG9sZFZhbHVlIFRoZSBvbGQgdmFsdWVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgYWZ0ZXJTZXRTcmModmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlVmRvbVJvb3RLZXkoJ3NyYycsIHZhbHVlKVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoSW1hZ2UpO1xuIiwiaW1wb3J0IEJhc2UgICAgICAgZnJvbSAnLi4vLi4vY29yZS9CYXNlLm1qcyc7XG5pbXBvcnQgT2JzZXJ2YWJsZSBmcm9tICcuLi8uLi9jb3JlL09ic2VydmFibGUubWpzJztcblxuLyoqXG4gKiBAY2xhc3MgTmVvLmRhdGEucHJveHkuQmFzZVxuICogQGV4dGVuZHMgTmVvLmNvcmUuQmFzZVxuICogQG1peGVzIE5lby5jb3JlLk9ic2VydmFibGVcbiAqXG4gKiBAc3VtbWFyeSBBYnN0cmFjdCBiYXNlIGNsYXNzIGZvciBEYXRhIFByb3hpZXMuXG4gKlxuICogUHJveGllcyBkZWNvdXBsZSB0aGUgYE5lby5kYXRhLlN0b3JlYCBmcm9tIHRoZSB1bmRlcmx5aW5nIGRhdGEgcmV0cmlldmFsIG1lY2hhbmlzbS5cbiAqIFdoaWxlIGEgU3RvcmUgbWFuYWdlcyB0aGUgKnN0YXRlKiAocmVjb3Jkcywgc29ydGluZywgZmlsdGVyaW5nKSwgYSBQcm94eSBtYW5hZ2VzIHRoZSAqdHJhbnNwb3J0KlxuICogKEFqYXgsIFN0cmVhbWluZywgV2ViU29ja2V0cywgTG9jYWxTdG9yYWdlKS5cbiAqXG4gKiAqKkFyY2hpdGVjdHVyZToqKlxuICogLSAqKmByZWFkKG9wZXJhdGlvbilgKio6IFRoZSBwcmltYXJ5IGludGVyZmFjZSBtZXRob2QuIEltcGxlbWVudGF0aW9ucyBtdXN0IHJldHVybiBhIFByb21pc2UuXG4gKiAtICoqRXZlbnRzKio6IFByb3hpZXMgY2FuIGZpcmUgZXZlbnRzIChsaWtlIGBkYXRhYCkgdG8gc3VwcG9ydCBwcm9ncmVzc2l2ZSBsb2FkaW5nIHBhdHRlcm5zLlxuICpcbiAqICoqRnV0dXJlIFJvYWRtYXA6KipcbiAqIC0gYE5lby5kYXRhLnByb3h5LkFqYXhgOiBTdGFuZGFyZCBYSFIvRmV0Y2ggd3JhcHBlciAocmVwbGFjaW5nIFN0b3JlLnVybCkuXG4gKiAtIGBOZW8uZGF0YS5wcm94eS5XZWJTb2NrZXRgOiBSZWFsLXRpbWUgZGF0YSB1cGRhdGVzLlxuICogLSBgTmVvLmRhdGEucHJveHkuTG9jYWxTdG9yYWdlYDogT2ZmbGluZSBwZXJzaXN0ZW5jZS5cbiAqL1xuY2xhc3MgUHJveHkgZXh0ZW5kcyBCYXNlIHtcbiAgICAvKipcbiAgICAgKiBUcnVlIGF1dG9tYXRpY2FsbHkgYXBwbGllcyB0aGUgY29yZS5PYnNlcnZhYmxlIG1peGluXG4gICAgICogQG1lbWJlciB7Qm9vbGVhbn0gb2JzZXJ2YWJsZT10cnVlXG4gICAgICogQHN0YXRpY1xuICAgICAqL1xuICAgIHN0YXRpYyBvYnNlcnZhYmxlID0gdHJ1ZVxuXG4gICAgc3RhdGljIGNvbmZpZyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gY2xhc3NOYW1lPSdOZW8uZGF0YS5wcm94eS5CYXNlJ1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBjbGFzc05hbWU6ICdOZW8uZGF0YS5wcm94eS5CYXNlJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gbnR5cGU9J3Byb3h5J1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBudHlwZTogJ3Byb3h5JyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge05lby5kYXRhLlN0b3JlfG51bGx9IHN0b3JlPW51bGxcbiAgICAgICAgICovXG4gICAgICAgIHN0b3JlOiBudWxsLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfG51bGx9IHN0b3JlPW51bGxcbiAgICAgICAgICovXG4gICAgICAgIHVybDogbnVsbFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcGVyYXRpb25cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICAgKi9cbiAgICByZWFkKG9wZXJhdGlvbikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ3JlYWQgbWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoUHJveHkpO1xuIiwiaW1wb3J0IEJhc2UgZnJvbSAnLi9CYXNlLm1qcyc7XG5cbi8qKlxuICogQGNsYXNzIE5lby5kYXRhLnByb3h5LlN0cmVhbVxuICogQGV4dGVuZHMgTmVvLmRhdGEucHJveHkuQmFzZVxuICpcbiAqIEBzdW1tYXJ5IEEgUHJveHkgaW1wbGVtZW50YXRpb24gZm9yIHN0cmVhbWluZyBuZXdsaW5lLWRlbGltaXRlZCBKU09OIChOREpTT04vSlNPTkwpLlxuICpcbiAqIFRoaXMgcHJveHkgdXNlcyB0aGUgbW9kZXJuIGBmZXRjaGAgYW5kIGBSZWFkYWJsZVN0cmVhbWAgQVBJcyB0byBwcm9jZXNzIGRhdGEgaW5jcmVtZW50YWxseS5cbiAqIFVubGlrZSBzdGFuZGFyZCBKU09OIHBhcnNpbmcgKHdoaWNoIHJlcXVpcmVzIHRoZSBlbnRpcmUgZmlsZSB0byBiZSBkb3dubG9hZGVkIGFuZCBwYXJzZWQgYXQgb25jZSksXG4gKiB0aGlzIHByb3h5IHlpZWxkcyByZWNvcmRzIGFzIHRoZXkgYXJyaXZlLlxuICpcbiAqICoqUGVyZm9ybWFuY2UgJiBCYXRjaGluZzoqKlxuICogVG8gYXZvaWQgb3ZlcndoZWxtaW5nIHRoZSBtYWluIHRocmVhZCAoQXBwIFdvcmtlcikgd2l0aCB0aG91c2FuZHMgb2YgbWljcm8tZXZlbnRzLCB0aGlzIGNsYXNzXG4gKiBpbXBsZW1lbnRzIGEgYnVmZmVyaW5nIHN0cmF0ZWd5LiBJdCBhY2N1bXVsYXRlcyBwYXJzZWQgcmVjb3JkcyBpbnRvIGEgY2h1bmsgKGRlZmluZWQgYnkgYGNodW5rU2l6ZWApXG4gKiBhbmQgZmlyZXMgYSBzaW5nbGUgYGRhdGFgIGV2ZW50IGNvbnRhaW5pbmcgdGhlIGFycmF5IG9mIHJlY29yZHMuIFRoaXMgYWxsb3dzIHRoZSBjb25zdW1lciAoU3RvcmUpXG4gKiB0byBwZXJmb3JtIGJ1bGsgdXBkYXRlcywgZHJhc3RpY2FsbHkgcmVkdWNpbmcgb3ZlcmhlYWQuXG4gKlxuICogKipDb21wcmVzc2lvbiBTdXBwb3J0OioqXG4gKiBZb3UgY2FuIGNvbmZpZ3VyZSB0aGUgcHJveHkgdG8gdXNlIGBEZWNvbXByZXNzaW9uU3RyZWFtYCAoZ3ppcC9kZWZsYXRlKSBieSBzZXR0aW5nIHRoZSBgY29tcHJlc3Npb25gIGNvbmZpZy5cbiAqIFRoaXMgYWxsb3dzIHNlcnZpbmcgcHJlLWNvbXByZXNzZWQgZmlsZXMgKGAuanNvbmwuZ3pgKSwgc2lnbmlmaWNhbnRseSByZWR1Y2luZyBuZXR3b3JrIHRyYW5zZmVyIHNpemVcbiAqIChvZnRlbiA+NjAlIHJlZHVjdGlvbikgd2hpbGUga2VlcGluZyB0aGUgY2xpZW50LXNpZGUgcGFyc2luZyBsb2dpYyBpZGVudGljYWwuXG4gKlxuICogKipSZXF1aXJlbWVudHM6KipcbiAqIC0gVGhlIGJhY2tlbmQgbXVzdCBzZXJ2ZSBkYXRhIGluIE5ESlNPTiBmb3JtYXQgKG9uZSB2YWxpZCBKU09OIG9iamVjdCBwZXIgbGluZSkuXG4gKiAtIFRoZSBlbnZpcm9ubWVudCBtdXN0IHN1cHBvcnQgYFRleHREZWNvZGVyU3RyZWFtYCAoTW9kZXJuIEJyb3dzZXJzLCBXb3JrZXJzKS5cbiAqL1xuY2xhc3MgU3RyZWFtIGV4dGVuZHMgQmFzZSB7XG4gICAgc3RhdGljIGNvbmZpZyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gY2xhc3NOYW1lPSdOZW8uZGF0YS5wcm94eS5TdHJlYW0nXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGNsYXNzTmFtZTogJ05lby5kYXRhLnByb3h5LlN0cmVhbScsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IG50eXBlPSdwcm94eS1zdHJlYW0nXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIG50eXBlOiAncHJveHktc3RyZWFtJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiByZWNvcmRzIHRvIGJhdGNoIGJlZm9yZSBmaXJpbmcgYSAnZGF0YScgZXZlbnQuXG4gICAgICAgICAqIEBtZW1iZXIge051bWJlcn0gY2h1bmtTaXplPTUwMFxuICAgICAgICAgKi9cbiAgICAgICAgY2h1bmtTaXplOiA1MDAsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIGNvbXByZXNzaW9uIGFsZ29yaXRobSB0byB1c2UgZm9yIHRoZSBzdHJlYW0uXG4gICAgICAgICAqIFZhbGlkIHZhbHVlczogJ2d6aXAnLCAnZGVmbGF0ZScsIG51bGwuXG4gICAgICAgICAqXG4gICAgICAgICAqIFVzZXMgdGhlIGJyb3dzZXIncyBgRGVjb21wcmVzc2lvblN0cmVhbWAgQVBJIHRvIHRyYW5zcGFyZW50bHkgdW56aXAgZGF0YSBvbiB0aGUgZmx5LlxuICAgICAgICAgKiBUaGlzIGNhbiByZWR1Y2UgYmFuZHdpZHRoIHVzYWdlIGJ5IDYwLTgwJSBmb3IgSlNPTkwgZGF0YSwgZW5hYmxpbmcgc2lnbmlmaWNhbnRseSBsYXJnZXIgZGF0YXNldHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ3xudWxsfSBjb21wcmVzc2lvbj1udWxsXG4gICAgICAgICAqL1xuICAgICAgICBjb21wcmVzc2lvbjogbnVsbCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvdyBtYW55IGNodW5rcyB0byBzZW5kIGF0IGluaXRpYWxDaHVua1NpemUgYmVmb3JlIHN3aXRjaGluZyB0byBjaHVua1NpemUuXG4gICAgICAgICAqIEBtZW1iZXIge051bWJlcn0gaW5pdGlhbEJ1cnN0Q291bnQ9NVxuICAgICAgICAgKi9cbiAgICAgICAgaW5pdGlhbEJ1cnN0Q291bnQ6IDUsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2h1bmsgc2l6ZSBmb3IgdGhlIGZpcnN0IGZldyBiYXRjaGVzLlxuICAgICAgICAgKiBVc2VmdWwgdG8gc3BlZWQgdXAgdGhlIGluaXRpYWwgcmVuZGVyIChUaW1lIFRvIEZpcnN0IENvbnRlbnQpLlxuICAgICAgICAgKiBAbWVtYmVyIHtOdW1iZXJ8bnVsbH0gaW5pdGlhbENodW5rU2l6ZT0xMDBcbiAgICAgICAgICovXG4gICAgICAgIGluaXRpYWxDaHVua1NpemU6IDEwMCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRydWUgdG8gYXV0b21hdGljYWxseSBpbmNyZWFzZSB0aGUgY2h1bmtTaXplIGJhc2VkIG9uIHRoZSB0b3RhbCBudW1iZXIgb2YgbG9hZGVkIGl0ZW1zLlxuICAgICAgICAgKlxuICAgICAgICAgKiAqKlByb2dyZXNzaXZlIEVuaGFuY2VtZW50IFN0cmF0ZWd5OioqXG4gICAgICAgICAqIFdoZW4gbG9hZGluZyBsYXJnZSBkYXRhc2V0cyAoZS5nLiwgMzBrKyByZWNvcmRzKSwgdGhlIGNvc3Qgb2YgYHN0b3JlLmFkZCgpYCAoc29ydGluZyArIGV2ZW50IHByb3BhZ2F0aW9uKVxuICAgICAgICAgKiBiZWNvbWVzIHRoZSBkb21pbmFudCBib3R0bGVuZWNrLiBIb3dldmVyLCB0aGUgdXNlciBuZWVkcyBpbW1lZGlhdGUgZmVlZGJhY2suXG4gICAgICAgICAqXG4gICAgICAgICAqIC0gKipQaGFzZSAxIChTdGFydCk6KiogU21hbGwgY2h1bmtzICgxMDAtMjUwKSBmb3IgaW1tZWRpYXRlIFwiVGltZSB0byBGaXJzdCBDb250ZW50XCIgYW5kIGZyZXF1ZW50IFVJIHVwZGF0ZXMuXG4gICAgICAgICAqIC0gKipQaGFzZSAyIChSYW1wKToqKiBNZWRpdW0gY2h1bmtzICg1MDAtMTUwMCkgYXMgdGhlIHVzZXIgcHJvY2Vzc2VzIHRoZSBpbml0aWFsIGRhdGEuXG4gICAgICAgICAqIC0gKipQaGFzZSAzIChCdWxrKToqKiBNYXNzaXZlIGNodW5rcyAoMjUwMC0xMDAwMCkgZm9yIHRoZSB0YWlsIGVuZCBvZiB0aGUgZGF0YXNldC4gQXQgdGhpcyBwb2ludCxcbiAgICAgICAgICogICB0aHJvdWdocHV0IG1hdHRlcnMgbW9yZSB0aGFuIGludGVyYWN0aXZpdHksIGFzIHRoZSB1c2VyIGFscmVhZHkgaGFzIGEgc2NyZWVuIGZ1bGwgb2YgZGF0YS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtb2RlIG92ZXJyaWRlcyBgaW5pdGlhbEJ1cnN0Q291bnRgIGFuZCBgY2h1bmtTaXplYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Qm9vbGVhbn0gcHJvZ3Jlc3NpdmVDaHVua1NpemU9ZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHByb2dyZXNzaXZlQ2h1bmtTaXplOiBmYWxzZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge0Fib3J0Q29udHJvbGxlcnxudWxsfSBhYm9ydENvbnRyb2xsZXI9bnVsbFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBhYm9ydENvbnRyb2xsZXIgPSBudWxsXG5cbiAgICAvKipcbiAgICAgKiBBYm9ydHMgdGhlIGN1cnJlbnQgc3RyZWFtIHJlcXVlc3QuXG4gICAgICovXG4gICAgYWJvcnQoKSB7XG4gICAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyPy5hYm9ydCgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wZXJhdGlvblxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgICAqL1xuICAgIGFzeW5jIHJlYWQob3BlcmF0aW9uKSB7XG4gICAgICAgIGxldCBtZSAgICAgICAgICAgICAgID0gdGhpcyxcbiAgICAgICAgICAgIGNodW5rICAgICAgICAgICAgPSBbXSxcbiAgICAgICAgICAgIHtjaHVua1NpemUsIHByb2dyZXNzaXZlQ2h1bmtTaXplfSA9IG1lLFxuICAgICAgICAgICAgY3VycmVudENodW5rU2l6ZSA9IG1lLmluaXRpYWxDaHVua1NpemUgfHwgY2h1bmtTaXplLFxuICAgICAgICAgICAgYnVyc3RDb3VudCAgICAgICA9IDAsXG4gICAgICAgICAgICBjb3VudCAgICAgICAgICAgID0gMCxcbiAgICAgICAgICAgIHVybCAgICAgICAgICAgICAgPSBtZS51cmwgfHwgb3BlcmF0aW9uLnVybDtcblxuICAgICAgICBpZiAoIXVybCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBVUkwgc3BlY2lmaWVkJylcbiAgICAgICAgfVxuXG4gICAgICAgIG1lLmFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgbWUuc3RvcmUuaXNTdHJlYW1pbmcgPSB0cnVlO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge3NpZ25hbDogbWUuYWJvcnRDb250cm9sbGVyLnNpZ25hbH0pO1xuXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQIGVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghcmVzcG9uc2UuYm9keSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVhZGFibGVTdHJlYW0gbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50LicpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBzdHJlYW0gPSByZXNwb25zZS5ib2R5O1xuXG4gICAgICAgICAgICBpZiAobWUuY29tcHJlc3Npb24pIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIERlY29tcHJlc3Npb25TdHJlYW0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGVjb21wcmVzc2lvblN0cmVhbSBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQuJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RyZWFtID0gc3RyZWFtLnBpcGVUaHJvdWdoKG5ldyBEZWNvbXByZXNzaW9uU3RyZWFtKG1lLmNvbXByZXNzaW9uKSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICAgICAgICAgICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuXG4gICAgICAgICAgICBsZXQgYnVmZmVyID0gJyc7XG4gICAgICAgICAgICBsZXQgbG9hZGVkID0gMDtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gcGFyc2VJbnQocmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtbGVuZ3RoJykgfHwgMCwgMTApO1xuXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHt2YWx1ZSwgZG9uZX0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJvY2VzcyBhbnkgcmVtYWluaW5nIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWUucHJvY2Vzc0xpbmUoYnVmZmVyLCBjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudCsrXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gRmx1c2ggcmVtYWluaW5nIGNodW5rXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaHVuay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZS5maXJlKCdkYXRhJywgY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWUuc3RvcmUuaXNTdHJlYW1pbmcgPSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbG9hZGVkICs9IHZhbHVlLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICAgICAgbWUuZmlyZSgncHJvZ3Jlc3MnLCB7bG9hZGVkLCB0b3RhbH0pO1xuXG4gICAgICAgICAgICAgICAgYnVmZmVyICs9IGRlY29kZXIuZGVjb2RlKHZhbHVlLCB7c3RyZWFtOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZXMgPSBidWZmZXIuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICAgIC8vIEtlZXAgdGhlIGxhc3QgcGFydGlhbCBsaW5lIGluIHRoZSBidWZmZXJcbiAgICAgICAgICAgICAgICBidWZmZXIgPSBsaW5lcy5wb3AoKTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGluZS50cmltKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lLnByb2Nlc3NMaW5lKGxpbmUsIGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaHVuay5sZW5ndGggPj0gY3VycmVudENodW5rU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLmZpcmUoJ2RhdGEnLCBjaHVuayk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXJzdENvdW50Kys7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3NpdmVDaHVua1NpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENodW5rU2l6ZSA9IG1lLmdldFByb2dyZXNzaXZlQ2h1bmtTaXplKGNvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJ1cnN0Q291bnQgPj0gbWUuaW5pdGlhbEJ1cnN0Q291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENodW5rU2l6ZSA9IGNodW5rU2l6ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdpdmUgdGhlIEFwcCBXb3JrZXIgYSBtaW5pbWFsIGFtb3VudCBvZiB0aW1lIHRvIGJyZWF0aGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28gdGhhdCBsb2dpYyBjYW4gYWN0IHVwb24gZXZlbnRzIChlLmcuIHNlbmRpbmcgb3V0IHZkb20gdXBkYXRlcykuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbWUudGltZW91dCgxKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rID0gW11cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtzdWNjZXNzOiB0cnVlLCBjb3VudH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGUubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1N0cmVhbSByZXF1ZXN0IGFib3J0ZWQnKTtcbiAgICAgICAgICAgICAgICBtZS5zdG9yZS5pc1N0cmVhbWluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vIFRyZWF0IGFib3J0IGFzIGEgdmFsaWQgXCJwYXJ0aWFsIHN1Y2Nlc3NcIlxuICAgICAgICAgICAgICAgIHJldHVybiB7c3VjY2VzczogdHJ1ZSwgY291bnQsIGFib3J0ZWQ6IHRydWV9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlXG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBtZS5hYm9ydENvbnRyb2xsZXIgPSBudWxsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBuZXh0IGNodW5rIHNpemUgYmFzZWQgb24gdGhlIHRvdGFsIG51bWJlciBvZiByZWNvcmRzIHByb2Nlc3NlZCBzbyBmYXIuXG4gICAgICogSW1wbGVtZW50cyBhIHRpZXJlZCByYW1waW5nIHN0cmF0ZWd5IHRvIGJhbGFuY2UgaW5pdGlhbCByZXNwb25zaXZlbmVzcyB3aXRoIGxvbmctdGVybSB0aHJvdWdocHV0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRvdGFsIFRoZSB0b3RhbCBudW1iZXIgb2YgcmVjb3JkcyBwcm9jZXNzZWRcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgcmVjb21tZW5kZWQgY2h1bmsgc2l6ZSBmb3IgdGhlIG5leHQgYmF0Y2hcbiAgICAgKi9cbiAgICBnZXRQcm9ncmVzc2l2ZUNodW5rU2l6ZSh0b3RhbCkge1xuICAgICAgICBpZiAodG90YWwgPCAxMDApICAgcmV0dXJuIDEwMDtcbiAgICAgICAgaWYgKHRvdGFsIDwgMjUwKSAgIHJldHVybiAxNTA7XG4gICAgICAgIGlmICh0b3RhbCA8IDUwMCkgICByZXR1cm4gMjUwO1xuICAgICAgICBpZiAodG90YWwgPCAxMDAwKSAgcmV0dXJuIDUwMDtcbiAgICAgICAgaWYgKHRvdGFsIDwgMjUwMCkgIHJldHVybiAxNTAwO1xuICAgICAgICBpZiAodG90YWwgPCAxMDAwMCkgcmV0dXJuIDI1MDA7XG4gICAgICAgIGlmICh0b3RhbCA8IDIwMDAwKSByZXR1cm4gNTAwMDtcbiAgICAgICAgcmV0dXJuIDEwMDAwXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGxpbmVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBjaHVua1xuICAgICAqL1xuICAgIHByb2Nlc3NMaW5lKGxpbmUsIGNodW5rKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjaHVuay5wdXNoKEpTT04ucGFyc2UobGluZSkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0pTT04gcGFyc2UgZXJyb3IgaW4gU3RyZWFtIHByb3h5OicsIGUsIGxpbmUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhTdHJlYW0pO1xuIiwiaW1wb3J0IENvbWJvQm94IGZyb20gJy4vQ29tYm9Cb3gubWpzJztcbmltcG9ydCBDb3VudHJ5RmxhZ3MgZnJvbSAnLi4vLi4vdXRpbC9Db3VudHJ5RmxhZ3MubWpzJztcbmltcG9ydCBDb3VudHJ5TGlzdCBmcm9tICcuLi8uLi9saXN0L0NvdW50cnkubWpzJztcbmltcG9ydCBWRG9tVXRpbCBmcm9tICcuLi8uLi91dGlsL1ZEb20ubWpzJztcblxuLyoqXG4gKiBAY2xhc3MgTmVvLmZvcm0uZmllbGQuQ291bnRyeVxuICogQGV4dGVuZHMgTmVvLmZvcm0uZmllbGQuQ29tYm9Cb3hcbiAqL1xuY2xhc3MgQ291bnRyeSBleHRlbmRzIENvbWJvQm94IHtcbiAgICBzdGF0aWMgY29uZmlnID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBjbGFzc05hbWU9J05lby5mb3JtLmZpZWxkLkNvdW50cnknXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGNsYXNzTmFtZTogJ05lby5mb3JtLmZpZWxkLkNvdW50cnknLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBudHlwZT0nY291bnRyeWZpZWxkJ1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBudHlwZTogJ2NvdW50cnlmaWVsZCcsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmdbXX0gYmFzZUNscz1bJ25lby1jb3VudHJ5ZmllbGQnLCduZW8tY29tYm9ib3gnLCduZW8tcGlja2VyZmllbGQnLCduZW8tdGV4dGZpZWxkJ11cbiAgICAgICAgICovXG4gICAgICAgIGJhc2VDbHM6IFsnbmVvLWNvdW50cnlmaWVsZCcsICduZW8tY29tYm9ib3gnLCAnbmVvLXBpY2tlcmZpZWxkJywgJ25lby10ZXh0ZmllbGQnXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge0Jvb2xlYW59IHNob3dGbGFnc189ZmFsc2VcbiAgICAgICAgICogQHJlYWN0aXZlXG4gICAgICAgICAqL1xuICAgICAgICBzaG93RmxhZ3NfOiBmYWxzZSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH0gc3RvcmVcbiAgICAgICAgICovXG4gICAgICAgIHN0b3JlOiB7XG4gICAgICAgICAgICBkYXRhICAgICAgIDogQ291bnRyeUZsYWdzLmNvdW50cmllcyxcbiAgICAgICAgICAgIGtleVByb3BlcnR5OiAnY29kZScsXG4gICAgICAgICAgICBtb2RlbCAgICAgIDoge1xuICAgICAgICAgICAgICAgIGZpZWxkczogW1xuICAgICAgICAgICAgICAgICAgICB7bmFtZTogJ25hbWUnLCB0eXBlOiAnU3RyaW5nJ30sXG4gICAgICAgICAgICAgICAgICAgIHtuYW1lOiAnY29kZScsIHR5cGU6ICdTdHJpbmcnfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzb3J0ZXJzOiBbe1xuICAgICAgICAgICAgICAgIHByb3BlcnR5IDogJ25hbWUnLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogJ0FTQydcbiAgICAgICAgICAgIH1dXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IHZhbHVlRmllbGQ9J25hbWUnXG4gICAgICAgICAqL1xuICAgICAgICB2YWx1ZUZpZWxkOiAnbmFtZScsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBZb3UgY2FuIGVpdGhlciBwYXNzIGEgZmllbGQgaW5zdGFuY2Ugb3IgYSBmaWVsZCByZWZlcmVuY2VcbiAgICAgICAgICogQG1lbWJlciB7TmVvLmZvcm0uZmllbGQuQmFzZXxTdHJpbmd8bnVsbH0gemlwQ29kZUZpZWxkXz1udWxsXG4gICAgICAgICAqIEByZWFjdGl2ZVxuICAgICAgICAgKi9cbiAgICAgICAgemlwQ29kZUZpZWxkXzogbnVsbFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciB0aGUgdHJpZ2dlcnMgY29uZmlnIGdvdCBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gdmFsdWVcbiAgICAgKiBAcGFyYW0ge09iamVjdFtdfSBvbGRWYWx1ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBhZnRlclNldFRyaWdnZXJzKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICBzdXBlci5hZnRlclNldFRyaWdnZXJzKHZhbHVlLCBvbGRWYWx1ZSk7XG5cbiAgICAgICAgbGV0IG1lICAgICAgICAgICA9IHRoaXMsXG4gICAgICAgICAgICBpbnB1dFdyYXBwZXIgPSBWRG9tVXRpbC5maW5kKG1lLnZkb20sIG1lLmdldElucHV0V3JhcHBlcklkKCkpO1xuXG4gICAgICAgIGlmIChpbnB1dFdyYXBwZXIpIHtcbiAgICAgICAgICAgIGlucHV0V3JhcHBlci52ZG9tLmNuLnVuc2hpZnQoe1xuICAgICAgICAgICAgICAgIGNscyAgICAgIDogJ25lby1jb3VudHJ5LWZsYWctaWNvbicsXG4gICAgICAgICAgICAgICAgaWQgICAgICAgOiBtZS5nZXRGbGFnSWNvbklkKCksXG4gICAgICAgICAgICAgICAgdGFnICAgICAgOiAnaW1nJyxcbiAgICAgICAgICAgICAgICByZW1vdmVEb206IHRydWUsXG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0IDogJzE1cHgnLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aCAgOiAnMTVweCcsXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbiA6ICdhdXRvIDVweCBhdXRvIDVweCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbWUudXBkYXRlRmxhZygpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgdGhlIHZhbHVlIGNvbmZpZyBnb3QgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ3xudWxsfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ3xudWxsfSBvbGRWYWx1ZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3ByZXZlbnRGaWx0ZXI9ZmFsc2VdXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGFmdGVyU2V0VmFsdWUodmFsdWUsIG9sZFZhbHVlLCBwcmV2ZW50RmlsdGVyPWZhbHNlKSB7XG4gICAgICAgIHN1cGVyLmFmdGVyU2V0VmFsdWUodmFsdWUsIG9sZFZhbHVlLCBwcmV2ZW50RmlsdGVyKTtcbiAgICAgICAgdGhpcy51cGRhdGVGbGFnKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgdGhlIHppcENvZGVGaWVsZCBjb25maWcgZ290IGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge05lby5mb3JtLmZpZWxkLkJhc2V8bnVsbH0gdmFsdWVcbiAgICAgKiBAcGFyYW0ge05lby5mb3JtLmZpZWxkLkJhc2V8bnVsbH0gb2xkVmFsdWVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgYWZ0ZXJTZXRaaXBDb2RlRmllbGQodmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZSBpbnN0YW5jZW9mIE5lby5mb3JtLmZpZWxkLkJhc2UpIHtcbiAgICAgICAgICAgIHZhbHVlLmNvdW50cnlGaWVsZCA9IHRoaXNcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBiZWZvcmUgdGhlIHNob3dGbGFncyBjb25maWcgZ2V0cyBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtCb29sZWFufSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gb2xkVmFsdWVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgYmVmb3JlU2V0U2hvd0ZsYWdzKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMubGlzdENvbmZpZyA9IHttb2R1bGU6IENvdW50cnlMaXN0LCAuLi50aGlzLmxpc3RDb25maWd9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgdGhlIHNob3dGbGFncyBjb25maWcgZ290IGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHZhbHVlXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBvbGRWYWx1ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBhZnRlclNldFNob3dGbGFncyh2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVGbGFnKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIHVwZGF0ZUZsYWcoKSB7XG4gICAgICAgIGxldCBtZSAgICAgICA9IHRoaXMsXG4gICAgICAgICAgICBmbGFnSWNvbiA9IFZEb21VdGlsLmZpbmQobWUudmRvbSwgbWUuZ2V0RmxhZ0ljb25JZCgpKSxcbiAgICAgICAgICAgIGZsYWdVcmwsIHZhbHVlO1xuXG4gICAgICAgIGlmIChmbGFnSWNvbikge1xuICAgICAgICAgICAgdmFsdWUgICA9IG1lLnZhbHVlO1xuICAgICAgICAgICAgZmxhZ1VybCA9IG1lLnNob3dGbGFncyA/IENvdW50cnlGbGFncy5nZXRGbGFnVXJsKE5lby5pc1JlY29yZCh2YWx1ZSkgPyB2YWx1ZS5jb2RlIDogdmFsdWUpIDogbnVsbDtcblxuICAgICAgICAgICAgaWYgKGZsYWdVcmwpIHtcbiAgICAgICAgICAgICAgICBmbGFnSWNvbi52ZG9tLnNyYyAgICAgICA9IGZsYWdVcmw7XG4gICAgICAgICAgICAgICAgZmxhZ0ljb24udmRvbS5yZW1vdmVEb20gPSBmYWxzZVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmbGFnSWNvbi52ZG9tLnJlbW92ZURvbSA9IHRydWVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWUudXBkYXRlKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICovXG4gICAgZ2V0RmxhZ0ljb25JZCgpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuaWR9X19mbGFnLWljb25gXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhDb3VudHJ5KTtcbiIsImltcG9ydCBDb3VudHJ5RmxhZ3MgZnJvbSAnLi4vdXRpbC9Db3VudHJ5RmxhZ3MubWpzJztcbmltcG9ydCBMaXN0ICAgICAgICAgZnJvbSAnLi9CYXNlLm1qcyc7XG5cbi8qKlxuICogQGNsYXNzIE5lby5saXN0LkNvdW50cnlcbiAqIEBleHRlbmRzIE5lby5saXN0LkJhc2VcbiAqL1xuY2xhc3MgQ291bnRyeSBleHRlbmRzIExpc3Qge1xuICAgIHN0YXRpYyBjb25maWcgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGNsYXNzTmFtZT0nTmVvLmxpc3QuQ291bnRyeSdcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgY2xhc3NOYW1lOiAnTmVvLmxpc3QuQ291bnRyeScsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IG50eXBlPSdjb3VudHJ5bGlzdCdcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgbnR5cGU6ICdjb3VudHJ5bGlzdCcsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmdbXX0gYmFzZUNscz1bJ25lby1jb3VudHJ5LWxpc3QnLCduZW8tbGlzdCddXG4gICAgICAgICAqL1xuICAgICAgICBiYXNlQ2xzOiBbJ25lby1jb3VudHJ5LWxpc3QnLCAnbmVvLWxpc3QnXVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZWNvcmRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXhcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fE9iamVjdFtdfFN0cmluZ30gRWl0aGVyIGEgY29uZmlnIG9iamVjdCB0byBhc3NpZ24gdG8gdGhlIGl0ZW0sIGEgdmRvbSBjbiBhcnJheSBvciBhIGh0bWwgc3RyaW5nXG4gICAgICovXG4gICAgY3JlYXRlSXRlbUNvbnRlbnQocmVjb3JkLCBpbmRleCkge1xuICAgICAgICBsZXQgbWUgICAgICAgICA9IHRoaXMsXG4gICAgICAgICAgICBpdGVtVGV4dCAgID0gcmVjb3JkW21lLmRpc3BsYXlGaWVsZF0sXG4gICAgICAgICAgICBmaWx0ZXIgICAgID0gbWUuaGlnaGxpZ2h0RmlsdGVyVmFsdWUgPyBtZS5zdG9yZS5nZXRGaWx0ZXIobWUuZGlzcGxheUZpZWxkKSA6IG51bGwsXG4gICAgICAgICAgICBmbGFnVXJsICAgID0gQ291bnRyeUZsYWdzLmdldEZsYWdVcmwocmVjb3JkW21lLmRpc3BsYXlGaWVsZF0gfHwgcmVjb3JkLmNvZGUpLFxuICAgICAgICAgICAgZmxhZ05vZGUgICA9IG51bGw7XG5cbiAgICAgICAgaWYgKGZsYWdVcmwpIHtcbiAgICAgICAgICAgIGZsYWdOb2RlID0ge1xuICAgICAgICAgICAgICAgIHRhZzogJ2ltZycsXG4gICAgICAgICAgICAgICAgY2xzOiBbJ25lby1jb3VudHJ5LWZsYWcnXSxcbiAgICAgICAgICAgICAgICBzcmM6IGZsYWdVcmxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWx0ZXIgJiYgZmlsdGVyLnZhbHVlICE9PSBudWxsICYmIGZpbHRlci52YWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICAgIGl0ZW1UZXh0ID0gaXRlbVRleHQucmVwbGFjZShuZXcgUmVnRXhwKGZpbHRlci52YWx1ZSwgJ2dpJyksIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cIm5lby1oaWdobGlnaHQtc2VhcmNoXCI+JyArIG1hdGNoICsgJzwvc3Bhbj4nXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGZsYWdOb2RlLFxuICAgICAgICAgICAge3RhZzogJ3NwYW4nLCBjbHM6IFsnbmVvLWNvdW50cnktdGV4dCddLCBodG1sOiBpdGVtVGV4dH1cbiAgICAgICAgXVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoQ291bnRyeSk7XG4iLCJpbXBvcnQgQmFzZU1vZGVsIGZyb20gJy4vQmFzZU1vZGVsLm1qcyc7XG5cbi8qKlxuICogQGNsYXNzIE5lby5zZWxlY3Rpb24uZ3JpZC5Db2x1bW5Nb2RlbFxuICogQGV4dGVuZHMgTmVvLnNlbGVjdGlvbi5ncmlkLkJhc2VNb2RlbFxuICovXG5jbGFzcyBDb2x1bW5Nb2RlbCBleHRlbmRzIEJhc2VNb2RlbCB7XG4gICAgc3RhdGljIGNvbmZpZyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gY2xhc3NOYW1lPSdOZW8uc2VsZWN0aW9uLmdyaWQuQ29sdW1uTW9kZWwnXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGNsYXNzTmFtZTogJ05lby5zZWxlY3Rpb24uZ3JpZC5Db2x1bW5Nb2RlbCcsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IG50eXBlPSdzZWxlY3Rpb24tZ3JpZC1jb2x1bW5tb2RlbCdcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgbnR5cGU6ICdzZWxlY3Rpb24tZ3JpZC1jb2x1bW5tb2RlbCcsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGNscz0nbmVvLXNlbGVjdGlvbi1jb2x1bW5tb2RlbCdcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgY2xzOiAnbmVvLXNlbGVjdGlvbi1jb2x1bW5tb2RlbCdcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGFkZERvbUxpc3RlbmVyKCkge1xuICAgICAgICBsZXQgbWUgPSB0aGlzO1xuXG4gICAgICAgIG1lLnZpZXcucGFyZW50Lm9uKCdjZWxsQ2xpY2snLCBtZS5vbkNlbGxDbGljaywgbWUpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGFyZ3NcbiAgICAgKi9cbiAgICBkZXN0cm95KC4uLmFyZ3MpIHtcbiAgICAgICAgbGV0IG1lID0gdGhpcztcblxuICAgICAgICBtZS52aWV3LnBhcmVudC51bignY2VsbENsaWNrJywgbWUub25DZWxsQ2xpY2ssIG1lKTtcblxuICAgICAgICBzdXBlci5kZXN0cm95KC4uLmFyZ3MpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG4gICAgaGFzU2VsZWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZENvbHVtbnMubGVuZ3RoID4gMFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICovXG4gICAgb25DZWxsQ2xpY2soZGF0YSkge1xuICAgICAgICBsZXQgbWUgICAgICAgID0gdGhpcyxcbiAgICAgICAgICAgIHt2aWV3fSAgICA9IG1lLFxuICAgICAgICAgICAgY2VsbElkICAgID0gZGF0YS5kYXRhLmN1cnJlbnRUYXJnZXQsXG4gICAgICAgICAgICBkYXRhRmllbGQgPSBjZWxsSWQgJiYgdmlldy5nZXREYXRhRmllbGQoY2VsbElkKTtcblxuICAgICAgICBpZiAoZGF0YUZpZWxkKSB7XG4gICAgICAgICAgICBtZS5zZWxlY3RlZENvbHVtbnMgPSBtZS5pc1NlbGVjdGVkQ29sdW1uKGRhdGFGaWVsZCkgPyBbXSA6IFtkYXRhRmllbGRdO1xuICAgICAgICAgICAgdmlldy5jcmVhdGVWaWV3RGF0YSgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAqL1xuICAgIG9uS2V5RG93bkxlZnQoZGF0YSkge1xuICAgICAgICAhdGhpcy5oYXNFZGl0b3JGb2N1cyhkYXRhKSAmJiB0aGlzLm9uTmF2S2V5Q29sdW1uKC0xKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICovXG4gICAgb25LZXlEb3duUmlnaHQoZGF0YSkge1xuICAgICAgICAhdGhpcy5oYXNFZGl0b3JGb2N1cyhkYXRhKSAmJiB0aGlzLm9uTmF2S2V5Q29sdW1uKDEpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0ZXBcbiAgICAgKi9cbiAgICBvbk5hdktleUNvbHVtbihzdGVwKSB7XG4gICAgICAgIGxldCBtZSAgICAgICAgICAgICAgICAgPSB0aGlzLFxuICAgICAgICAgICAge2RhdGFGaWVsZHMsIHZpZXd9ID0gbWUsXG4gICAgICAgICAgICBjdXJyZW50Q29sdW1uLCBjdXJyZW50SW5kZXgsIGluZGV4O1xuXG4gICAgICAgIGlmIChtZS5oYXNTZWxlY3Rpb24oKSkge1xuICAgICAgICAgICAgY3VycmVudENvbHVtbiA9IG1lLnNlbGVjdGVkQ29sdW1uc1swXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3VycmVudENvbHVtbiA9IGRhdGFGaWVsZHNbMF1cbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRJbmRleCA9IGRhdGFGaWVsZHMuaW5kZXhPZihjdXJyZW50Q29sdW1uKTtcbiAgICAgICAgaW5kZXggICAgICAgID0gKGN1cnJlbnRJbmRleCArIHN0ZXApICUgZGF0YUZpZWxkcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgaW5kZXggKz0gZGF0YUZpZWxkcy5sZW5ndGhcbiAgICAgICAgfVxuXG4gICAgICAgIG1lLnNlbGVjdGVkQ29sdW1ucyA9IFtkYXRhRmllbGRzW2luZGV4XV07XG5cbiAgICAgICAgdmlldy5jcmVhdGVWaWV3RGF0YSgpO1xuXG4gICAgICAgIHZpZXcucGFyZW50LnNjcm9sbEJ5Q29sdW1ucyhjdXJyZW50SW5kZXgsIHN0ZXApXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtOZW8uY29tcG9uZW50LkJhc2V9IGNvbXBvbmVudFxuICAgICAqL1xuICAgIHJlZ2lzdGVyKGNvbXBvbmVudCkge1xuICAgICAgICBzdXBlci5yZWdpc3Rlcihjb21wb25lbnQpO1xuXG4gICAgICAgIGxldCB7aWQsIHZpZXd9ID0gdGhpcztcblxuICAgICAgICB2aWV3LmtleXM/Ll9rZXlzLnB1c2goXG4gICAgICAgICAgICB7Zm46ICdvbktleURvd25MZWZ0JywgIGtleTogJ0xlZnQnLCAgc2NvcGU6IGlkfSxcbiAgICAgICAgICAgIHtmbjogJ29uS2V5RG93blJpZ2h0Jywga2V5OiAnUmlnaHQnLCBzY29wZTogaWR9XG4gICAgICAgIClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIHVucmVnaXN0ZXIoKSB7XG4gICAgICAgIGxldCBtZSAgICAgICAgID0gdGhpcyxcbiAgICAgICAgICAgIHtpZCwgdmlld30gPSBtZTtcblxuICAgICAgICBtZS5zZWxlY3RlZENvbHVtbnMgPSBbXTtcbiAgICAgICAgbWUudmlldy5jcmVhdGVWaWV3RGF0YSgpO1xuXG4gICAgICAgIHZpZXcua2V5cz8ucmVtb3ZlS2V5cyhbXG4gICAgICAgICAgICB7Zm46ICdvbktleURvd25MZWZ0JywgIGtleTogJ0xlZnQnLCAgc2NvcGU6IGlkfSxcbiAgICAgICAgICAgIHtmbjogJ29uS2V5RG93blJpZ2h0Jywga2V5OiAnUmlnaHQnLCBzY29wZTogaWR9XG4gICAgICAgIF0pO1xuXG4gICAgICAgIHN1cGVyLnVucmVnaXN0ZXIoKVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoQ29sdW1uTW9kZWwpO1xuIiwiaW1wb3J0IENlbGxDb2x1bW5Nb2RlbCAgICBmcm9tICcuL0NlbGxDb2x1bW5Nb2RlbC5tanMnO1xuaW1wb3J0IENlbGxDb2x1bW5Sb3dNb2RlbCBmcm9tICcuL0NlbGxDb2x1bW5Sb3dNb2RlbC5tanMnO1xuaW1wb3J0IENlbGxNb2RlbCAgICAgICAgICBmcm9tICcuL0NlbGxNb2RlbC5tanMnO1xuaW1wb3J0IENlbGxSb3dNb2RlbCAgICAgICBmcm9tICcuL0NlbGxSb3dNb2RlbC5tanMnO1xuaW1wb3J0IENvbHVtbk1vZGVsICAgICAgICBmcm9tICcuL0NvbHVtbk1vZGVsLm1qcyc7XG5pbXBvcnQgUm93TW9kZWwgICAgICAgICAgIGZyb20gJy4vUm93TW9kZWwubWpzJztcblxuZXhwb3J0IHtDZWxsQ29sdW1uTW9kZWwsIENlbGxDb2x1bW5Sb3dNb2RlbCwgQ2VsbE1vZGVsLCBDZWxsUm93TW9kZWwsIENvbHVtbk1vZGVsLCBSb3dNb2RlbH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=