"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["src_calendar_view_SettingsContainer_mjs"],{

/***/ "./src/calendar/view/SettingsContainer.mjs":
/*!*************************************************!*\
  !*** ./src/calendar/view/SettingsContainer.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../container/Base.mjs */ "./src/container/Base.mjs");
/* harmony import */ var _tab_Container_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tab/Container.mjs */ "./src/tab/Container.mjs");



/**
 * @class Neo.calendar.view.SettingsContainer
 * @extends Neo.container.Base
 */
class SettingsContainer extends _container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Neo.calendar.view.SettingsContainer'
         * @protected
         */
        className: 'Neo.calendar.view.SettingsContainer',
        /**
         * @member {String[]} baseCls=['neo-calendar-settingscontainer', 'neo-container']
         */
        baseCls: ['neo-calendar-settingscontainer', 'neo-container'],
        /**
         * Read only
         * @member {Boolean} collapsed=false
         */
        collapsed: false,
        /**
         * @member {Object} layout={ntype:'vbox',align:'stretch'}
         * @protected
         */
        layout: {ntype: 'vbox', align: 'stretch'},
        /**
         * True to only keep the active view inside the DOM
         * @member {Boolean} removeInactiveCards=true
         */
        removeInactiveCards: true
    }

    /**
     * @param {Object} config
     */
    construct(config) {
        super.construct(config);

        let me = this;

        if (me.collapsed) {
            me.vdom.removeDom = true
        }
    }

    /**
     * @param {Number} width
     */
    collapse(width) {
        let me    = this,
            style = me.style || {};

        style.marginRight = `-${width}px`;
        me._style         = style; // silent update
        me._vdom.style    = style; // silent update

        me.parent.updateDepth = -1;

        me.parent.promiseUpdate().then(() => {
            me.timeout(400).then(() => {
                me.collapsed = true;

                me.vdom.removeDom = true;
                me.update();

                me.mounted = false
            })
        })
    }

    /**
     *
     */
    createItems() {
        let me = this;

        me.items = [{
            ntype : 'component',
            cls   : ['neo-header'],
            height: 48,
            html  : '<i class="fa fa-cog"></i>Settings'
        }, {
            module             : _tab_Container_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
            removeInactiveCards: me.removeInactiveCards,

            items: [{
                module: () => Promise.all(/*! import() */[__webpack_require__.e("vendors-src_form_field_Number_mjs"), __webpack_require__.e("vendors-src_calendar_view_settings_GeneralContainer_mjs")]).then(__webpack_require__.bind(__webpack_require__, /*! ./settings/GeneralContainer.mjs */ "./src/calendar/view/settings/GeneralContainer.mjs")),
                flag  : 'general',
                header: {text: 'General'},
                style : {padding: '20px'}
            }, {
                ntype : 'component',
                flag  : 'day',
                header: {text: 'Day'},
                html  : 'Day',
                style : {padding: '20px'}
            }, {
                module: () => Promise.all(/*! import() */[__webpack_require__.e("vendors-src_form_field_Number_mjs"), __webpack_require__.e("src_calendar_view_settings_WeekContainer_mjs")]).then(__webpack_require__.bind(__webpack_require__, /*! ./settings/WeekContainer.mjs */ "./src/calendar/view/settings/WeekContainer.mjs")),
                flag  : 'week',
                header: {text: 'Week'},
                style : {padding: '20px'}
            }, {
                module: () => __webpack_require__.e(/*! import() */ "src_calendar_view_settings_MonthContainer_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ./settings/MonthContainer.mjs */ "./src/calendar/view/settings/MonthContainer.mjs")),
                flag  : 'month',
                header: {text: 'Month'},
                style : {padding: '20px'}
            }, {
                module: () => Promise.all(/*! import() */[__webpack_require__.e("vendors-src_form_field_Number_mjs"), __webpack_require__.e("src_calendar_view_settings_YearContainer_mjs")]).then(__webpack_require__.bind(__webpack_require__, /*! ./settings/YearContainer.mjs */ "./src/calendar/view/settings/YearContainer.mjs")),
                flag  : 'year',
                header: {text: 'Year'},
                style : {padding: '20px'}
            }],

            listeners: {
                activeIndexChange: me.onCardIndexChange,
                scope            : me
            }
        }];

        super.createItems()
    }

    /**
     *
     */
    expand() {
        let me = this,
            style;

        delete me.vdom.removeDom;

        me.parent.updateDepth = -1;

        me.parent.promiseUpdate().then(() => {
            me.collapsed = false;
            me.mounted   = true;

            me.timeout(50).then(() => {
                style = me.style || {}
                style.marginRight = '0px';
                me.style = style
            })
        })
    }

    /**
     * @returns {Neo.calendar.view.MainContainer}
     */
    getMainContainer() {
        return this.up('calendar-maincontainer')
    }

    /**
     * @param {Object} data
     */
    onCardIndexChange(data) {
        let me            = this,
            container     = data.item,
            mainContainer = me.getMainContainer(),
            listenerId;

        if (mainContainer) {
            if (Neo.isFunction(container.createContent) && container.items.length < 1) {
                if (Neo.typeOf(mainContainer[`${container.flag}Component`]) !== 'NeoInstance') {
                    listenerId = mainContainer.on('cardLoaded', () => {
                        mainContainer.un('cardLoaded', listenerId);
                        me.timeout(30).then(() => {container.createContent()})
                    })
                } else {
                    me.timeout(30).then(() => {container.createContent()})
                }
            }

            if (container.flag !== 'general') {
                mainContainer.activeView = container.flag
            }
        }
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(SettingsContainer));


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC9zcmNfY2FsZW5kYXJfdmlld19TZXR0aW5nc0NvbnRhaW5lcl9tanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQW9EO0FBQ0Q7O0FBRW5EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDJEQUFTO0FBQ3pDO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVEsUUFBUTtBQUNwQztBQUNBO0FBQ0EsaUJBQWlCLGdDQUFnQztBQUNqRDtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQ0FBZ0MsTUFBTTtBQUN0QyxtQ0FBbUM7QUFDbkMsbUNBQW1DOztBQUVuQzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGlDQUFpQywwREFBWTtBQUM3Qzs7QUFFQTtBQUNBLDhCQUE4QiwwVEFBeUM7QUFDdkU7QUFDQSx5QkFBeUIsZ0JBQWdCO0FBQ3pDLHlCQUF5QjtBQUN6QixhQUFhO0FBQ2I7QUFDQTtBQUNBLHlCQUF5QixZQUFZO0FBQ3JDO0FBQ0EseUJBQXlCO0FBQ3pCLGFBQWE7QUFDYiw4QkFBOEIseVNBQXNDO0FBQ3BFO0FBQ0EseUJBQXlCLGFBQWE7QUFDdEMseUJBQXlCO0FBQ3pCLGFBQWE7QUFDYiw4QkFBOEIsa09BQXVDO0FBQ3JFO0FBQ0EseUJBQXlCLGNBQWM7QUFDdkMseUJBQXlCO0FBQ3pCLGFBQWE7QUFDYiw4QkFBOEIseVNBQXNDO0FBQ3BFO0FBQ0EseUJBQXlCLGFBQWE7QUFDdEMseUJBQXlCO0FBQ3pCLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnREFBZ0QsZUFBZTtBQUMvRDtBQUNBO0FBQ0EsbURBQW1ELDBCQUEwQjtBQUM3RSxxQkFBcUI7QUFDckIsa0JBQWtCO0FBQ2xCLCtDQUErQywwQkFBMEI7QUFDekU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUVBQWUsaUNBQWlDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW8ubWpzLy4vc3JjL2NhbGVuZGFyL3ZpZXcvU2V0dGluZ3NDb250YWluZXIubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb250YWluZXIgICAgZnJvbSAnLi4vLi4vY29udGFpbmVyL0Jhc2UubWpzJztcbmltcG9ydCBUYWJDb250YWluZXIgZnJvbSAnLi4vLi4vdGFiL0NvbnRhaW5lci5tanMnO1xuXG4vKipcbiAqIEBjbGFzcyBOZW8uY2FsZW5kYXIudmlldy5TZXR0aW5nc0NvbnRhaW5lclxuICogQGV4dGVuZHMgTmVvLmNvbnRhaW5lci5CYXNlXG4gKi9cbmNsYXNzIFNldHRpbmdzQ29udGFpbmVyIGV4dGVuZHMgQ29udGFpbmVyIHtcbiAgICBzdGF0aWMgY29uZmlnID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBjbGFzc05hbWU9J05lby5jYWxlbmRhci52aWV3LlNldHRpbmdzQ29udGFpbmVyJ1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBjbGFzc05hbWU6ICdOZW8uY2FsZW5kYXIudmlldy5TZXR0aW5nc0NvbnRhaW5lcicsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmdbXX0gYmFzZUNscz1bJ25lby1jYWxlbmRhci1zZXR0aW5nc2NvbnRhaW5lcicsICduZW8tY29udGFpbmVyJ11cbiAgICAgICAgICovXG4gICAgICAgIGJhc2VDbHM6IFsnbmVvLWNhbGVuZGFyLXNldHRpbmdzY29udGFpbmVyJywgJ25lby1jb250YWluZXInXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlYWQgb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtCb29sZWFufSBjb2xsYXBzZWQ9ZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIGNvbGxhcHNlZDogZmFsc2UsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9IGxheW91dD17bnR5cGU6J3Zib3gnLGFsaWduOidzdHJldGNoJ31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgbGF5b3V0OiB7bnR5cGU6ICd2Ym94JywgYWxpZ246ICdzdHJldGNoJ30sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcnVlIHRvIG9ubHkga2VlcCB0aGUgYWN0aXZlIHZpZXcgaW5zaWRlIHRoZSBET01cbiAgICAgICAgICogQG1lbWJlciB7Qm9vbGVhbn0gcmVtb3ZlSW5hY3RpdmVDYXJkcz10cnVlXG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmVJbmFjdGl2ZUNhcmRzOiB0cnVlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqL1xuICAgIGNvbnN0cnVjdChjb25maWcpIHtcbiAgICAgICAgc3VwZXIuY29uc3RydWN0KGNvbmZpZyk7XG5cbiAgICAgICAgbGV0IG1lID0gdGhpcztcblxuICAgICAgICBpZiAobWUuY29sbGFwc2VkKSB7XG4gICAgICAgICAgICBtZS52ZG9tLnJlbW92ZURvbSA9IHRydWVcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aFxuICAgICAqL1xuICAgIGNvbGxhcHNlKHdpZHRoKSB7XG4gICAgICAgIGxldCBtZSAgICA9IHRoaXMsXG4gICAgICAgICAgICBzdHlsZSA9IG1lLnN0eWxlIHx8IHt9O1xuXG4gICAgICAgIHN0eWxlLm1hcmdpblJpZ2h0ID0gYC0ke3dpZHRofXB4YDtcbiAgICAgICAgbWUuX3N0eWxlICAgICAgICAgPSBzdHlsZTsgLy8gc2lsZW50IHVwZGF0ZVxuICAgICAgICBtZS5fdmRvbS5zdHlsZSAgICA9IHN0eWxlOyAvLyBzaWxlbnQgdXBkYXRlXG5cbiAgICAgICAgbWUucGFyZW50LnVwZGF0ZURlcHRoID0gLTE7XG5cbiAgICAgICAgbWUucGFyZW50LnByb21pc2VVcGRhdGUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIG1lLnRpbWVvdXQoNDAwKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBtZS5jb2xsYXBzZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgbWUudmRvbS5yZW1vdmVEb20gPSB0cnVlO1xuICAgICAgICAgICAgICAgIG1lLnVwZGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgbWUubW91bnRlZCA9IGZhbHNlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgY3JlYXRlSXRlbXMoKSB7XG4gICAgICAgIGxldCBtZSA9IHRoaXM7XG5cbiAgICAgICAgbWUuaXRlbXMgPSBbe1xuICAgICAgICAgICAgbnR5cGUgOiAnY29tcG9uZW50JyxcbiAgICAgICAgICAgIGNscyAgIDogWyduZW8taGVhZGVyJ10sXG4gICAgICAgICAgICBoZWlnaHQ6IDQ4LFxuICAgICAgICAgICAgaHRtbCAgOiAnPGkgY2xhc3M9XCJmYSBmYS1jb2dcIj48L2k+U2V0dGluZ3MnXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG1vZHVsZSAgICAgICAgICAgICA6IFRhYkNvbnRhaW5lcixcbiAgICAgICAgICAgIHJlbW92ZUluYWN0aXZlQ2FyZHM6IG1lLnJlbW92ZUluYWN0aXZlQ2FyZHMsXG5cbiAgICAgICAgICAgIGl0ZW1zOiBbe1xuICAgICAgICAgICAgICAgIG1vZHVsZTogKCkgPT4gaW1wb3J0KCcuL3NldHRpbmdzL0dlbmVyYWxDb250YWluZXIubWpzJyksXG4gICAgICAgICAgICAgICAgZmxhZyAgOiAnZ2VuZXJhbCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyOiB7dGV4dDogJ0dlbmVyYWwnfSxcbiAgICAgICAgICAgICAgICBzdHlsZSA6IHtwYWRkaW5nOiAnMjBweCd9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbnR5cGUgOiAnY29tcG9uZW50JyxcbiAgICAgICAgICAgICAgICBmbGFnICA6ICdkYXknLFxuICAgICAgICAgICAgICAgIGhlYWRlcjoge3RleHQ6ICdEYXknfSxcbiAgICAgICAgICAgICAgICBodG1sICA6ICdEYXknLFxuICAgICAgICAgICAgICAgIHN0eWxlIDoge3BhZGRpbmc6ICcyMHB4J31cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBtb2R1bGU6ICgpID0+IGltcG9ydCgnLi9zZXR0aW5ncy9XZWVrQ29udGFpbmVyLm1qcycpLFxuICAgICAgICAgICAgICAgIGZsYWcgIDogJ3dlZWsnLFxuICAgICAgICAgICAgICAgIGhlYWRlcjoge3RleHQ6ICdXZWVrJ30sXG4gICAgICAgICAgICAgICAgc3R5bGUgOiB7cGFkZGluZzogJzIwcHgnfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogKCkgPT4gaW1wb3J0KCcuL3NldHRpbmdzL01vbnRoQ29udGFpbmVyLm1qcycpLFxuICAgICAgICAgICAgICAgIGZsYWcgIDogJ21vbnRoJyxcbiAgICAgICAgICAgICAgICBoZWFkZXI6IHt0ZXh0OiAnTW9udGgnfSxcbiAgICAgICAgICAgICAgICBzdHlsZSA6IHtwYWRkaW5nOiAnMjBweCd9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiAoKSA9PiBpbXBvcnQoJy4vc2V0dGluZ3MvWWVhckNvbnRhaW5lci5tanMnKSxcbiAgICAgICAgICAgICAgICBmbGFnICA6ICd5ZWFyJyxcbiAgICAgICAgICAgICAgICBoZWFkZXI6IHt0ZXh0OiAnWWVhcid9LFxuICAgICAgICAgICAgICAgIHN0eWxlIDoge3BhZGRpbmc6ICcyMHB4J31cbiAgICAgICAgICAgIH1dLFxuXG4gICAgICAgICAgICBsaXN0ZW5lcnM6IHtcbiAgICAgICAgICAgICAgICBhY3RpdmVJbmRleENoYW5nZTogbWUub25DYXJkSW5kZXhDaGFuZ2UsXG4gICAgICAgICAgICAgICAgc2NvcGUgICAgICAgICAgICA6IG1lXG4gICAgICAgICAgICB9XG4gICAgICAgIH1dO1xuXG4gICAgICAgIHN1cGVyLmNyZWF0ZUl0ZW1zKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIGV4cGFuZCgpIHtcbiAgICAgICAgbGV0IG1lID0gdGhpcyxcbiAgICAgICAgICAgIHN0eWxlO1xuXG4gICAgICAgIGRlbGV0ZSBtZS52ZG9tLnJlbW92ZURvbTtcblxuICAgICAgICBtZS5wYXJlbnQudXBkYXRlRGVwdGggPSAtMTtcblxuICAgICAgICBtZS5wYXJlbnQucHJvbWlzZVVwZGF0ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgbWUuY29sbGFwc2VkID0gZmFsc2U7XG4gICAgICAgICAgICBtZS5tb3VudGVkICAgPSB0cnVlO1xuXG4gICAgICAgICAgICBtZS50aW1lb3V0KDUwKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzdHlsZSA9IG1lLnN0eWxlIHx8IHt9XG4gICAgICAgICAgICAgICAgc3R5bGUubWFyZ2luUmlnaHQgPSAnMHB4JztcbiAgICAgICAgICAgICAgICBtZS5zdHlsZSA9IHN0eWxlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtOZW8uY2FsZW5kYXIudmlldy5NYWluQ29udGFpbmVyfVxuICAgICAqL1xuICAgIGdldE1haW5Db250YWluZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVwKCdjYWxlbmRhci1tYWluY29udGFpbmVyJylcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAqL1xuICAgIG9uQ2FyZEluZGV4Q2hhbmdlKGRhdGEpIHtcbiAgICAgICAgbGV0IG1lICAgICAgICAgICAgPSB0aGlzLFxuICAgICAgICAgICAgY29udGFpbmVyICAgICA9IGRhdGEuaXRlbSxcbiAgICAgICAgICAgIG1haW5Db250YWluZXIgPSBtZS5nZXRNYWluQ29udGFpbmVyKCksXG4gICAgICAgICAgICBsaXN0ZW5lcklkO1xuXG4gICAgICAgIGlmIChtYWluQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBpZiAoTmVvLmlzRnVuY3Rpb24oY29udGFpbmVyLmNyZWF0ZUNvbnRlbnQpICYmIGNvbnRhaW5lci5pdGVtcy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKE5lby50eXBlT2YobWFpbkNvbnRhaW5lcltgJHtjb250YWluZXIuZmxhZ31Db21wb25lbnRgXSkgIT09ICdOZW9JbnN0YW5jZScpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJJZCA9IG1haW5Db250YWluZXIub24oJ2NhcmRMb2FkZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWluQ29udGFpbmVyLnVuKCdjYXJkTG9hZGVkJywgbGlzdGVuZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZS50aW1lb3V0KDMwKS50aGVuKCgpID0+IHtjb250YWluZXIuY3JlYXRlQ29udGVudCgpfSlcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtZS50aW1lb3V0KDMwKS50aGVuKCgpID0+IHtjb250YWluZXIuY3JlYXRlQ29udGVudCgpfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb250YWluZXIuZmxhZyAhPT0gJ2dlbmVyYWwnKSB7XG4gICAgICAgICAgICAgICAgbWFpbkNvbnRhaW5lci5hY3RpdmVWaWV3ID0gY29udGFpbmVyLmZsYWdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoU2V0dGluZ3NDb250YWluZXIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9