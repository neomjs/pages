"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["vendors-dist_esm_src_tree_List_mjs"],{

/***/ "./dist/esm/src/list/Base.mjs"
/*!************************************!*\
  !*** ./dist/esm/src/list/Base.mjs ***!
  \************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/ClassSystem.mjs */ "./dist/esm/src/util/ClassSystem.mjs");
/* harmony import */ var _component_Base_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony import */ var _selection_ListModel_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../selection/ListModel.mjs */ "./dist/esm/src/selection/ListModel.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _data_Store_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../data/Store.mjs */ "./dist/esm/src/data/Store.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _component_Base_mjs__WEBPACK_IMPORTED_MODULE_1__["default"]{static config={className:"Neo.list.Base",ntype:"list",animate_:!1,autoDestroyStore:!0,baseCls:["neo-list"],disabledField:"disabled",disableSelection_:!1,displayField:"name",draggable_:!1,dragZone:null,dragZoneConfig:null,focusIndex_:null,headerlessSelectedIndex_:null,highlightFilterValue:!0,itemCls:"neo-list-item",itemHeight_:null,itemTagName:"li",itemWidth_:null,itemsFocusable:!0,keepFocusIndex:!1,keys:{},pluginAnimateConfig:null,selectedIndex_:null,selectionModel_:null,selectOnFocus:!1,silentSelect:!1,store_:null,useCheckBoxes_:!1,useHeaders_:!1,useWrapperNode_:!1,_vdom:{tag:"ul",cn:[]}};itemRole=null;navigator={};scrollIntoViewOnFocus=!0;construct(e){super.construct(e);let t=this;t.useHeaders&&(t.scrollIntoViewOnFocus=!1),t.addDomListeners({click:t.onClick,scope:t})}afterSetAnimate(e,t){e&&!this.getPlugin("list-animate")&&__webpack_require__.e(/*! import() */ "dist_esm_src_list_plugin_Animate_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ./plugin/Animate.mjs */ "./dist/esm/src/list/plugin/Animate.mjs")).then(e=>{let t=this,s=t.plugins||[];s.push({module:e.default,...t.pluginAnimateConfig}),t.plugins=s})}afterSetDisableSelection(e,t){e&&this.vnodeInitialized&&this.selectionModel?.deselectAll()}afterSetDraggable(e,t){let s=this;e&&!s.dragZone&&__webpack_require__.e(/*! import() */ "dist_esm_src_draggable_list_DragZone_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ../draggable/list/DragZone.mjs */ "./dist/esm/src/draggable/list/DragZone.mjs")).then(e=>{s.dragZone=Neo.create({module:e.default,appName:s.appName,owner:s,windowId:s.windowId,...s.dragZoneConfig})})}afterSetFocusIndex(e,t){null!==e&&this.updateItemFocus(e)}afterSetHeaderlessSelectedIndex(e,t){let s=this;Neo.isNumber(e)?s.selectedIndex=s.store.getCount()?s.getSelectedIndex(e):null:Neo.isNumber(t)&&(s.selectedIndex=null)}afterSetMounted(e,t){let s=this;!e&&s.hasNavigator&&(Neo.main.addon.Navigator.unsubscribe(s.navigator),s.hasNavigator=!1,s.selectedIndex=null),e&&(s.hasNavigator||(s.navigator=Neo.merge({appName:s.appName,autoClick:s.selectOnFocus,id:s.id,keepFocusIndex:s.keepFocusIndex,selector:`.${s.itemCls}:not(.neo-disabled,.neo-list-header)`,windowId:s.windowId},s.navigator),s.hasNavigator=!0),Neo.main.addon.Navigator.subscribe(s.navigator)),super.afterSetMounted(e,t)}afterSetSelectedIndex(e,t){let s=this,{selectionModel:o}=s;Neo.isNumber(e)?(o?.selectAt(e),s.headerlessSelectedIndex=s.getHeaderlessIndex(e)):Neo.isNumber(t)&&(o.deselectAll(),s.headerlessSelectedIndex=null)}afterSetSelectionModel(e,t){this.vnodeInitialized&&e.register(this)}afterSetStore(e,t){e?.on({filter:"onStoreFilter",load:"onStoreLoad",recordChange:"onStoreRecordChange",sort:"onStoreSort",scope:this}),e?.getCount()>0&&this.onStoreLoad()}afterSetUseCheckBoxes(e,t){let{cls:s}=this;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].toggle(s,"neo-use-checkicons",!!e),this.cls=s}afterSetUseHeaders(e,t){if(e){let e=this;e.vdom.tag="dl",e.itemTagName="dd"}}afterSetUseWrapperNode(e,t){let s=this,{cls:i,wrapperCls:r}=s;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"][e?"add":"remove"](i,"neo-use-wrapper-node"),_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"][e?"add":"remove"](r,"neo-list-wrapper"),s.wrapperCls=r,s.cls=i}afterSetWindowId(e,t){super.afterSetWindowId(e,t);let{navigator:s}=this;e&&s&&(s.windowId=e)}beforeSetSelectionModel(t,o){return o?.destroy(),_util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].beforeSetInstance(t,_selection_ListModel_mjs__WEBPACK_IMPORTED_MODULE_2__["default"])}beforeSetStore(t,s){return s?.destroy(),_util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].beforeSetInstance(t,_data_Store_mjs__WEBPACK_IMPORTED_MODULE_4__["default"])}createItem(e,t){let s,i,r=this,l=[r.itemCls],n=null!==r.itemHeight,a=null!==r.itemWidth,d=r.useHeaders&&e.isHeader,c=r.createItemContent(e,t),u=r.getItemId(e[r.getKeyProperty()]),{selectionModel:m}=r,h=!r.disableSelection&&m?.isSelected(u);switch(d&&l.push("neo-list-header"),h&&l.push(m.selectedCls),e.cls&&_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].add(l,e.cls),e[r.disabledField]&&l.push("neo-disabled"),s={id:u,tag:d?"dt":r.itemTagName,"aria-selected":h,cls:l},r.itemsFocusable&&(s.tabIndex=-1),(e.hidden||c.removeDom)&&(s.removeDom=!0),r.itemRole&&(s.role=r.itemRole),Neo.typeOf(c)){case null:return null;case"Array":s.cn=c,i=!0,c.forEach(e=>{e.removeDom||(i=!1)}),i&&(s.removeDom=!0);break;case"Object":c.cls&&(_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].add(s.cls,c.cls),delete c.cls),Object.assign(s,c);break;case"Number":case"String":s.html=c}return(n||a)&&(s.style=s.style||{},n&&!s.hasOwnProperty("height")&&(s.style.height=`${r.itemHeight}px`),a&&!s.hasOwnProperty("width")&&(s.style.width=`${r.itemWidth}px`)),s}createItemContent(e,t){let s,o=this,i=e[o.displayField];return o.highlightFilterValue&&(s=o.store.getFilter(o.displayField),s&&null!==s.value&&""!==s.value&&(i=i.replace(new RegExp(s.value,"gi"),function(e){return'<span class="neo-highlight-search">'+e+"</span>"}))),i}createItems(e=!1){let t,s=this,{headerlessSelectedIndex:o}=s,i=s.getVdomRoot();Neo.isNumber(o)&&!Neo.isNumber(s.selectedIndex)&&s.afterSetHeaderlessSelectedIndex(o,null),s.animate&&!s.getPlugin("list-animate")||(i.cn=[],s.store.forEach((e,o)=>{t=s.createItem(e,o),t&&i.cn.push(t)}),!e&&s.promiseUpdate().then(()=>{s.fire("createItems")}))}destroy(...e){let t=this;t.selectionModel?.destroy(),t.autoDestroyStore&&t.store?.destroy(),super.destroy(...e)}focus(e=this.id){this.mounted&&Neo.main.addon.Navigator.navigateTo({data:this.navigator,target:e,windowId:this.windowId})}getSelectedIndex(e){let t=0,s=0,o=this.store.items,i=e;if(o.length<1)return null;for(;s<=i;s++)o[s].isHeader&&(t++,i++);return e+t}getHeaderlessIndex(e){let t=0,s=0,o=this.store.items;for(;s<e;s++)o[s].isHeader||t++;return t}getItemId(e){return`${this.id}__${e.isRecord?e[this.getKeyProperty()]:e}`}getItemRecordId(e){let t=e.split("__")[1],{model:s}=this.store,o=s?.getField(this.getKeyProperty()),i=o?.type?.toLowerCase();return"int"!==i&&"integer"!==i||(t=parseInt(t)),t}getKeyProperty(){return this.store.keyProperty||this.store.model.keyProperty}onClick(e){let t,s=this;if(e.path[0].id===s.id)s.onContainerClick(e);else for(t of e.path)if(t.cls.includes(s.itemCls)){s.onItemClick(t,e);break}}onConstructed(){super.onConstructed(),this.selectionModel?.register(this)}onContainerClick(e){this.fire("containerClick",e)}onItemClick(e,t){let s=this,o=s.store.get(s.getItemRecordId(e.id));t.record=o,s.fire("itemClick",{record:o})}onStoreFilter(){this.createItems()}onStoreLoad(){let e=this;!e.mounted&&e.isVnodeInitializing?e.on("mounted",()=>{e.createItems()},e,{once:!0}):e.createItems()}onStoreRecordChange(e){let t=this,{index:s}=e;s>-1&&(t.vdom.cn[s]=t.createItem(e.record,s),t.update())}onStoreSort(e){this.createItems()}selectItem(e){let t=this;t.disableSelection||(Neo.isNumber(e)?t.selectionModel?.selectAt(e):e&&t.selectionModel?.selectAt(t.store.indexOf(e)))}async updateItemFocus(e){let t=this,{navigateTo:s}=Neo.main.addon.Navigator;t.mounted?Neo.isNumber(e)?s({data:t.navigator,target:t.getHeaderlessIndex(e),windowId:t.windowId}):e&&s({data:t.navigator,target:t.getItemId(e[t.getKeyProperty()]),windowId:t.windowId}):t.on("mounted",()=>{e===t.focusIndex&&t.updateItemFocus(t.focusIndex)},t,{once:!0})}}));

/***/ },

/***/ "./dist/esm/src/selection/ListModel.mjs"
/*!**********************************************!*\
  !*** ./dist/esm/src/selection/ListModel.mjs ***!
  \**********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Model_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Model.mjs */ "./dist/esm/src/selection/Model.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Model_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.selection.ListModel",ntype:"selection-listmodel"};onKeyDownEscape(e){}onKeyDownDown(e){}onKeyDownEnter(e){}onKeyDownLeft(e){}onKeyDownRight(e){}onKeyDownUp(e){}onListClick({currentTarget:e}){let t,{view:n}=this;n.disableSelection||(t=n.store.get(n.getItemRecordId(e)),t&&this.select(t))}onListNavigate(e){let t,{view:n}=this,{store:o}=n;e.activeItem&&(t=o.get(n.getItemRecordId(e.activeItem))),t||(t=o.getAt(Math.min(e.activeIndex,o.getCount()))),e.record=t,n._focusIndex=o.indexOf(t),n.fire("itemNavigate",e)}register(e){super.register(e);let t=this,{id:n,view:o}=t;o.addDomListeners([{click:t.onListClick,scope:t,delegate:e=>{for(let t=0,{length:n}=e;t<n;t++){const{cls:n}=e[t];if(n.includes(o.itemCls)&&!n.includes("neo-disabled")&&!n.includes("neo-list-header"))return t}}},{neonavigate:t.onListNavigate,scope:t}]),o.keys?._keys.push({fn:"onKeyDownDown",key:"Down",scope:n},{fn:"onKeyDownEnter",key:"Enter",scope:n},{fn:"onKeyDownEscape",key:"Escape",scope:n},{fn:"onKeyDownLeft",key:"Left",scope:n},{fn:"onKeyDownRight",key:"Right",scope:n},{fn:"onKeyDownUp",key:"Up",scope:n})}selectAt(e){let{view:t}=this,n=t?.store.getKeyAt(e),o=n&&t.getItemId(n);o&&this.select(o)}unregister(){let{id:e,view:t}=this;t.keys?.removeKeys([{fn:"onKeyDownDown",key:"Down",scope:e},{fn:"onKeyDownEnter",key:"Enter",scope:e},{fn:"onKeyDownEscape",key:"Escape",scope:e},{fn:"onKeyDownLeft",key:"Left",scope:e},{fn:"onKeyDownRight",key:"Right",scope:e},{fn:"onKeyDownUp",key:"Up",scope:e}]),super.unregister()}}));

/***/ },

/***/ "./dist/esm/src/selection/TreeModel.mjs"
/*!**********************************************!*\
  !*** ./dist/esm/src/selection/TreeModel.mjs ***!
  \**********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _ListModel_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ListModel.mjs */ "./dist/esm/src/selection/ListModel.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _ListModel_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.selection.TreeModel",ntype:"selection-treemodel"};onKeyDownEnter(e){}onNavKey(e,o){}}));

/***/ },

/***/ "./dist/esm/src/tree/List.mjs"
/*!************************************!*\
  !*** ./dist/esm/src/tree/List.mjs ***!
  \************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _list_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../list/Base.mjs */ "./dist/esm/src/list/Base.mjs");
/* harmony import */ var _util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/ClassSystem.mjs */ "./dist/esm/src/util/ClassSystem.mjs");
/* harmony import */ var _collection_Base_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../collection/Base.mjs */ "./dist/esm/src/collection/Base.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _selection_TreeModel_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../selection/TreeModel.mjs */ "./dist/esm/src/selection/TreeModel.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _list_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.tree.List",ntype:"treelist",baseCls:["neo-tree-list"],disableSelection:!1,dragResortable_:!1,dragZone:null,folderCls:"neo-list-folder",showCollapseExpandAllIcons:!0,sortZone:null,sortZoneConfig:null,wrapperCls:[],saveScrollPosition:!1,_vdom:{cn:[{tag:"ul",cls:["neo-list-container","neo-list"],tabIndex:-1,cn:[]}]}};afterSetDraggable(e,t){let l=this;e&&(l.dragResortable?console.error("tree.List can be either draggable or dragResortable, not both.",l.id):l.dragZone||__webpack_require__.e(/*! import() */ "dist_esm_src_draggable_tree_DragZone_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ../draggable/tree/DragZone.mjs */ "./dist/esm/src/draggable/tree/DragZone.mjs")).then(e=>{l.dragZone=Neo.create({module:e.default,appName:l.appName,owner:l,windowId:l.windowId,...l.dragZoneConfig})}))}afterSetDragResortable(e,t){let l=this;e&&(l.draggable?console.error("tree.List can be either draggable or dragResortable, not both.",l.id):l.sortZone||__webpack_require__.e(/*! import() */ "dist_esm_src_draggable_tree_SortZone_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ../draggable/tree/SortZone.mjs */ "./dist/esm/src/draggable/tree/SortZone.mjs")).then(e=>{l.sortZone=Neo.create({module:e.default,appName:l.appName,boundaryContainerId:l.id,owner:l,windowId:l.windowId,...l.sortZoneConfig})}))}beforeSetSelectionModel(e,l){return l?.destroy(),_util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].beforeSetInstance(e,_selection_TreeModel_mjs__WEBPACK_IMPORTED_MODULE_4__["default"])}beforeSetStore(e,t){return e||(e=Neo.create(_collection_Base_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],{keyProperty:"id"})),super.beforeSetStore(e,t)}collapseAll(e=!1){let t,l,n,r,i=this,d=!1;i.store.forEach(e=>{e.isLeaf||(l=i.getVdomChild(i.getItemId(e.id),i.vdom),l.cls.includes("neo-folder-open")&&(_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].remove(l.cls,"neo-folder-open"),({parentNode:n,index:r}=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].find(i.vdom,l.id)),t=n.cn[r+1],"ul"===t?.tag&&(t.removeDom=!0),d=!0))}),d&&!e&&i.update()}createItem(e){let t,l=this,{folderCls:o,itemCls:n}=l,s=[n],r=[n+"-content"],i=l.getKeyProperty();return e.iconCls&&(Array.isArray(e.iconCls)?r.push(...e.iconCls):r.push(e.iconCls)),e.isLeaf?s.push(n+(e.singleton?"-leaf-singleton":"-leaf")):(s.push(o),e.collapsed||s.push("neo-folder-open")),t={tag:"li",cls:s,id:l.getItemId(e[i]),level:e.level,cn:[{tag:"span",cls:r,html:e[l.displayField],style:{pointerEvents:"none"}}],style:{display:e.hidden?"none":"flex",padding:"10px",position:e.isLeaf||e.collapsed?null:"sticky",top:e.isLeaf||e.collapsed?null:38*e.level+"px",zIndex:e.isLeaf?1:1e4+e.level}},l.itemsFocusable&&(t.tabIndex=-1),t}createItemLevel(e,t,l,o=!1){let n,s=this,r=s.store.find("parentId",e);return r.length>0&&(t.cn||(t.cn=[]),null!==e?(t.cn.push({tag:"ul",cls:["neo-list"],cn:[],removeDom:o,style:{paddingLeft:"15px"}}),n=t.cn[t.cn.length-1]):n=t,r.forEach(e=>{e.level=l,n.cn.push(s.createItem(e)),s.createItemLevel(e.id,n,l+1,e.hidden||o||e.collapsed)})),t}createItems(){let e=this,t=e.getListItemsRoot();t.cn=[],e.createItemLevel(null,t,0),e.update()}expandAll(e=!1){let t,l,n,r,i=this,d=!1;i.store.forEach(e=>{e.isLeaf||(l=i.getVdomChild(i.getItemId(e.id),i.vdom),l.cls.includes("neo-folder-open")||(_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].add(l.cls,"neo-folder-open"),({parentNode:n,index:r}=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].find(i.vdom,l.id)),t=n.cn[r+1],"ul"===t?.tag&&(t.removeDom=!1),d=!0))}),d&&!e&&i.update()}expandParents(e){let t,l,n,r,i,d=this,a=d.store.get(e),c=!1;if(a)for(n=a.parentId;n;)l=d.getVdomChild(d.getItemId(n)),l&&!l.cls.includes("neo-folder-open")&&(_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].add(l.cls,"neo-folder-open"),({parentNode:r,index:i}=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].find(d.vdom,l.id)),t=r.cn[i+1],"ul"===t?.tag&&(t.removeDom=!1),c=!0),a=d.store.get(n),n=a?a.parentId:null;c&&d.update()}filter(e,t,l,o=!1){let n,s,r,i=this,d=!0,a=new RegExp(t,"gi");return t||(t=""),i.store.forEach(c=>{c.parentId===l&&(s=!1,r=i.getVdomChild(i.getItemId(c.id),i.vdom),r.cn[0].html=c[e].replace(a,e=>(s=!0,`<span class="neo-highlight-search">${e}</span>`)),n=!!c.isLeaf||i.filter(e,t,c.id,s||o),(s||o||!1===n||""===t)&&(d=!1),r.style.display=d?"none":"list-item")}),null===l&&(i.expandAll(!0),i.update()),d}scrollToItem(e){Neo.main.DomAccess.scrollIntoView({id:this.getItemId(e),windowId:this.windowId})}getListItemsRoot(){return this.vdom.cn[this.showCollapseExpandAllIcons?2:0]}onClick(e){e.target.cls.includes("neo-treelist-menu-item")?this.onMenuItemClick(e.target.cls):super.onClick(e)}onConstructed(){super.onConstructed();let e=this;e.showCollapseExpandAllIcons&&(e.vdom.cn.unshift({cls:["neo-treelist-menu-item","neo-treelist-collapse-all-icon"],cn:[{tag:"span",cls:["neo-treelist-menu-item-content"]}]},{cls:["neo-treelist-menu-item","neo-treelist-expand-all-icon"],cn:[{tag:"span",cls:["neo-treelist-menu-item-content"]}]}),e.update())}onItemClick(e,t){let l,n,r,i,d=this,{items:a}=d.store,c=0,p=a.length,m=d.getKeyProperty(),u=t.path.map(e=>e.id);for(;c<p;c++)if(r=a[c],i=d.getItemId(r[m]),u.includes(i)){n=r,l=d.getVdomChild(i);break}if(l){if(l.cls?.includes(d.folderCls)){_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].toggle(l.cls,"neo-folder-open");let e=l.cls.includes("neo-folder-open"),{parentNode:t,index:n}=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].find(d.vdom,l.id),r=t.cn[n+1];l.style.position=e?"sticky":null,l.style.top=e?38*l.level+"px":null,"ul"===r?.tag&&(r.removeDom=!e),d.update()}else d.onLeafItemClick(n),d.fire("leafItemClick",n);super.onItemClick(e,t)}}onLeafItemClick(e){}onMenuItemClick(e){e.includes("neo-treelist-collapse-all-icon")?this.collapseAll():this.expandAll()}onScrollCapture(e){super.onScrollCapture(e);let t=this;if(t.saveScrollPosition){let l=e.scrollTop,n=!1,s=0,r={};const i=e=>{if(!e.cn)return;let d=!0;e.cn.forEach(e=>{if("li"===e.tag){if(e.cls.includes(t.folderCls)){let t=e.style.top;if(t){if(l>0&&s-l<=parseInt(t)){let t=e.level||0;r[t]??=[],r[t].push(e)}else e.cls.includes("neo-stuck")&&(_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].remove(e.cls,"neo-stuck"),n=!0)}d=e.cls.includes("neo-folder-open")}else d=!0;"none"===e.style?.display||e.removeDom||(s+=51)}else"ul"===e.tag&&d&&!e.removeDom&&i(e)})};t.vdom.cn&&t.vdom.cn[0]&&i(t.vdom.cn[0]),Object.values(r).forEach(e=>{let t=e[e.length-1];e.forEach(e=>{let l=e===t;l!==e.cls.includes("neo-stuck")&&(_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].toggle(e.cls,"neo-stuck",l),n=!0)})}),n&&t.update()}}onStoreRecordChange(e){let t=this,{record:l}=e,{index:o,parentNode:n}=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_5__["default"].find(t.vdom,t.getItemId(l.id));n.cn[o]=t.createItem(l),t.update()}}));

/***/ }

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC92ZW5kb3JzLWRpc3RfZXNtX3NyY190cmVlX0xpc3RfbWpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3TCxpRUFBZSw2QkFBNkIsMkRBQUMsQ0FBQyxlQUFlLDBZQUEwWSwyS0FBMkssaUJBQWlCLGNBQWMsYUFBYSx5QkFBeUIsYUFBYSxtQkFBbUIsV0FBVyw4REFBOEQsd0JBQXdCLEVBQUUscUJBQXFCLG9DQUFvQyx1TUFBOEIsVUFBVSwyQkFBMkIsUUFBUSwwQ0FBMEMsY0FBYyxFQUFFLDhCQUE4Qiw2REFBNkQsdUJBQXVCLFdBQVcsZ0JBQWdCLHlOQUF3QyxVQUFVLHVCQUF1QixtRkFBbUYsRUFBRSxFQUFFLHdCQUF3QixrQ0FBa0MscUNBQXFDLFdBQVcsc0hBQXNILHFCQUFxQixXQUFXLDJKQUEySixpR0FBaUcsVUFBVSwwREFBMEQsNkdBQTZHLDJCQUEyQixZQUFZLGlCQUFpQixHQUFHLHFKQUFxSiw0QkFBNEIsd0NBQXdDLG1CQUFtQixPQUFPLDJHQUEyRyxzQ0FBc0MsMkJBQTJCLElBQUksTUFBTSxNQUFNLHVEQUFDLCtDQUErQyx3QkFBd0IsTUFBTSxXQUFXLG9DQUFvQyw0QkFBNEIsWUFBWSxtQkFBbUIsR0FBRyx1REFBQyw2Q0FBNkMsdURBQUMsZ0VBQWdFLHNCQUFzQiw0QkFBNEIsSUFBSSxZQUFZLE1BQU0scUJBQXFCLDZCQUE2QixvQkFBb0IsNkRBQUMscUJBQXFCLGdFQUFDLEVBQUUsb0JBQW9CLG9CQUFvQiw2REFBQyxxQkFBcUIsdURBQUMsRUFBRSxnQkFBZ0Isb0tBQW9LLGlCQUFpQiwyQ0FBMkMsb0VBQW9FLHVEQUFDLDREQUE0RCxzREFBc0QsNEhBQTRILHNCQUFzQixzQ0FBc0Msb0JBQW9CLHNCQUFzQixNQUFNLHFCQUFxQix1REFBQyxtREFBbUQsTUFBTSxtQ0FBbUMsa0NBQWtDLG9EQUFvRCxhQUFhLHNEQUFzRCxZQUFZLFFBQVEsdUJBQXVCLGlDQUFpQyx1SkFBdUosd0RBQXdELE1BQU0s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MkMsZ0JBQWdCLG1DQUFtQyw0Q0FBNEMsRUFBRSxtQkFBbUIseURBQXlELFdBQVcsb0dBQW9HLGdCQUFnQixzQkFBc0IsV0FBVyxrREFBa0QscUVBQXFFLGtEQUFrRCxFQUFFLEVBQUUsbUVBQW1FLGtEQUFrRCxFQUFFLGNBQWMsaUJBQWlCLG9CQUFvQixRQUFRLG1FQUFtRSxLQUFLLElBQUksaURBQWlELHdCQUF3QixNQUFNLE1BQU0saUNBQWlDLHVEQUFDLGlDQUFpQyx5Q0FBeUMscUJBQXFCLENBQUMsc0RBQUMsK0JBQStCLCtHQUErRyxvREFBb0Qsd0JBQXdCLG9CQUFvQixtQkFBbUIsaUZBQWlGLG1CQUFtQix5QkFBeUIsV0FBVyx5QkFBeUIsZ0NBQWdDLFlBQVksZ0JBQWdCLFNBQVMsaUJBQWlCLGlCQUFpQixnQ0FBZ0Msa0JBQWtCLE1BQU0sMEJBQTBCLGlCQUFpQix1QkFBdUIsbUNBQW1DLHVEQUFDLGlDQUFpQyxvQ0FBb0MsVUFBVSxnREFBZ0Qsd0NBQXdDLEdBQUcsc0VBQXNFLG9CQUFvQixjQUFjLFlBQVksa0NBQWtDLHVEQUFDLG1DQUFtQyxFQUFFLGlCQUFpQix1QkFBdUIsWUFBWSxTQUFTLElBQUkscUJBQXFCLENBQUMsc0RBQUMsZ0NBQWdDLG9DQUFvQyxDQUFDLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2xpc3QvQmFzZS5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9zZWxlY3Rpb24vTGlzdE1vZGVsLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL3NlbGVjdGlvbi9UcmVlTW9kZWwubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvdHJlZS9MaXN0Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZSBmcm9tXCIuLi91dGlsL0NsYXNzU3lzdGVtLm1qc1wiO2ltcG9ydCB0IGZyb21cIi4uL2NvbXBvbmVudC9CYXNlLm1qc1wiO2ltcG9ydCBzIGZyb21cIi4uL3NlbGVjdGlvbi9MaXN0TW9kZWwubWpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vdXRpbC9BcnJheS5tanNcIjtpbXBvcnQgaSBmcm9tXCIuLi9kYXRhL1N0b3JlLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgdHtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8ubGlzdC5CYXNlXCIsbnR5cGU6XCJsaXN0XCIsYW5pbWF0ZV86ITEsYXV0b0Rlc3Ryb3lTdG9yZTohMCxiYXNlQ2xzOltcIm5lby1saXN0XCJdLGRpc2FibGVkRmllbGQ6XCJkaXNhYmxlZFwiLGRpc2FibGVTZWxlY3Rpb25fOiExLGRpc3BsYXlGaWVsZDpcIm5hbWVcIixkcmFnZ2FibGVfOiExLGRyYWdab25lOm51bGwsZHJhZ1pvbmVDb25maWc6bnVsbCxmb2N1c0luZGV4XzpudWxsLGhlYWRlcmxlc3NTZWxlY3RlZEluZGV4XzpudWxsLGhpZ2hsaWdodEZpbHRlclZhbHVlOiEwLGl0ZW1DbHM6XCJuZW8tbGlzdC1pdGVtXCIsaXRlbUhlaWdodF86bnVsbCxpdGVtVGFnTmFtZTpcImxpXCIsaXRlbVdpZHRoXzpudWxsLGl0ZW1zRm9jdXNhYmxlOiEwLGtlZXBGb2N1c0luZGV4OiExLGtleXM6e30scGx1Z2luQW5pbWF0ZUNvbmZpZzpudWxsLHNlbGVjdGVkSW5kZXhfOm51bGwsc2VsZWN0aW9uTW9kZWxfOm51bGwsc2VsZWN0T25Gb2N1czohMSxzaWxlbnRTZWxlY3Q6ITEsc3RvcmVfOm51bGwsdXNlQ2hlY2tCb3hlc186ITEsdXNlSGVhZGVyc186ITEsdXNlV3JhcHBlck5vZGVfOiExLF92ZG9tOnt0YWc6XCJ1bFwiLGNuOltdfX07aXRlbVJvbGU9bnVsbDtuYXZpZ2F0b3I9e307c2Nyb2xsSW50b1ZpZXdPbkZvY3VzPSEwO2NvbnN0cnVjdChlKXtzdXBlci5jb25zdHJ1Y3QoZSk7bGV0IHQ9dGhpczt0LnVzZUhlYWRlcnMmJih0LnNjcm9sbEludG9WaWV3T25Gb2N1cz0hMSksdC5hZGREb21MaXN0ZW5lcnMoe2NsaWNrOnQub25DbGljayxzY29wZTp0fSl9YWZ0ZXJTZXRBbmltYXRlKGUsdCl7ZSYmIXRoaXMuZ2V0UGx1Z2luKFwibGlzdC1hbmltYXRlXCIpJiZpbXBvcnQoXCIuL3BsdWdpbi9BbmltYXRlLm1qc1wiKS50aGVuKGU9PntsZXQgdD10aGlzLHM9dC5wbHVnaW5zfHxbXTtzLnB1c2goe21vZHVsZTplLmRlZmF1bHQsLi4udC5wbHVnaW5BbmltYXRlQ29uZmlnfSksdC5wbHVnaW5zPXN9KX1hZnRlclNldERpc2FibGVTZWxlY3Rpb24oZSx0KXtlJiZ0aGlzLnZub2RlSW5pdGlhbGl6ZWQmJnRoaXMuc2VsZWN0aW9uTW9kZWw/LmRlc2VsZWN0QWxsKCl9YWZ0ZXJTZXREcmFnZ2FibGUoZSx0KXtsZXQgcz10aGlzO2UmJiFzLmRyYWdab25lJiZpbXBvcnQoXCIuLi9kcmFnZ2FibGUvbGlzdC9EcmFnWm9uZS5tanNcIikudGhlbihlPT57cy5kcmFnWm9uZT1OZW8uY3JlYXRlKHttb2R1bGU6ZS5kZWZhdWx0LGFwcE5hbWU6cy5hcHBOYW1lLG93bmVyOnMsd2luZG93SWQ6cy53aW5kb3dJZCwuLi5zLmRyYWdab25lQ29uZmlnfSl9KX1hZnRlclNldEZvY3VzSW5kZXgoZSx0KXtudWxsIT09ZSYmdGhpcy51cGRhdGVJdGVtRm9jdXMoZSl9YWZ0ZXJTZXRIZWFkZXJsZXNzU2VsZWN0ZWRJbmRleChlLHQpe2xldCBzPXRoaXM7TmVvLmlzTnVtYmVyKGUpP3Muc2VsZWN0ZWRJbmRleD1zLnN0b3JlLmdldENvdW50KCk/cy5nZXRTZWxlY3RlZEluZGV4KGUpOm51bGw6TmVvLmlzTnVtYmVyKHQpJiYocy5zZWxlY3RlZEluZGV4PW51bGwpfWFmdGVyU2V0TW91bnRlZChlLHQpe2xldCBzPXRoaXM7IWUmJnMuaGFzTmF2aWdhdG9yJiYoTmVvLm1haW4uYWRkb24uTmF2aWdhdG9yLnVuc3Vic2NyaWJlKHMubmF2aWdhdG9yKSxzLmhhc05hdmlnYXRvcj0hMSxzLnNlbGVjdGVkSW5kZXg9bnVsbCksZSYmKHMuaGFzTmF2aWdhdG9yfHwocy5uYXZpZ2F0b3I9TmVvLm1lcmdlKHthcHBOYW1lOnMuYXBwTmFtZSxhdXRvQ2xpY2s6cy5zZWxlY3RPbkZvY3VzLGlkOnMuaWQsa2VlcEZvY3VzSW5kZXg6cy5rZWVwRm9jdXNJbmRleCxzZWxlY3RvcjpgLiR7cy5pdGVtQ2xzfTpub3QoLm5lby1kaXNhYmxlZCwubmVvLWxpc3QtaGVhZGVyKWAsd2luZG93SWQ6cy53aW5kb3dJZH0scy5uYXZpZ2F0b3IpLHMuaGFzTmF2aWdhdG9yPSEwKSxOZW8ubWFpbi5hZGRvbi5OYXZpZ2F0b3Iuc3Vic2NyaWJlKHMubmF2aWdhdG9yKSksc3VwZXIuYWZ0ZXJTZXRNb3VudGVkKGUsdCl9YWZ0ZXJTZXRTZWxlY3RlZEluZGV4KGUsdCl7bGV0IHM9dGhpcyx7c2VsZWN0aW9uTW9kZWw6b309cztOZW8uaXNOdW1iZXIoZSk/KG8/LnNlbGVjdEF0KGUpLHMuaGVhZGVybGVzc1NlbGVjdGVkSW5kZXg9cy5nZXRIZWFkZXJsZXNzSW5kZXgoZSkpOk5lby5pc051bWJlcih0KSYmKG8uZGVzZWxlY3RBbGwoKSxzLmhlYWRlcmxlc3NTZWxlY3RlZEluZGV4PW51bGwpfWFmdGVyU2V0U2VsZWN0aW9uTW9kZWwoZSx0KXt0aGlzLnZub2RlSW5pdGlhbGl6ZWQmJmUucmVnaXN0ZXIodGhpcyl9YWZ0ZXJTZXRTdG9yZShlLHQpe2U/Lm9uKHtmaWx0ZXI6XCJvblN0b3JlRmlsdGVyXCIsbG9hZDpcIm9uU3RvcmVMb2FkXCIscmVjb3JkQ2hhbmdlOlwib25TdG9yZVJlY29yZENoYW5nZVwiLHNvcnQ6XCJvblN0b3JlU29ydFwiLHNjb3BlOnRoaXN9KSxlPy5nZXRDb3VudCgpPjAmJnRoaXMub25TdG9yZUxvYWQoKX1hZnRlclNldFVzZUNoZWNrQm94ZXMoZSx0KXtsZXR7Y2xzOnN9PXRoaXM7by50b2dnbGUocyxcIm5lby11c2UtY2hlY2tpY29uc1wiLCEhZSksdGhpcy5jbHM9c31hZnRlclNldFVzZUhlYWRlcnMoZSx0KXtpZihlKXtsZXQgZT10aGlzO2UudmRvbS50YWc9XCJkbFwiLGUuaXRlbVRhZ05hbWU9XCJkZFwifX1hZnRlclNldFVzZVdyYXBwZXJOb2RlKGUsdCl7bGV0IHM9dGhpcyx7Y2xzOmksd3JhcHBlckNsczpyfT1zO29bZT9cImFkZFwiOlwicmVtb3ZlXCJdKGksXCJuZW8tdXNlLXdyYXBwZXItbm9kZVwiKSxvW2U/XCJhZGRcIjpcInJlbW92ZVwiXShyLFwibmVvLWxpc3Qtd3JhcHBlclwiKSxzLndyYXBwZXJDbHM9cixzLmNscz1pfWFmdGVyU2V0V2luZG93SWQoZSx0KXtzdXBlci5hZnRlclNldFdpbmRvd0lkKGUsdCk7bGV0e25hdmlnYXRvcjpzfT10aGlzO2UmJnMmJihzLndpbmRvd0lkPWUpfWJlZm9yZVNldFNlbGVjdGlvbk1vZGVsKHQsbyl7cmV0dXJuIG8/LmRlc3Ryb3koKSxlLmJlZm9yZVNldEluc3RhbmNlKHQscyl9YmVmb3JlU2V0U3RvcmUodCxzKXtyZXR1cm4gcz8uZGVzdHJveSgpLGUuYmVmb3JlU2V0SW5zdGFuY2UodCxpKX1jcmVhdGVJdGVtKGUsdCl7bGV0IHMsaSxyPXRoaXMsbD1bci5pdGVtQ2xzXSxuPW51bGwhPT1yLml0ZW1IZWlnaHQsYT1udWxsIT09ci5pdGVtV2lkdGgsZD1yLnVzZUhlYWRlcnMmJmUuaXNIZWFkZXIsYz1yLmNyZWF0ZUl0ZW1Db250ZW50KGUsdCksdT1yLmdldEl0ZW1JZChlW3IuZ2V0S2V5UHJvcGVydHkoKV0pLHtzZWxlY3Rpb25Nb2RlbDptfT1yLGg9IXIuZGlzYWJsZVNlbGVjdGlvbiYmbT8uaXNTZWxlY3RlZCh1KTtzd2l0Y2goZCYmbC5wdXNoKFwibmVvLWxpc3QtaGVhZGVyXCIpLGgmJmwucHVzaChtLnNlbGVjdGVkQ2xzKSxlLmNscyYmby5hZGQobCxlLmNscyksZVtyLmRpc2FibGVkRmllbGRdJiZsLnB1c2goXCJuZW8tZGlzYWJsZWRcIikscz17aWQ6dSx0YWc6ZD9cImR0XCI6ci5pdGVtVGFnTmFtZSxcImFyaWEtc2VsZWN0ZWRcIjpoLGNsczpsfSxyLml0ZW1zRm9jdXNhYmxlJiYocy50YWJJbmRleD0tMSksKGUuaGlkZGVufHxjLnJlbW92ZURvbSkmJihzLnJlbW92ZURvbT0hMCksci5pdGVtUm9sZSYmKHMucm9sZT1yLml0ZW1Sb2xlKSxOZW8udHlwZU9mKGMpKXtjYXNlIG51bGw6cmV0dXJuIG51bGw7Y2FzZVwiQXJyYXlcIjpzLmNuPWMsaT0hMCxjLmZvckVhY2goZT0+e2UucmVtb3ZlRG9tfHwoaT0hMSl9KSxpJiYocy5yZW1vdmVEb209ITApO2JyZWFrO2Nhc2VcIk9iamVjdFwiOmMuY2xzJiYoby5hZGQocy5jbHMsYy5jbHMpLGRlbGV0ZSBjLmNscyksT2JqZWN0LmFzc2lnbihzLGMpO2JyZWFrO2Nhc2VcIk51bWJlclwiOmNhc2VcIlN0cmluZ1wiOnMuaHRtbD1jfXJldHVybihufHxhKSYmKHMuc3R5bGU9cy5zdHlsZXx8e30sbiYmIXMuaGFzT3duUHJvcGVydHkoXCJoZWlnaHRcIikmJihzLnN0eWxlLmhlaWdodD1gJHtyLml0ZW1IZWlnaHR9cHhgKSxhJiYhcy5oYXNPd25Qcm9wZXJ0eShcIndpZHRoXCIpJiYocy5zdHlsZS53aWR0aD1gJHtyLml0ZW1XaWR0aH1weGApKSxzfWNyZWF0ZUl0ZW1Db250ZW50KGUsdCl7bGV0IHMsbz10aGlzLGk9ZVtvLmRpc3BsYXlGaWVsZF07cmV0dXJuIG8uaGlnaGxpZ2h0RmlsdGVyVmFsdWUmJihzPW8uc3RvcmUuZ2V0RmlsdGVyKG8uZGlzcGxheUZpZWxkKSxzJiZudWxsIT09cy52YWx1ZSYmXCJcIiE9PXMudmFsdWUmJihpPWkucmVwbGFjZShuZXcgUmVnRXhwKHMudmFsdWUsXCJnaVwiKSxmdW5jdGlvbihlKXtyZXR1cm4nPHNwYW4gY2xhc3M9XCJuZW8taGlnaGxpZ2h0LXNlYXJjaFwiPicrZStcIjwvc3Bhbj5cIn0pKSksaX1jcmVhdGVJdGVtcyhlPSExKXtsZXQgdCxzPXRoaXMse2hlYWRlcmxlc3NTZWxlY3RlZEluZGV4Om99PXMsaT1zLmdldFZkb21Sb290KCk7TmVvLmlzTnVtYmVyKG8pJiYhTmVvLmlzTnVtYmVyKHMuc2VsZWN0ZWRJbmRleCkmJnMuYWZ0ZXJTZXRIZWFkZXJsZXNzU2VsZWN0ZWRJbmRleChvLG51bGwpLHMuYW5pbWF0ZSYmIXMuZ2V0UGx1Z2luKFwibGlzdC1hbmltYXRlXCIpfHwoaS5jbj1bXSxzLnN0b3JlLmZvckVhY2goKGUsbyk9Pnt0PXMuY3JlYXRlSXRlbShlLG8pLHQmJmkuY24ucHVzaCh0KX0pLCFlJiZzLnByb21pc2VVcGRhdGUoKS50aGVuKCgpPT57cy5maXJlKFwiY3JlYXRlSXRlbXNcIil9KSl9ZGVzdHJveSguLi5lKXtsZXQgdD10aGlzO3Quc2VsZWN0aW9uTW9kZWw/LmRlc3Ryb3koKSx0LmF1dG9EZXN0cm95U3RvcmUmJnQuc3RvcmU/LmRlc3Ryb3koKSxzdXBlci5kZXN0cm95KC4uLmUpfWZvY3VzKGU9dGhpcy5pZCl7dGhpcy5tb3VudGVkJiZOZW8ubWFpbi5hZGRvbi5OYXZpZ2F0b3IubmF2aWdhdGVUbyh7ZGF0YTp0aGlzLm5hdmlnYXRvcix0YXJnZXQ6ZSx3aW5kb3dJZDp0aGlzLndpbmRvd0lkfSl9Z2V0U2VsZWN0ZWRJbmRleChlKXtsZXQgdD0wLHM9MCxvPXRoaXMuc3RvcmUuaXRlbXMsaT1lO2lmKG8ubGVuZ3RoPDEpcmV0dXJuIG51bGw7Zm9yKDtzPD1pO3MrKylvW3NdLmlzSGVhZGVyJiYodCsrLGkrKyk7cmV0dXJuIGUrdH1nZXRIZWFkZXJsZXNzSW5kZXgoZSl7bGV0IHQ9MCxzPTAsbz10aGlzLnN0b3JlLml0ZW1zO2Zvcig7czxlO3MrKylvW3NdLmlzSGVhZGVyfHx0Kys7cmV0dXJuIHR9Z2V0SXRlbUlkKGUpe3JldHVybmAke3RoaXMuaWR9X18ke2UuaXNSZWNvcmQ/ZVt0aGlzLmdldEtleVByb3BlcnR5KCldOmV9YH1nZXRJdGVtUmVjb3JkSWQoZSl7bGV0IHQ9ZS5zcGxpdChcIl9fXCIpWzFdLHttb2RlbDpzfT10aGlzLnN0b3JlLG89cz8uZ2V0RmllbGQodGhpcy5nZXRLZXlQcm9wZXJ0eSgpKSxpPW8/LnR5cGU/LnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnRcIiE9PWkmJlwiaW50ZWdlclwiIT09aXx8KHQ9cGFyc2VJbnQodCkpLHR9Z2V0S2V5UHJvcGVydHkoKXtyZXR1cm4gdGhpcy5zdG9yZS5rZXlQcm9wZXJ0eXx8dGhpcy5zdG9yZS5tb2RlbC5rZXlQcm9wZXJ0eX1vbkNsaWNrKGUpe2xldCB0LHM9dGhpcztpZihlLnBhdGhbMF0uaWQ9PT1zLmlkKXMub25Db250YWluZXJDbGljayhlKTtlbHNlIGZvcih0IG9mIGUucGF0aClpZih0LmNscy5pbmNsdWRlcyhzLml0ZW1DbHMpKXtzLm9uSXRlbUNsaWNrKHQsZSk7YnJlYWt9fW9uQ29uc3RydWN0ZWQoKXtzdXBlci5vbkNvbnN0cnVjdGVkKCksdGhpcy5zZWxlY3Rpb25Nb2RlbD8ucmVnaXN0ZXIodGhpcyl9b25Db250YWluZXJDbGljayhlKXt0aGlzLmZpcmUoXCJjb250YWluZXJDbGlja1wiLGUpfW9uSXRlbUNsaWNrKGUsdCl7bGV0IHM9dGhpcyxvPXMuc3RvcmUuZ2V0KHMuZ2V0SXRlbVJlY29yZElkKGUuaWQpKTt0LnJlY29yZD1vLHMuZmlyZShcIml0ZW1DbGlja1wiLHtyZWNvcmQ6b30pfW9uU3RvcmVGaWx0ZXIoKXt0aGlzLmNyZWF0ZUl0ZW1zKCl9b25TdG9yZUxvYWQoKXtsZXQgZT10aGlzOyFlLm1vdW50ZWQmJmUuaXNWbm9kZUluaXRpYWxpemluZz9lLm9uKFwibW91bnRlZFwiLCgpPT57ZS5jcmVhdGVJdGVtcygpfSxlLHtvbmNlOiEwfSk6ZS5jcmVhdGVJdGVtcygpfW9uU3RvcmVSZWNvcmRDaGFuZ2UoZSl7bGV0IHQ9dGhpcyx7aW5kZXg6c309ZTtzPi0xJiYodC52ZG9tLmNuW3NdPXQuY3JlYXRlSXRlbShlLnJlY29yZCxzKSx0LnVwZGF0ZSgpKX1vblN0b3JlU29ydChlKXt0aGlzLmNyZWF0ZUl0ZW1zKCl9c2VsZWN0SXRlbShlKXtsZXQgdD10aGlzO3QuZGlzYWJsZVNlbGVjdGlvbnx8KE5lby5pc051bWJlcihlKT90LnNlbGVjdGlvbk1vZGVsPy5zZWxlY3RBdChlKTplJiZ0LnNlbGVjdGlvbk1vZGVsPy5zZWxlY3RBdCh0LnN0b3JlLmluZGV4T2YoZSkpKX1hc3luYyB1cGRhdGVJdGVtRm9jdXMoZSl7bGV0IHQ9dGhpcyx7bmF2aWdhdGVUbzpzfT1OZW8ubWFpbi5hZGRvbi5OYXZpZ2F0b3I7dC5tb3VudGVkP05lby5pc051bWJlcihlKT9zKHtkYXRhOnQubmF2aWdhdG9yLHRhcmdldDp0LmdldEhlYWRlcmxlc3NJbmRleChlKSx3aW5kb3dJZDp0LndpbmRvd0lkfSk6ZSYmcyh7ZGF0YTp0Lm5hdmlnYXRvcix0YXJnZXQ6dC5nZXRJdGVtSWQoZVt0LmdldEtleVByb3BlcnR5KCldKSx3aW5kb3dJZDp0LndpbmRvd0lkfSk6dC5vbihcIm1vdW50ZWRcIiwoKT0+e2U9PT10LmZvY3VzSW5kZXgmJnQudXBkYXRlSXRlbUZvY3VzKHQuZm9jdXNJbmRleCl9LHQse29uY2U6ITB9KX19KTsiLCJpbXBvcnQgZSBmcm9tXCIuL01vZGVsLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgZXtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uc2VsZWN0aW9uLkxpc3RNb2RlbFwiLG50eXBlOlwic2VsZWN0aW9uLWxpc3Rtb2RlbFwifTtvbktleURvd25Fc2NhcGUoZSl7fW9uS2V5RG93bkRvd24oZSl7fW9uS2V5RG93bkVudGVyKGUpe31vbktleURvd25MZWZ0KGUpe31vbktleURvd25SaWdodChlKXt9b25LZXlEb3duVXAoZSl7fW9uTGlzdENsaWNrKHtjdXJyZW50VGFyZ2V0OmV9KXtsZXQgdCx7dmlldzpufT10aGlzO24uZGlzYWJsZVNlbGVjdGlvbnx8KHQ9bi5zdG9yZS5nZXQobi5nZXRJdGVtUmVjb3JkSWQoZSkpLHQmJnRoaXMuc2VsZWN0KHQpKX1vbkxpc3ROYXZpZ2F0ZShlKXtsZXQgdCx7dmlldzpufT10aGlzLHtzdG9yZTpvfT1uO2UuYWN0aXZlSXRlbSYmKHQ9by5nZXQobi5nZXRJdGVtUmVjb3JkSWQoZS5hY3RpdmVJdGVtKSkpLHR8fCh0PW8uZ2V0QXQoTWF0aC5taW4oZS5hY3RpdmVJbmRleCxvLmdldENvdW50KCkpKSksZS5yZWNvcmQ9dCxuLl9mb2N1c0luZGV4PW8uaW5kZXhPZih0KSxuLmZpcmUoXCJpdGVtTmF2aWdhdGVcIixlKX1yZWdpc3RlcihlKXtzdXBlci5yZWdpc3RlcihlKTtsZXQgdD10aGlzLHtpZDpuLHZpZXc6b309dDtvLmFkZERvbUxpc3RlbmVycyhbe2NsaWNrOnQub25MaXN0Q2xpY2ssc2NvcGU6dCxkZWxlZ2F0ZTplPT57Zm9yKGxldCB0PTAse2xlbmd0aDpufT1lO3Q8bjt0Kyspe2NvbnN0e2NsczpufT1lW3RdO2lmKG4uaW5jbHVkZXMoby5pdGVtQ2xzKSYmIW4uaW5jbHVkZXMoXCJuZW8tZGlzYWJsZWRcIikmJiFuLmluY2x1ZGVzKFwibmVvLWxpc3QtaGVhZGVyXCIpKXJldHVybiB0fX19LHtuZW9uYXZpZ2F0ZTp0Lm9uTGlzdE5hdmlnYXRlLHNjb3BlOnR9XSksby5rZXlzPy5fa2V5cy5wdXNoKHtmbjpcIm9uS2V5RG93bkRvd25cIixrZXk6XCJEb3duXCIsc2NvcGU6bn0se2ZuOlwib25LZXlEb3duRW50ZXJcIixrZXk6XCJFbnRlclwiLHNjb3BlOm59LHtmbjpcIm9uS2V5RG93bkVzY2FwZVwiLGtleTpcIkVzY2FwZVwiLHNjb3BlOm59LHtmbjpcIm9uS2V5RG93bkxlZnRcIixrZXk6XCJMZWZ0XCIsc2NvcGU6bn0se2ZuOlwib25LZXlEb3duUmlnaHRcIixrZXk6XCJSaWdodFwiLHNjb3BlOm59LHtmbjpcIm9uS2V5RG93blVwXCIsa2V5OlwiVXBcIixzY29wZTpufSl9c2VsZWN0QXQoZSl7bGV0e3ZpZXc6dH09dGhpcyxuPXQ/LnN0b3JlLmdldEtleUF0KGUpLG89biYmdC5nZXRJdGVtSWQobik7byYmdGhpcy5zZWxlY3Qobyl9dW5yZWdpc3Rlcigpe2xldHtpZDplLHZpZXc6dH09dGhpczt0LmtleXM/LnJlbW92ZUtleXMoW3tmbjpcIm9uS2V5RG93bkRvd25cIixrZXk6XCJEb3duXCIsc2NvcGU6ZX0se2ZuOlwib25LZXlEb3duRW50ZXJcIixrZXk6XCJFbnRlclwiLHNjb3BlOmV9LHtmbjpcIm9uS2V5RG93bkVzY2FwZVwiLGtleTpcIkVzY2FwZVwiLHNjb3BlOmV9LHtmbjpcIm9uS2V5RG93bkxlZnRcIixrZXk6XCJMZWZ0XCIsc2NvcGU6ZX0se2ZuOlwib25LZXlEb3duUmlnaHRcIixrZXk6XCJSaWdodFwiLHNjb3BlOmV9LHtmbjpcIm9uS2V5RG93blVwXCIsa2V5OlwiVXBcIixzY29wZTplfV0pLHN1cGVyLnVucmVnaXN0ZXIoKX19KTsiLCJpbXBvcnQgZSBmcm9tXCIuL0xpc3RNb2RlbC5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGV7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLnNlbGVjdGlvbi5UcmVlTW9kZWxcIixudHlwZTpcInNlbGVjdGlvbi10cmVlbW9kZWxcIn07b25LZXlEb3duRW50ZXIoZSl7fW9uTmF2S2V5KGUsbyl7fX0pOyIsImltcG9ydCBlIGZyb21cIi4uL2xpc3QvQmFzZS5tanNcIjtpbXBvcnQgdCBmcm9tXCIuLi91dGlsL0NsYXNzU3lzdGVtLm1qc1wiO2ltcG9ydCBsIGZyb21cIi4uL2NvbGxlY3Rpb24vQmFzZS5tanNcIjtpbXBvcnQgbyBmcm9tXCIuLi91dGlsL0FycmF5Lm1qc1wiO2ltcG9ydCBuIGZyb21cIi4uL3NlbGVjdGlvbi9UcmVlTW9kZWwubWpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vdXRpbC9WRG9tLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgZXtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8udHJlZS5MaXN0XCIsbnR5cGU6XCJ0cmVlbGlzdFwiLGJhc2VDbHM6W1wibmVvLXRyZWUtbGlzdFwiXSxkaXNhYmxlU2VsZWN0aW9uOiExLGRyYWdSZXNvcnRhYmxlXzohMSxkcmFnWm9uZTpudWxsLGZvbGRlckNsczpcIm5lby1saXN0LWZvbGRlclwiLHNob3dDb2xsYXBzZUV4cGFuZEFsbEljb25zOiEwLHNvcnRab25lOm51bGwsc29ydFpvbmVDb25maWc6bnVsbCx3cmFwcGVyQ2xzOltdLHNhdmVTY3JvbGxQb3NpdGlvbjohMSxfdmRvbTp7Y246W3t0YWc6XCJ1bFwiLGNsczpbXCJuZW8tbGlzdC1jb250YWluZXJcIixcIm5lby1saXN0XCJdLHRhYkluZGV4Oi0xLGNuOltdfV19fTthZnRlclNldERyYWdnYWJsZShlLHQpe2xldCBsPXRoaXM7ZSYmKGwuZHJhZ1Jlc29ydGFibGU/Y29uc29sZS5lcnJvcihcInRyZWUuTGlzdCBjYW4gYmUgZWl0aGVyIGRyYWdnYWJsZSBvciBkcmFnUmVzb3J0YWJsZSwgbm90IGJvdGguXCIsbC5pZCk6bC5kcmFnWm9uZXx8aW1wb3J0KFwiLi4vZHJhZ2dhYmxlL3RyZWUvRHJhZ1pvbmUubWpzXCIpLnRoZW4oZT0+e2wuZHJhZ1pvbmU9TmVvLmNyZWF0ZSh7bW9kdWxlOmUuZGVmYXVsdCxhcHBOYW1lOmwuYXBwTmFtZSxvd25lcjpsLHdpbmRvd0lkOmwud2luZG93SWQsLi4ubC5kcmFnWm9uZUNvbmZpZ30pfSkpfWFmdGVyU2V0RHJhZ1Jlc29ydGFibGUoZSx0KXtsZXQgbD10aGlzO2UmJihsLmRyYWdnYWJsZT9jb25zb2xlLmVycm9yKFwidHJlZS5MaXN0IGNhbiBiZSBlaXRoZXIgZHJhZ2dhYmxlIG9yIGRyYWdSZXNvcnRhYmxlLCBub3QgYm90aC5cIixsLmlkKTpsLnNvcnRab25lfHxpbXBvcnQoXCIuLi9kcmFnZ2FibGUvdHJlZS9Tb3J0Wm9uZS5tanNcIikudGhlbihlPT57bC5zb3J0Wm9uZT1OZW8uY3JlYXRlKHttb2R1bGU6ZS5kZWZhdWx0LGFwcE5hbWU6bC5hcHBOYW1lLGJvdW5kYXJ5Q29udGFpbmVySWQ6bC5pZCxvd25lcjpsLHdpbmRvd0lkOmwud2luZG93SWQsLi4ubC5zb3J0Wm9uZUNvbmZpZ30pfSkpfWJlZm9yZVNldFNlbGVjdGlvbk1vZGVsKGUsbCl7cmV0dXJuIGw/LmRlc3Ryb3koKSx0LmJlZm9yZVNldEluc3RhbmNlKGUsbil9YmVmb3JlU2V0U3RvcmUoZSx0KXtyZXR1cm4gZXx8KGU9TmVvLmNyZWF0ZShsLHtrZXlQcm9wZXJ0eTpcImlkXCJ9KSksc3VwZXIuYmVmb3JlU2V0U3RvcmUoZSx0KX1jb2xsYXBzZUFsbChlPSExKXtsZXQgdCxsLG4scixpPXRoaXMsZD0hMTtpLnN0b3JlLmZvckVhY2goZT0+e2UuaXNMZWFmfHwobD1pLmdldFZkb21DaGlsZChpLmdldEl0ZW1JZChlLmlkKSxpLnZkb20pLGwuY2xzLmluY2x1ZGVzKFwibmVvLWZvbGRlci1vcGVuXCIpJiYoby5yZW1vdmUobC5jbHMsXCJuZW8tZm9sZGVyLW9wZW5cIiksKHtwYXJlbnROb2RlOm4saW5kZXg6cn09cy5maW5kKGkudmRvbSxsLmlkKSksdD1uLmNuW3IrMV0sXCJ1bFwiPT09dD8udGFnJiYodC5yZW1vdmVEb209ITApLGQ9ITApKX0pLGQmJiFlJiZpLnVwZGF0ZSgpfWNyZWF0ZUl0ZW0oZSl7bGV0IHQsbD10aGlzLHtmb2xkZXJDbHM6byxpdGVtQ2xzOm59PWwscz1bbl0scj1bbitcIi1jb250ZW50XCJdLGk9bC5nZXRLZXlQcm9wZXJ0eSgpO3JldHVybiBlLmljb25DbHMmJihBcnJheS5pc0FycmF5KGUuaWNvbkNscyk/ci5wdXNoKC4uLmUuaWNvbkNscyk6ci5wdXNoKGUuaWNvbkNscykpLGUuaXNMZWFmP3MucHVzaChuKyhlLnNpbmdsZXRvbj9cIi1sZWFmLXNpbmdsZXRvblwiOlwiLWxlYWZcIikpOihzLnB1c2gobyksZS5jb2xsYXBzZWR8fHMucHVzaChcIm5lby1mb2xkZXItb3BlblwiKSksdD17dGFnOlwibGlcIixjbHM6cyxpZDpsLmdldEl0ZW1JZChlW2ldKSxsZXZlbDplLmxldmVsLGNuOlt7dGFnOlwic3BhblwiLGNsczpyLGh0bWw6ZVtsLmRpc3BsYXlGaWVsZF0sc3R5bGU6e3BvaW50ZXJFdmVudHM6XCJub25lXCJ9fV0sc3R5bGU6e2Rpc3BsYXk6ZS5oaWRkZW4/XCJub25lXCI6XCJmbGV4XCIscGFkZGluZzpcIjEwcHhcIixwb3NpdGlvbjplLmlzTGVhZnx8ZS5jb2xsYXBzZWQ/bnVsbDpcInN0aWNreVwiLHRvcDplLmlzTGVhZnx8ZS5jb2xsYXBzZWQ/bnVsbDozOCplLmxldmVsK1wicHhcIix6SW5kZXg6ZS5pc0xlYWY/MToxZTQrZS5sZXZlbH19LGwuaXRlbXNGb2N1c2FibGUmJih0LnRhYkluZGV4PS0xKSx0fWNyZWF0ZUl0ZW1MZXZlbChlLHQsbCxvPSExKXtsZXQgbixzPXRoaXMscj1zLnN0b3JlLmZpbmQoXCJwYXJlbnRJZFwiLGUpO3JldHVybiByLmxlbmd0aD4wJiYodC5jbnx8KHQuY249W10pLG51bGwhPT1lPyh0LmNuLnB1c2goe3RhZzpcInVsXCIsY2xzOltcIm5lby1saXN0XCJdLGNuOltdLHJlbW92ZURvbTpvLHN0eWxlOntwYWRkaW5nTGVmdDpcIjE1cHhcIn19KSxuPXQuY25bdC5jbi5sZW5ndGgtMV0pOm49dCxyLmZvckVhY2goZT0+e2UubGV2ZWw9bCxuLmNuLnB1c2gocy5jcmVhdGVJdGVtKGUpKSxzLmNyZWF0ZUl0ZW1MZXZlbChlLmlkLG4sbCsxLGUuaGlkZGVufHxvfHxlLmNvbGxhcHNlZCl9KSksdH1jcmVhdGVJdGVtcygpe2xldCBlPXRoaXMsdD1lLmdldExpc3RJdGVtc1Jvb3QoKTt0LmNuPVtdLGUuY3JlYXRlSXRlbUxldmVsKG51bGwsdCwwKSxlLnVwZGF0ZSgpfWV4cGFuZEFsbChlPSExKXtsZXQgdCxsLG4scixpPXRoaXMsZD0hMTtpLnN0b3JlLmZvckVhY2goZT0+e2UuaXNMZWFmfHwobD1pLmdldFZkb21DaGlsZChpLmdldEl0ZW1JZChlLmlkKSxpLnZkb20pLGwuY2xzLmluY2x1ZGVzKFwibmVvLWZvbGRlci1vcGVuXCIpfHwoby5hZGQobC5jbHMsXCJuZW8tZm9sZGVyLW9wZW5cIiksKHtwYXJlbnROb2RlOm4saW5kZXg6cn09cy5maW5kKGkudmRvbSxsLmlkKSksdD1uLmNuW3IrMV0sXCJ1bFwiPT09dD8udGFnJiYodC5yZW1vdmVEb209ITEpLGQ9ITApKX0pLGQmJiFlJiZpLnVwZGF0ZSgpfWV4cGFuZFBhcmVudHMoZSl7bGV0IHQsbCxuLHIsaSxkPXRoaXMsYT1kLnN0b3JlLmdldChlKSxjPSExO2lmKGEpZm9yKG49YS5wYXJlbnRJZDtuOylsPWQuZ2V0VmRvbUNoaWxkKGQuZ2V0SXRlbUlkKG4pKSxsJiYhbC5jbHMuaW5jbHVkZXMoXCJuZW8tZm9sZGVyLW9wZW5cIikmJihvLmFkZChsLmNscyxcIm5lby1mb2xkZXItb3BlblwiKSwoe3BhcmVudE5vZGU6cixpbmRleDppfT1zLmZpbmQoZC52ZG9tLGwuaWQpKSx0PXIuY25baSsxXSxcInVsXCI9PT10Py50YWcmJih0LnJlbW92ZURvbT0hMSksYz0hMCksYT1kLnN0b3JlLmdldChuKSxuPWE/YS5wYXJlbnRJZDpudWxsO2MmJmQudXBkYXRlKCl9ZmlsdGVyKGUsdCxsLG89ITEpe2xldCBuLHMscixpPXRoaXMsZD0hMCxhPW5ldyBSZWdFeHAodCxcImdpXCIpO3JldHVybiB0fHwodD1cIlwiKSxpLnN0b3JlLmZvckVhY2goYz0+e2MucGFyZW50SWQ9PT1sJiYocz0hMSxyPWkuZ2V0VmRvbUNoaWxkKGkuZ2V0SXRlbUlkKGMuaWQpLGkudmRvbSksci5jblswXS5odG1sPWNbZV0ucmVwbGFjZShhLGU9PihzPSEwLGA8c3BhbiBjbGFzcz1cIm5lby1oaWdobGlnaHQtc2VhcmNoXCI+JHtlfTwvc3Bhbj5gKSksbj0hIWMuaXNMZWFmfHxpLmZpbHRlcihlLHQsYy5pZCxzfHxvKSwoc3x8b3x8ITE9PT1ufHxcIlwiPT09dCkmJihkPSExKSxyLnN0eWxlLmRpc3BsYXk9ZD9cIm5vbmVcIjpcImxpc3QtaXRlbVwiKX0pLG51bGw9PT1sJiYoaS5leHBhbmRBbGwoITApLGkudXBkYXRlKCkpLGR9c2Nyb2xsVG9JdGVtKGUpe05lby5tYWluLkRvbUFjY2Vzcy5zY3JvbGxJbnRvVmlldyh7aWQ6dGhpcy5nZXRJdGVtSWQoZSksd2luZG93SWQ6dGhpcy53aW5kb3dJZH0pfWdldExpc3RJdGVtc1Jvb3QoKXtyZXR1cm4gdGhpcy52ZG9tLmNuW3RoaXMuc2hvd0NvbGxhcHNlRXhwYW5kQWxsSWNvbnM/MjowXX1vbkNsaWNrKGUpe2UudGFyZ2V0LmNscy5pbmNsdWRlcyhcIm5lby10cmVlbGlzdC1tZW51LWl0ZW1cIik/dGhpcy5vbk1lbnVJdGVtQ2xpY2soZS50YXJnZXQuY2xzKTpzdXBlci5vbkNsaWNrKGUpfW9uQ29uc3RydWN0ZWQoKXtzdXBlci5vbkNvbnN0cnVjdGVkKCk7bGV0IGU9dGhpcztlLnNob3dDb2xsYXBzZUV4cGFuZEFsbEljb25zJiYoZS52ZG9tLmNuLnVuc2hpZnQoe2NsczpbXCJuZW8tdHJlZWxpc3QtbWVudS1pdGVtXCIsXCJuZW8tdHJlZWxpc3QtY29sbGFwc2UtYWxsLWljb25cIl0sY246W3t0YWc6XCJzcGFuXCIsY2xzOltcIm5lby10cmVlbGlzdC1tZW51LWl0ZW0tY29udGVudFwiXX1dfSx7Y2xzOltcIm5lby10cmVlbGlzdC1tZW51LWl0ZW1cIixcIm5lby10cmVlbGlzdC1leHBhbmQtYWxsLWljb25cIl0sY246W3t0YWc6XCJzcGFuXCIsY2xzOltcIm5lby10cmVlbGlzdC1tZW51LWl0ZW0tY29udGVudFwiXX1dfSksZS51cGRhdGUoKSl9b25JdGVtQ2xpY2soZSx0KXtsZXQgbCxuLHIsaSxkPXRoaXMse2l0ZW1zOmF9PWQuc3RvcmUsYz0wLHA9YS5sZW5ndGgsbT1kLmdldEtleVByb3BlcnR5KCksdT10LnBhdGgubWFwKGU9PmUuaWQpO2Zvcig7YzxwO2MrKylpZihyPWFbY10saT1kLmdldEl0ZW1JZChyW21dKSx1LmluY2x1ZGVzKGkpKXtuPXIsbD1kLmdldFZkb21DaGlsZChpKTticmVha31pZihsKXtpZihsLmNscz8uaW5jbHVkZXMoZC5mb2xkZXJDbHMpKXtvLnRvZ2dsZShsLmNscyxcIm5lby1mb2xkZXItb3BlblwiKTtsZXQgZT1sLmNscy5pbmNsdWRlcyhcIm5lby1mb2xkZXItb3BlblwiKSx7cGFyZW50Tm9kZTp0LGluZGV4Om59PXMuZmluZChkLnZkb20sbC5pZCkscj10LmNuW24rMV07bC5zdHlsZS5wb3NpdGlvbj1lP1wic3RpY2t5XCI6bnVsbCxsLnN0eWxlLnRvcD1lPzM4KmwubGV2ZWwrXCJweFwiOm51bGwsXCJ1bFwiPT09cj8udGFnJiYoci5yZW1vdmVEb209IWUpLGQudXBkYXRlKCl9ZWxzZSBkLm9uTGVhZkl0ZW1DbGljayhuKSxkLmZpcmUoXCJsZWFmSXRlbUNsaWNrXCIsbik7c3VwZXIub25JdGVtQ2xpY2soZSx0KX19b25MZWFmSXRlbUNsaWNrKGUpe31vbk1lbnVJdGVtQ2xpY2soZSl7ZS5pbmNsdWRlcyhcIm5lby10cmVlbGlzdC1jb2xsYXBzZS1hbGwtaWNvblwiKT90aGlzLmNvbGxhcHNlQWxsKCk6dGhpcy5leHBhbmRBbGwoKX1vblNjcm9sbENhcHR1cmUoZSl7c3VwZXIub25TY3JvbGxDYXB0dXJlKGUpO2xldCB0PXRoaXM7aWYodC5zYXZlU2Nyb2xsUG9zaXRpb24pe2xldCBsPWUuc2Nyb2xsVG9wLG49ITEscz0wLHI9e307Y29uc3QgaT1lPT57aWYoIWUuY24pcmV0dXJuO2xldCBkPSEwO2UuY24uZm9yRWFjaChlPT57aWYoXCJsaVwiPT09ZS50YWcpe2lmKGUuY2xzLmluY2x1ZGVzKHQuZm9sZGVyQ2xzKSl7bGV0IHQ9ZS5zdHlsZS50b3A7aWYodCl7aWYobD4wJiZzLWw8PXBhcnNlSW50KHQpKXtsZXQgdD1lLmxldmVsfHwwO3JbdF0/Pz1bXSxyW3RdLnB1c2goZSl9ZWxzZSBlLmNscy5pbmNsdWRlcyhcIm5lby1zdHVja1wiKSYmKG8ucmVtb3ZlKGUuY2xzLFwibmVvLXN0dWNrXCIpLG49ITApfWQ9ZS5jbHMuaW5jbHVkZXMoXCJuZW8tZm9sZGVyLW9wZW5cIil9ZWxzZSBkPSEwO1wibm9uZVwiPT09ZS5zdHlsZT8uZGlzcGxheXx8ZS5yZW1vdmVEb218fChzKz01MSl9ZWxzZVwidWxcIj09PWUudGFnJiZkJiYhZS5yZW1vdmVEb20mJmkoZSl9KX07dC52ZG9tLmNuJiZ0LnZkb20uY25bMF0mJmkodC52ZG9tLmNuWzBdKSxPYmplY3QudmFsdWVzKHIpLmZvckVhY2goZT0+e2xldCB0PWVbZS5sZW5ndGgtMV07ZS5mb3JFYWNoKGU9PntsZXQgbD1lPT09dDtsIT09ZS5jbHMuaW5jbHVkZXMoXCJuZW8tc3R1Y2tcIikmJihvLnRvZ2dsZShlLmNscyxcIm5lby1zdHVja1wiLGwpLG49ITApfSl9KSxuJiZ0LnVwZGF0ZSgpfX1vblN0b3JlUmVjb3JkQ2hhbmdlKGUpe2xldCB0PXRoaXMse3JlY29yZDpsfT1lLHtpbmRleDpvLHBhcmVudE5vZGU6bn09cy5maW5kKHQudmRvbSx0LmdldEl0ZW1JZChsLmlkKSk7bi5jbltvXT10LmNyZWF0ZUl0ZW0obCksdC51cGRhdGUoKX19KTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9