"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["vendors-dist_esm_examples_stateProvider_multiWindow_app_mjs"],{

/***/ "./dist/esm/examples/stateProvider/multiWindow/Viewport.mjs"
/*!******************************************************************!*\
  !*** ./dist/esm/examples/stateProvider/multiWindow/Viewport.mjs ***!
  \******************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_container_Viewport_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../src/container/Viewport.mjs */ "./dist/esm/src/container/Viewport.mjs");
/* harmony import */ var _ViewportController_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ViewportController.mjs */ "./dist/esm/examples/stateProvider/multiWindow/ViewportController.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _src_container_Viewport_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.examples.stateProvider.multiWindow.Viewport",controller:_ViewportController_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],style:{padding:"20px"}}}));

/***/ },

/***/ "./dist/esm/examples/stateProvider/multiWindow/ViewportController.mjs"
/*!****************************************************************************!*\
  !*** ./dist/esm/examples/stateProvider/multiWindow/ViewportController.mjs ***!
  \****************************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_controller_Component_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../src/controller/Component.mjs */ "./dist/esm/src/controller/Component.mjs");
/* harmony import */ var _src_util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../src/util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _src_state_Provider_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../src/state/Provider.mjs */ "./dist/esm/src/state/Provider.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _src_controller_Component_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{connectedApps=[];mainStateProvider=null;static config={className:"Neo.examples.stateProvider.multiWindow.ViewportController"};construct(e){super.construct(e);let o=this;Neo.currentWorker.on({connect:o.onAppConnect,disconnect:o.onAppDisconnect,scope:o})}onAppConnect(e){let t,n,r=this,s=e.appName;console.log("onAppConnect",e),_src_util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].add(r.connectedApps,s),t=r.mainStateProvider?{parent:r.mainStateProvider}:{data:{user:{firstname:"Tobias",lastname:"Uhlig"}}},__webpack_require__.e(/*! import() */ "dist_esm_examples_stateProvider_multiWindow_MainContainer_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ../multiWindow/MainContainer.mjs */ "./dist/esm/examples/stateProvider/multiWindow/MainContainer.mjs")).then(o=>{n=Neo.apps[e.windowId].mainView.add({module:o.default,stateProvider:t}),r.mainStateProvider||(r.mainStateProvider=n.stateProvider)})}onAppDisconnect(e){let t=e.appName;_src_util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].remove(this.connectedApps,t),console.log("onAppDisconnect",e)}}));

/***/ },

/***/ "./dist/esm/examples/stateProvider/multiWindow/app.mjs"
/*!*************************************************************!*\
  !*** ./dist/esm/examples/stateProvider/multiWindow/app.mjs ***!
  \*************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   onStart: () => (/* binding */ onStart)
/* harmony export */ });
/* harmony import */ var _Viewport_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Viewport.mjs */ "./dist/esm/examples/stateProvider/multiWindow/Viewport.mjs");
const onStart=()=>Neo.app({mainView:_Viewport_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],name:"Neo.examples.stateProvider.multiWindow"});

/***/ },

/***/ "./dist/esm/src/container/Viewport.mjs"
/*!*********************************************!*\
  !*** ./dist/esm/src/container/Viewport.mjs ***!
  \*********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./dist/esm/src/container/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.container.Viewport",ntype:"viewport",applyBodyCls:!0,autoMount:!0,baseCls:["neo-viewport"],monitorSize_:!1};afterSetMounted(e,o){super.afterSetMounted(e,o);let s=this;e&&s.monitorSize&&s.addDomListeners([{resize:s.onDomResize,scope:s}])}onConstructed(){super.onConstructed();let{windowId:e}=this;this.applyBodyCls&&Neo.main.DomAccess.applyBodyCls({cls:["neo-body-viewport"],windowId:e})}onDomResize(e){this.fire("resize",e)}}));

/***/ },

/***/ "./dist/esm/src/controller/Base.mjs"
/*!******************************************!*\
  !*** ./dist/esm/src/controller/Base.mjs ***!
  \******************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _util_HashHistory_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/HashHistory.mjs */ "./dist/esm/src/util/HashHistory.mjs");
const o=/\//g,n=/{(\*|\.\.\.)?([^}]+)}/,s=/{(\*|\.\.\.)?([^}]+)}/g;/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.controller.Base",ntype:"controller",defaultHash:null,defaultRoute:null,handleRoutes:{},routes_:{}};construct(t){super.construct(t),_util_HashHistory_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].on("change",this.onHashChange,this)}afterSetRoutes(t,e){let o=this,n=Object.keys(t);o.routes=n.sort(o.#t).reduce((e,o)=>(e[o]=t[o],e),{}),o.handleRoutes={},n.forEach(e=>{"default"===e.toLowerCase()?o.defaultRoute=t[e]:o.handleRoutes[e]=new RegExp("^"+e.replace(s,(t,e,o)=>e||o.startsWith("*")?"(.*)":"([\\w-.]+)")+"$")})}destroy(...t){_util_HashHistory_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].un("change",this.onHashChange,this),super.destroy(...t)}async initAsync(){await super.initAsync();let t=this,{defaultHash:o,windowId:n}=t,s=_util_HashHistory_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].first(n);s?s.windowId===n&&await t.onHashChange(s,null):!Neo.config.hash&&o&&Neo.Main.setRoute({value:o,windowId:n})}async onHashChange(t,e){if(t.windowId!==this.windowId)return;let l=this,{handleRoutes:a,routes:u}=l,h=Object.keys(a),r=null,c=null,i=null;for(let e=0;e<h.length;e++){const l=h[e],u=t.hashString.match(a[l]);if(u){const t=l.match(s),e=u.splice(1,u.length-1),a={};if(t)for(let o=0;o<t.length;o++){const s=t[o].match(n);if(s){a[s[2]]=e[o]}}(!r||u[0].length>r[0].length||u[0].length===r[0].length&&(l.match(o)||[]).length>(c.match(o)||[]).length)&&(r=u,c=l,i=a)}}if(r){const o=u[c];let n=null,s=null;Neo.isString(o)?n=o:Neo.isObject(o)&&(n=o.handler,s=o.preHandler);let a=!0;t.capturedRoute=c,s&&(a=await(l[s]?.call(l,i,t,e))),a&&await(l[n]?.call(l,i,t,e))}else l.defaultRoute?(t.capturedRoute=l.defaultRoute,l[l.defaultRoute]?.(t,e)):(t.capturedRoute=null,l.onNoRouteFound(t,e))}onNoRouteFound(t,e){}#t(t,e){return(t.match(o)||[]).length-(e.match(o)||[]).length}}));

/***/ },

/***/ "./dist/esm/src/controller/Component.mjs"
/*!***********************************************!*\
  !*** ./dist/esm/src/controller/Component.mjs ***!
  \***********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./dist/esm/src/controller/Base.mjs");
/* harmony import */ var _util_Function_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Function.mjs */ "./dist/esm/src/util/Function.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.controller.Component",ntype:"component-controller",component:null,parent_:null,references:null,windowId:null};construct(e){super.construct(e);let t=this,{component:n}=t;t.references={},n.isConstructed?t.onComponentConstructed():n.on("constructed",()=>{t.onComponentConstructed()},t,{once:!0})}beforeSetParent(e,t){return e||this.getParent()}getHandlerScope(e,n){let r,o=this,{parent:s}=o;return!(!n||(r=(0,_util_Function_mjs__WEBPACK_IMPORTED_MODULE_1__.resolveCallback)(e,n),!r.fn))||(Neo.isFunction(o[e])?o:s?.getHandlerScope(e)||null)}getParent(){let{parent:e}=this;return e||(this.component.parent?.getController()||null)}getReference(e){let t=this,n=t.references[e];return n||(n=t.component.down({reference:e}),n&&(t.references[e]=n)),n||null}getState(...e){return this.getStateProvider().getData(...e)}getStateProvider(e=!1){let{component:t}=this;return e?t.stateProvider:t.getStateProvider()}getStore(e){return this.getStateProvider().getStore(e)}onComponentConstructed(){}removeReference(e){let t,{references:n}=this;for(t in n)if(e===n[t]){delete n[t];break}this.getParent()?.removeReference(e)}setState(...e){this.getStateProvider().setData(...e)}}));

/***/ },

/***/ "./dist/esm/src/core/Effect.mjs"
/*!**************************************!*\
  !*** ./dist/esm/src/core/Effect.mjs ***!
  \**************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Config_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Config.mjs */ "./dist/esm/src/core/Config.mjs");
/* harmony import */ var _EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EffectManager.mjs */ "./dist/esm/src/core/EffectManager.mjs");
/* harmony import */ var _IdGenerator_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./IdGenerator.mjs */ "./dist/esm/src/core/IdGenerator.mjs");
class i{componentId=null;dependencies=new Map;_fn=null;id=_IdGenerator_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getId("effect");isDestroyed=!1;isRunning=null;get fn(){return this._fn}set fn(e){this._fn=e,this.run()}constructor(n,s={}){const i=this,{fn:t,componentId:r,lazy:c=!1,subscriber:o}="function"==typeof n?{...s,fn:n}:n||{};r&&(i.componentId=r),i.isRunning=new _Config_mjs__WEBPACK_IMPORTED_MODULE_0__["default"](!1),o&&[].concat(o).forEach(e=>i.isRunning.subscribe(e)),c?i._fn=t:i.fn=t}destroy(){const e=this;e.dependencies.forEach(e=>e()),e.dependencies.clear(),e.isDestroyed=!0}run(){const e=this;if(e.isDestroyed)return;_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].pauseTracking();const s=e.isRunning.get();if(_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].resumeTracking(),!s)if(_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].isPaused())_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].queue(e);else{_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].pauseTracking(),e.isRunning.set(!0),_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].resumeTracking(),e.dependencies.forEach(e=>e()),e.dependencies.clear(),_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].push(e);try{e.fn()}finally{_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].pop(),_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].pauseTracking(),e.isRunning.set(!1),_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].resumeTracking()}}}addDependency(e){const n=this;if(!n.dependencies.has(e)){const s=e.subscribe({id:n.id,fn:n.run.bind(n)});n.dependencies.set(e,s)}}}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.gatekeep(i,"Neo.core.Effect",()=>{Neo.effect=(e,n)=>new i(e,n)}));

/***/ },

/***/ "./dist/esm/src/state/Provider.mjs"
/*!*****************************************!*\
  !*** ./dist/esm/src/state/Provider.mjs ***!
  \*****************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/ClassSystem.mjs */ "./dist/esm/src/util/ClassSystem.mjs");
/* harmony import */ var _core_Config_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Config.mjs */ "./dist/esm/src/core/Config.mjs");
/* harmony import */ var _core_Effect_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Effect.mjs */ "./dist/esm/src/core/Effect.mjs");
/* harmony import */ var _core_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/EffectManager.mjs */ "./dist/esm/src/core/EffectManager.mjs");
/* harmony import */ var _core_Observable_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/Observable.mjs */ "./dist/esm/src/core/Observable.mjs");
/* harmony import */ var _createHierarchicalDataProxy_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./createHierarchicalDataProxy.mjs */ "./dist/esm/src/state/createHierarchicalDataProxy.mjs");
/* harmony import */ var _core_ConfigSymbols_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/ConfigSymbols.mjs */ "./dist/esm/src/core/ConfigSymbols.mjs");
const c=Symbol.for("twoWayBinding");/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static observable=!0;static config={className:"Neo.state.Provider",ntype:"state-provider",component:null,data_:{[_core_ConfigSymbols_mjs__WEBPACK_IMPORTED_MODULE_7__.isDescriptor]:!0,merge:"deep",value:{}},formulas_:null,parent_:null,stores_:null,windowId:null};#t=new Map;#e={};#r=new Map;construct(t){Neo.isUsingStateProviders=!0,super.construct(t)}adjustValue(t){return t instanceof Date?new Date(t.valueOf()):t}afterSetData(t,e){t&&this.processDataObject(t)}afterSetFormulas(t,e){const r=this;r.#r.forEach(t=>t.destroy()),r.#r.clear(),t&&Object.entries(t).forEach(([t,e])=>{const a=new _core_Effect_mjs__WEBPACK_IMPORTED_MODULE_3__["default"]({fn:()=>{const s=r.getHierarchyData(),a=e(s);r.setData(t,a)},lazy:!0});r.#r.set(t,a)})}beforeGetData(t){return this.getHierarchyData()}beforeSetStores(t,r){if(t){let r=this;Object.entries(t).forEach(([s,a])=>{Object.entries(a.listeners||{}).forEach(([t,e])=>{r.bindCallback(e,t,r,a.listeners)}),t[s]=_util_ClassSystem_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].beforeSetInstance(a)})}return t}createBinding(t,e,r){const a=this,o=new _core_Effect_mjs__WEBPACK_IMPORTED_MODULE_3__["default"](()=>{const s=Neo.get(t);if(s&&!s.isDestroyed){const t=a.getHierarchyData(),o=Neo.isFunction(r)?r.call(a,t):t[r];s._skipTwoWayPush=e,s[e]=o,delete s._skipTwoWayPush}});return a.#t.set(t,o),a.observeConfig(t,"isDestroying",e=>{e&&(o.destroy(),a.#t.delete(t))}),o}createBindings(t){let e=this,r=!1;Object.entries(t.bind||{}).forEach(([s,a])=>{let o=a;Neo.isObject(a)&&(a.twoWay&&(r=!0),o=a.key),e.isStoreValue(o)?e.resolveStore(t,s,o.substring(7)):e.createBinding(t.id,s,o,a.twoWay)}),r&&(t[c]=!0)}destroy(){const t=this;t.#r.forEach(t=>t.destroy()),t.#r.clear(),t.#t.forEach(t=>t.destroy()),t.#t.clear(),super.destroy()}getController(t){return this.component.getController(t)}getData(t){const e=this.getOwnerOfDataProperty(t);if(e)return e.owner.getDataConfig(e.propertyName).get()}getDataConfig(t){return this.#e[t]||null}getHierarchyData(){return (0,_createHierarchicalDataProxy_mjs__WEBPACK_IMPORTED_MODULE_6__.createHierarchicalDataProxy)(this)}getOwnerOfDataProperty(t){let e=this;if(e.#e[t])return{owner:e,propertyName:t};const r=e.getParent();return r?r.getOwnerOfDataProperty(t):null}getParent(){let t=this;return t._parent?t._parent:t.component&&t.component.parent?.getStateProvider()||null}getStore(t,e=this){let r,{stores:s}=this;return s?.hasOwnProperty(t)?s[t]:(r=this.getParent(),r||console.error(`store '${t}' not found inside this stateProvider or parents.`,e),r.getStore(t,e))}hasNestedDataStartingWith(t){const e=`${t}.`;return!!Object.keys(this.#e).some(t=>t.startsWith(e))||(this.getParent()?.hasNestedDataStartingWith(t)||!1)}getTopLevelDataKeys(t){const e=new Set,r=t?`${t}.`:"";for(const t in this.#e)if(t.startsWith(r)){const s=t.substring(r.length).split(".")[0];s&&e.add(s)}return Array.from(e)}internalSetData(t,e,r){const s=this;if(Neo.isObject(t))return void Object.entries(t).forEach(([t,e])=>{s.internalSetData(t,e,r)});if("Object"===Neo.typeOf(e))return void Object.entries(e).forEach(([e,a])=>{const o=`${t}.${e}`;s.internalSetData(o,a,r)});const a=s.getOwnerOfDataProperty(t),o=a?a.owner:r||s;s.#s(o,t,e,null);let n=t,i=e;for(;n.includes(".");){const t=n.split(".").pop();n=n.substring(0,n.lastIndexOf("."));const e=o.getDataConfig(n);if(e){const r=e.get();if(!Neo.isObject(r))break;{const s={...r,[t]:i};e.set(s),i=s}}else{const e={[t]:i};s.#s(o,n,e),i=e}}}isStoreValue(t){return Neo.isString(t)&&t.startsWith("stores.")}onConstructed(){super.onConstructed(),this.#r.forEach(t=>t.run())}onDataPropertyChange(t,e,r){}processDataObject(t,e=""){let s=this;Object.entries(t).forEach(([t,a])=>{const o=e?`${e}.${t}`:t;a=s.adjustValue(a),s.#e[o]?s.#e[o].set(a):s.#e[o]=new _core_Config_mjs__WEBPACK_IMPORTED_MODULE_2__["default"](a),"Object"===Neo.typeOf(a)&&s.processDataObject(a,o)})}resolveStore(t,e,r){let s=this.getStore(r);t[e]!==s&&(t[e]=s)}#s(t,e,s,a){s=t.adjustValue(s);let o=t.getDataConfig(e),n=!0,i=a;o?(i=o.get(),n=o.set(s)):(o=new _core_Config_mjs__WEBPACK_IMPORTED_MODULE_2__["default"](s),t.#e[e]=o,t.#t.forEach(t=>t.run())),n&&t.onDataPropertyChange(e,s,i)}setData(t,e){_core_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].pause();try{this.internalSetData(t,e,this)}finally{_core_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].resume()}}setDataAtSameLevel(t,e){_core_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].pause();try{this.internalSetData(t,e)}finally{_core_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].resume()}}toJSON(){const t=this,e={};return t.stores&&Object.entries(t.stores).forEach(([t,r])=>{e[t]=r.toJSON()}),{...super.toJSON(),component:t.component?.id,data:t.data,parent:t.parent?.id,stores:e,windowId:t.windowId}}}));

/***/ },

/***/ "./dist/esm/src/state/createHierarchicalDataProxy.mjs"
/*!************************************************************!*\
  !*** ./dist/esm/src/state/createHierarchicalDataProxy.mjs ***!
  \************************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createHierarchicalDataProxy: () => (/* binding */ createHierarchicalDataProxy)
/* harmony export */ });
/* harmony import */ var _core_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/EffectManager.mjs */ "./dist/esm/src/core/EffectManager.mjs");
function t(r,o){return new Proxy({},{get(n,a){if("symbol"==typeof a||"__REFADR__"===a||"inspect"===a||"then"===a)return Reflect.get(n,a);if("string"!=typeof a&&"number"!=typeof a)return;if(""===o&&"stores"===a)return new Proxy({},{get:(e,t)=>"symbol"==typeof t||"__REFADR__"===t?Reflect.get(e,t):r.getStore(t)});const f=o?`${o}.${a}`:a,i=r.getOwnerOfDataProperty(f);if(i){const{owner:o,propertyName:n}=i,a=o.getDataConfig(n);if(a){_core_EffectManager_mjs__WEBPACK_IMPORTED_MODULE_0__["default"].getActiveEffect()?.addDependency(a);const o=a.get();return Neo.isObject(o)?t(r,f):o}}return r.hasNestedDataStartingWith(f)?t(r,f):void 0},set(e,t,n){if("symbol"==typeof t||"__REFADR__"===t)return Reflect.set(e,t,n);const a=o?`${o}.${t}`:t,f=r.getOwnerOfDataProperty(a);let i;return i=f?f.owner:r,i.setData(a,n),!0},ownKeys:e=>r.getTopLevelDataKeys(o),getOwnPropertyDescriptor(e,n){const a=o?`${o}.${n}`:n,f=r.getOwnerOfDataProperty(a);if(f){const e=f.owner.getDataConfig(f.propertyName);if(e){const o=e.get();return{value:Neo.isObject(o)?t(r,a):o,writable:!0,enumerable:!0,configurable:!0}}}}})}function createHierarchicalDataProxy(e){return t(e,"")}

/***/ },

/***/ "./dist/esm/src/util/HashHistory.mjs"
/*!*******************************************!*\
  !*** ./dist/esm/src/util/HashHistory.mjs ***!
  \*******************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _core_Observable_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Observable.mjs */ "./dist/esm/src/core/Observable.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static observable=!0;static config={className:"Neo.util.HashHistory",maxItems:50,singleton:!0,stacks:{}};first(t){return this.getAt(0,t)}getAt(t,e){return this.getStack(e)[t]}getCount(t){return this.getStack(t).length}getStack(t){let{stacks:e}=this,s=t||Object.keys(e)[0],r=e[s];return r||(e[s]=r=[]),r}push(t){let e=this,{windowId:s}=t,r=e.getStack(s);r[0]?.hashString!==t.hashString&&(delete t[s],r.unshift(t),r.length>e.maxItems&&r.pop(),e.fire("change",t,r[1]||null))}second(t){return this.getAt(1,t)}}));

/***/ }

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC92ZW5kb3JzLWRpc3RfZXNtX2V4YW1wbGVzX3N0YXRlUHJvdmlkZXJfbXVsdGlXaW5kb3dfYXBwX21qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBMkYsaUVBQWUsNkJBQTZCLG1FQUFDLENBQUMsZUFBZSx1RUFBdUUsK0RBQUMsUUFBUSxpQkFBaUIsQ0FBQyxFOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0EzRyxpRUFBZSw2QkFBNkIscUVBQUMsQ0FBQyxpQkFBaUIsdUJBQXVCLGVBQWUsdUVBQXVFLGFBQWEsbUJBQW1CLFdBQVcsc0JBQXNCLDREQUE0RCxFQUFFLGdCQUFnQiwyQkFBMkIsOEJBQThCLDJEQUFDLCtDQUErQywyQkFBMkIsRUFBRSxNQUFNLE1BQU0sc0NBQXNDLENBQUMscVFBQTBDLFVBQVUscUNBQXFDLGlDQUFpQyw2REFBNkQsRUFBRSxtQkFBbUIsZ0JBQWdCLDJEQUFDLGdFQUFnRSxDQUFDLEU7Ozs7Ozs7Ozs7Ozs7OztBQ0E1M0IsMkJBQTJCLFNBQVMscURBQUMsK0NBQStDLEU7Ozs7Ozs7Ozs7Ozs7OztBQ0EvRixpRUFBZSw2QkFBNkIsaURBQUMsQ0FBQyxlQUFlLDJIQUEySCxxQkFBcUIsMkJBQTJCLFdBQVcsc0NBQXNDLDZCQUE2QixHQUFHLGdCQUFnQixzQkFBc0IsSUFBSSxXQUFXLE1BQU0sb0RBQW9ELHFDQUFxQyxFQUFFLGVBQWUsdUJBQXVCLENBQUMsRTs7Ozs7Ozs7Ozs7Ozs7OztBQ0F6YyxrQkFBa0IsZ0JBQWdCLElBQUksTUFBTSxnQkFBZ0IsSUFBSSxHQUFHLGlFQUFlLDZCQUE2QixzREFBQyxDQUFDLGVBQWUscUdBQXFHLGFBQWEsYUFBYSxtQkFBbUIsNkRBQUMscUNBQXFDLG9CQUFvQiw0QkFBNEIsb0RBQW9ELG1CQUFtQixlQUFlLHFKQUFxSixFQUFFLGNBQWMsNkRBQUMseURBQXlELGtCQUFrQix3QkFBd0IsWUFBWSx5QkFBeUIsS0FBSyw2REFBQyxVQUFVLHVGQUF1RixtQkFBbUIsRUFBRSx3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bmRvdy9WaWV3cG9ydC5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL2V4YW1wbGVzL3N0YXRlUHJvdmlkZXIvbXVsdGlXaW5kb3cvVmlld3BvcnRDb250cm9sbGVyLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vZXhhbXBsZXMvc3RhdGVQcm92aWRlci9tdWx0aVdpbmRvdy9hcHAubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvY29udGFpbmVyL1ZpZXdwb3J0Lm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2NvbnRyb2xsZXIvQmFzZS5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9jb250cm9sbGVyL0NvbXBvbmVudC5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9jb3JlL0VmZmVjdC5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9zdGF0ZS9Qcm92aWRlci5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9zdGF0ZS9jcmVhdGVIaWVyYXJjaGljYWxEYXRhUHJveHkubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvdXRpbC9IYXNoSGlzdG9yeS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vc3JjL2NvbnRhaW5lci9WaWV3cG9ydC5tanNcIjtpbXBvcnQgbyBmcm9tXCIuL1ZpZXdwb3J0Q29udHJvbGxlci5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGV7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmV4YW1wbGVzLnN0YXRlUHJvdmlkZXIubXVsdGlXaW5kb3cuVmlld3BvcnRcIixjb250cm9sbGVyOm8sc3R5bGU6e3BhZGRpbmc6XCIyMHB4XCJ9fX0pOyIsImltcG9ydCBlIGZyb21cIi4uLy4uLy4uL3NyYy9jb250cm9sbGVyL0NvbXBvbmVudC5tanNcIjtpbXBvcnQgbyBmcm9tXCIuLi8uLi8uLi9zcmMvdXRpbC9BcnJheS5tanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9zcmMvc3RhdGUvUHJvdmlkZXIubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBle2Nvbm5lY3RlZEFwcHM9W107bWFpblN0YXRlUHJvdmlkZXI9bnVsbDtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uZXhhbXBsZXMuc3RhdGVQcm92aWRlci5tdWx0aVdpbmRvdy5WaWV3cG9ydENvbnRyb2xsZXJcIn07Y29uc3RydWN0KGUpe3N1cGVyLmNvbnN0cnVjdChlKTtsZXQgbz10aGlzO05lby5jdXJyZW50V29ya2VyLm9uKHtjb25uZWN0Om8ub25BcHBDb25uZWN0LGRpc2Nvbm5lY3Q6by5vbkFwcERpc2Nvbm5lY3Qsc2NvcGU6b30pfW9uQXBwQ29ubmVjdChlKXtsZXQgdCxuLHI9dGhpcyxzPWUuYXBwTmFtZTtjb25zb2xlLmxvZyhcIm9uQXBwQ29ubmVjdFwiLGUpLG8uYWRkKHIuY29ubmVjdGVkQXBwcyxzKSx0PXIubWFpblN0YXRlUHJvdmlkZXI/e3BhcmVudDpyLm1haW5TdGF0ZVByb3ZpZGVyfTp7ZGF0YTp7dXNlcjp7Zmlyc3RuYW1lOlwiVG9iaWFzXCIsbGFzdG5hbWU6XCJVaGxpZ1wifX19LGltcG9ydChcIi4uL211bHRpV2luZG93L01haW5Db250YWluZXIubWpzXCIpLnRoZW4obz0+e249TmVvLmFwcHNbZS53aW5kb3dJZF0ubWFpblZpZXcuYWRkKHttb2R1bGU6by5kZWZhdWx0LHN0YXRlUHJvdmlkZXI6dH0pLHIubWFpblN0YXRlUHJvdmlkZXJ8fChyLm1haW5TdGF0ZVByb3ZpZGVyPW4uc3RhdGVQcm92aWRlcil9KX1vbkFwcERpc2Nvbm5lY3QoZSl7bGV0IHQ9ZS5hcHBOYW1lO28ucmVtb3ZlKHRoaXMuY29ubmVjdGVkQXBwcyx0KSxjb25zb2xlLmxvZyhcIm9uQXBwRGlzY29ubmVjdFwiLGUpfX0pOyIsImltcG9ydCBlIGZyb21cIi4vVmlld3BvcnQubWpzXCI7ZXhwb3J0IGNvbnN0IG9uU3RhcnQ9KCk9Pk5lby5hcHAoe21haW5WaWV3OmUsbmFtZTpcIk5lby5leGFtcGxlcy5zdGF0ZVByb3ZpZGVyLm11bHRpV2luZG93XCJ9KTsiLCJpbXBvcnQgZSBmcm9tXCIuL0Jhc2UubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBle3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5jb250YWluZXIuVmlld3BvcnRcIixudHlwZTpcInZpZXdwb3J0XCIsYXBwbHlCb2R5Q2xzOiEwLGF1dG9Nb3VudDohMCxiYXNlQ2xzOltcIm5lby12aWV3cG9ydFwiXSxtb25pdG9yU2l6ZV86ITF9O2FmdGVyU2V0TW91bnRlZChlLG8pe3N1cGVyLmFmdGVyU2V0TW91bnRlZChlLG8pO2xldCBzPXRoaXM7ZSYmcy5tb25pdG9yU2l6ZSYmcy5hZGREb21MaXN0ZW5lcnMoW3tyZXNpemU6cy5vbkRvbVJlc2l6ZSxzY29wZTpzfV0pfW9uQ29uc3RydWN0ZWQoKXtzdXBlci5vbkNvbnN0cnVjdGVkKCk7bGV0e3dpbmRvd0lkOmV9PXRoaXM7dGhpcy5hcHBseUJvZHlDbHMmJk5lby5tYWluLkRvbUFjY2Vzcy5hcHBseUJvZHlDbHMoe2NsczpbXCJuZW8tYm9keS12aWV3cG9ydFwiXSx3aW5kb3dJZDplfSl9b25Eb21SZXNpemUoZSl7dGhpcy5maXJlKFwicmVzaXplXCIsZSl9fSk7IiwiaW1wb3J0IHQgZnJvbVwiLi4vY29yZS9CYXNlLm1qc1wiO2ltcG9ydCBlIGZyb21cIi4uL3V0aWwvSGFzaEhpc3RvcnkubWpzXCI7Y29uc3Qgbz0vXFwvL2csbj0veyhcXCp8XFwuXFwuXFwuKT8oW159XSspfS8scz0veyhcXCp8XFwuXFwuXFwuKT8oW159XSspfS9nO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgdHtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uY29udHJvbGxlci5CYXNlXCIsbnR5cGU6XCJjb250cm9sbGVyXCIsZGVmYXVsdEhhc2g6bnVsbCxkZWZhdWx0Um91dGU6bnVsbCxoYW5kbGVSb3V0ZXM6e30scm91dGVzXzp7fX07Y29uc3RydWN0KHQpe3N1cGVyLmNvbnN0cnVjdCh0KSxlLm9uKFwiY2hhbmdlXCIsdGhpcy5vbkhhc2hDaGFuZ2UsdGhpcyl9YWZ0ZXJTZXRSb3V0ZXModCxlKXtsZXQgbz10aGlzLG49T2JqZWN0LmtleXModCk7by5yb3V0ZXM9bi5zb3J0KG8uI3QpLnJlZHVjZSgoZSxvKT0+KGVbb109dFtvXSxlKSx7fSksby5oYW5kbGVSb3V0ZXM9e30sbi5mb3JFYWNoKGU9PntcImRlZmF1bHRcIj09PWUudG9Mb3dlckNhc2UoKT9vLmRlZmF1bHRSb3V0ZT10W2VdOm8uaGFuZGxlUm91dGVzW2VdPW5ldyBSZWdFeHAoXCJeXCIrZS5yZXBsYWNlKHMsKHQsZSxvKT0+ZXx8by5zdGFydHNXaXRoKFwiKlwiKT9cIiguKilcIjpcIihbXFxcXHctLl0rKVwiKStcIiRcIil9KX1kZXN0cm95KC4uLnQpe2UudW4oXCJjaGFuZ2VcIix0aGlzLm9uSGFzaENoYW5nZSx0aGlzKSxzdXBlci5kZXN0cm95KC4uLnQpfWFzeW5jIGluaXRBc3luYygpe2F3YWl0IHN1cGVyLmluaXRBc3luYygpO2xldCB0PXRoaXMse2RlZmF1bHRIYXNoOm8sd2luZG93SWQ6bn09dCxzPWUuZmlyc3Qobik7cz9zLndpbmRvd0lkPT09biYmYXdhaXQgdC5vbkhhc2hDaGFuZ2UocyxudWxsKTohTmVvLmNvbmZpZy5oYXNoJiZvJiZOZW8uTWFpbi5zZXRSb3V0ZSh7dmFsdWU6byx3aW5kb3dJZDpufSl9YXN5bmMgb25IYXNoQ2hhbmdlKHQsZSl7aWYodC53aW5kb3dJZCE9PXRoaXMud2luZG93SWQpcmV0dXJuO2xldCBsPXRoaXMse2hhbmRsZVJvdXRlczphLHJvdXRlczp1fT1sLGg9T2JqZWN0LmtleXMoYSkscj1udWxsLGM9bnVsbCxpPW51bGw7Zm9yKGxldCBlPTA7ZTxoLmxlbmd0aDtlKyspe2NvbnN0IGw9aFtlXSx1PXQuaGFzaFN0cmluZy5tYXRjaChhW2xdKTtpZih1KXtjb25zdCB0PWwubWF0Y2gocyksZT11LnNwbGljZSgxLHUubGVuZ3RoLTEpLGE9e307aWYodClmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKyl7Y29uc3Qgcz10W29dLm1hdGNoKG4pO2lmKHMpe2Fbc1syXV09ZVtvXX19KCFyfHx1WzBdLmxlbmd0aD5yWzBdLmxlbmd0aHx8dVswXS5sZW5ndGg9PT1yWzBdLmxlbmd0aCYmKGwubWF0Y2gobyl8fFtdKS5sZW5ndGg+KGMubWF0Y2gobyl8fFtdKS5sZW5ndGgpJiYocj11LGM9bCxpPWEpfX1pZihyKXtjb25zdCBvPXVbY107bGV0IG49bnVsbCxzPW51bGw7TmVvLmlzU3RyaW5nKG8pP249bzpOZW8uaXNPYmplY3QobykmJihuPW8uaGFuZGxlcixzPW8ucHJlSGFuZGxlcik7bGV0IGE9ITA7dC5jYXB0dXJlZFJvdXRlPWMscyYmKGE9YXdhaXQobFtzXT8uY2FsbChsLGksdCxlKSkpLGEmJmF3YWl0KGxbbl0/LmNhbGwobCxpLHQsZSkpfWVsc2UgbC5kZWZhdWx0Um91dGU/KHQuY2FwdHVyZWRSb3V0ZT1sLmRlZmF1bHRSb3V0ZSxsW2wuZGVmYXVsdFJvdXRlXT8uKHQsZSkpOih0LmNhcHR1cmVkUm91dGU9bnVsbCxsLm9uTm9Sb3V0ZUZvdW5kKHQsZSkpfW9uTm9Sb3V0ZUZvdW5kKHQsZSl7fSN0KHQsZSl7cmV0dXJuKHQubWF0Y2gobyl8fFtdKS5sZW5ndGgtKGUubWF0Y2gobyl8fFtdKS5sZW5ndGh9fSk7IiwiaW1wb3J0IGUgZnJvbVwiLi9CYXNlLm1qc1wiO2ltcG9ydHtyZXNvbHZlQ2FsbGJhY2sgYXMgdH1mcm9tXCIuLi91dGlsL0Z1bmN0aW9uLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgZXtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uY29udHJvbGxlci5Db21wb25lbnRcIixudHlwZTpcImNvbXBvbmVudC1jb250cm9sbGVyXCIsY29tcG9uZW50Om51bGwscGFyZW50XzpudWxsLHJlZmVyZW5jZXM6bnVsbCx3aW5kb3dJZDpudWxsfTtjb25zdHJ1Y3QoZSl7c3VwZXIuY29uc3RydWN0KGUpO2xldCB0PXRoaXMse2NvbXBvbmVudDpufT10O3QucmVmZXJlbmNlcz17fSxuLmlzQ29uc3RydWN0ZWQ/dC5vbkNvbXBvbmVudENvbnN0cnVjdGVkKCk6bi5vbihcImNvbnN0cnVjdGVkXCIsKCk9Pnt0Lm9uQ29tcG9uZW50Q29uc3RydWN0ZWQoKX0sdCx7b25jZTohMH0pfWJlZm9yZVNldFBhcmVudChlLHQpe3JldHVybiBlfHx0aGlzLmdldFBhcmVudCgpfWdldEhhbmRsZXJTY29wZShlLG4pe2xldCByLG89dGhpcyx7cGFyZW50OnN9PW87cmV0dXJuISghbnx8KHI9dChlLG4pLCFyLmZuKSl8fChOZW8uaXNGdW5jdGlvbihvW2VdKT9vOnM/LmdldEhhbmRsZXJTY29wZShlKXx8bnVsbCl9Z2V0UGFyZW50KCl7bGV0e3BhcmVudDplfT10aGlzO3JldHVybiBlfHwodGhpcy5jb21wb25lbnQucGFyZW50Py5nZXRDb250cm9sbGVyKCl8fG51bGwpfWdldFJlZmVyZW5jZShlKXtsZXQgdD10aGlzLG49dC5yZWZlcmVuY2VzW2VdO3JldHVybiBufHwobj10LmNvbXBvbmVudC5kb3duKHtyZWZlcmVuY2U6ZX0pLG4mJih0LnJlZmVyZW5jZXNbZV09bikpLG58fG51bGx9Z2V0U3RhdGUoLi4uZSl7cmV0dXJuIHRoaXMuZ2V0U3RhdGVQcm92aWRlcigpLmdldERhdGEoLi4uZSl9Z2V0U3RhdGVQcm92aWRlcihlPSExKXtsZXR7Y29tcG9uZW50OnR9PXRoaXM7cmV0dXJuIGU/dC5zdGF0ZVByb3ZpZGVyOnQuZ2V0U3RhdGVQcm92aWRlcigpfWdldFN0b3JlKGUpe3JldHVybiB0aGlzLmdldFN0YXRlUHJvdmlkZXIoKS5nZXRTdG9yZShlKX1vbkNvbXBvbmVudENvbnN0cnVjdGVkKCl7fXJlbW92ZVJlZmVyZW5jZShlKXtsZXQgdCx7cmVmZXJlbmNlczpufT10aGlzO2Zvcih0IGluIG4paWYoZT09PW5bdF0pe2RlbGV0ZSBuW3RdO2JyZWFrfXRoaXMuZ2V0UGFyZW50KCk/LnJlbW92ZVJlZmVyZW5jZShlKX1zZXRTdGF0ZSguLi5lKXt0aGlzLmdldFN0YXRlUHJvdmlkZXIoKS5zZXREYXRhKC4uLmUpfX0pOyIsImltcG9ydCBlIGZyb21cIi4vQ29uZmlnLm1qc1wiO2ltcG9ydCBuIGZyb21cIi4vRWZmZWN0TWFuYWdlci5tanNcIjtpbXBvcnQgcyBmcm9tXCIuL0lkR2VuZXJhdG9yLm1qc1wiO2NsYXNzIGl7Y29tcG9uZW50SWQ9bnVsbDtkZXBlbmRlbmNpZXM9bmV3IE1hcDtfZm49bnVsbDtpZD1zLmdldElkKFwiZWZmZWN0XCIpO2lzRGVzdHJveWVkPSExO2lzUnVubmluZz1udWxsO2dldCBmbigpe3JldHVybiB0aGlzLl9mbn1zZXQgZm4oZSl7dGhpcy5fZm49ZSx0aGlzLnJ1bigpfWNvbnN0cnVjdG9yKG4scz17fSl7Y29uc3QgaT10aGlzLHtmbjp0LGNvbXBvbmVudElkOnIsbGF6eTpjPSExLHN1YnNjcmliZXI6b309XCJmdW5jdGlvblwiPT10eXBlb2Ygbj97Li4ucyxmbjpufTpufHx7fTtyJiYoaS5jb21wb25lbnRJZD1yKSxpLmlzUnVubmluZz1uZXcgZSghMSksbyYmW10uY29uY2F0KG8pLmZvckVhY2goZT0+aS5pc1J1bm5pbmcuc3Vic2NyaWJlKGUpKSxjP2kuX2ZuPXQ6aS5mbj10fWRlc3Ryb3koKXtjb25zdCBlPXRoaXM7ZS5kZXBlbmRlbmNpZXMuZm9yRWFjaChlPT5lKCkpLGUuZGVwZW5kZW5jaWVzLmNsZWFyKCksZS5pc0Rlc3Ryb3llZD0hMH1ydW4oKXtjb25zdCBlPXRoaXM7aWYoZS5pc0Rlc3Ryb3llZClyZXR1cm47bi5wYXVzZVRyYWNraW5nKCk7Y29uc3Qgcz1lLmlzUnVubmluZy5nZXQoKTtpZihuLnJlc3VtZVRyYWNraW5nKCksIXMpaWYobi5pc1BhdXNlZCgpKW4ucXVldWUoZSk7ZWxzZXtuLnBhdXNlVHJhY2tpbmcoKSxlLmlzUnVubmluZy5zZXQoITApLG4ucmVzdW1lVHJhY2tpbmcoKSxlLmRlcGVuZGVuY2llcy5mb3JFYWNoKGU9PmUoKSksZS5kZXBlbmRlbmNpZXMuY2xlYXIoKSxuLnB1c2goZSk7dHJ5e2UuZm4oKX1maW5hbGx5e24ucG9wKCksbi5wYXVzZVRyYWNraW5nKCksZS5pc1J1bm5pbmcuc2V0KCExKSxuLnJlc3VtZVRyYWNraW5nKCl9fX1hZGREZXBlbmRlbmN5KGUpe2NvbnN0IG49dGhpcztpZighbi5kZXBlbmRlbmNpZXMuaGFzKGUpKXtjb25zdCBzPWUuc3Vic2NyaWJlKHtpZDpuLmlkLGZuOm4ucnVuLmJpbmQobil9KTtuLmRlcGVuZGVuY2llcy5zZXQoZSxzKX19fWV4cG9ydCBkZWZhdWx0IE5lby5nYXRla2VlcChpLFwiTmVvLmNvcmUuRWZmZWN0XCIsKCk9PntOZW8uZWZmZWN0PShlLG4pPT5uZXcgaShlLG4pfSk7IiwiaW1wb3J0IHQgZnJvbVwiLi4vY29yZS9CYXNlLm1qc1wiO2ltcG9ydCBlIGZyb21cIi4uL3V0aWwvQ2xhc3NTeXN0ZW0ubWpzXCI7aW1wb3J0IHIgZnJvbVwiLi4vY29yZS9Db25maWcubWpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vY29yZS9FZmZlY3QubWpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vY29yZS9FZmZlY3RNYW5hZ2VyLm1qc1wiO2ltcG9ydCBvIGZyb21cIi4uL2NvcmUvT2JzZXJ2YWJsZS5tanNcIjtpbXBvcnR7Y3JlYXRlSGllcmFyY2hpY2FsRGF0YVByb3h5IGFzIG59ZnJvbVwiLi9jcmVhdGVIaWVyYXJjaGljYWxEYXRhUHJveHkubWpzXCI7aW1wb3J0e2lzRGVzY3JpcHRvciBhcyBpfWZyb21cIi4uL2NvcmUvQ29uZmlnU3ltYm9scy5tanNcIjtjb25zdCBjPVN5bWJvbC5mb3IoXCJ0d29XYXlCaW5kaW5nXCIpO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgdHtzdGF0aWMgb2JzZXJ2YWJsZT0hMDtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uc3RhdGUuUHJvdmlkZXJcIixudHlwZTpcInN0YXRlLXByb3ZpZGVyXCIsY29tcG9uZW50Om51bGwsZGF0YV86e1tpXTohMCxtZXJnZTpcImRlZXBcIix2YWx1ZTp7fX0sZm9ybXVsYXNfOm51bGwscGFyZW50XzpudWxsLHN0b3Jlc186bnVsbCx3aW5kb3dJZDpudWxsfTsjdD1uZXcgTWFwOyNlPXt9OyNyPW5ldyBNYXA7Y29uc3RydWN0KHQpe05lby5pc1VzaW5nU3RhdGVQcm92aWRlcnM9ITAsc3VwZXIuY29uc3RydWN0KHQpfWFkanVzdFZhbHVlKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRGF0ZT9uZXcgRGF0ZSh0LnZhbHVlT2YoKSk6dH1hZnRlclNldERhdGEodCxlKXt0JiZ0aGlzLnByb2Nlc3NEYXRhT2JqZWN0KHQpfWFmdGVyU2V0Rm9ybXVsYXModCxlKXtjb25zdCByPXRoaXM7ci4jci5mb3JFYWNoKHQ9PnQuZGVzdHJveSgpKSxyLiNyLmNsZWFyKCksdCYmT2JqZWN0LmVudHJpZXModCkuZm9yRWFjaCgoW3QsZV0pPT57Y29uc3QgYT1uZXcgcyh7Zm46KCk9Pntjb25zdCBzPXIuZ2V0SGllcmFyY2h5RGF0YSgpLGE9ZShzKTtyLnNldERhdGEodCxhKX0sbGF6eTohMH0pO3IuI3Iuc2V0KHQsYSl9KX1iZWZvcmVHZXREYXRhKHQpe3JldHVybiB0aGlzLmdldEhpZXJhcmNoeURhdGEoKX1iZWZvcmVTZXRTdG9yZXModCxyKXtpZih0KXtsZXQgcj10aGlzO09iamVjdC5lbnRyaWVzKHQpLmZvckVhY2goKFtzLGFdKT0+e09iamVjdC5lbnRyaWVzKGEubGlzdGVuZXJzfHx7fSkuZm9yRWFjaCgoW3QsZV0pPT57ci5iaW5kQ2FsbGJhY2soZSx0LHIsYS5saXN0ZW5lcnMpfSksdFtzXT1lLmJlZm9yZVNldEluc3RhbmNlKGEpfSl9cmV0dXJuIHR9Y3JlYXRlQmluZGluZyh0LGUscil7Y29uc3QgYT10aGlzLG89bmV3IHMoKCk9Pntjb25zdCBzPU5lby5nZXQodCk7aWYocyYmIXMuaXNEZXN0cm95ZWQpe2NvbnN0IHQ9YS5nZXRIaWVyYXJjaHlEYXRhKCksbz1OZW8uaXNGdW5jdGlvbihyKT9yLmNhbGwoYSx0KTp0W3JdO3MuX3NraXBUd29XYXlQdXNoPWUsc1tlXT1vLGRlbGV0ZSBzLl9za2lwVHdvV2F5UHVzaH19KTtyZXR1cm4gYS4jdC5zZXQodCxvKSxhLm9ic2VydmVDb25maWcodCxcImlzRGVzdHJveWluZ1wiLGU9PntlJiYoby5kZXN0cm95KCksYS4jdC5kZWxldGUodCkpfSksb31jcmVhdGVCaW5kaW5ncyh0KXtsZXQgZT10aGlzLHI9ITE7T2JqZWN0LmVudHJpZXModC5iaW5kfHx7fSkuZm9yRWFjaCgoW3MsYV0pPT57bGV0IG89YTtOZW8uaXNPYmplY3QoYSkmJihhLnR3b1dheSYmKHI9ITApLG89YS5rZXkpLGUuaXNTdG9yZVZhbHVlKG8pP2UucmVzb2x2ZVN0b3JlKHQscyxvLnN1YnN0cmluZyg3KSk6ZS5jcmVhdGVCaW5kaW5nKHQuaWQscyxvLGEudHdvV2F5KX0pLHImJih0W2NdPSEwKX1kZXN0cm95KCl7Y29uc3QgdD10aGlzO3QuI3IuZm9yRWFjaCh0PT50LmRlc3Ryb3koKSksdC4jci5jbGVhcigpLHQuI3QuZm9yRWFjaCh0PT50LmRlc3Ryb3koKSksdC4jdC5jbGVhcigpLHN1cGVyLmRlc3Ryb3koKX1nZXRDb250cm9sbGVyKHQpe3JldHVybiB0aGlzLmNvbXBvbmVudC5nZXRDb250cm9sbGVyKHQpfWdldERhdGEodCl7Y29uc3QgZT10aGlzLmdldE93bmVyT2ZEYXRhUHJvcGVydHkodCk7aWYoZSlyZXR1cm4gZS5vd25lci5nZXREYXRhQ29uZmlnKGUucHJvcGVydHlOYW1lKS5nZXQoKX1nZXREYXRhQ29uZmlnKHQpe3JldHVybiB0aGlzLiNlW3RdfHxudWxsfWdldEhpZXJhcmNoeURhdGEoKXtyZXR1cm4gbih0aGlzKX1nZXRPd25lck9mRGF0YVByb3BlcnR5KHQpe2xldCBlPXRoaXM7aWYoZS4jZVt0XSlyZXR1cm57b3duZXI6ZSxwcm9wZXJ0eU5hbWU6dH07Y29uc3Qgcj1lLmdldFBhcmVudCgpO3JldHVybiByP3IuZ2V0T3duZXJPZkRhdGFQcm9wZXJ0eSh0KTpudWxsfWdldFBhcmVudCgpe2xldCB0PXRoaXM7cmV0dXJuIHQuX3BhcmVudD90Ll9wYXJlbnQ6dC5jb21wb25lbnQmJnQuY29tcG9uZW50LnBhcmVudD8uZ2V0U3RhdGVQcm92aWRlcigpfHxudWxsfWdldFN0b3JlKHQsZT10aGlzKXtsZXQgcix7c3RvcmVzOnN9PXRoaXM7cmV0dXJuIHM/Lmhhc093blByb3BlcnR5KHQpP3NbdF06KHI9dGhpcy5nZXRQYXJlbnQoKSxyfHxjb25zb2xlLmVycm9yKGBzdG9yZSAnJHt0fScgbm90IGZvdW5kIGluc2lkZSB0aGlzIHN0YXRlUHJvdmlkZXIgb3IgcGFyZW50cy5gLGUpLHIuZ2V0U3RvcmUodCxlKSl9aGFzTmVzdGVkRGF0YVN0YXJ0aW5nV2l0aCh0KXtjb25zdCBlPWAke3R9LmA7cmV0dXJuISFPYmplY3Qua2V5cyh0aGlzLiNlKS5zb21lKHQ9PnQuc3RhcnRzV2l0aChlKSl8fCh0aGlzLmdldFBhcmVudCgpPy5oYXNOZXN0ZWREYXRhU3RhcnRpbmdXaXRoKHQpfHwhMSl9Z2V0VG9wTGV2ZWxEYXRhS2V5cyh0KXtjb25zdCBlPW5ldyBTZXQscj10P2Ake3R9LmA6XCJcIjtmb3IoY29uc3QgdCBpbiB0aGlzLiNlKWlmKHQuc3RhcnRzV2l0aChyKSl7Y29uc3Qgcz10LnN1YnN0cmluZyhyLmxlbmd0aCkuc3BsaXQoXCIuXCIpWzBdO3MmJmUuYWRkKHMpfXJldHVybiBBcnJheS5mcm9tKGUpfWludGVybmFsU2V0RGF0YSh0LGUscil7Y29uc3Qgcz10aGlzO2lmKE5lby5pc09iamVjdCh0KSlyZXR1cm4gdm9pZCBPYmplY3QuZW50cmllcyh0KS5mb3JFYWNoKChbdCxlXSk9PntzLmludGVybmFsU2V0RGF0YSh0LGUscil9KTtpZihcIk9iamVjdFwiPT09TmVvLnR5cGVPZihlKSlyZXR1cm4gdm9pZCBPYmplY3QuZW50cmllcyhlKS5mb3JFYWNoKChbZSxhXSk9Pntjb25zdCBvPWAke3R9LiR7ZX1gO3MuaW50ZXJuYWxTZXREYXRhKG8sYSxyKX0pO2NvbnN0IGE9cy5nZXRPd25lck9mRGF0YVByb3BlcnR5KHQpLG89YT9hLm93bmVyOnJ8fHM7cy4jcyhvLHQsZSxudWxsKTtsZXQgbj10LGk9ZTtmb3IoO24uaW5jbHVkZXMoXCIuXCIpOyl7Y29uc3QgdD1uLnNwbGl0KFwiLlwiKS5wb3AoKTtuPW4uc3Vic3RyaW5nKDAsbi5sYXN0SW5kZXhPZihcIi5cIikpO2NvbnN0IGU9by5nZXREYXRhQ29uZmlnKG4pO2lmKGUpe2NvbnN0IHI9ZS5nZXQoKTtpZighTmVvLmlzT2JqZWN0KHIpKWJyZWFrO3tjb25zdCBzPXsuLi5yLFt0XTppfTtlLnNldChzKSxpPXN9fWVsc2V7Y29uc3QgZT17W3RdOml9O3MuI3MobyxuLGUpLGk9ZX19fWlzU3RvcmVWYWx1ZSh0KXtyZXR1cm4gTmVvLmlzU3RyaW5nKHQpJiZ0LnN0YXJ0c1dpdGgoXCJzdG9yZXMuXCIpfW9uQ29uc3RydWN0ZWQoKXtzdXBlci5vbkNvbnN0cnVjdGVkKCksdGhpcy4jci5mb3JFYWNoKHQ9PnQucnVuKCkpfW9uRGF0YVByb3BlcnR5Q2hhbmdlKHQsZSxyKXt9cHJvY2Vzc0RhdGFPYmplY3QodCxlPVwiXCIpe2xldCBzPXRoaXM7T2JqZWN0LmVudHJpZXModCkuZm9yRWFjaCgoW3QsYV0pPT57Y29uc3Qgbz1lP2Ake2V9LiR7dH1gOnQ7YT1zLmFkanVzdFZhbHVlKGEpLHMuI2Vbb10/cy4jZVtvXS5zZXQoYSk6cy4jZVtvXT1uZXcgcihhKSxcIk9iamVjdFwiPT09TmVvLnR5cGVPZihhKSYmcy5wcm9jZXNzRGF0YU9iamVjdChhLG8pfSl9cmVzb2x2ZVN0b3JlKHQsZSxyKXtsZXQgcz10aGlzLmdldFN0b3JlKHIpO3RbZV0hPT1zJiYodFtlXT1zKX0jcyh0LGUscyxhKXtzPXQuYWRqdXN0VmFsdWUocyk7bGV0IG89dC5nZXREYXRhQ29uZmlnKGUpLG49ITAsaT1hO28/KGk9by5nZXQoKSxuPW8uc2V0KHMpKToobz1uZXcgcihzKSx0LiNlW2VdPW8sdC4jdC5mb3JFYWNoKHQ9PnQucnVuKCkpKSxuJiZ0Lm9uRGF0YVByb3BlcnR5Q2hhbmdlKGUscyxpKX1zZXREYXRhKHQsZSl7YS5wYXVzZSgpO3RyeXt0aGlzLmludGVybmFsU2V0RGF0YSh0LGUsdGhpcyl9ZmluYWxseXthLnJlc3VtZSgpfX1zZXREYXRhQXRTYW1lTGV2ZWwodCxlKXthLnBhdXNlKCk7dHJ5e3RoaXMuaW50ZXJuYWxTZXREYXRhKHQsZSl9ZmluYWxseXthLnJlc3VtZSgpfX10b0pTT04oKXtjb25zdCB0PXRoaXMsZT17fTtyZXR1cm4gdC5zdG9yZXMmJk9iamVjdC5lbnRyaWVzKHQuc3RvcmVzKS5mb3JFYWNoKChbdCxyXSk9PntlW3RdPXIudG9KU09OKCl9KSx7Li4uc3VwZXIudG9KU09OKCksY29tcG9uZW50OnQuY29tcG9uZW50Py5pZCxkYXRhOnQuZGF0YSxwYXJlbnQ6dC5wYXJlbnQ/LmlkLHN0b3JlczplLHdpbmRvd0lkOnQud2luZG93SWR9fX0pOyIsImltcG9ydCBlIGZyb21cIi4uL2NvcmUvRWZmZWN0TWFuYWdlci5tanNcIjtmdW5jdGlvbiB0KHIsbyl7cmV0dXJuIG5ldyBQcm94eSh7fSx7Z2V0KG4sYSl7aWYoXCJzeW1ib2xcIj09dHlwZW9mIGF8fFwiX19SRUZBRFJfX1wiPT09YXx8XCJpbnNwZWN0XCI9PT1hfHxcInRoZW5cIj09PWEpcmV0dXJuIFJlZmxlY3QuZ2V0KG4sYSk7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEmJlwibnVtYmVyXCIhPXR5cGVvZiBhKXJldHVybjtpZihcIlwiPT09byYmXCJzdG9yZXNcIj09PWEpcmV0dXJuIG5ldyBQcm94eSh7fSx7Z2V0OihlLHQpPT5cInN5bWJvbFwiPT10eXBlb2YgdHx8XCJfX1JFRkFEUl9fXCI9PT10P1JlZmxlY3QuZ2V0KGUsdCk6ci5nZXRTdG9yZSh0KX0pO2NvbnN0IGY9bz9gJHtvfS4ke2F9YDphLGk9ci5nZXRPd25lck9mRGF0YVByb3BlcnR5KGYpO2lmKGkpe2NvbnN0e293bmVyOm8scHJvcGVydHlOYW1lOm59PWksYT1vLmdldERhdGFDb25maWcobik7aWYoYSl7ZS5nZXRBY3RpdmVFZmZlY3QoKT8uYWRkRGVwZW5kZW5jeShhKTtjb25zdCBvPWEuZ2V0KCk7cmV0dXJuIE5lby5pc09iamVjdChvKT90KHIsZik6b319cmV0dXJuIHIuaGFzTmVzdGVkRGF0YVN0YXJ0aW5nV2l0aChmKT90KHIsZik6dm9pZCAwfSxzZXQoZSx0LG4pe2lmKFwic3ltYm9sXCI9PXR5cGVvZiB0fHxcIl9fUkVGQURSX19cIj09PXQpcmV0dXJuIFJlZmxlY3Quc2V0KGUsdCxuKTtjb25zdCBhPW8/YCR7b30uJHt0fWA6dCxmPXIuZ2V0T3duZXJPZkRhdGFQcm9wZXJ0eShhKTtsZXQgaTtyZXR1cm4gaT1mP2Yub3duZXI6cixpLnNldERhdGEoYSxuKSwhMH0sb3duS2V5czplPT5yLmdldFRvcExldmVsRGF0YUtleXMobyksZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbil7Y29uc3QgYT1vP2Ake299LiR7bn1gOm4sZj1yLmdldE93bmVyT2ZEYXRhUHJvcGVydHkoYSk7aWYoZil7Y29uc3QgZT1mLm93bmVyLmdldERhdGFDb25maWcoZi5wcm9wZXJ0eU5hbWUpO2lmKGUpe2NvbnN0IG89ZS5nZXQoKTtyZXR1cm57dmFsdWU6TmVvLmlzT2JqZWN0KG8pP3QocixhKTpvLHdyaXRhYmxlOiEwLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfX19fX0pfWV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIaWVyYXJjaGljYWxEYXRhUHJveHkoZSl7cmV0dXJuIHQoZSxcIlwiKX0iLCJpbXBvcnQgdCBmcm9tXCIuLi9jb3JlL0Jhc2UubWpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vY29yZS9PYnNlcnZhYmxlLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgdHtzdGF0aWMgb2JzZXJ2YWJsZT0hMDtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8udXRpbC5IYXNoSGlzdG9yeVwiLG1heEl0ZW1zOjUwLHNpbmdsZXRvbjohMCxzdGFja3M6e319O2ZpcnN0KHQpe3JldHVybiB0aGlzLmdldEF0KDAsdCl9Z2V0QXQodCxlKXtyZXR1cm4gdGhpcy5nZXRTdGFjayhlKVt0XX1nZXRDb3VudCh0KXtyZXR1cm4gdGhpcy5nZXRTdGFjayh0KS5sZW5ndGh9Z2V0U3RhY2sodCl7bGV0e3N0YWNrczplfT10aGlzLHM9dHx8T2JqZWN0LmtleXMoZSlbMF0scj1lW3NdO3JldHVybiByfHwoZVtzXT1yPVtdKSxyfXB1c2godCl7bGV0IGU9dGhpcyx7d2luZG93SWQ6c309dCxyPWUuZ2V0U3RhY2socyk7clswXT8uaGFzaFN0cmluZyE9PXQuaGFzaFN0cmluZyYmKGRlbGV0ZSB0W3NdLHIudW5zaGlmdCh0KSxyLmxlbmd0aD5lLm1heEl0ZW1zJiZyLnBvcCgpLGUuZmlyZShcImNoYW5nZVwiLHQsclsxXXx8bnVsbCkpfXNlY29uZCh0KXtyZXR1cm4gdGhpcy5nZXRBdCgxLHQpfX0pOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=