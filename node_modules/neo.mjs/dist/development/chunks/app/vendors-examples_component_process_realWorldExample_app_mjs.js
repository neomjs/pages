"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["vendors-examples_component_process_realWorldExample_app_mjs"],{

/***/ "./examples/component/process/realWorldExample/MainContainer.mjs":
/*!***********************************************************************!*\
  !*** ./examples/component/process/realWorldExample/MainContainer.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_button_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../src/button/Base.mjs */ "./src/button/Base.mjs");
/* harmony import */ var _src_form_field_CheckBox_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../src/form/field/CheckBox.mjs */ "./src/form/field/CheckBox.mjs");
/* harmony import */ var _ConfigurationViewport_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../ConfigurationViewport.mjs */ "./examples/ConfigurationViewport.mjs");
/* harmony import */ var _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../src/component/Base.mjs */ "./src/component/Base.mjs");
/* harmony import */ var _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../src/container/Base.mjs */ "./src/container/Base.mjs");
/* harmony import */ var _src_form_field_Display_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../src/form/field/Display.mjs */ "./src/form/field/Display.mjs");
/* harmony import */ var _src_form_Container_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../src/form/Container.mjs */ "./src/form/Container.mjs");
/* harmony import */ var _src_form_field_Number_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../src/form/field/Number.mjs */ "./src/form/field/Number.mjs");
/* harmony import */ var _src_component_Process_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../src/component/Process.mjs */ "./src/component/Process.mjs");
/* harmony import */ var _src_form_field_Range_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../src/form/field/Range.mjs */ "./src/form/field/Range.mjs");
/* harmony import */ var _src_form_field_Select_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../src/form/field/Select.mjs */ "./src/form/field/Select.mjs");
/* harmony import */ var _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../src/form/field/Text.mjs */ "./src/form/field/Text.mjs");
/* harmony import */ var _src_component_Toast_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../src/component/Toast.mjs */ "./src/component/Toast.mjs");














/**
 * @class Neo.examples.component.process.realWorldExample.MainContainer
 * @extends Neo.examples.ConfigurationViewport
 */
class MainContainer extends _ConfigurationViewport_mjs__WEBPACK_IMPORTED_MODULE_2__["default"] {
    static config = {
        className           : 'Neo.examples.component.process.realWorldExample.MainContainer',
        configItemLabelWidth: 110,
        configItemWidth     : 250,
        configPanelMinWidth : 250,
        configPanelFlex     : 'none',
        layout              : {ntype: 'hbox', align: 'stretch'}
    }

    createConfigurationComponents() {
        let me = this;

        return [{
            module   : _src_form_field_CheckBox_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
            checked  : false,
            value    : 5,
            labelText: 'horizontal',
            listeners: {change: me.onConfigChange.bind(me, 'horizontal')}
        }, {
            module   : _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_11__["default"],
            labelText: 'arrowColor',
            listeners: {change: me.onConfigChange.bind(me, 'arrowColor')}
        }, {
            module   : _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_11__["default"],
            labelText: 'iconColor',
            listeners: {change: me.onConfigChange.bind(me, 'iconColor')}
        }];
    }

    createExampleComponent() {
        const me            = this,
              onRangeChange = me.onRangeChange.bind(me),
              // Wetterdaten von Berlin Tiergarten
              weatherUrl    = 'https://api.open-meteo.com/v1/forecast?latitude=52.51239766781255&longitude=13.35733940978727&current_weather=true';

        let weather = fetch(weatherUrl).then(async (response) => {
            let result        = await response.json(),
                temperature   = Math.ceil(result.current_weather.temperature),
                temperatureEl = me.down({flag: 'temperature'})

            temperatureEl.value = temperature;
        });

        return Neo.create({
            module      : _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_4__["default"],
            maxWidth    : 450,
            maxHeight   : '100%',
            style       : {
                overflowY: 'auto',
                margin   : '0 auto'
            },
            itemDefaults: {
                horizontal: false
            },
            items       : [{
                module: _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_3__["default"],
                vdom  : {
                    cn: [
                        {tag: 'img', src: './RangeHeader.jpg', width: '100%'}
                    ]
                }
            }, {
                module: _src_component_Process_mjs__WEBPACK_IMPORTED_MODULE_8__["default"],
                flag  : 'start-process',
                items : [{
                    iconCls: 'fa fa-plane-departure',
                    title  : 'Start Eingabe',
                    text   : 'Batterie % und Kilometerstand'
                }]
            }, {
                module   : _src_form_Container_mjs__WEBPACK_IMPORTED_MODULE_6__["default"],
                hasFields: true,
                layout   : {ntype: 'vbox', align: 'stretch'},
                items    : [{
                    module   : _src_form_field_Number_mjs__WEBPACK_IMPORTED_MODULE_7__["default"],
                    flag     : 'max-capacity',
                    labelText: 'max. Kapazität kWh',
                    minValue : 1,
                    maxValue : 500,
                    value    : 29
                }, {
                    module           : _src_form_field_Range_mjs__WEBPACK_IMPORTED_MODULE_9__["default"],
                    flag             : 'start-battery',
                    labelText        : 'Batterie %',
                    showResultInLabel: true,
                    minValue         : 1,
                    maxValue         : 100,
                    value            : 100,
                    listeners        : {change: onRangeChange}
                }, {
                    module   : _src_form_field_Number_mjs__WEBPACK_IMPORTED_MODULE_7__["default"],
                    flag     : 'start-km',
                    labelText: 'Kilometerstand',
                    minValue : 0,
                    maxValue : 500000
                }],
                listeners: {fieldFocusLeave: onRangeChange}
            }, {
                module: _src_component_Process_mjs__WEBPACK_IMPORTED_MODULE_8__["default"],
                flag  : 'end-process',
                items : [{
                    iconCls: 'fa fa-plane-arrival',
                    title  : 'Ankunft Eingabe',
                    text   : 'Batterie % und Kilometerstand'
                }]
            }, {
                module   : _src_form_Container_mjs__WEBPACK_IMPORTED_MODULE_6__["default"],
                hasFields: true,
                layout   : {ntype: 'vbox', align: 'stretch'},
                items    : [{
                    module           : _src_form_field_Range_mjs__WEBPACK_IMPORTED_MODULE_9__["default"],
                    flag             : 'end-battery',
                    labelText        : 'Batterie %',
                    showResultInLabel: true,
                    minValue         : 0,
                    maxValue         : 99,
                    value            : 0,
                    listeners        : {change: onRangeChange}
                }, {
                    module   : _src_form_field_Number_mjs__WEBPACK_IMPORTED_MODULE_7__["default"],
                    flag     : 'end-km',
                    labelText: 'Kilometerstand',
                    minValue : 0,
                    maxValue : 500000,
                }],
                listeners: {fieldFocusLeave: onRangeChange}
            }, {
                module    : _src_component_Process_mjs__WEBPACK_IMPORTED_MODULE_8__["default"],
                flag      : 'result-process',
                arrowColor: 'rgb(200 155 12)',
                items     : [{
                    iconCls: 'fa fa-square-poll-vertical',
                    title  : 'Ergebnisse',
                    text   : 'Errechnete Ergebnisse'
                }]
            }, {
                module   : _src_form_Container_mjs__WEBPACK_IMPORTED_MODULE_6__["default"],
                hasFields: true,
                layout   : {ntype: 'vbox', align: 'stretch'},
                listeners: {fieldChange: onRangeChange},
                items    : [{
                    module   : _src_form_field_Display_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
                    flag     : 'result',
                    labelText: 'Rest Kilometer'
                }, {
                    module   : _src_form_field_Display_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
                    flag     : 'remain-kWh',
                    labelText: 'Rest kWh'
                }, {
                    module   : _src_form_field_Display_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
                    flag     : 'average-kWh',
                    labelText: 'kwH pro 100km'
                }]
            }, {
                module    : _src_component_Process_mjs__WEBPACK_IMPORTED_MODULE_8__["default"],
                arrowColor: 'rgb(200 155 12)',
                items     : [{
                    iconCls: 'fa fa-magnifying-glass-chart',
                    title  : 'Zusätzliche Angaben',
                    text   : 'Für die Langzeitauswertung'
                }]
            }, {
                module      : _src_form_Container_mjs__WEBPACK_IMPORTED_MODULE_6__["default"],
                flag        : 'additional-information',
                disabled    : true,
                layout      : {ntype: 'vbox', align: 'stretch'},
                itemDefaults: {
                    showResultInLabel: true,
                    value            : 20
                },
                items       : [{
                    module      : _src_form_field_Select_mjs__WEBPACK_IMPORTED_MODULE_10__["default"],
                    displayField: 'name',
                    labelText   : 'Fahrstil',
                    value       : 'normal',

                    store: {
                        data : [
                            {style: 'sportStyle', name: 'sport', code: 'sportCode'},
                            {style: 'nomalStyle', name: 'normal', code: 'normalCode'},
                            {style: 'ecoStyle', name: 'eco', code: 'ecoCode'},
                        ],
                        model: {
                            fields: [
                                {name: 'style', type: 'string'},
                                {name: 'name', type: 'string'},
                                {name: 'code', type: 'string'}
                            ]
                        }
                    }
                }, {
                    module   : _src_form_field_Range_mjs__WEBPACK_IMPORTED_MODULE_9__["default"],
                    flag     : 'highway',
                    labelText: 'Autobahn %',
                    minValue : 0,
                    maxValue : 100,
                }, {
                    module   : _src_form_field_Range_mjs__WEBPACK_IMPORTED_MODULE_9__["default"],
                    flag     : 'temperature',
                    labelText: 'Außen-Temp.',
                    minValue : -20,
                    maxValue : 50
                }, {
                    module : _src_button_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
                    text   : 'Speichern und Auswerten',
                    ui     : 'secondary',
                    style  : {
                        minHeight   : '50px',
                        marginBottom: '35px'
                    },
                    handler: me.onSaveClick.bind(me)
                }],
                listeners   : {fieldChange: onRangeChange}
            }]
        });
    }

    /**
     * @param {String} config
     * @param {Object} opts
     */
    onConfigChange(config, opts) {
        const processes = Neo.find({ntype: 'process'});

        processes.forEach(process => {
            process[config] = opts.value;
        });
    }

    /**
     * @param {Object} data
     */
    onRangeChange(data) {
        const me                      = this,
              startBattery            = me.down({flag: 'start-battery'}).value,
              endBatteryEl            = me.down({flag: 'end-battery'}),
              endBattery              = endBatteryEl.value,
              startKm                 = me.down({flag: 'start-km'}).value,
              endKmEl                 = me.down({flag: 'end-km'}),
              endKm                   = endKmEl.value,
              additionalInformationEl = me.down({flag: 'additional-information'});

        if (startKm) {
            const startProcess = this.down({flag: 'start-process'});

            startProcess.arrowColor = '#12FE88';
        }
        if (endKm) {
            const startProcess = this.down({flag: 'end-process'});

            startProcess.arrowColor = '#12FE88';
        }

        if ((startKm && !endKm) || endKm <= startKm) {
            endKmEl.value = startKm + 5;
        }
        if (endBattery >= startBattery) {
            endBatteryEl.value = startBattery - 1;
        }

        if (startKm && endKm) {
            const resultEl      = me.down({flag: 'result'}),
                  kwpMaxEl      = me.down({flag: 'max-capacity'}),
                  remainKwhEl   = me.down({flag: 'remain-kWh'}),
                  averageKwhEl  = me.down({flag: 'average-kWh'}),
                  maxCapacityEl = me.down({flag: 'max-capacity'}),
                  batteryDiff   = startBattery - endBattery,
                  kmDiff        = endKm - startKm,
                  kWhUsed       = maxCapacityEl.value * (batteryDiff / 100),
                  resultKm      = (endBattery) * kmDiff / batteryDiff;

            additionalInformationEl.disabled = false;
            resultEl.value = Math.ceil(resultKm);
            remainKwhEl.value = Math.ceil(kwpMaxEl.value * (endBattery / 100));
            averageKwhEl.value = Math.ceil(100 * (kWhUsed / kmDiff));
        } else {
            additionalInformationEl.disabled = true;
        }
    }

    /**
     * Shows a toast
     */
    onSaveClick() {
        const averageKwh = this.down({flag: 'average-kWh'}).value;
        let msg     = `Du hast einen durchschnittlichen Verbrauch von ${averageKwh} kwh/100km.`,
            iconCls = 'fa fa-user-tie',
            title   = 'results',
            ui;

        if (averageKwh > 25) {
            msg = `Du bist seeehr sportlich unterwegs mit ${averageKwh} kWh auf 100km`;
            iconCls = 'fa fa-flag-checkered';
            ui = 'danger';
            title = 'racing';
        } else if (averageKwh < 15) {
            msg = `Du bist sehr umweltbewusst gefahren und hast nur ${averageKwh} kwh/100km verbraucht.`;
            iconCls = 'fa-brands fa-pagelines';
            ui = 'success';
            title = 'ECO';
        }

        Neo.toast({
            appName: this.appName,
            ui     : ui,
            iconCls: iconCls,
            title  : title,
            msg    : msg
        });
    }
}

Neo.applyClassConfig(MainContainer);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MainContainer);


/***/ }),

/***/ "./examples/component/process/realWorldExample/app.mjs":
/*!*************************************************************!*\
  !*** ./examples/component/process/realWorldExample/app.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   onStart: () => (/* binding */ onStart)
/* harmony export */ });
/* harmony import */ var _MainContainer_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MainContainer.mjs */ "./examples/component/process/realWorldExample/MainContainer.mjs");


const onStart = () => Neo.app({
    mainView: _MainContainer_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
    name    : 'Neo.examples.component.realWorldExample.process'
});

/***/ }),

/***/ "./src/component/Process.mjs":
/*!***********************************!*\
  !*** ./src/component/Process.mjs ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./src/component/Base.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Array.mjs */ "./src/util/Array.mjs");



/**
 * @class Neo.component.Process
 * @extends Neo.component.Base
 *
 * @example
 *     {
 *         module: Process,
 *         arrowColor: 'darkred',
 *         items: [{
 *             iconCls: 'fa fa-car',
 *             header: '1. Wunschkennzeichen',
 *             text: 'Lorem ipsum dolor sit amet, consectetuer adipiscing elit...'
 *         }, {
 *             iconCls: 'fa fa-house',
 *             header: '2. Termine',
 *             text: 'Lorem ipsum dolor sit amet, consectetuer adipiscing elit...'
 *         }]
 *     }
 */
class Process extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    /**
     * Each item gets an arrow and the content, which gets filled with an item.
     * The slit allows to fade out the sidebar.
     *
     * @member {Object} itemLayout={cls: 'process-step', cn: [{cls: ['arrow', 'white']},{cls: ['slit']},{cls: ['arrow', 'yellow']},{cls: 'process-content', cn: [{cls: ['process-step-icon']},{tag: 'h2', cls: ['process-step-header']},{cls: ['process-step-text']}]}]}
     */
    itemLayout = {
        cls: 'process-step', cn: [
            {cls: ['arrow', 'white']},
            {cls: ['slit']},
            {cls: ['arrow', 'yellow']},
            {
                cls: 'process-content', cn: [
                    {cls: ['process-step-icon']},
                    {tag: 'h2', cls: ['process-step-header']},
                    {cls: ['process-step-text']}
                ]
            }
        ]
    }

    static config = {
        /**
         * @member {String} className='Neo.component.Process'
         * @protected
         */
        className: 'Neo.component.Process',
        /**
         * @member {String} ntype='process'
         * @protected
         */
        ntype: 'process',
        /**
         * @member {String[]} baseCls=['neo-process']
         */
        baseCls: ['neo-process'],

        /**
         * Set the color of the process arrow.
         * Out of the box this is #ffdb4a
         *
         * @member {String|null} arrowColor=null
         */
        arrowColor_: null,
        /**
         * 'true' shows the items from left to right
         * 'false' shows the items from top to bottom
         * There is a minimum width of 700px to show items 'true'
         *
         * @member {Boolean} horizontal=true
         */
        horizontal_: true,
        /**
         * Set the color of the icons.
         * Out of the box this is #ffdb4a
         *
         * @member {String|null} iconColor=null
         */
        iconColor_: null,

        /**
         * Each item will be transferred into the itemLayout
         *
         * @member {Object[]|Object} items=null
         *
         * @example
         *     items: [{
         *         iconCls: 'fa fa-car',
         *         header: '1. First Step',
         *         text: 'Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Maecenas porttitor congue massa. Fusce posuere, magna sed pulvinar ultricies, purus lectus malesuada libero, sit amet commodo magna eros quis urna.'
         *     }, {
         *         iconCls: 'fa fa-house',
         *         header: '2. Second Step',
         *         text: 'Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Maecenas porttitor congue massa. Fusce posuere, magna sed pulvinar ultricies, purus lectus malesuada libero, sit amet commodo magna eros quis urna.'
         *     }]
         */
        items_: null,

        /**
         * vdom definition is used during item creation
         * Do not remove
         *
         * @member {Object} vdom={cn:[]}
         */
        vdom: {cn: []}
    }

    /**
     * Triggered after arrowColor config got changed
     * @param {String} newValue
     * @protected
     */
    afterSetArrowColor(newValue) {
        if (newValue === null) return;

        let style = this.style;

        style['--process-arrow-color'] = newValue + '!important';
        this.style = style;
    }

    /**
     * Triggered after horizontal config got changed
     * @param {Boolean} isHorizontal
     * @protected
     */
    afterSetHorizontal(isHorizontal) {
        let cls         = this.cls,
            positionCls = isHorizontal ? 'neo-process-horizontal' : 'neo-process-vertical',
            removeCls   = !isHorizontal ? 'neo-process-horizontal' : 'neo-process-vertical';

        _util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].add(cls, positionCls);
        _util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].remove(cls, removeCls);

        this.cls = cls;
    }

    /**
     * Triggered after iconColor config got changed
     * @param {String} newValue
     * @protected
     */
    afterSetIconColor(newValue) {
        if (newValue === null) return;
        let style = this.style;

        style['--process-icon-color'] = newValue + '!important';

        this.style = style;
    }

    /**
     * Triggered after items config got changed
     * @param {Object[]} items
     * @protected
     */
    afterSetItems(items) {
        if (!(Neo.isArray(items) || Neo.isObject(items))) return;
        if (!Neo.isArray(items)) {
            items = [items];
        }

        let vdomRoot   = this.vdom,
            itemLayout = this.itemLayout;

        items.forEach((newItem) => {
            let curItem = Neo.clone(itemLayout, true),
                content = curItem.cn[3];

            content.cn[0].cls.push(newItem.iconCls);
            content.cn[1].innerHTML = newItem.title;
            content.cn[2].innerHTML = newItem.text;

            _util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].add(vdomRoot.cn, curItem);
        });
    }
}

Neo.applyClassConfig(Process);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Process);

/***/ }),

/***/ "./src/form/field/Display.mjs":
/*!************************************!*\
  !*** ./src/form/field/Display.mjs ***!
  \************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Text.mjs */ "./src/form/field/Text.mjs");


/**
 * An extended form.field.Text, which is read-only.
 * @class Neo.form.field.Display
 * @extends Neo.form.field.Text
 */
class Display extends _Text_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Neo.form.field.Display'
         * @protected
         */
        className: 'Neo.form.field.Display',
        /**
         * @member {String} ntype='displayfield'
         * @protected
         */
        ntype: 'displayfield',
        /**
         * @member {String[]} baseCls=['neo-displayfield','neo-textfield']
         */
        baseCls: ['neo-displayfield', 'neo-textfield'],
        /**
         * @member {Boolean} clearable=false
         * @protected
         */
        clearable: false
    }

    /**
     * @param {Object} config
     */
    construct(config) {
        super.construct(config);

        let me      = this,
            inputEl = me.getInputEl();

        inputEl.readonly = 'readonly';
        inputEl.tabindex = '-1';

        me.update();
    }
}

Neo.applyClassConfig(Display);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Display);


/***/ }),

/***/ "./src/form/field/Range.mjs":
/*!**********************************!*\
  !*** ./src/form/field/Range.mjs ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Number_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Number.mjs */ "./src/form/field/Number.mjs");


/**
 * @class Neo.form.field.Range
 * @extends Neo.form.field.Number
 */
class Range extends _Number_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    /**
     * Removing the debounce for range fields
     * @member {Object} delayable
     * @protected
     * @static
     */
    static delayable = {}

    static config = {
        /**
         * @member {String} className='Neo.form.field.Range'
         * @protected
         */
        className: 'Neo.form.field.Range',
        /**
         * @member {String} ntype='rangefield'
         * @protected
         */
        ntype: 'rangefield',
        /**
         * @member {String[]} baseCls=['neo-rangefield','neo-textfield']
         */
        baseCls: ['neo-rangefield', 'neo-textfield'],
        /**
         * True shows a clear trigger in case the field has a non empty value.
         * @member {Boolean} clearable=false
         */
        clearable: false,
        /**
         * Value for the inputType_ textfield config
         * @member {String} inputType='range'
         */
        inputType: 'range',
        /**
         * If true, shows the result of the slider in the label
         * @member {Boolean} showResultInLabel=false
         */
        showResultInLabel: false,
        /**
         * @member {Array} tickmarks_=[]
         */
        tickmarks_: [],
        /**
         * @member {Boolean} useInputEvent=false
         */
        useInputEvent: false,
        /**
         * Disables the field.Number buttons
         * @member {Boolean} useInputEvent=false
         */
        useSpinButtons: false
    }

    /**
     * @param {Object} config
     */
    construct(config) {
        super.construct(config);

        let me      = this,
            inputEl = me.vdom.cn[2];

        if (me.useInputEvent) {
            me.addDomListeners({
                input: {
                    fn   : me.onInputValueChange,
                    id   : me.vdom.cn[2].id,
                    scope: me
                }
            });
        }

        inputEl.cls = ['neo-rangefield-input']; // replace neo-textfield-input

        me.addValueToLabel();
    }

    /**
     * Triggered after the tickmarks config got changed
     * @param {Array} value
     * @param {Array} oldValue
     * @protected
     */
    afterSetTickmarks(value, oldValue) {
        // todo
    }

    /**
     * Override the NumberField implementation
     * @param {Object} data
     */
    afterSetValue(value, oldValue) {
        this.addValueToLabel();
        super.afterSetValue(value, oldValue);
    }

    /**
     * Update label with value
     */
    addValueToLabel() {
        const me = this;

        if (me.showResultInLabel) {
            me.getLabelEl().innerHTML = `[${me.value}] ` + me.labelText;
        }
    }
}

Neo.applyClassConfig(Range);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Range);


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC92ZW5kb3JzLWV4YW1wbGVzX2NvbXBvbmVudF9wcm9jZXNzX3JlYWxXb3JsZEV4YW1wbGVfYXBwX21qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvRTtBQUNRO0FBQ0w7QUFDQTtBQUNBO0FBQ0c7QUFDSjtBQUNHO0FBQ0M7QUFDRjtBQUNFO0FBQ0g7QUFDQzs7QUFFeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsa0VBQXFCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLG9FQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QixTQUFTO0FBQ1QsdUJBQXVCLGlFQUFTO0FBQ2hDO0FBQ0Esd0JBQXdCO0FBQ3hCLFNBQVM7QUFDVCx1QkFBdUIsaUVBQVM7QUFDaEM7QUFDQSx3QkFBd0I7QUFDeEIsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLG9CQUFvQjs7QUFFN0Q7QUFDQSxTQUFTOztBQUVUO0FBQ0EsMEJBQTBCLCtEQUFTO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHdCQUF3QiwrREFBUztBQUNqQztBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isd0JBQXdCLGtFQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLDJCQUEyQiwrREFBSTtBQUMvQjtBQUNBLDRCQUE0QixnQ0FBZ0M7QUFDNUQ7QUFDQSwrQkFBK0Isa0VBQVc7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQix1Q0FBdUMsaUVBQVU7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7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QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsaUVBQWUsT0FBTyxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7O0FDaERXOztBQUVsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtREFBTTtBQUMxQjtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixTQUFTO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsU0FBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsU0FBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixTQUFTO0FBQzdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQSxnREFBZ0Q7O0FBRWhEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxTQUFTO0FBQ3JEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxpRUFBZSxLQUFLLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW8ubWpzLy4vZXhhbXBsZXMvY29tcG9uZW50L3Byb2Nlc3MvcmVhbFdvcmxkRXhhbXBsZS9NYWluQ29udGFpbmVyLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZXhhbXBsZXMvY29tcG9uZW50L3Byb2Nlc3MvcmVhbFdvcmxkRXhhbXBsZS9hcHAubWpzIiwid2VicGFjazovL25lby5tanMvLi9zcmMvY29tcG9uZW50L1Byb2Nlc3MubWpzIiwid2VicGFjazovL25lby5tanMvLi9zcmMvZm9ybS9maWVsZC9EaXNwbGF5Lm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vc3JjL2Zvcm0vZmllbGQvUmFuZ2UubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCdXR0b24gICAgICAgICAgICAgICAgZnJvbSBcIi4uLy4uLy4uLy4uL3NyYy9idXR0b24vQmFzZS5tanNcIjtcbmltcG9ydCBDaGVja0JveCAgICAgICAgICAgICAgZnJvbSBcIi4uLy4uLy4uLy4uL3NyYy9mb3JtL2ZpZWxkL0NoZWNrQm94Lm1qc1wiO1xuaW1wb3J0IENvbmZpZ3VyYXRpb25WaWV3cG9ydCBmcm9tICcuLi8uLi8uLi9Db25maWd1cmF0aW9uVmlld3BvcnQubWpzJztcbmltcG9ydCBDb21wb25lbnQgICAgICAgICAgICAgZnJvbSAnLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudC9CYXNlLm1qcyc7XG5pbXBvcnQgQ29udGFpbmVyICAgICAgICAgICAgIGZyb20gJy4uLy4uLy4uLy4uL3NyYy9jb250YWluZXIvQmFzZS5tanMnO1xuaW1wb3J0IERpc3BsYXlGaWVsZCAgICAgICAgICBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL2Zvcm0vZmllbGQvRGlzcGxheS5tanNcIlxuaW1wb3J0IEZvcm0gICAgICAgICAgICAgICAgICBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL2Zvcm0vQ29udGFpbmVyLm1qc1wiXG5pbXBvcnQgTnVtYmVyRmllbGQgICAgICAgICAgIGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvZm9ybS9maWVsZC9OdW1iZXIubWpzXCJcbmltcG9ydCBQcm9jZXNzICAgICAgICAgICAgICAgZnJvbSAnLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudC9Qcm9jZXNzLm1qcyc7XG5pbXBvcnQgUmFuZ2VGaWVsZCAgICAgICAgICAgIGZyb20gXCIuLi8uLi8uLi8uLi9zcmMvZm9ybS9maWVsZC9SYW5nZS5tanNcIlxuaW1wb3J0IFNlbGVjdEZpZWxkICAgICAgICAgICBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL2Zvcm0vZmllbGQvU2VsZWN0Lm1qc1wiO1xuaW1wb3J0IFRleHRGaWVsZCAgICAgICAgICAgICBmcm9tIFwiLi4vLi4vLi4vLi4vc3JjL2Zvcm0vZmllbGQvVGV4dC5tanNcIlxuaW1wb3J0IFRvYXN0ICAgICAgICAgICAgICAgICBmcm9tICcuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50L1RvYXN0Lm1qcyc7XG5cbi8qKlxuICogQGNsYXNzIE5lby5leGFtcGxlcy5jb21wb25lbnQucHJvY2Vzcy5yZWFsV29ybGRFeGFtcGxlLk1haW5Db250YWluZXJcbiAqIEBleHRlbmRzIE5lby5leGFtcGxlcy5Db25maWd1cmF0aW9uVmlld3BvcnRcbiAqL1xuY2xhc3MgTWFpbkNvbnRhaW5lciBleHRlbmRzIENvbmZpZ3VyYXRpb25WaWV3cG9ydCB7XG4gICAgc3RhdGljIGNvbmZpZyA9IHtcbiAgICAgICAgY2xhc3NOYW1lICAgICAgICAgICA6ICdOZW8uZXhhbXBsZXMuY29tcG9uZW50LnByb2Nlc3MucmVhbFdvcmxkRXhhbXBsZS5NYWluQ29udGFpbmVyJyxcbiAgICAgICAgY29uZmlnSXRlbUxhYmVsV2lkdGg6IDExMCxcbiAgICAgICAgY29uZmlnSXRlbVdpZHRoICAgICA6IDI1MCxcbiAgICAgICAgY29uZmlnUGFuZWxNaW5XaWR0aCA6IDI1MCxcbiAgICAgICAgY29uZmlnUGFuZWxGbGV4ICAgICA6ICdub25lJyxcbiAgICAgICAgbGF5b3V0ICAgICAgICAgICAgICA6IHtudHlwZTogJ2hib3gnLCBhbGlnbjogJ3N0cmV0Y2gnfVxuICAgIH1cblxuICAgIGNyZWF0ZUNvbmZpZ3VyYXRpb25Db21wb25lbnRzKCkge1xuICAgICAgICBsZXQgbWUgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiBbe1xuICAgICAgICAgICAgbW9kdWxlICAgOiBDaGVja0JveCxcbiAgICAgICAgICAgIGNoZWNrZWQgIDogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZSAgICA6IDUsXG4gICAgICAgICAgICBsYWJlbFRleHQ6ICdob3Jpem9udGFsJyxcbiAgICAgICAgICAgIGxpc3RlbmVyczoge2NoYW5nZTogbWUub25Db25maWdDaGFuZ2UuYmluZChtZSwgJ2hvcml6b250YWwnKX1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbW9kdWxlICAgOiBUZXh0RmllbGQsXG4gICAgICAgICAgICBsYWJlbFRleHQ6ICdhcnJvd0NvbG9yJyxcbiAgICAgICAgICAgIGxpc3RlbmVyczoge2NoYW5nZTogbWUub25Db25maWdDaGFuZ2UuYmluZChtZSwgJ2Fycm93Q29sb3InKX1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbW9kdWxlICAgOiBUZXh0RmllbGQsXG4gICAgICAgICAgICBsYWJlbFRleHQ6ICdpY29uQ29sb3InLFxuICAgICAgICAgICAgbGlzdGVuZXJzOiB7Y2hhbmdlOiBtZS5vbkNvbmZpZ0NoYW5nZS5iaW5kKG1lLCAnaWNvbkNvbG9yJyl9XG4gICAgICAgIH1dO1xuICAgIH1cblxuICAgIGNyZWF0ZUV4YW1wbGVDb21wb25lbnQoKSB7XG4gICAgICAgIGNvbnN0IG1lICAgICAgICAgICAgPSB0aGlzLFxuICAgICAgICAgICAgICBvblJhbmdlQ2hhbmdlID0gbWUub25SYW5nZUNoYW5nZS5iaW5kKG1lKSxcbiAgICAgICAgICAgICAgLy8gV2V0dGVyZGF0ZW4gdm9uIEJlcmxpbiBUaWVyZ2FydGVuXG4gICAgICAgICAgICAgIHdlYXRoZXJVcmwgICAgPSAnaHR0cHM6Ly9hcGkub3Blbi1tZXRlby5jb20vdjEvZm9yZWNhc3Q/bGF0aXR1ZGU9NTIuNTEyMzk3NjY3ODEyNTUmbG9uZ2l0dWRlPTEzLjM1NzMzOTQwOTc4NzI3JmN1cnJlbnRfd2VhdGhlcj10cnVlJztcblxuICAgICAgICBsZXQgd2VhdGhlciA9IGZldGNoKHdlYXRoZXJVcmwpLnRoZW4oYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ICAgICAgICA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKSxcbiAgICAgICAgICAgICAgICB0ZW1wZXJhdHVyZSAgID0gTWF0aC5jZWlsKHJlc3VsdC5jdXJyZW50X3dlYXRoZXIudGVtcGVyYXR1cmUpLFxuICAgICAgICAgICAgICAgIHRlbXBlcmF0dXJlRWwgPSBtZS5kb3duKHtmbGFnOiAndGVtcGVyYXR1cmUnfSlcblxuICAgICAgICAgICAgdGVtcGVyYXR1cmVFbC52YWx1ZSA9IHRlbXBlcmF0dXJlO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gTmVvLmNyZWF0ZSh7XG4gICAgICAgICAgICBtb2R1bGUgICAgICA6IENvbnRhaW5lcixcbiAgICAgICAgICAgIG1heFdpZHRoICAgIDogNDUwLFxuICAgICAgICAgICAgbWF4SGVpZ2h0ICAgOiAnMTAwJScsXG4gICAgICAgICAgICBzdHlsZSAgICAgICA6IHtcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICBtYXJnaW4gICA6ICcwIGF1dG8nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXRlbURlZmF1bHRzOiB7XG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpdGVtcyAgICAgICA6IFt7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiBDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgdmRvbSAgOiB7XG4gICAgICAgICAgICAgICAgICAgIGNuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGFnOiAnaW1nJywgc3JjOiAnLi9SYW5nZUhlYWRlci5qcGcnLCB3aWR0aDogJzEwMCUnfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogUHJvY2VzcyxcbiAgICAgICAgICAgICAgICBmbGFnICA6ICdzdGFydC1wcm9jZXNzJyxcbiAgICAgICAgICAgICAgICBpdGVtcyA6IFt7XG4gICAgICAgICAgICAgICAgICAgIGljb25DbHM6ICdmYSBmYS1wbGFuZS1kZXBhcnR1cmUnLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZSAgOiAnU3RhcnQgRWluZ2FiZScsXG4gICAgICAgICAgICAgICAgICAgIHRleHQgICA6ICdCYXR0ZXJpZSAlIHVuZCBLaWxvbWV0ZXJzdGFuZCdcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZSAgIDogRm9ybSxcbiAgICAgICAgICAgICAgICBoYXNGaWVsZHM6IHRydWUsXG4gICAgICAgICAgICAgICAgbGF5b3V0ICAgOiB7bnR5cGU6ICd2Ym94JywgYWxpZ246ICdzdHJldGNoJ30sXG4gICAgICAgICAgICAgICAgaXRlbXMgICAgOiBbe1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGUgICA6IE51bWJlckZpZWxkLFxuICAgICAgICAgICAgICAgICAgICBmbGFnICAgICA6ICdtYXgtY2FwYWNpdHknLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbFRleHQ6ICdtYXguIEthcGF6aXTDpHQga1doJyxcbiAgICAgICAgICAgICAgICAgICAgbWluVmFsdWUgOiAxLFxuICAgICAgICAgICAgICAgICAgICBtYXhWYWx1ZSA6IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgICAgOiAyOVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlICAgICAgICAgICA6IFJhbmdlRmllbGQsXG4gICAgICAgICAgICAgICAgICAgIGZsYWcgICAgICAgICAgICAgOiAnc3RhcnQtYmF0dGVyeScsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsVGV4dCAgICAgICAgOiAnQmF0dGVyaWUgJScsXG4gICAgICAgICAgICAgICAgICAgIHNob3dSZXN1bHRJbkxhYmVsOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtaW5WYWx1ZSAgICAgICAgIDogMSxcbiAgICAgICAgICAgICAgICAgICAgbWF4VmFsdWUgICAgICAgICA6IDEwMCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgICAgICAgICAgICA6IDEwMCxcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzICAgICAgICA6IHtjaGFuZ2U6IG9uUmFuZ2VDaGFuZ2V9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGUgICA6IE51bWJlckZpZWxkLFxuICAgICAgICAgICAgICAgICAgICBmbGFnICAgICA6ICdzdGFydC1rbScsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsVGV4dDogJ0tpbG9tZXRlcnN0YW5kJyxcbiAgICAgICAgICAgICAgICAgICAgbWluVmFsdWUgOiAwLFxuICAgICAgICAgICAgICAgICAgICBtYXhWYWx1ZSA6IDUwMDAwMFxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIGxpc3RlbmVyczoge2ZpZWxkRm9jdXNMZWF2ZTogb25SYW5nZUNoYW5nZX1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBtb2R1bGU6IFByb2Nlc3MsXG4gICAgICAgICAgICAgICAgZmxhZyAgOiAnZW5kLXByb2Nlc3MnLFxuICAgICAgICAgICAgICAgIGl0ZW1zIDogW3tcbiAgICAgICAgICAgICAgICAgICAgaWNvbkNsczogJ2ZhIGZhLXBsYW5lLWFycml2YWwnLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZSAgOiAnQW5rdW5mdCBFaW5nYWJlJyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dCAgIDogJ0JhdHRlcmllICUgdW5kIEtpbG9tZXRlcnN0YW5kJ1xuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbW9kdWxlICAgOiBGb3JtLFxuICAgICAgICAgICAgICAgIGhhc0ZpZWxkczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYXlvdXQgICA6IHtudHlwZTogJ3Zib3gnLCBhbGlnbjogJ3N0cmV0Y2gnfSxcbiAgICAgICAgICAgICAgICBpdGVtcyAgICA6IFt7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZSAgICAgICAgICAgOiBSYW5nZUZpZWxkLFxuICAgICAgICAgICAgICAgICAgICBmbGFnICAgICAgICAgICAgIDogJ2VuZC1iYXR0ZXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxUZXh0ICAgICAgICA6ICdCYXR0ZXJpZSAlJyxcbiAgICAgICAgICAgICAgICAgICAgc2hvd1Jlc3VsdEluTGFiZWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1pblZhbHVlICAgICAgICAgOiAwLFxuICAgICAgICAgICAgICAgICAgICBtYXhWYWx1ZSAgICAgICAgIDogOTksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICAgICAgICAgICAgOiAwLFxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMgICAgICAgIDoge2NoYW5nZTogb25SYW5nZUNoYW5nZX1cbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZSAgIDogTnVtYmVyRmllbGQsXG4gICAgICAgICAgICAgICAgICAgIGZsYWcgICAgIDogJ2VuZC1rbScsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsVGV4dDogJ0tpbG9tZXRlcnN0YW5kJyxcbiAgICAgICAgICAgICAgICAgICAgbWluVmFsdWUgOiAwLFxuICAgICAgICAgICAgICAgICAgICBtYXhWYWx1ZSA6IDUwMDAwMCxcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnM6IHtmaWVsZEZvY3VzTGVhdmU6IG9uUmFuZ2VDaGFuZ2V9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbW9kdWxlICAgIDogUHJvY2VzcyxcbiAgICAgICAgICAgICAgICBmbGFnICAgICAgOiAncmVzdWx0LXByb2Nlc3MnLFxuICAgICAgICAgICAgICAgIGFycm93Q29sb3I6ICdyZ2IoMjAwIDE1NSAxMiknLFxuICAgICAgICAgICAgICAgIGl0ZW1zICAgICA6IFt7XG4gICAgICAgICAgICAgICAgICAgIGljb25DbHM6ICdmYSBmYS1zcXVhcmUtcG9sbC12ZXJ0aWNhbCcsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlICA6ICdFcmdlYm5pc3NlJyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dCAgIDogJ0VycmVjaG5ldGUgRXJnZWJuaXNzZSdcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZSAgIDogRm9ybSxcbiAgICAgICAgICAgICAgICBoYXNGaWVsZHM6IHRydWUsXG4gICAgICAgICAgICAgICAgbGF5b3V0ICAgOiB7bnR5cGU6ICd2Ym94JywgYWxpZ246ICdzdHJldGNoJ30sXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzOiB7ZmllbGRDaGFuZ2U6IG9uUmFuZ2VDaGFuZ2V9LFxuICAgICAgICAgICAgICAgIGl0ZW1zICAgIDogW3tcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlICAgOiBEaXNwbGF5RmllbGQsXG4gICAgICAgICAgICAgICAgICAgIGZsYWcgICAgIDogJ3Jlc3VsdCcsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsVGV4dDogJ1Jlc3QgS2lsb21ldGVyJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlICAgOiBEaXNwbGF5RmllbGQsXG4gICAgICAgICAgICAgICAgICAgIGZsYWcgICAgIDogJ3JlbWFpbi1rV2gnLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbFRleHQ6ICdSZXN0IGtXaCdcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZSAgIDogRGlzcGxheUZpZWxkLFxuICAgICAgICAgICAgICAgICAgICBmbGFnICAgICA6ICdhdmVyYWdlLWtXaCcsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsVGV4dDogJ2t3SCBwcm8gMTAwa20nXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUgICAgOiBQcm9jZXNzLFxuICAgICAgICAgICAgICAgIGFycm93Q29sb3I6ICdyZ2IoMjAwIDE1NSAxMiknLFxuICAgICAgICAgICAgICAgIGl0ZW1zICAgICA6IFt7XG4gICAgICAgICAgICAgICAgICAgIGljb25DbHM6ICdmYSBmYS1tYWduaWZ5aW5nLWdsYXNzLWNoYXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgIDogJ1p1c8OkdHpsaWNoZSBBbmdhYmVuJyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dCAgIDogJ0bDvHIgZGllIExhbmd6ZWl0YXVzd2VydHVuZydcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZSAgICAgIDogRm9ybSxcbiAgICAgICAgICAgICAgICBmbGFnICAgICAgICA6ICdhZGRpdGlvbmFsLWluZm9ybWF0aW9uJyxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZCAgICA6IHRydWUsXG4gICAgICAgICAgICAgICAgbGF5b3V0ICAgICAgOiB7bnR5cGU6ICd2Ym94JywgYWxpZ246ICdzdHJldGNoJ30sXG4gICAgICAgICAgICAgICAgaXRlbURlZmF1bHRzOiB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dSZXN1bHRJbkxhYmVsOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSAgICAgICAgICAgIDogMjBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGl0ZW1zICAgICAgIDogW3tcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlICAgICAgOiBTZWxlY3RGaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUZpZWxkOiAnbmFtZScsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsVGV4dCAgIDogJ0ZhaHJzdGlsJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgICAgICAgOiAnbm9ybWFsJyxcblxuICAgICAgICAgICAgICAgICAgICBzdG9yZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3R5bGU6ICdzcG9ydFN0eWxlJywgbmFtZTogJ3Nwb3J0JywgY29kZTogJ3Nwb3J0Q29kZSd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdHlsZTogJ25vbWFsU3R5bGUnLCBuYW1lOiAnbm9ybWFsJywgY29kZTogJ25vcm1hbENvZGUnfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3R5bGU6ICdlY29TdHlsZScsIG5hbWU6ICdlY28nLCBjb2RlOiAnZWNvQ29kZSd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOiAnc3R5bGUnLCB0eXBlOiAnc3RyaW5nJ30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOiAnbmFtZScsIHR5cGU6ICdzdHJpbmcnfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6ICdjb2RlJywgdHlwZTogJ3N0cmluZyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGUgICA6IFJhbmdlRmllbGQsXG4gICAgICAgICAgICAgICAgICAgIGZsYWcgICAgIDogJ2hpZ2h3YXknLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbFRleHQ6ICdBdXRvYmFobiAlJyxcbiAgICAgICAgICAgICAgICAgICAgbWluVmFsdWUgOiAwLFxuICAgICAgICAgICAgICAgICAgICBtYXhWYWx1ZSA6IDEwMCxcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZSAgIDogUmFuZ2VGaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgZmxhZyAgICAgOiAndGVtcGVyYXR1cmUnLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbFRleHQ6ICdBdcOfZW4tVGVtcC4nLFxuICAgICAgICAgICAgICAgICAgICBtaW5WYWx1ZSA6IC0yMCxcbiAgICAgICAgICAgICAgICAgICAgbWF4VmFsdWUgOiA1MFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlIDogQnV0dG9uLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0ICAgOiAnU3BlaWNoZXJuIHVuZCBBdXN3ZXJ0ZW4nLFxuICAgICAgICAgICAgICAgICAgICB1aSAgICAgOiAnc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWluSGVpZ2h0ICAgOiAnNTBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206ICczNXB4J1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBtZS5vblNhdmVDbGljay5iaW5kKG1lKVxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIGxpc3RlbmVycyAgIDoge2ZpZWxkQ2hhbmdlOiBvblJhbmdlQ2hhbmdlfVxuICAgICAgICAgICAgfV1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gICAgICovXG4gICAgb25Db25maWdDaGFuZ2UoY29uZmlnLCBvcHRzKSB7XG4gICAgICAgIGNvbnN0IHByb2Nlc3NlcyA9IE5lby5maW5kKHtudHlwZTogJ3Byb2Nlc3MnfSk7XG5cbiAgICAgICAgcHJvY2Vzc2VzLmZvckVhY2gocHJvY2VzcyA9PiB7XG4gICAgICAgICAgICBwcm9jZXNzW2NvbmZpZ10gPSBvcHRzLnZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAqL1xuICAgIG9uUmFuZ2VDaGFuZ2UoZGF0YSkge1xuICAgICAgICBjb25zdCBtZSAgICAgICAgICAgICAgICAgICAgICA9IHRoaXMsXG4gICAgICAgICAgICAgIHN0YXJ0QmF0dGVyeSAgICAgICAgICAgID0gbWUuZG93bih7ZmxhZzogJ3N0YXJ0LWJhdHRlcnknfSkudmFsdWUsXG4gICAgICAgICAgICAgIGVuZEJhdHRlcnlFbCAgICAgICAgICAgID0gbWUuZG93bih7ZmxhZzogJ2VuZC1iYXR0ZXJ5J30pLFxuICAgICAgICAgICAgICBlbmRCYXR0ZXJ5ICAgICAgICAgICAgICA9IGVuZEJhdHRlcnlFbC52YWx1ZSxcbiAgICAgICAgICAgICAgc3RhcnRLbSAgICAgICAgICAgICAgICAgPSBtZS5kb3duKHtmbGFnOiAnc3RhcnQta20nfSkudmFsdWUsXG4gICAgICAgICAgICAgIGVuZEttRWwgICAgICAgICAgICAgICAgID0gbWUuZG93bih7ZmxhZzogJ2VuZC1rbSd9KSxcbiAgICAgICAgICAgICAgZW5kS20gICAgICAgICAgICAgICAgICAgPSBlbmRLbUVsLnZhbHVlLFxuICAgICAgICAgICAgICBhZGRpdGlvbmFsSW5mb3JtYXRpb25FbCA9IG1lLmRvd24oe2ZsYWc6ICdhZGRpdGlvbmFsLWluZm9ybWF0aW9uJ30pO1xuXG4gICAgICAgIGlmIChzdGFydEttKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydFByb2Nlc3MgPSB0aGlzLmRvd24oe2ZsYWc6ICdzdGFydC1wcm9jZXNzJ30pO1xuXG4gICAgICAgICAgICBzdGFydFByb2Nlc3MuYXJyb3dDb2xvciA9ICcjMTJGRTg4JztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5kS20pIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0UHJvY2VzcyA9IHRoaXMuZG93bih7ZmxhZzogJ2VuZC1wcm9jZXNzJ30pO1xuXG4gICAgICAgICAgICBzdGFydFByb2Nlc3MuYXJyb3dDb2xvciA9ICcjMTJGRTg4JztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoc3RhcnRLbSAmJiAhZW5kS20pIHx8IGVuZEttIDw9IHN0YXJ0S20pIHtcbiAgICAgICAgICAgIGVuZEttRWwudmFsdWUgPSBzdGFydEttICsgNTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5kQmF0dGVyeSA+PSBzdGFydEJhdHRlcnkpIHtcbiAgICAgICAgICAgIGVuZEJhdHRlcnlFbC52YWx1ZSA9IHN0YXJ0QmF0dGVyeSAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhcnRLbSAmJiBlbmRLbSkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0RWwgICAgICA9IG1lLmRvd24oe2ZsYWc6ICdyZXN1bHQnfSksXG4gICAgICAgICAgICAgICAgICBrd3BNYXhFbCAgICAgID0gbWUuZG93bih7ZmxhZzogJ21heC1jYXBhY2l0eSd9KSxcbiAgICAgICAgICAgICAgICAgIHJlbWFpbkt3aEVsICAgPSBtZS5kb3duKHtmbGFnOiAncmVtYWluLWtXaCd9KSxcbiAgICAgICAgICAgICAgICAgIGF2ZXJhZ2VLd2hFbCAgPSBtZS5kb3duKHtmbGFnOiAnYXZlcmFnZS1rV2gnfSksXG4gICAgICAgICAgICAgICAgICBtYXhDYXBhY2l0eUVsID0gbWUuZG93bih7ZmxhZzogJ21heC1jYXBhY2l0eSd9KSxcbiAgICAgICAgICAgICAgICAgIGJhdHRlcnlEaWZmICAgPSBzdGFydEJhdHRlcnkgLSBlbmRCYXR0ZXJ5LFxuICAgICAgICAgICAgICAgICAga21EaWZmICAgICAgICA9IGVuZEttIC0gc3RhcnRLbSxcbiAgICAgICAgICAgICAgICAgIGtXaFVzZWQgICAgICAgPSBtYXhDYXBhY2l0eUVsLnZhbHVlICogKGJhdHRlcnlEaWZmIC8gMTAwKSxcbiAgICAgICAgICAgICAgICAgIHJlc3VsdEttICAgICAgPSAoZW5kQmF0dGVyeSkgKiBrbURpZmYgLyBiYXR0ZXJ5RGlmZjtcblxuICAgICAgICAgICAgYWRkaXRpb25hbEluZm9ybWF0aW9uRWwuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJlc3VsdEVsLnZhbHVlID0gTWF0aC5jZWlsKHJlc3VsdEttKTtcbiAgICAgICAgICAgIHJlbWFpbkt3aEVsLnZhbHVlID0gTWF0aC5jZWlsKGt3cE1heEVsLnZhbHVlICogKGVuZEJhdHRlcnkgLyAxMDApKTtcbiAgICAgICAgICAgIGF2ZXJhZ2VLd2hFbC52YWx1ZSA9IE1hdGguY2VpbCgxMDAgKiAoa1doVXNlZCAvIGttRGlmZikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWRkaXRpb25hbEluZm9ybWF0aW9uRWwuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvd3MgYSB0b2FzdFxuICAgICAqL1xuICAgIG9uU2F2ZUNsaWNrKCkge1xuICAgICAgICBjb25zdCBhdmVyYWdlS3doID0gdGhpcy5kb3duKHtmbGFnOiAnYXZlcmFnZS1rV2gnfSkudmFsdWU7XG4gICAgICAgIGxldCBtc2cgICAgID0gYER1IGhhc3QgZWluZW4gZHVyY2hzY2huaXR0bGljaGVuIFZlcmJyYXVjaCB2b24gJHthdmVyYWdlS3dofSBrd2gvMTAwa20uYCxcbiAgICAgICAgICAgIGljb25DbHMgPSAnZmEgZmEtdXNlci10aWUnLFxuICAgICAgICAgICAgdGl0bGUgICA9ICdyZXN1bHRzJyxcbiAgICAgICAgICAgIHVpO1xuXG4gICAgICAgIGlmIChhdmVyYWdlS3doID4gMjUpIHtcbiAgICAgICAgICAgIG1zZyA9IGBEdSBiaXN0IHNlZWVociBzcG9ydGxpY2ggdW50ZXJ3ZWdzIG1pdCAke2F2ZXJhZ2VLd2h9IGtXaCBhdWYgMTAwa21gO1xuICAgICAgICAgICAgaWNvbkNscyA9ICdmYSBmYS1mbGFnLWNoZWNrZXJlZCc7XG4gICAgICAgICAgICB1aSA9ICdkYW5nZXInO1xuICAgICAgICAgICAgdGl0bGUgPSAncmFjaW5nJztcbiAgICAgICAgfSBlbHNlIGlmIChhdmVyYWdlS3doIDwgMTUpIHtcbiAgICAgICAgICAgIG1zZyA9IGBEdSBiaXN0IHNlaHIgdW13ZWx0YmV3dXNzdCBnZWZhaHJlbiB1bmQgaGFzdCBudXIgJHthdmVyYWdlS3dofSBrd2gvMTAwa20gdmVyYnJhdWNodC5gO1xuICAgICAgICAgICAgaWNvbkNscyA9ICdmYS1icmFuZHMgZmEtcGFnZWxpbmVzJztcbiAgICAgICAgICAgIHVpID0gJ3N1Y2Nlc3MnO1xuICAgICAgICAgICAgdGl0bGUgPSAnRUNPJztcbiAgICAgICAgfVxuXG4gICAgICAgIE5lby50b2FzdCh7XG4gICAgICAgICAgICBhcHBOYW1lOiB0aGlzLmFwcE5hbWUsXG4gICAgICAgICAgICB1aSAgICAgOiB1aSxcbiAgICAgICAgICAgIGljb25DbHM6IGljb25DbHMsXG4gICAgICAgICAgICB0aXRsZSAgOiB0aXRsZSxcbiAgICAgICAgICAgIG1zZyAgICA6IG1zZ1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbk5lby5hcHBseUNsYXNzQ29uZmlnKE1haW5Db250YWluZXIpO1xuXG5leHBvcnQgZGVmYXVsdCBNYWluQ29udGFpbmVyO1xuIiwiaW1wb3J0IE1haW5Db250YWluZXIgZnJvbSAnLi9NYWluQ29udGFpbmVyLm1qcyc7XG5cbmV4cG9ydCBjb25zdCBvblN0YXJ0ID0gKCkgPT4gTmVvLmFwcCh7XG4gICAgbWFpblZpZXc6IE1haW5Db250YWluZXIsXG4gICAgbmFtZSAgICA6ICdOZW8uZXhhbXBsZXMuY29tcG9uZW50LnJlYWxXb3JsZEV4YW1wbGUucHJvY2Vzcydcbn0pOyIsImltcG9ydCBCYXNlICAgICBmcm9tICcuL0Jhc2UubWpzJztcbmltcG9ydCBOZW9BcnJheSBmcm9tICcuLi91dGlsL0FycmF5Lm1qcyc7XG5cbi8qKlxuICogQGNsYXNzIE5lby5jb21wb25lbnQuUHJvY2Vzc1xuICogQGV4dGVuZHMgTmVvLmNvbXBvbmVudC5CYXNlXG4gKlxuICogQGV4YW1wbGVcbiAqICAgICB7XG4gKiAgICAgICAgIG1vZHVsZTogUHJvY2VzcyxcbiAqICAgICAgICAgYXJyb3dDb2xvcjogJ2RhcmtyZWQnLFxuICogICAgICAgICBpdGVtczogW3tcbiAqICAgICAgICAgICAgIGljb25DbHM6ICdmYSBmYS1jYXInLFxuICogICAgICAgICAgICAgaGVhZGVyOiAnMS4gV3Vuc2Noa2VubnplaWNoZW4nLFxuICogICAgICAgICAgICAgdGV4dDogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ZXIgYWRpcGlzY2luZyBlbGl0Li4uJ1xuICogICAgICAgICB9LCB7XG4gKiAgICAgICAgICAgICBpY29uQ2xzOiAnZmEgZmEtaG91c2UnLFxuICogICAgICAgICAgICAgaGVhZGVyOiAnMi4gVGVybWluZScsXG4gKiAgICAgICAgICAgICB0ZXh0OiAnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVlciBhZGlwaXNjaW5nIGVsaXQuLi4nXG4gKiAgICAgICAgIH1dXG4gKiAgICAgfVxuICovXG5jbGFzcyBQcm9jZXNzIGV4dGVuZHMgQmFzZSB7XG4gICAgLyoqXG4gICAgICogRWFjaCBpdGVtIGdldHMgYW4gYXJyb3cgYW5kIHRoZSBjb250ZW50LCB3aGljaCBnZXRzIGZpbGxlZCB3aXRoIGFuIGl0ZW0uXG4gICAgICogVGhlIHNsaXQgYWxsb3dzIHRvIGZhZGUgb3V0IHRoZSBzaWRlYmFyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fSBpdGVtTGF5b3V0PXtjbHM6ICdwcm9jZXNzLXN0ZXAnLCBjbjogW3tjbHM6IFsnYXJyb3cnLCAnd2hpdGUnXX0se2NsczogWydzbGl0J119LHtjbHM6IFsnYXJyb3cnLCAneWVsbG93J119LHtjbHM6ICdwcm9jZXNzLWNvbnRlbnQnLCBjbjogW3tjbHM6IFsncHJvY2Vzcy1zdGVwLWljb24nXX0se3RhZzogJ2gyJywgY2xzOiBbJ3Byb2Nlc3Mtc3RlcC1oZWFkZXInXX0se2NsczogWydwcm9jZXNzLXN0ZXAtdGV4dCddfV19XX1cbiAgICAgKi9cbiAgICBpdGVtTGF5b3V0ID0ge1xuICAgICAgICBjbHM6ICdwcm9jZXNzLXN0ZXAnLCBjbjogW1xuICAgICAgICAgICAge2NsczogWydhcnJvdycsICd3aGl0ZSddfSxcbiAgICAgICAgICAgIHtjbHM6IFsnc2xpdCddfSxcbiAgICAgICAgICAgIHtjbHM6IFsnYXJyb3cnLCAneWVsbG93J119LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNsczogJ3Byb2Nlc3MtY29udGVudCcsIGNuOiBbXG4gICAgICAgICAgICAgICAgICAgIHtjbHM6IFsncHJvY2Vzcy1zdGVwLWljb24nXX0sXG4gICAgICAgICAgICAgICAgICAgIHt0YWc6ICdoMicsIGNsczogWydwcm9jZXNzLXN0ZXAtaGVhZGVyJ119LFxuICAgICAgICAgICAgICAgICAgICB7Y2xzOiBbJ3Byb2Nlc3Mtc3RlcC10ZXh0J119XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfVxuXG4gICAgc3RhdGljIGNvbmZpZyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gY2xhc3NOYW1lPSdOZW8uY29tcG9uZW50LlByb2Nlc3MnXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGNsYXNzTmFtZTogJ05lby5jb21wb25lbnQuUHJvY2VzcycsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IG50eXBlPSdwcm9jZXNzJ1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBudHlwZTogJ3Byb2Nlc3MnLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nW119IGJhc2VDbHM9WyduZW8tcHJvY2VzcyddXG4gICAgICAgICAqL1xuICAgICAgICBiYXNlQ2xzOiBbJ25lby1wcm9jZXNzJ10sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgY29sb3Igb2YgdGhlIHByb2Nlc3MgYXJyb3cuXG4gICAgICAgICAqIE91dCBvZiB0aGUgYm94IHRoaXMgaXMgI2ZmZGI0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd8bnVsbH0gYXJyb3dDb2xvcj1udWxsXG4gICAgICAgICAqL1xuICAgICAgICBhcnJvd0NvbG9yXzogbnVsbCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqICd0cnVlJyBzaG93cyB0aGUgaXRlbXMgZnJvbSBsZWZ0IHRvIHJpZ2h0XG4gICAgICAgICAqICdmYWxzZScgc2hvd3MgdGhlIGl0ZW1zIGZyb20gdG9wIHRvIGJvdHRvbVxuICAgICAgICAgKiBUaGVyZSBpcyBhIG1pbmltdW0gd2lkdGggb2YgNzAwcHggdG8gc2hvdyBpdGVtcyAndHJ1ZSdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Qm9vbGVhbn0gaG9yaXpvbnRhbD10cnVlXG4gICAgICAgICAqL1xuICAgICAgICBob3Jpem9udGFsXzogdHJ1ZSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgY29sb3Igb2YgdGhlIGljb25zLlxuICAgICAgICAgKiBPdXQgb2YgdGhlIGJveCB0aGlzIGlzICNmZmRiNGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfG51bGx9IGljb25Db2xvcj1udWxsXG4gICAgICAgICAqL1xuICAgICAgICBpY29uQ29sb3JfOiBudWxsLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFYWNoIGl0ZW0gd2lsbCBiZSB0cmFuc2ZlcnJlZCBpbnRvIHRoZSBpdGVtTGF5b3V0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdFtdfE9iamVjdH0gaXRlbXM9bnVsbFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAgICAgaXRlbXM6IFt7XG4gICAgICAgICAqICAgICAgICAgaWNvbkNsczogJ2ZhIGZhLWNhcicsXG4gICAgICAgICAqICAgICAgICAgaGVhZGVyOiAnMS4gRmlyc3QgU3RlcCcsXG4gICAgICAgICAqICAgICAgICAgdGV4dDogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ZXIgYWRpcGlzY2luZyBlbGl0LiBNYWVjZW5hcyBwb3J0dGl0b3IgY29uZ3VlIG1hc3NhLiBGdXNjZSBwb3N1ZXJlLCBtYWduYSBzZWQgcHVsdmluYXIgdWx0cmljaWVzLCBwdXJ1cyBsZWN0dXMgbWFsZXN1YWRhIGxpYmVybywgc2l0IGFtZXQgY29tbW9kbyBtYWduYSBlcm9zIHF1aXMgdXJuYS4nXG4gICAgICAgICAqICAgICB9LCB7XG4gICAgICAgICAqICAgICAgICAgaWNvbkNsczogJ2ZhIGZhLWhvdXNlJyxcbiAgICAgICAgICogICAgICAgICBoZWFkZXI6ICcyLiBTZWNvbmQgU3RlcCcsXG4gICAgICAgICAqICAgICAgICAgdGV4dDogJ0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ZXIgYWRpcGlzY2luZyBlbGl0LiBNYWVjZW5hcyBwb3J0dGl0b3IgY29uZ3VlIG1hc3NhLiBGdXNjZSBwb3N1ZXJlLCBtYWduYSBzZWQgcHVsdmluYXIgdWx0cmljaWVzLCBwdXJ1cyBsZWN0dXMgbWFsZXN1YWRhIGxpYmVybywgc2l0IGFtZXQgY29tbW9kbyBtYWduYSBlcm9zIHF1aXMgdXJuYS4nXG4gICAgICAgICAqICAgICB9XVxuICAgICAgICAgKi9cbiAgICAgICAgaXRlbXNfOiBudWxsLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB2ZG9tIGRlZmluaXRpb24gaXMgdXNlZCBkdXJpbmcgaXRlbSBjcmVhdGlvblxuICAgICAgICAgKiBEbyBub3QgcmVtb3ZlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH0gdmRvbT17Y246W119XG4gICAgICAgICAqL1xuICAgICAgICB2ZG9tOiB7Y246IFtdfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciBhcnJvd0NvbG9yIGNvbmZpZyBnb3QgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuZXdWYWx1ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBhZnRlclNldEFycm93Q29sb3IobmV3VmFsdWUpIHtcbiAgICAgICAgaWYgKG5ld1ZhbHVlID09PSBudWxsKSByZXR1cm47XG5cbiAgICAgICAgbGV0IHN0eWxlID0gdGhpcy5zdHlsZTtcblxuICAgICAgICBzdHlsZVsnLS1wcm9jZXNzLWFycm93LWNvbG9yJ10gPSBuZXdWYWx1ZSArICchaW1wb3J0YW50JztcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciBob3Jpem9udGFsIGNvbmZpZyBnb3QgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNIb3Jpem9udGFsXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGFmdGVyU2V0SG9yaXpvbnRhbChpc0hvcml6b250YWwpIHtcbiAgICAgICAgbGV0IGNscyAgICAgICAgID0gdGhpcy5jbHMsXG4gICAgICAgICAgICBwb3NpdGlvbkNscyA9IGlzSG9yaXpvbnRhbCA/ICduZW8tcHJvY2Vzcy1ob3Jpem9udGFsJyA6ICduZW8tcHJvY2Vzcy12ZXJ0aWNhbCcsXG4gICAgICAgICAgICByZW1vdmVDbHMgICA9ICFpc0hvcml6b250YWwgPyAnbmVvLXByb2Nlc3MtaG9yaXpvbnRhbCcgOiAnbmVvLXByb2Nlc3MtdmVydGljYWwnO1xuXG4gICAgICAgIE5lb0FycmF5LmFkZChjbHMsIHBvc2l0aW9uQ2xzKTtcbiAgICAgICAgTmVvQXJyYXkucmVtb3ZlKGNscywgcmVtb3ZlQ2xzKTtcblxuICAgICAgICB0aGlzLmNscyA9IGNscztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgaWNvbkNvbG9yIGNvbmZpZyBnb3QgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuZXdWYWx1ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBhZnRlclNldEljb25Db2xvcihuZXdWYWx1ZSkge1xuICAgICAgICBpZiAobmV3VmFsdWUgPT09IG51bGwpIHJldHVybjtcbiAgICAgICAgbGV0IHN0eWxlID0gdGhpcy5zdHlsZTtcblxuICAgICAgICBzdHlsZVsnLS1wcm9jZXNzLWljb24tY29sb3InXSA9IG5ld1ZhbHVlICsgJyFpbXBvcnRhbnQnO1xuXG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgaXRlbXMgY29uZmlnIGdvdCBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gaXRlbXNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgYWZ0ZXJTZXRJdGVtcyhpdGVtcykge1xuICAgICAgICBpZiAoIShOZW8uaXNBcnJheShpdGVtcykgfHwgTmVvLmlzT2JqZWN0KGl0ZW1zKSkpIHJldHVybjtcbiAgICAgICAgaWYgKCFOZW8uaXNBcnJheShpdGVtcykpIHtcbiAgICAgICAgICAgIGl0ZW1zID0gW2l0ZW1zXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB2ZG9tUm9vdCAgID0gdGhpcy52ZG9tLFxuICAgICAgICAgICAgaXRlbUxheW91dCA9IHRoaXMuaXRlbUxheW91dDtcblxuICAgICAgICBpdGVtcy5mb3JFYWNoKChuZXdJdGVtKSA9PiB7XG4gICAgICAgICAgICBsZXQgY3VySXRlbSA9IE5lby5jbG9uZShpdGVtTGF5b3V0LCB0cnVlKSxcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gY3VySXRlbS5jblszXTtcblxuICAgICAgICAgICAgY29udGVudC5jblswXS5jbHMucHVzaChuZXdJdGVtLmljb25DbHMpO1xuICAgICAgICAgICAgY29udGVudC5jblsxXS5pbm5lckhUTUwgPSBuZXdJdGVtLnRpdGxlO1xuICAgICAgICAgICAgY29udGVudC5jblsyXS5pbm5lckhUTUwgPSBuZXdJdGVtLnRleHQ7XG5cbiAgICAgICAgICAgIE5lb0FycmF5LmFkZCh2ZG9tUm9vdC5jbiwgY3VySXRlbSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuTmVvLmFwcGx5Q2xhc3NDb25maWcoUHJvY2Vzcyk7XG5cbmV4cG9ydCBkZWZhdWx0IFByb2Nlc3M7IiwiaW1wb3J0IFRleHQgZnJvbSAnLi9UZXh0Lm1qcyc7XG5cbi8qKlxuICogQW4gZXh0ZW5kZWQgZm9ybS5maWVsZC5UZXh0LCB3aGljaCBpcyByZWFkLW9ubHkuXG4gKiBAY2xhc3MgTmVvLmZvcm0uZmllbGQuRGlzcGxheVxuICogQGV4dGVuZHMgTmVvLmZvcm0uZmllbGQuVGV4dFxuICovXG5jbGFzcyBEaXNwbGF5IGV4dGVuZHMgVGV4dCB7XG4gICAgc3RhdGljIGNvbmZpZyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gY2xhc3NOYW1lPSdOZW8uZm9ybS5maWVsZC5EaXNwbGF5J1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBjbGFzc05hbWU6ICdOZW8uZm9ybS5maWVsZC5EaXNwbGF5JyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gbnR5cGU9J2Rpc3BsYXlmaWVsZCdcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgbnR5cGU6ICdkaXNwbGF5ZmllbGQnLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nW119IGJhc2VDbHM9WyduZW8tZGlzcGxheWZpZWxkJywnbmVvLXRleHRmaWVsZCddXG4gICAgICAgICAqL1xuICAgICAgICBiYXNlQ2xzOiBbJ25lby1kaXNwbGF5ZmllbGQnLCAnbmVvLXRleHRmaWVsZCddLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7Qm9vbGVhbn0gY2xlYXJhYmxlPWZhbHNlXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGNsZWFyYWJsZTogZmFsc2VcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnXG4gICAgICovXG4gICAgY29uc3RydWN0KGNvbmZpZykge1xuICAgICAgICBzdXBlci5jb25zdHJ1Y3QoY29uZmlnKTtcblxuICAgICAgICBsZXQgbWUgICAgICA9IHRoaXMsXG4gICAgICAgICAgICBpbnB1dEVsID0gbWUuZ2V0SW5wdXRFbCgpO1xuXG4gICAgICAgIGlucHV0RWwucmVhZG9ubHkgPSAncmVhZG9ubHknO1xuICAgICAgICBpbnB1dEVsLnRhYmluZGV4ID0gJy0xJztcblxuICAgICAgICBtZS51cGRhdGUoKTtcbiAgICB9XG59XG5cbk5lby5hcHBseUNsYXNzQ29uZmlnKERpc3BsYXkpO1xuXG5leHBvcnQgZGVmYXVsdCBEaXNwbGF5O1xuIiwiaW1wb3J0IE51bWJlciBmcm9tICcuL051bWJlci5tanMnO1xuXG4vKipcbiAqIEBjbGFzcyBOZW8uZm9ybS5maWVsZC5SYW5nZVxuICogQGV4dGVuZHMgTmVvLmZvcm0uZmllbGQuTnVtYmVyXG4gKi9cbmNsYXNzIFJhbmdlIGV4dGVuZHMgTnVtYmVyIHtcbiAgICAvKipcbiAgICAgKiBSZW1vdmluZyB0aGUgZGVib3VuY2UgZm9yIHJhbmdlIGZpZWxkc1xuICAgICAqIEBtZW1iZXIge09iamVjdH0gZGVsYXlhYmxlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBzdGF0aWNcbiAgICAgKi9cbiAgICBzdGF0aWMgZGVsYXlhYmxlID0ge31cblxuICAgIHN0YXRpYyBjb25maWcgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGNsYXNzTmFtZT0nTmVvLmZvcm0uZmllbGQuUmFuZ2UnXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGNsYXNzTmFtZTogJ05lby5mb3JtLmZpZWxkLlJhbmdlJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gbnR5cGU9J3JhbmdlZmllbGQnXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIG50eXBlOiAncmFuZ2VmaWVsZCcsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmdbXX0gYmFzZUNscz1bJ25lby1yYW5nZWZpZWxkJywnbmVvLXRleHRmaWVsZCddXG4gICAgICAgICAqL1xuICAgICAgICBiYXNlQ2xzOiBbJ25lby1yYW5nZWZpZWxkJywgJ25lby10ZXh0ZmllbGQnXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRydWUgc2hvd3MgYSBjbGVhciB0cmlnZ2VyIGluIGNhc2UgdGhlIGZpZWxkIGhhcyBhIG5vbiBlbXB0eSB2YWx1ZS5cbiAgICAgICAgICogQG1lbWJlciB7Qm9vbGVhbn0gY2xlYXJhYmxlPWZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICBjbGVhcmFibGU6IGZhbHNlLFxuICAgICAgICAvKipcbiAgICAgICAgICogVmFsdWUgZm9yIHRoZSBpbnB1dFR5cGVfIHRleHRmaWVsZCBjb25maWdcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBpbnB1dFR5cGU9J3JhbmdlJ1xuICAgICAgICAgKi9cbiAgICAgICAgaW5wdXRUeXBlOiAncmFuZ2UnLFxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSwgc2hvd3MgdGhlIHJlc3VsdCBvZiB0aGUgc2xpZGVyIGluIHRoZSBsYWJlbFxuICAgICAgICAgKiBAbWVtYmVyIHtCb29sZWFufSBzaG93UmVzdWx0SW5MYWJlbD1mYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgc2hvd1Jlc3VsdEluTGFiZWw6IGZhbHNlLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXl9IHRpY2ttYXJrc189W11cbiAgICAgICAgICovXG4gICAgICAgIHRpY2ttYXJrc186IFtdLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7Qm9vbGVhbn0gdXNlSW5wdXRFdmVudD1mYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdXNlSW5wdXRFdmVudDogZmFsc2UsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNhYmxlcyB0aGUgZmllbGQuTnVtYmVyIGJ1dHRvbnNcbiAgICAgICAgICogQG1lbWJlciB7Qm9vbGVhbn0gdXNlSW5wdXRFdmVudD1mYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdXNlU3BpbkJ1dHRvbnM6IGZhbHNlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqL1xuICAgIGNvbnN0cnVjdChjb25maWcpIHtcbiAgICAgICAgc3VwZXIuY29uc3RydWN0KGNvbmZpZyk7XG5cbiAgICAgICAgbGV0IG1lICAgICAgPSB0aGlzLFxuICAgICAgICAgICAgaW5wdXRFbCA9IG1lLnZkb20uY25bMl07XG5cbiAgICAgICAgaWYgKG1lLnVzZUlucHV0RXZlbnQpIHtcbiAgICAgICAgICAgIG1lLmFkZERvbUxpc3RlbmVycyh7XG4gICAgICAgICAgICAgICAgaW5wdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgZm4gICA6IG1lLm9uSW5wdXRWYWx1ZUNoYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgaWQgICA6IG1lLnZkb20uY25bMl0uaWQsXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlOiBtZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5wdXRFbC5jbHMgPSBbJ25lby1yYW5nZWZpZWxkLWlucHV0J107IC8vIHJlcGxhY2UgbmVvLXRleHRmaWVsZC1pbnB1dFxuXG4gICAgICAgIG1lLmFkZFZhbHVlVG9MYWJlbCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciB0aGUgdGlja21hcmtzIGNvbmZpZyBnb3QgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlXG4gICAgICogQHBhcmFtIHtBcnJheX0gb2xkVmFsdWVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgYWZ0ZXJTZXRUaWNrbWFya3ModmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIC8vIHRvZG9cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSB0aGUgTnVtYmVyRmllbGQgaW1wbGVtZW50YXRpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAqL1xuICAgIGFmdGVyU2V0VmFsdWUodmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMuYWRkVmFsdWVUb0xhYmVsKCk7XG4gICAgICAgIHN1cGVyLmFmdGVyU2V0VmFsdWUodmFsdWUsIG9sZFZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgbGFiZWwgd2l0aCB2YWx1ZVxuICAgICAqL1xuICAgIGFkZFZhbHVlVG9MYWJlbCgpIHtcbiAgICAgICAgY29uc3QgbWUgPSB0aGlzO1xuXG4gICAgICAgIGlmIChtZS5zaG93UmVzdWx0SW5MYWJlbCkge1xuICAgICAgICAgICAgbWUuZ2V0TGFiZWxFbCgpLmlubmVySFRNTCA9IGBbJHttZS52YWx1ZX1dIGAgKyBtZS5sYWJlbFRleHQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbk5lby5hcHBseUNsYXNzQ29uZmlnKFJhbmdlKTtcblxuZXhwb3J0IGRlZmF1bHQgUmFuZ2U7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=