"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["vendors-examples_component_process_realWorldExample_app_mjs"],{

/***/ "./examples/component/process/realWorldExample/MainContainer.mjs":
/*!***********************************************************************!*\
  !*** ./examples/component/process/realWorldExample/MainContainer.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_button_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../src/button/Base.mjs */ "./src/button/Base.mjs");
/* harmony import */ var _src_form_field_CheckBox_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../src/form/field/CheckBox.mjs */ "./src/form/field/CheckBox.mjs");
/* harmony import */ var _ConfigurationViewport_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../ConfigurationViewport.mjs */ "./examples/ConfigurationViewport.mjs");
/* harmony import */ var _src_form_field_ComboBox_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../src/form/field/ComboBox.mjs */ "./src/form/field/ComboBox.mjs");
/* harmony import */ var _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../src/component/Base.mjs */ "./src/component/Base.mjs");
/* harmony import */ var _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../src/container/Base.mjs */ "./src/container/Base.mjs");
/* harmony import */ var _src_form_field_Display_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../src/form/field/Display.mjs */ "./src/form/field/Display.mjs");
/* harmony import */ var _src_form_Container_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../src/form/Container.mjs */ "./src/form/Container.mjs");
/* harmony import */ var _src_form_field_Number_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../src/form/field/Number.mjs */ "./src/form/field/Number.mjs");
/* harmony import */ var _src_component_Process_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../src/component/Process.mjs */ "./src/component/Process.mjs");
/* harmony import */ var _src_form_field_Range_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../src/form/field/Range.mjs */ "./src/form/field/Range.mjs");
/* harmony import */ var _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../src/form/field/Text.mjs */ "./src/form/field/Text.mjs");
/* harmony import */ var _src_component_Toast_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../src/component/Toast.mjs */ "./src/component/Toast.mjs");














/**
 * @class Neo.examples.component.process.realWorldExample.MainContainer
 * @extends Neo.examples.ConfigurationViewport
 */
class MainContainer extends _ConfigurationViewport_mjs__WEBPACK_IMPORTED_MODULE_2__["default"] {
    static config = {
        className           : 'Neo.examples.component.process.realWorldExample.MainContainer',
        configItemLabelWidth: 110,
        configItemWidth     : 250,
        configPanelMinWidth : 250,
        configPanelFlex     : 'none',
        layout              : {ntype: 'hbox', align: 'stretch'}
    }

    createConfigurationComponents() {
        let me = this;

        return [{
            module   : _src_form_field_CheckBox_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],
            checked  : false,
            value    : 5,
            labelText: 'horizontal',
            listeners: {change: me.onConfigChange.bind(me, 'horizontal')}
        }, {
            module   : _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_11__["default"],
            labelText: 'arrowColor',
            listeners: {change: me.onConfigChange.bind(me, 'arrowColor')}
        }, {
            module   : _src_form_field_Text_mjs__WEBPACK_IMPORTED_MODULE_11__["default"],
            labelText: 'iconColor',
            listeners: {change: me.onConfigChange.bind(me, 'iconColor')}
        }]
    }

    createExampleComponent() {
        const me            = this,
              onRangeChange = me.onRangeChange.bind(me),
              // Wetterdaten von Berlin Tiergarten
              weatherUrl    = 'https://api.open-meteo.com/v1/forecast?latitude=52.51239766781255&longitude=13.35733940978727&current_weather=true';

        let weather = fetch(weatherUrl).then(async (response) => {
            let result        = await response.json(),
                temperature   = Math.ceil(result.current_weather.temperature),
                temperatureEl = me.down({flag: 'temperature'})

            temperatureEl.value = temperature
        });

        return Neo.create({
            module      : _src_container_Base_mjs__WEBPACK_IMPORTED_MODULE_5__["default"],
            maxWidth    : 450,
            maxHeight   : '100%',
            style       : {
                overflowY: 'auto',
                margin   : '0 auto'
            },
            itemDefaults: {
                horizontal: false
            },
            items       : [{
                module: _src_component_Base_mjs__WEBPACK_IMPORTED_MODULE_4__["default"],
                vdom  : {
                    cn: [
                        {tag: 'img', src: './RangeHeader.jpg', width: '100%'}
                    ]
                }
            }, {
                module: _src_component_Process_mjs__WEBPACK_IMPORTED_MODULE_9__["default"],
                flag  : 'start-process',
                items : [{
                    iconCls: 'fa fa-plane-departure',
                    title  : 'Start Eingabe',
                    text   : 'Batterie % und Kilometerstand'
                }]
            }, {
                module   : _src_form_Container_mjs__WEBPACK_IMPORTED_MODULE_7__["default"],
                hasFields: true,
                layout   : {ntype: 'vbox', align: 'stretch'},
                items    : [{
                    module   : _src_form_field_Number_mjs__WEBPACK_IMPORTED_MODULE_8__["default"],
                    flag     : 'max-capacity',
                    labelText: 'max. Kapazität kWh',
                    minValue : 1,
                    maxValue : 500,
                    value    : 29
                }, {
                    module           : _src_form_field_Range_mjs__WEBPACK_IMPORTED_MODULE_10__["default"],
                    flag             : 'start-battery',
                    labelText        : 'Batterie %',
                    showResultInLabel: true,
                    minValue         : 1,
                    maxValue         : 100,
                    value            : 100,
                    listeners        : {change: onRangeChange}
                }, {
                    module   : _src_form_field_Number_mjs__WEBPACK_IMPORTED_MODULE_8__["default"],
                    flag     : 'start-km',
                    labelText: 'Kilometerstand',
                    minValue : 0,
                    maxValue : 500000
                }],
                listeners: {fieldFocusLeave: onRangeChange}
            }, {
                module: _src_component_Process_mjs__WEBPACK_IMPORTED_MODULE_9__["default"],
                flag  : 'end-process',
                items : [{
                    iconCls: 'fa fa-plane-arrival',
                    title  : 'Ankunft Eingabe',
                    text   : 'Batterie % und Kilometerstand'
                }]
            }, {
                module   : _src_form_Container_mjs__WEBPACK_IMPORTED_MODULE_7__["default"],
                hasFields: true,
                layout   : {ntype: 'vbox', align: 'stretch'},
                items    : [{
                    module           : _src_form_field_Range_mjs__WEBPACK_IMPORTED_MODULE_10__["default"],
                    flag             : 'end-battery',
                    labelText        : 'Batterie %',
                    showResultInLabel: true,
                    minValue         : 0,
                    maxValue         : 99,
                    value            : 0,
                    listeners        : {change: onRangeChange}
                }, {
                    module   : _src_form_field_Number_mjs__WEBPACK_IMPORTED_MODULE_8__["default"],
                    flag     : 'end-km',
                    labelText: 'Kilometerstand',
                    minValue : 0,
                    maxValue : 500000,
                }],
                listeners: {fieldFocusLeave: onRangeChange}
            }, {
                module    : _src_component_Process_mjs__WEBPACK_IMPORTED_MODULE_9__["default"],
                flag      : 'result-process',
                arrowColor: 'rgb(200 155 12)',
                items     : [{
                    iconCls: 'fa fa-square-poll-vertical',
                    title  : 'Ergebnisse',
                    text   : 'Errechnete Ergebnisse'
                }]
            }, {
                module   : _src_form_Container_mjs__WEBPACK_IMPORTED_MODULE_7__["default"],
                hasFields: true,
                layout   : {ntype: 'vbox', align: 'stretch'},
                listeners: {fieldChange: onRangeChange},
                items    : [{
                    module   : _src_form_field_Display_mjs__WEBPACK_IMPORTED_MODULE_6__["default"],
                    flag     : 'result',
                    labelText: 'Rest Kilometer'
                }, {
                    module   : _src_form_field_Display_mjs__WEBPACK_IMPORTED_MODULE_6__["default"],
                    flag     : 'remain-kWh',
                    labelText: 'Rest kWh'
                }, {
                    module   : _src_form_field_Display_mjs__WEBPACK_IMPORTED_MODULE_6__["default"],
                    flag     : 'average-kWh',
                    labelText: 'kwH pro 100km'
                }]
            }, {
                module    : _src_component_Process_mjs__WEBPACK_IMPORTED_MODULE_9__["default"],
                arrowColor: 'rgb(200 155 12)',
                items     : [{
                    iconCls: 'fa fa-magnifying-glass-chart',
                    title  : 'Zusätzliche Angaben',
                    text   : 'Für die Langzeitauswertung'
                }]
            }, {
                module      : _src_form_Container_mjs__WEBPACK_IMPORTED_MODULE_7__["default"],
                flag        : 'additional-information',
                disabled    : true,
                layout      : {ntype: 'vbox', align: 'stretch'},
                itemDefaults: {
                    showResultInLabel: true,
                    value            : 20
                },
                items       : [{
                    module      : _src_form_field_ComboBox_mjs__WEBPACK_IMPORTED_MODULE_3__["default"],
                    displayField: 'name',
                    labelText   : 'Fahrstil',
                    value       : 'normal',

                    store: {
                        data : [
                            {style: 'sportStyle',  name: 'sport',  code: 'sportCode'},
                            {style: 'normalStyle', name: 'normal', code: 'normalCode'},
                            {style: 'ecoStyle',    name: 'eco',    code: 'ecoCode'},
                        ],
                        model: {
                            fields: [
                                {name: 'style', type: 'String'},
                                {name: 'name',  type: 'String'},
                                {name: 'code',  type: 'String'}
                            ]
                        }
                    }
                }, {
                    module   : _src_form_field_Range_mjs__WEBPACK_IMPORTED_MODULE_10__["default"],
                    flag     : 'highway',
                    labelText: 'Autobahn %',
                    minValue : 0,
                    maxValue : 100,
                }, {
                    module   : _src_form_field_Range_mjs__WEBPACK_IMPORTED_MODULE_10__["default"],
                    flag     : 'temperature',
                    labelText: 'Außen-Temp.',
                    minValue : -20,
                    maxValue : 50
                }, {
                    module : _src_button_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
                    text   : 'Speichern und Auswerten',
                    ui     : 'secondary',
                    style  : {
                        minHeight   : '50px',
                        marginBottom: '35px'
                    },
                    handler: me.onSaveClick.bind(me)
                }],
                listeners   : {fieldChange: onRangeChange}
            }]
        })
    }

    /**
     * @param {String} config
     * @param {Object} opts
     */
    onConfigChange(config, opts) {
        const processes = Neo.find({ntype: 'process'});

        processes.forEach(process => {
            process[config] = opts.value
        })
    }

    /**
     * @param {Object} data
     */
    onRangeChange(data) {
        const me                      = this,
              startBattery            = me.down({flag: 'start-battery'}).value,
              endBatteryEl            = me.down({flag: 'end-battery'}),
              endBattery              = endBatteryEl.value,
              startKm                 = me.down({flag: 'start-km'}).value,
              endKmEl                 = me.down({flag: 'end-km'}),
              endKm                   = endKmEl.value,
              additionalInformationEl = me.down({flag: 'additional-information'});

        if (startKm) {
            const startProcess = this.down({flag: 'start-process'});

            startProcess.arrowColor = '#12FE88'
        }

        if (endKm) {
            const startProcess = this.down({flag: 'end-process'});

            startProcess.arrowColor = '#12FE88'
        }

        if ((startKm && !endKm) || endKm <= startKm) {
            endKmEl.value = startKm + 5
        }

        if (endBattery >= startBattery) {
            endBatteryEl.value = startBattery - 1
        }

        if (startKm && endKm) {
            const resultEl      = me.down({flag: 'result'}),
                  kwpMaxEl      = me.down({flag: 'max-capacity'}),
                  remainKwhEl   = me.down({flag: 'remain-kWh'}),
                  averageKwhEl  = me.down({flag: 'average-kWh'}),
                  maxCapacityEl = me.down({flag: 'max-capacity'}),
                  batteryDiff   = startBattery - endBattery,
                  kmDiff        = endKm - startKm,
                  kWhUsed       = maxCapacityEl.value * (batteryDiff / 100),
                  resultKm      = (endBattery) * kmDiff / batteryDiff;

            additionalInformationEl.disabled = false;
            resultEl.value = Math.ceil(resultKm);
            remainKwhEl.value = Math.ceil(kwpMaxEl.value * (endBattery / 100));
            averageKwhEl.value = Math.ceil(100 * (kWhUsed / kmDiff))
        } else {
            additionalInformationEl.disabled = true
        }
    }

    /**
     * Shows a toast
     */
    onSaveClick() {
        const averageKwh = this.down({flag: 'average-kWh'}).value;
        let msg     = `Du hast einen durchschnittlichen Verbrauch von ${averageKwh} kwh/100km.`,
            iconCls = 'fa fa-user-tie',
            title   = 'results',
            ui;

        if (averageKwh > 25) {
            msg = `Du bist seeehr sportlich unterwegs mit ${averageKwh} kWh auf 100km`;
            iconCls = 'fa fa-flag-checkered';
            ui = 'danger';
            title = 'racing'
        } else if (averageKwh < 15) {
            msg = `Du bist sehr umweltbewusst gefahren und hast nur ${averageKwh} kwh/100km verbraucht.`;
            iconCls = 'fa-brands fa-pagelines';
            ui = 'success';
            title = 'ECO'
        }

        Neo.toast({
            appName: this.appName,
            ui     : ui,
            iconCls: iconCls,
            title  : title,
            msg    : msg
        })
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(MainContainer));


/***/ }),

/***/ "./examples/component/process/realWorldExample/app.mjs":
/*!*************************************************************!*\
  !*** ./examples/component/process/realWorldExample/app.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   onStart: () => (/* binding */ onStart)
/* harmony export */ });
/* harmony import */ var _MainContainer_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MainContainer.mjs */ "./examples/component/process/realWorldExample/MainContainer.mjs");


const onStart = () => Neo.app({
    mainView: _MainContainer_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],
    name    : 'Neo.examples.component.realWorldExample.process'
});

/***/ }),

/***/ "./src/form/field/Display.mjs":
/*!************************************!*\
  !*** ./src/form/field/Display.mjs ***!
  \************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Text_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Text.mjs */ "./src/form/field/Text.mjs");


/**
 * An extended form.field.Text, which is read-only.
 * @class Neo.form.field.Display
 * @extends Neo.form.field.Text
 */
class Display extends _Text_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Neo.form.field.Display'
         * @protected
         */
        className: 'Neo.form.field.Display',
        /**
         * @member {String} ntype='displayfield'
         * @protected
         */
        ntype: 'displayfield',
        /**
         * @member {String[]} baseCls=['neo-displayfield','neo-textfield']
         */
        baseCls: ['neo-displayfield', 'neo-textfield'],
        /**
         * @member {Boolean} clearable=false
         * @protected
         */
        clearable: false
    }

    /**
     * @param {Object} config
     */
    construct(config) {
        super.construct(config);

        let me      = this,
            inputEl = me.getInputEl();

        inputEl.readonly = 'readonly';
        inputEl.tabindex = '-1';

        me.update()
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(Display));


/***/ }),

/***/ "./src/form/field/Range.mjs":
/*!**********************************!*\
  !*** ./src/form/field/Range.mjs ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Number_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Number.mjs */ "./src/form/field/Number.mjs");


/**
 * @class Neo.form.field.Range
 * @extends Neo.form.field.Number
 */
class Range extends _Number_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    /**
     * Removing the debounce for range fields
     * @member {Object} delayable
     * @protected
     * @static
     */
    static delayable = {}

    static config = {
        /**
         * @member {String} className='Neo.form.field.Range'
         * @protected
         */
        className: 'Neo.form.field.Range',
        /**
         * @member {String} ntype='rangefield'
         * @protected
         */
        ntype: 'rangefield',
        /**
         * @member {String[]} baseCls=['neo-rangefield','neo-textfield']
         */
        baseCls: ['neo-rangefield', 'neo-textfield'],
        /**
         * True shows a clear trigger in case the field has a non empty value.
         * @member {Boolean} clearable=false
         */
        clearable: false,
        /**
         * Value for the inputType_ textfield config
         * @member {String} inputType='range'
         */
        inputType: 'range',
        /**
         * If true, shows the result of the slider in the label
         * @member {Boolean} showResultInLabel=false
         */
        showResultInLabel: false,
        /**
         * @member {Array} tickmarks_=[]
         */
        tickmarks_: [],
        /**
         * @member {Boolean} useInputEvent=false
         */
        useInputEvent: false,
        /**
         * Disables the field.Number buttons
         * @member {Boolean} useInputEvent=false
         */
        useSpinButtons: false
    }

    /**
     * @param {Object} config
     */
    construct(config) {
        super.construct(config);

        let me      = this,
            inputEl = me.vdom.cn[2];

        if (me.useInputEvent) {
            me.addDomListeners({
                input: {
                    fn   : me.onInputValueChange,
                    id   : me.vdom.cn[2].id,
                    scope: me
                }
            });
        }

        inputEl.cls = ['neo-rangefield-input']; // replace neo-textfield-input

        me.addValueToLabel()
    }

    /**
     * Triggered after the tickmarks config got changed
     * @param {Array} value
     * @param {Array} oldValue
     * @protected
     */
    afterSetTickmarks(value, oldValue) {
        // todo
    }

    /**
     * Triggered after the value config got changed
     * @param {Number} value
     * @param {Number} oldValue
     */
    afterSetValue(value, oldValue) {
        this.addValueToLabel();
        super.afterSetValue(value, oldValue)
    }

    /**
     * Update label with value
     */
    addValueToLabel() {
        let me = this;

        if (me.showResultInLabel) {
            me.getLabelEl().text = `[${me.value}] ` + me.labelText
        }
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(Range));


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC92ZW5kb3JzLWV4YW1wbGVzX2NvbXBvbmVudF9wcm9jZXNzX3JlYWxXb3JsZEV4YW1wbGVfYXBwX21qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvRTtBQUNRO0FBQ0w7QUFDSztBQUNMO0FBQ0E7QUFDSTtBQUNKO0FBQ0c7QUFDQTtBQUNEO0FBQ0Q7QUFDQTs7QUFFeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsa0VBQXFCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLG9FQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QixTQUFTO0FBQ1QsdUJBQXVCLGlFQUFTO0FBQ2hDO0FBQ0Esd0JBQXdCO0FBQ3hCLFNBQVM7QUFDVCx1QkFBdUIsaUVBQVM7QUFDaEM7QUFDQSx3QkFBd0I7QUFDeEIsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLG9CQUFvQjs7QUFFN0Q7QUFDQSxTQUFTOztBQUVUO0FBQ0EsMEJBQTBCLCtEQUFTO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHdCQUF3QiwrREFBUztBQUNqQztBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2Isd0JBQXdCLGtFQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLDJCQUEyQiwrREFBSTtBQUMvQjtBQUNBLDRCQUE0QixnQ0FBZ0M7QUFDNUQ7QUFDQSwrQkFBK0Isa0VBQVc7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQix1Q0FBdUMsa0VBQVU7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7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QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsU0FBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixTQUFTO0FBQzdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQSxnREFBZ0Q7O0FBRWhEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1Q0FBdUMsU0FBUztBQUNoRDtBQUNBO0FBQ0E7O0FBRUEsaUVBQWUscUJBQXFCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW8ubWpzLy4vZXhhbXBsZXMvY29tcG9uZW50L3Byb2Nlc3MvcmVhbFdvcmxkRXhhbXBsZS9NYWluQ29udGFpbmVyLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZXhhbXBsZXMvY29tcG9uZW50L3Byb2Nlc3MvcmVhbFdvcmxkRXhhbXBsZS9hcHAubWpzIiwid2VicGFjazovL25lby5tanMvLi9zcmMvZm9ybS9maWVsZC9EaXNwbGF5Lm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vc3JjL2Zvcm0vZmllbGQvUmFuZ2UubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCdXR0b24gICAgICAgICAgICAgICAgZnJvbSAnLi4vLi4vLi4vLi4vc3JjL2J1dHRvbi9CYXNlLm1qcyc7XG5pbXBvcnQgQ2hlY2tCb3ggICAgICAgICAgICAgIGZyb20gJy4uLy4uLy4uLy4uL3NyYy9mb3JtL2ZpZWxkL0NoZWNrQm94Lm1qcyc7XG5pbXBvcnQgQ29uZmlndXJhdGlvblZpZXdwb3J0IGZyb20gJy4uLy4uLy4uL0NvbmZpZ3VyYXRpb25WaWV3cG9ydC5tanMnO1xuaW1wb3J0IENvbWJvQm94ICAgICAgICAgICAgICBmcm9tICcuLi8uLi8uLi8uLi9zcmMvZm9ybS9maWVsZC9Db21ib0JveC5tanMnO1xuaW1wb3J0IENvbXBvbmVudCAgICAgICAgICAgICBmcm9tICcuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50L0Jhc2UubWpzJztcbmltcG9ydCBDb250YWluZXIgICAgICAgICAgICAgZnJvbSAnLi4vLi4vLi4vLi4vc3JjL2NvbnRhaW5lci9CYXNlLm1qcyc7XG5pbXBvcnQgRGlzcGxheUZpZWxkICAgICAgICAgIGZyb20gJy4uLy4uLy4uLy4uL3NyYy9mb3JtL2ZpZWxkL0Rpc3BsYXkubWpzJztcbmltcG9ydCBGb3JtICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vLi4vLi4vLi4vc3JjL2Zvcm0vQ29udGFpbmVyLm1qcyc7XG5pbXBvcnQgTnVtYmVyRmllbGQgICAgICAgICAgIGZyb20gJy4uLy4uLy4uLy4uL3NyYy9mb3JtL2ZpZWxkL051bWJlci5tanMnO1xuaW1wb3J0IFByb2Nlc3MgICAgICAgICAgICAgICBmcm9tICcuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50L1Byb2Nlc3MubWpzJztcbmltcG9ydCBSYW5nZUZpZWxkICAgICAgICAgICAgZnJvbSAnLi4vLi4vLi4vLi4vc3JjL2Zvcm0vZmllbGQvUmFuZ2UubWpzJztcbmltcG9ydCBUZXh0RmllbGQgICAgICAgICAgICAgZnJvbSAnLi4vLi4vLi4vLi4vc3JjL2Zvcm0vZmllbGQvVGV4dC5tanMnO1xuaW1wb3J0IFRvYXN0ICAgICAgICAgICAgICAgICBmcm9tICcuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50L1RvYXN0Lm1qcyc7XG5cbi8qKlxuICogQGNsYXNzIE5lby5leGFtcGxlcy5jb21wb25lbnQucHJvY2Vzcy5yZWFsV29ybGRFeGFtcGxlLk1haW5Db250YWluZXJcbiAqIEBleHRlbmRzIE5lby5leGFtcGxlcy5Db25maWd1cmF0aW9uVmlld3BvcnRcbiAqL1xuY2xhc3MgTWFpbkNvbnRhaW5lciBleHRlbmRzIENvbmZpZ3VyYXRpb25WaWV3cG9ydCB7XG4gICAgc3RhdGljIGNvbmZpZyA9IHtcbiAgICAgICAgY2xhc3NOYW1lICAgICAgICAgICA6ICdOZW8uZXhhbXBsZXMuY29tcG9uZW50LnByb2Nlc3MucmVhbFdvcmxkRXhhbXBsZS5NYWluQ29udGFpbmVyJyxcbiAgICAgICAgY29uZmlnSXRlbUxhYmVsV2lkdGg6IDExMCxcbiAgICAgICAgY29uZmlnSXRlbVdpZHRoICAgICA6IDI1MCxcbiAgICAgICAgY29uZmlnUGFuZWxNaW5XaWR0aCA6IDI1MCxcbiAgICAgICAgY29uZmlnUGFuZWxGbGV4ICAgICA6ICdub25lJyxcbiAgICAgICAgbGF5b3V0ICAgICAgICAgICAgICA6IHtudHlwZTogJ2hib3gnLCBhbGlnbjogJ3N0cmV0Y2gnfVxuICAgIH1cblxuICAgIGNyZWF0ZUNvbmZpZ3VyYXRpb25Db21wb25lbnRzKCkge1xuICAgICAgICBsZXQgbWUgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiBbe1xuICAgICAgICAgICAgbW9kdWxlICAgOiBDaGVja0JveCxcbiAgICAgICAgICAgIGNoZWNrZWQgIDogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZSAgICA6IDUsXG4gICAgICAgICAgICBsYWJlbFRleHQ6ICdob3Jpem9udGFsJyxcbiAgICAgICAgICAgIGxpc3RlbmVyczoge2NoYW5nZTogbWUub25Db25maWdDaGFuZ2UuYmluZChtZSwgJ2hvcml6b250YWwnKX1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbW9kdWxlICAgOiBUZXh0RmllbGQsXG4gICAgICAgICAgICBsYWJlbFRleHQ6ICdhcnJvd0NvbG9yJyxcbiAgICAgICAgICAgIGxpc3RlbmVyczoge2NoYW5nZTogbWUub25Db25maWdDaGFuZ2UuYmluZChtZSwgJ2Fycm93Q29sb3InKX1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbW9kdWxlICAgOiBUZXh0RmllbGQsXG4gICAgICAgICAgICBsYWJlbFRleHQ6ICdpY29uQ29sb3InLFxuICAgICAgICAgICAgbGlzdGVuZXJzOiB7Y2hhbmdlOiBtZS5vbkNvbmZpZ0NoYW5nZS5iaW5kKG1lLCAnaWNvbkNvbG9yJyl9XG4gICAgICAgIH1dXG4gICAgfVxuXG4gICAgY3JlYXRlRXhhbXBsZUNvbXBvbmVudCgpIHtcbiAgICAgICAgY29uc3QgbWUgICAgICAgICAgICA9IHRoaXMsXG4gICAgICAgICAgICAgIG9uUmFuZ2VDaGFuZ2UgPSBtZS5vblJhbmdlQ2hhbmdlLmJpbmQobWUpLFxuICAgICAgICAgICAgICAvLyBXZXR0ZXJkYXRlbiB2b24gQmVybGluIFRpZXJnYXJ0ZW5cbiAgICAgICAgICAgICAgd2VhdGhlclVybCAgICA9ICdodHRwczovL2FwaS5vcGVuLW1ldGVvLmNvbS92MS9mb3JlY2FzdD9sYXRpdHVkZT01Mi41MTIzOTc2Njc4MTI1NSZsb25naXR1ZGU9MTMuMzU3MzM5NDA5Nzg3MjcmY3VycmVudF93ZWF0aGVyPXRydWUnO1xuXG4gICAgICAgIGxldCB3ZWF0aGVyID0gZmV0Y2god2VhdGhlclVybCkudGhlbihhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgICAgICAgID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLFxuICAgICAgICAgICAgICAgIHRlbXBlcmF0dXJlICAgPSBNYXRoLmNlaWwocmVzdWx0LmN1cnJlbnRfd2VhdGhlci50ZW1wZXJhdHVyZSksXG4gICAgICAgICAgICAgICAgdGVtcGVyYXR1cmVFbCA9IG1lLmRvd24oe2ZsYWc6ICd0ZW1wZXJhdHVyZSd9KVxuXG4gICAgICAgICAgICB0ZW1wZXJhdHVyZUVsLnZhbHVlID0gdGVtcGVyYXR1cmVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIE5lby5jcmVhdGUoe1xuICAgICAgICAgICAgbW9kdWxlICAgICAgOiBDb250YWluZXIsXG4gICAgICAgICAgICBtYXhXaWR0aCAgICA6IDQ1MCxcbiAgICAgICAgICAgIG1heEhlaWdodCAgIDogJzEwMCUnLFxuICAgICAgICAgICAgc3R5bGUgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgbWFyZ2luICAgOiAnMCBhdXRvJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGl0ZW1EZWZhdWx0czoge1xuICAgICAgICAgICAgICAgIGhvcml6b250YWw6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXRlbXMgICAgICAgOiBbe1xuICAgICAgICAgICAgICAgIG1vZHVsZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIHZkb20gIDoge1xuICAgICAgICAgICAgICAgICAgICBjbjogW1xuICAgICAgICAgICAgICAgICAgICAgICAge3RhZzogJ2ltZycsIHNyYzogJy4vUmFuZ2VIZWFkZXIuanBnJywgd2lkdGg6ICcxMDAlJ31cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBtb2R1bGU6IFByb2Nlc3MsXG4gICAgICAgICAgICAgICAgZmxhZyAgOiAnc3RhcnQtcHJvY2VzcycsXG4gICAgICAgICAgICAgICAgaXRlbXMgOiBbe1xuICAgICAgICAgICAgICAgICAgICBpY29uQ2xzOiAnZmEgZmEtcGxhbmUtZGVwYXJ0dXJlJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgIDogJ1N0YXJ0IEVpbmdhYmUnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0ICAgOiAnQmF0dGVyaWUgJSB1bmQgS2lsb21ldGVyc3RhbmQnXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUgICA6IEZvcm0sXG4gICAgICAgICAgICAgICAgaGFzRmllbGRzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxheW91dCAgIDoge250eXBlOiAndmJveCcsIGFsaWduOiAnc3RyZXRjaCd9LFxuICAgICAgICAgICAgICAgIGl0ZW1zICAgIDogW3tcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlICAgOiBOdW1iZXJGaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgZmxhZyAgICAgOiAnbWF4LWNhcGFjaXR5JyxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxUZXh0OiAnbWF4LiBLYXBheml0w6R0IGtXaCcsXG4gICAgICAgICAgICAgICAgICAgIG1pblZhbHVlIDogMSxcbiAgICAgICAgICAgICAgICAgICAgbWF4VmFsdWUgOiA1MDAsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICAgIDogMjlcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZSAgICAgICAgICAgOiBSYW5nZUZpZWxkLFxuICAgICAgICAgICAgICAgICAgICBmbGFnICAgICAgICAgICAgIDogJ3N0YXJ0LWJhdHRlcnknLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbFRleHQgICAgICAgIDogJ0JhdHRlcmllICUnLFxuICAgICAgICAgICAgICAgICAgICBzaG93UmVzdWx0SW5MYWJlbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWluVmFsdWUgICAgICAgICA6IDEsXG4gICAgICAgICAgICAgICAgICAgIG1heFZhbHVlICAgICAgICAgOiAxMDAsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICAgICAgICAgICAgOiAxMDAsXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycyAgICAgICAgOiB7Y2hhbmdlOiBvblJhbmdlQ2hhbmdlfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlICAgOiBOdW1iZXJGaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgZmxhZyAgICAgOiAnc3RhcnQta20nLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbFRleHQ6ICdLaWxvbWV0ZXJzdGFuZCcsXG4gICAgICAgICAgICAgICAgICAgIG1pblZhbHVlIDogMCxcbiAgICAgICAgICAgICAgICAgICAgbWF4VmFsdWUgOiA1MDAwMDBcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnM6IHtmaWVsZEZvY3VzTGVhdmU6IG9uUmFuZ2VDaGFuZ2V9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiBQcm9jZXNzLFxuICAgICAgICAgICAgICAgIGZsYWcgIDogJ2VuZC1wcm9jZXNzJyxcbiAgICAgICAgICAgICAgICBpdGVtcyA6IFt7XG4gICAgICAgICAgICAgICAgICAgIGljb25DbHM6ICdmYSBmYS1wbGFuZS1hcnJpdmFsJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgIDogJ0Fua3VuZnQgRWluZ2FiZScsXG4gICAgICAgICAgICAgICAgICAgIHRleHQgICA6ICdCYXR0ZXJpZSAlIHVuZCBLaWxvbWV0ZXJzdGFuZCdcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZSAgIDogRm9ybSxcbiAgICAgICAgICAgICAgICBoYXNGaWVsZHM6IHRydWUsXG4gICAgICAgICAgICAgICAgbGF5b3V0ICAgOiB7bnR5cGU6ICd2Ym94JywgYWxpZ246ICdzdHJldGNoJ30sXG4gICAgICAgICAgICAgICAgaXRlbXMgICAgOiBbe1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGUgICAgICAgICAgIDogUmFuZ2VGaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgZmxhZyAgICAgICAgICAgICA6ICdlbmQtYmF0dGVyeScsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsVGV4dCAgICAgICAgOiAnQmF0dGVyaWUgJScsXG4gICAgICAgICAgICAgICAgICAgIHNob3dSZXN1bHRJbkxhYmVsOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtaW5WYWx1ZSAgICAgICAgIDogMCxcbiAgICAgICAgICAgICAgICAgICAgbWF4VmFsdWUgICAgICAgICA6IDk5LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSAgICAgICAgICAgIDogMCxcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzICAgICAgICA6IHtjaGFuZ2U6IG9uUmFuZ2VDaGFuZ2V9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGUgICA6IE51bWJlckZpZWxkLFxuICAgICAgICAgICAgICAgICAgICBmbGFnICAgICA6ICdlbmQta20nLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbFRleHQ6ICdLaWxvbWV0ZXJzdGFuZCcsXG4gICAgICAgICAgICAgICAgICAgIG1pblZhbHVlIDogMCxcbiAgICAgICAgICAgICAgICAgICAgbWF4VmFsdWUgOiA1MDAwMDAsXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzOiB7ZmllbGRGb2N1c0xlYXZlOiBvblJhbmdlQ2hhbmdlfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZSAgICA6IFByb2Nlc3MsXG4gICAgICAgICAgICAgICAgZmxhZyAgICAgIDogJ3Jlc3VsdC1wcm9jZXNzJyxcbiAgICAgICAgICAgICAgICBhcnJvd0NvbG9yOiAncmdiKDIwMCAxNTUgMTIpJyxcbiAgICAgICAgICAgICAgICBpdGVtcyAgICAgOiBbe1xuICAgICAgICAgICAgICAgICAgICBpY29uQ2xzOiAnZmEgZmEtc3F1YXJlLXBvbGwtdmVydGljYWwnLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZSAgOiAnRXJnZWJuaXNzZScsXG4gICAgICAgICAgICAgICAgICAgIHRleHQgICA6ICdFcnJlY2huZXRlIEVyZ2Vibmlzc2UnXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUgICA6IEZvcm0sXG4gICAgICAgICAgICAgICAgaGFzRmllbGRzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxheW91dCAgIDoge250eXBlOiAndmJveCcsIGFsaWduOiAnc3RyZXRjaCd9LFxuICAgICAgICAgICAgICAgIGxpc3RlbmVyczoge2ZpZWxkQ2hhbmdlOiBvblJhbmdlQ2hhbmdlfSxcbiAgICAgICAgICAgICAgICBpdGVtcyAgICA6IFt7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZSAgIDogRGlzcGxheUZpZWxkLFxuICAgICAgICAgICAgICAgICAgICBmbGFnICAgICA6ICdyZXN1bHQnLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbFRleHQ6ICdSZXN0IEtpbG9tZXRlcidcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZSAgIDogRGlzcGxheUZpZWxkLFxuICAgICAgICAgICAgICAgICAgICBmbGFnICAgICA6ICdyZW1haW4ta1doJyxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxUZXh0OiAnUmVzdCBrV2gnXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGUgICA6IERpc3BsYXlGaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgZmxhZyAgICAgOiAnYXZlcmFnZS1rV2gnLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbFRleHQ6ICdrd0ggcHJvIDEwMGttJ1xuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbW9kdWxlICAgIDogUHJvY2VzcyxcbiAgICAgICAgICAgICAgICBhcnJvd0NvbG9yOiAncmdiKDIwMCAxNTUgMTIpJyxcbiAgICAgICAgICAgICAgICBpdGVtcyAgICAgOiBbe1xuICAgICAgICAgICAgICAgICAgICBpY29uQ2xzOiAnZmEgZmEtbWFnbmlmeWluZy1nbGFzcy1jaGFydCcsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlICA6ICdadXPDpHR6bGljaGUgQW5nYWJlbicsXG4gICAgICAgICAgICAgICAgICAgIHRleHQgICA6ICdGw7xyIGRpZSBMYW5nemVpdGF1c3dlcnR1bmcnXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUgICAgICA6IEZvcm0sXG4gICAgICAgICAgICAgICAgZmxhZyAgICAgICAgOiAnYWRkaXRpb25hbC1pbmZvcm1hdGlvbicsXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQgICAgOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxheW91dCAgICAgIDoge250eXBlOiAndmJveCcsIGFsaWduOiAnc3RyZXRjaCd9LFxuICAgICAgICAgICAgICAgIGl0ZW1EZWZhdWx0czoge1xuICAgICAgICAgICAgICAgICAgICBzaG93UmVzdWx0SW5MYWJlbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgICAgICAgICAgICA6IDIwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpdGVtcyAgICAgICA6IFt7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZSAgICAgIDogQ29tYm9Cb3gsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlGaWVsZDogJ25hbWUnLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbFRleHQgICA6ICdGYWhyc3RpbCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICAgICAgIDogJ25vcm1hbCcsXG5cbiAgICAgICAgICAgICAgICAgICAgc3RvcmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3N0eWxlOiAnc3BvcnRTdHlsZScsICBuYW1lOiAnc3BvcnQnLCAgY29kZTogJ3Nwb3J0Q29kZSd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdHlsZTogJ25vcm1hbFN0eWxlJywgbmFtZTogJ25vcm1hbCcsIGNvZGU6ICdub3JtYWxDb2RlJ30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3N0eWxlOiAnZWNvU3R5bGUnLCAgICBuYW1lOiAnZWNvJywgICAgY29kZTogJ2Vjb0NvZGUnfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTogJ3N0eWxlJywgdHlwZTogJ1N0cmluZyd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTogJ25hbWUnLCAgdHlwZTogJ1N0cmluZyd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTogJ2NvZGUnLCAgdHlwZTogJ1N0cmluZyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGUgICA6IFJhbmdlRmllbGQsXG4gICAgICAgICAgICAgICAgICAgIGZsYWcgICAgIDogJ2hpZ2h3YXknLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbFRleHQ6ICdBdXRvYmFobiAlJyxcbiAgICAgICAgICAgICAgICAgICAgbWluVmFsdWUgOiAwLFxuICAgICAgICAgICAgICAgICAgICBtYXhWYWx1ZSA6IDEwMCxcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZSAgIDogUmFuZ2VGaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgZmxhZyAgICAgOiAndGVtcGVyYXR1cmUnLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbFRleHQ6ICdBdcOfZW4tVGVtcC4nLFxuICAgICAgICAgICAgICAgICAgICBtaW5WYWx1ZSA6IC0yMCxcbiAgICAgICAgICAgICAgICAgICAgbWF4VmFsdWUgOiA1MFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlIDogQnV0dG9uLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0ICAgOiAnU3BlaWNoZXJuIHVuZCBBdXN3ZXJ0ZW4nLFxuICAgICAgICAgICAgICAgICAgICB1aSAgICAgOiAnc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWluSGVpZ2h0ICAgOiAnNTBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206ICczNXB4J1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBtZS5vblNhdmVDbGljay5iaW5kKG1lKVxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIGxpc3RlbmVycyAgIDoge2ZpZWxkQ2hhbmdlOiBvblJhbmdlQ2hhbmdlfVxuICAgICAgICAgICAgfV1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAgICAgKi9cbiAgICBvbkNvbmZpZ0NoYW5nZShjb25maWcsIG9wdHMpIHtcbiAgICAgICAgY29uc3QgcHJvY2Vzc2VzID0gTmVvLmZpbmQoe250eXBlOiAncHJvY2Vzcyd9KTtcblxuICAgICAgICBwcm9jZXNzZXMuZm9yRWFjaChwcm9jZXNzID0+IHtcbiAgICAgICAgICAgIHByb2Nlc3NbY29uZmlnXSA9IG9wdHMudmFsdWVcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAqL1xuICAgIG9uUmFuZ2VDaGFuZ2UoZGF0YSkge1xuICAgICAgICBjb25zdCBtZSAgICAgICAgICAgICAgICAgICAgICA9IHRoaXMsXG4gICAgICAgICAgICAgIHN0YXJ0QmF0dGVyeSAgICAgICAgICAgID0gbWUuZG93bih7ZmxhZzogJ3N0YXJ0LWJhdHRlcnknfSkudmFsdWUsXG4gICAgICAgICAgICAgIGVuZEJhdHRlcnlFbCAgICAgICAgICAgID0gbWUuZG93bih7ZmxhZzogJ2VuZC1iYXR0ZXJ5J30pLFxuICAgICAgICAgICAgICBlbmRCYXR0ZXJ5ICAgICAgICAgICAgICA9IGVuZEJhdHRlcnlFbC52YWx1ZSxcbiAgICAgICAgICAgICAgc3RhcnRLbSAgICAgICAgICAgICAgICAgPSBtZS5kb3duKHtmbGFnOiAnc3RhcnQta20nfSkudmFsdWUsXG4gICAgICAgICAgICAgIGVuZEttRWwgICAgICAgICAgICAgICAgID0gbWUuZG93bih7ZmxhZzogJ2VuZC1rbSd9KSxcbiAgICAgICAgICAgICAgZW5kS20gICAgICAgICAgICAgICAgICAgPSBlbmRLbUVsLnZhbHVlLFxuICAgICAgICAgICAgICBhZGRpdGlvbmFsSW5mb3JtYXRpb25FbCA9IG1lLmRvd24oe2ZsYWc6ICdhZGRpdGlvbmFsLWluZm9ybWF0aW9uJ30pO1xuXG4gICAgICAgIGlmIChzdGFydEttKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydFByb2Nlc3MgPSB0aGlzLmRvd24oe2ZsYWc6ICdzdGFydC1wcm9jZXNzJ30pO1xuXG4gICAgICAgICAgICBzdGFydFByb2Nlc3MuYXJyb3dDb2xvciA9ICcjMTJGRTg4J1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVuZEttKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydFByb2Nlc3MgPSB0aGlzLmRvd24oe2ZsYWc6ICdlbmQtcHJvY2Vzcyd9KTtcblxuICAgICAgICAgICAgc3RhcnRQcm9jZXNzLmFycm93Q29sb3IgPSAnIzEyRkU4OCdcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoc3RhcnRLbSAmJiAhZW5kS20pIHx8IGVuZEttIDw9IHN0YXJ0S20pIHtcbiAgICAgICAgICAgIGVuZEttRWwudmFsdWUgPSBzdGFydEttICsgNVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVuZEJhdHRlcnkgPj0gc3RhcnRCYXR0ZXJ5KSB7XG4gICAgICAgICAgICBlbmRCYXR0ZXJ5RWwudmFsdWUgPSBzdGFydEJhdHRlcnkgLSAxXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhcnRLbSAmJiBlbmRLbSkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0RWwgICAgICA9IG1lLmRvd24oe2ZsYWc6ICdyZXN1bHQnfSksXG4gICAgICAgICAgICAgICAgICBrd3BNYXhFbCAgICAgID0gbWUuZG93bih7ZmxhZzogJ21heC1jYXBhY2l0eSd9KSxcbiAgICAgICAgICAgICAgICAgIHJlbWFpbkt3aEVsICAgPSBtZS5kb3duKHtmbGFnOiAncmVtYWluLWtXaCd9KSxcbiAgICAgICAgICAgICAgICAgIGF2ZXJhZ2VLd2hFbCAgPSBtZS5kb3duKHtmbGFnOiAnYXZlcmFnZS1rV2gnfSksXG4gICAgICAgICAgICAgICAgICBtYXhDYXBhY2l0eUVsID0gbWUuZG93bih7ZmxhZzogJ21heC1jYXBhY2l0eSd9KSxcbiAgICAgICAgICAgICAgICAgIGJhdHRlcnlEaWZmICAgPSBzdGFydEJhdHRlcnkgLSBlbmRCYXR0ZXJ5LFxuICAgICAgICAgICAgICAgICAga21EaWZmICAgICAgICA9IGVuZEttIC0gc3RhcnRLbSxcbiAgICAgICAgICAgICAgICAgIGtXaFVzZWQgICAgICAgPSBtYXhDYXBhY2l0eUVsLnZhbHVlICogKGJhdHRlcnlEaWZmIC8gMTAwKSxcbiAgICAgICAgICAgICAgICAgIHJlc3VsdEttICAgICAgPSAoZW5kQmF0dGVyeSkgKiBrbURpZmYgLyBiYXR0ZXJ5RGlmZjtcblxuICAgICAgICAgICAgYWRkaXRpb25hbEluZm9ybWF0aW9uRWwuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJlc3VsdEVsLnZhbHVlID0gTWF0aC5jZWlsKHJlc3VsdEttKTtcbiAgICAgICAgICAgIHJlbWFpbkt3aEVsLnZhbHVlID0gTWF0aC5jZWlsKGt3cE1heEVsLnZhbHVlICogKGVuZEJhdHRlcnkgLyAxMDApKTtcbiAgICAgICAgICAgIGF2ZXJhZ2VLd2hFbC52YWx1ZSA9IE1hdGguY2VpbCgxMDAgKiAoa1doVXNlZCAvIGttRGlmZikpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZGRpdGlvbmFsSW5mb3JtYXRpb25FbC5kaXNhYmxlZCA9IHRydWVcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3dzIGEgdG9hc3RcbiAgICAgKi9cbiAgICBvblNhdmVDbGljaygpIHtcbiAgICAgICAgY29uc3QgYXZlcmFnZUt3aCA9IHRoaXMuZG93bih7ZmxhZzogJ2F2ZXJhZ2Uta1doJ30pLnZhbHVlO1xuICAgICAgICBsZXQgbXNnICAgICA9IGBEdSBoYXN0IGVpbmVuIGR1cmNoc2Nobml0dGxpY2hlbiBWZXJicmF1Y2ggdm9uICR7YXZlcmFnZUt3aH0ga3doLzEwMGttLmAsXG4gICAgICAgICAgICBpY29uQ2xzID0gJ2ZhIGZhLXVzZXItdGllJyxcbiAgICAgICAgICAgIHRpdGxlICAgPSAncmVzdWx0cycsXG4gICAgICAgICAgICB1aTtcblxuICAgICAgICBpZiAoYXZlcmFnZUt3aCA+IDI1KSB7XG4gICAgICAgICAgICBtc2cgPSBgRHUgYmlzdCBzZWVlaHIgc3BvcnRsaWNoIHVudGVyd2VncyBtaXQgJHthdmVyYWdlS3dofSBrV2ggYXVmIDEwMGttYDtcbiAgICAgICAgICAgIGljb25DbHMgPSAnZmEgZmEtZmxhZy1jaGVja2VyZWQnO1xuICAgICAgICAgICAgdWkgPSAnZGFuZ2VyJztcbiAgICAgICAgICAgIHRpdGxlID0gJ3JhY2luZydcbiAgICAgICAgfSBlbHNlIGlmIChhdmVyYWdlS3doIDwgMTUpIHtcbiAgICAgICAgICAgIG1zZyA9IGBEdSBiaXN0IHNlaHIgdW13ZWx0YmV3dXNzdCBnZWZhaHJlbiB1bmQgaGFzdCBudXIgJHthdmVyYWdlS3dofSBrd2gvMTAwa20gdmVyYnJhdWNodC5gO1xuICAgICAgICAgICAgaWNvbkNscyA9ICdmYS1icmFuZHMgZmEtcGFnZWxpbmVzJztcbiAgICAgICAgICAgIHVpID0gJ3N1Y2Nlc3MnO1xuICAgICAgICAgICAgdGl0bGUgPSAnRUNPJ1xuICAgICAgICB9XG5cbiAgICAgICAgTmVvLnRvYXN0KHtcbiAgICAgICAgICAgIGFwcE5hbWU6IHRoaXMuYXBwTmFtZSxcbiAgICAgICAgICAgIHVpICAgICA6IHVpLFxuICAgICAgICAgICAgaWNvbkNsczogaWNvbkNscyxcbiAgICAgICAgICAgIHRpdGxlICA6IHRpdGxlLFxuICAgICAgICAgICAgbXNnICAgIDogbXNnXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhNYWluQ29udGFpbmVyKTtcbiIsImltcG9ydCBNYWluQ29udGFpbmVyIGZyb20gJy4vTWFpbkNvbnRhaW5lci5tanMnO1xuXG5leHBvcnQgY29uc3Qgb25TdGFydCA9ICgpID0+IE5lby5hcHAoe1xuICAgIG1haW5WaWV3OiBNYWluQ29udGFpbmVyLFxuICAgIG5hbWUgICAgOiAnTmVvLmV4YW1wbGVzLmNvbXBvbmVudC5yZWFsV29ybGRFeGFtcGxlLnByb2Nlc3MnXG59KTsiLCJpbXBvcnQgVGV4dCBmcm9tICcuL1RleHQubWpzJztcblxuLyoqXG4gKiBBbiBleHRlbmRlZCBmb3JtLmZpZWxkLlRleHQsIHdoaWNoIGlzIHJlYWQtb25seS5cbiAqIEBjbGFzcyBOZW8uZm9ybS5maWVsZC5EaXNwbGF5XG4gKiBAZXh0ZW5kcyBOZW8uZm9ybS5maWVsZC5UZXh0XG4gKi9cbmNsYXNzIERpc3BsYXkgZXh0ZW5kcyBUZXh0IHtcbiAgICBzdGF0aWMgY29uZmlnID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBjbGFzc05hbWU9J05lby5mb3JtLmZpZWxkLkRpc3BsYXknXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGNsYXNzTmFtZTogJ05lby5mb3JtLmZpZWxkLkRpc3BsYXknLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBudHlwZT0nZGlzcGxheWZpZWxkJ1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBudHlwZTogJ2Rpc3BsYXlmaWVsZCcsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmdbXX0gYmFzZUNscz1bJ25lby1kaXNwbGF5ZmllbGQnLCduZW8tdGV4dGZpZWxkJ11cbiAgICAgICAgICovXG4gICAgICAgIGJhc2VDbHM6IFsnbmVvLWRpc3BsYXlmaWVsZCcsICduZW8tdGV4dGZpZWxkJ10sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtCb29sZWFufSBjbGVhcmFibGU9ZmFsc2VcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgY2xlYXJhYmxlOiBmYWxzZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3QoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLmNvbnN0cnVjdChjb25maWcpO1xuXG4gICAgICAgIGxldCBtZSAgICAgID0gdGhpcyxcbiAgICAgICAgICAgIGlucHV0RWwgPSBtZS5nZXRJbnB1dEVsKCk7XG5cbiAgICAgICAgaW5wdXRFbC5yZWFkb25seSA9ICdyZWFkb25seSc7XG4gICAgICAgIGlucHV0RWwudGFiaW5kZXggPSAnLTEnO1xuXG4gICAgICAgIG1lLnVwZGF0ZSgpXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhEaXNwbGF5KTtcbiIsImltcG9ydCBOdW1iZXIgZnJvbSAnLi9OdW1iZXIubWpzJztcblxuLyoqXG4gKiBAY2xhc3MgTmVvLmZvcm0uZmllbGQuUmFuZ2VcbiAqIEBleHRlbmRzIE5lby5mb3JtLmZpZWxkLk51bWJlclxuICovXG5jbGFzcyBSYW5nZSBleHRlbmRzIE51bWJlciB7XG4gICAgLyoqXG4gICAgICogUmVtb3ZpbmcgdGhlIGRlYm91bmNlIGZvciByYW5nZSBmaWVsZHNcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9IGRlbGF5YWJsZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgc3RhdGljIGRlbGF5YWJsZSA9IHt9XG5cbiAgICBzdGF0aWMgY29uZmlnID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBjbGFzc05hbWU9J05lby5mb3JtLmZpZWxkLlJhbmdlJ1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBjbGFzc05hbWU6ICdOZW8uZm9ybS5maWVsZC5SYW5nZScsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IG50eXBlPSdyYW5nZWZpZWxkJ1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBudHlwZTogJ3JhbmdlZmllbGQnLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nW119IGJhc2VDbHM9WyduZW8tcmFuZ2VmaWVsZCcsJ25lby10ZXh0ZmllbGQnXVxuICAgICAgICAgKi9cbiAgICAgICAgYmFzZUNsczogWyduZW8tcmFuZ2VmaWVsZCcsICduZW8tdGV4dGZpZWxkJ10sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcnVlIHNob3dzIGEgY2xlYXIgdHJpZ2dlciBpbiBjYXNlIHRoZSBmaWVsZCBoYXMgYSBub24gZW1wdHkgdmFsdWUuXG4gICAgICAgICAqIEBtZW1iZXIge0Jvb2xlYW59IGNsZWFyYWJsZT1mYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgY2xlYXJhYmxlOiBmYWxzZSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZhbHVlIGZvciB0aGUgaW5wdXRUeXBlXyB0ZXh0ZmllbGQgY29uZmlnXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gaW5wdXRUeXBlPSdyYW5nZSdcbiAgICAgICAgICovXG4gICAgICAgIGlucHV0VHlwZTogJ3JhbmdlJyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUsIHNob3dzIHRoZSByZXN1bHQgb2YgdGhlIHNsaWRlciBpbiB0aGUgbGFiZWxcbiAgICAgICAgICogQG1lbWJlciB7Qm9vbGVhbn0gc2hvd1Jlc3VsdEluTGFiZWw9ZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHNob3dSZXN1bHRJbkxhYmVsOiBmYWxzZSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5fSB0aWNrbWFya3NfPVtdXG4gICAgICAgICAqL1xuICAgICAgICB0aWNrbWFya3NfOiBbXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge0Jvb2xlYW59IHVzZUlucHV0RXZlbnQ9ZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHVzZUlucHV0RXZlbnQ6IGZhbHNlLFxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzYWJsZXMgdGhlIGZpZWxkLk51bWJlciBidXR0b25zXG4gICAgICAgICAqIEBtZW1iZXIge0Jvb2xlYW59IHVzZUlucHV0RXZlbnQ9ZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHVzZVNwaW5CdXR0b25zOiBmYWxzZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3QoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyLmNvbnN0cnVjdChjb25maWcpO1xuXG4gICAgICAgIGxldCBtZSAgICAgID0gdGhpcyxcbiAgICAgICAgICAgIGlucHV0RWwgPSBtZS52ZG9tLmNuWzJdO1xuXG4gICAgICAgIGlmIChtZS51c2VJbnB1dEV2ZW50KSB7XG4gICAgICAgICAgICBtZS5hZGREb21MaXN0ZW5lcnMoe1xuICAgICAgICAgICAgICAgIGlucHV0OiB7XG4gICAgICAgICAgICAgICAgICAgIGZuICAgOiBtZS5vbklucHV0VmFsdWVDaGFuZ2UsXG4gICAgICAgICAgICAgICAgICAgIGlkICAgOiBtZS52ZG9tLmNuWzJdLmlkLFxuICAgICAgICAgICAgICAgICAgICBzY29wZTogbWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlucHV0RWwuY2xzID0gWyduZW8tcmFuZ2VmaWVsZC1pbnB1dCddOyAvLyByZXBsYWNlIG5lby10ZXh0ZmllbGQtaW5wdXRcblxuICAgICAgICBtZS5hZGRWYWx1ZVRvTGFiZWwoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciB0aGUgdGlja21hcmtzIGNvbmZpZyBnb3QgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlXG4gICAgICogQHBhcmFtIHtBcnJheX0gb2xkVmFsdWVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgYWZ0ZXJTZXRUaWNrbWFya3ModmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIC8vIHRvZG9cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgdGhlIHZhbHVlIGNvbmZpZyBnb3QgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvbGRWYWx1ZVxuICAgICAqL1xuICAgIGFmdGVyU2V0VmFsdWUodmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMuYWRkVmFsdWVUb0xhYmVsKCk7XG4gICAgICAgIHN1cGVyLmFmdGVyU2V0VmFsdWUodmFsdWUsIG9sZFZhbHVlKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBsYWJlbCB3aXRoIHZhbHVlXG4gICAgICovXG4gICAgYWRkVmFsdWVUb0xhYmVsKCkge1xuICAgICAgICBsZXQgbWUgPSB0aGlzO1xuXG4gICAgICAgIGlmIChtZS5zaG93UmVzdWx0SW5MYWJlbCkge1xuICAgICAgICAgICAgbWUuZ2V0TGFiZWxFbCgpLnRleHQgPSBgWyR7bWUudmFsdWV9XSBgICsgbWUubGFiZWxUZXh0XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKFJhbmdlKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==