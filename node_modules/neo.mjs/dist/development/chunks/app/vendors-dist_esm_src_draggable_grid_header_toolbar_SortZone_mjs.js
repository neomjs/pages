"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["vendors-dist_esm_src_draggable_grid_header_toolbar_SortZone_mjs"],{

/***/ "./dist/esm/src/draggable/DragProxyComponent.mjs":
/*!*******************************************************!*\
  !*** ./dist/esm/src/draggable/DragProxyComponent.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.draggable.DragProxyComponent",ntype:"dragproxy",autoMount:!0,autoRender:!0,baseCls:["neo-dragproxy"],moveInMainThread:!0};afterSetMounted(e,a){if(super.afterSetMounted(e,a),e&&this.moveInMainThread){let{appName:e,id:a,windowId:o}=this;Neo.main.addon.DragDrop.setDragProxyElement({appName:e,id:a,windowId:o})}}}));

/***/ }),

/***/ "./dist/esm/src/draggable/DragZone.mjs":
/*!*********************************************!*\
  !*** ./dist/esm/src/draggable/DragZone.mjs ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _DragProxyComponent_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DragProxyComponent.mjs */ "./dist/esm/src/draggable/DragProxyComponent.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _core_Observable_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Observable.mjs */ "./dist/esm/src/core/Observable.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static observable=!0;static config={className:"Neo.draggable.DragZone",ntype:"dragzone",addDragProxyCls:!0,alwaysFireDragMove:!1,appName_:null,bodyCursorStyle:null,boundaryContainerId:null,boundaryContainerRect:null,data:null,dragElement:null,dragElementRect:null,dragProxy:null,dragProxyConfig_:null,dragProxyCls:"neo-dragproxy",dropZoneIdentifier:null,moveHorizontal:!0,moveInMainThread:!0,moveVertical:!0,offsetX:0,offsetY:0,owner:null,proxyParentId_:"document.body",scrollContainerId:null,scrollFactorLeft:1,scrollFactorTop:1,useProxyWrapper:!0,windowId_:null};construct(e){super.construct(e),Neo.main.addon.DragDrop||console.error("You can not use Neo.draggable.DragZone without adding Neo.main.addon.DragDrop to the main thread addons",this.id)}afterSetWindowId(e,r){e&&Neo.currentWorker.insertThemeFiles(e,this.__proto__)}beforeGetDragProxyConfig(e){return Neo.clone(e,!0,!0)}async createDragProxy(e,t=!0){let n=this,l=Neo.getComponent(n.getDragElementRoot().id)||n.owner,d=n.dragElementRect,i=n.dragProxyConfig?.vdom,s=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].clone(i||n.dragElement),g={module:_DragProxyComponent_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],appName:n.appName,moveInMainThread:n.moveInMainThread,parentId:n.proxyParentId,windowId:n.windowId,...n.dragProxyConfig,vdom:n.useProxyWrapper?{cn:[s]}:s};return g.cls=g.cls||[],l&&g.cls.push(l.getTheme()),s.cls&&!n.useProxyWrapper&&g.cls.push(...s.cls),n.addDragProxyCls&&g.cls&&_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].add(g.cls,n.dragProxyCls),g.style=g.style||{},Object.assign(g.style,{height:`${e.height}px`,left:`${n.moveHorizontal?e.x:d.x}px`,top:`${n.moveVertical?e.y:d.y}px`,width:`${e.width}px`}),t?n.dragProxy=Neo.create(g):g}destroyDragProxy(){let e=this,r=e.dragProxy.id;e.timeout(e.moveInMainThread?0:30).then(()=>{Neo.currentWorker.promiseMessage("main",{action:"updateDom",appName:e.appName,deltas:[{action:"removeNode",id:r}]})}),e.dragProxy.destroy()}dragEnd(e){let r=this,{owner:t}=r,{cls:a}=t;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].remove(a,"neo-is-dragging"),t.cls=a,r.dragProxy&&(r.destroyDragProxy(),r.dragProxy=null),Object.assign(r,{dragElementRect:null,offsetX:0,offsetY:0,scrollContainerId:null}),r.fire("dragEnd",e),r.resetData()}dragMove(e){let r,o=this;!o.moveInMainThread&&o.dragProxy&&(r=o.dragProxy.style,o.moveHorizontal&&(r.left=e.clientX-o.offsetX+"px"),o.moveVertical&&(r.top=e.clientY-o.offsetY+"px"),o.dragProxy.style=r),o.fire("dragMove",e)}async dragStart(e){let r,t,a,n=this,{appName:l,owner:d,windowId:i}=n,{cls:s}=d,g=n.getDragElementRect(e);n.setData(),r=await Neo.main.addon.DragDrop.setConfigs({appName:l,windowId:i,...n.getMainThreadConfigs()}),n.boundaryContainerRect=r.boundaryContainerRect,_util_Array_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].add(s,"neo-is-dragging"),d.cls=s,t=e.clientX-g.left,a=e.clientY-g.top,Object.assign(n,{dragElementRect:g,offsetX:t,offsetY:a}),await n.createDragProxy(g),n.fire("dragStart",{clientX:e.clientX,clientY:e.clientY,dragElementRect:g,eventData:e,id:n.id,offsetX:t,offsetY:a})}getDragElementRect(e){let r=this.getDragElementRoot().id;for(let o of e.path)if(o.id===r)return o.rect;for(let o of e.targetPath)if(o.id===r)return o.rect;return null}getDragElementRoot(){return this.dragElement}getMainThreadConfigs(){let e=this;return{alwaysFireDragMove:e.alwaysFireDragMove,bodyCursorStyle:e.bodyCursorStyle,boundaryContainerId:e.boundaryContainerId,dragElementRootId:e.getDragElementRoot().id,dragProxyCls:e.dragProxyCls,dragZoneId:e.id,dropZoneIdentifier:e.dropZoneIdentifier,moveHorizontal:e.moveHorizontal,moveVertical:e.moveVertical,scrollContainerId:e.scrollContainerId,scrollFactorLeft:e.scrollFactorLeft,scrollFactorTop:e.scrollFactorTop}}onDrop(e){this.fire("drop",e)}onDropEnter(e){this.fire("drop:enter",e)}onDropLeave(e){this.fire("drop:leave",e)}resetData(){this.timeout(50).then(()=>{this.data=null})}setData(e={}){let r=this;r.data={dragElement:r.getDragElementRoot(),dragZoneId:r.id,...e}}}));

/***/ }),

/***/ "./dist/esm/src/draggable/grid/header/toolbar/SortZone.mjs":
/*!*****************************************************************!*\
  !*** ./dist/esm/src/draggable/grid/header/toolbar/SortZone.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _toolbar_SortZone_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../toolbar/SortZone.mjs */ "./dist/esm/src/draggable/toolbar/SortZone.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _toolbar_SortZone_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.draggable.grid.header.toolbar.SortZone",ntype:"grid-header-toolbar-sortzone",itemMargin:"1px",moveColumnContent:!0,moveVertical:!1};adjustProxyRectToParent(e,t){e.x=e.x-t.x-1,e.y=e.y-t.y-1}async createDragProxy(e,t=!0){if(!this.moveColumnContent)return await super.createDragProxy(e,t);let r,a=this,i=a.owner.parent,{body:n}=i,s=Neo.getId("grid-body-wrapper"),l=n.getVdomRoot().cn,d=a.dragElement["aria-colindex"]-1,{dataField:c}=n.columnPositions.getAt(d),m=n.getColumnCells(c),g=[],h=await super.createDragProxy(e,!1),p=await i.getDomRect();return h.cls=["neo-grid-wrapper",a.owner.getTheme()],h.style.height=p.height-2+"px",m.forEach((e,t)=>{r=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].clone({cls:l[t].cls,cn:[e],style:l[t].style}),delete r.cn[0].style.left,g.push(r)}),h.vdom={cn:[{cls:["neo-grid-container"],cn:[{...h.vdom,cls:["neo-grid-header-toolbar","neo-toolbar"]},{cls:["neo-grid-body-wrapper"],id:s,cn:[{cls:["neo-grid-body"],cn:g},{cls:["neo-grid-scrollbar"],style:{height:n.vdom.cn[0].height}}]}]}]},h.listeners={mounted(){Neo.main.DomAccess.scrollTo({id:s,value:n.scrollTop,windowId:this.windowId})}},t?a.dragProxy=Neo.create(h):h}moveTo(e,t){super.moveTo(e,t),this.owner.parent.columns.move(e,t)}async onDragEnd(e){await super.onDragEnd(e);let{owner:t}=this;t.items.forEach((e,t)=>{e.vdom["aria-colindex"]=t+1}),t.updateDepth=2,t.update(),await t.passSizeToBody(),await this.timeout(20),t.parent.body.createViewData()}async onDragStart(e){if(await super.onDragStart(e),this.moveColumnContent){let e=this,{body:t}=e.owner.parent,o=e.dragElement["aria-colindex"]-1,r=t.columnPositions.getAt(o),{dataField:a}=r,i=t.getColumnCells(a);r.hidden=!0,i.forEach(e=>{e.style.visibility="hidden"}),t.update()}}switchItems(e,t){if(super.switchItems(e,t),this.moveColumnContent){let o=this,{itemRects:r}=o,{body:a}=o.owner.parent,{columnPositions:i}=a,n=i.getAt(e),s=i.getAt(t),l=a.getColumnCells(n.dataField),d=a.getColumnCells(s.dataField);Object.assign(n,{width:r[t].width,x:r[t].x+1}),Object.assign(s,{width:r[e].width,x:r[e].x+1}),i.move(e,t),l.forEach(e=>{e.style.left=n.x+"px",e.style.width=n.width+"px"}),d.forEach(e=>{e.style.left=s.x+"px",e.style.width=s.width+"px"}),a.update()}}}));

/***/ }),

/***/ "./dist/esm/src/draggable/toolbar/DragZone.mjs":
/*!*****************************************************!*\
  !*** ./dist/esm/src/draggable/toolbar/DragZone.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _draggable_DragZone_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../draggable/DragZone.mjs */ "./dist/esm/src/draggable/DragZone.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _draggable_DragZone_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.draggable.toolbar.DragZone",ntype:"toolbar-dragzone"};construct(e){super.construct(e);let t=this,{owner:r}=t,a={delegate:".neo-draggable",scope:t};r.addDomListeners([{"drag:end":t.onDragEnd,...a},{"drag:move":t.onDragMove,...a},{"drag:start":t.onDragStart,...a}]),r.on({insert:t.onItemInsert,itemsCreated:t.onItemsCreated,scope:t}),t.adjustToolbarItemCls(!0)}adjustToolbarItemCls(e){let r,{owner:a}=this;a.items.forEach(a=>{r=a.wrapperCls||[],_util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].toggle(r,"neo-draggable",e),a.wrapperCls=r})}onDragEnd(e){if(this.owner.draggable){let e=this,r=e.dragProxy,a=r.cls||{},o=e.dragElementRect,s=r.wrapperStyle||{};_util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].add(a,"neo-animate"),r.cls=a,e.timeout(30).then(()=>{s.left=`${o.left}px`,s.top=`${o.top}px`,r.wrapperStyle=s,e.timeout(100).then(()=>{e.dragEnd()})})}}async onDragStart(e){let t=this;t.owner.draggable&&(t.dragElement=_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].find(t.owner.vdom,e.path[0].id).vdom,await t.dragStart(e))}onItemInsert(e){let{item:r}=e,a=r.wrapperCls||[];_util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].add(a,"neo-draggable"),r.wrapperCls=a}onItemsCreated(e){this.adjustToolbarItemCls(!0)}}));

/***/ }),

/***/ "./dist/esm/src/draggable/toolbar/SortZone.mjs":
/*!*****************************************************!*\
  !*** ./dist/esm/src/draggable/toolbar/SortZone.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _DragZone_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DragZone.mjs */ "./dist/esm/src/draggable/toolbar/DragZone.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _DragZone_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.draggable.toolbar.SortZone",ntype:"toolbar-sortzone",adjustItemRectsToParent:!1,alwaysFireDragMove:!0,currentIndex:-1,indexMap:null,itemMargin:null,itemRects:null,itemStyles:null,ownerRect:null,ownerStyle:null,reversedLayoutDirection:!1,scrollLeft:0,scrollTop:0,sortDirection:"horizontal",startIndex:-1};isOverDragging=!1;moveTo(t,e){this.owner.moveTo(t,e)}async onDragEnd(t){let e,i=this,{itemStyles:r,owner:n}=i,o=n.style||{};await i.timeout(10),n.sortable&&(o.height=i.ownerStyle.height||null,o.minWidth=i.ownerStyle.minWidth||null,o.width=i.ownerStyle.width||null,n.style=o,n.items.forEach((t,n)=>{e=t.wrapperStyle||{},Object.assign(e,{height:r[n].height||null,left:null,margin:null,position:null,top:null,width:r[n].width||null}),n===i.startIndex&&(e.visibility=null),t.wrapperStyle=e}),i.startIndex!==i.currentIndex&&i.moveTo(i.startIndex,i.currentIndex),Object.assign(i,{currentIndex:-1,indexMap:null,itemRects:null,itemStyles:null,ownerRect:null,startIndex:-1}),await i.timeout(30),i.dragEnd(t))}async onDragMove(t){if(!this.itemRects||this.isScrolling)return;let e,i,r,n,o,l,s=this,{clientX:a,clientY:d}=t,h=s.currentIndex,{itemRects:c}=s,u=c.length-1,g=s.adjustItemRectsToParent?s.ownerRect.x:0,w=s.adjustItemRectsToParent?s.ownerRect.y:0,m=s.reversedLayoutDirection;"horizontal"===s.sortDirection?(e=a-g+s.scrollLeft-s.offsetX-c[h].left,r=a>s.boundaryContainerRect.right,n=a<s.boundaryContainerRect.left,o="width"):(e=d-w+s.scrollTop-s.offsetY-c[h].top,r=d>s.boundaryContainerRect.bottom,n=d<s.boundaryContainerRect.top,o="height"),i=r||n,l=i?.02:.55,n?h>0&&(s.currentIndex--,await s.scrollToIndex(),s.switchItems(h,s.currentIndex)):r?h<u&&(s.currentIndex++,await s.scrollToIndex(),s.switchItems(h,s.currentIndex)):h>0&&(!m&&e<0||m&&e>0)?Math.abs(e)>c[h-1][o]*l&&(s.currentIndex--,s.switchItems(h,s.currentIndex)):h<u&&(!m&&e>0||m&&e<0)&&Math.abs(e)>c[h+1][o]*l&&(s.currentIndex++,s.switchItems(h,s.currentIndex)),s.isOverDragging=i&&0!==s.currentIndex&&s.currentIndex!==u,s.isOverDragging&&(await s.timeout(30),s.isOverDragging&&await s.onDragMove(t))}async onDragStart(t){let i,r,n,o,l=this,s=Neo.getComponent(t.path[0].id),{owner:a}=l,d=l.itemStyles=[],{layout:h}=a,c=a.style||{};a.sortable&&(i=a.indexOf(s.id),r={},Object.assign(l,{currentIndex:i,dragElement:_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].find(a.vdom,s.id).vdom,dragProxyConfig:{...l.dragProxyConfig,cls:[...a.cls]},indexMap:r,ownerStyle:{height:c.height,minWidth:c.minWidth,width:c.width},reversedLayoutDirection:"column-reverse"===h.direction||"row-reverse"===h.direction,sortDirection:h.direction?.includes("column")?"vertical":"horizontal",startIndex:i}),await l.dragStart(t),a.items.forEach((t,e)=>{r[e]=e,d.push({height:t.height?`${t.height}px`:t.style?.height,width:t.width?`${t.width}px`:t.style?.width})}),a.getDomRect([a.id].concat(a.items.map(t=>t.id))).then(t=>{l.ownerRect=t[0],a.style={...c,height:`${t[0].height}px`,minWidth:`${t[0].width}px`,width:`${t[0].width}px`},t.shift(),l.adjustItemRectsToParent&&t.forEach(t=>{t.x-=l.ownerRect.x,t.y-=l.ownerRect.y}),l.itemRects=t,a.items.forEach((e,i)=>{n=e.wrapperStyle||{},o=t[i],l.adjustProxyRectToParent?.(o,l.ownerRect),e.wrapperStyle=Object.assign(n,{height:`${o.height}px`,left:`${o.left}px`,margin:l.itemMargin,position:"absolute",top:`${o.top}px`,width:`${o.width}px`})}),l.timeout(5).then(()=>{n=s.wrapperStyle||{},n.visibility="hidden",s.wrapperStyle=n})}))}async scrollToIndex(){let t=this;t.isScrolling=!0,await(t.owner.scrollToIndex?.(t.currentIndex,t.itemRects[t.currentIndex])),t.isScrolling=!1}switchItems(t,e){let i,r=this,n=r.reversedLayoutDirection;(!n&&e<t||n&&t<e)&&(i=t,t=e,e=i);let o=r.itemRects,l=r.indexMap,s=o[t],a=o[e],d=s.clone(),h=a.clone();"horizontal"===r.sortDirection?(s.width=h.width,a.x=d.x+h.width,a.width=d.width):(s.height=h.height,a.height=d.height,a.y=d.y+h.height),i=l[t],l[t]=l[e],l[e]=i,r.updateItem(t,s),r.updateItem(e,a)}updateItem(t,e){let i=this.owner.items[this.indexMap[t]],{wrapperStyle:r}=i;r.left=`${e.left}px`,r.top=`${e.top}px`,i.wrapperStyle=r}}));

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC92ZW5kb3JzLWRpc3RfZXNtX3NyY19kcmFnZ2FibGVfZ3JpZF9oZWFkZXJfdG9vbGJhcl9Tb3J0Wm9uZV9tanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBcUMsaUVBQWUsNkJBQTZCLDJEQUFDLENBQUMsZUFBZSx5SUFBeUkscUJBQXFCLHdEQUF3RCxJQUFJLDBCQUEwQixNQUFNLDZDQUE2QywwQkFBMEIsSUFBSSxDQUFDLEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBelAsaUVBQWUsNkJBQTZCLHNEQUFDLENBQUMscUJBQXFCLGVBQWUsaWhCQUFpaEIsYUFBYSw2S0FBNkssc0JBQXNCLHdEQUF3RCw0QkFBNEIsMEJBQTBCLDhCQUE4QixrSEFBa0gsc0RBQUMsNEJBQTRCLE9BQU8sK0RBQUMsaUpBQWlKLE9BQU8sSUFBSSw2SEFBNkgsdURBQUMsOENBQThDLHdCQUF3QixVQUFVLFNBQVMsWUFBWSx5QkFBeUIsV0FBVyx1QkFBdUIsYUFBYSxRQUFRLElBQUksZ0NBQWdDLG1CQUFtQiw0QkFBNEIsNkNBQTZDLHlDQUF5Qyw4Q0FBOEMseUJBQXlCLEVBQUUsRUFBRSx3QkFBd0IsV0FBVyxZQUFZLFFBQVEsSUFBSSxNQUFNLEdBQUcsdURBQUMsMkdBQTJHLGdFQUFnRSxvQ0FBb0MsWUFBWSxhQUFhLHNNQUFzTSxtQkFBbUIsa0JBQWtCLDZCQUE2QixJQUFJLE1BQU0sNkJBQTZCLHdEQUF3RCxpREFBaUQsa0RBQWtELHVEQUFDLHdGQUF3RixzQ0FBc0MsaURBQWlELDhGQUE4RixFQUFFLHNCQUFzQixtQ0FBbUMsOENBQThDLG9EQUFvRCxZQUFZLHFCQUFxQix3QkFBd0IsdUJBQXVCLFdBQVcsT0FBTyw2WkFBNlosVUFBVSxvQkFBb0IsZUFBZSwwQkFBMEIsZUFBZSwwQkFBMEIsWUFBWSwyQkFBMkIsZUFBZSxFQUFFLFlBQVksRUFBRSxXQUFXLFFBQVEsMERBQTBELENBQUMsRTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBN3VILGlFQUFlLDZCQUE2Qiw2REFBQyxDQUFDLGVBQWUsbUpBQW1KLDZCQUE2Qiw0QkFBNEIsOEJBQThCLG1FQUFtRSwrQkFBK0IsT0FBTyw2RkFBNkYsWUFBWSxrSEFBa0gsc0dBQXNHLEVBQUUsc0RBQUMsUUFBUSxxQ0FBcUMsc0NBQXNDLFVBQVUsS0FBSyxnQ0FBZ0Msd0RBQXdELEVBQUUsd0NBQXdDLDJCQUEyQixFQUFFLGtDQUFrQyw0QkFBNEIsRUFBRSxFQUFFLEVBQUUsY0FBYyxVQUFVLDZCQUE2Qiw4Q0FBOEMsR0FBRywrQkFBK0IsWUFBWSxzREFBc0QsbUJBQW1CLHlCQUF5QixJQUFJLFFBQVEsTUFBTSx3QkFBd0IsNEJBQTRCLDRHQUE0RyxxQkFBcUIsc0RBQXNELFlBQVksT0FBTyxpRkFBaUYsWUFBWSx5QkFBeUIsMEJBQTBCLDRCQUE0QixjQUFjLGlCQUFpQixrREFBa0QsWUFBWSxZQUFZLElBQUksT0FBTyxpQkFBaUIsa0JBQWtCLDZGQUE2RixpQkFBaUIsNEJBQTRCLG1CQUFtQiw0QkFBNEIsNEJBQTRCLGlEQUFpRCxnQkFBZ0IsaURBQWlELGVBQWUsQ0FBQyxFOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0Fuc0UsaUVBQWUsNkJBQTZCLCtEQUFDLENBQUMsZUFBZSxxRUFBcUUsYUFBYSxtQkFBbUIsWUFBWSxRQUFRLE1BQU0sbUNBQW1DLG9CQUFvQiw0QkFBNEIsRUFBRSw4QkFBOEIsRUFBRSxnQ0FBZ0MsU0FBUyw0REFBNEQsNkJBQTZCLHdCQUF3QixPQUFPLFFBQVEsTUFBTSxvQkFBb0IsbUJBQW1CLHVEQUFDLDRDQUE0QyxFQUFFLGFBQWEseUJBQXlCLG9DQUFvQywwQ0FBMEMsdURBQUMsc0RBQXNELFVBQVUsT0FBTyxhQUFhLE1BQU0sOENBQThDLFlBQVksRUFBRSxHQUFHLHFCQUFxQixXQUFXLGtDQUFrQyxzREFBQyw0REFBNEQsZ0JBQWdCLElBQUksT0FBTyxzQkFBc0IsdURBQUMsdUNBQXVDLGtCQUFrQiwrQkFBK0IsQ0FBQyxFOzs7Ozs7Ozs7Ozs7Ozs7O0FDQWhvQyxpRUFBZSw2QkFBNkIscURBQUMsQ0FBQyxlQUFlLCtUQUErVCxrQkFBa0IsWUFBWSx1QkFBdUIsbUJBQW1CLGNBQWMscUJBQXFCLGlCQUFpQiw4S0FBOEssb0JBQW9CLGtCQUFrQiw2RkFBNkYseURBQXlELHdGQUF3RiwwRkFBMEYsb0NBQW9DLG9CQUFvQiw0Q0FBNEMsd0JBQXdCLG9CQUFvQixxQkFBcUIsWUFBWSxvSUFBb0ksbXhCQUFteEIscUJBQXFCLHFEQUFxRCxRQUFRLHNCQUFzQixTQUFTLGlCQUFpQixtQ0FBbUMsa0JBQWtCLDJCQUEyQixzREFBQyx5Q0FBeUMsb0NBQW9DLHdCQUF3QixrREFBa0Qsd0tBQXdLLCtDQUErQyxlQUFlLG1CQUFtQixTQUFTLHFDQUFxQyxRQUFRLG1CQUFtQixFQUFFLDZEQUE2RCwwQkFBMEIsZUFBZSxZQUFZLGdCQUFnQixXQUFXLGFBQWEsV0FBVyxJQUFJLG9EQUFvRCxzQ0FBc0Msd0NBQXdDLG9CQUFvQixtRkFBbUYsVUFBVSxTQUFTLFlBQVksT0FBTyxtREFBbUQsTUFBTSxhQUFhLFFBQVEsSUFBSSxFQUFFLHlCQUF5QixvQkFBb0Isd0NBQXdDLEVBQUUsR0FBRyxzQkFBc0IsV0FBVyw2R0FBNkcsaUJBQWlCLHlDQUF5QyxpQ0FBaUMscUVBQXFFLG9NQUFvTSxnQkFBZ0IsMENBQTBDLGVBQWUsR0FBRyxVQUFVLE9BQU8sYUFBYSxNQUFNLHNCQUFzQixDQUFDLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2RyYWdnYWJsZS9EcmFnUHJveHlDb21wb25lbnQubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvZHJhZ2dhYmxlL0RyYWdab25lLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2RyYWdnYWJsZS9ncmlkL2hlYWRlci90b29sYmFyL1NvcnRab25lLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2RyYWdnYWJsZS90b29sYmFyL0RyYWdab25lLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2RyYWdnYWJsZS90b29sYmFyL1NvcnRab25lLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZSBmcm9tXCIuLi9jb21wb25lbnQvQmFzZS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGV7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmRyYWdnYWJsZS5EcmFnUHJveHlDb21wb25lbnRcIixudHlwZTpcImRyYWdwcm94eVwiLGF1dG9Nb3VudDohMCxhdXRvUmVuZGVyOiEwLGJhc2VDbHM6W1wibmVvLWRyYWdwcm94eVwiXSxtb3ZlSW5NYWluVGhyZWFkOiEwfTthZnRlclNldE1vdW50ZWQoZSxhKXtpZihzdXBlci5hZnRlclNldE1vdW50ZWQoZSxhKSxlJiZ0aGlzLm1vdmVJbk1haW5UaHJlYWQpe2xldHthcHBOYW1lOmUsaWQ6YSx3aW5kb3dJZDpvfT10aGlzO05lby5tYWluLmFkZG9uLkRyYWdEcm9wLnNldERyYWdQcm94eUVsZW1lbnQoe2FwcE5hbWU6ZSxpZDphLHdpbmRvd0lkOm99KX19fSk7IiwiaW1wb3J0IGUgZnJvbVwiLi4vY29yZS9CYXNlLm1qc1wiO2ltcG9ydCByIGZyb21cIi4vRHJhZ1Byb3h5Q29tcG9uZW50Lm1qc1wiO2ltcG9ydCBvIGZyb21cIi4uL3V0aWwvQXJyYXkubWpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vY29yZS9PYnNlcnZhYmxlLm1qc1wiO2ltcG9ydCBhIGZyb21cIi4uL3V0aWwvVkRvbS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGV7c3RhdGljIG9ic2VydmFibGU9ITA7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmRyYWdnYWJsZS5EcmFnWm9uZVwiLG50eXBlOlwiZHJhZ3pvbmVcIixhZGREcmFnUHJveHlDbHM6ITAsYWx3YXlzRmlyZURyYWdNb3ZlOiExLGFwcE5hbWVfOm51bGwsYm9keUN1cnNvclN0eWxlOm51bGwsYm91bmRhcnlDb250YWluZXJJZDpudWxsLGJvdW5kYXJ5Q29udGFpbmVyUmVjdDpudWxsLGRhdGE6bnVsbCxkcmFnRWxlbWVudDpudWxsLGRyYWdFbGVtZW50UmVjdDpudWxsLGRyYWdQcm94eTpudWxsLGRyYWdQcm94eUNvbmZpZ186bnVsbCxkcmFnUHJveHlDbHM6XCJuZW8tZHJhZ3Byb3h5XCIsZHJvcFpvbmVJZGVudGlmaWVyOm51bGwsbW92ZUhvcml6b250YWw6ITAsbW92ZUluTWFpblRocmVhZDohMCxtb3ZlVmVydGljYWw6ITAsb2Zmc2V0WDowLG9mZnNldFk6MCxvd25lcjpudWxsLHByb3h5UGFyZW50SWRfOlwiZG9jdW1lbnQuYm9keVwiLHNjcm9sbENvbnRhaW5lcklkOm51bGwsc2Nyb2xsRmFjdG9yTGVmdDoxLHNjcm9sbEZhY3RvclRvcDoxLHVzZVByb3h5V3JhcHBlcjohMCx3aW5kb3dJZF86bnVsbH07Y29uc3RydWN0KGUpe3N1cGVyLmNvbnN0cnVjdChlKSxOZW8ubWFpbi5hZGRvbi5EcmFnRHJvcHx8Y29uc29sZS5lcnJvcihcIllvdSBjYW4gbm90IHVzZSBOZW8uZHJhZ2dhYmxlLkRyYWdab25lIHdpdGhvdXQgYWRkaW5nIE5lby5tYWluLmFkZG9uLkRyYWdEcm9wIHRvIHRoZSBtYWluIHRocmVhZCBhZGRvbnNcIix0aGlzLmlkKX1hZnRlclNldFdpbmRvd0lkKGUscil7ZSYmTmVvLmN1cnJlbnRXb3JrZXIuaW5zZXJ0VGhlbWVGaWxlcyhlLHRoaXMuX19wcm90b19fKX1iZWZvcmVHZXREcmFnUHJveHlDb25maWcoZSl7cmV0dXJuIE5lby5jbG9uZShlLCEwLCEwKX1hc3luYyBjcmVhdGVEcmFnUHJveHkoZSx0PSEwKXtsZXQgbj10aGlzLGw9TmVvLmdldENvbXBvbmVudChuLmdldERyYWdFbGVtZW50Um9vdCgpLmlkKXx8bi5vd25lcixkPW4uZHJhZ0VsZW1lbnRSZWN0LGk9bi5kcmFnUHJveHlDb25maWc/LnZkb20scz1hLmNsb25lKGl8fG4uZHJhZ0VsZW1lbnQpLGc9e21vZHVsZTpyLGFwcE5hbWU6bi5hcHBOYW1lLG1vdmVJbk1haW5UaHJlYWQ6bi5tb3ZlSW5NYWluVGhyZWFkLHBhcmVudElkOm4ucHJveHlQYXJlbnRJZCx3aW5kb3dJZDpuLndpbmRvd0lkLC4uLm4uZHJhZ1Byb3h5Q29uZmlnLHZkb206bi51c2VQcm94eVdyYXBwZXI/e2NuOltzXX06c307cmV0dXJuIGcuY2xzPWcuY2xzfHxbXSxsJiZnLmNscy5wdXNoKGwuZ2V0VGhlbWUoKSkscy5jbHMmJiFuLnVzZVByb3h5V3JhcHBlciYmZy5jbHMucHVzaCguLi5zLmNscyksbi5hZGREcmFnUHJveHlDbHMmJmcuY2xzJiZvLmFkZChnLmNscyxuLmRyYWdQcm94eUNscyksZy5zdHlsZT1nLnN0eWxlfHx7fSxPYmplY3QuYXNzaWduKGcuc3R5bGUse2hlaWdodDpgJHtlLmhlaWdodH1weGAsbGVmdDpgJHtuLm1vdmVIb3Jpem9udGFsP2UueDpkLnh9cHhgLHRvcDpgJHtuLm1vdmVWZXJ0aWNhbD9lLnk6ZC55fXB4YCx3aWR0aDpgJHtlLndpZHRofXB4YH0pLHQ/bi5kcmFnUHJveHk9TmVvLmNyZWF0ZShnKTpnfWRlc3Ryb3lEcmFnUHJveHkoKXtsZXQgZT10aGlzLHI9ZS5kcmFnUHJveHkuaWQ7ZS50aW1lb3V0KGUubW92ZUluTWFpblRocmVhZD8wOjMwKS50aGVuKCgpPT57TmVvLmN1cnJlbnRXb3JrZXIucHJvbWlzZU1lc3NhZ2UoXCJtYWluXCIse2FjdGlvbjpcInVwZGF0ZURvbVwiLGFwcE5hbWU6ZS5hcHBOYW1lLGRlbHRhczpbe2FjdGlvbjpcInJlbW92ZU5vZGVcIixpZDpyfV19KX0pLGUuZHJhZ1Byb3h5LmRlc3Ryb3koKX1kcmFnRW5kKGUpe2xldCByPXRoaXMse293bmVyOnR9PXIse2NsczphfT10O28ucmVtb3ZlKGEsXCJuZW8taXMtZHJhZ2dpbmdcIiksdC5jbHM9YSxyLmRyYWdQcm94eSYmKHIuZGVzdHJveURyYWdQcm94eSgpLHIuZHJhZ1Byb3h5PW51bGwpLE9iamVjdC5hc3NpZ24ocix7ZHJhZ0VsZW1lbnRSZWN0Om51bGwsb2Zmc2V0WDowLG9mZnNldFk6MCxzY3JvbGxDb250YWluZXJJZDpudWxsfSksci5maXJlKFwiZHJhZ0VuZFwiLGUpLHIucmVzZXREYXRhKCl9ZHJhZ01vdmUoZSl7bGV0IHIsbz10aGlzOyFvLm1vdmVJbk1haW5UaHJlYWQmJm8uZHJhZ1Byb3h5JiYocj1vLmRyYWdQcm94eS5zdHlsZSxvLm1vdmVIb3Jpem9udGFsJiYoci5sZWZ0PWUuY2xpZW50WC1vLm9mZnNldFgrXCJweFwiKSxvLm1vdmVWZXJ0aWNhbCYmKHIudG9wPWUuY2xpZW50WS1vLm9mZnNldFkrXCJweFwiKSxvLmRyYWdQcm94eS5zdHlsZT1yKSxvLmZpcmUoXCJkcmFnTW92ZVwiLGUpfWFzeW5jIGRyYWdTdGFydChlKXtsZXQgcix0LGEsbj10aGlzLHthcHBOYW1lOmwsb3duZXI6ZCx3aW5kb3dJZDppfT1uLHtjbHM6c309ZCxnPW4uZ2V0RHJhZ0VsZW1lbnRSZWN0KGUpO24uc2V0RGF0YSgpLHI9YXdhaXQgTmVvLm1haW4uYWRkb24uRHJhZ0Ryb3Auc2V0Q29uZmlncyh7YXBwTmFtZTpsLHdpbmRvd0lkOmksLi4ubi5nZXRNYWluVGhyZWFkQ29uZmlncygpfSksbi5ib3VuZGFyeUNvbnRhaW5lclJlY3Q9ci5ib3VuZGFyeUNvbnRhaW5lclJlY3Qsby5hZGQocyxcIm5lby1pcy1kcmFnZ2luZ1wiKSxkLmNscz1zLHQ9ZS5jbGllbnRYLWcubGVmdCxhPWUuY2xpZW50WS1nLnRvcCxPYmplY3QuYXNzaWduKG4se2RyYWdFbGVtZW50UmVjdDpnLG9mZnNldFg6dCxvZmZzZXRZOmF9KSxhd2FpdCBuLmNyZWF0ZURyYWdQcm94eShnKSxuLmZpcmUoXCJkcmFnU3RhcnRcIix7Y2xpZW50WDplLmNsaWVudFgsY2xpZW50WTplLmNsaWVudFksZHJhZ0VsZW1lbnRSZWN0OmcsZXZlbnREYXRhOmUsaWQ6bi5pZCxvZmZzZXRYOnQsb2Zmc2V0WTphfSl9Z2V0RHJhZ0VsZW1lbnRSZWN0KGUpe2xldCByPXRoaXMuZ2V0RHJhZ0VsZW1lbnRSb290KCkuaWQ7Zm9yKGxldCBvIG9mIGUucGF0aClpZihvLmlkPT09cilyZXR1cm4gby5yZWN0O2ZvcihsZXQgbyBvZiBlLnRhcmdldFBhdGgpaWYoby5pZD09PXIpcmV0dXJuIG8ucmVjdDtyZXR1cm4gbnVsbH1nZXREcmFnRWxlbWVudFJvb3QoKXtyZXR1cm4gdGhpcy5kcmFnRWxlbWVudH1nZXRNYWluVGhyZWFkQ29uZmlncygpe2xldCBlPXRoaXM7cmV0dXJue2Fsd2F5c0ZpcmVEcmFnTW92ZTplLmFsd2F5c0ZpcmVEcmFnTW92ZSxib2R5Q3Vyc29yU3R5bGU6ZS5ib2R5Q3Vyc29yU3R5bGUsYm91bmRhcnlDb250YWluZXJJZDplLmJvdW5kYXJ5Q29udGFpbmVySWQsZHJhZ0VsZW1lbnRSb290SWQ6ZS5nZXREcmFnRWxlbWVudFJvb3QoKS5pZCxkcmFnUHJveHlDbHM6ZS5kcmFnUHJveHlDbHMsZHJhZ1pvbmVJZDplLmlkLGRyb3Bab25lSWRlbnRpZmllcjplLmRyb3Bab25lSWRlbnRpZmllcixtb3ZlSG9yaXpvbnRhbDplLm1vdmVIb3Jpem9udGFsLG1vdmVWZXJ0aWNhbDplLm1vdmVWZXJ0aWNhbCxzY3JvbGxDb250YWluZXJJZDplLnNjcm9sbENvbnRhaW5lcklkLHNjcm9sbEZhY3RvckxlZnQ6ZS5zY3JvbGxGYWN0b3JMZWZ0LHNjcm9sbEZhY3RvclRvcDplLnNjcm9sbEZhY3RvclRvcH19b25Ecm9wKGUpe3RoaXMuZmlyZShcImRyb3BcIixlKX1vbkRyb3BFbnRlcihlKXt0aGlzLmZpcmUoXCJkcm9wOmVudGVyXCIsZSl9b25Ecm9wTGVhdmUoZSl7dGhpcy5maXJlKFwiZHJvcDpsZWF2ZVwiLGUpfXJlc2V0RGF0YSgpe3RoaXMudGltZW91dCg1MCkudGhlbigoKT0+e3RoaXMuZGF0YT1udWxsfSl9c2V0RGF0YShlPXt9KXtsZXQgcj10aGlzO3IuZGF0YT17ZHJhZ0VsZW1lbnQ6ci5nZXREcmFnRWxlbWVudFJvb3QoKSxkcmFnWm9uZUlkOnIuaWQsLi4uZX19fSk7IiwiaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vdG9vbGJhci9Tb3J0Wm9uZS5tanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi91dGlsL0FycmF5Lm1qc1wiO2ltcG9ydCBvIGZyb21cIi4uLy4uLy4uLy4uL3V0aWwvVkRvbS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGV7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmRyYWdnYWJsZS5ncmlkLmhlYWRlci50b29sYmFyLlNvcnRab25lXCIsbnR5cGU6XCJncmlkLWhlYWRlci10b29sYmFyLXNvcnR6b25lXCIsaXRlbU1hcmdpbjpcIjFweFwiLG1vdmVDb2x1bW5Db250ZW50OiEwLG1vdmVWZXJ0aWNhbDohMX07YWRqdXN0UHJveHlSZWN0VG9QYXJlbnQoZSx0KXtlLng9ZS54LXQueC0xLGUueT1lLnktdC55LTF9YXN5bmMgY3JlYXRlRHJhZ1Byb3h5KGUsdD0hMCl7aWYoIXRoaXMubW92ZUNvbHVtbkNvbnRlbnQpcmV0dXJuIGF3YWl0IHN1cGVyLmNyZWF0ZURyYWdQcm94eShlLHQpO2xldCByLGE9dGhpcyxpPWEub3duZXIucGFyZW50LHtib2R5Om59PWkscz1OZW8uZ2V0SWQoXCJncmlkLWJvZHktd3JhcHBlclwiKSxsPW4uZ2V0VmRvbVJvb3QoKS5jbixkPWEuZHJhZ0VsZW1lbnRbXCJhcmlhLWNvbGluZGV4XCJdLTEse2RhdGFGaWVsZDpjfT1uLmNvbHVtblBvc2l0aW9ucy5nZXRBdChkKSxtPW4uZ2V0Q29sdW1uQ2VsbHMoYyksZz1bXSxoPWF3YWl0IHN1cGVyLmNyZWF0ZURyYWdQcm94eShlLCExKSxwPWF3YWl0IGkuZ2V0RG9tUmVjdCgpO3JldHVybiBoLmNscz1bXCJuZW8tZ3JpZC13cmFwcGVyXCIsYS5vd25lci5nZXRUaGVtZSgpXSxoLnN0eWxlLmhlaWdodD1wLmhlaWdodC0yK1wicHhcIixtLmZvckVhY2goKGUsdCk9PntyPW8uY2xvbmUoe2NsczpsW3RdLmNscyxjbjpbZV0sc3R5bGU6bFt0XS5zdHlsZX0pLGRlbGV0ZSByLmNuWzBdLnN0eWxlLmxlZnQsZy5wdXNoKHIpfSksaC52ZG9tPXtjbjpbe2NsczpbXCJuZW8tZ3JpZC1jb250YWluZXJcIl0sY246W3suLi5oLnZkb20sY2xzOltcIm5lby1ncmlkLWhlYWRlci10b29sYmFyXCIsXCJuZW8tdG9vbGJhclwiXX0se2NsczpbXCJuZW8tZ3JpZC1ib2R5LXdyYXBwZXJcIl0saWQ6cyxjbjpbe2NsczpbXCJuZW8tZ3JpZC1ib2R5XCJdLGNuOmd9LHtjbHM6W1wibmVvLWdyaWQtc2Nyb2xsYmFyXCJdLHN0eWxlOntoZWlnaHQ6bi52ZG9tLmNuWzBdLmhlaWdodH19XX1dfV19LGgubGlzdGVuZXJzPXttb3VudGVkKCl7TmVvLm1haW4uRG9tQWNjZXNzLnNjcm9sbFRvKHtpZDpzLHZhbHVlOm4uc2Nyb2xsVG9wLHdpbmRvd0lkOnRoaXMud2luZG93SWR9KX19LHQ/YS5kcmFnUHJveHk9TmVvLmNyZWF0ZShoKTpofW1vdmVUbyhlLHQpe3N1cGVyLm1vdmVUbyhlLHQpLHRoaXMub3duZXIucGFyZW50LmNvbHVtbnMubW92ZShlLHQpfWFzeW5jIG9uRHJhZ0VuZChlKXthd2FpdCBzdXBlci5vbkRyYWdFbmQoZSk7bGV0e293bmVyOnR9PXRoaXM7dC5pdGVtcy5mb3JFYWNoKChlLHQpPT57ZS52ZG9tW1wiYXJpYS1jb2xpbmRleFwiXT10KzF9KSx0LnVwZGF0ZURlcHRoPTIsdC51cGRhdGUoKSxhd2FpdCB0LnBhc3NTaXplVG9Cb2R5KCksYXdhaXQgdGhpcy50aW1lb3V0KDIwKSx0LnBhcmVudC5ib2R5LmNyZWF0ZVZpZXdEYXRhKCl9YXN5bmMgb25EcmFnU3RhcnQoZSl7aWYoYXdhaXQgc3VwZXIub25EcmFnU3RhcnQoZSksdGhpcy5tb3ZlQ29sdW1uQ29udGVudCl7bGV0IGU9dGhpcyx7Ym9keTp0fT1lLm93bmVyLnBhcmVudCxvPWUuZHJhZ0VsZW1lbnRbXCJhcmlhLWNvbGluZGV4XCJdLTEscj10LmNvbHVtblBvc2l0aW9ucy5nZXRBdChvKSx7ZGF0YUZpZWxkOmF9PXIsaT10LmdldENvbHVtbkNlbGxzKGEpO3IuaGlkZGVuPSEwLGkuZm9yRWFjaChlPT57ZS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCJ9KSx0LnVwZGF0ZSgpfX1zd2l0Y2hJdGVtcyhlLHQpe2lmKHN1cGVyLnN3aXRjaEl0ZW1zKGUsdCksdGhpcy5tb3ZlQ29sdW1uQ29udGVudCl7bGV0IG89dGhpcyx7aXRlbVJlY3RzOnJ9PW8se2JvZHk6YX09by5vd25lci5wYXJlbnQse2NvbHVtblBvc2l0aW9uczppfT1hLG49aS5nZXRBdChlKSxzPWkuZ2V0QXQodCksbD1hLmdldENvbHVtbkNlbGxzKG4uZGF0YUZpZWxkKSxkPWEuZ2V0Q29sdW1uQ2VsbHMocy5kYXRhRmllbGQpO09iamVjdC5hc3NpZ24obix7d2lkdGg6clt0XS53aWR0aCx4OnJbdF0ueCsxfSksT2JqZWN0LmFzc2lnbihzLHt3aWR0aDpyW2VdLndpZHRoLHg6cltlXS54KzF9KSxpLm1vdmUoZSx0KSxsLmZvckVhY2goZT0+e2Uuc3R5bGUubGVmdD1uLngrXCJweFwiLGUuc3R5bGUud2lkdGg9bi53aWR0aCtcInB4XCJ9KSxkLmZvckVhY2goZT0+e2Uuc3R5bGUubGVmdD1zLngrXCJweFwiLGUuc3R5bGUud2lkdGg9cy53aWR0aCtcInB4XCJ9KSxhLnVwZGF0ZSgpfX19KTsiLCJpbXBvcnQgZSBmcm9tXCIuLi8uLi9kcmFnZ2FibGUvRHJhZ1pvbmUubWpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vdXRpbC9BcnJheS5tanNcIjtpbXBvcnQgciBmcm9tXCIuLi8uLi91dGlsL1ZEb20ubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBle3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5kcmFnZ2FibGUudG9vbGJhci5EcmFnWm9uZVwiLG50eXBlOlwidG9vbGJhci1kcmFnem9uZVwifTtjb25zdHJ1Y3QoZSl7c3VwZXIuY29uc3RydWN0KGUpO2xldCB0PXRoaXMse293bmVyOnJ9PXQsYT17ZGVsZWdhdGU6XCIubmVvLWRyYWdnYWJsZVwiLHNjb3BlOnR9O3IuYWRkRG9tTGlzdGVuZXJzKFt7XCJkcmFnOmVuZFwiOnQub25EcmFnRW5kLC4uLmF9LHtcImRyYWc6bW92ZVwiOnQub25EcmFnTW92ZSwuLi5hfSx7XCJkcmFnOnN0YXJ0XCI6dC5vbkRyYWdTdGFydCwuLi5hfV0pLHIub24oe2luc2VydDp0Lm9uSXRlbUluc2VydCxpdGVtc0NyZWF0ZWQ6dC5vbkl0ZW1zQ3JlYXRlZCxzY29wZTp0fSksdC5hZGp1c3RUb29sYmFySXRlbUNscyghMCl9YWRqdXN0VG9vbGJhckl0ZW1DbHMoZSl7bGV0IHIse293bmVyOmF9PXRoaXM7YS5pdGVtcy5mb3JFYWNoKGE9PntyPWEud3JhcHBlckNsc3x8W10sdC50b2dnbGUocixcIm5lby1kcmFnZ2FibGVcIixlKSxhLndyYXBwZXJDbHM9cn0pfW9uRHJhZ0VuZChlKXtpZih0aGlzLm93bmVyLmRyYWdnYWJsZSl7bGV0IGU9dGhpcyxyPWUuZHJhZ1Byb3h5LGE9ci5jbHN8fHt9LG89ZS5kcmFnRWxlbWVudFJlY3Qscz1yLndyYXBwZXJTdHlsZXx8e307dC5hZGQoYSxcIm5lby1hbmltYXRlXCIpLHIuY2xzPWEsZS50aW1lb3V0KDMwKS50aGVuKCgpPT57cy5sZWZ0PWAke28ubGVmdH1weGAscy50b3A9YCR7by50b3B9cHhgLHIud3JhcHBlclN0eWxlPXMsZS50aW1lb3V0KDEwMCkudGhlbigoKT0+e2UuZHJhZ0VuZCgpfSl9KX19YXN5bmMgb25EcmFnU3RhcnQoZSl7bGV0IHQ9dGhpczt0Lm93bmVyLmRyYWdnYWJsZSYmKHQuZHJhZ0VsZW1lbnQ9ci5maW5kKHQub3duZXIudmRvbSxlLnBhdGhbMF0uaWQpLnZkb20sYXdhaXQgdC5kcmFnU3RhcnQoZSkpfW9uSXRlbUluc2VydChlKXtsZXR7aXRlbTpyfT1lLGE9ci53cmFwcGVyQ2xzfHxbXTt0LmFkZChhLFwibmVvLWRyYWdnYWJsZVwiKSxyLndyYXBwZXJDbHM9YX1vbkl0ZW1zQ3JlYXRlZChlKXt0aGlzLmFkanVzdFRvb2xiYXJJdGVtQ2xzKCEwKX19KTsiLCJpbXBvcnQgdCBmcm9tXCIuL0RyYWdab25lLm1qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uL3V0aWwvVkRvbS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIHR7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmRyYWdnYWJsZS50b29sYmFyLlNvcnRab25lXCIsbnR5cGU6XCJ0b29sYmFyLXNvcnR6b25lXCIsYWRqdXN0SXRlbVJlY3RzVG9QYXJlbnQ6ITEsYWx3YXlzRmlyZURyYWdNb3ZlOiEwLGN1cnJlbnRJbmRleDotMSxpbmRleE1hcDpudWxsLGl0ZW1NYXJnaW46bnVsbCxpdGVtUmVjdHM6bnVsbCxpdGVtU3R5bGVzOm51bGwsb3duZXJSZWN0Om51bGwsb3duZXJTdHlsZTpudWxsLHJldmVyc2VkTGF5b3V0RGlyZWN0aW9uOiExLHNjcm9sbExlZnQ6MCxzY3JvbGxUb3A6MCxzb3J0RGlyZWN0aW9uOlwiaG9yaXpvbnRhbFwiLHN0YXJ0SW5kZXg6LTF9O2lzT3ZlckRyYWdnaW5nPSExO21vdmVUbyh0LGUpe3RoaXMub3duZXIubW92ZVRvKHQsZSl9YXN5bmMgb25EcmFnRW5kKHQpe2xldCBlLGk9dGhpcyx7aXRlbVN0eWxlczpyLG93bmVyOm59PWksbz1uLnN0eWxlfHx7fTthd2FpdCBpLnRpbWVvdXQoMTApLG4uc29ydGFibGUmJihvLmhlaWdodD1pLm93bmVyU3R5bGUuaGVpZ2h0fHxudWxsLG8ubWluV2lkdGg9aS5vd25lclN0eWxlLm1pbldpZHRofHxudWxsLG8ud2lkdGg9aS5vd25lclN0eWxlLndpZHRofHxudWxsLG4uc3R5bGU9byxuLml0ZW1zLmZvckVhY2goKHQsbik9PntlPXQud3JhcHBlclN0eWxlfHx7fSxPYmplY3QuYXNzaWduKGUse2hlaWdodDpyW25dLmhlaWdodHx8bnVsbCxsZWZ0Om51bGwsbWFyZ2luOm51bGwscG9zaXRpb246bnVsbCx0b3A6bnVsbCx3aWR0aDpyW25dLndpZHRofHxudWxsfSksbj09PWkuc3RhcnRJbmRleCYmKGUudmlzaWJpbGl0eT1udWxsKSx0LndyYXBwZXJTdHlsZT1lfSksaS5zdGFydEluZGV4IT09aS5jdXJyZW50SW5kZXgmJmkubW92ZVRvKGkuc3RhcnRJbmRleCxpLmN1cnJlbnRJbmRleCksT2JqZWN0LmFzc2lnbihpLHtjdXJyZW50SW5kZXg6LTEsaW5kZXhNYXA6bnVsbCxpdGVtUmVjdHM6bnVsbCxpdGVtU3R5bGVzOm51bGwsb3duZXJSZWN0Om51bGwsc3RhcnRJbmRleDotMX0pLGF3YWl0IGkudGltZW91dCgzMCksaS5kcmFnRW5kKHQpKX1hc3luYyBvbkRyYWdNb3ZlKHQpe2lmKCF0aGlzLml0ZW1SZWN0c3x8dGhpcy5pc1Njcm9sbGluZylyZXR1cm47bGV0IGUsaSxyLG4sbyxsLHM9dGhpcyx7Y2xpZW50WDphLGNsaWVudFk6ZH09dCxoPXMuY3VycmVudEluZGV4LHtpdGVtUmVjdHM6Y309cyx1PWMubGVuZ3RoLTEsZz1zLmFkanVzdEl0ZW1SZWN0c1RvUGFyZW50P3Mub3duZXJSZWN0Lng6MCx3PXMuYWRqdXN0SXRlbVJlY3RzVG9QYXJlbnQ/cy5vd25lclJlY3QueTowLG09cy5yZXZlcnNlZExheW91dERpcmVjdGlvbjtcImhvcml6b250YWxcIj09PXMuc29ydERpcmVjdGlvbj8oZT1hLWcrcy5zY3JvbGxMZWZ0LXMub2Zmc2V0WC1jW2hdLmxlZnQscj1hPnMuYm91bmRhcnlDb250YWluZXJSZWN0LnJpZ2h0LG49YTxzLmJvdW5kYXJ5Q29udGFpbmVyUmVjdC5sZWZ0LG89XCJ3aWR0aFwiKTooZT1kLXcrcy5zY3JvbGxUb3Atcy5vZmZzZXRZLWNbaF0udG9wLHI9ZD5zLmJvdW5kYXJ5Q29udGFpbmVyUmVjdC5ib3R0b20sbj1kPHMuYm91bmRhcnlDb250YWluZXJSZWN0LnRvcCxvPVwiaGVpZ2h0XCIpLGk9cnx8bixsPWk/LjAyOi41NSxuP2g+MCYmKHMuY3VycmVudEluZGV4LS0sYXdhaXQgcy5zY3JvbGxUb0luZGV4KCkscy5zd2l0Y2hJdGVtcyhoLHMuY3VycmVudEluZGV4KSk6cj9oPHUmJihzLmN1cnJlbnRJbmRleCsrLGF3YWl0IHMuc2Nyb2xsVG9JbmRleCgpLHMuc3dpdGNoSXRlbXMoaCxzLmN1cnJlbnRJbmRleCkpOmg+MCYmKCFtJiZlPDB8fG0mJmU+MCk/TWF0aC5hYnMoZSk+Y1toLTFdW29dKmwmJihzLmN1cnJlbnRJbmRleC0tLHMuc3dpdGNoSXRlbXMoaCxzLmN1cnJlbnRJbmRleCkpOmg8dSYmKCFtJiZlPjB8fG0mJmU8MCkmJk1hdGguYWJzKGUpPmNbaCsxXVtvXSpsJiYocy5jdXJyZW50SW5kZXgrKyxzLnN3aXRjaEl0ZW1zKGgscy5jdXJyZW50SW5kZXgpKSxzLmlzT3ZlckRyYWdnaW5nPWkmJjAhPT1zLmN1cnJlbnRJbmRleCYmcy5jdXJyZW50SW5kZXghPT11LHMuaXNPdmVyRHJhZ2dpbmcmJihhd2FpdCBzLnRpbWVvdXQoMzApLHMuaXNPdmVyRHJhZ2dpbmcmJmF3YWl0IHMub25EcmFnTW92ZSh0KSl9YXN5bmMgb25EcmFnU3RhcnQodCl7bGV0IGkscixuLG8sbD10aGlzLHM9TmVvLmdldENvbXBvbmVudCh0LnBhdGhbMF0uaWQpLHtvd25lcjphfT1sLGQ9bC5pdGVtU3R5bGVzPVtdLHtsYXlvdXQ6aH09YSxjPWEuc3R5bGV8fHt9O2Euc29ydGFibGUmJihpPWEuaW5kZXhPZihzLmlkKSxyPXt9LE9iamVjdC5hc3NpZ24obCx7Y3VycmVudEluZGV4OmksZHJhZ0VsZW1lbnQ6ZS5maW5kKGEudmRvbSxzLmlkKS52ZG9tLGRyYWdQcm94eUNvbmZpZzp7Li4ubC5kcmFnUHJveHlDb25maWcsY2xzOlsuLi5hLmNsc119LGluZGV4TWFwOnIsb3duZXJTdHlsZTp7aGVpZ2h0OmMuaGVpZ2h0LG1pbldpZHRoOmMubWluV2lkdGgsd2lkdGg6Yy53aWR0aH0scmV2ZXJzZWRMYXlvdXREaXJlY3Rpb246XCJjb2x1bW4tcmV2ZXJzZVwiPT09aC5kaXJlY3Rpb258fFwicm93LXJldmVyc2VcIj09PWguZGlyZWN0aW9uLHNvcnREaXJlY3Rpb246aC5kaXJlY3Rpb24/LmluY2x1ZGVzKFwiY29sdW1uXCIpP1widmVydGljYWxcIjpcImhvcml6b250YWxcIixzdGFydEluZGV4Oml9KSxhd2FpdCBsLmRyYWdTdGFydCh0KSxhLml0ZW1zLmZvckVhY2goKHQsZSk9PntyW2VdPWUsZC5wdXNoKHtoZWlnaHQ6dC5oZWlnaHQ/YCR7dC5oZWlnaHR9cHhgOnQuc3R5bGU/LmhlaWdodCx3aWR0aDp0LndpZHRoP2Ake3Qud2lkdGh9cHhgOnQuc3R5bGU/LndpZHRofSl9KSxhLmdldERvbVJlY3QoW2EuaWRdLmNvbmNhdChhLml0ZW1zLm1hcCh0PT50LmlkKSkpLnRoZW4odD0+e2wub3duZXJSZWN0PXRbMF0sYS5zdHlsZT17Li4uYyxoZWlnaHQ6YCR7dFswXS5oZWlnaHR9cHhgLG1pbldpZHRoOmAke3RbMF0ud2lkdGh9cHhgLHdpZHRoOmAke3RbMF0ud2lkdGh9cHhgfSx0LnNoaWZ0KCksbC5hZGp1c3RJdGVtUmVjdHNUb1BhcmVudCYmdC5mb3JFYWNoKHQ9Pnt0LngtPWwub3duZXJSZWN0LngsdC55LT1sLm93bmVyUmVjdC55fSksbC5pdGVtUmVjdHM9dCxhLml0ZW1zLmZvckVhY2goKGUsaSk9PntuPWUud3JhcHBlclN0eWxlfHx7fSxvPXRbaV0sbC5hZGp1c3RQcm94eVJlY3RUb1BhcmVudD8uKG8sbC5vd25lclJlY3QpLGUud3JhcHBlclN0eWxlPU9iamVjdC5hc3NpZ24obix7aGVpZ2h0OmAke28uaGVpZ2h0fXB4YCxsZWZ0OmAke28ubGVmdH1weGAsbWFyZ2luOmwuaXRlbU1hcmdpbixwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOmAke28udG9wfXB4YCx3aWR0aDpgJHtvLndpZHRofXB4YH0pfSksbC50aW1lb3V0KDUpLnRoZW4oKCk9PntuPXMud3JhcHBlclN0eWxlfHx7fSxuLnZpc2liaWxpdHk9XCJoaWRkZW5cIixzLndyYXBwZXJTdHlsZT1ufSl9KSl9YXN5bmMgc2Nyb2xsVG9JbmRleCgpe2xldCB0PXRoaXM7dC5pc1Njcm9sbGluZz0hMCxhd2FpdCh0Lm93bmVyLnNjcm9sbFRvSW5kZXg/Lih0LmN1cnJlbnRJbmRleCx0Lml0ZW1SZWN0c1t0LmN1cnJlbnRJbmRleF0pKSx0LmlzU2Nyb2xsaW5nPSExfXN3aXRjaEl0ZW1zKHQsZSl7bGV0IGkscj10aGlzLG49ci5yZXZlcnNlZExheW91dERpcmVjdGlvbjsoIW4mJmU8dHx8biYmdDxlKSYmKGk9dCx0PWUsZT1pKTtsZXQgbz1yLml0ZW1SZWN0cyxsPXIuaW5kZXhNYXAscz1vW3RdLGE9b1tlXSxkPXMuY2xvbmUoKSxoPWEuY2xvbmUoKTtcImhvcml6b250YWxcIj09PXIuc29ydERpcmVjdGlvbj8ocy53aWR0aD1oLndpZHRoLGEueD1kLngraC53aWR0aCxhLndpZHRoPWQud2lkdGgpOihzLmhlaWdodD1oLmhlaWdodCxhLmhlaWdodD1kLmhlaWdodCxhLnk9ZC55K2guaGVpZ2h0KSxpPWxbdF0sbFt0XT1sW2VdLGxbZV09aSxyLnVwZGF0ZUl0ZW0odCxzKSxyLnVwZGF0ZUl0ZW0oZSxhKX11cGRhdGVJdGVtKHQsZSl7bGV0IGk9dGhpcy5vd25lci5pdGVtc1t0aGlzLmluZGV4TWFwW3RdXSx7d3JhcHBlclN0eWxlOnJ9PWk7ci5sZWZ0PWAke2UubGVmdH1weGAsci50b3A9YCR7ZS50b3B9cHhgLGkud3JhcHBlclN0eWxlPXJ9fSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9