"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["dist_esm_src_draggable_DragZone_mjs"],{

/***/ "./dist/esm/src/draggable/DragProxyComponent.mjs"
/*!*******************************************************!*\
  !*** ./dist/esm/src/draggable/DragProxyComponent.mjs ***!
  \*******************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.draggable.DragProxyComponent",ntype:"dragproxy",autoInitVnode:!0,autoMount:!0,baseCls:["neo-dragproxy"],moveInMainThread:!0};afterSetMounted(e,a){if(super.afterSetMounted(e,a),e&&this.moveInMainThread){let{appName:e,id:a,windowId:o}=this;Neo.main.addon.DragDrop.setDragProxyElement({appName:e,id:a,windowId:o})}}}));

/***/ },

/***/ "./dist/esm/src/draggable/DragProxyContainer.mjs"
/*!*******************************************************!*\
  !*** ./dist/esm/src/draggable/DragProxyContainer.mjs ***!
  \*******************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../container/Base.mjs */ "./dist/esm/src/container/Base.mjs");
/* harmony import */ var _DragProxyComponent_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DragProxyComponent.mjs */ "./dist/esm/src/draggable/DragProxyComponent.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.draggable.DragProxyContainer",ntype:"dragproxycontainer",autoInitVnode:!0,autoMount:!0,baseCls:["neo-dragproxy"],layout:"fit",moveInMainThread:!0};afterSetMounted(e,t){if(super.afterSetMounted(e,t),e&&this.moveInMainThread){let{appName:e,id:t,windowId:o}=this;Neo.main.addon.DragDrop.setDragProxyElement({appName:e,id:t,windowId:o})}}afterSetWindowId(e,o){super.afterSetWindowId(e,o),e&&Neo.currentWorker.insertThemeFiles(e,_DragProxyComponent_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].prototype)}destroy(...e){this.items=[],super.destroy(...e)}}));

/***/ },

/***/ "./dist/esm/src/draggable/DragZone.mjs"
/*!*********************************************!*\
  !*** ./dist/esm/src/draggable/DragZone.mjs ***!
  \*********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _component_Base_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony import */ var _DragProxyComponent_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DragProxyComponent.mjs */ "./dist/esm/src/draggable/DragProxyComponent.mjs");
/* harmony import */ var _DragProxyContainer_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DragProxyContainer.mjs */ "./dist/esm/src/draggable/DragProxyContainer.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _core_Observable_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/Observable.mjs */ "./dist/esm/src/core/Observable.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static observable=!0;static config={className:"Neo.draggable.DragZone",ntype:"dragzone",addDragProxyCls:!0,allowOverdrag:!1,alwaysFireDragMove:!1,appName_:null,bodyCursorStyle:null,boundaryContainerId:null,boundaryContainerRect:null,data:null,dragElement:null,dragElementRect:null,dragProxy:null,dragProxyConfig_:null,dragProxyCls:"neo-dragproxy",dropZoneIdentifier:null,moveHorizontal:!0,moveInMainThread:!0,moveVertical:!0,offsetX:0,offsetY:0,owner:null,proxyParentId_:"document.body",scrollContainerId:null,scrollFactorLeft:1,scrollFactorTop:1,useProxyWrapper:!0,windowId_:null};construct(e){super.construct(e),Neo.main.addon.DragDrop||console.error("You can not use Neo.draggable.DragZone without adding Neo.main.addon.DragDrop to the main thread addons",this.id)}afterSetWindowId(e,r){e&&Neo.currentWorker.insertThemeFiles(e,this.__proto__)}beforeGetDragProxyConfig(e){return Neo.clone(e,!0,!0)}async createDragProxy(e,n=!0){let l,i,s=this,g=Neo.getComponent(s.getDragElementRoot().id)||s.owner,c=s.dragElementRect,m=s.dragProxyConfig||{},p=m.module===_DragProxyContainer_mjs__WEBPACK_IMPORTED_MODULE_3__["default"],h=m.vdom,u=!p&&_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].clone(h||s.dragElement);if(l={module:_DragProxyComponent_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],appName:s.appName,moveInMainThread:s.moveInMainThread,parentId:s.proxyParentId,windowId:s.windowId,...m},p?(l.height=`${e.height}px`,l.items=[],l.parentComponent=s.owner,l.width=`${e.width}px`,l.cls=l.cls||[],l.cls.push("neo-draggable")):(l.vdom=s.useProxyWrapper?{cn:[u]}:u,u.cls&&!s.useProxyWrapper&&(l.cls=l.cls||[],l.cls.push(...u.cls))),l.cls=l.cls||[],g&&l.cls.push(g.getTheme()),s.addDragProxyCls&&l.cls&&_util_Array_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].add(l.cls,s.dragProxyCls),l.style=l.style||{},Object.assign(l.style,{height:`${e.height}px`,left:`${s.moveHorizontal?e.x:c.x}px`,top:`${s.moveVertical?e.y:c.y}px`,width:`${e.width}px`}),n){if(p&&(l.autoInitVnode=!0,l.autoMount=!0),s.dragProxy=i=Neo.create(l),p){await i.mountedPromise,s.dragPlaceholder=Neo.create({module:_component_Base_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],flex:g.flex,style:{height:`${e.height}px`,visibility:"hidden",width:`${e.width}px`}}),g.minHeight&&(s.dragPlaceholder.minHeight=g.minHeight),g.minWidth&&(s.dragPlaceholder.minWidth=g.minWidth),s.dragStartIndex=s.owner.items.indexOf(g);const{vnode:o}=await Neo.vdom.Helper.create({vdom:s.dragPlaceholder.vdom});await Neo.applyDeltas(s.windowId,[{action:"insertNode",index:s.dragStartIndex,parentId:s.owner.getVdomItemsRoot().id,vnode:o},{action:"moveNode",id:g.id,index:0,parentId:i.id}]),s.dragPlaceholder.set({vnode:o,mounted:!0,vnodeInitialized:!0})}return i}return l}destroyDragProxy(){let e=this,r=e.dragProxy.id;e.timeout(e.moveInMainThread?0:30).then(()=>{Neo.applyDeltas(e.windowId,[{action:"removeNode",id:r}])}),e.dragProxy.destroy()}dragEnd(e){let r=this,{owner:o}=r,{cls:t}=o;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].remove(t,"neo-is-dragging"),o.cls=t,r.dragProxy&&(r.dragPlaceholder&&(r.dragPlaceholder.destroy(),r.dragPlaceholder=null),r.destroyDragProxy(),r.dragProxy=null),Object.assign(r,{dragElementRect:null,dragStartIndex:null,offsetX:0,offsetY:0,scrollContainerId:null}),r.fire("dragEnd",e),r.resetData()}dragMove(e,r=!1){let o,t=this;t.moveInMainThread&&!r||!t.dragProxy||(o=t.dragProxy.style,t.moveHorizontal&&(o.left=e.clientX-t.offsetX+"px"),t.moveVertical&&(o.top=e.clientY-t.offsetY+"px"),t.dragProxy.style=o),t.fire("dragMove",e)}async dragStart(e){let r,o,t,n=this,{appName:d,owner:l,windowId:i}=n,{cls:s}=l,g=n.getDragElementRect(e);n.setData(),r=await Neo.main.addon.DragDrop.setConfigs({appName:d,windowId:i,...n.getMainThreadConfigs()}),n.boundaryContainerRect=r.boundaryContainerRect,_util_Array_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].add(s,"neo-is-dragging"),l.cls=s,o=e.clientX-g.left,t=e.clientY-g.top,Object.assign(n,{dragElementRect:g,offsetX:o,offsetY:t}),await n.createDragProxy(g),n.fire("dragStart",{clientX:e.clientX,clientY:e.clientY,dragElementRect:g,eventData:e,id:n.id,offsetX:o,offsetY:t})}getDragElementRect(e){let r=this.getDragElementRoot().id;for(let o of e.path)if(o.id===r)return o.rect;for(let o of e.targetPath)if(o.id===r)return o.rect;return null}getDragElementRoot(){return this.dragElement}getMainThreadConfigs(){let e=this;return{allowOverdrag:e.allowOverdrag,alwaysFireDragMove:e.alwaysFireDragMove,bodyCursorStyle:e.bodyCursorStyle,boundaryContainerId:e.boundaryContainerId,dragElementRootId:e.getDragElementRoot().id,dragProxyCls:e.dragProxyCls,dragZoneId:e.id,dropZoneIdentifier:e.dropZoneIdentifier,moveHorizontal:e.moveHorizontal,moveVertical:e.moveVertical,scrollContainerId:e.scrollContainerId,scrollFactorLeft:e.scrollFactorLeft,scrollFactorTop:e.scrollFactorTop}}onDrop(e){this.fire("drop",e)}onDropEnter(e){this.fire("drop:enter",e)}onDropLeave(e){this.fire("drop:leave",e)}resetData(){this.timeout(50).then(()=>{this.data=null})}setData(e={}){let r=this;r.data={dragElement:r.getDragElementRoot(),dragZoneId:r.id,...e}}}));

/***/ }

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC9kaXN0X2VzbV9zcmNfZHJhZ2dhYmxlX0RyYWdab25lX21qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFxQyxpRUFBZSw2QkFBNkIsMkRBQUMsQ0FBQyxlQUFlLDRJQUE0SSxxQkFBcUIsd0RBQXdELElBQUksMEJBQTBCLE1BQU0sNkNBQTZDLDBCQUEwQixJQUFJLENBQUMsRTs7Ozs7Ozs7Ozs7Ozs7OztBQ0E5VixpRUFBZSw2QkFBNkIsMkRBQUMsQ0FBQyxlQUFlLGtLQUFrSyxxQkFBcUIsd0RBQXdELElBQUksMEJBQTBCLE1BQU0sNkNBQTZDLDBCQUEwQixHQUFHLHNCQUFzQixvRUFBb0UsK0RBQUMsWUFBWSxjQUFjLG1DQUFtQyxDQUFDLEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FwWSxpRUFBZSw2QkFBNkIsc0RBQUMsQ0FBQyxxQkFBcUIsZUFBZSxraUJBQWtpQixhQUFhLDZLQUE2SyxzQkFBc0Isd0RBQXdELDRCQUE0QiwwQkFBMEIsOEJBQThCLGlIQUFpSCxjQUFjLCtEQUFDLGdCQUFnQixzREFBQyx5QkFBeUIsTUFBTSxPQUFPLCtEQUFDLHlHQUF5RyxnQkFBZ0IsU0FBUyxvREFBb0QsUUFBUSw0RUFBNEUsT0FBTyw0SUFBNEksdURBQUMsOENBQThDLHdCQUF3QixVQUFVLFNBQVMsWUFBWSx5QkFBeUIsV0FBVyx1QkFBdUIsYUFBYSxRQUFRLElBQUksS0FBSyx5RUFBeUUscURBQXFELE9BQU8sMkRBQUMsb0JBQW9CLFVBQVUsU0FBUyxpQ0FBaUMsUUFBUSxLQUFLLHVKQUF1SixNQUFNLFFBQVEsK0JBQStCLDRCQUE0QixFQUFFLG1DQUFtQywwRkFBMEYsRUFBRSxnREFBZ0QsMEJBQTBCLHVDQUF1QyxFQUFFLFNBQVMsU0FBUyxtQkFBbUIsNEJBQTRCLDZDQUE2Qyw2QkFBNkIseUJBQXlCLEdBQUcsd0JBQXdCLFdBQVcsWUFBWSxRQUFRLElBQUksTUFBTSxHQUFHLHVEQUFDLG1MQUFtTCxvRkFBb0Ysb0NBQW9DLGlCQUFpQixhQUFhLDBNQUEwTSxtQkFBbUIsa0JBQWtCLDZCQUE2QixJQUFJLE1BQU0sNkJBQTZCLHdEQUF3RCxpREFBaUQsa0RBQWtELHVEQUFDLHdGQUF3RixzQ0FBc0MsaURBQWlELDhGQUE4RixFQUFFLHNCQUFzQixtQ0FBbUMsOENBQThDLG9EQUFvRCxZQUFZLHFCQUFxQix3QkFBd0IsdUJBQXVCLFdBQVcsT0FBTywyYkFBMmIsVUFBVSxvQkFBb0IsZUFBZSwwQkFBMEIsZUFBZSwwQkFBMEIsWUFBWSwyQkFBMkIsZUFBZSxFQUFFLFlBQVksRUFBRSxXQUFXLFFBQVEsMERBQTBELENBQUMsRSIsInNvdXJjZXMiOlsid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvZHJhZ2dhYmxlL0RyYWdQcm94eUNvbXBvbmVudC5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9kcmFnZ2FibGUvRHJhZ1Byb3h5Q29udGFpbmVyLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2RyYWdnYWJsZS9EcmFnWm9uZS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGUgZnJvbVwiLi4vY29tcG9uZW50L0Jhc2UubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBle3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5kcmFnZ2FibGUuRHJhZ1Byb3h5Q29tcG9uZW50XCIsbnR5cGU6XCJkcmFncHJveHlcIixhdXRvSW5pdFZub2RlOiEwLGF1dG9Nb3VudDohMCxiYXNlQ2xzOltcIm5lby1kcmFncHJveHlcIl0sbW92ZUluTWFpblRocmVhZDohMH07YWZ0ZXJTZXRNb3VudGVkKGUsYSl7aWYoc3VwZXIuYWZ0ZXJTZXRNb3VudGVkKGUsYSksZSYmdGhpcy5tb3ZlSW5NYWluVGhyZWFkKXtsZXR7YXBwTmFtZTplLGlkOmEsd2luZG93SWQ6b309dGhpcztOZW8ubWFpbi5hZGRvbi5EcmFnRHJvcC5zZXREcmFnUHJveHlFbGVtZW50KHthcHBOYW1lOmUsaWQ6YSx3aW5kb3dJZDpvfSl9fX0pOyIsImltcG9ydCBlIGZyb21cIi4uL2NvbnRhaW5lci9CYXNlLm1qc1wiO2ltcG9ydCB0IGZyb21cIi4vRHJhZ1Byb3h5Q29tcG9uZW50Lm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgZXtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uZHJhZ2dhYmxlLkRyYWdQcm94eUNvbnRhaW5lclwiLG50eXBlOlwiZHJhZ3Byb3h5Y29udGFpbmVyXCIsYXV0b0luaXRWbm9kZTohMCxhdXRvTW91bnQ6ITAsYmFzZUNsczpbXCJuZW8tZHJhZ3Byb3h5XCJdLGxheW91dDpcImZpdFwiLG1vdmVJbk1haW5UaHJlYWQ6ITB9O2FmdGVyU2V0TW91bnRlZChlLHQpe2lmKHN1cGVyLmFmdGVyU2V0TW91bnRlZChlLHQpLGUmJnRoaXMubW92ZUluTWFpblRocmVhZCl7bGV0e2FwcE5hbWU6ZSxpZDp0LHdpbmRvd0lkOm99PXRoaXM7TmVvLm1haW4uYWRkb24uRHJhZ0Ryb3Auc2V0RHJhZ1Byb3h5RWxlbWVudCh7YXBwTmFtZTplLGlkOnQsd2luZG93SWQ6b30pfX1hZnRlclNldFdpbmRvd0lkKGUsbyl7c3VwZXIuYWZ0ZXJTZXRXaW5kb3dJZChlLG8pLGUmJk5lby5jdXJyZW50V29ya2VyLmluc2VydFRoZW1lRmlsZXMoZSx0LnByb3RvdHlwZSl9ZGVzdHJveSguLi5lKXt0aGlzLml0ZW1zPVtdLHN1cGVyLmRlc3Ryb3koLi4uZSl9fSk7IiwiaW1wb3J0IGUgZnJvbVwiLi4vY29yZS9CYXNlLm1qc1wiO2ltcG9ydCByIGZyb21cIi4uL2NvbXBvbmVudC9CYXNlLm1qc1wiO2ltcG9ydCBvIGZyb21cIi4vRHJhZ1Byb3h5Q29tcG9uZW50Lm1qc1wiO2ltcG9ydCB0IGZyb21cIi4vRHJhZ1Byb3h5Q29udGFpbmVyLm1qc1wiO2ltcG9ydCBhIGZyb21cIi4uL3V0aWwvQXJyYXkubWpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vY29yZS9PYnNlcnZhYmxlLm1qc1wiO2ltcG9ydCBkIGZyb21cIi4uL3V0aWwvVkRvbS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGV7c3RhdGljIG9ic2VydmFibGU9ITA7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmRyYWdnYWJsZS5EcmFnWm9uZVwiLG50eXBlOlwiZHJhZ3pvbmVcIixhZGREcmFnUHJveHlDbHM6ITAsYWxsb3dPdmVyZHJhZzohMSxhbHdheXNGaXJlRHJhZ01vdmU6ITEsYXBwTmFtZV86bnVsbCxib2R5Q3Vyc29yU3R5bGU6bnVsbCxib3VuZGFyeUNvbnRhaW5lcklkOm51bGwsYm91bmRhcnlDb250YWluZXJSZWN0Om51bGwsZGF0YTpudWxsLGRyYWdFbGVtZW50Om51bGwsZHJhZ0VsZW1lbnRSZWN0Om51bGwsZHJhZ1Byb3h5Om51bGwsZHJhZ1Byb3h5Q29uZmlnXzpudWxsLGRyYWdQcm94eUNsczpcIm5lby1kcmFncHJveHlcIixkcm9wWm9uZUlkZW50aWZpZXI6bnVsbCxtb3ZlSG9yaXpvbnRhbDohMCxtb3ZlSW5NYWluVGhyZWFkOiEwLG1vdmVWZXJ0aWNhbDohMCxvZmZzZXRYOjAsb2Zmc2V0WTowLG93bmVyOm51bGwscHJveHlQYXJlbnRJZF86XCJkb2N1bWVudC5ib2R5XCIsc2Nyb2xsQ29udGFpbmVySWQ6bnVsbCxzY3JvbGxGYWN0b3JMZWZ0OjEsc2Nyb2xsRmFjdG9yVG9wOjEsdXNlUHJveHlXcmFwcGVyOiEwLHdpbmRvd0lkXzpudWxsfTtjb25zdHJ1Y3QoZSl7c3VwZXIuY29uc3RydWN0KGUpLE5lby5tYWluLmFkZG9uLkRyYWdEcm9wfHxjb25zb2xlLmVycm9yKFwiWW91IGNhbiBub3QgdXNlIE5lby5kcmFnZ2FibGUuRHJhZ1pvbmUgd2l0aG91dCBhZGRpbmcgTmVvLm1haW4uYWRkb24uRHJhZ0Ryb3AgdG8gdGhlIG1haW4gdGhyZWFkIGFkZG9uc1wiLHRoaXMuaWQpfWFmdGVyU2V0V2luZG93SWQoZSxyKXtlJiZOZW8uY3VycmVudFdvcmtlci5pbnNlcnRUaGVtZUZpbGVzKGUsdGhpcy5fX3Byb3RvX18pfWJlZm9yZUdldERyYWdQcm94eUNvbmZpZyhlKXtyZXR1cm4gTmVvLmNsb25lKGUsITAsITApfWFzeW5jIGNyZWF0ZURyYWdQcm94eShlLG49ITApe2xldCBsLGkscz10aGlzLGc9TmVvLmdldENvbXBvbmVudChzLmdldERyYWdFbGVtZW50Um9vdCgpLmlkKXx8cy5vd25lcixjPXMuZHJhZ0VsZW1lbnRSZWN0LG09cy5kcmFnUHJveHlDb25maWd8fHt9LHA9bS5tb2R1bGU9PT10LGg9bS52ZG9tLHU9IXAmJmQuY2xvbmUoaHx8cy5kcmFnRWxlbWVudCk7aWYobD17bW9kdWxlOm8sYXBwTmFtZTpzLmFwcE5hbWUsbW92ZUluTWFpblRocmVhZDpzLm1vdmVJbk1haW5UaHJlYWQscGFyZW50SWQ6cy5wcm94eVBhcmVudElkLHdpbmRvd0lkOnMud2luZG93SWQsLi4ubX0scD8obC5oZWlnaHQ9YCR7ZS5oZWlnaHR9cHhgLGwuaXRlbXM9W10sbC5wYXJlbnRDb21wb25lbnQ9cy5vd25lcixsLndpZHRoPWAke2Uud2lkdGh9cHhgLGwuY2xzPWwuY2xzfHxbXSxsLmNscy5wdXNoKFwibmVvLWRyYWdnYWJsZVwiKSk6KGwudmRvbT1zLnVzZVByb3h5V3JhcHBlcj97Y246W3VdfTp1LHUuY2xzJiYhcy51c2VQcm94eVdyYXBwZXImJihsLmNscz1sLmNsc3x8W10sbC5jbHMucHVzaCguLi51LmNscykpKSxsLmNscz1sLmNsc3x8W10sZyYmbC5jbHMucHVzaChnLmdldFRoZW1lKCkpLHMuYWRkRHJhZ1Byb3h5Q2xzJiZsLmNscyYmYS5hZGQobC5jbHMscy5kcmFnUHJveHlDbHMpLGwuc3R5bGU9bC5zdHlsZXx8e30sT2JqZWN0LmFzc2lnbihsLnN0eWxlLHtoZWlnaHQ6YCR7ZS5oZWlnaHR9cHhgLGxlZnQ6YCR7cy5tb3ZlSG9yaXpvbnRhbD9lLng6Yy54fXB4YCx0b3A6YCR7cy5tb3ZlVmVydGljYWw/ZS55OmMueX1weGAsd2lkdGg6YCR7ZS53aWR0aH1weGB9KSxuKXtpZihwJiYobC5hdXRvSW5pdFZub2RlPSEwLGwuYXV0b01vdW50PSEwKSxzLmRyYWdQcm94eT1pPU5lby5jcmVhdGUobCkscCl7YXdhaXQgaS5tb3VudGVkUHJvbWlzZSxzLmRyYWdQbGFjZWhvbGRlcj1OZW8uY3JlYXRlKHttb2R1bGU6cixmbGV4OmcuZmxleCxzdHlsZTp7aGVpZ2h0OmAke2UuaGVpZ2h0fXB4YCx2aXNpYmlsaXR5OlwiaGlkZGVuXCIsd2lkdGg6YCR7ZS53aWR0aH1weGB9fSksZy5taW5IZWlnaHQmJihzLmRyYWdQbGFjZWhvbGRlci5taW5IZWlnaHQ9Zy5taW5IZWlnaHQpLGcubWluV2lkdGgmJihzLmRyYWdQbGFjZWhvbGRlci5taW5XaWR0aD1nLm1pbldpZHRoKSxzLmRyYWdTdGFydEluZGV4PXMub3duZXIuaXRlbXMuaW5kZXhPZihnKTtjb25zdHt2bm9kZTpvfT1hd2FpdCBOZW8udmRvbS5IZWxwZXIuY3JlYXRlKHt2ZG9tOnMuZHJhZ1BsYWNlaG9sZGVyLnZkb219KTthd2FpdCBOZW8uYXBwbHlEZWx0YXMocy53aW5kb3dJZCxbe2FjdGlvbjpcImluc2VydE5vZGVcIixpbmRleDpzLmRyYWdTdGFydEluZGV4LHBhcmVudElkOnMub3duZXIuZ2V0VmRvbUl0ZW1zUm9vdCgpLmlkLHZub2RlOm99LHthY3Rpb246XCJtb3ZlTm9kZVwiLGlkOmcuaWQsaW5kZXg6MCxwYXJlbnRJZDppLmlkfV0pLHMuZHJhZ1BsYWNlaG9sZGVyLnNldCh7dm5vZGU6byxtb3VudGVkOiEwLHZub2RlSW5pdGlhbGl6ZWQ6ITB9KX1yZXR1cm4gaX1yZXR1cm4gbH1kZXN0cm95RHJhZ1Byb3h5KCl7bGV0IGU9dGhpcyxyPWUuZHJhZ1Byb3h5LmlkO2UudGltZW91dChlLm1vdmVJbk1haW5UaHJlYWQ/MDozMCkudGhlbigoKT0+e05lby5hcHBseURlbHRhcyhlLndpbmRvd0lkLFt7YWN0aW9uOlwicmVtb3ZlTm9kZVwiLGlkOnJ9XSl9KSxlLmRyYWdQcm94eS5kZXN0cm95KCl9ZHJhZ0VuZChlKXtsZXQgcj10aGlzLHtvd25lcjpvfT1yLHtjbHM6dH09bzthLnJlbW92ZSh0LFwibmVvLWlzLWRyYWdnaW5nXCIpLG8uY2xzPXQsci5kcmFnUHJveHkmJihyLmRyYWdQbGFjZWhvbGRlciYmKHIuZHJhZ1BsYWNlaG9sZGVyLmRlc3Ryb3koKSxyLmRyYWdQbGFjZWhvbGRlcj1udWxsKSxyLmRlc3Ryb3lEcmFnUHJveHkoKSxyLmRyYWdQcm94eT1udWxsKSxPYmplY3QuYXNzaWduKHIse2RyYWdFbGVtZW50UmVjdDpudWxsLGRyYWdTdGFydEluZGV4Om51bGwsb2Zmc2V0WDowLG9mZnNldFk6MCxzY3JvbGxDb250YWluZXJJZDpudWxsfSksci5maXJlKFwiZHJhZ0VuZFwiLGUpLHIucmVzZXREYXRhKCl9ZHJhZ01vdmUoZSxyPSExKXtsZXQgbyx0PXRoaXM7dC5tb3ZlSW5NYWluVGhyZWFkJiYhcnx8IXQuZHJhZ1Byb3h5fHwobz10LmRyYWdQcm94eS5zdHlsZSx0Lm1vdmVIb3Jpem9udGFsJiYoby5sZWZ0PWUuY2xpZW50WC10Lm9mZnNldFgrXCJweFwiKSx0Lm1vdmVWZXJ0aWNhbCYmKG8udG9wPWUuY2xpZW50WS10Lm9mZnNldFkrXCJweFwiKSx0LmRyYWdQcm94eS5zdHlsZT1vKSx0LmZpcmUoXCJkcmFnTW92ZVwiLGUpfWFzeW5jIGRyYWdTdGFydChlKXtsZXQgcixvLHQsbj10aGlzLHthcHBOYW1lOmQsb3duZXI6bCx3aW5kb3dJZDppfT1uLHtjbHM6c309bCxnPW4uZ2V0RHJhZ0VsZW1lbnRSZWN0KGUpO24uc2V0RGF0YSgpLHI9YXdhaXQgTmVvLm1haW4uYWRkb24uRHJhZ0Ryb3Auc2V0Q29uZmlncyh7YXBwTmFtZTpkLHdpbmRvd0lkOmksLi4ubi5nZXRNYWluVGhyZWFkQ29uZmlncygpfSksbi5ib3VuZGFyeUNvbnRhaW5lclJlY3Q9ci5ib3VuZGFyeUNvbnRhaW5lclJlY3QsYS5hZGQocyxcIm5lby1pcy1kcmFnZ2luZ1wiKSxsLmNscz1zLG89ZS5jbGllbnRYLWcubGVmdCx0PWUuY2xpZW50WS1nLnRvcCxPYmplY3QuYXNzaWduKG4se2RyYWdFbGVtZW50UmVjdDpnLG9mZnNldFg6byxvZmZzZXRZOnR9KSxhd2FpdCBuLmNyZWF0ZURyYWdQcm94eShnKSxuLmZpcmUoXCJkcmFnU3RhcnRcIix7Y2xpZW50WDplLmNsaWVudFgsY2xpZW50WTplLmNsaWVudFksZHJhZ0VsZW1lbnRSZWN0OmcsZXZlbnREYXRhOmUsaWQ6bi5pZCxvZmZzZXRYOm8sb2Zmc2V0WTp0fSl9Z2V0RHJhZ0VsZW1lbnRSZWN0KGUpe2xldCByPXRoaXMuZ2V0RHJhZ0VsZW1lbnRSb290KCkuaWQ7Zm9yKGxldCBvIG9mIGUucGF0aClpZihvLmlkPT09cilyZXR1cm4gby5yZWN0O2ZvcihsZXQgbyBvZiBlLnRhcmdldFBhdGgpaWYoby5pZD09PXIpcmV0dXJuIG8ucmVjdDtyZXR1cm4gbnVsbH1nZXREcmFnRWxlbWVudFJvb3QoKXtyZXR1cm4gdGhpcy5kcmFnRWxlbWVudH1nZXRNYWluVGhyZWFkQ29uZmlncygpe2xldCBlPXRoaXM7cmV0dXJue2FsbG93T3ZlcmRyYWc6ZS5hbGxvd092ZXJkcmFnLGFsd2F5c0ZpcmVEcmFnTW92ZTplLmFsd2F5c0ZpcmVEcmFnTW92ZSxib2R5Q3Vyc29yU3R5bGU6ZS5ib2R5Q3Vyc29yU3R5bGUsYm91bmRhcnlDb250YWluZXJJZDplLmJvdW5kYXJ5Q29udGFpbmVySWQsZHJhZ0VsZW1lbnRSb290SWQ6ZS5nZXREcmFnRWxlbWVudFJvb3QoKS5pZCxkcmFnUHJveHlDbHM6ZS5kcmFnUHJveHlDbHMsZHJhZ1pvbmVJZDplLmlkLGRyb3Bab25lSWRlbnRpZmllcjplLmRyb3Bab25lSWRlbnRpZmllcixtb3ZlSG9yaXpvbnRhbDplLm1vdmVIb3Jpem9udGFsLG1vdmVWZXJ0aWNhbDplLm1vdmVWZXJ0aWNhbCxzY3JvbGxDb250YWluZXJJZDplLnNjcm9sbENvbnRhaW5lcklkLHNjcm9sbEZhY3RvckxlZnQ6ZS5zY3JvbGxGYWN0b3JMZWZ0LHNjcm9sbEZhY3RvclRvcDplLnNjcm9sbEZhY3RvclRvcH19b25Ecm9wKGUpe3RoaXMuZmlyZShcImRyb3BcIixlKX1vbkRyb3BFbnRlcihlKXt0aGlzLmZpcmUoXCJkcm9wOmVudGVyXCIsZSl9b25Ecm9wTGVhdmUoZSl7dGhpcy5maXJlKFwiZHJvcDpsZWF2ZVwiLGUpfXJlc2V0RGF0YSgpe3RoaXMudGltZW91dCg1MCkudGhlbigoKT0+e3RoaXMuZGF0YT1udWxsfSl9c2V0RGF0YShlPXt9KXtsZXQgcj10aGlzO3IuZGF0YT17ZHJhZ0VsZW1lbnQ6ci5nZXREcmFnRWxlbWVudFJvb3QoKSxkcmFnWm9uZUlkOnIuaWQsLi4uZX19fSk7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==