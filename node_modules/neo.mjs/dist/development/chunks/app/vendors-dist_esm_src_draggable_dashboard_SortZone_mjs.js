"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["vendors-dist_esm_src_draggable_dashboard_SortZone_mjs"],{

/***/ "./dist/esm/src/draggable/dashboard/SortZone.mjs"
/*!*******************************************************!*\
  !*** ./dist/esm/src/draggable/dashboard/SortZone.mjs ***!
  \*******************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony import */ var _manager_DragCoordinator_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../manager/DragCoordinator.mjs */ "./dist/esm/src/manager/DragCoordinator.mjs");
/* harmony import */ var _DragProxyContainer_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../DragProxyContainer.mjs */ "./dist/esm/src/draggable/DragProxyContainer.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _util_Rectangle_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/Rectangle.mjs */ "./dist/esm/src/util/Rectangle.mjs");
/* harmony import */ var _container_SortZone_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../container/SortZone.mjs */ "./dist/esm/src/draggable/container/SortZone.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _container_SortZone_mjs__WEBPACK_IMPORTED_MODULE_5__["default"]{static config={className:"Neo.draggable.dashboard.SortZone",ntype:"dashboard-sortzone",dragHandleSelector:".neo-draggable",dragProxyExtraCls:[],sortGroup:null};isRemoteDragging=!1;construct(e){super.construct(e),_manager_DragCoordinator_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].register(this)}acceptsRemoteDrag(e,t){let o=this;return o.ownerRect?e>=o.ownerRect.x&&e<=o.ownerRect.x+o.ownerRect.width&&t>=o.ownerRect.y&&t<=o.ownerRect.y+o.ownerRect.height:(o.isFetchingRect||(o.isFetchingRect=!0,o.owner.getDomRect([o.owner.id]).then(e=>{o.ownerRect=e[0],o.isFetchingRect=!1})),!1)}applyAbsolutePositioning(){let e,t=this;t.sortableItems.forEach((o,r)=>{let i=t.itemRects[r];e=o.wrapperStyle||{},t.adjustProxyRectToParent?.(i,t.ownerRect),console.log("applyAbsolutePositioning",{height:`${i.height}px`,left:`${i.left}px`,top:`${i.top}px`,width:`${i.width}px`}),o.wrapperStyle=Object.assign(e,{flex:"none",height:`${i.height}px`,left:`${i.left}px`,margin:"0px",position:"absolute",top:`${i.top}px`,width:`${i.width}px`})})}calculateExpandedLayout(){let e=this,t=e.ownerRect,o="horizontal"===e.sortDirection,r=o?t.width:t.height,i=[],a=0,n=0,s=[],l=0,d=0,c=0,g=0,h=0,p=0,m=0,w=e.adjustItemRectsToParent?0:t.x,x=e.adjustItemRectsToParent?0:t.y;if(e.itemRects.length>0){let i=e.itemRects[0],a=e.itemRects[e.itemRects.length-1];if(o){if(l=e.adjustItemRectsToParent?i.x:i.x-t.x,d=r-(e.adjustItemRectsToParent?a.x+a.width:a.x-t.x+a.width),g=e.adjustItemRectsToParent?i.y:i.y-t.y,h=t.height-(e.adjustItemRectsToParent?i.y+i.height:i.y-t.y+i.height),e.itemRects.length>1){let t=e.itemRects[1];c=t.x-(i.x+i.width)}}else if(l=e.adjustItemRectsToParent?i.y:i.y-t.y,d=r-(e.adjustItemRectsToParent?a.y+a.height:a.y-t.y+a.height),p=e.adjustItemRectsToParent?i.x:i.x-t.x,m=t.width-(e.adjustItemRectsToParent?i.x+i.width:i.x-t.x+i.width),e.itemRects.length>1){let t=e.itemRects[1];c=t.y-(i.y+i.height)}}for(let t=0;t<e.itemRects.length;t++){let r=e.indexMap[t];if(-1===r)continue;let s=e.owner.items[r];if(s===e.dragPlaceholder||s===e.dragComponent)continue;let l=e.itemRects[t];if(i.push({item:s,rect:l}),s.flex)a+=s.flex;else{n+=o?l.width:l.height}}let R=Math.max(0,i.length-1),y=Math.max(0,r-l-d-R*c-n),f=l;return i.forEach(({item:e,rect:r},i)=>{let n,l={};n=e.flex?e.flex/a*y:o?r.width:r.height,l=o?{left:`${w+f}px`,top:`${x+g}px`,height:t.height-g-h+"px",width:`${n}px`}:{left:`${w+p}px`,top:`${x+f}px`,height:`${n}px`,width:t.width-p-m+"px"},s.push({item:e,style:l}),f+=n+c}),s}destroy(){_manager_DragCoordinator_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].unregister(this),super.destroy()}getDragProxyConfig(){const e=super.getDragProxyConfig();return e.cls=e.cls.filter(e=>!e.includes("neo-viewport")),_util_Array_mjs__WEBPACK_IMPORTED_MODULE_3__["default"].add(e.cls,this.dragProxyExtraCls),e}async onDragEnd(e){let o=this;o.isRemoteDragging||_manager_DragCoordinator_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].onDragEnd({draggedItem:o.dragComponent,sourceSortZone:o}),super.onDragEnd(e)}async onDragMove(e){let t=this;t.itemRects&&t.boundaryContainerRect&&!t.isScrolling&&await super.onDragMove(e)}async onRemoteDragLeave(e){let t=this;t.isRemoteDragging&&(t.isRemoteDragging=!1,await t.onDragEnd({}))}async onRemoteDragMove(e){let t=this;t.isRemoteDragging||await t.startRemoteDrag(e),t.onDragMove({clientX:e.localX,clientY:e.localY,proxyRect:e.proxyRect}),t.dragMove({clientX:e.localX,clientY:e.localY},!0)}async onRemoteDrop(e){let t=this,o=t.currentIndex;if(t.isRemoteDragging){await t.onDragEnd({});const r=e.parentId;r&&"document.body"!==r&&Neo.getComponent(r)?.remove(e,!1),t.owner.insert(o,e),t.isRemoteDragging=!1}}onRemoteDropOut(e){let t=this;if(t.owner.detachedItems)for(const[o,r]of t.owner.detachedItems.entries())if(r.widget===e){t.owner.detachedItems.delete(o);break}}onWindowDragContinue(e,o){let r=this;_manager_DragCoordinator_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].onDragMove({draggedItem:r.dragComponent,offsetX:r.offsetX,offsetY:r.offsetY,proxyRect:o.proxyRect,screenX:o.screenX,screenY:o.screenY,sourceSortZone:r})}resumeWindowDrag(e,t){this.owner.resumeWindowDrag(e,t)}async setupDragState(e){let t,o,r,i,a=this,{adjustItemRectsToParent:s,owner:l}=a,d=a.itemStyles=[],{layout:c}=l,g=l.style||{};i=l.items.filter(e=>!e.isDestroyed),t=i.indexOf(e),o={},Object.assign(a,{currentIndex:t,dragElement:_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].find(l.vdom,e.id).vdom,dragProxyConfig:a.getDragProxyConfig(),indexMap:o,ownerStyle:{height:g.height,minWidth:g.minWidth,width:g.width},reversedLayoutDirection:"column-reverse"===c.direction||"row-reverse"===c.direction,sortableItems:i,sortDirection:c.direction?.includes("column")?"vertical":"horizontal",startIndex:t}),a.dragComponent=e,i.forEach((e,t)=>{o[t]=l.items.indexOf(e),d.push({height:e.height?`${e.height}px`:e.style?.height,width:e.width?`${e.width}px`:e.style?.width})}),r=await l.getDomRect([l.id].concat(i.map(e=>e.id))),r.forEach(e=>{console.log("itemRect",{height:`${e.height}px`,left:`${e.left}px`,top:`${e.top}px`,width:`${e.width}px`})}),a.ownerRect=r.shift(),a.boundaryContainerRect=a.ownerRect,l.style={...g,height:`${a.ownerRect.height}px`,minWidth:`${a.ownerRect.width}px`,width:`${a.ownerRect.width}px`},console.log("adjustItemRectsToParent",s),s&&r.forEach(e=>{e.x-=a.ownerRect.x,e.y-=a.ownerRect.y}),a.itemRects=r}async startRemoteDrag(t){let r,i=this,{owner:a}=i,{proxyRect:n}=t,s=t.draggedItem;i.isRemoteDragging=!0,i.dragElementRect={height:n.height,width:n.width,x:t.localX,y:t.localY,left:t.localX,top:t.localY},s.appName=i.appName,console.log("startRemoteDrag",s.id,s.windowId,s.parentId,s.parentComponent),s.parentId=null,s.parentComponent=null,s.mounted=!1,s.vnode=null,s.vnodeInitialized=!1,console.log("parent cleared:",s.parentId,s.parentComponent);let l=await a.getDomRect([a.id]);i.ownerRect=l[0],console.log("ownerRect",i.ownerRect),i.offsetX=t.offsetX,i.offsetY=t.offsetY,console.log("startRemoteDrag: ownerRect",i.ownerRect),console.log("startRemoteDrag: local coords",t.localX,t.localY),console.log("startRemoteDrag: calculated coords",t.localX-i.offsetX,t.localY-i.offsetY),r={module:_DragProxyContainer_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],appName:i.appName,cls:["neo-dragproxy",...i.owner.cls],items:[s],moveInMainThread:!1,windowId:i.windowId,style:{left:t.localX-i.offsetX+"px",top:t.localY-i.offsetY+"px"}},console.log("Creating local drag proxy",r),i.dragProxy=Neo.create(r),console.log("Created local drag proxy",i.dragProxy),i.dragPlaceholder=Neo.create({module:_component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],flex:"none",style:{height:`${n.height}px`,visibility:"hidden"}}),a.add(i.dragPlaceholder),await i.timeout(50),await i.setupDragState(i.dragPlaceholder);let d=i.sortableItems.indexOf(i.dragPlaceholder);if(d>-1){let e=i.itemRects[d];i.dragProxy.width=e.width,i.dragProxy.height=e.height}await i.timeout(50),i.applyAbsolutePositioning()}startWindowDrag(e){let t=this,{popupHeight:o,popupWidth:r,windowName:i}=e;t.dragProxy.style={opacity:0},t.isWindowDragging=!0,t.dragPlaceholder&&(t.dragPlaceholder.wrapperStyle={...t.dragPlaceholder.wrapperStyle,visibility:"hidden"}),t.calculateExpandedLayout().forEach(({item:e,style:t})=>{e.wrapperStyle={...e.wrapperStyle,...t}}),Neo.main.addon.DragDrop.startWindowDrag({popupHeight:o,popupName:i,popupWidth:r,windowId:t.windowId})}suspendWindowDrag(e){this.owner.suspendWindowDrag(e)}}));

/***/ },

/***/ "./dist/esm/src/manager/DragCoordinator.mjs"
/*!**************************************************!*\
  !*** ./dist/esm/src/manager/DragCoordinator.mjs ***!
  \**************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./dist/esm/src/manager/Base.mjs");
/* harmony import */ var _util_Rectangle_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Rectangle.mjs */ "./dist/esm/src/util/Rectangle.mjs");
/* harmony import */ var _Window_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Window.mjs */ "./dist/esm/src/manager/Window.mjs");
class r extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.manager.DragCoordinator",singleton:!0,sortZones:new Map};activeTargetZone=null;handleVoid(e,t,o){let r=this;r.activeTargetZone&&(r.activeTargetZone.onRemoteDragLeave(),r.activeTargetZone=null,e.resumeWindowDrag(t.reference||t.id,o))}onDragMove(e){let r,n=this,{draggedItem:a,offsetX:s,offsetY:i,proxyRect:g,screenX:d,screenY:c,sourceSortZone:l}=e,{sortGroup:Z}=l,m=_Window_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getWindowAt(d,c);if(m&&m!==l.windowId&&(r=n.sortZones.get(Z)?.get(m),r)){let e=_Window_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].get(m),Z=d-e.innerRect.x,u=c-e.innerRect.y,v=new _util_Rectangle_mjs__WEBPACK_IMPORTED_MODULE_1__["default"](Z-s,u-i,g.width,g.height);if(r.acceptsRemoteDrag(Z,u))return n.activeTargetZone!==r&&(n.activeTargetZone?.onRemoteDragLeave(),n.activeTargetZone||l.suspendWindowDrag(a.reference||a.id),n.activeTargetZone=r),void r.onRemoteDragMove({draggedItem:a,localX:Z,localY:u,offsetX:s,offsetY:i,proxyRect:v})}n.handleVoid(l,a,g)}onDragEnd(e){let t=this;t.activeTargetZone&&(t.activeTargetZone.onRemoteDrop(e.draggedItem),e.sourceSortZone.onRemoteDropOut(e.draggedItem),t.activeTargetZone=null)}register(e){let t=this,{sortGroup:o,windowId:r}=e;o&&(t.sortZones.has(o)||t.sortZones.set(o,new Map),t.sortZones.get(o).set(r,e))}unregister(e){let t=this,{sortGroup:o,windowId:r}=e;if(o&&t.sortZones.has(o)){let e=t.sortZones.get(o);e.delete(r),0===e.size&&t.sortZones.delete(o)}}toJSON(){let e=this;return{className:e.className,activeTargetZone:e.activeTargetZone?{id:e.activeTargetZone.id,sortGroup:e.activeTargetZone.sortGroup,windowId:e.activeTargetZone.windowId}:null,sortZones:Array.from(e.sortZones.entries()).map(([e,t])=>({group:e,windows:Array.from(t.keys())}))}}}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(r));

/***/ },

/***/ "./dist/esm/src/manager/Window.mjs"
/*!*****************************************!*\
  !*** ./dist/esm/src/manager/Window.mjs ***!
  \*****************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./dist/esm/src/manager/Base.mjs");
/* harmony import */ var _util_Rectangle_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Rectangle.mjs */ "./dist/esm/src/util/Rectangle.mjs");
class n extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.manager.Window",isSafari:/^((?!chrome|android).)*safari/i.test(navigator.userAgent),singleton:!0};construct(e){super.construct(e);let t=this;Neo.currentWorker.on({connect:t.onWindowConnect,disconnect:t.onWindowDisconnect,scope:t})}getWindowAt(e,t){let n=this.items.find(n=>n.outerRect?.intersects({bottom:t,right:e,x:e,y:t}));return n?n.id:null}calculateGeometry(e){const{innerHeight:n,innerWidth:o,mozInnerScreenX:r,mozInnerScreenY:i,outerHeight:c,outerWidth:s,screenLeft:a,screenTop:m}=e,d=(s-o)/2,u=c-n-d,l={bottom:d,left:d,right:d,top:u};let h,w;"number"==typeof r?(h=r,w=i):this.isSafari?(h=a+d,w=m+u):(h=a,w=m);return{chrome:l,innerRect:new _util_Rectangle_mjs__WEBPACK_IMPORTED_MODULE_1__["default"](h,w,o,n),outerRect:new _util_Rectangle_mjs__WEBPACK_IMPORTED_MODULE_1__["default"](h-d,w-u,s,c)}}onWindowConnect({appName:e,windowData:t,windowId:n}){let o=null,r=null,i=null;t&&({chrome:o,innerRect:r,outerRect:i}=this.calculateGeometry(t)),console.log("Window.onWindowConnect",{windowId:n,appName:e,chrome:o,innerRect:r,outerRect:i}),this.register({appName:e,chrome:o,id:n,innerRect:r,outerRect:i})}onWindowDisconnect({windowId:e}){this.unregister(e)}onWindowPositionChange(e){const t=this,n=t.get(e.windowId),{chrome:o,innerRect:r,outerRect:i}=t.calculateGeometry(e);n?(n.chrome=o,n.innerRect=r,n.outerRect=i):t.register({chrome:o,id:e.windowId,innerRect:r,outerRect:i})}toJSON(){return{className:this.className,windows:this.items.map(e=>({id:e.id,appName:e.appName,chrome:e.chrome,innerRect:e.innerRect,outerRect:e.outerRect}))}}}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(n));

/***/ }

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC92ZW5kb3JzLWRpc3RfZXNtX3NyY19kcmFnZ2FibGVfZGFzaGJvYXJkX1NvcnRab25lX21qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwUixpRUFBZSw2QkFBNkIsK0RBQUMsQ0FBQyxlQUFlLGlKQUFpSixvQkFBb0IsYUFBYSxtQkFBbUIsb0VBQUMsZ0JBQWdCLHVCQUF1QixXQUFXLGlOQUFpTixxQ0FBcUMsT0FBTywyQkFBMkIsYUFBYSxnQ0FBZ0MscUJBQXFCLG9CQUFvQixvRkFBb0YsVUFBVSxTQUFTLFlBQVksT0FBTyxXQUFXLE1BQU0sYUFBYSxRQUFRLElBQUksa0NBQWtDLHNCQUFzQixTQUFTLFlBQVksT0FBTyw0Q0FBNEMsTUFBTSxhQUFhLFFBQVEsSUFBSSxFQUFFLEVBQUUsMEJBQTBCLGlNQUFpTSx5QkFBeUIseURBQXlELE1BQU0sME9BQTBPLHFCQUFxQixxQkFBcUIsOE9BQThPLHFCQUFxQixzQkFBc0IsWUFBWSxxQkFBcUIsS0FBSyxvQkFBb0IsbUJBQW1CLHVCQUF1Qix1REFBdUQscUJBQXFCLFdBQVcsY0FBYyxtQkFBbUIsS0FBSyx1QkFBdUIsMkRBQTJELG1CQUFtQixjQUFjLE1BQU0sV0FBVyw0Q0FBNEMsUUFBUSxJQUFJLFdBQVcsSUFBSSxzQ0FBc0MsRUFBRSxJQUFJLEVBQUUsUUFBUSxJQUFJLFdBQVcsSUFBSSxjQUFjLEVBQUUsMkJBQTJCLFNBQVMsZUFBZSxTQUFTLElBQUksVUFBVSxvRUFBQyxrQ0FBa0MscUJBQXFCLG1DQUFtQywwREFBMEQsdURBQUMscUNBQXFDLG1CQUFtQixXQUFXLG9CQUFvQixvRUFBQyxZQUFZLDZDQUE2QyxxQkFBcUIsb0JBQW9CLFdBQVcsZ0ZBQWdGLDJCQUEyQixXQUFXLCtEQUErRCxHQUFHLDBCQUEwQixXQUFXLDZEQUE2RCx3REFBd0QsY0FBYyxrQ0FBa0MsS0FBSyxzQkFBc0IsNEJBQTRCLHVCQUF1QixvQkFBb0IsRUFBRSxtQkFBbUIscUdBQXFHLG1CQUFtQixXQUFXLDJGQUEyRixnQ0FBZ0MsT0FBTywwQkFBMEIsV0FBVyxvRUFBQyxhQUFhLDJJQUEySSxFQUFFLHNCQUFzQixpQ0FBaUMsd0JBQXdCLG9CQUFvQixrQ0FBa0Msc0JBQXNCLFNBQVMsaUJBQWlCLHVEQUF1RCxrQkFBa0IsMkJBQTJCLHNEQUFDLHNGQUFzRixrREFBa0Qsd0xBQXdMLHNDQUFzQyxnQ0FBZ0MsbUJBQW1CLFNBQVMscUNBQXFDLFFBQVEsbUJBQW1CLEVBQUUsb0VBQW9FLHdCQUF3QixVQUFVLFNBQVMsWUFBWSxPQUFPLFdBQVcsTUFBTSxhQUFhLFFBQVEsSUFBSSxFQUFFLHFFQUFxRSxlQUFlLG1CQUFtQixnQkFBZ0Isa0JBQWtCLGFBQWEsa0JBQWtCLElBQUksMkRBQTJELHNDQUFzQyxnQkFBZ0IseUJBQXlCLGNBQWMsUUFBUSxJQUFJLFlBQVksbUJBQW1CLHlDQUF5QywrRUFBK0Usb1BBQW9QLGlDQUFpQyw4U0FBOFMsT0FBTywrREFBQyxpSEFBaUgsMERBQTBELHdKQUF3SixPQUFPLDJEQUFDLG9CQUFvQixVQUFVLFNBQVMseUJBQXlCLHlGQUF5RixpREFBaUQsU0FBUyxxQkFBcUIsc0RBQXNELGlEQUFpRCxtQkFBbUIsWUFBWSx3Q0FBd0MsR0FBRyxtQkFBbUIsVUFBVSwyRUFBMkUsc0RBQXNELHdDQUF3QyxlQUFlLElBQUksZ0JBQWdCLHdCQUF3QiwyQ0FBMkMsMkRBQTJELEVBQUUscUJBQXFCLGlDQUFpQyxDQUFDLEU7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQW45TixnQkFBZ0IsaURBQUMsQ0FBQyxlQUFlLHdFQUF3RSxzQkFBc0Isa0JBQWtCLFdBQVcsNkhBQTZILGNBQWMsY0FBYyxtRkFBbUYsSUFBSSxZQUFZLEtBQUssbURBQUMsa0JBQWtCLHdEQUF3RCxNQUFNLG1EQUFDLGtEQUFrRCwyREFBQywyQkFBMkIsOE1BQThNLGdFQUFnRSxFQUFFLG9CQUFvQixhQUFhLFdBQVcsNklBQTZJLFlBQVksWUFBWSx1QkFBdUIsR0FBRyxnRkFBZ0YsY0FBYyxZQUFZLHVCQUF1QixHQUFHLDBCQUEwQix5QkFBeUIsK0NBQStDLFNBQVMsV0FBVyxPQUFPLDJEQUEyRCxxR0FBcUcsaUVBQWlFLHFDQUFxQyxLQUFLLGlFQUFlLGlCQUFpQixFOzs7Ozs7Ozs7Ozs7Ozs7O0FDQWhvRCxnQkFBZ0IsaURBQUMsQ0FBQyxlQUFlLGlIQUFpSCxhQUFhLG1CQUFtQixXQUFXLHNCQUFzQixrRUFBa0UsRUFBRSxpQkFBaUIsa0RBQWtELHlCQUF5QixHQUFHLG1CQUFtQixxQkFBcUIsTUFBTSxtSEFBbUgsd0JBQXdCLCtCQUErQixRQUFRLG1FQUFtRSxPQUFPLHVCQUF1QiwyREFBQyx3QkFBd0IsMkRBQUMsZUFBZSxpQkFBaUIsa0NBQWtDLEVBQUUseUJBQXlCLEtBQUssaUNBQWlDLGtFQUFrRSxzREFBc0QsaUJBQWlCLGdEQUFnRCxFQUFFLG9CQUFvQixXQUFXLEVBQUUsbUJBQW1CLDBCQUEwQixrQ0FBa0MsaUNBQWlDLHdCQUF3Qix1REFBdUQsK0NBQStDLEVBQUUsU0FBUyxPQUFPLHFEQUFxRCxzRkFBc0YsS0FBSyxpRUFBZSxpQkFBaUIsRSIsInNvdXJjZXMiOlsid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvZHJhZ2dhYmxlL2Rhc2hib2FyZC9Tb3J0Wm9uZS5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9tYW5hZ2VyL0RyYWdDb29yZGluYXRvci5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9tYW5hZ2VyL1dpbmRvdy5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGUgZnJvbVwiLi4vLi4vY29tcG9uZW50L0Jhc2UubWpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vbWFuYWdlci9EcmFnQ29vcmRpbmF0b3IubWpzXCI7aW1wb3J0IG8gZnJvbVwiLi4vRHJhZ1Byb3h5Q29udGFpbmVyLm1qc1wiO2ltcG9ydCByIGZyb21cIi4uLy4uL3V0aWwvQXJyYXkubWpzXCI7aW1wb3J0IGkgZnJvbVwiLi4vLi4vdXRpbC9SZWN0YW5nbGUubWpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vY29udGFpbmVyL1NvcnRab25lLm1qc1wiO2ltcG9ydCBuIGZyb21cIi4uLy4uL3V0aWwvVkRvbS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGF7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmRyYWdnYWJsZS5kYXNoYm9hcmQuU29ydFpvbmVcIixudHlwZTpcImRhc2hib2FyZC1zb3J0em9uZVwiLGRyYWdIYW5kbGVTZWxlY3RvcjpcIi5uZW8tZHJhZ2dhYmxlXCIsZHJhZ1Byb3h5RXh0cmFDbHM6W10sc29ydEdyb3VwOm51bGx9O2lzUmVtb3RlRHJhZ2dpbmc9ITE7Y29uc3RydWN0KGUpe3N1cGVyLmNvbnN0cnVjdChlKSx0LnJlZ2lzdGVyKHRoaXMpfWFjY2VwdHNSZW1vdGVEcmFnKGUsdCl7bGV0IG89dGhpcztyZXR1cm4gby5vd25lclJlY3Q/ZT49by5vd25lclJlY3QueCYmZTw9by5vd25lclJlY3QueCtvLm93bmVyUmVjdC53aWR0aCYmdD49by5vd25lclJlY3QueSYmdDw9by5vd25lclJlY3QueStvLm93bmVyUmVjdC5oZWlnaHQ6KG8uaXNGZXRjaGluZ1JlY3R8fChvLmlzRmV0Y2hpbmdSZWN0PSEwLG8ub3duZXIuZ2V0RG9tUmVjdChbby5vd25lci5pZF0pLnRoZW4oZT0+e28ub3duZXJSZWN0PWVbMF0sby5pc0ZldGNoaW5nUmVjdD0hMX0pKSwhMSl9YXBwbHlBYnNvbHV0ZVBvc2l0aW9uaW5nKCl7bGV0IGUsdD10aGlzO3Quc29ydGFibGVJdGVtcy5mb3JFYWNoKChvLHIpPT57bGV0IGk9dC5pdGVtUmVjdHNbcl07ZT1vLndyYXBwZXJTdHlsZXx8e30sdC5hZGp1c3RQcm94eVJlY3RUb1BhcmVudD8uKGksdC5vd25lclJlY3QpLGNvbnNvbGUubG9nKFwiYXBwbHlBYnNvbHV0ZVBvc2l0aW9uaW5nXCIse2hlaWdodDpgJHtpLmhlaWdodH1weGAsbGVmdDpgJHtpLmxlZnR9cHhgLHRvcDpgJHtpLnRvcH1weGAsd2lkdGg6YCR7aS53aWR0aH1weGB9KSxvLndyYXBwZXJTdHlsZT1PYmplY3QuYXNzaWduKGUse2ZsZXg6XCJub25lXCIsaGVpZ2h0OmAke2kuaGVpZ2h0fXB4YCxsZWZ0OmAke2kubGVmdH1weGAsbWFyZ2luOlwiMHB4XCIscG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpgJHtpLnRvcH1weGAsd2lkdGg6YCR7aS53aWR0aH1weGB9KX0pfWNhbGN1bGF0ZUV4cGFuZGVkTGF5b3V0KCl7bGV0IGU9dGhpcyx0PWUub3duZXJSZWN0LG89XCJob3Jpem9udGFsXCI9PT1lLnNvcnREaXJlY3Rpb24scj1vP3Qud2lkdGg6dC5oZWlnaHQsaT1bXSxhPTAsbj0wLHM9W10sbD0wLGQ9MCxjPTAsZz0wLGg9MCxwPTAsbT0wLHc9ZS5hZGp1c3RJdGVtUmVjdHNUb1BhcmVudD8wOnQueCx4PWUuYWRqdXN0SXRlbVJlY3RzVG9QYXJlbnQ/MDp0Lnk7aWYoZS5pdGVtUmVjdHMubGVuZ3RoPjApe2xldCBpPWUuaXRlbVJlY3RzWzBdLGE9ZS5pdGVtUmVjdHNbZS5pdGVtUmVjdHMubGVuZ3RoLTFdO2lmKG8pe2lmKGw9ZS5hZGp1c3RJdGVtUmVjdHNUb1BhcmVudD9pLng6aS54LXQueCxkPXItKGUuYWRqdXN0SXRlbVJlY3RzVG9QYXJlbnQ/YS54K2Eud2lkdGg6YS54LXQueCthLndpZHRoKSxnPWUuYWRqdXN0SXRlbVJlY3RzVG9QYXJlbnQ/aS55OmkueS10LnksaD10LmhlaWdodC0oZS5hZGp1c3RJdGVtUmVjdHNUb1BhcmVudD9pLnkraS5oZWlnaHQ6aS55LXQueStpLmhlaWdodCksZS5pdGVtUmVjdHMubGVuZ3RoPjEpe2xldCB0PWUuaXRlbVJlY3RzWzFdO2M9dC54LShpLngraS53aWR0aCl9fWVsc2UgaWYobD1lLmFkanVzdEl0ZW1SZWN0c1RvUGFyZW50P2kueTppLnktdC55LGQ9ci0oZS5hZGp1c3RJdGVtUmVjdHNUb1BhcmVudD9hLnkrYS5oZWlnaHQ6YS55LXQueSthLmhlaWdodCkscD1lLmFkanVzdEl0ZW1SZWN0c1RvUGFyZW50P2kueDppLngtdC54LG09dC53aWR0aC0oZS5hZGp1c3RJdGVtUmVjdHNUb1BhcmVudD9pLngraS53aWR0aDppLngtdC54K2kud2lkdGgpLGUuaXRlbVJlY3RzLmxlbmd0aD4xKXtsZXQgdD1lLml0ZW1SZWN0c1sxXTtjPXQueS0oaS55K2kuaGVpZ2h0KX19Zm9yKGxldCB0PTA7dDxlLml0ZW1SZWN0cy5sZW5ndGg7dCsrKXtsZXQgcj1lLmluZGV4TWFwW3RdO2lmKC0xPT09ciljb250aW51ZTtsZXQgcz1lLm93bmVyLml0ZW1zW3JdO2lmKHM9PT1lLmRyYWdQbGFjZWhvbGRlcnx8cz09PWUuZHJhZ0NvbXBvbmVudCljb250aW51ZTtsZXQgbD1lLml0ZW1SZWN0c1t0XTtpZihpLnB1c2goe2l0ZW06cyxyZWN0Omx9KSxzLmZsZXgpYSs9cy5mbGV4O2Vsc2V7bis9bz9sLndpZHRoOmwuaGVpZ2h0fX1sZXQgUj1NYXRoLm1heCgwLGkubGVuZ3RoLTEpLHk9TWF0aC5tYXgoMCxyLWwtZC1SKmMtbiksZj1sO3JldHVybiBpLmZvckVhY2goKHtpdGVtOmUscmVjdDpyfSxpKT0+e2xldCBuLGw9e307bj1lLmZsZXg/ZS5mbGV4L2EqeTpvP3Iud2lkdGg6ci5oZWlnaHQsbD1vP3tsZWZ0OmAke3crZn1weGAsdG9wOmAke3grZ31weGAsaGVpZ2h0OnQuaGVpZ2h0LWctaCtcInB4XCIsd2lkdGg6YCR7bn1weGB9OntsZWZ0OmAke3crcH1weGAsdG9wOmAke3grZn1weGAsaGVpZ2h0OmAke259cHhgLHdpZHRoOnQud2lkdGgtcC1tK1wicHhcIn0scy5wdXNoKHtpdGVtOmUsc3R5bGU6bH0pLGYrPW4rY30pLHN9ZGVzdHJveSgpe3QudW5yZWdpc3Rlcih0aGlzKSxzdXBlci5kZXN0cm95KCl9Z2V0RHJhZ1Byb3h5Q29uZmlnKCl7Y29uc3QgZT1zdXBlci5nZXREcmFnUHJveHlDb25maWcoKTtyZXR1cm4gZS5jbHM9ZS5jbHMuZmlsdGVyKGU9PiFlLmluY2x1ZGVzKFwibmVvLXZpZXdwb3J0XCIpKSxyLmFkZChlLmNscyx0aGlzLmRyYWdQcm94eUV4dHJhQ2xzKSxlfWFzeW5jIG9uRHJhZ0VuZChlKXtsZXQgbz10aGlzO28uaXNSZW1vdGVEcmFnZ2luZ3x8dC5vbkRyYWdFbmQoe2RyYWdnZWRJdGVtOm8uZHJhZ0NvbXBvbmVudCxzb3VyY2VTb3J0Wm9uZTpvfSksc3VwZXIub25EcmFnRW5kKGUpfWFzeW5jIG9uRHJhZ01vdmUoZSl7bGV0IHQ9dGhpczt0Lml0ZW1SZWN0cyYmdC5ib3VuZGFyeUNvbnRhaW5lclJlY3QmJiF0LmlzU2Nyb2xsaW5nJiZhd2FpdCBzdXBlci5vbkRyYWdNb3ZlKGUpfWFzeW5jIG9uUmVtb3RlRHJhZ0xlYXZlKGUpe2xldCB0PXRoaXM7dC5pc1JlbW90ZURyYWdnaW5nJiYodC5pc1JlbW90ZURyYWdnaW5nPSExLGF3YWl0IHQub25EcmFnRW5kKHt9KSl9YXN5bmMgb25SZW1vdGVEcmFnTW92ZShlKXtsZXQgdD10aGlzO3QuaXNSZW1vdGVEcmFnZ2luZ3x8YXdhaXQgdC5zdGFydFJlbW90ZURyYWcoZSksdC5vbkRyYWdNb3ZlKHtjbGllbnRYOmUubG9jYWxYLGNsaWVudFk6ZS5sb2NhbFkscHJveHlSZWN0OmUucHJveHlSZWN0fSksdC5kcmFnTW92ZSh7Y2xpZW50WDplLmxvY2FsWCxjbGllbnRZOmUubG9jYWxZfSwhMCl9YXN5bmMgb25SZW1vdGVEcm9wKGUpe2xldCB0PXRoaXMsbz10LmN1cnJlbnRJbmRleDtpZih0LmlzUmVtb3RlRHJhZ2dpbmcpe2F3YWl0IHQub25EcmFnRW5kKHt9KTtjb25zdCByPWUucGFyZW50SWQ7ciYmXCJkb2N1bWVudC5ib2R5XCIhPT1yJiZOZW8uZ2V0Q29tcG9uZW50KHIpPy5yZW1vdmUoZSwhMSksdC5vd25lci5pbnNlcnQobyxlKSx0LmlzUmVtb3RlRHJhZ2dpbmc9ITF9fW9uUmVtb3RlRHJvcE91dChlKXtsZXQgdD10aGlzO2lmKHQub3duZXIuZGV0YWNoZWRJdGVtcylmb3IoY29uc3RbbyxyXW9mIHQub3duZXIuZGV0YWNoZWRJdGVtcy5lbnRyaWVzKCkpaWYoci53aWRnZXQ9PT1lKXt0Lm93bmVyLmRldGFjaGVkSXRlbXMuZGVsZXRlKG8pO2JyZWFrfX1vbldpbmRvd0RyYWdDb250aW51ZShlLG8pe2xldCByPXRoaXM7dC5vbkRyYWdNb3ZlKHtkcmFnZ2VkSXRlbTpyLmRyYWdDb21wb25lbnQsb2Zmc2V0WDpyLm9mZnNldFgsb2Zmc2V0WTpyLm9mZnNldFkscHJveHlSZWN0Om8ucHJveHlSZWN0LHNjcmVlblg6by5zY3JlZW5YLHNjcmVlblk6by5zY3JlZW5ZLHNvdXJjZVNvcnRab25lOnJ9KX1yZXN1bWVXaW5kb3dEcmFnKGUsdCl7dGhpcy5vd25lci5yZXN1bWVXaW5kb3dEcmFnKGUsdCl9YXN5bmMgc2V0dXBEcmFnU3RhdGUoZSl7bGV0IHQsbyxyLGksYT10aGlzLHthZGp1c3RJdGVtUmVjdHNUb1BhcmVudDpzLG93bmVyOmx9PWEsZD1hLml0ZW1TdHlsZXM9W10se2xheW91dDpjfT1sLGc9bC5zdHlsZXx8e307aT1sLml0ZW1zLmZpbHRlcihlPT4hZS5pc0Rlc3Ryb3llZCksdD1pLmluZGV4T2YoZSksbz17fSxPYmplY3QuYXNzaWduKGEse2N1cnJlbnRJbmRleDp0LGRyYWdFbGVtZW50Om4uZmluZChsLnZkb20sZS5pZCkudmRvbSxkcmFnUHJveHlDb25maWc6YS5nZXREcmFnUHJveHlDb25maWcoKSxpbmRleE1hcDpvLG93bmVyU3R5bGU6e2hlaWdodDpnLmhlaWdodCxtaW5XaWR0aDpnLm1pbldpZHRoLHdpZHRoOmcud2lkdGh9LHJldmVyc2VkTGF5b3V0RGlyZWN0aW9uOlwiY29sdW1uLXJldmVyc2VcIj09PWMuZGlyZWN0aW9ufHxcInJvdy1yZXZlcnNlXCI9PT1jLmRpcmVjdGlvbixzb3J0YWJsZUl0ZW1zOmksc29ydERpcmVjdGlvbjpjLmRpcmVjdGlvbj8uaW5jbHVkZXMoXCJjb2x1bW5cIik/XCJ2ZXJ0aWNhbFwiOlwiaG9yaXpvbnRhbFwiLHN0YXJ0SW5kZXg6dH0pLGEuZHJhZ0NvbXBvbmVudD1lLGkuZm9yRWFjaCgoZSx0KT0+e29bdF09bC5pdGVtcy5pbmRleE9mKGUpLGQucHVzaCh7aGVpZ2h0OmUuaGVpZ2h0P2Ake2UuaGVpZ2h0fXB4YDplLnN0eWxlPy5oZWlnaHQsd2lkdGg6ZS53aWR0aD9gJHtlLndpZHRofXB4YDplLnN0eWxlPy53aWR0aH0pfSkscj1hd2FpdCBsLmdldERvbVJlY3QoW2wuaWRdLmNvbmNhdChpLm1hcChlPT5lLmlkKSkpLHIuZm9yRWFjaChlPT57Y29uc29sZS5sb2coXCJpdGVtUmVjdFwiLHtoZWlnaHQ6YCR7ZS5oZWlnaHR9cHhgLGxlZnQ6YCR7ZS5sZWZ0fXB4YCx0b3A6YCR7ZS50b3B9cHhgLHdpZHRoOmAke2Uud2lkdGh9cHhgfSl9KSxhLm93bmVyUmVjdD1yLnNoaWZ0KCksYS5ib3VuZGFyeUNvbnRhaW5lclJlY3Q9YS5vd25lclJlY3QsbC5zdHlsZT17Li4uZyxoZWlnaHQ6YCR7YS5vd25lclJlY3QuaGVpZ2h0fXB4YCxtaW5XaWR0aDpgJHthLm93bmVyUmVjdC53aWR0aH1weGAsd2lkdGg6YCR7YS5vd25lclJlY3Qud2lkdGh9cHhgfSxjb25zb2xlLmxvZyhcImFkanVzdEl0ZW1SZWN0c1RvUGFyZW50XCIscykscyYmci5mb3JFYWNoKGU9PntlLngtPWEub3duZXJSZWN0LngsZS55LT1hLm93bmVyUmVjdC55fSksYS5pdGVtUmVjdHM9cn1hc3luYyBzdGFydFJlbW90ZURyYWcodCl7bGV0IHIsaT10aGlzLHtvd25lcjphfT1pLHtwcm94eVJlY3Q6bn09dCxzPXQuZHJhZ2dlZEl0ZW07aS5pc1JlbW90ZURyYWdnaW5nPSEwLGkuZHJhZ0VsZW1lbnRSZWN0PXtoZWlnaHQ6bi5oZWlnaHQsd2lkdGg6bi53aWR0aCx4OnQubG9jYWxYLHk6dC5sb2NhbFksbGVmdDp0LmxvY2FsWCx0b3A6dC5sb2NhbFl9LHMuYXBwTmFtZT1pLmFwcE5hbWUsY29uc29sZS5sb2coXCJzdGFydFJlbW90ZURyYWdcIixzLmlkLHMud2luZG93SWQscy5wYXJlbnRJZCxzLnBhcmVudENvbXBvbmVudCkscy5wYXJlbnRJZD1udWxsLHMucGFyZW50Q29tcG9uZW50PW51bGwscy5tb3VudGVkPSExLHMudm5vZGU9bnVsbCxzLnZub2RlSW5pdGlhbGl6ZWQ9ITEsY29uc29sZS5sb2coXCJwYXJlbnQgY2xlYXJlZDpcIixzLnBhcmVudElkLHMucGFyZW50Q29tcG9uZW50KTtsZXQgbD1hd2FpdCBhLmdldERvbVJlY3QoW2EuaWRdKTtpLm93bmVyUmVjdD1sWzBdLGNvbnNvbGUubG9nKFwib3duZXJSZWN0XCIsaS5vd25lclJlY3QpLGkub2Zmc2V0WD10Lm9mZnNldFgsaS5vZmZzZXRZPXQub2Zmc2V0WSxjb25zb2xlLmxvZyhcInN0YXJ0UmVtb3RlRHJhZzogb3duZXJSZWN0XCIsaS5vd25lclJlY3QpLGNvbnNvbGUubG9nKFwic3RhcnRSZW1vdGVEcmFnOiBsb2NhbCBjb29yZHNcIix0LmxvY2FsWCx0LmxvY2FsWSksY29uc29sZS5sb2coXCJzdGFydFJlbW90ZURyYWc6IGNhbGN1bGF0ZWQgY29vcmRzXCIsdC5sb2NhbFgtaS5vZmZzZXRYLHQubG9jYWxZLWkub2Zmc2V0WSkscj17bW9kdWxlOm8sYXBwTmFtZTppLmFwcE5hbWUsY2xzOltcIm5lby1kcmFncHJveHlcIiwuLi5pLm93bmVyLmNsc10saXRlbXM6W3NdLG1vdmVJbk1haW5UaHJlYWQ6ITEsd2luZG93SWQ6aS53aW5kb3dJZCxzdHlsZTp7bGVmdDp0LmxvY2FsWC1pLm9mZnNldFgrXCJweFwiLHRvcDp0LmxvY2FsWS1pLm9mZnNldFkrXCJweFwifX0sY29uc29sZS5sb2coXCJDcmVhdGluZyBsb2NhbCBkcmFnIHByb3h5XCIsciksaS5kcmFnUHJveHk9TmVvLmNyZWF0ZShyKSxjb25zb2xlLmxvZyhcIkNyZWF0ZWQgbG9jYWwgZHJhZyBwcm94eVwiLGkuZHJhZ1Byb3h5KSxpLmRyYWdQbGFjZWhvbGRlcj1OZW8uY3JlYXRlKHttb2R1bGU6ZSxmbGV4Olwibm9uZVwiLHN0eWxlOntoZWlnaHQ6YCR7bi5oZWlnaHR9cHhgLHZpc2liaWxpdHk6XCJoaWRkZW5cIn19KSxhLmFkZChpLmRyYWdQbGFjZWhvbGRlciksYXdhaXQgaS50aW1lb3V0KDUwKSxhd2FpdCBpLnNldHVwRHJhZ1N0YXRlKGkuZHJhZ1BsYWNlaG9sZGVyKTtsZXQgZD1pLnNvcnRhYmxlSXRlbXMuaW5kZXhPZihpLmRyYWdQbGFjZWhvbGRlcik7aWYoZD4tMSl7bGV0IGU9aS5pdGVtUmVjdHNbZF07aS5kcmFnUHJveHkud2lkdGg9ZS53aWR0aCxpLmRyYWdQcm94eS5oZWlnaHQ9ZS5oZWlnaHR9YXdhaXQgaS50aW1lb3V0KDUwKSxpLmFwcGx5QWJzb2x1dGVQb3NpdGlvbmluZygpfXN0YXJ0V2luZG93RHJhZyhlKXtsZXQgdD10aGlzLHtwb3B1cEhlaWdodDpvLHBvcHVwV2lkdGg6cix3aW5kb3dOYW1lOml9PWU7dC5kcmFnUHJveHkuc3R5bGU9e29wYWNpdHk6MH0sdC5pc1dpbmRvd0RyYWdnaW5nPSEwLHQuZHJhZ1BsYWNlaG9sZGVyJiYodC5kcmFnUGxhY2Vob2xkZXIud3JhcHBlclN0eWxlPXsuLi50LmRyYWdQbGFjZWhvbGRlci53cmFwcGVyU3R5bGUsdmlzaWJpbGl0eTpcImhpZGRlblwifSksdC5jYWxjdWxhdGVFeHBhbmRlZExheW91dCgpLmZvckVhY2goKHtpdGVtOmUsc3R5bGU6dH0pPT57ZS53cmFwcGVyU3R5bGU9ey4uLmUud3JhcHBlclN0eWxlLC4uLnR9fSksTmVvLm1haW4uYWRkb24uRHJhZ0Ryb3Auc3RhcnRXaW5kb3dEcmFnKHtwb3B1cEhlaWdodDpvLHBvcHVwTmFtZTppLHBvcHVwV2lkdGg6cix3aW5kb3dJZDp0LndpbmRvd0lkfSl9c3VzcGVuZFdpbmRvd0RyYWcoZSl7dGhpcy5vd25lci5zdXNwZW5kV2luZG93RHJhZyhlKX19KTsiLCJpbXBvcnQgZSBmcm9tXCIuL0Jhc2UubWpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vdXRpbC9SZWN0YW5nbGUubWpzXCI7aW1wb3J0IG8gZnJvbVwiLi9XaW5kb3cubWpzXCI7Y2xhc3MgciBleHRlbmRzIGV7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLm1hbmFnZXIuRHJhZ0Nvb3JkaW5hdG9yXCIsc2luZ2xldG9uOiEwLHNvcnRab25lczpuZXcgTWFwfTthY3RpdmVUYXJnZXRab25lPW51bGw7aGFuZGxlVm9pZChlLHQsbyl7bGV0IHI9dGhpcztyLmFjdGl2ZVRhcmdldFpvbmUmJihyLmFjdGl2ZVRhcmdldFpvbmUub25SZW1vdGVEcmFnTGVhdmUoKSxyLmFjdGl2ZVRhcmdldFpvbmU9bnVsbCxlLnJlc3VtZVdpbmRvd0RyYWcodC5yZWZlcmVuY2V8fHQuaWQsbykpfW9uRHJhZ01vdmUoZSl7bGV0IHIsbj10aGlzLHtkcmFnZ2VkSXRlbTphLG9mZnNldFg6cyxvZmZzZXRZOmkscHJveHlSZWN0Omcsc2NyZWVuWDpkLHNjcmVlblk6Yyxzb3VyY2VTb3J0Wm9uZTpsfT1lLHtzb3J0R3JvdXA6Wn09bCxtPW8uZ2V0V2luZG93QXQoZCxjKTtpZihtJiZtIT09bC53aW5kb3dJZCYmKHI9bi5zb3J0Wm9uZXMuZ2V0KFopPy5nZXQobSkscikpe2xldCBlPW8uZ2V0KG0pLFo9ZC1lLmlubmVyUmVjdC54LHU9Yy1lLmlubmVyUmVjdC55LHY9bmV3IHQoWi1zLHUtaSxnLndpZHRoLGcuaGVpZ2h0KTtpZihyLmFjY2VwdHNSZW1vdGVEcmFnKFosdSkpcmV0dXJuIG4uYWN0aXZlVGFyZ2V0Wm9uZSE9PXImJihuLmFjdGl2ZVRhcmdldFpvbmU/Lm9uUmVtb3RlRHJhZ0xlYXZlKCksbi5hY3RpdmVUYXJnZXRab25lfHxsLnN1c3BlbmRXaW5kb3dEcmFnKGEucmVmZXJlbmNlfHxhLmlkKSxuLmFjdGl2ZVRhcmdldFpvbmU9ciksdm9pZCByLm9uUmVtb3RlRHJhZ01vdmUoe2RyYWdnZWRJdGVtOmEsbG9jYWxYOlosbG9jYWxZOnUsb2Zmc2V0WDpzLG9mZnNldFk6aSxwcm94eVJlY3Q6dn0pfW4uaGFuZGxlVm9pZChsLGEsZyl9b25EcmFnRW5kKGUpe2xldCB0PXRoaXM7dC5hY3RpdmVUYXJnZXRab25lJiYodC5hY3RpdmVUYXJnZXRab25lLm9uUmVtb3RlRHJvcChlLmRyYWdnZWRJdGVtKSxlLnNvdXJjZVNvcnRab25lLm9uUmVtb3RlRHJvcE91dChlLmRyYWdnZWRJdGVtKSx0LmFjdGl2ZVRhcmdldFpvbmU9bnVsbCl9cmVnaXN0ZXIoZSl7bGV0IHQ9dGhpcyx7c29ydEdyb3VwOm8sd2luZG93SWQ6cn09ZTtvJiYodC5zb3J0Wm9uZXMuaGFzKG8pfHx0LnNvcnRab25lcy5zZXQobyxuZXcgTWFwKSx0LnNvcnRab25lcy5nZXQobykuc2V0KHIsZSkpfXVucmVnaXN0ZXIoZSl7bGV0IHQ9dGhpcyx7c29ydEdyb3VwOm8sd2luZG93SWQ6cn09ZTtpZihvJiZ0LnNvcnRab25lcy5oYXMobykpe2xldCBlPXQuc29ydFpvbmVzLmdldChvKTtlLmRlbGV0ZShyKSwwPT09ZS5zaXplJiZ0LnNvcnRab25lcy5kZWxldGUobyl9fXRvSlNPTigpe2xldCBlPXRoaXM7cmV0dXJue2NsYXNzTmFtZTplLmNsYXNzTmFtZSxhY3RpdmVUYXJnZXRab25lOmUuYWN0aXZlVGFyZ2V0Wm9uZT97aWQ6ZS5hY3RpdmVUYXJnZXRab25lLmlkLHNvcnRHcm91cDplLmFjdGl2ZVRhcmdldFpvbmUuc29ydEdyb3VwLHdpbmRvd0lkOmUuYWN0aXZlVGFyZ2V0Wm9uZS53aW5kb3dJZH06bnVsbCxzb3J0Wm9uZXM6QXJyYXkuZnJvbShlLnNvcnRab25lcy5lbnRyaWVzKCkpLm1hcCgoW2UsdF0pPT4oe2dyb3VwOmUsd2luZG93czpBcnJheS5mcm9tKHQua2V5cygpKX0pKX19fWV4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKHIpOyIsImltcG9ydCBlIGZyb21cIi4vQmFzZS5tanNcIjtpbXBvcnQgdCBmcm9tXCIuLi91dGlsL1JlY3RhbmdsZS5tanNcIjtjbGFzcyBuIGV4dGVuZHMgZXtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8ubWFuYWdlci5XaW5kb3dcIixpc1NhZmFyaTovXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHNpbmdsZXRvbjohMH07Y29uc3RydWN0KGUpe3N1cGVyLmNvbnN0cnVjdChlKTtsZXQgdD10aGlzO05lby5jdXJyZW50V29ya2VyLm9uKHtjb25uZWN0OnQub25XaW5kb3dDb25uZWN0LGRpc2Nvbm5lY3Q6dC5vbldpbmRvd0Rpc2Nvbm5lY3Qsc2NvcGU6dH0pfWdldFdpbmRvd0F0KGUsdCl7bGV0IG49dGhpcy5pdGVtcy5maW5kKG49Pm4ub3V0ZXJSZWN0Py5pbnRlcnNlY3RzKHtib3R0b206dCxyaWdodDplLHg6ZSx5OnR9KSk7cmV0dXJuIG4/bi5pZDpudWxsfWNhbGN1bGF0ZUdlb21ldHJ5KGUpe2NvbnN0e2lubmVySGVpZ2h0Om4saW5uZXJXaWR0aDpvLG1veklubmVyU2NyZWVuWDpyLG1veklubmVyU2NyZWVuWTppLG91dGVySGVpZ2h0OmMsb3V0ZXJXaWR0aDpzLHNjcmVlbkxlZnQ6YSxzY3JlZW5Ub3A6bX09ZSxkPShzLW8pLzIsdT1jLW4tZCxsPXtib3R0b206ZCxsZWZ0OmQscmlnaHQ6ZCx0b3A6dX07bGV0IGgsdztcIm51bWJlclwiPT10eXBlb2Ygcj8oaD1yLHc9aSk6dGhpcy5pc1NhZmFyaT8oaD1hK2Qsdz1tK3UpOihoPWEsdz1tKTtyZXR1cm57Y2hyb21lOmwsaW5uZXJSZWN0Om5ldyB0KGgsdyxvLG4pLG91dGVyUmVjdDpuZXcgdChoLWQsdy11LHMsYyl9fW9uV2luZG93Q29ubmVjdCh7YXBwTmFtZTplLHdpbmRvd0RhdGE6dCx3aW5kb3dJZDpufSl7bGV0IG89bnVsbCxyPW51bGwsaT1udWxsO3QmJih7Y2hyb21lOm8saW5uZXJSZWN0OnIsb3V0ZXJSZWN0Oml9PXRoaXMuY2FsY3VsYXRlR2VvbWV0cnkodCkpLGNvbnNvbGUubG9nKFwiV2luZG93Lm9uV2luZG93Q29ubmVjdFwiLHt3aW5kb3dJZDpuLGFwcE5hbWU6ZSxjaHJvbWU6byxpbm5lclJlY3Q6cixvdXRlclJlY3Q6aX0pLHRoaXMucmVnaXN0ZXIoe2FwcE5hbWU6ZSxjaHJvbWU6byxpZDpuLGlubmVyUmVjdDpyLG91dGVyUmVjdDppfSl9b25XaW5kb3dEaXNjb25uZWN0KHt3aW5kb3dJZDplfSl7dGhpcy51bnJlZ2lzdGVyKGUpfW9uV2luZG93UG9zaXRpb25DaGFuZ2UoZSl7Y29uc3QgdD10aGlzLG49dC5nZXQoZS53aW5kb3dJZCkse2Nocm9tZTpvLGlubmVyUmVjdDpyLG91dGVyUmVjdDppfT10LmNhbGN1bGF0ZUdlb21ldHJ5KGUpO24/KG4uY2hyb21lPW8sbi5pbm5lclJlY3Q9cixuLm91dGVyUmVjdD1pKTp0LnJlZ2lzdGVyKHtjaHJvbWU6byxpZDplLndpbmRvd0lkLGlubmVyUmVjdDpyLG91dGVyUmVjdDppfSl9dG9KU09OKCl7cmV0dXJue2NsYXNzTmFtZTp0aGlzLmNsYXNzTmFtZSx3aW5kb3dzOnRoaXMuaXRlbXMubWFwKGU9Pih7aWQ6ZS5pZCxhcHBOYW1lOmUuYXBwTmFtZSxjaHJvbWU6ZS5jaHJvbWUsaW5uZXJSZWN0OmUuaW5uZXJSZWN0LG91dGVyUmVjdDplLm91dGVyUmVjdH0pKX19fWV4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKG4pOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=