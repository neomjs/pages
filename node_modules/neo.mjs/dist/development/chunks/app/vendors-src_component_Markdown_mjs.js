"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["vendors-src_component_Markdown_mjs"],{

/***/ "./node_modules/marked/lib/marked.esm.js"
/*!***********************************************!*\
  !*** ./node_modules/marked/lib/marked.esm.js ***!
  \***********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Hooks: () => (/* binding */ S),
/* harmony export */   Lexer: () => (/* binding */ x),
/* harmony export */   Marked: () => (/* binding */ B),
/* harmony export */   Parser: () => (/* binding */ b),
/* harmony export */   Renderer: () => (/* binding */ P),
/* harmony export */   TextRenderer: () => (/* binding */ $),
/* harmony export */   Tokenizer: () => (/* binding */ y),
/* harmony export */   defaults: () => (/* binding */ T),
/* harmony export */   getDefaults: () => (/* binding */ L),
/* harmony export */   lexer: () => (/* binding */ jt),
/* harmony export */   marked: () => (/* binding */ d),
/* harmony export */   options: () => (/* binding */ Dt),
/* harmony export */   parse: () => (/* binding */ Qt),
/* harmony export */   parseInline: () => (/* binding */ Nt),
/* harmony export */   parser: () => (/* binding */ Ft),
/* harmony export */   setOptions: () => (/* binding */ Ht),
/* harmony export */   use: () => (/* binding */ Zt),
/* harmony export */   walkTokens: () => (/* binding */ Gt)
/* harmony export */ });
/**
 * marked v17.0.1 - a markdown parser
 * Copyright (c) 2018-2025, MarkedJS. (MIT License)
 * Copyright (c) 2011-2018, Christopher Jeffrey. (MIT License)
 * https://github.com/markedjs/marked
 */

/**
 * DO NOT EDIT THIS FILE
 * The code in this file is generated from files in ./src/
 */

function L(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var T=L();function Z(u){T=u}var C={exec:()=>null};function k(u,e=""){let t=typeof u=="string"?u:u.source,n={replace:(r,i)=>{let s=typeof i=="string"?i:i.source;return s=s.replace(m.caret,"$1"),t=t.replace(r,s),n},getRegex:()=>new RegExp(t,e)};return n}var me=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),m={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:u=>new RegExp(`^( {0,3}${u})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}#`),htmlBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}<(?:[a-z].*>|!--)`,"i")},xe=/^(?:[ \t]*(?:\n|$))+/,be=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Re=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,I=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Te=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,N=/(?:[*+-]|\d{1,9}[.)])/,re=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,se=k(re).replace(/bull/g,N).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Oe=k(re).replace(/bull/g,N).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Q=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,we=/^[^\n]+/,F=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,ye=k(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",F).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Pe=k(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,N).getRegex(),v="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",j=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Se=k("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",j).replace("tag",v).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ie=k(Q).replace("hr",I).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v).getRegex(),$e=k(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ie).getRegex(),U={blockquote:$e,code:be,def:ye,fences:Re,heading:Te,hr:I,html:Se,lheading:se,list:Pe,newline:xe,paragraph:ie,table:C,text:we},te=k("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",I).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v).getRegex(),_e={...U,lheading:Oe,table:te,paragraph:k(Q).replace("hr",I).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",te).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v).getRegex()},Le={...U,html:k(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",j).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:C,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:k(Q).replace("hr",I).replace("heading",` *#{1,6} *[^
]`).replace("lheading",se).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Me=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,ze=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,oe=/^( {2,}|\\)\n(?!\s*$)/,Ae=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,D=/[\p{P}\p{S}]/u,K=/[\s\p{P}\p{S}]/u,ae=/[^\s\p{P}\p{S}]/u,Ce=k(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,K).getRegex(),le=/(?!~)[\p{P}\p{S}]/u,Ie=/(?!~)[\s\p{P}\p{S}]/u,Ee=/(?:[^\s\p{P}\p{S}]|~)/u,Be=k(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",me?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),ue=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,qe=k(ue,"u").replace(/punct/g,D).getRegex(),ve=k(ue,"u").replace(/punct/g,le).getRegex(),pe="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",De=k(pe,"gu").replace(/notPunctSpace/g,ae).replace(/punctSpace/g,K).replace(/punct/g,D).getRegex(),He=k(pe,"gu").replace(/notPunctSpace/g,Ee).replace(/punctSpace/g,Ie).replace(/punct/g,le).getRegex(),Ze=k("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ae).replace(/punctSpace/g,K).replace(/punct/g,D).getRegex(),Ge=k(/\\(punct)/,"gu").replace(/punct/g,D).getRegex(),Ne=k(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Qe=k(j).replace("(?:-->|$)","-->").getRegex(),Fe=k("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Qe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),q=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,je=k(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",q).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ce=k(/^!?\[(label)\]\[(ref)\]/).replace("label",q).replace("ref",F).getRegex(),he=k(/^!?\[(ref)\](?:\[\])?/).replace("ref",F).getRegex(),Ue=k("reflink|nolink(?!\\()","g").replace("reflink",ce).replace("nolink",he).getRegex(),ne=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,W={_backpedal:C,anyPunctuation:Ge,autolink:Ne,blockSkip:Be,br:oe,code:ze,del:C,emStrongLDelim:qe,emStrongRDelimAst:De,emStrongRDelimUnd:Ze,escape:Me,link:je,nolink:he,punctuation:Ce,reflink:ce,reflinkSearch:Ue,tag:Fe,text:Ae,url:C},Ke={...W,link:k(/^!?\[(label)\]\((.*?)\)/).replace("label",q).getRegex(),reflink:k(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",q).getRegex()},G={...W,emStrongRDelimAst:He,emStrongLDelim:ve,url:k(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",ne).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:k(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",ne).getRegex()},We={...G,br:k(oe).replace("{2,}","*").getRegex(),text:k(G.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},E={normal:U,gfm:_e,pedantic:Le},M={normal:W,gfm:G,breaks:We,pedantic:Ke};var Xe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ke=u=>Xe[u];function w(u,e){if(e){if(m.escapeTest.test(u))return u.replace(m.escapeReplace,ke)}else if(m.escapeTestNoEncode.test(u))return u.replace(m.escapeReplaceNoEncode,ke);return u}function X(u){try{u=encodeURI(u).replace(m.percentDecode,"%")}catch{return null}return u}function J(u,e){let t=u.replace(m.findPipe,(i,s,a)=>{let o=!1,l=s;for(;--l>=0&&a[l]==="\\";)o=!o;return o?"|":" |"}),n=t.split(m.splitPipe),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(m.slashPipe,"|");return n}function z(u,e,t){let n=u.length;if(n===0)return"";let r=0;for(;r<n;){let i=u.charAt(n-r-1);if(i===e&&!t)r++;else if(i!==e&&t)r++;else break}return u.slice(0,n-r)}function de(u,e){if(u.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<u.length;n++)if(u[n]==="\\")n++;else if(u[n]===e[0])t++;else if(u[n]===e[1]&&(t--,t<0))return n;return t>0?-2:-1}function ge(u,e,t,n,r){let i=e.href,s=e.title||null,a=u[1].replace(r.other.outputLinkReplace,"$1");n.state.inLink=!0;let o={type:u[0].charAt(0)==="!"?"image":"link",raw:t,href:i,title:s,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,o}function Je(u,e,t){let n=u.match(t.other.indentCodeCompensation);if(n===null)return e;let r=n[1];return e.split(`
`).map(i=>{let s=i.match(t.other.beginningSpace);if(s===null)return i;let[a]=s;return a.length>=r.length?i.slice(r.length):i}).join(`
`)}var y=class{options;rules;lexer;constructor(e){this.options=e||T}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:z(n,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=Je(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let r=z(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:z(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=z(t[0],`
`).split(`
`),r="",i="",s=[];for(;n.length>0;){let a=!1,o=[],l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))o.push(n[l]),a=!0;else if(!a)o.push(n[l]);else break;n=n.slice(l);let p=o.join(`
`),c=p.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${p}`:p,i=i?`${i}
${c}`:c;let g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,s,!0),this.lexer.state.top=g,n.length===0)break;let h=s.at(-1);if(h?.type==="code")break;if(h?.type==="blockquote"){let R=h,f=R.raw+`
`+n.join(`
`),O=this.blockquote(f);s[s.length-1]=O,r=r.substring(0,r.length-R.raw.length)+O.raw,i=i.substring(0,i.length-R.text.length)+O.text;break}else if(h?.type==="list"){let R=h,f=R.raw+`
`+n.join(`
`),O=this.list(f);s[s.length-1]=O,r=r.substring(0,r.length-h.raw.length)+O.raw,i=i.substring(0,i.length-R.raw.length)+O.raw,n=f.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:s,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let s=this.rules.other.listItemRegex(n),a=!1;for(;e;){let l=!1,p="",c="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;p=t[0],e=e.substring(p.length);let g=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,O=>" ".repeat(3*O.length)),h=e.split(`
`,1)[0],R=!g.trim(),f=0;if(this.options.pedantic?(f=2,c=g.trimStart()):R?f=t[1].length+1:(f=t[2].search(this.rules.other.nonSpaceChar),f=f>4?1:f,c=g.slice(f),f+=t[1].length),R&&this.rules.other.blankLine.test(h)&&(p+=h+`
`,e=e.substring(h.length+1),l=!0),!l){let O=this.rules.other.nextBulletRegex(f),V=this.rules.other.hrRegex(f),Y=this.rules.other.fencesBeginRegex(f),ee=this.rules.other.headingBeginRegex(f),fe=this.rules.other.htmlBeginRegex(f);for(;e;){let H=e.split(`
`,1)[0],A;if(h=H,this.options.pedantic?(h=h.replace(this.rules.other.listReplaceNesting,"  "),A=h):A=h.replace(this.rules.other.tabCharGlobal,"    "),Y.test(h)||ee.test(h)||fe.test(h)||O.test(h)||V.test(h))break;if(A.search(this.rules.other.nonSpaceChar)>=f||!h.trim())c+=`
`+A.slice(f);else{if(R||g.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||Y.test(g)||ee.test(g)||V.test(g))break;c+=`
`+h}!R&&!h.trim()&&(R=!0),p+=H+`
`,e=e.substring(H.length+1),g=A.slice(f)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(a=!0)),i.items.push({type:"list_item",raw:p,task:!!this.options.gfm&&this.rules.other.listIsTask.test(c),loose:!1,text:c,tokens:[]}),i.raw+=p}let o=i.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let l of i.items){if(this.lexer.state.top=!1,l.tokens=this.lexer.blockTokens(l.text,[]),l.task){if(l.text=l.text.replace(this.rules.other.listReplaceTask,""),l.tokens[0]?.type==="text"||l.tokens[0]?.type==="paragraph"){l.tokens[0].raw=l.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),l.tokens[0].text=l.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let c=this.lexer.inlineQueue.length-1;c>=0;c--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[c].src)){this.lexer.inlineQueue[c].src=this.lexer.inlineQueue[c].src.replace(this.rules.other.listReplaceTask,"");break}}let p=this.rules.other.listTaskCheckbox.exec(l.raw);if(p){let c={type:"checkbox",raw:p[0]+" ",checked:p[0]!=="[ ]"};l.checked=c.checked,i.loose?l.tokens[0]&&["paragraph","text"].includes(l.tokens[0].type)&&"tokens"in l.tokens[0]&&l.tokens[0].tokens?(l.tokens[0].raw=c.raw+l.tokens[0].raw,l.tokens[0].text=c.raw+l.tokens[0].text,l.tokens[0].tokens.unshift(c)):l.tokens.unshift({type:"paragraph",raw:c.raw,text:c.raw,tokens:[c]}):l.tokens.unshift(c)}}if(!i.loose){let p=l.tokens.filter(g=>g.type==="space"),c=p.length>0&&p.some(g=>this.rules.other.anyLine.test(g.raw));i.loose=c}}if(i.loose)for(let l of i.items){l.loose=!0;for(let p of l.tokens)p.type==="text"&&(p.type="paragraph")}return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:i}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=J(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let a of r)this.rules.other.tableAlignRight.test(a)?s.align.push("right"):this.rules.other.tableAlignCenter.test(a)?s.align.push("center"):this.rules.other.tableAlignLeft.test(a)?s.align.push("left"):s.align.push(null);for(let a=0;a<n.length;a++)s.header.push({text:n[a],tokens:this.lexer.inline(n[a]),header:!0,align:s.align[a]});for(let a of i)s.rows.push(J(a,s.header.length).map((o,l)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:s.align[l]})));return s}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let s=z(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{let s=de(t[2],"()");if(s===-2)return;if(s>-1){let o=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,o).trim(),t[3]=""}}let r=t[2],i="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),ge(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=t[r.toLowerCase()];if(!i){let s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return ge(n,i,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){let s=[...r[0]].length-1,a,o,l=s,p=0,c=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+s);(r=c.exec(t))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(o=[...a].length,r[3]||r[4]){l+=o;continue}else if((r[5]||r[6])&&s%3&&!((s+o)%3)){p+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+p);let g=[...r[0]][0].length,h=e.slice(0,s+r.index+g+o);if(Math.min(s,o)%2){let f=h.slice(1,-1);return{type:"em",raw:h,text:f,tokens:this.lexer.inlineTokens(f)}}let R=h.slice(2,-2);return{type:"strong",raw:h,text:R,tokens:this.lexer.inlineTokens(R)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if(t[2]==="@")n=t[0],r="mailto:"+n;else{let i;do i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(i!==t[0]);n=t[0],t[1]==="www."?r="http://"+t[0]:r=t[0]}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}};var x=class u{tokens;options;state;inlineQueue;tokenizer;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||T,this.options.tokenizer=this.options.tokenizer||new y,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:m,block:E.normal,inline:M.normal};this.options.pedantic?(t.block=E.pedantic,t.inline=M.pedantic):this.options.gfm&&(t.block=E.gfm,this.options.breaks?t.inline=M.breaks:t.inline=M.gfm),this.tokenizer.rules=t}static get rules(){return{block:E,inline:M}}static lex(e,t){return new u(t).lex(e)}static lexInline(e,t){return new u(t).inlineTokens(e)}lex(e){e=e.replace(m.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(m.tabCharGlobal,"    ").replace(m.spaceLine,""));e;){let r;if(this.options.extensions?.block?.some(s=>(r=s.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);let s=t.at(-1);r.raw.length===1&&s!==void 0?s.raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+r.raw,s.text+=`
`+r.text,this.inlineQueue.at(-1).src=s.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+r.raw,s.text+=`
`+r.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title},t.push(r));continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let i=e;if(this.options.extensions?.startBlock){let s=1/0,a=e.slice(1),o;this.options.extensions.startBlock.forEach(l=>{o=l.call({lexer:this},a),typeof o=="number"&&o>=0&&(s=Math.min(s,o))}),s<1/0&&s>=0&&(i=e.substring(0,s+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){let s=t.at(-1);n&&s?.type==="paragraph"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(r),n=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(r);continue}if(e){let s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,r=null;if(this.tokens.links){let o=Object.keys(this.tokens.links);if(o.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)o.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i;for(;(r=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)i=r[2]?r[2].length:0,n=n.slice(0,r.index+i)+"["+"a".repeat(r[0].length-i-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let s=!1,a="";for(;e;){s||(a=""),s=!1;let o;if(this.options.extensions?.inline?.some(p=>(o=p.call({lexer:this},e,t))?(e=e.substring(o.raw.length),t.push(o),!0):!1))continue;if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);let p=t.at(-1);o.type==="text"&&p?.type==="text"?(p.raw+=o.raw,p.text+=o.text):t.push(o);continue}if(o=this.tokenizer.emStrong(e,n,a)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length),t.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length),t.push(o);continue}let l=e;if(this.options.extensions?.startInline){let p=1/0,c=e.slice(1),g;this.options.extensions.startInline.forEach(h=>{g=h.call({lexer:this},c),typeof g=="number"&&g>=0&&(p=Math.min(p,g))}),p<1/0&&p>=0&&(l=e.substring(0,p+1))}if(o=this.tokenizer.inlineText(l)){e=e.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(a=o.raw.slice(-1)),s=!0;let p=t.at(-1);p?.type==="text"?(p.raw+=o.raw,p.text+=o.text):t.push(o);continue}if(e){let p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return t}};var P=class{options;parser;constructor(e){this.options=e||T}space(e){return""}code({text:e,lang:t,escaped:n}){let r=(t||"").match(m.notSpaceStart)?.[0],i=e.replace(m.endingNewline,"")+`
`;return r?'<pre><code class="language-'+w(r)+'">'+(n?i:w(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:w(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,n=e.start,r="";for(let a=0;a<e.items.length;a++){let o=e.items[a];r+=this.listitem(o)}let i=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+i+s+`>
`+r+"</"+i+`>
`}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);t+=this.tablerow({text:n});let r="";for(let i=0;i<e.rows.length;i++){let s=e.rows[i];n="";for(let a=0;a<s.length;a++)n+=this.tablecell(s[a]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${w(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),i=X(e);if(i===null)return r;e=i;let s='<a href="'+e+'"';return t&&(s+=' title="'+w(t)+'"'),s+=">"+r+"</a>",s}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=X(e);if(i===null)return w(n);e=i;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${w(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:w(e.text)}};var $=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}};var b=class u{options;renderer;textRenderer;constructor(e){this.options=e||T,this.options.renderer=this.options.renderer||new P,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $}static parse(e,t){return new u(t).parse(e)}static parseInline(e,t){return new u(t).parseInline(e)}parse(e){let t="";for(let n=0;n<e.length;n++){let r=e[n];if(this.options.extensions?.renderers?.[r.type]){let s=r,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(s.type)){t+=a||"";continue}}let i=r;switch(i.type){case"space":{t+=this.renderer.space(i);break}case"hr":{t+=this.renderer.hr(i);break}case"heading":{t+=this.renderer.heading(i);break}case"code":{t+=this.renderer.code(i);break}case"table":{t+=this.renderer.table(i);break}case"blockquote":{t+=this.renderer.blockquote(i);break}case"list":{t+=this.renderer.list(i);break}case"checkbox":{t+=this.renderer.checkbox(i);break}case"html":{t+=this.renderer.html(i);break}case"def":{t+=this.renderer.def(i);break}case"paragraph":{t+=this.renderer.paragraph(i);break}case"text":{t+=this.renderer.text(i);break}default:{let s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return t}parseInline(e,t=this.renderer){let n="";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions?.renderers?.[i.type]){let a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=a||"";continue}}let s=i;switch(s.type){case"escape":{n+=t.text(s);break}case"html":{n+=t.html(s);break}case"link":{n+=t.link(s);break}case"image":{n+=t.image(s);break}case"checkbox":{n+=t.checkbox(s);break}case"strong":{n+=t.strong(s);break}case"em":{n+=t.em(s);break}case"codespan":{n+=t.codespan(s);break}case"br":{n+=t.br(s);break}case"del":{n+=t.del(s);break}case"text":{n+=t.text(s);break}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return n}};var S=class{options;block;constructor(e){this.options=e||T}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?x.lex:x.lexInline}provideParser(){return this.block?b.parse:b.parseInline}};var B=class{defaults=L();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=b;Renderer=P;TextRenderer=$;Lexer=x;Tokenizer=y;Hooks=S;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{let i=r;for(let s of i.header)n=n.concat(this.walkTokens(s.tokens,t));for(let s of i.rows)for(let a of s)n=n.concat(this.walkTokens(a.tokens,t));break}case"list":{let i=r;n=n.concat(this.walkTokens(i.items,t));break}default:{let i=r;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{let a=i[s].flat(1/0);n=n.concat(this.walkTokens(a,t))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let s=t.renderers[i.name];s?t.renderers[i.name]=function(...a){let o=i.renderer.apply(this,a);return o===!1&&(o=s.apply(this,a)),o}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=t[i.level];s?s.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),r.extensions=t),n.renderer){let i=this.defaults.renderer||new P(this.defaults);for(let s in n.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let a=s,o=n.renderer[a],l=i[a];i[a]=(...p)=>{let c=o.apply(i,p);return c===!1&&(c=l.apply(i,p)),c||""}}r.renderer=i}if(n.tokenizer){let i=this.defaults.tokenizer||new y(this.defaults);for(let s in n.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let a=s,o=n.tokenizer[a],l=i[a];i[a]=(...p)=>{let c=o.apply(i,p);return c===!1&&(c=l.apply(i,p)),c}}r.tokenizer=i}if(n.hooks){let i=this.defaults.hooks||new S;for(let s in n.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let a=s,o=n.hooks[a],l=i[a];S.passThroughHooks.has(s)?i[a]=p=>{if(this.defaults.async&&S.passThroughHooksRespectAsync.has(s))return(async()=>{let g=await o.call(i,p);return l.call(i,g)})();let c=o.call(i,p);return l.call(i,c)}:i[a]=(...p)=>{if(this.defaults.async)return(async()=>{let g=await o.apply(i,p);return g===!1&&(g=await l.apply(i,p)),g})();let c=o.apply(i,p);return c===!1&&(c=l.apply(i,p)),c}}r.hooks=i}if(n.walkTokens){let i=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(a){let o=[];return o.push(s.call(this,a)),i&&(o=o.concat(i.call(this,a))),o}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return x.lex(e,t??this.defaults)}parser(e,t){return b.parse(e,t??this.defaults)}parseMarkdown(e){return(n,r)=>{let i={...r},s={...this.defaults,...i},a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let o=s.hooks?await s.hooks.preprocess(n):n,p=await(s.hooks?await s.hooks.provideLexer():e?x.lex:x.lexInline)(o,s),c=s.hooks?await s.hooks.processAllTokens(p):p;s.walkTokens&&await Promise.all(this.walkTokens(c,s.walkTokens));let h=await(s.hooks?await s.hooks.provideParser():e?b.parse:b.parseInline)(c,s);return s.hooks?await s.hooks.postprocess(h):h})().catch(a);try{s.hooks&&(n=s.hooks.preprocess(n));let l=(s.hooks?s.hooks.provideLexer():e?x.lex:x.lexInline)(n,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let c=(s.hooks?s.hooks.provideParser():e?b.parse:b.parseInline)(l,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(o){return a(o)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let r="<p>An error occurred:</p><pre>"+w(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}};var _=new B;function d(u,e){return _.parse(u,e)}d.options=d.setOptions=function(u){return _.setOptions(u),d.defaults=_.defaults,Z(d.defaults),d};d.getDefaults=L;d.defaults=T;d.use=function(...u){return _.use(...u),d.defaults=_.defaults,Z(d.defaults),d};d.walkTokens=function(u,e){return _.walkTokens(u,e)};d.parseInline=_.parseInline;d.Parser=b;d.parser=b.parse;d.Renderer=P;d.TextRenderer=$;d.Lexer=x;d.lexer=x.lex;d.Tokenizer=y;d.Hooks=S;d.parse=d;var Dt=d.options,Ht=d.setOptions,Zt=d.use,Gt=d.walkTokens,Nt=d.parseInline,Qt=d,Ft=b.parse,jt=x.lex;
//# sourceMappingURL=marked.esm.js.map


/***/ },

/***/ "./src/component/Markdown.mjs"
/*!************************************!*\
  !*** ./src/component/Markdown.mjs ***!
  \************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./src/component/Base.mjs");
/* harmony import */ var _util_HighlightJs_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/HighlightJs.mjs */ "./src/util/HighlightJs.mjs");
/* harmony import */ var _core_IdGenerator_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/IdGenerator.mjs */ "./src/core/IdGenerator.mjs");
/* harmony import */ var _node_modules_marked_lib_marked_esm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../node_modules/marked/lib/marked.esm.js */ "./node_modules/marked/lib/marked.esm.js");





const
    regexFrontMatter  = /^---\n([\s\S]*?)\n---\n/,
    regexLabClose     = /<!--\s*\/lab\s*-->/g,
    regexLabOpen      = /<!--\s*lab\s*-->/g,
    regexLivePreview  = /```(javascript|html|css|json)\s+live-preview\s*\n([\s\S]*?)\n\s*```/g,
    regexMermaid      = /```mermaid\s*\n([\s\S]*?)\n\s*```/g,
    regexNeoComponent = /```json\s+neo-component\s*\n([\s\S]*?)\n\s*```/g,
    regexNewLines     = /^\n+|\n+$/g,
    regexCodeBlock    = /```(\w*)(?:[^\n]*)?\n([\s\S]*?)\n\s*```/g,
    regexTicketId     = /(^|[\s(])#(\d+)\b/g;

/**
 * @summary A specialized component for rendering Markdown content.
 *
 * This component provides a declarative way to display Markdown within a Neo.mjs application.
 * It encapsulates the rendering logic and styling, ensuring consistency across different views.
 *
 * It supports:
 * - **Reactive Content**: Updates automatically when the `value` config changes.
 * - **Interactive Elements**: Properly mounts and manages embedded Neo.mjs components (`live-preview`, `neo-component`).
 * - **Lifecycle Management**: Handles the destruction of embedded components when this component is destroyed.
 *
 * @class Neo.component.Markdown
 * @extends Neo.component.Base
 */
class Markdown extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Neo.component.Markdown'
         * @protected
         */
        className: 'Neo.component.Markdown',
        /**
         * @member {String} ntype='markdown'
         * @protected
         */
        ntype: 'markdown',
        /**
         * @member {String[]} baseCls=['neo-markdown-component']
         * @protected
         */
        baseCls: ['neo-markdown-component'],
        /**
         * The base URL for issue tracking. Used when replaceTicketIds is true.
         * @member {String} issuesUrl='https://github.com/neomjs/neo/issues/'
         */
        issuesUrl: 'https://github.com/neomjs/neo/issues/',
        /**
         * True to parse and render YAML frontmatter (metadata) at the top of the content.
         * Useful for displaying file metadata like title, date, or tags.
         * @member {Boolean} renderFrontmatter=true
         */
        renderFrontmatter: true,
        /**
         * True to automatically replace ticket references (e.g. #123) with clickable links.
         * @member {Boolean} replaceTicketIds=false
         */
        replaceTicketIds: false,
        /**
         * True to wrap the rendered frontmatter table in a collapsible <details> tag.
         * This keeps the metadata accessible but unobtrusive, collapsed by default.
         * @member {Boolean} useFrontmatterDetails=true
         */
        useFrontmatterDetails: true,
        /**
         * @member {String|null} value_=null
         * @reactive
         */
        value_: null,
        /**
         * @member {String|null} windowUrl=null
         */
        windowUrl: null
    }

    /**
     * @member {Neo.component.Base[]} activeComponents=[]
     */
    activeComponents = []

    /**
     * @member {RegExp} regexInlineCode=/`([^`]+)`/g
     * @protected
     * @static
     */
    static regexInlineCode = /`([^`]+)`/g

    /**
     * Triggered after the mounted config got changed
     * @param {Boolean} value
     * @param {Boolean} oldValue
     * @protected
     */
    afterSetMounted(value, oldValue) {
        super.afterSetMounted(value, oldValue);
        this.updateComponentState(value)
    }

    /**
     * Triggered after the value config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    async afterSetValue(value, oldValue) {
        if (value) {
            let me = this;

            value = me.modifyMarkdown(value);

            // Clean up previous instances
            me.destroyComponents();

            await me.render({code: value})
        }
    }

    /**
     * Triggered after the windowId config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    async afterSetWindowId(value, oldValue) {
        super.afterSetWindowId(value, oldValue);
        this.activeComponents.forEach(component => component.windowId = value)
    }

    /**
     * Triggered before the value config gets changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @returns {String|null}
     * @protected
     */
    beforeSetValue(value, oldValue) {
        if (value) {
            let lower = value.trim().toLowerCase();

            if (lower.startsWith('<!doctype html>') || lower.startsWith('<html')) {
                console.error('Markdown component received an HTML document instead of markdown content. This usually indicates a 404 or server error.', this.id);
                return oldValue
            }
        }

        return value
    }

    /**
     * Destroy all created child instances
     * @param {...*} args
     */
    destroy(...args) {
        this.destroyComponents();
        super.destroy(...args)
    }

    /**
     * Destroys all components created by the last render pass.
     */
    destroyComponents() {
        let me = this;

        me.activeComponents.forEach(component => component.destroy());
        me.activeComponents = []
    }

    /**
     * @returns {String}
     */
    insertLabDivs(inputString) {
        inputString = inputString.replace(regexLabOpen, '<div class="lab">');
        inputString = inputString.replace(regexLabClose, '</div>');
        return inputString
    }

    /**
     * @param {*} value
     * @returns {String}
     */
    formatFrontMatterValue(value) {
        if (Array.isArray(value)) {
            return value.join(', ')
        }

        if (typeof value === 'boolean') {
            return `<i class="fa-solid fa-${value ? 'check' : 'xmark'}"></i>`
        }

        if (typeof value === 'string') {
            // ISO Date
            if (/^\d{4}-\d{2}-\d{2}T/.test(value)) {
                return new Date(value).toLocaleString()
            }

            // URL
            if (/^https?:\/\//.test(value)) {
                return `<a href="${value}" target="_blank">${value}</a>`
            }
        }

        return value
    }

    /**
     * @param {Object} data
     * @returns {String}
     */
    frontMatterToHtml(data) {
        let me   = this,
            html = '<table class="neo-frontmatter-table"><tbody>';

        Object.entries(data).forEach(([key, value]) => {
            html += `<tr><td>${key}</td><td>${me.formatFrontMatterValue(value)}</td></tr>`
        });

        html += '</tbody></table>';

        if (me.useFrontmatterDetails) {
            return `<details><summary>Frontmatter</summary>${html}</details>`
        }

        return html
    }

    /**
     * Modifies the markdown content before rendering.
     * Default implementation parses headlines to add specific classes.
     * @param {String} content
     * @returns {String}
     */
    modifyMarkdown(content) {
        let me = this;

        if (regexFrontMatter.test(content)) {
            content = content.replace(regexFrontMatter, (match, frontmatter) => {
                if (!me.renderFrontmatter) {
                    return ''
                }

                try {
                    return me.frontMatterToHtml(me.parseFrontMatter(frontmatter)) + '\n'
                } catch (e) {
                    console.error('Error parsing FrontMatter', e);
                    return match
                }
            })
        }

        if (me.replaceTicketIds) {
            content = content.replace(regexTicketId, `$1<a href="${me.issuesUrl}$2" target="_blank">#$2</a>`)
        }

        let rows          = content.split('\n'),
            i             = 0,
            len           = rows.length,
            headlineIndex = 1,
            row, tag;

        for (; i < len; i++) {
            row = rows[i];
            tag = null;

            if (row.startsWith('#') && row.charAt(1) !== '#') {
                row = row.substring(1).trim();
                tag = 'h1'
            } else if (row.startsWith('##') && row.charAt(2) !== '#') {
                row = row.substring(2).trim();
                tag = 'h2'
            } else if (row.startsWith('###') && row.charAt(3) !== '#') {
                row = row.substring(3).trim();
                tag = 'h3'
            }

            if (tag) {
                rows[i] = me.onHeadline(tag, row, headlineIndex);
                headlineIndex++;

                // If the next line is not empty, add one
                if (rows[i + 1] && rows[i + 1] !== '') {
                    rows.splice(i + 1, 0, '');
                    len++;
                    i++
                }
            }
        }

        return rows.join('\n')
    }

    /**
     * @param {String} tag
     * @param {String} text
     * @param {Number} index
     * @returns {String}
     */
    onHeadline(tag, text, index) {
        text = text.replace(this.constructor.regexInlineCode, '<code>$1</code>');
        return `<${tag} class="neo-${tag}">${text}</${tag}>`
    }

    /**
     * @param {String} text
     * @returns {Object}
     */
    parseFrontMatter(text) {
        let data       = {},
            lines      = text.trim().split('\n'),
            currentKey;

        lines.forEach(line => {
            let trimLine = line.trim();

            if (!trimLine || trimLine.startsWith('#')) return; // Skip empty or comments

            // Array item
            if (trimLine.startsWith('- ')) {
                if (currentKey) {
                    if (!Array.isArray(data[currentKey])) {
                        data[currentKey] = []
                    }
                    data[currentKey].push(this.parseValue(trimLine.substring(2)))
                }
                return
            }

            // Key-Value
            let match = trimLine.match(/^([\w\d_-]+):\s*(.*)$/);
            if (match) {
                currentKey       = match[1];
                data[currentKey] = this.parseValue(match[2])
            }
        });

        return data
    }

    /**
     * @param {String} value
     * @returns {Boolean|Number|String|null}
     */
    parseValue(value) {
        value = value.trim();

        if (value === 'true')  return true;
        if (value === 'false') return false;
        if (value === 'null')  return null;

        if (!isNaN(Number(value)) && value !== '') return Number(value);

        if ((value.startsWith("'") && value.endsWith("'")) || (value.startsWith('"') && value.endsWith('"'))) {
            return value.slice(1, -1)
        }

        return value
    }

    /**
     * @param {String} contentString
     * @param {Object} map
     * @returns {String}
     */
    processLivePreviewBlocks(contentString, map) {
        return contentString.replace(regexLivePreview, (match, language, code) => {
            const key = _core_IdGenerator_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getId('pre-live-preview');
            map[key] = {code, language};
            return `<div id="${key}"></div>`
        })
    }

    /**
     * @param {String} contentString
     * @param {Object} map
     * @returns {String}
     */
    processMermaidBlocks(contentString, map) {
        return contentString.replace(regexMermaid, (match, code) => {
            const key = _core_IdGenerator_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getId('mermaid');
            map[key] = code;
            return `<div class="neo-mermaid" id="${key}"></div>`
        })
    }

    /**
     * @param {String} contentString
     * @param {Object} map
     * @returns {String}
     */
    processNeoComponentsBlocks(contentString, map) {
        return contentString.replace(regexNeoComponent, (match, code) => {
            const key = _core_IdGenerator_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getId('learn-content-component');
            map[key] = JSON.parse(code);
            return `<div id="${key}"></div>`
        })
    }

    /**
     * @param {String} contentString
     * @param {String} windowId
     * @returns {Promise<String>}
     */
    async processReadonlyCodeBlocks(contentString, windowId) {
        let replacementPromises = [],
            count               = 0,
            replacements;

        let updatedContent = contentString.replace(regexCodeBlock, (match, language, code) => {
            const token = `__NEO-READONLY-TOKEN-${++count}__`;
            const lang  = (!language || language.trim() === '' || language === 'text') ? 'plaintext' : language;

            replacementPromises.push(
                _util_HighlightJs_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].highlight(code, lang, windowId)
                    .catch(err => {
                        console.warn(`Highlighting failed for language '${lang}', falling back to plaintext.`, err);
                        return _util_HighlightJs_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].highlight(code, 'plaintext', windowId);
                    })
                    .then(highlightedHtml => ({
                        after: `<pre data-${lang} class="hljs" id="pre-readonly-${_core_IdGenerator_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getId()}">${highlightedHtml.replace(regexNewLines, '')}</pre>`,
                        token
                    }))
            );
            return token;
        });

        replacements = await Promise.all(replacementPromises);

        replacements.forEach(replacement => {
            updatedContent = updatedContent.replace(replacement.token, replacement.after)
        });

        return updatedContent
    }

    /**
     * Orchestrates the Markdown rendering pipeline.
     *
     * This method implements a **multi-pass compilation strategy** to overcome the limitations of standard Markdown parsers
     * when dealing with dynamic content and asynchronous operations:
     *
     * 1.  **Extraction Pass**: It first scans the raw markdown to extract `neo-component` and `live-preview` blocks. These are
     *     replaced with placeholder DIVs. This prevents the Markdown parser from mangling the JSON/code configurations.
     * 2.  **Highlighting Pass**: It asynchronously processes `readonly` code blocks using HighlightJS. Since `marked.js` is synchronous,
     *     we must handle this pre-processing step to support syntax highlighting.
     * 3.  **Parsing Pass**: The transformed content (with placeholders and highlighted code) is converted to HTML using `marked.parse`.
     * 4.  **Injection Pass**: Finally, it iterates over the extracted component maps (`neoComponents`, `neoDivs`) and instantiates
     *     the actual Neo.mjs components, rendering them into the placeholder DIVs within the generated HTML.
     * @param {Object} data
     * @param {String} data.code
     * @returns {Promise<Object>}
     */
    async render({code}) {
        let me            = this,
            {windowId}    = me,
            content       = code,
            neoComponents = {},
            neoDivs       = {},
            mermaidDivs   = {},
            baseConfigs   = {
                appName        : me.appName,
                autoInitVnode  : true,
                autoMount      : true,
                parentComponent: me.parentComponent,
                windowId
            },
            html, instance;

        // Initialize maps for custom components and live previews
        neoComponents = {};
        neoDivs       = {};

        // Process custom Neo.mjs component blocks (synchronous)
        content = me.processNeoComponentsBlocks(content, neoComponents);

        // Process custom Live Preview blocks (synchronous)
        content = me.processLivePreviewBlocks(content, neoDivs);

        // Process Mermaid blocks (synchronous)
        content = me.processMermaidBlocks(content, mermaidDivs);

        // Process custom Readonly Code blocks (asynchronous due to HighlightJS)
        // This will replace the markdown fenced block with the highlighted HTML <pre> tag.
        content = await me.processReadonlyCodeBlocks(content, baseConfigs.windowId);

        // Parse the (now modified) markdown content into HTML
        // This content string now contains standard markdown PLUS the HTML divs/pres we injected.
        html = _node_modules_marked_lib_marked_esm_js__WEBPACK_IMPORTED_MODULE_3__.marked.parse(content);

        // Wrap raw HTML img tags in a scrollable container
        html = html.replace(/<img([^>]*)>/g, '<div class="neo-markdown-image-wrapper"><img$1></div>');

        // Insert lab divs (these are markdown comments, so process on the final HTML)
        await me.set({html: me.insertLabDivs(html)});
        await me.timeout(10);

        if (Object.keys(neoComponents).length > 0) {
            Object.keys(neoComponents).forEach(key => {
                instance = Neo.create({
                    ...baseConfigs,
                    className: 'Neo.component.Base',
                    parentId : key,
                    ...neoComponents[key]
                });
                me.activeComponents.push(instance)
            });
        }

        if (Object.keys(neoDivs).length > 0) {
            const LivePreviewModule = await Promise.all(/*! import() */[__webpack_require__.e("vendors-src_tab_Container_mjs"), __webpack_require__.e("vendors-src_component_wrapper_MonacoEditor_mjs"), __webpack_require__.e("vendors-src_code_LivePreview_mjs")]).then(__webpack_require__.bind(__webpack_require__, /*! ../code/LivePreview.mjs */ "./src/code/LivePreview.mjs"));
            const LivePreviewClass  = LivePreviewModule.default;

            Object.keys(neoDivs).forEach(key => {
                const config = {
                    ...baseConfigs,
                    module  : LivePreviewClass,
                    parentId: key,
                    value   : neoDivs[key].code
                }

                if (me.windowUrl) {
                    config.windowUrl = me.windowUrl
                }

                instance = Neo.create(config);
                me.activeComponents.push(instance);
            });
        }

        if (Object.keys(mermaidDivs).length > 0) {
            const Mermaid = await Neo.currentWorker.getAddon('Mermaid', windowId);

            Object.keys(mermaidDivs).forEach(key => {
                Mermaid.render({
                    code: mermaidDivs[key],
                    id  : key,
                    windowId
                })
            })
        }

        return {}
    }

    /**
     * Updates the mounted state of all tracked components.
     * @param {Boolean} mounted
     */
    updateComponentState(mounted) {
        this.activeComponents.forEach(component => {
            if (mounted) {
                component.initVnode(true)
            } else {
                component.mounted = false
            }
        })
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(Markdown));


/***/ },

/***/ "./src/util/HighlightJs.mjs"
/*!**********************************!*\
  !*** ./src/util/HighlightJs.mjs ***!
  \**********************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./src/core/Base.mjs");
/* harmony import */ var _HighlightJsLineNumbers_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./HighlightJsLineNumbers.mjs */ "./src/util/HighlightJsLineNumbers.mjs");



/**
 * @class Neo.util.HighlightJs
 * @extends Neo.core.Base
 * @singleton
 */
class HighlightJs extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Neo.util.HighlightJs'
         * @protected
         */
        className: 'Neo.util.HighlightJs',
        /**
         * @member {Boolean} debug=false
         */
        debug: true,
        /**
         * @member {Boolean} singleton=true
         * @protected
         */
        singleton: true,
        /**
         * The custom windowIs (timestamp) this component belongs to
         * @member {Number|null} windowId_=null
         * @reactive
         */
        windowId_: null
    }

    /**
     * @type {null}
     */
    hljs = null;

    /**
     * Triggered after the windowId config got changed
     * @param {Number|null} value
     * @param {Number|null} oldValue
     * @protected
     */
    afterSetWindowId(value, oldValue) {
        value && Neo.currentWorker.insertThemeFiles(value, this.__proto__)
    }

    /**
     * @param {String} code
     * @param {String} language
     * @param {String} windowId
     * @returns {Promise<String>}
     */
    async highlight(code, language, windowId) {
        let me = this;

        me.windowId = windowId;

        await me.load();
        return me.hljs.highlight(code, {language}).value
    }

    /**
     * @param {String} code
     * @param {String} windowId
     * @returns {Promise<String>}
     */
    async highlightAuto(code, windowId) {
        let me = this;

        me.windowId = windowId;

        await me.load();
        return me.hljs.highlightAuto(code).value
    }

    /**
     * @param {String} code
     * @param {String} language
     * @param {String} windowId
     * @returns {Promise<String>}
     */
    async highlightLine(code, language, windowId) {
        let value = await this.highlight(code, language, windowId);
        return _HighlightJsLineNumbers_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].addLineNumbers(value, windowId)
    }

    /**
     * @param {String} code
     * @param {String} windowId
     * @returns {Promise<String>}
     */
    async highlightAutoLine(code, windowId) {
        let value = await this.highlightAuto(code, windowId);
        return _HighlightJsLineNumbers_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].addLineNumbers(value, windowId)
    }

    /**
     * @returns {Promise<void>}
     */
    async load() {
        if (!this.hljs) {
            let path   = Neo.config.basePath + 'dist/highlight/highlight.custom' + (this.debug ? '' : '.min') + '.js',
                module = await import(/* webpackIgnore: true */ path);

            this.hljs = module.default
        }
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(HighlightJs));


/***/ },

/***/ "./src/util/HighlightJsLineNumbers.mjs"
/*!*********************************************!*\
  !*** ./src/util/HighlightJsLineNumbers.mjs ***!
  \*********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./src/core/Base.mjs");


const
    formatRegex = /\{(\d+)\}/g,
    lineRegex   = /\\r\\n|\\r|\\n/g;

/**
 * Node.js-capable version of: https://github.com/yauhenipakala/highlightjs-line-numbers.js
 * @class Neo.util.HighlightJsLineNumbers
 * @extends Neo.core.Base
 * @singleton
 */
class HighlightJsLineNumbers extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Neo.util.HighlightJsLineNumbers'
         * @protected
         */
        className: 'Neo.util.HighlightJsLineNumbers',
        /**
         * @member {Boolean} singleton=true
         * @protected
         */
        singleton: true
    }

    TABLE_NAME         = 'hljs-ln'
    LINE_NAME          = 'hljs-ln-line'
    CODE_BLOCK_NAME    = 'hljs-ln-code'
    NUMBERS_BLOCK_NAME = 'hljs-ln-numbers'
    NUMBER_LINE_NAME   = 'hljs-ln-n'
    DATA_ATTR_NAME     = 'data-line-number'

    /**
     * @param {String} format
     * @param {Array} args
     * @returns {String}
     */
    format(format, args) {
        return format.replace(formatRegex, function(m, n){
            return args[n] !== undefined ? args[n] : m
        })
    }

    /**
     * @param {String} html
     * @param {String} windowId
     * @returns {String}
     */
    addLineNumbers(html, windowId) {
        let me     = this,
            lines  = me.getLines(html),
            result = '';

        if (lines.length > 0) {
            // This instance is not a component and should load related CSS files into the used windows.
            windowId && Neo.currentWorker.insertThemeFiles(windowId, me.__proto__);

            for (let i = 0; i < lines.length; i++) {
                result += me.format([
                    '<tr>',
                        '<td class="{0} {1}" {3}="{5}">',
                            '<div class="{2}" {3}="{5}"></div>',
                        '</td>',
                        '<td class="{0} {4}" {3}="{5}">',
                            '{6}',
                        '</td>',
                    '</tr>'
                ].join(''), [
                    me.LINE_NAME,
                    me.NUMBERS_BLOCK_NAME,
                    me.NUMBER_LINE_NAME,
                    me.DATA_ATTR_NAME,
                    me.CODE_BLOCK_NAME,
                    i + 1,
                    lines[i].length > 0 ? lines[i] : ' '
                ])
            }

            return me.format('<table class="{0}">{1}</table>', [me.TABLE_NAME, result])
        }

        return html
    }

    /**
     * @param {String} text
     * @returns {String[]}
     */
    getLines(text) {
        if (text.length === 0) return [];
        const lines = text.split(lineRegex);

        if (lines.length > 0 && lines[lines.length - 1].trim() === '') {
            lines.pop()
        }

        return lines
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(HighlightJsLineNumbers));


/***/ }

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC92ZW5kb3JzLXNyY19jb21wb25lbnRfTWFya2Rvd25fbWpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxhQUFhLE9BQU8seUhBQXlILFVBQVUsY0FBYyxJQUFJLE9BQU8sZUFBZSxtQkFBbUIsdUNBQXVDLGdCQUFnQixvQ0FBb0Msb0RBQW9ELCtCQUErQixTQUFTLGFBQWEsSUFBSSxtQ0FBbUMsTUFBTSxVQUFVLE9BQU8sd0JBQXdCLElBQUksR0FBRyxJQUFJLHdVQUF3VSxJQUFJLGdDQUFnQyxJQUFJLHFEQUFxRCxJQUFJLHlEQUF5RCxJQUFJLE1BQU0sRUFBRSxrakJBQWtqQixFQUFFLEdBQUcsRUFBRSxzRkFBc0YsSUFBSSxrQkFBa0IsSUFBSSxNQUFNLDBDQUEwQyxJQUFJLGtCQUFrQixJQUFJLE1BQU0seURBQXlELHVOQUF1TixJQUFJLEVBQUUsRUFBRSxpRUFBaUUsSUFBSSxpQkFBaUIsYUFBYSxJQUFJLDZEQUE2RCxJQUFJLGlCQUFpQixTQUFTLEdBQUcsU0FBUyxHQUFHLFdBQVcsR0FBRyxpREFBaUQsSUFBSSxpQkFBaUIscURBQXFELElBQUksaUJBQWlCLHFDQUFxQyxJQUFJLGlCQUFpQix3QkFBd0Isc0NBQXNDLEVBQUUsR0FBRyxJQUFJLDhDQUE4QyxJQUFJLEdBQUcsR0FBRyxzQkFBc0IsR0FBRyw2Q0FBNkMsSUFBSSw0QkFBNEIsSUFBSSxhQUFhLEdBQUcsYUFBYSxHQUFHLGNBQWMsR0FBRyxtQkFBbUIsSUFBSSxHQUFHLElBQUksdUNBQXVDLElBQUksbUpBQW1KLElBQUksMkVBQTJFLEVBQUUsR0FBRyxJQUFJLDJCQUEyQixJQUFJLEtBQUssR0FBRyxHQUFHLEdBQUcsNkJBQTZCLElBQUksMEJBQTBCLElBQUksRUFBRSxJQUFJLHNCQUFzQixJQUFJLHVHQUF1RyxFQUFFLEdBQUcsSUFB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OztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsaUVBQWUsc0NBQXNDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZW8ubWpzLy4vbm9kZV9tb2R1bGVzL21hcmtlZC9saWIvbWFya2VkLmVzbS5qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vc3JjL2NvbXBvbmVudC9NYXJrZG93bi5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL3NyYy91dGlsL0hpZ2hsaWdodEpzLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vc3JjL3V0aWwvSGlnaGxpZ2h0SnNMaW5lTnVtYmVycy5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBtYXJrZWQgdjE3LjAuMSAtIGEgbWFya2Rvd24gcGFyc2VyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTgtMjAyNSwgTWFya2VkSlMuIChNSVQgTGljZW5zZSlcbiAqIENvcHlyaWdodCAoYykgMjAxMS0yMDE4LCBDaHJpc3RvcGhlciBKZWZmcmV5LiAoTUlUIExpY2Vuc2UpXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbWFya2VkanMvbWFya2VkXG4gKi9cblxuLyoqXG4gKiBETyBOT1QgRURJVCBUSElTIEZJTEVcbiAqIFRoZSBjb2RlIGluIHRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgZnJvbSBmaWxlcyBpbiAuL3NyYy9cbiAqL1xuXG5mdW5jdGlvbiBMKCl7cmV0dXJue2FzeW5jOiExLGJyZWFrczohMSxleHRlbnNpb25zOm51bGwsZ2ZtOiEwLGhvb2tzOm51bGwscGVkYW50aWM6ITEscmVuZGVyZXI6bnVsbCxzaWxlbnQ6ITEsdG9rZW5pemVyOm51bGwsd2Fsa1Rva2VuczpudWxsfX12YXIgVD1MKCk7ZnVuY3Rpb24gWih1KXtUPXV9dmFyIEM9e2V4ZWM6KCk9Pm51bGx9O2Z1bmN0aW9uIGsodSxlPVwiXCIpe2xldCB0PXR5cGVvZiB1PT1cInN0cmluZ1wiP3U6dS5zb3VyY2Usbj17cmVwbGFjZToocixpKT0+e2xldCBzPXR5cGVvZiBpPT1cInN0cmluZ1wiP2k6aS5zb3VyY2U7cmV0dXJuIHM9cy5yZXBsYWNlKG0uY2FyZXQsXCIkMVwiKSx0PXQucmVwbGFjZShyLHMpLG59LGdldFJlZ2V4OigpPT5uZXcgUmVnRXhwKHQsZSl9O3JldHVybiBufXZhciBtZT0oKCk9Pnt0cnl7cmV0dXJuISFuZXcgUmVnRXhwKFwiKD88PTEpKD88ITEpXCIpfWNhdGNoe3JldHVybiExfX0pKCksbT17Y29kZVJlbW92ZUluZGVudDovXig/OiB7MSw0fXwgezAsM31cXHQpL2dtLG91dHB1dExpbmtSZXBsYWNlOi9cXFxcKFtcXFtcXF1dKS9nLGluZGVudENvZGVDb21wZW5zYXRpb246L14oXFxzKykoPzpgYGApLyxiZWdpbm5pbmdTcGFjZTovXlxccysvLGVuZGluZ0hhc2g6LyMkLyxzdGFydGluZ1NwYWNlQ2hhcjovXiAvLGVuZGluZ1NwYWNlQ2hhcjovICQvLG5vblNwYWNlQ2hhcjovW14gXS8sbmV3TGluZUNoYXJHbG9iYWw6L1xcbi9nLHRhYkNoYXJHbG9iYWw6L1xcdC9nLG11bHRpcGxlU3BhY2VHbG9iYWw6L1xccysvZyxibGFua0xpbmU6L15bIFxcdF0qJC8sZG91YmxlQmxhbmtMaW5lOi9cXG5bIFxcdF0qXFxuWyBcXHRdKiQvLGJsb2NrcXVvdGVTdGFydDovXiB7MCwzfT4vLGJsb2NrcXVvdGVTZXRleHRSZXBsYWNlOi9cXG4gezAsM30oKD86PSt8LSspICopKD89XFxufCQpL2csYmxvY2txdW90ZVNldGV4dFJlcGxhY2UyOi9eIHswLDN9PlsgXFx0XT8vZ20sbGlzdFJlcGxhY2VUYWJzOi9eXFx0Ky8sbGlzdFJlcGxhY2VOZXN0aW5nOi9eIHsxLDR9KD89KCB7NH0pKlteIF0pL2csbGlzdElzVGFzazovXlxcW1sgeFhdXFxdICtcXFMvLGxpc3RSZXBsYWNlVGFzazovXlxcW1sgeFhdXFxdICsvLGxpc3RUYXNrQ2hlY2tib3g6L1xcW1sgeFhdXFxdLyxhbnlMaW5lOi9cXG4uKlxcbi8saHJlZkJyYWNrZXRzOi9ePCguKik+JC8sdGFibGVEZWxpbWl0ZXI6L1s6fF0vLHRhYmxlQWxpZ25DaGFyczovXlxcfHxcXHwgKiQvZyx0YWJsZVJvd0JsYW5rTGluZTovXFxuWyBcXHRdKiQvLHRhYmxlQWxpZ25SaWdodDovXiAqLSs6ICokLyx0YWJsZUFsaWduQ2VudGVyOi9eICo6LSs6ICokLyx0YWJsZUFsaWduTGVmdDovXiAqOi0rICokLyxzdGFydEFUYWc6L148YSAvaSxlbmRBVGFnOi9ePFxcL2E+L2ksc3RhcnRQcmVTY3JpcHRUYWc6L148KHByZXxjb2RlfGtiZHxzY3JpcHQpKFxcc3w+KS9pLGVuZFByZVNjcmlwdFRhZzovXjxcXC8ocHJlfGNvZGV8a2JkfHNjcmlwdCkoXFxzfD4pL2ksc3RhcnRBbmdsZUJyYWNrZXQ6L148LyxlbmRBbmdsZUJyYWNrZXQ6Lz4kLyxwZWRhbnRpY0hyZWZUaXRsZTovXihbXidcIl0qW15cXHNdKVxccysoWydcIl0pKC4qKVxcMi8sdW5pY29kZUFscGhhTnVtZXJpYzovW1xccHtMfVxccHtOfV0vdSxlc2NhcGVUZXN0Oi9bJjw+XCInXS8sZXNjYXBlUmVwbGFjZTovWyY8PlwiJ10vZyxlc2NhcGVUZXN0Tm9FbmNvZGU6L1s8PlwiJ118Jig/ISgjXFxkezEsN318I1tYeF1bYS1mQS1GMC05XXsxLDZ9fFxcdyspOykvLGVzY2FwZVJlcGxhY2VOb0VuY29kZTovWzw+XCInXXwmKD8hKCNcXGR7MSw3fXwjW1h4XVthLWZBLUYwLTldezEsNn18XFx3Kyk7KS9nLHVuZXNjYXBlVGVzdDovJigjKD86XFxkKyl8KD86I3hbMC05QS1GYS1mXSspfCg/OlxcdyspKTs/L2lnLGNhcmV0Oi8oXnxbXlxcW10pXFxeL2cscGVyY2VudERlY29kZTovJTI1L2csZmluZFBpcGU6L1xcfC9nLHNwbGl0UGlwZTovIFxcfC8sc2xhc2hQaXBlOi9cXFxcXFx8L2csY2FycmlhZ2VSZXR1cm46L1xcclxcbnxcXHIvZyxzcGFjZUxpbmU6L14gKyQvZ20sbm90U3BhY2VTdGFydDovXlxcUyovLGVuZGluZ05ld2xpbmU6L1xcbiQvLGxpc3RJdGVtUmVnZXg6dT0+bmV3IFJlZ0V4cChgXiggezAsM30ke3V9KSgoPzpbXHQgXVteXFxcXG5dKik/KD86XFxcXG58JCkpYCksbmV4dEJ1bGxldFJlZ2V4OnU9Pm5ldyBSZWdFeHAoYF4gezAsJHtNYXRoLm1pbigzLHUtMSl9fSg/OlsqKy1dfFxcXFxkezEsOX1bLildKSgoPzpbIFx0XVteXFxcXG5dKik/KD86XFxcXG58JCkpYCksaHJSZWdleDp1PT5uZXcgUmVnRXhwKGBeIHswLCR7TWF0aC5taW4oMyx1LTEpfX0oKD86LSAqKXszLH18KD86XyAqKXszLH18KD86XFxcXCogKil7Myx9KSg/OlxcXFxuK3wkKWApLGZlbmNlc0JlZ2luUmVnZXg6dT0+bmV3IFJlZ0V4cChgXiB7MCwke01hdGgubWluKDMsdS0xKX19KD86XFxgXFxgXFxgfH5+filgKSxoZWFkaW5nQmVnaW5SZWdleDp1PT5uZXcgUmVnRXhwKGBeIHswLCR7TWF0aC5taW4oMyx1LTEpfX0jYCksaHRtbEJlZ2luUmVnZXg6dT0+bmV3IFJlZ0V4cChgXiB7MCwke01hdGgubWluKDMsdS0xKX19PCg/OlthLXpdLio+fCEtLSlgLFwiaVwiKX0seGU9L14oPzpbIFxcdF0qKD86XFxufCQpKSsvLGJlPS9eKCg/OiB7NH18IHswLDN9XFx0KVteXFxuXSsoPzpcXG4oPzpbIFxcdF0qKD86XFxufCQpKSopPykrLyxSZT0vXiB7MCwzfShgezMsfSg/PVteYFxcbl0qKD86XFxufCQpKXx+ezMsfSkoW15cXG5dKikoPzpcXG58JCkoPzp8KFtcXHNcXFNdKj8pKD86XFxufCQpKSg/OiB7MCwzfVxcMVt+YF0qICooPz1cXG58JCl8JCkvLEk9L14gezAsM30oKD86LVtcXHQgXSopezMsfXwoPzpfWyBcXHRdKil7Myx9fCg/OlxcKlsgXFx0XSopezMsfSkoPzpcXG4rfCQpLyxUZT0vXiB7MCwzfSgjezEsNn0pKD89XFxzfCQpKC4qKSg/Olxcbit8JCkvLE49Lyg/OlsqKy1dfFxcZHsxLDl9Wy4pXSkvLHJlPS9eKD8hYnVsbCB8YmxvY2tDb2RlfGZlbmNlc3xibG9ja3F1b3RlfGhlYWRpbmd8aHRtbHx0YWJsZSkoKD86LnxcXG4oPyFcXHMqP1xcbnxidWxsIHxibG9ja0NvZGV8ZmVuY2VzfGJsb2NrcXVvdGV8aGVhZGluZ3xodG1sfHRhYmxlKSkrPylcXG4gezAsM30oPSt8LSspICooPzpcXG4rfCQpLyxzZT1rKHJlKS5yZXBsYWNlKC9idWxsL2csTikucmVwbGFjZSgvYmxvY2tDb2RlL2csLyg/OiB7NH18IHswLDN9XFx0KS8pLnJlcGxhY2UoL2ZlbmNlcy9nLC8gezAsM30oPzpgezMsfXx+ezMsfSkvKS5yZXBsYWNlKC9ibG9ja3F1b3RlL2csLyB7MCwzfT4vKS5yZXBsYWNlKC9oZWFkaW5nL2csLyB7MCwzfSN7MSw2fS8pLnJlcGxhY2UoL2h0bWwvZywvIHswLDN9PFteXFxuPl0rPlxcbi8pLnJlcGxhY2UoL1xcfHRhYmxlL2csXCJcIikuZ2V0UmVnZXgoKSxPZT1rKHJlKS5yZXBsYWNlKC9idWxsL2csTikucmVwbGFjZSgvYmxvY2tDb2RlL2csLyg/OiB7NH18IHswLDN9XFx0KS8pLnJlcGxhY2UoL2ZlbmNlcy9nLC8gezAsM30oPzpgezMsfXx+ezMsfSkvKS5yZXBsYWNlKC9ibG9ja3F1b3RlL2csLyB7MCwzfT4vKS5yZXBsYWNlKC9oZWFkaW5nL2csLyB7MCwzfSN7MSw2fS8pLnJlcGxhY2UoL2h0bWwvZywvIHswLDN9PFteXFxuPl0rPlxcbi8pLnJlcGxhY2UoL3RhYmxlL2csLyB7MCwzfVxcfD8oPzpbOlxcLSBdKlxcfCkrW1xcOlxcLSBdKlxcbi8pLmdldFJlZ2V4KCksUT0vXihbXlxcbl0rKD86XFxuKD8haHJ8aGVhZGluZ3xsaGVhZGluZ3xibG9ja3F1b3RlfGZlbmNlc3xsaXN0fGh0bWx8dGFibGV8ICtcXG4pW15cXG5dKykqKS8sd2U9L15bXlxcbl0rLyxGPS8oPyFcXHMqXFxdKSg/OlxcXFxbXFxzXFxTXXxbXlxcW1xcXVxcXFxdKSsvLHllPWsoL14gezAsM31cXFsobGFiZWwpXFxdOiAqKD86XFxuWyBcXHRdKik/KFtePFxcc11bXlxcc10qfDwuKj8+KSg/Oig/OiArKD86XFxuWyBcXHRdKik/fCAqXFxuWyBcXHRdKikodGl0bGUpKT8gKig/Olxcbit8JCkvKS5yZXBsYWNlKFwibGFiZWxcIixGKS5yZXBsYWNlKFwidGl0bGVcIiwvKD86XCIoPzpcXFxcXCI/fFteXCJcXFxcXSkqXCJ8J1teJ1xcbl0qKD86XFxuW14nXFxuXSspKlxcbj8nfFxcKFteKCldKlxcKSkvKS5nZXRSZWdleCgpLFBlPWsoL14oIHswLDN9YnVsbCkoWyBcXHRdW15cXG5dKz8pPyg/OlxcbnwkKS8pLnJlcGxhY2UoL2J1bGwvZyxOKS5nZXRSZWdleCgpLHY9XCJhZGRyZXNzfGFydGljbGV8YXNpZGV8YmFzZXxiYXNlZm9udHxibG9ja3F1b3RlfGJvZHl8Y2FwdGlvbnxjZW50ZXJ8Y29sfGNvbGdyb3VwfGRkfGRldGFpbHN8ZGlhbG9nfGRpcnxkaXZ8ZGx8ZHR8ZmllbGRzZXR8ZmlnY2FwdGlvbnxmaWd1cmV8Zm9vdGVyfGZvcm18ZnJhbWV8ZnJhbWVzZXR8aFsxLTZdfGhlYWR8aGVhZGVyfGhyfGh0bWx8aWZyYW1lfGxlZ2VuZHxsaXxsaW5rfG1haW58bWVudXxtZW51aXRlbXxtZXRhfG5hdnxub2ZyYW1lc3xvbHxvcHRncm91cHxvcHRpb258cHxwYXJhbXxzZWFyY2h8c2VjdGlvbnxzdW1tYXJ5fHRhYmxlfHRib2R5fHRkfHRmb290fHRofHRoZWFkfHRpdGxlfHRyfHRyYWNrfHVsXCIsaj0vPCEtLSg/Oi0/PnxbXFxzXFxTXSo/KD86LS0+fCQpKS8sU2U9ayhcIl4gezAsM30oPzo8KHNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWEpW1xcXFxzPl1bXFxcXHNcXFxcU10qPyg/OjwvXFxcXDE+W15cXFxcbl0qXFxcXG4rfCQpfGNvbW1lbnRbXlxcXFxuXSooXFxcXG4rfCQpfDxcXFxcP1tcXFxcc1xcXFxTXSo/KD86XFxcXD8+XFxcXG4qfCQpfDwhW0EtWl1bXFxcXHNcXFxcU10qPyg/Oj5cXFxcbip8JCl8PCFcXFxcW0NEQVRBXFxcXFtbXFxcXHNcXFxcU10qPyg/OlxcXFxdXFxcXF0+XFxcXG4qfCQpfDwvPyh0YWcpKD86ICt8XFxcXG58Lz8+KVtcXFxcc1xcXFxTXSo/KD86KD86XFxcXG5bIFx0XSopK1xcXFxufCQpfDwoPyFzY3JpcHR8cHJlfHN0eWxlfHRleHRhcmVhKShbYS16XVtcXFxcdy1dKikoPzphdHRyaWJ1dGUpKj8gKi8/Pig/PVsgXFxcXHRdKig/OlxcXFxufCQpKVtcXFxcc1xcXFxTXSo/KD86KD86XFxcXG5bIFx0XSopK1xcXFxufCQpfDwvKD8hc2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYSlbYS16XVtcXFxcdy1dKlxcXFxzKj4oPz1bIFxcXFx0XSooPzpcXFxcbnwkKSlbXFxcXHNcXFxcU10qPyg/Oig/OlxcXFxuWyBcdF0qKStcXFxcbnwkKSlcIixcImlcIikucmVwbGFjZShcImNvbW1lbnRcIixqKS5yZXBsYWNlKFwidGFnXCIsdikucmVwbGFjZShcImF0dHJpYnV0ZVwiLC8gK1thLXpBLVo6X11bXFx3LjotXSooPzogKj0gKlwiW15cIlxcbl0qXCJ8ICo9IConW14nXFxuXSonfCAqPSAqW15cXHNcIic9PD5gXSspPy8pLmdldFJlZ2V4KCksaWU9ayhRKS5yZXBsYWNlKFwiaHJcIixJKS5yZXBsYWNlKFwiaGVhZGluZ1wiLFwiIHswLDN9I3sxLDZ9KD86XFxcXHN8JClcIikucmVwbGFjZShcInxsaGVhZGluZ1wiLFwiXCIpLnJlcGxhY2UoXCJ8dGFibGVcIixcIlwiKS5yZXBsYWNlKFwiYmxvY2txdW90ZVwiLFwiIHswLDN9PlwiKS5yZXBsYWNlKFwiZmVuY2VzXCIsXCIgezAsM30oPzpgezMsfSg/PVteYFxcXFxuXSpcXFxcbil8fnszLH0pW15cXFxcbl0qXFxcXG5cIikucmVwbGFjZShcImxpc3RcIixcIiB7MCwzfSg/OlsqKy1dfDFbLildKSBcIikucmVwbGFjZShcImh0bWxcIixcIjwvPyg/OnRhZykoPzogK3xcXFxcbnwvPz4pfDwoPzpzY3JpcHR8cHJlfHN0eWxlfHRleHRhcmVhfCEtLSlcIikucmVwbGFjZShcInRhZ1wiLHYpLmdldFJlZ2V4KCksJGU9aygvXiggezAsM30+ID8ocGFyYWdyYXBofFteXFxuXSopKD86XFxufCQpKSsvKS5yZXBsYWNlKFwicGFyYWdyYXBoXCIsaWUpLmdldFJlZ2V4KCksVT17YmxvY2txdW90ZTokZSxjb2RlOmJlLGRlZjp5ZSxmZW5jZXM6UmUsaGVhZGluZzpUZSxocjpJLGh0bWw6U2UsbGhlYWRpbmc6c2UsbGlzdDpQZSxuZXdsaW5lOnhlLHBhcmFncmFwaDppZSx0YWJsZTpDLHRleHQ6d2V9LHRlPWsoXCJeICooW15cXFxcbiBdLiopXFxcXG4gezAsM30oKD86XFxcXHwgKik/Oj8tKzo/ICooPzpcXFxcfCAqOj8tKzo/ICopKig/OlxcXFx8ICopPykoPzpcXFxcbigoPzooPyEgKlxcXFxufGhyfGhlYWRpbmd8YmxvY2txdW90ZXxjb2RlfGZlbmNlc3xsaXN0fGh0bWwpLiooPzpcXFxcbnwkKSkqKVxcXFxuKnwkKVwiKS5yZXBsYWNlKFwiaHJcIixJKS5yZXBsYWNlKFwiaGVhZGluZ1wiLFwiIHswLDN9I3sxLDZ9KD86XFxcXHN8JClcIikucmVwbGFjZShcImJsb2NrcXVvdGVcIixcIiB7MCwzfT5cIikucmVwbGFjZShcImNvZGVcIixcIig/OiB7NH18IHswLDN9XHQpW15cXFxcbl1cIikucmVwbGFjZShcImZlbmNlc1wiLFwiIHswLDN9KD86YHszLH0oPz1bXmBcXFxcbl0qXFxcXG4pfH57Myx9KVteXFxcXG5dKlxcXFxuXCIpLnJlcGxhY2UoXCJsaXN0XCIsXCIgezAsM30oPzpbKistXXwxWy4pXSkgXCIpLnJlcGxhY2UoXCJodG1sXCIsXCI8Lz8oPzp0YWcpKD86ICt8XFxcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYXwhLS0pXCIpLnJlcGxhY2UoXCJ0YWdcIix2KS5nZXRSZWdleCgpLF9lPXsuLi5VLGxoZWFkaW5nOk9lLHRhYmxlOnRlLHBhcmFncmFwaDprKFEpLnJlcGxhY2UoXCJoclwiLEkpLnJlcGxhY2UoXCJoZWFkaW5nXCIsXCIgezAsM30jezEsNn0oPzpcXFxcc3wkKVwiKS5yZXBsYWNlKFwifGxoZWFkaW5nXCIsXCJcIikucmVwbGFjZShcInRhYmxlXCIsdGUpLnJlcGxhY2UoXCJibG9ja3F1b3RlXCIsXCIgezAsM30+XCIpLnJlcGxhY2UoXCJmZW5jZXNcIixcIiB7MCwzfSg/OmB7Myx9KD89W15gXFxcXG5dKlxcXFxuKXx+ezMsfSlbXlxcXFxuXSpcXFxcblwiKS5yZXBsYWNlKFwibGlzdFwiLFwiIHswLDN9KD86WyorLV18MVsuKV0pIFwiKS5yZXBsYWNlKFwiaHRtbFwiLFwiPC8/KD86dGFnKSg/OiArfFxcXFxufC8/Pil8PCg/OnNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWF8IS0tKVwiKS5yZXBsYWNlKFwidGFnXCIsdikuZ2V0UmVnZXgoKX0sTGU9ey4uLlUsaHRtbDprKGBeICooPzpjb21tZW50ICooPzpcXFxcbnxcXFxccyokKXw8KHRhZylbXFxcXHNcXFxcU10rPzwvXFxcXDE+ICooPzpcXFxcbnsyLH18XFxcXHMqJCl8PHRhZyg/OlwiW15cIl0qXCJ8J1teJ10qJ3xcXFxcc1teJ1wiLz5cXFxcc10qKSo/Lz8+ICooPzpcXFxcbnsyLH18XFxcXHMqJCkpYCkucmVwbGFjZShcImNvbW1lbnRcIixqKS5yZXBsYWNlKC90YWcvZyxcIig/ISg/OmF8ZW18c3Ryb25nfHNtYWxsfHN8Y2l0ZXxxfGRmbnxhYmJyfGRhdGF8dGltZXxjb2RlfHZhcnxzYW1wfGtiZHxzdWJ8c3VwfGl8Ynx1fG1hcmt8cnVieXxydHxycHxiZGl8YmRvfHNwYW58YnJ8d2JyfGluc3xkZWx8aW1nKVxcXFxiKVxcXFx3Kyg/ITp8W15cXFxcd1xcXFxzQF0qQClcXFxcYlwiKS5nZXRSZWdleCgpLGRlZjovXiAqXFxbKFteXFxdXSspXFxdOiAqPD8oW15cXHM+XSspPj8oPzogKyhbXCIoXVteXFxuXStbXCIpXSkpPyAqKD86XFxuK3wkKS8saGVhZGluZzovXigjezEsNn0pKC4qKSg/Olxcbit8JCkvLGZlbmNlczpDLGxoZWFkaW5nOi9eKC4rPylcXG4gezAsM30oPSt8LSspICooPzpcXG4rfCQpLyxwYXJhZ3JhcGg6ayhRKS5yZXBsYWNlKFwiaHJcIixJKS5yZXBsYWNlKFwiaGVhZGluZ1wiLGAgKiN7MSw2fSAqW15cbl1gKS5yZXBsYWNlKFwibGhlYWRpbmdcIixzZSkucmVwbGFjZShcInx0YWJsZVwiLFwiXCIpLnJlcGxhY2UoXCJibG9ja3F1b3RlXCIsXCIgezAsM30+XCIpLnJlcGxhY2UoXCJ8ZmVuY2VzXCIsXCJcIikucmVwbGFjZShcInxsaXN0XCIsXCJcIikucmVwbGFjZShcInxodG1sXCIsXCJcIikucmVwbGFjZShcInx0YWdcIixcIlwiKS5nZXRSZWdleCgpfSxNZT0vXlxcXFwoWyFcIiMkJSYnKCkqKyxcXC0uLzo7PD0+P0BcXFtcXF1cXFxcXl9ge3x9fl0pLyx6ZT0vXihgKykoW15gXXxbXmBdW1xcc1xcU10qP1teYF0pXFwxKD8hYCkvLG9lPS9eKCB7Mix9fFxcXFwpXFxuKD8hXFxzKiQpLyxBZT0vXihgK3xbXmBdKSg/Oig/PSB7Mix9XFxuKXxbXFxzXFxTXSo/KD86KD89W1xcXFw8IVxcW2AqX118XFxiX3wkKXxbXiBdKD89IHsyLH1cXG4pKSkvLEQ9L1tcXHB7UH1cXHB7U31dL3UsSz0vW1xcc1xccHtQfVxccHtTfV0vdSxhZT0vW15cXHNcXHB7UH1cXHB7U31dL3UsQ2U9aygvXigoPyFbKl9dKXB1bmN0U3BhY2UpLyxcInVcIikucmVwbGFjZSgvcHVuY3RTcGFjZS9nLEspLmdldFJlZ2V4KCksbGU9Lyg/IX4pW1xccHtQfVxccHtTfV0vdSxJZT0vKD8hfilbXFxzXFxwe1B9XFxwe1N9XS91LEVlPS8oPzpbXlxcc1xccHtQfVxccHtTfV18fikvdSxCZT1rKC9saW5rfHByZWNvZGUtY29kZXxodG1sLyxcImdcIikucmVwbGFjZShcImxpbmtcIiwvXFxbKD86W15cXFtcXF1gXXwoPzxhPmArKVteYF0rXFxrPGE+KD8hYCkpKj9cXF1cXCgoPzpcXFxcW1xcc1xcU118W15cXFxcXFwoXFwpXXxcXCgoPzpcXFxcW1xcc1xcU118W15cXFxcXFwoXFwpXSkqXFwpKSpcXCkvKS5yZXBsYWNlKFwicHJlY29kZS1cIixtZT9cIig/PCFgKSgpXCI6XCIoXl58W15gXSlcIikucmVwbGFjZShcImNvZGVcIiwvKD88Yj5gKylbXmBdK1xcazxiPig/IWApLykucmVwbGFjZShcImh0bWxcIiwvPCg/ISApW148Pl0qPz4vKS5nZXRSZWdleCgpLHVlPS9eKD86XFwqKyg/OigoPyFcXCopcHVuY3QpfFteXFxzKl0pKXxeXysoPzooKD8hXylwdW5jdCl8KFteXFxzX10pKS8scWU9ayh1ZSxcInVcIikucmVwbGFjZSgvcHVuY3QvZyxEKS5nZXRSZWdleCgpLHZlPWsodWUsXCJ1XCIpLnJlcGxhY2UoL3B1bmN0L2csbGUpLmdldFJlZ2V4KCkscGU9XCJeW15fKl0qP19fW15fKl0qP1xcXFwqW15fKl0qPyg/PV9fKXxbXipdKyg/PVteKl0pfCg/IVxcXFwqKXB1bmN0KFxcXFwqKykoPz1bXFxcXHNdfCQpfG5vdFB1bmN0U3BhY2UoXFxcXCorKSg/IVxcXFwqKSg/PXB1bmN0U3BhY2V8JCl8KD8hXFxcXCopcHVuY3RTcGFjZShcXFxcKispKD89bm90UHVuY3RTcGFjZSl8W1xcXFxzXShcXFxcKispKD8hXFxcXCopKD89cHVuY3QpfCg/IVxcXFwqKXB1bmN0KFxcXFwqKykoPyFcXFxcKikoPz1wdW5jdCl8bm90UHVuY3RTcGFjZShcXFxcKispKD89bm90UHVuY3RTcGFjZSlcIixEZT1rKHBlLFwiZ3VcIikucmVwbGFjZSgvbm90UHVuY3RTcGFjZS9nLGFlKS5yZXBsYWNlKC9wdW5jdFNwYWNlL2csSykucmVwbGFjZSgvcHVuY3QvZyxEKS5nZXRSZWdleCgpLEhlPWsocGUsXCJndVwiKS5yZXBsYWNlKC9ub3RQdW5jdFNwYWNlL2csRWUpLnJlcGxhY2UoL3B1bmN0U3BhY2UvZyxJZSkucmVwbGFjZSgvcHVuY3QvZyxsZSkuZ2V0UmVnZXgoKSxaZT1rKFwiXlteXypdKj9cXFxcKlxcXFwqW15fKl0qP19bXl8qXSo/KD89XFxcXCpcXFxcKil8W15fXSsoPz1bXl9dKXwoPyFfKXB1bmN0KF8rKSg/PVtcXFxcc118JCl8bm90UHVuY3RTcGFjZShfKykoPyFfKSg/PXB1bmN0U3BhY2V8JCl8KD8hXylwdW5jdFNwYWNlKF8rKSg/PW5vdFB1bmN0U3BhY2UpfFtcXFxcc10oXyspKD8hXykoPz1wdW5jdCl8KD8hXylwdW5jdChfKykoPyFfKSg/PXB1bmN0KVwiLFwiZ3VcIikucmVwbGFjZSgvbm90UHVuY3RTcGFjZS9nLGFlKS5yZXBsYWNlKC9wdW5jdFNwYWNlL2csSykucmVwbGFjZSgvcHVuY3QvZyxEKS5nZXRSZWdleCgpLEdlPWsoL1xcXFwocHVuY3QpLyxcImd1XCIpLnJlcGxhY2UoL3B1bmN0L2csRCkuZ2V0UmVnZXgoKSxOZT1rKC9ePChzY2hlbWU6W15cXHNcXHgwMC1cXHgxZjw+XSp8ZW1haWwpPi8pLnJlcGxhY2UoXCJzY2hlbWVcIiwvW2EtekEtWl1bYS16QS1aMC05Ky4tXXsxLDMxfS8pLnJlcGxhY2UoXCJlbWFpbFwiLC9bYS16QS1aMC05LiEjJCUmJyorLz0/Xl9ge3x9fi1dKyhAKVthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykrKD8hWy1fXSkvKS5nZXRSZWdleCgpLFFlPWsoaikucmVwbGFjZShcIig/Oi0tPnwkKVwiLFwiLS0+XCIpLmdldFJlZ2V4KCksRmU9ayhcIl5jb21tZW50fF48L1thLXpBLVpdW1xcXFx3Oi1dKlxcXFxzKj58XjxbYS16QS1aXVtcXFxcdy1dKig/OmF0dHJpYnV0ZSkqP1xcXFxzKi8/PnxePFxcXFw/W1xcXFxzXFxcXFNdKj9cXFxcPz58XjwhW2EtekEtWl0rXFxcXHNbXFxcXHNcXFxcU10qPz58XjwhXFxcXFtDREFUQVxcXFxbW1xcXFxzXFxcXFNdKj9cXFxcXVxcXFxdPlwiKS5yZXBsYWNlKFwiY29tbWVudFwiLFFlKS5yZXBsYWNlKFwiYXR0cmlidXRlXCIsL1xccytbYS16QS1aOl9dW1xcdy46LV0qKD86XFxzKj1cXHMqXCJbXlwiXSpcInxcXHMqPVxccyonW14nXSonfFxccyo9XFxzKlteXFxzXCInPTw+YF0rKT8vKS5nZXRSZWdleCgpLHE9Lyg/OlxcWyg/OlxcXFxbXFxzXFxTXXxbXlxcW1xcXVxcXFxdKSpcXF18XFxcXFtcXHNcXFNdfGArW15gXSo/YCsoPyFgKXxbXlxcW1xcXVxcXFxgXSkqPy8samU9aygvXiE/XFxbKGxhYmVsKVxcXVxcKFxccyooaHJlZikoPzooPzpbIFxcdF0qKD86XFxuWyBcXHRdKik/KSh0aXRsZSkpP1xccypcXCkvKS5yZXBsYWNlKFwibGFiZWxcIixxKS5yZXBsYWNlKFwiaHJlZlwiLC88KD86XFxcXC58W15cXG48PlxcXFxdKSs+fFteIFxcdFxcblxceDAwLVxceDFmXSovKS5yZXBsYWNlKFwidGl0bGVcIiwvXCIoPzpcXFxcXCI/fFteXCJcXFxcXSkqXCJ8Jyg/OlxcXFwnP3xbXidcXFxcXSkqJ3xcXCgoPzpcXFxcXFwpP3xbXilcXFxcXSkqXFwpLykuZ2V0UmVnZXgoKSxjZT1rKC9eIT9cXFsobGFiZWwpXFxdXFxbKHJlZilcXF0vKS5yZXBsYWNlKFwibGFiZWxcIixxKS5yZXBsYWNlKFwicmVmXCIsRikuZ2V0UmVnZXgoKSxoZT1rKC9eIT9cXFsocmVmKVxcXSg/OlxcW1xcXSk/LykucmVwbGFjZShcInJlZlwiLEYpLmdldFJlZ2V4KCksVWU9ayhcInJlZmxpbmt8bm9saW5rKD8hXFxcXCgpXCIsXCJnXCIpLnJlcGxhY2UoXCJyZWZsaW5rXCIsY2UpLnJlcGxhY2UoXCJub2xpbmtcIixoZSkuZ2V0UmVnZXgoKSxuZT0vW2hIXVt0VF1bdFRdW3BQXVtzU10/fFtmRl1bdFRdW3BQXS8sVz17X2JhY2twZWRhbDpDLGFueVB1bmN0dWF0aW9uOkdlLGF1dG9saW5rOk5lLGJsb2NrU2tpcDpCZSxicjpvZSxjb2RlOnplLGRlbDpDLGVtU3Ryb25nTERlbGltOnFlLGVtU3Ryb25nUkRlbGltQXN0OkRlLGVtU3Ryb25nUkRlbGltVW5kOlplLGVzY2FwZTpNZSxsaW5rOmplLG5vbGluazpoZSxwdW5jdHVhdGlvbjpDZSxyZWZsaW5rOmNlLHJlZmxpbmtTZWFyY2g6VWUsdGFnOkZlLHRleHQ6QWUsdXJsOkN9LEtlPXsuLi5XLGxpbms6aygvXiE/XFxbKGxhYmVsKVxcXVxcKCguKj8pXFwpLykucmVwbGFjZShcImxhYmVsXCIscSkuZ2V0UmVnZXgoKSxyZWZsaW5rOmsoL14hP1xcWyhsYWJlbClcXF1cXHMqXFxbKFteXFxdXSopXFxdLykucmVwbGFjZShcImxhYmVsXCIscSkuZ2V0UmVnZXgoKX0sRz17Li4uVyxlbVN0cm9uZ1JEZWxpbUFzdDpIZSxlbVN0cm9uZ0xEZWxpbTp2ZSx1cmw6aygvXigoPzpwcm90b2NvbCk6XFwvXFwvfHd3d1xcLikoPzpbYS16QS1aMC05XFwtXStcXC4/KStbXlxcczxdKnxeZW1haWwvKS5yZXBsYWNlKFwicHJvdG9jb2xcIixuZSkucmVwbGFjZShcImVtYWlsXCIsL1tBLVphLXowLTkuXystXSsoQClbYS16QS1aMC05LV9dKyg/OlxcLlthLXpBLVowLTktX10qW2EtekEtWjAtOV0pKyg/IVstX10pLykuZ2V0UmVnZXgoKSxfYmFja3BlZGFsOi8oPzpbXj8hLiw6OypfJ1wifigpJl0rfFxcKFteKV0qXFwpfCYoPyFbYS16QS1aMC05XSs7JCl8Wz8hLiw6OypfJ1wifildKyg/ISQpKSsvLGRlbDovXih+fj8pKD89W15cXHN+XSkoKD86XFxcXFtcXHNcXFNdfFteXFxcXF0pKj8oPzpcXFxcW1xcc1xcU118W15cXHN+XFxcXF0pKVxcMSg/PVtefl18JCkvLHRleHQ6aygvXihbYH5dK3xbXmB+XSkoPzooPz0gezIsfVxcbil8KD89W2EtekEtWjAtOS4hIyQlJicqK1xcLz0/X2B7XFx8fX4tXStAKXxbXFxzXFxTXSo/KD86KD89W1xcXFw8IVxcW2Aqfl9dfFxcYl98cHJvdG9jb2w6XFwvXFwvfHd3d1xcLnwkKXxbXiBdKD89IHsyLH1cXG4pfFteYS16QS1aMC05LiEjJCUmJyorXFwvPT9fYHtcXHx9fi1dKD89W2EtekEtWjAtOS4hIyQlJicqK1xcLz0/X2B7XFx8fX4tXStAKSkpLykucmVwbGFjZShcInByb3RvY29sXCIsbmUpLmdldFJlZ2V4KCl9LFdlPXsuLi5HLGJyOmsob2UpLnJlcGxhY2UoXCJ7Mix9XCIsXCIqXCIpLmdldFJlZ2V4KCksdGV4dDprKEcudGV4dCkucmVwbGFjZShcIlxcXFxiX1wiLFwiXFxcXGJffCB7Mix9XFxcXG5cIikucmVwbGFjZSgvXFx7MixcXH0vZyxcIipcIikuZ2V0UmVnZXgoKX0sRT17bm9ybWFsOlUsZ2ZtOl9lLHBlZGFudGljOkxlfSxNPXtub3JtYWw6VyxnZm06RyxicmVha3M6V2UscGVkYW50aWM6S2V9O3ZhciBYZT17XCImXCI6XCImYW1wO1wiLFwiPFwiOlwiJmx0O1wiLFwiPlwiOlwiJmd0O1wiLCdcIic6XCImcXVvdDtcIixcIidcIjpcIiYjMzk7XCJ9LGtlPXU9PlhlW3VdO2Z1bmN0aW9uIHcodSxlKXtpZihlKXtpZihtLmVzY2FwZVRlc3QudGVzdCh1KSlyZXR1cm4gdS5yZXBsYWNlKG0uZXNjYXBlUmVwbGFjZSxrZSl9ZWxzZSBpZihtLmVzY2FwZVRlc3ROb0VuY29kZS50ZXN0KHUpKXJldHVybiB1LnJlcGxhY2UobS5lc2NhcGVSZXBsYWNlTm9FbmNvZGUsa2UpO3JldHVybiB1fWZ1bmN0aW9uIFgodSl7dHJ5e3U9ZW5jb2RlVVJJKHUpLnJlcGxhY2UobS5wZXJjZW50RGVjb2RlLFwiJVwiKX1jYXRjaHtyZXR1cm4gbnVsbH1yZXR1cm4gdX1mdW5jdGlvbiBKKHUsZSl7bGV0IHQ9dS5yZXBsYWNlKG0uZmluZFBpcGUsKGkscyxhKT0+e2xldCBvPSExLGw9cztmb3IoOy0tbD49MCYmYVtsXT09PVwiXFxcXFwiOylvPSFvO3JldHVybiBvP1wifFwiOlwiIHxcIn0pLG49dC5zcGxpdChtLnNwbGl0UGlwZSkscj0wO2lmKG5bMF0udHJpbSgpfHxuLnNoaWZ0KCksbi5sZW5ndGg+MCYmIW4uYXQoLTEpPy50cmltKCkmJm4ucG9wKCksZSlpZihuLmxlbmd0aD5lKW4uc3BsaWNlKGUpO2Vsc2UgZm9yKDtuLmxlbmd0aDxlOyluLnB1c2goXCJcIik7Zm9yKDtyPG4ubGVuZ3RoO3IrKyluW3JdPW5bcl0udHJpbSgpLnJlcGxhY2UobS5zbGFzaFBpcGUsXCJ8XCIpO3JldHVybiBufWZ1bmN0aW9uIHoodSxlLHQpe2xldCBuPXUubGVuZ3RoO2lmKG49PT0wKXJldHVyblwiXCI7bGV0IHI9MDtmb3IoO3I8bjspe2xldCBpPXUuY2hhckF0KG4tci0xKTtpZihpPT09ZSYmIXQpcisrO2Vsc2UgaWYoaSE9PWUmJnQpcisrO2Vsc2UgYnJlYWt9cmV0dXJuIHUuc2xpY2UoMCxuLXIpfWZ1bmN0aW9uIGRlKHUsZSl7aWYodS5pbmRleE9mKGVbMV0pPT09LTEpcmV0dXJuLTE7bGV0IHQ9MDtmb3IobGV0IG49MDtuPHUubGVuZ3RoO24rKylpZih1W25dPT09XCJcXFxcXCIpbisrO2Vsc2UgaWYodVtuXT09PWVbMF0pdCsrO2Vsc2UgaWYodVtuXT09PWVbMV0mJih0LS0sdDwwKSlyZXR1cm4gbjtyZXR1cm4gdD4wPy0yOi0xfWZ1bmN0aW9uIGdlKHUsZSx0LG4scil7bGV0IGk9ZS5ocmVmLHM9ZS50aXRsZXx8bnVsbCxhPXVbMV0ucmVwbGFjZShyLm90aGVyLm91dHB1dExpbmtSZXBsYWNlLFwiJDFcIik7bi5zdGF0ZS5pbkxpbms9ITA7bGV0IG89e3R5cGU6dVswXS5jaGFyQXQoMCk9PT1cIiFcIj9cImltYWdlXCI6XCJsaW5rXCIscmF3OnQsaHJlZjppLHRpdGxlOnMsdGV4dDphLHRva2VuczpuLmlubGluZVRva2VucyhhKX07cmV0dXJuIG4uc3RhdGUuaW5MaW5rPSExLG99ZnVuY3Rpb24gSmUodSxlLHQpe2xldCBuPXUubWF0Y2godC5vdGhlci5pbmRlbnRDb2RlQ29tcGVuc2F0aW9uKTtpZihuPT09bnVsbClyZXR1cm4gZTtsZXQgcj1uWzFdO3JldHVybiBlLnNwbGl0KGBcbmApLm1hcChpPT57bGV0IHM9aS5tYXRjaCh0Lm90aGVyLmJlZ2lubmluZ1NwYWNlKTtpZihzPT09bnVsbClyZXR1cm4gaTtsZXRbYV09cztyZXR1cm4gYS5sZW5ndGg+PXIubGVuZ3RoP2kuc2xpY2Uoci5sZW5ndGgpOml9KS5qb2luKGBcbmApfXZhciB5PWNsYXNze29wdGlvbnM7cnVsZXM7bGV4ZXI7Y29uc3RydWN0b3IoZSl7dGhpcy5vcHRpb25zPWV8fFR9c3BhY2UoZSl7bGV0IHQ9dGhpcy5ydWxlcy5ibG9jay5uZXdsaW5lLmV4ZWMoZSk7aWYodCYmdFswXS5sZW5ndGg+MClyZXR1cm57dHlwZTpcInNwYWNlXCIscmF3OnRbMF19fWNvZGUoZSl7bGV0IHQ9dGhpcy5ydWxlcy5ibG9jay5jb2RlLmV4ZWMoZSk7aWYodCl7bGV0IG49dFswXS5yZXBsYWNlKHRoaXMucnVsZXMub3RoZXIuY29kZVJlbW92ZUluZGVudCxcIlwiKTtyZXR1cm57dHlwZTpcImNvZGVcIixyYXc6dFswXSxjb2RlQmxvY2tTdHlsZTpcImluZGVudGVkXCIsdGV4dDp0aGlzLm9wdGlvbnMucGVkYW50aWM/bjp6KG4sYFxuYCl9fX1mZW5jZXMoZSl7bGV0IHQ9dGhpcy5ydWxlcy5ibG9jay5mZW5jZXMuZXhlYyhlKTtpZih0KXtsZXQgbj10WzBdLHI9SmUobix0WzNdfHxcIlwiLHRoaXMucnVsZXMpO3JldHVybnt0eXBlOlwiY29kZVwiLHJhdzpuLGxhbmc6dFsyXT90WzJdLnRyaW0oKS5yZXBsYWNlKHRoaXMucnVsZXMuaW5saW5lLmFueVB1bmN0dWF0aW9uLFwiJDFcIik6dFsyXSx0ZXh0OnJ9fX1oZWFkaW5nKGUpe2xldCB0PXRoaXMucnVsZXMuYmxvY2suaGVhZGluZy5leGVjKGUpO2lmKHQpe2xldCBuPXRbMl0udHJpbSgpO2lmKHRoaXMucnVsZXMub3RoZXIuZW5kaW5nSGFzaC50ZXN0KG4pKXtsZXQgcj16KG4sXCIjXCIpOyh0aGlzLm9wdGlvbnMucGVkYW50aWN8fCFyfHx0aGlzLnJ1bGVzLm90aGVyLmVuZGluZ1NwYWNlQ2hhci50ZXN0KHIpKSYmKG49ci50cmltKCkpfXJldHVybnt0eXBlOlwiaGVhZGluZ1wiLHJhdzp0WzBdLGRlcHRoOnRbMV0ubGVuZ3RoLHRleHQ6bix0b2tlbnM6dGhpcy5sZXhlci5pbmxpbmUobil9fX1ocihlKXtsZXQgdD10aGlzLnJ1bGVzLmJsb2NrLmhyLmV4ZWMoZSk7aWYodClyZXR1cm57dHlwZTpcImhyXCIscmF3OnoodFswXSxgXG5gKX19YmxvY2txdW90ZShlKXtsZXQgdD10aGlzLnJ1bGVzLmJsb2NrLmJsb2NrcXVvdGUuZXhlYyhlKTtpZih0KXtsZXQgbj16KHRbMF0sYFxuYCkuc3BsaXQoYFxuYCkscj1cIlwiLGk9XCJcIixzPVtdO2Zvcig7bi5sZW5ndGg+MDspe2xldCBhPSExLG89W10sbDtmb3IobD0wO2w8bi5sZW5ndGg7bCsrKWlmKHRoaXMucnVsZXMub3RoZXIuYmxvY2txdW90ZVN0YXJ0LnRlc3QobltsXSkpby5wdXNoKG5bbF0pLGE9ITA7ZWxzZSBpZighYSlvLnB1c2gobltsXSk7ZWxzZSBicmVhaztuPW4uc2xpY2UobCk7bGV0IHA9by5qb2luKGBcbmApLGM9cC5yZXBsYWNlKHRoaXMucnVsZXMub3RoZXIuYmxvY2txdW90ZVNldGV4dFJlcGxhY2UsYFxuICAgICQxYCkucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLmJsb2NrcXVvdGVTZXRleHRSZXBsYWNlMixcIlwiKTtyPXI/YCR7cn1cbiR7cH1gOnAsaT1pP2Ake2l9XG4ke2N9YDpjO2xldCBnPXRoaXMubGV4ZXIuc3RhdGUudG9wO2lmKHRoaXMubGV4ZXIuc3RhdGUudG9wPSEwLHRoaXMubGV4ZXIuYmxvY2tUb2tlbnMoYyxzLCEwKSx0aGlzLmxleGVyLnN0YXRlLnRvcD1nLG4ubGVuZ3RoPT09MClicmVhaztsZXQgaD1zLmF0KC0xKTtpZihoPy50eXBlPT09XCJjb2RlXCIpYnJlYWs7aWYoaD8udHlwZT09PVwiYmxvY2txdW90ZVwiKXtsZXQgUj1oLGY9Ui5yYXcrYFxuYCtuLmpvaW4oYFxuYCksTz10aGlzLmJsb2NrcXVvdGUoZik7c1tzLmxlbmd0aC0xXT1PLHI9ci5zdWJzdHJpbmcoMCxyLmxlbmd0aC1SLnJhdy5sZW5ndGgpK08ucmF3LGk9aS5zdWJzdHJpbmcoMCxpLmxlbmd0aC1SLnRleHQubGVuZ3RoKStPLnRleHQ7YnJlYWt9ZWxzZSBpZihoPy50eXBlPT09XCJsaXN0XCIpe2xldCBSPWgsZj1SLnJhdytgXG5gK24uam9pbihgXG5gKSxPPXRoaXMubGlzdChmKTtzW3MubGVuZ3RoLTFdPU8scj1yLnN1YnN0cmluZygwLHIubGVuZ3RoLWgucmF3Lmxlbmd0aCkrTy5yYXcsaT1pLnN1YnN0cmluZygwLGkubGVuZ3RoLVIucmF3Lmxlbmd0aCkrTy5yYXcsbj1mLnN1YnN0cmluZyhzLmF0KC0xKS5yYXcubGVuZ3RoKS5zcGxpdChgXG5gKTtjb250aW51ZX19cmV0dXJue3R5cGU6XCJibG9ja3F1b3RlXCIscmF3OnIsdG9rZW5zOnMsdGV4dDppfX19bGlzdChlKXtsZXQgdD10aGlzLnJ1bGVzLmJsb2NrLmxpc3QuZXhlYyhlKTtpZih0KXtsZXQgbj10WzFdLnRyaW0oKSxyPW4ubGVuZ3RoPjEsaT17dHlwZTpcImxpc3RcIixyYXc6XCJcIixvcmRlcmVkOnIsc3RhcnQ6cj8rbi5zbGljZSgwLC0xKTpcIlwiLGxvb3NlOiExLGl0ZW1zOltdfTtuPXI/YFxcXFxkezEsOX1cXFxcJHtuLnNsaWNlKC0xKX1gOmBcXFxcJHtufWAsdGhpcy5vcHRpb25zLnBlZGFudGljJiYobj1yP246XCJbKistXVwiKTtsZXQgcz10aGlzLnJ1bGVzLm90aGVyLmxpc3RJdGVtUmVnZXgobiksYT0hMTtmb3IoO2U7KXtsZXQgbD0hMSxwPVwiXCIsYz1cIlwiO2lmKCEodD1zLmV4ZWMoZSkpfHx0aGlzLnJ1bGVzLmJsb2NrLmhyLnRlc3QoZSkpYnJlYWs7cD10WzBdLGU9ZS5zdWJzdHJpbmcocC5sZW5ndGgpO2xldCBnPXRbMl0uc3BsaXQoYFxuYCwxKVswXS5yZXBsYWNlKHRoaXMucnVsZXMub3RoZXIubGlzdFJlcGxhY2VUYWJzLE89PlwiIFwiLnJlcGVhdCgzKk8ubGVuZ3RoKSksaD1lLnNwbGl0KGBcbmAsMSlbMF0sUj0hZy50cmltKCksZj0wO2lmKHRoaXMub3B0aW9ucy5wZWRhbnRpYz8oZj0yLGM9Zy50cmltU3RhcnQoKSk6Uj9mPXRbMV0ubGVuZ3RoKzE6KGY9dFsyXS5zZWFyY2godGhpcy5ydWxlcy5vdGhlci5ub25TcGFjZUNoYXIpLGY9Zj40PzE6ZixjPWcuc2xpY2UoZiksZis9dFsxXS5sZW5ndGgpLFImJnRoaXMucnVsZXMub3RoZXIuYmxhbmtMaW5lLnRlc3QoaCkmJihwKz1oK2BcbmAsZT1lLnN1YnN0cmluZyhoLmxlbmd0aCsxKSxsPSEwKSwhbCl7bGV0IE89dGhpcy5ydWxlcy5vdGhlci5uZXh0QnVsbGV0UmVnZXgoZiksVj10aGlzLnJ1bGVzLm90aGVyLmhyUmVnZXgoZiksWT10aGlzLnJ1bGVzLm90aGVyLmZlbmNlc0JlZ2luUmVnZXgoZiksZWU9dGhpcy5ydWxlcy5vdGhlci5oZWFkaW5nQmVnaW5SZWdleChmKSxmZT10aGlzLnJ1bGVzLm90aGVyLmh0bWxCZWdpblJlZ2V4KGYpO2Zvcig7ZTspe2xldCBIPWUuc3BsaXQoYFxuYCwxKVswXSxBO2lmKGg9SCx0aGlzLm9wdGlvbnMucGVkYW50aWM/KGg9aC5yZXBsYWNlKHRoaXMucnVsZXMub3RoZXIubGlzdFJlcGxhY2VOZXN0aW5nLFwiICBcIiksQT1oKTpBPWgucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLnRhYkNoYXJHbG9iYWwsXCIgICAgXCIpLFkudGVzdChoKXx8ZWUudGVzdChoKXx8ZmUudGVzdChoKXx8Ty50ZXN0KGgpfHxWLnRlc3QoaCkpYnJlYWs7aWYoQS5zZWFyY2godGhpcy5ydWxlcy5vdGhlci5ub25TcGFjZUNoYXIpPj1mfHwhaC50cmltKCkpYys9YFxuYCtBLnNsaWNlKGYpO2Vsc2V7aWYoUnx8Zy5yZXBsYWNlKHRoaXMucnVsZXMub3RoZXIudGFiQ2hhckdsb2JhbCxcIiAgICBcIikuc2VhcmNoKHRoaXMucnVsZXMub3RoZXIubm9uU3BhY2VDaGFyKT49NHx8WS50ZXN0KGcpfHxlZS50ZXN0KGcpfHxWLnRlc3QoZykpYnJlYWs7Yys9YFxuYCtofSFSJiYhaC50cmltKCkmJihSPSEwKSxwKz1IK2BcbmAsZT1lLnN1YnN0cmluZyhILmxlbmd0aCsxKSxnPUEuc2xpY2UoZil9fWkubG9vc2V8fChhP2kubG9vc2U9ITA6dGhpcy5ydWxlcy5vdGhlci5kb3VibGVCbGFua0xpbmUudGVzdChwKSYmKGE9ITApKSxpLml0ZW1zLnB1c2goe3R5cGU6XCJsaXN0X2l0ZW1cIixyYXc6cCx0YXNrOiEhdGhpcy5vcHRpb25zLmdmbSYmdGhpcy5ydWxlcy5vdGhlci5saXN0SXNUYXNrLnRlc3QoYyksbG9vc2U6ITEsdGV4dDpjLHRva2VuczpbXX0pLGkucmF3Kz1wfWxldCBvPWkuaXRlbXMuYXQoLTEpO2lmKG8pby5yYXc9by5yYXcudHJpbUVuZCgpLG8udGV4dD1vLnRleHQudHJpbUVuZCgpO2Vsc2UgcmV0dXJuO2kucmF3PWkucmF3LnRyaW1FbmQoKTtmb3IobGV0IGwgb2YgaS5pdGVtcyl7aWYodGhpcy5sZXhlci5zdGF0ZS50b3A9ITEsbC50b2tlbnM9dGhpcy5sZXhlci5ibG9ja1Rva2VucyhsLnRleHQsW10pLGwudGFzayl7aWYobC50ZXh0PWwudGV4dC5yZXBsYWNlKHRoaXMucnVsZXMub3RoZXIubGlzdFJlcGxhY2VUYXNrLFwiXCIpLGwudG9rZW5zWzBdPy50eXBlPT09XCJ0ZXh0XCJ8fGwudG9rZW5zWzBdPy50eXBlPT09XCJwYXJhZ3JhcGhcIil7bC50b2tlbnNbMF0ucmF3PWwudG9rZW5zWzBdLnJhdy5yZXBsYWNlKHRoaXMucnVsZXMub3RoZXIubGlzdFJlcGxhY2VUYXNrLFwiXCIpLGwudG9rZW5zWzBdLnRleHQ9bC50b2tlbnNbMF0udGV4dC5yZXBsYWNlKHRoaXMucnVsZXMub3RoZXIubGlzdFJlcGxhY2VUYXNrLFwiXCIpO2ZvcihsZXQgYz10aGlzLmxleGVyLmlubGluZVF1ZXVlLmxlbmd0aC0xO2M+PTA7Yy0tKWlmKHRoaXMucnVsZXMub3RoZXIubGlzdElzVGFzay50ZXN0KHRoaXMubGV4ZXIuaW5saW5lUXVldWVbY10uc3JjKSl7dGhpcy5sZXhlci5pbmxpbmVRdWV1ZVtjXS5zcmM9dGhpcy5sZXhlci5pbmxpbmVRdWV1ZVtjXS5zcmMucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLmxpc3RSZXBsYWNlVGFzayxcIlwiKTticmVha319bGV0IHA9dGhpcy5ydWxlcy5vdGhlci5saXN0VGFza0NoZWNrYm94LmV4ZWMobC5yYXcpO2lmKHApe2xldCBjPXt0eXBlOlwiY2hlY2tib3hcIixyYXc6cFswXStcIiBcIixjaGVja2VkOnBbMF0hPT1cIlsgXVwifTtsLmNoZWNrZWQ9Yy5jaGVja2VkLGkubG9vc2U/bC50b2tlbnNbMF0mJltcInBhcmFncmFwaFwiLFwidGV4dFwiXS5pbmNsdWRlcyhsLnRva2Vuc1swXS50eXBlKSYmXCJ0b2tlbnNcImluIGwudG9rZW5zWzBdJiZsLnRva2Vuc1swXS50b2tlbnM/KGwudG9rZW5zWzBdLnJhdz1jLnJhdytsLnRva2Vuc1swXS5yYXcsbC50b2tlbnNbMF0udGV4dD1jLnJhdytsLnRva2Vuc1swXS50ZXh0LGwudG9rZW5zWzBdLnRva2Vucy51bnNoaWZ0KGMpKTpsLnRva2Vucy51bnNoaWZ0KHt0eXBlOlwicGFyYWdyYXBoXCIscmF3OmMucmF3LHRleHQ6Yy5yYXcsdG9rZW5zOltjXX0pOmwudG9rZW5zLnVuc2hpZnQoYyl9fWlmKCFpLmxvb3NlKXtsZXQgcD1sLnRva2Vucy5maWx0ZXIoZz0+Zy50eXBlPT09XCJzcGFjZVwiKSxjPXAubGVuZ3RoPjAmJnAuc29tZShnPT50aGlzLnJ1bGVzLm90aGVyLmFueUxpbmUudGVzdChnLnJhdykpO2kubG9vc2U9Y319aWYoaS5sb29zZSlmb3IobGV0IGwgb2YgaS5pdGVtcyl7bC5sb29zZT0hMDtmb3IobGV0IHAgb2YgbC50b2tlbnMpcC50eXBlPT09XCJ0ZXh0XCImJihwLnR5cGU9XCJwYXJhZ3JhcGhcIil9cmV0dXJuIGl9fWh0bWwoZSl7bGV0IHQ9dGhpcy5ydWxlcy5ibG9jay5odG1sLmV4ZWMoZSk7aWYodClyZXR1cm57dHlwZTpcImh0bWxcIixibG9jazohMCxyYXc6dFswXSxwcmU6dFsxXT09PVwicHJlXCJ8fHRbMV09PT1cInNjcmlwdFwifHx0WzFdPT09XCJzdHlsZVwiLHRleHQ6dFswXX19ZGVmKGUpe2xldCB0PXRoaXMucnVsZXMuYmxvY2suZGVmLmV4ZWMoZSk7aWYodCl7bGV0IG49dFsxXS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UodGhpcy5ydWxlcy5vdGhlci5tdWx0aXBsZVNwYWNlR2xvYmFsLFwiIFwiKSxyPXRbMl0/dFsyXS5yZXBsYWNlKHRoaXMucnVsZXMub3RoZXIuaHJlZkJyYWNrZXRzLFwiJDFcIikucmVwbGFjZSh0aGlzLnJ1bGVzLmlubGluZS5hbnlQdW5jdHVhdGlvbixcIiQxXCIpOlwiXCIsaT10WzNdP3RbM10uc3Vic3RyaW5nKDEsdFszXS5sZW5ndGgtMSkucmVwbGFjZSh0aGlzLnJ1bGVzLmlubGluZS5hbnlQdW5jdHVhdGlvbixcIiQxXCIpOnRbM107cmV0dXJue3R5cGU6XCJkZWZcIix0YWc6bixyYXc6dFswXSxocmVmOnIsdGl0bGU6aX19fXRhYmxlKGUpe2xldCB0PXRoaXMucnVsZXMuYmxvY2sudGFibGUuZXhlYyhlKTtpZighdHx8IXRoaXMucnVsZXMub3RoZXIudGFibGVEZWxpbWl0ZXIudGVzdCh0WzJdKSlyZXR1cm47bGV0IG49Sih0WzFdKSxyPXRbMl0ucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLnRhYmxlQWxpZ25DaGFycyxcIlwiKS5zcGxpdChcInxcIiksaT10WzNdPy50cmltKCk/dFszXS5yZXBsYWNlKHRoaXMucnVsZXMub3RoZXIudGFibGVSb3dCbGFua0xpbmUsXCJcIikuc3BsaXQoYFxuYCk6W10scz17dHlwZTpcInRhYmxlXCIscmF3OnRbMF0saGVhZGVyOltdLGFsaWduOltdLHJvd3M6W119O2lmKG4ubGVuZ3RoPT09ci5sZW5ndGgpe2ZvcihsZXQgYSBvZiByKXRoaXMucnVsZXMub3RoZXIudGFibGVBbGlnblJpZ2h0LnRlc3QoYSk/cy5hbGlnbi5wdXNoKFwicmlnaHRcIik6dGhpcy5ydWxlcy5vdGhlci50YWJsZUFsaWduQ2VudGVyLnRlc3QoYSk/cy5hbGlnbi5wdXNoKFwiY2VudGVyXCIpOnRoaXMucnVsZXMub3RoZXIudGFibGVBbGlnbkxlZnQudGVzdChhKT9zLmFsaWduLnB1c2goXCJsZWZ0XCIpOnMuYWxpZ24ucHVzaChudWxsKTtmb3IobGV0IGE9MDthPG4ubGVuZ3RoO2ErKylzLmhlYWRlci5wdXNoKHt0ZXh0Om5bYV0sdG9rZW5zOnRoaXMubGV4ZXIuaW5saW5lKG5bYV0pLGhlYWRlcjohMCxhbGlnbjpzLmFsaWduW2FdfSk7Zm9yKGxldCBhIG9mIGkpcy5yb3dzLnB1c2goSihhLHMuaGVhZGVyLmxlbmd0aCkubWFwKChvLGwpPT4oe3RleHQ6byx0b2tlbnM6dGhpcy5sZXhlci5pbmxpbmUobyksaGVhZGVyOiExLGFsaWduOnMuYWxpZ25bbF19KSkpO3JldHVybiBzfX1saGVhZGluZyhlKXtsZXQgdD10aGlzLnJ1bGVzLmJsb2NrLmxoZWFkaW5nLmV4ZWMoZSk7aWYodClyZXR1cm57dHlwZTpcImhlYWRpbmdcIixyYXc6dFswXSxkZXB0aDp0WzJdLmNoYXJBdCgwKT09PVwiPVwiPzE6Mix0ZXh0OnRbMV0sdG9rZW5zOnRoaXMubGV4ZXIuaW5saW5lKHRbMV0pfX1wYXJhZ3JhcGgoZSl7bGV0IHQ9dGhpcy5ydWxlcy5ibG9jay5wYXJhZ3JhcGguZXhlYyhlKTtpZih0KXtsZXQgbj10WzFdLmNoYXJBdCh0WzFdLmxlbmd0aC0xKT09PWBcbmA/dFsxXS5zbGljZSgwLC0xKTp0WzFdO3JldHVybnt0eXBlOlwicGFyYWdyYXBoXCIscmF3OnRbMF0sdGV4dDpuLHRva2Vuczp0aGlzLmxleGVyLmlubGluZShuKX19fXRleHQoZSl7bGV0IHQ9dGhpcy5ydWxlcy5ibG9jay50ZXh0LmV4ZWMoZSk7aWYodClyZXR1cm57dHlwZTpcInRleHRcIixyYXc6dFswXSx0ZXh0OnRbMF0sdG9rZW5zOnRoaXMubGV4ZXIuaW5saW5lKHRbMF0pfX1lc2NhcGUoZSl7bGV0IHQ9dGhpcy5ydWxlcy5pbmxpbmUuZXNjYXBlLmV4ZWMoZSk7aWYodClyZXR1cm57dHlwZTpcImVzY2FwZVwiLHJhdzp0WzBdLHRleHQ6dFsxXX19dGFnKGUpe2xldCB0PXRoaXMucnVsZXMuaW5saW5lLnRhZy5leGVjKGUpO2lmKHQpcmV0dXJuIXRoaXMubGV4ZXIuc3RhdGUuaW5MaW5rJiZ0aGlzLnJ1bGVzLm90aGVyLnN0YXJ0QVRhZy50ZXN0KHRbMF0pP3RoaXMubGV4ZXIuc3RhdGUuaW5MaW5rPSEwOnRoaXMubGV4ZXIuc3RhdGUuaW5MaW5rJiZ0aGlzLnJ1bGVzLm90aGVyLmVuZEFUYWcudGVzdCh0WzBdKSYmKHRoaXMubGV4ZXIuc3RhdGUuaW5MaW5rPSExKSwhdGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrJiZ0aGlzLnJ1bGVzLm90aGVyLnN0YXJ0UHJlU2NyaXB0VGFnLnRlc3QodFswXSk/dGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrPSEwOnRoaXMubGV4ZXIuc3RhdGUuaW5SYXdCbG9jayYmdGhpcy5ydWxlcy5vdGhlci5lbmRQcmVTY3JpcHRUYWcudGVzdCh0WzBdKSYmKHRoaXMubGV4ZXIuc3RhdGUuaW5SYXdCbG9jaz0hMSkse3R5cGU6XCJodG1sXCIscmF3OnRbMF0saW5MaW5rOnRoaXMubGV4ZXIuc3RhdGUuaW5MaW5rLGluUmF3QmxvY2s6dGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrLGJsb2NrOiExLHRleHQ6dFswXX19bGluayhlKXtsZXQgdD10aGlzLnJ1bGVzLmlubGluZS5saW5rLmV4ZWMoZSk7aWYodCl7bGV0IG49dFsyXS50cmltKCk7aWYoIXRoaXMub3B0aW9ucy5wZWRhbnRpYyYmdGhpcy5ydWxlcy5vdGhlci5zdGFydEFuZ2xlQnJhY2tldC50ZXN0KG4pKXtpZighdGhpcy5ydWxlcy5vdGhlci5lbmRBbmdsZUJyYWNrZXQudGVzdChuKSlyZXR1cm47bGV0IHM9eihuLnNsaWNlKDAsLTEpLFwiXFxcXFwiKTtpZigobi5sZW5ndGgtcy5sZW5ndGgpJTI9PT0wKXJldHVybn1lbHNle2xldCBzPWRlKHRbMl0sXCIoKVwiKTtpZihzPT09LTIpcmV0dXJuO2lmKHM+LTEpe2xldCBvPSh0WzBdLmluZGV4T2YoXCIhXCIpPT09MD81OjQpK3RbMV0ubGVuZ3RoK3M7dFsyXT10WzJdLnN1YnN0cmluZygwLHMpLHRbMF09dFswXS5zdWJzdHJpbmcoMCxvKS50cmltKCksdFszXT1cIlwifX1sZXQgcj10WzJdLGk9XCJcIjtpZih0aGlzLm9wdGlvbnMucGVkYW50aWMpe2xldCBzPXRoaXMucnVsZXMub3RoZXIucGVkYW50aWNIcmVmVGl0bGUuZXhlYyhyKTtzJiYocj1zWzFdLGk9c1szXSl9ZWxzZSBpPXRbM10/dFszXS5zbGljZSgxLC0xKTpcIlwiO3JldHVybiByPXIudHJpbSgpLHRoaXMucnVsZXMub3RoZXIuc3RhcnRBbmdsZUJyYWNrZXQudGVzdChyKSYmKHRoaXMub3B0aW9ucy5wZWRhbnRpYyYmIXRoaXMucnVsZXMub3RoZXIuZW5kQW5nbGVCcmFja2V0LnRlc3Qobik/cj1yLnNsaWNlKDEpOnI9ci5zbGljZSgxLC0xKSksZ2UodCx7aHJlZjpyJiZyLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuYW55UHVuY3R1YXRpb24sXCIkMVwiKSx0aXRsZTppJiZpLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuYW55UHVuY3R1YXRpb24sXCIkMVwiKX0sdFswXSx0aGlzLmxleGVyLHRoaXMucnVsZXMpfX1yZWZsaW5rKGUsdCl7bGV0IG47aWYoKG49dGhpcy5ydWxlcy5pbmxpbmUucmVmbGluay5leGVjKGUpKXx8KG49dGhpcy5ydWxlcy5pbmxpbmUubm9saW5rLmV4ZWMoZSkpKXtsZXQgcj0oblsyXXx8blsxXSkucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLm11bHRpcGxlU3BhY2VHbG9iYWwsXCIgXCIpLGk9dFtyLnRvTG93ZXJDYXNlKCldO2lmKCFpKXtsZXQgcz1uWzBdLmNoYXJBdCgwKTtyZXR1cm57dHlwZTpcInRleHRcIixyYXc6cyx0ZXh0OnN9fXJldHVybiBnZShuLGksblswXSx0aGlzLmxleGVyLHRoaXMucnVsZXMpfX1lbVN0cm9uZyhlLHQsbj1cIlwiKXtsZXQgcj10aGlzLnJ1bGVzLmlubGluZS5lbVN0cm9uZ0xEZWxpbS5leGVjKGUpO2lmKCFyfHxyWzNdJiZuLm1hdGNoKHRoaXMucnVsZXMub3RoZXIudW5pY29kZUFscGhhTnVtZXJpYykpcmV0dXJuO2lmKCEoclsxXXx8clsyXXx8XCJcIil8fCFufHx0aGlzLnJ1bGVzLmlubGluZS5wdW5jdHVhdGlvbi5leGVjKG4pKXtsZXQgcz1bLi4uclswXV0ubGVuZ3RoLTEsYSxvLGw9cyxwPTAsYz1yWzBdWzBdPT09XCIqXCI/dGhpcy5ydWxlcy5pbmxpbmUuZW1TdHJvbmdSRGVsaW1Bc3Q6dGhpcy5ydWxlcy5pbmxpbmUuZW1TdHJvbmdSRGVsaW1VbmQ7Zm9yKGMubGFzdEluZGV4PTAsdD10LnNsaWNlKC0xKmUubGVuZ3RoK3MpOyhyPWMuZXhlYyh0KSkhPW51bGw7KXtpZihhPXJbMV18fHJbMl18fHJbM118fHJbNF18fHJbNV18fHJbNl0sIWEpY29udGludWU7aWYobz1bLi4uYV0ubGVuZ3RoLHJbM118fHJbNF0pe2wrPW87Y29udGludWV9ZWxzZSBpZigocls1XXx8cls2XSkmJnMlMyYmISgocytvKSUzKSl7cCs9bztjb250aW51ZX1pZihsLT1vLGw+MCljb250aW51ZTtvPU1hdGgubWluKG8sbytsK3ApO2xldCBnPVsuLi5yWzBdXVswXS5sZW5ndGgsaD1lLnNsaWNlKDAscytyLmluZGV4K2crbyk7aWYoTWF0aC5taW4ocyxvKSUyKXtsZXQgZj1oLnNsaWNlKDEsLTEpO3JldHVybnt0eXBlOlwiZW1cIixyYXc6aCx0ZXh0OmYsdG9rZW5zOnRoaXMubGV4ZXIuaW5saW5lVG9rZW5zKGYpfX1sZXQgUj1oLnNsaWNlKDIsLTIpO3JldHVybnt0eXBlOlwic3Ryb25nXCIscmF3OmgsdGV4dDpSLHRva2Vuczp0aGlzLmxleGVyLmlubGluZVRva2VucyhSKX19fX1jb2Rlc3BhbihlKXtsZXQgdD10aGlzLnJ1bGVzLmlubGluZS5jb2RlLmV4ZWMoZSk7aWYodCl7bGV0IG49dFsyXS5yZXBsYWNlKHRoaXMucnVsZXMub3RoZXIubmV3TGluZUNoYXJHbG9iYWwsXCIgXCIpLHI9dGhpcy5ydWxlcy5vdGhlci5ub25TcGFjZUNoYXIudGVzdChuKSxpPXRoaXMucnVsZXMub3RoZXIuc3RhcnRpbmdTcGFjZUNoYXIudGVzdChuKSYmdGhpcy5ydWxlcy5vdGhlci5lbmRpbmdTcGFjZUNoYXIudGVzdChuKTtyZXR1cm4gciYmaSYmKG49bi5zdWJzdHJpbmcoMSxuLmxlbmd0aC0xKSkse3R5cGU6XCJjb2Rlc3BhblwiLHJhdzp0WzBdLHRleHQ6bn19fWJyKGUpe2xldCB0PXRoaXMucnVsZXMuaW5saW5lLmJyLmV4ZWMoZSk7aWYodClyZXR1cm57dHlwZTpcImJyXCIscmF3OnRbMF19fWRlbChlKXtsZXQgdD10aGlzLnJ1bGVzLmlubGluZS5kZWwuZXhlYyhlKTtpZih0KXJldHVybnt0eXBlOlwiZGVsXCIscmF3OnRbMF0sdGV4dDp0WzJdLHRva2Vuczp0aGlzLmxleGVyLmlubGluZVRva2Vucyh0WzJdKX19YXV0b2xpbmsoZSl7bGV0IHQ9dGhpcy5ydWxlcy5pbmxpbmUuYXV0b2xpbmsuZXhlYyhlKTtpZih0KXtsZXQgbixyO3JldHVybiB0WzJdPT09XCJAXCI/KG49dFsxXSxyPVwibWFpbHRvOlwiK24pOihuPXRbMV0scj1uKSx7dHlwZTpcImxpbmtcIixyYXc6dFswXSx0ZXh0Om4saHJlZjpyLHRva2Vuczpbe3R5cGU6XCJ0ZXh0XCIscmF3Om4sdGV4dDpufV19fX11cmwoZSl7bGV0IHQ7aWYodD10aGlzLnJ1bGVzLmlubGluZS51cmwuZXhlYyhlKSl7bGV0IG4scjtpZih0WzJdPT09XCJAXCIpbj10WzBdLHI9XCJtYWlsdG86XCIrbjtlbHNle2xldCBpO2RvIGk9dFswXSx0WzBdPXRoaXMucnVsZXMuaW5saW5lLl9iYWNrcGVkYWwuZXhlYyh0WzBdKT8uWzBdPz9cIlwiO3doaWxlKGkhPT10WzBdKTtuPXRbMF0sdFsxXT09PVwid3d3LlwiP3I9XCJodHRwOi8vXCIrdFswXTpyPXRbMF19cmV0dXJue3R5cGU6XCJsaW5rXCIscmF3OnRbMF0sdGV4dDpuLGhyZWY6cix0b2tlbnM6W3t0eXBlOlwidGV4dFwiLHJhdzpuLHRleHQ6bn1dfX19aW5saW5lVGV4dChlKXtsZXQgdD10aGlzLnJ1bGVzLmlubGluZS50ZXh0LmV4ZWMoZSk7aWYodCl7bGV0IG49dGhpcy5sZXhlci5zdGF0ZS5pblJhd0Jsb2NrO3JldHVybnt0eXBlOlwidGV4dFwiLHJhdzp0WzBdLHRleHQ6dFswXSxlc2NhcGVkOm59fX19O3ZhciB4PWNsYXNzIHV7dG9rZW5zO29wdGlvbnM7c3RhdGU7aW5saW5lUXVldWU7dG9rZW5pemVyO2NvbnN0cnVjdG9yKGUpe3RoaXMudG9rZW5zPVtdLHRoaXMudG9rZW5zLmxpbmtzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5vcHRpb25zPWV8fFQsdGhpcy5vcHRpb25zLnRva2VuaXplcj10aGlzLm9wdGlvbnMudG9rZW5pemVyfHxuZXcgeSx0aGlzLnRva2VuaXplcj10aGlzLm9wdGlvbnMudG9rZW5pemVyLHRoaXMudG9rZW5pemVyLm9wdGlvbnM9dGhpcy5vcHRpb25zLHRoaXMudG9rZW5pemVyLmxleGVyPXRoaXMsdGhpcy5pbmxpbmVRdWV1ZT1bXSx0aGlzLnN0YXRlPXtpbkxpbms6ITEsaW5SYXdCbG9jazohMSx0b3A6ITB9O2xldCB0PXtvdGhlcjptLGJsb2NrOkUubm9ybWFsLGlubGluZTpNLm5vcm1hbH07dGhpcy5vcHRpb25zLnBlZGFudGljPyh0LmJsb2NrPUUucGVkYW50aWMsdC5pbmxpbmU9TS5wZWRhbnRpYyk6dGhpcy5vcHRpb25zLmdmbSYmKHQuYmxvY2s9RS5nZm0sdGhpcy5vcHRpb25zLmJyZWFrcz90LmlubGluZT1NLmJyZWFrczp0LmlubGluZT1NLmdmbSksdGhpcy50b2tlbml6ZXIucnVsZXM9dH1zdGF0aWMgZ2V0IHJ1bGVzKCl7cmV0dXJue2Jsb2NrOkUsaW5saW5lOk19fXN0YXRpYyBsZXgoZSx0KXtyZXR1cm4gbmV3IHUodCkubGV4KGUpfXN0YXRpYyBsZXhJbmxpbmUoZSx0KXtyZXR1cm4gbmV3IHUodCkuaW5saW5lVG9rZW5zKGUpfWxleChlKXtlPWUucmVwbGFjZShtLmNhcnJpYWdlUmV0dXJuLGBcbmApLHRoaXMuYmxvY2tUb2tlbnMoZSx0aGlzLnRva2Vucyk7Zm9yKGxldCB0PTA7dDx0aGlzLmlubGluZVF1ZXVlLmxlbmd0aDt0Kyspe2xldCBuPXRoaXMuaW5saW5lUXVldWVbdF07dGhpcy5pbmxpbmVUb2tlbnMobi5zcmMsbi50b2tlbnMpfXJldHVybiB0aGlzLmlubGluZVF1ZXVlPVtdLHRoaXMudG9rZW5zfWJsb2NrVG9rZW5zKGUsdD1bXSxuPSExKXtmb3IodGhpcy5vcHRpb25zLnBlZGFudGljJiYoZT1lLnJlcGxhY2UobS50YWJDaGFyR2xvYmFsLFwiICAgIFwiKS5yZXBsYWNlKG0uc3BhY2VMaW5lLFwiXCIpKTtlOyl7bGV0IHI7aWYodGhpcy5vcHRpb25zLmV4dGVuc2lvbnM/LmJsb2NrPy5zb21lKHM9PihyPXMuY2FsbCh7bGV4ZXI6dGhpc30sZSx0KSk/KGU9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gociksITApOiExKSljb250aW51ZTtpZihyPXRoaXMudG9rZW5pemVyLnNwYWNlKGUpKXtlPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCk7bGV0IHM9dC5hdCgtMSk7ci5yYXcubGVuZ3RoPT09MSYmcyE9PXZvaWQgMD9zLnJhdys9YFxuYDp0LnB1c2gocik7Y29udGludWV9aWYocj10aGlzLnRva2VuaXplci5jb2RlKGUpKXtlPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCk7bGV0IHM9dC5hdCgtMSk7cz8udHlwZT09PVwicGFyYWdyYXBoXCJ8fHM/LnR5cGU9PT1cInRleHRcIj8ocy5yYXcrPShzLnJhdy5lbmRzV2l0aChgXG5gKT9cIlwiOmBcbmApK3IucmF3LHMudGV4dCs9YFxuYCtyLnRleHQsdGhpcy5pbmxpbmVRdWV1ZS5hdCgtMSkuc3JjPXMudGV4dCk6dC5wdXNoKHIpO2NvbnRpbnVlfWlmKHI9dGhpcy50b2tlbml6ZXIuZmVuY2VzKGUpKXtlPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksdC5wdXNoKHIpO2NvbnRpbnVlfWlmKHI9dGhpcy50b2tlbml6ZXIuaGVhZGluZyhlKSl7ZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLHQucHVzaChyKTtjb250aW51ZX1pZihyPXRoaXMudG9rZW5pemVyLmhyKGUpKXtlPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksdC5wdXNoKHIpO2NvbnRpbnVlfWlmKHI9dGhpcy50b2tlbml6ZXIuYmxvY2txdW90ZShlKSl7ZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLHQucHVzaChyKTtjb250aW51ZX1pZihyPXRoaXMudG9rZW5pemVyLmxpc3QoZSkpe2U9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7Y29udGludWV9aWYocj10aGlzLnRva2VuaXplci5odG1sKGUpKXtlPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksdC5wdXNoKHIpO2NvbnRpbnVlfWlmKHI9dGhpcy50b2tlbml6ZXIuZGVmKGUpKXtlPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCk7bGV0IHM9dC5hdCgtMSk7cz8udHlwZT09PVwicGFyYWdyYXBoXCJ8fHM/LnR5cGU9PT1cInRleHRcIj8ocy5yYXcrPShzLnJhdy5lbmRzV2l0aChgXG5gKT9cIlwiOmBcbmApK3IucmF3LHMudGV4dCs9YFxuYCtyLnJhdyx0aGlzLmlubGluZVF1ZXVlLmF0KC0xKS5zcmM9cy50ZXh0KTp0aGlzLnRva2Vucy5saW5rc1tyLnRhZ118fCh0aGlzLnRva2Vucy5saW5rc1tyLnRhZ109e2hyZWY6ci5ocmVmLHRpdGxlOnIudGl0bGV9LHQucHVzaChyKSk7Y29udGludWV9aWYocj10aGlzLnRva2VuaXplci50YWJsZShlKSl7ZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLHQucHVzaChyKTtjb250aW51ZX1pZihyPXRoaXMudG9rZW5pemVyLmxoZWFkaW5nKGUpKXtlPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksdC5wdXNoKHIpO2NvbnRpbnVlfWxldCBpPWU7aWYodGhpcy5vcHRpb25zLmV4dGVuc2lvbnM/LnN0YXJ0QmxvY2spe2xldCBzPTEvMCxhPWUuc2xpY2UoMSksbzt0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5zdGFydEJsb2NrLmZvckVhY2gobD0+e289bC5jYWxsKHtsZXhlcjp0aGlzfSxhKSx0eXBlb2Ygbz09XCJudW1iZXJcIiYmbz49MCYmKHM9TWF0aC5taW4ocyxvKSl9KSxzPDEvMCYmcz49MCYmKGk9ZS5zdWJzdHJpbmcoMCxzKzEpKX1pZih0aGlzLnN0YXRlLnRvcCYmKHI9dGhpcy50b2tlbml6ZXIucGFyYWdyYXBoKGkpKSl7bGV0IHM9dC5hdCgtMSk7biYmcz8udHlwZT09PVwicGFyYWdyYXBoXCI/KHMucmF3Kz0ocy5yYXcuZW5kc1dpdGgoYFxuYCk/XCJcIjpgXG5gKStyLnJhdyxzLnRleHQrPWBcbmArci50ZXh0LHRoaXMuaW5saW5lUXVldWUucG9wKCksdGhpcy5pbmxpbmVRdWV1ZS5hdCgtMSkuc3JjPXMudGV4dCk6dC5wdXNoKHIpLG49aS5sZW5ndGghPT1lLmxlbmd0aCxlPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCk7Y29udGludWV9aWYocj10aGlzLnRva2VuaXplci50ZXh0KGUpKXtlPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCk7bGV0IHM9dC5hdCgtMSk7cz8udHlwZT09PVwidGV4dFwiPyhzLnJhdys9KHMucmF3LmVuZHNXaXRoKGBcbmApP1wiXCI6YFxuYCkrci5yYXcscy50ZXh0Kz1gXG5gK3IudGV4dCx0aGlzLmlubGluZVF1ZXVlLnBvcCgpLHRoaXMuaW5saW5lUXVldWUuYXQoLTEpLnNyYz1zLnRleHQpOnQucHVzaChyKTtjb250aW51ZX1pZihlKXtsZXQgcz1cIkluZmluaXRlIGxvb3Agb24gYnl0ZTogXCIrZS5jaGFyQ29kZUF0KDApO2lmKHRoaXMub3B0aW9ucy5zaWxlbnQpe2NvbnNvbGUuZXJyb3Iocyk7YnJlYWt9ZWxzZSB0aHJvdyBuZXcgRXJyb3Iocyl9fXJldHVybiB0aGlzLnN0YXRlLnRvcD0hMCx0fWlubGluZShlLHQ9W10pe3JldHVybiB0aGlzLmlubGluZVF1ZXVlLnB1c2goe3NyYzplLHRva2Vuczp0fSksdH1pbmxpbmVUb2tlbnMoZSx0PVtdKXtsZXQgbj1lLHI9bnVsbDtpZih0aGlzLnRva2Vucy5saW5rcyl7bGV0IG89T2JqZWN0LmtleXModGhpcy50b2tlbnMubGlua3MpO2lmKG8ubGVuZ3RoPjApZm9yKDsocj10aGlzLnRva2VuaXplci5ydWxlcy5pbmxpbmUucmVmbGlua1NlYXJjaC5leGVjKG4pKSE9bnVsbDspby5pbmNsdWRlcyhyWzBdLnNsaWNlKHJbMF0ubGFzdEluZGV4T2YoXCJbXCIpKzEsLTEpKSYmKG49bi5zbGljZSgwLHIuaW5kZXgpK1wiW1wiK1wiYVwiLnJlcGVhdChyWzBdLmxlbmd0aC0yKStcIl1cIituLnNsaWNlKHRoaXMudG9rZW5pemVyLnJ1bGVzLmlubGluZS5yZWZsaW5rU2VhcmNoLmxhc3RJbmRleCkpfWZvcig7KHI9dGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLmFueVB1bmN0dWF0aW9uLmV4ZWMobikpIT1udWxsOyluPW4uc2xpY2UoMCxyLmluZGV4KStcIisrXCIrbi5zbGljZSh0aGlzLnRva2VuaXplci5ydWxlcy5pbmxpbmUuYW55UHVuY3R1YXRpb24ubGFzdEluZGV4KTtsZXQgaTtmb3IoOyhyPXRoaXMudG9rZW5pemVyLnJ1bGVzLmlubGluZS5ibG9ja1NraXAuZXhlYyhuKSkhPW51bGw7KWk9clsyXT9yWzJdLmxlbmd0aDowLG49bi5zbGljZSgwLHIuaW5kZXgraSkrXCJbXCIrXCJhXCIucmVwZWF0KHJbMF0ubGVuZ3RoLWktMikrXCJdXCIrbi5zbGljZSh0aGlzLnRva2VuaXplci5ydWxlcy5pbmxpbmUuYmxvY2tTa2lwLmxhc3RJbmRleCk7bj10aGlzLm9wdGlvbnMuaG9va3M/LmVtU3Ryb25nTWFzaz8uY2FsbCh7bGV4ZXI6dGhpc30sbik/P247bGV0IHM9ITEsYT1cIlwiO2Zvcig7ZTspe3N8fChhPVwiXCIpLHM9ITE7bGV0IG87aWYodGhpcy5vcHRpb25zLmV4dGVuc2lvbnM/LmlubGluZT8uc29tZShwPT4obz1wLmNhbGwoe2xleGVyOnRoaXN9LGUsdCkpPyhlPWUuc3Vic3RyaW5nKG8ucmF3Lmxlbmd0aCksdC5wdXNoKG8pLCEwKTohMSkpY29udGludWU7aWYobz10aGlzLnRva2VuaXplci5lc2NhcGUoZSkpe2U9ZS5zdWJzdHJpbmcoby5yYXcubGVuZ3RoKSx0LnB1c2gobyk7Y29udGludWV9aWYobz10aGlzLnRva2VuaXplci50YWcoZSkpe2U9ZS5zdWJzdHJpbmcoby5yYXcubGVuZ3RoKSx0LnB1c2gobyk7Y29udGludWV9aWYobz10aGlzLnRva2VuaXplci5saW5rKGUpKXtlPWUuc3Vic3RyaW5nKG8ucmF3Lmxlbmd0aCksdC5wdXNoKG8pO2NvbnRpbnVlfWlmKG89dGhpcy50b2tlbml6ZXIucmVmbGluayhlLHRoaXMudG9rZW5zLmxpbmtzKSl7ZT1lLnN1YnN0cmluZyhvLnJhdy5sZW5ndGgpO2xldCBwPXQuYXQoLTEpO28udHlwZT09PVwidGV4dFwiJiZwPy50eXBlPT09XCJ0ZXh0XCI/KHAucmF3Kz1vLnJhdyxwLnRleHQrPW8udGV4dCk6dC5wdXNoKG8pO2NvbnRpbnVlfWlmKG89dGhpcy50b2tlbml6ZXIuZW1TdHJvbmcoZSxuLGEpKXtlPWUuc3Vic3RyaW5nKG8ucmF3Lmxlbmd0aCksdC5wdXNoKG8pO2NvbnRpbnVlfWlmKG89dGhpcy50b2tlbml6ZXIuY29kZXNwYW4oZSkpe2U9ZS5zdWJzdHJpbmcoby5yYXcubGVuZ3RoKSx0LnB1c2gobyk7Y29udGludWV9aWYobz10aGlzLnRva2VuaXplci5icihlKSl7ZT1lLnN1YnN0cmluZyhvLnJhdy5sZW5ndGgpLHQucHVzaChvKTtjb250aW51ZX1pZihvPXRoaXMudG9rZW5pemVyLmRlbChlKSl7ZT1lLnN1YnN0cmluZyhvLnJhdy5sZW5ndGgpLHQucHVzaChvKTtjb250aW51ZX1pZihvPXRoaXMudG9rZW5pemVyLmF1dG9saW5rKGUpKXtlPWUuc3Vic3RyaW5nKG8ucmF3Lmxlbmd0aCksdC5wdXNoKG8pO2NvbnRpbnVlfWlmKCF0aGlzLnN0YXRlLmluTGluayYmKG89dGhpcy50b2tlbml6ZXIudXJsKGUpKSl7ZT1lLnN1YnN0cmluZyhvLnJhdy5sZW5ndGgpLHQucHVzaChvKTtjb250aW51ZX1sZXQgbD1lO2lmKHRoaXMub3B0aW9ucy5leHRlbnNpb25zPy5zdGFydElubGluZSl7bGV0IHA9MS8wLGM9ZS5zbGljZSgxKSxnO3RoaXMub3B0aW9ucy5leHRlbnNpb25zLnN0YXJ0SW5saW5lLmZvckVhY2goaD0+e2c9aC5jYWxsKHtsZXhlcjp0aGlzfSxjKSx0eXBlb2YgZz09XCJudW1iZXJcIiYmZz49MCYmKHA9TWF0aC5taW4ocCxnKSl9KSxwPDEvMCYmcD49MCYmKGw9ZS5zdWJzdHJpbmcoMCxwKzEpKX1pZihvPXRoaXMudG9rZW5pemVyLmlubGluZVRleHQobCkpe2U9ZS5zdWJzdHJpbmcoby5yYXcubGVuZ3RoKSxvLnJhdy5zbGljZSgtMSkhPT1cIl9cIiYmKGE9by5yYXcuc2xpY2UoLTEpKSxzPSEwO2xldCBwPXQuYXQoLTEpO3A/LnR5cGU9PT1cInRleHRcIj8ocC5yYXcrPW8ucmF3LHAudGV4dCs9by50ZXh0KTp0LnB1c2gobyk7Y29udGludWV9aWYoZSl7bGV0IHA9XCJJbmZpbml0ZSBsb29wIG9uIGJ5dGU6IFwiK2UuY2hhckNvZGVBdCgwKTtpZih0aGlzLm9wdGlvbnMuc2lsZW50KXtjb25zb2xlLmVycm9yKHApO2JyZWFrfWVsc2UgdGhyb3cgbmV3IEVycm9yKHApfX1yZXR1cm4gdH19O3ZhciBQPWNsYXNze29wdGlvbnM7cGFyc2VyO2NvbnN0cnVjdG9yKGUpe3RoaXMub3B0aW9ucz1lfHxUfXNwYWNlKGUpe3JldHVyblwiXCJ9Y29kZSh7dGV4dDplLGxhbmc6dCxlc2NhcGVkOm59KXtsZXQgcj0odHx8XCJcIikubWF0Y2gobS5ub3RTcGFjZVN0YXJ0KT8uWzBdLGk9ZS5yZXBsYWNlKG0uZW5kaW5nTmV3bGluZSxcIlwiKStgXG5gO3JldHVybiByPyc8cHJlPjxjb2RlIGNsYXNzPVwibGFuZ3VhZ2UtJyt3KHIpKydcIj4nKyhuP2k6dyhpLCEwKSkrYDwvY29kZT48L3ByZT5cbmA6XCI8cHJlPjxjb2RlPlwiKyhuP2k6dyhpLCEwKSkrYDwvY29kZT48L3ByZT5cbmB9YmxvY2txdW90ZSh7dG9rZW5zOmV9KXtyZXR1cm5gPGJsb2NrcXVvdGU+XG4ke3RoaXMucGFyc2VyLnBhcnNlKGUpfTwvYmxvY2txdW90ZT5cbmB9aHRtbCh7dGV4dDplfSl7cmV0dXJuIGV9ZGVmKGUpe3JldHVyblwiXCJ9aGVhZGluZyh7dG9rZW5zOmUsZGVwdGg6dH0pe3JldHVybmA8aCR7dH0+JHt0aGlzLnBhcnNlci5wYXJzZUlubGluZShlKX08L2gke3R9PlxuYH1ocihlKXtyZXR1cm5gPGhyPlxuYH1saXN0KGUpe2xldCB0PWUub3JkZXJlZCxuPWUuc3RhcnQscj1cIlwiO2ZvcihsZXQgYT0wO2E8ZS5pdGVtcy5sZW5ndGg7YSsrKXtsZXQgbz1lLml0ZW1zW2FdO3IrPXRoaXMubGlzdGl0ZW0obyl9bGV0IGk9dD9cIm9sXCI6XCJ1bFwiLHM9dCYmbiE9PTE/JyBzdGFydD1cIicrbisnXCInOlwiXCI7cmV0dXJuXCI8XCIraStzK2A+XG5gK3IrXCI8L1wiK2krYD5cbmB9bGlzdGl0ZW0oZSl7cmV0dXJuYDxsaT4ke3RoaXMucGFyc2VyLnBhcnNlKGUudG9rZW5zKX08L2xpPlxuYH1jaGVja2JveCh7Y2hlY2tlZDplfSl7cmV0dXJuXCI8aW5wdXQgXCIrKGU/J2NoZWNrZWQ9XCJcIiAnOlwiXCIpKydkaXNhYmxlZD1cIlwiIHR5cGU9XCJjaGVja2JveFwiPiAnfXBhcmFncmFwaCh7dG9rZW5zOmV9KXtyZXR1cm5gPHA+JHt0aGlzLnBhcnNlci5wYXJzZUlubGluZShlKX08L3A+XG5gfXRhYmxlKGUpe2xldCB0PVwiXCIsbj1cIlwiO2ZvcihsZXQgaT0wO2k8ZS5oZWFkZXIubGVuZ3RoO2krKyluKz10aGlzLnRhYmxlY2VsbChlLmhlYWRlcltpXSk7dCs9dGhpcy50YWJsZXJvdyh7dGV4dDpufSk7bGV0IHI9XCJcIjtmb3IobGV0IGk9MDtpPGUucm93cy5sZW5ndGg7aSsrKXtsZXQgcz1lLnJvd3NbaV07bj1cIlwiO2ZvcihsZXQgYT0wO2E8cy5sZW5ndGg7YSsrKW4rPXRoaXMudGFibGVjZWxsKHNbYV0pO3IrPXRoaXMudGFibGVyb3coe3RleHQ6bn0pfXJldHVybiByJiYocj1gPHRib2R5PiR7cn08L3Rib2R5PmApLGA8dGFibGU+XG48dGhlYWQ+XG5gK3QrYDwvdGhlYWQ+XG5gK3IrYDwvdGFibGU+XG5gfXRhYmxlcm93KHt0ZXh0OmV9KXtyZXR1cm5gPHRyPlxuJHtlfTwvdHI+XG5gfXRhYmxlY2VsbChlKXtsZXQgdD10aGlzLnBhcnNlci5wYXJzZUlubGluZShlLnRva2Vucyksbj1lLmhlYWRlcj9cInRoXCI6XCJ0ZFwiO3JldHVybihlLmFsaWduP2A8JHtufSBhbGlnbj1cIiR7ZS5hbGlnbn1cIj5gOmA8JHtufT5gKSt0K2A8LyR7bn0+XG5gfXN0cm9uZyh7dG9rZW5zOmV9KXtyZXR1cm5gPHN0cm9uZz4ke3RoaXMucGFyc2VyLnBhcnNlSW5saW5lKGUpfTwvc3Ryb25nPmB9ZW0oe3Rva2VuczplfSl7cmV0dXJuYDxlbT4ke3RoaXMucGFyc2VyLnBhcnNlSW5saW5lKGUpfTwvZW0+YH1jb2Rlc3Bhbih7dGV4dDplfSl7cmV0dXJuYDxjb2RlPiR7dyhlLCEwKX08L2NvZGU+YH1icihlKXtyZXR1cm5cIjxicj5cIn1kZWwoe3Rva2VuczplfSl7cmV0dXJuYDxkZWw+JHt0aGlzLnBhcnNlci5wYXJzZUlubGluZShlKX08L2RlbD5gfWxpbmsoe2hyZWY6ZSx0aXRsZTp0LHRva2VuczpufSl7bGV0IHI9dGhpcy5wYXJzZXIucGFyc2VJbmxpbmUobiksaT1YKGUpO2lmKGk9PT1udWxsKXJldHVybiByO2U9aTtsZXQgcz0nPGEgaHJlZj1cIicrZSsnXCInO3JldHVybiB0JiYocys9JyB0aXRsZT1cIicrdyh0KSsnXCInKSxzKz1cIj5cIityK1wiPC9hPlwiLHN9aW1hZ2Uoe2hyZWY6ZSx0aXRsZTp0LHRleHQ6bix0b2tlbnM6cn0pe3ImJihuPXRoaXMucGFyc2VyLnBhcnNlSW5saW5lKHIsdGhpcy5wYXJzZXIudGV4dFJlbmRlcmVyKSk7bGV0IGk9WChlKTtpZihpPT09bnVsbClyZXR1cm4gdyhuKTtlPWk7bGV0IHM9YDxpbWcgc3JjPVwiJHtlfVwiIGFsdD1cIiR7bn1cImA7cmV0dXJuIHQmJihzKz1gIHRpdGxlPVwiJHt3KHQpfVwiYCkscys9XCI+XCIsc310ZXh0KGUpe3JldHVyblwidG9rZW5zXCJpbiBlJiZlLnRva2Vucz90aGlzLnBhcnNlci5wYXJzZUlubGluZShlLnRva2Vucyk6XCJlc2NhcGVkXCJpbiBlJiZlLmVzY2FwZWQ/ZS50ZXh0OncoZS50ZXh0KX19O3ZhciAkPWNsYXNze3N0cm9uZyh7dGV4dDplfSl7cmV0dXJuIGV9ZW0oe3RleHQ6ZX0pe3JldHVybiBlfWNvZGVzcGFuKHt0ZXh0OmV9KXtyZXR1cm4gZX1kZWwoe3RleHQ6ZX0pe3JldHVybiBlfWh0bWwoe3RleHQ6ZX0pe3JldHVybiBlfXRleHQoe3RleHQ6ZX0pe3JldHVybiBlfWxpbmsoe3RleHQ6ZX0pe3JldHVyblwiXCIrZX1pbWFnZSh7dGV4dDplfSl7cmV0dXJuXCJcIitlfWJyKCl7cmV0dXJuXCJcIn1jaGVja2JveCh7cmF3OmV9KXtyZXR1cm4gZX19O3ZhciBiPWNsYXNzIHV7b3B0aW9ucztyZW5kZXJlcjt0ZXh0UmVuZGVyZXI7Y29uc3RydWN0b3IoZSl7dGhpcy5vcHRpb25zPWV8fFQsdGhpcy5vcHRpb25zLnJlbmRlcmVyPXRoaXMub3B0aW9ucy5yZW5kZXJlcnx8bmV3IFAsdGhpcy5yZW5kZXJlcj10aGlzLm9wdGlvbnMucmVuZGVyZXIsdGhpcy5yZW5kZXJlci5vcHRpb25zPXRoaXMub3B0aW9ucyx0aGlzLnJlbmRlcmVyLnBhcnNlcj10aGlzLHRoaXMudGV4dFJlbmRlcmVyPW5ldyAkfXN0YXRpYyBwYXJzZShlLHQpe3JldHVybiBuZXcgdSh0KS5wYXJzZShlKX1zdGF0aWMgcGFyc2VJbmxpbmUoZSx0KXtyZXR1cm4gbmV3IHUodCkucGFyc2VJbmxpbmUoZSl9cGFyc2UoZSl7bGV0IHQ9XCJcIjtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7bGV0IHI9ZVtuXTtpZih0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucz8ucmVuZGVyZXJzPy5bci50eXBlXSl7bGV0IHM9cixhPXRoaXMub3B0aW9ucy5leHRlbnNpb25zLnJlbmRlcmVyc1tzLnR5cGVdLmNhbGwoe3BhcnNlcjp0aGlzfSxzKTtpZihhIT09ITF8fCFbXCJzcGFjZVwiLFwiaHJcIixcImhlYWRpbmdcIixcImNvZGVcIixcInRhYmxlXCIsXCJibG9ja3F1b3RlXCIsXCJsaXN0XCIsXCJodG1sXCIsXCJkZWZcIixcInBhcmFncmFwaFwiLFwidGV4dFwiXS5pbmNsdWRlcyhzLnR5cGUpKXt0Kz1hfHxcIlwiO2NvbnRpbnVlfX1sZXQgaT1yO3N3aXRjaChpLnR5cGUpe2Nhc2VcInNwYWNlXCI6e3QrPXRoaXMucmVuZGVyZXIuc3BhY2UoaSk7YnJlYWt9Y2FzZVwiaHJcIjp7dCs9dGhpcy5yZW5kZXJlci5ocihpKTticmVha31jYXNlXCJoZWFkaW5nXCI6e3QrPXRoaXMucmVuZGVyZXIuaGVhZGluZyhpKTticmVha31jYXNlXCJjb2RlXCI6e3QrPXRoaXMucmVuZGVyZXIuY29kZShpKTticmVha31jYXNlXCJ0YWJsZVwiOnt0Kz10aGlzLnJlbmRlcmVyLnRhYmxlKGkpO2JyZWFrfWNhc2VcImJsb2NrcXVvdGVcIjp7dCs9dGhpcy5yZW5kZXJlci5ibG9ja3F1b3RlKGkpO2JyZWFrfWNhc2VcImxpc3RcIjp7dCs9dGhpcy5yZW5kZXJlci5saXN0KGkpO2JyZWFrfWNhc2VcImNoZWNrYm94XCI6e3QrPXRoaXMucmVuZGVyZXIuY2hlY2tib3goaSk7YnJlYWt9Y2FzZVwiaHRtbFwiOnt0Kz10aGlzLnJlbmRlcmVyLmh0bWwoaSk7YnJlYWt9Y2FzZVwiZGVmXCI6e3QrPXRoaXMucmVuZGVyZXIuZGVmKGkpO2JyZWFrfWNhc2VcInBhcmFncmFwaFwiOnt0Kz10aGlzLnJlbmRlcmVyLnBhcmFncmFwaChpKTticmVha31jYXNlXCJ0ZXh0XCI6e3QrPXRoaXMucmVuZGVyZXIudGV4dChpKTticmVha31kZWZhdWx0OntsZXQgcz0nVG9rZW4gd2l0aCBcIicraS50eXBlKydcIiB0eXBlIHdhcyBub3QgZm91bmQuJztpZih0aGlzLm9wdGlvbnMuc2lsZW50KXJldHVybiBjb25zb2xlLmVycm9yKHMpLFwiXCI7dGhyb3cgbmV3IEVycm9yKHMpfX19cmV0dXJuIHR9cGFyc2VJbmxpbmUoZSx0PXRoaXMucmVuZGVyZXIpe2xldCBuPVwiXCI7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2xldCBpPWVbcl07aWYodGhpcy5vcHRpb25zLmV4dGVuc2lvbnM/LnJlbmRlcmVycz8uW2kudHlwZV0pe2xldCBhPXRoaXMub3B0aW9ucy5leHRlbnNpb25zLnJlbmRlcmVyc1tpLnR5cGVdLmNhbGwoe3BhcnNlcjp0aGlzfSxpKTtpZihhIT09ITF8fCFbXCJlc2NhcGVcIixcImh0bWxcIixcImxpbmtcIixcImltYWdlXCIsXCJzdHJvbmdcIixcImVtXCIsXCJjb2Rlc3BhblwiLFwiYnJcIixcImRlbFwiLFwidGV4dFwiXS5pbmNsdWRlcyhpLnR5cGUpKXtuKz1hfHxcIlwiO2NvbnRpbnVlfX1sZXQgcz1pO3N3aXRjaChzLnR5cGUpe2Nhc2VcImVzY2FwZVwiOntuKz10LnRleHQocyk7YnJlYWt9Y2FzZVwiaHRtbFwiOntuKz10Lmh0bWwocyk7YnJlYWt9Y2FzZVwibGlua1wiOntuKz10Lmxpbmsocyk7YnJlYWt9Y2FzZVwiaW1hZ2VcIjp7bis9dC5pbWFnZShzKTticmVha31jYXNlXCJjaGVja2JveFwiOntuKz10LmNoZWNrYm94KHMpO2JyZWFrfWNhc2VcInN0cm9uZ1wiOntuKz10LnN0cm9uZyhzKTticmVha31jYXNlXCJlbVwiOntuKz10LmVtKHMpO2JyZWFrfWNhc2VcImNvZGVzcGFuXCI6e24rPXQuY29kZXNwYW4ocyk7YnJlYWt9Y2FzZVwiYnJcIjp7bis9dC5icihzKTticmVha31jYXNlXCJkZWxcIjp7bis9dC5kZWwocyk7YnJlYWt9Y2FzZVwidGV4dFwiOntuKz10LnRleHQocyk7YnJlYWt9ZGVmYXVsdDp7bGV0IGE9J1Rva2VuIHdpdGggXCInK3MudHlwZSsnXCIgdHlwZSB3YXMgbm90IGZvdW5kLic7aWYodGhpcy5vcHRpb25zLnNpbGVudClyZXR1cm4gY29uc29sZS5lcnJvcihhKSxcIlwiO3Rocm93IG5ldyBFcnJvcihhKX19fXJldHVybiBufX07dmFyIFM9Y2xhc3N7b3B0aW9ucztibG9jaztjb25zdHJ1Y3RvcihlKXt0aGlzLm9wdGlvbnM9ZXx8VH1zdGF0aWMgcGFzc1Rocm91Z2hIb29rcz1uZXcgU2V0KFtcInByZXByb2Nlc3NcIixcInBvc3Rwcm9jZXNzXCIsXCJwcm9jZXNzQWxsVG9rZW5zXCIsXCJlbVN0cm9uZ01hc2tcIl0pO3N0YXRpYyBwYXNzVGhyb3VnaEhvb2tzUmVzcGVjdEFzeW5jPW5ldyBTZXQoW1wicHJlcHJvY2Vzc1wiLFwicG9zdHByb2Nlc3NcIixcInByb2Nlc3NBbGxUb2tlbnNcIl0pO3ByZXByb2Nlc3MoZSl7cmV0dXJuIGV9cG9zdHByb2Nlc3MoZSl7cmV0dXJuIGV9cHJvY2Vzc0FsbFRva2VucyhlKXtyZXR1cm4gZX1lbVN0cm9uZ01hc2soZSl7cmV0dXJuIGV9cHJvdmlkZUxleGVyKCl7cmV0dXJuIHRoaXMuYmxvY2s/eC5sZXg6eC5sZXhJbmxpbmV9cHJvdmlkZVBhcnNlcigpe3JldHVybiB0aGlzLmJsb2NrP2IucGFyc2U6Yi5wYXJzZUlubGluZX19O3ZhciBCPWNsYXNze2RlZmF1bHRzPUwoKTtvcHRpb25zPXRoaXMuc2V0T3B0aW9ucztwYXJzZT10aGlzLnBhcnNlTWFya2Rvd24oITApO3BhcnNlSW5saW5lPXRoaXMucGFyc2VNYXJrZG93bighMSk7UGFyc2VyPWI7UmVuZGVyZXI9UDtUZXh0UmVuZGVyZXI9JDtMZXhlcj14O1Rva2VuaXplcj15O0hvb2tzPVM7Y29uc3RydWN0b3IoLi4uZSl7dGhpcy51c2UoLi4uZSl9d2Fsa1Rva2VucyhlLHQpe2xldCBuPVtdO2ZvcihsZXQgciBvZiBlKXN3aXRjaChuPW4uY29uY2F0KHQuY2FsbCh0aGlzLHIpKSxyLnR5cGUpe2Nhc2VcInRhYmxlXCI6e2xldCBpPXI7Zm9yKGxldCBzIG9mIGkuaGVhZGVyKW49bi5jb25jYXQodGhpcy53YWxrVG9rZW5zKHMudG9rZW5zLHQpKTtmb3IobGV0IHMgb2YgaS5yb3dzKWZvcihsZXQgYSBvZiBzKW49bi5jb25jYXQodGhpcy53YWxrVG9rZW5zKGEudG9rZW5zLHQpKTticmVha31jYXNlXCJsaXN0XCI6e2xldCBpPXI7bj1uLmNvbmNhdCh0aGlzLndhbGtUb2tlbnMoaS5pdGVtcyx0KSk7YnJlYWt9ZGVmYXVsdDp7bGV0IGk9cjt0aGlzLmRlZmF1bHRzLmV4dGVuc2lvbnM/LmNoaWxkVG9rZW5zPy5baS50eXBlXT90aGlzLmRlZmF1bHRzLmV4dGVuc2lvbnMuY2hpbGRUb2tlbnNbaS50eXBlXS5mb3JFYWNoKHM9PntsZXQgYT1pW3NdLmZsYXQoMS8wKTtuPW4uY29uY2F0KHRoaXMud2Fsa1Rva2VucyhhLHQpKX0pOmkudG9rZW5zJiYobj1uLmNvbmNhdCh0aGlzLndhbGtUb2tlbnMoaS50b2tlbnMsdCkpKX19cmV0dXJuIG59dXNlKC4uLmUpe2xldCB0PXRoaXMuZGVmYXVsdHMuZXh0ZW5zaW9uc3x8e3JlbmRlcmVyczp7fSxjaGlsZFRva2Vuczp7fX07cmV0dXJuIGUuZm9yRWFjaChuPT57bGV0IHI9ey4uLm59O2lmKHIuYXN5bmM9dGhpcy5kZWZhdWx0cy5hc3luY3x8ci5hc3luY3x8ITEsbi5leHRlbnNpb25zJiYobi5leHRlbnNpb25zLmZvckVhY2goaT0+e2lmKCFpLm5hbWUpdGhyb3cgbmV3IEVycm9yKFwiZXh0ZW5zaW9uIG5hbWUgcmVxdWlyZWRcIik7aWYoXCJyZW5kZXJlclwiaW4gaSl7bGV0IHM9dC5yZW5kZXJlcnNbaS5uYW1lXTtzP3QucmVuZGVyZXJzW2kubmFtZV09ZnVuY3Rpb24oLi4uYSl7bGV0IG89aS5yZW5kZXJlci5hcHBseSh0aGlzLGEpO3JldHVybiBvPT09ITEmJihvPXMuYXBwbHkodGhpcyxhKSksb306dC5yZW5kZXJlcnNbaS5uYW1lXT1pLnJlbmRlcmVyfWlmKFwidG9rZW5pemVyXCJpbiBpKXtpZighaS5sZXZlbHx8aS5sZXZlbCE9PVwiYmxvY2tcIiYmaS5sZXZlbCE9PVwiaW5saW5lXCIpdGhyb3cgbmV3IEVycm9yKFwiZXh0ZW5zaW9uIGxldmVsIG11c3QgYmUgJ2Jsb2NrJyBvciAnaW5saW5lJ1wiKTtsZXQgcz10W2kubGV2ZWxdO3M/cy51bnNoaWZ0KGkudG9rZW5pemVyKTp0W2kubGV2ZWxdPVtpLnRva2VuaXplcl0saS5zdGFydCYmKGkubGV2ZWw9PT1cImJsb2NrXCI/dC5zdGFydEJsb2NrP3Quc3RhcnRCbG9jay5wdXNoKGkuc3RhcnQpOnQuc3RhcnRCbG9jaz1baS5zdGFydF06aS5sZXZlbD09PVwiaW5saW5lXCImJih0LnN0YXJ0SW5saW5lP3Quc3RhcnRJbmxpbmUucHVzaChpLnN0YXJ0KTp0LnN0YXJ0SW5saW5lPVtpLnN0YXJ0XSkpfVwiY2hpbGRUb2tlbnNcImluIGkmJmkuY2hpbGRUb2tlbnMmJih0LmNoaWxkVG9rZW5zW2kubmFtZV09aS5jaGlsZFRva2Vucyl9KSxyLmV4dGVuc2lvbnM9dCksbi5yZW5kZXJlcil7bGV0IGk9dGhpcy5kZWZhdWx0cy5yZW5kZXJlcnx8bmV3IFAodGhpcy5kZWZhdWx0cyk7Zm9yKGxldCBzIGluIG4ucmVuZGVyZXIpe2lmKCEocyBpbiBpKSl0aHJvdyBuZXcgRXJyb3IoYHJlbmRlcmVyICcke3N9JyBkb2VzIG5vdCBleGlzdGApO2lmKFtcIm9wdGlvbnNcIixcInBhcnNlclwiXS5pbmNsdWRlcyhzKSljb250aW51ZTtsZXQgYT1zLG89bi5yZW5kZXJlclthXSxsPWlbYV07aVthXT0oLi4ucCk9PntsZXQgYz1vLmFwcGx5KGkscCk7cmV0dXJuIGM9PT0hMSYmKGM9bC5hcHBseShpLHApKSxjfHxcIlwifX1yLnJlbmRlcmVyPWl9aWYobi50b2tlbml6ZXIpe2xldCBpPXRoaXMuZGVmYXVsdHMudG9rZW5pemVyfHxuZXcgeSh0aGlzLmRlZmF1bHRzKTtmb3IobGV0IHMgaW4gbi50b2tlbml6ZXIpe2lmKCEocyBpbiBpKSl0aHJvdyBuZXcgRXJyb3IoYHRva2VuaXplciAnJHtzfScgZG9lcyBub3QgZXhpc3RgKTtpZihbXCJvcHRpb25zXCIsXCJydWxlc1wiLFwibGV4ZXJcIl0uaW5jbHVkZXMocykpY29udGludWU7bGV0IGE9cyxvPW4udG9rZW5pemVyW2FdLGw9aVthXTtpW2FdPSguLi5wKT0+e2xldCBjPW8uYXBwbHkoaSxwKTtyZXR1cm4gYz09PSExJiYoYz1sLmFwcGx5KGkscCkpLGN9fXIudG9rZW5pemVyPWl9aWYobi5ob29rcyl7bGV0IGk9dGhpcy5kZWZhdWx0cy5ob29rc3x8bmV3IFM7Zm9yKGxldCBzIGluIG4uaG9va3Mpe2lmKCEocyBpbiBpKSl0aHJvdyBuZXcgRXJyb3IoYGhvb2sgJyR7c30nIGRvZXMgbm90IGV4aXN0YCk7aWYoW1wib3B0aW9uc1wiLFwiYmxvY2tcIl0uaW5jbHVkZXMocykpY29udGludWU7bGV0IGE9cyxvPW4uaG9va3NbYV0sbD1pW2FdO1MucGFzc1Rocm91Z2hIb29rcy5oYXMocyk/aVthXT1wPT57aWYodGhpcy5kZWZhdWx0cy5hc3luYyYmUy5wYXNzVGhyb3VnaEhvb2tzUmVzcGVjdEFzeW5jLmhhcyhzKSlyZXR1cm4oYXN5bmMoKT0+e2xldCBnPWF3YWl0IG8uY2FsbChpLHApO3JldHVybiBsLmNhbGwoaSxnKX0pKCk7bGV0IGM9by5jYWxsKGkscCk7cmV0dXJuIGwuY2FsbChpLGMpfTppW2FdPSguLi5wKT0+e2lmKHRoaXMuZGVmYXVsdHMuYXN5bmMpcmV0dXJuKGFzeW5jKCk9PntsZXQgZz1hd2FpdCBvLmFwcGx5KGkscCk7cmV0dXJuIGc9PT0hMSYmKGc9YXdhaXQgbC5hcHBseShpLHApKSxnfSkoKTtsZXQgYz1vLmFwcGx5KGkscCk7cmV0dXJuIGM9PT0hMSYmKGM9bC5hcHBseShpLHApKSxjfX1yLmhvb2tzPWl9aWYobi53YWxrVG9rZW5zKXtsZXQgaT10aGlzLmRlZmF1bHRzLndhbGtUb2tlbnMscz1uLndhbGtUb2tlbnM7ci53YWxrVG9rZW5zPWZ1bmN0aW9uKGEpe2xldCBvPVtdO3JldHVybiBvLnB1c2gocy5jYWxsKHRoaXMsYSkpLGkmJihvPW8uY29uY2F0KGkuY2FsbCh0aGlzLGEpKSksb319dGhpcy5kZWZhdWx0cz17Li4udGhpcy5kZWZhdWx0cywuLi5yfX0pLHRoaXN9c2V0T3B0aW9ucyhlKXtyZXR1cm4gdGhpcy5kZWZhdWx0cz17Li4udGhpcy5kZWZhdWx0cywuLi5lfSx0aGlzfWxleGVyKGUsdCl7cmV0dXJuIHgubGV4KGUsdD8/dGhpcy5kZWZhdWx0cyl9cGFyc2VyKGUsdCl7cmV0dXJuIGIucGFyc2UoZSx0Pz90aGlzLmRlZmF1bHRzKX1wYXJzZU1hcmtkb3duKGUpe3JldHVybihuLHIpPT57bGV0IGk9ey4uLnJ9LHM9ey4uLnRoaXMuZGVmYXVsdHMsLi4uaX0sYT10aGlzLm9uRXJyb3IoISFzLnNpbGVudCwhIXMuYXN5bmMpO2lmKHRoaXMuZGVmYXVsdHMuYXN5bmM9PT0hMCYmaS5hc3luYz09PSExKXJldHVybiBhKG5ldyBFcnJvcihcIm1hcmtlZCgpOiBUaGUgYXN5bmMgb3B0aW9uIHdhcyBzZXQgdG8gdHJ1ZSBieSBhbiBleHRlbnNpb24uIFJlbW92ZSBhc3luYzogZmFsc2UgZnJvbSB0aGUgcGFyc2Ugb3B0aW9ucyBvYmplY3QgdG8gcmV0dXJuIGEgUHJvbWlzZS5cIikpO2lmKHR5cGVvZiBuPlwidVwifHxuPT09bnVsbClyZXR1cm4gYShuZXcgRXJyb3IoXCJtYXJrZWQoKTogaW5wdXQgcGFyYW1ldGVyIGlzIHVuZGVmaW5lZCBvciBudWxsXCIpKTtpZih0eXBlb2YgbiE9XCJzdHJpbmdcIilyZXR1cm4gYShuZXcgRXJyb3IoXCJtYXJrZWQoKTogaW5wdXQgcGFyYW1ldGVyIGlzIG9mIHR5cGUgXCIrT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pK1wiLCBzdHJpbmcgZXhwZWN0ZWRcIikpO2lmKHMuaG9va3MmJihzLmhvb2tzLm9wdGlvbnM9cyxzLmhvb2tzLmJsb2NrPWUpLHMuYXN5bmMpcmV0dXJuKGFzeW5jKCk9PntsZXQgbz1zLmhvb2tzP2F3YWl0IHMuaG9va3MucHJlcHJvY2VzcyhuKTpuLHA9YXdhaXQocy5ob29rcz9hd2FpdCBzLmhvb2tzLnByb3ZpZGVMZXhlcigpOmU/eC5sZXg6eC5sZXhJbmxpbmUpKG8scyksYz1zLmhvb2tzP2F3YWl0IHMuaG9va3MucHJvY2Vzc0FsbFRva2VucyhwKTpwO3Mud2Fsa1Rva2VucyYmYXdhaXQgUHJvbWlzZS5hbGwodGhpcy53YWxrVG9rZW5zKGMscy53YWxrVG9rZW5zKSk7bGV0IGg9YXdhaXQocy5ob29rcz9hd2FpdCBzLmhvb2tzLnByb3ZpZGVQYXJzZXIoKTplP2IucGFyc2U6Yi5wYXJzZUlubGluZSkoYyxzKTtyZXR1cm4gcy5ob29rcz9hd2FpdCBzLmhvb2tzLnBvc3Rwcm9jZXNzKGgpOmh9KSgpLmNhdGNoKGEpO3RyeXtzLmhvb2tzJiYobj1zLmhvb2tzLnByZXByb2Nlc3MobikpO2xldCBsPShzLmhvb2tzP3MuaG9va3MucHJvdmlkZUxleGVyKCk6ZT94LmxleDp4LmxleElubGluZSkobixzKTtzLmhvb2tzJiYobD1zLmhvb2tzLnByb2Nlc3NBbGxUb2tlbnMobCkpLHMud2Fsa1Rva2VucyYmdGhpcy53YWxrVG9rZW5zKGwscy53YWxrVG9rZW5zKTtsZXQgYz0ocy5ob29rcz9zLmhvb2tzLnByb3ZpZGVQYXJzZXIoKTplP2IucGFyc2U6Yi5wYXJzZUlubGluZSkobCxzKTtyZXR1cm4gcy5ob29rcyYmKGM9cy5ob29rcy5wb3N0cHJvY2VzcyhjKSksY31jYXRjaChvKXtyZXR1cm4gYShvKX19fW9uRXJyb3IoZSx0KXtyZXR1cm4gbj0+e2lmKG4ubWVzc2FnZSs9YFxuUGxlYXNlIHJlcG9ydCB0aGlzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJrZWRqcy9tYXJrZWQuYCxlKXtsZXQgcj1cIjxwPkFuIGVycm9yIG9jY3VycmVkOjwvcD48cHJlPlwiK3cobi5tZXNzYWdlK1wiXCIsITApK1wiPC9wcmU+XCI7cmV0dXJuIHQ/UHJvbWlzZS5yZXNvbHZlKHIpOnJ9aWYodClyZXR1cm4gUHJvbWlzZS5yZWplY3Qobik7dGhyb3cgbn19fTt2YXIgXz1uZXcgQjtmdW5jdGlvbiBkKHUsZSl7cmV0dXJuIF8ucGFyc2UodSxlKX1kLm9wdGlvbnM9ZC5zZXRPcHRpb25zPWZ1bmN0aW9uKHUpe3JldHVybiBfLnNldE9wdGlvbnModSksZC5kZWZhdWx0cz1fLmRlZmF1bHRzLFooZC5kZWZhdWx0cyksZH07ZC5nZXREZWZhdWx0cz1MO2QuZGVmYXVsdHM9VDtkLnVzZT1mdW5jdGlvbiguLi51KXtyZXR1cm4gXy51c2UoLi4udSksZC5kZWZhdWx0cz1fLmRlZmF1bHRzLFooZC5kZWZhdWx0cyksZH07ZC53YWxrVG9rZW5zPWZ1bmN0aW9uKHUsZSl7cmV0dXJuIF8ud2Fsa1Rva2Vucyh1LGUpfTtkLnBhcnNlSW5saW5lPV8ucGFyc2VJbmxpbmU7ZC5QYXJzZXI9YjtkLnBhcnNlcj1iLnBhcnNlO2QuUmVuZGVyZXI9UDtkLlRleHRSZW5kZXJlcj0kO2QuTGV4ZXI9eDtkLmxleGVyPXgubGV4O2QuVG9rZW5pemVyPXk7ZC5Ib29rcz1TO2QucGFyc2U9ZDt2YXIgRHQ9ZC5vcHRpb25zLEh0PWQuc2V0T3B0aW9ucyxadD1kLnVzZSxHdD1kLndhbGtUb2tlbnMsTnQ9ZC5wYXJzZUlubGluZSxRdD1kLEZ0PWIucGFyc2UsanQ9eC5sZXg7ZXhwb3J0e1MgYXMgSG9va3MseCBhcyBMZXhlcixCIGFzIE1hcmtlZCxiIGFzIFBhcnNlcixQIGFzIFJlbmRlcmVyLCQgYXMgVGV4dFJlbmRlcmVyLHkgYXMgVG9rZW5pemVyLFQgYXMgZGVmYXVsdHMsTCBhcyBnZXREZWZhdWx0cyxqdCBhcyBsZXhlcixkIGFzIG1hcmtlZCxEdCBhcyBvcHRpb25zLFF0IGFzIHBhcnNlLE50IGFzIHBhcnNlSW5saW5lLEZ0IGFzIHBhcnNlcixIdCBhcyBzZXRPcHRpb25zLFp0IGFzIHVzZSxHdCBhcyB3YWxrVG9rZW5zfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcmtlZC5lc20uanMubWFwXG4iLCJpbXBvcnQgQ29tcG9uZW50ICAgZnJvbSAnLi9CYXNlLm1qcyc7XG5pbXBvcnQgSGlnaGxpZ2h0SnMgZnJvbSAnLi4vdXRpbC9IaWdobGlnaHRKcy5tanMnO1xuaW1wb3J0IElkR2VuZXJhdG9yIGZyb20gJy4uL2NvcmUvSWRHZW5lcmF0b3IubWpzJztcbmltcG9ydCB7bWFya2VkfSAgICBmcm9tICcuLi8uLi9ub2RlX21vZHVsZXMvbWFya2VkL2xpYi9tYXJrZWQuZXNtLmpzJztcblxuY29uc3RcbiAgICByZWdleEZyb250TWF0dGVyICA9IC9eLS0tXFxuKFtcXHNcXFNdKj8pXFxuLS0tXFxuLyxcbiAgICByZWdleExhYkNsb3NlICAgICA9IC88IS0tXFxzKlxcL2xhYlxccyotLT4vZyxcbiAgICByZWdleExhYk9wZW4gICAgICA9IC88IS0tXFxzKmxhYlxccyotLT4vZyxcbiAgICByZWdleExpdmVQcmV2aWV3ICA9IC9gYGAoamF2YXNjcmlwdHxodG1sfGNzc3xqc29uKVxccytsaXZlLXByZXZpZXdcXHMqXFxuKFtcXHNcXFNdKj8pXFxuXFxzKmBgYC9nLFxuICAgIHJlZ2V4TWVybWFpZCAgICAgID0gL2BgYG1lcm1haWRcXHMqXFxuKFtcXHNcXFNdKj8pXFxuXFxzKmBgYC9nLFxuICAgIHJlZ2V4TmVvQ29tcG9uZW50ID0gL2BgYGpzb25cXHMrbmVvLWNvbXBvbmVudFxccypcXG4oW1xcc1xcU10qPylcXG5cXHMqYGBgL2csXG4gICAgcmVnZXhOZXdMaW5lcyAgICAgPSAvXlxcbit8XFxuKyQvZyxcbiAgICByZWdleENvZGVCbG9jayAgICA9IC9gYGAoXFx3KikoPzpbXlxcbl0qKT9cXG4oW1xcc1xcU10qPylcXG5cXHMqYGBgL2csXG4gICAgcmVnZXhUaWNrZXRJZCAgICAgPSAvKF58W1xccyhdKSMoXFxkKylcXGIvZztcblxuLyoqXG4gKiBAc3VtbWFyeSBBIHNwZWNpYWxpemVkIGNvbXBvbmVudCBmb3IgcmVuZGVyaW5nIE1hcmtkb3duIGNvbnRlbnQuXG4gKlxuICogVGhpcyBjb21wb25lbnQgcHJvdmlkZXMgYSBkZWNsYXJhdGl2ZSB3YXkgdG8gZGlzcGxheSBNYXJrZG93biB3aXRoaW4gYSBOZW8ubWpzIGFwcGxpY2F0aW9uLlxuICogSXQgZW5jYXBzdWxhdGVzIHRoZSByZW5kZXJpbmcgbG9naWMgYW5kIHN0eWxpbmcsIGVuc3VyaW5nIGNvbnNpc3RlbmN5IGFjcm9zcyBkaWZmZXJlbnQgdmlld3MuXG4gKlxuICogSXQgc3VwcG9ydHM6XG4gKiAtICoqUmVhY3RpdmUgQ29udGVudCoqOiBVcGRhdGVzIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGUgYHZhbHVlYCBjb25maWcgY2hhbmdlcy5cbiAqIC0gKipJbnRlcmFjdGl2ZSBFbGVtZW50cyoqOiBQcm9wZXJseSBtb3VudHMgYW5kIG1hbmFnZXMgZW1iZWRkZWQgTmVvLm1qcyBjb21wb25lbnRzIChgbGl2ZS1wcmV2aWV3YCwgYG5lby1jb21wb25lbnRgKS5cbiAqIC0gKipMaWZlY3ljbGUgTWFuYWdlbWVudCoqOiBIYW5kbGVzIHRoZSBkZXN0cnVjdGlvbiBvZiBlbWJlZGRlZCBjb21wb25lbnRzIHdoZW4gdGhpcyBjb21wb25lbnQgaXMgZGVzdHJveWVkLlxuICpcbiAqIEBjbGFzcyBOZW8uY29tcG9uZW50Lk1hcmtkb3duXG4gKiBAZXh0ZW5kcyBOZW8uY29tcG9uZW50LkJhc2VcbiAqL1xuY2xhc3MgTWFya2Rvd24gZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBjb25maWcgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGNsYXNzTmFtZT0nTmVvLmNvbXBvbmVudC5NYXJrZG93bidcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgY2xhc3NOYW1lOiAnTmVvLmNvbXBvbmVudC5NYXJrZG93bicsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IG50eXBlPSdtYXJrZG93bidcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgbnR5cGU6ICdtYXJrZG93bicsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmdbXX0gYmFzZUNscz1bJ25lby1tYXJrZG93bi1jb21wb25lbnQnXVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBiYXNlQ2xzOiBbJ25lby1tYXJrZG93bi1jb21wb25lbnQnXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIFVSTCBmb3IgaXNzdWUgdHJhY2tpbmcuIFVzZWQgd2hlbiByZXBsYWNlVGlja2V0SWRzIGlzIHRydWUuXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gaXNzdWVzVXJsPSdodHRwczovL2dpdGh1Yi5jb20vbmVvbWpzL25lby9pc3N1ZXMvJ1xuICAgICAgICAgKi9cbiAgICAgICAgaXNzdWVzVXJsOiAnaHR0cHM6Ly9naXRodWIuY29tL25lb21qcy9uZW8vaXNzdWVzLycsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcnVlIHRvIHBhcnNlIGFuZCByZW5kZXIgWUFNTCBmcm9udG1hdHRlciAobWV0YWRhdGEpIGF0IHRoZSB0b3Agb2YgdGhlIGNvbnRlbnQuXG4gICAgICAgICAqIFVzZWZ1bCBmb3IgZGlzcGxheWluZyBmaWxlIG1ldGFkYXRhIGxpa2UgdGl0bGUsIGRhdGUsIG9yIHRhZ3MuXG4gICAgICAgICAqIEBtZW1iZXIge0Jvb2xlYW59IHJlbmRlckZyb250bWF0dGVyPXRydWVcbiAgICAgICAgICovXG4gICAgICAgIHJlbmRlckZyb250bWF0dGVyOiB0cnVlLFxuICAgICAgICAvKipcbiAgICAgICAgICogVHJ1ZSB0byBhdXRvbWF0aWNhbGx5IHJlcGxhY2UgdGlja2V0IHJlZmVyZW5jZXMgKGUuZy4gIzEyMykgd2l0aCBjbGlja2FibGUgbGlua3MuXG4gICAgICAgICAqIEBtZW1iZXIge0Jvb2xlYW59IHJlcGxhY2VUaWNrZXRJZHM9ZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHJlcGxhY2VUaWNrZXRJZHM6IGZhbHNlLFxuICAgICAgICAvKipcbiAgICAgICAgICogVHJ1ZSB0byB3cmFwIHRoZSByZW5kZXJlZCBmcm9udG1hdHRlciB0YWJsZSBpbiBhIGNvbGxhcHNpYmxlIDxkZXRhaWxzPiB0YWcuXG4gICAgICAgICAqIFRoaXMga2VlcHMgdGhlIG1ldGFkYXRhIGFjY2Vzc2libGUgYnV0IHVub2J0cnVzaXZlLCBjb2xsYXBzZWQgYnkgZGVmYXVsdC5cbiAgICAgICAgICogQG1lbWJlciB7Qm9vbGVhbn0gdXNlRnJvbnRtYXR0ZXJEZXRhaWxzPXRydWVcbiAgICAgICAgICovXG4gICAgICAgIHVzZUZyb250bWF0dGVyRGV0YWlsczogdHJ1ZSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ3xudWxsfSB2YWx1ZV89bnVsbFxuICAgICAgICAgKiBAcmVhY3RpdmVcbiAgICAgICAgICovXG4gICAgICAgIHZhbHVlXzogbnVsbCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ3xudWxsfSB3aW5kb3dVcmw9bnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgd2luZG93VXJsOiBudWxsXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7TmVvLmNvbXBvbmVudC5CYXNlW119IGFjdGl2ZUNvbXBvbmVudHM9W11cbiAgICAgKi9cbiAgICBhY3RpdmVDb21wb25lbnRzID0gW11cblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge1JlZ0V4cH0gcmVnZXhJbmxpbmVDb2RlPS9gKFteYF0rKWAvZ1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgc3RhdGljIHJlZ2V4SW5saW5lQ29kZSA9IC9gKFteYF0rKWAvZ1xuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGFmdGVyIHRoZSBtb3VudGVkIGNvbmZpZyBnb3QgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gdmFsdWVcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9sZFZhbHVlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGFmdGVyU2V0TW91bnRlZCh2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgc3VwZXIuYWZ0ZXJTZXRNb3VudGVkKHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50U3RhdGUodmFsdWUpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGFmdGVyIHRoZSB2YWx1ZSBjb25maWcgZ290IGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IG9sZFZhbHVlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGFzeW5jIGFmdGVyU2V0VmFsdWUodmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgbGV0IG1lID0gdGhpcztcblxuICAgICAgICAgICAgdmFsdWUgPSBtZS5tb2RpZnlNYXJrZG93bih2YWx1ZSk7XG5cbiAgICAgICAgICAgIC8vIENsZWFuIHVwIHByZXZpb3VzIGluc3RhbmNlc1xuICAgICAgICAgICAgbWUuZGVzdHJveUNvbXBvbmVudHMoKTtcblxuICAgICAgICAgICAgYXdhaXQgbWUucmVuZGVyKHtjb2RlOiB2YWx1ZX0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgdGhlIHdpbmRvd0lkIGNvbmZpZyBnb3QgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IHZhbHVlXG4gICAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gb2xkVmFsdWVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgYXN5bmMgYWZ0ZXJTZXRXaW5kb3dJZCh2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgc3VwZXIuYWZ0ZXJTZXRXaW5kb3dJZCh2YWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgICB0aGlzLmFjdGl2ZUNvbXBvbmVudHMuZm9yRWFjaChjb21wb25lbnQgPT4gY29tcG9uZW50LndpbmRvd0lkID0gdmFsdWUpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGJlZm9yZSB0aGUgdmFsdWUgY29uZmlnIGdldHMgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IHZhbHVlXG4gICAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gb2xkVmFsdWVcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfG51bGx9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGJlZm9yZVNldFZhbHVlKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGxldCBsb3dlciA9IHZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICBpZiAobG93ZXIuc3RhcnRzV2l0aCgnPCFkb2N0eXBlIGh0bWw+JykgfHwgbG93ZXIuc3RhcnRzV2l0aCgnPGh0bWwnKSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ01hcmtkb3duIGNvbXBvbmVudCByZWNlaXZlZCBhbiBIVE1MIGRvY3VtZW50IGluc3RlYWQgb2YgbWFya2Rvd24gY29udGVudC4gVGhpcyB1c3VhbGx5IGluZGljYXRlcyBhIDQwNCBvciBzZXJ2ZXIgZXJyb3IuJywgdGhpcy5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9sZFZhbHVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFsbCBjcmVhdGVkIGNoaWxkIGluc3RhbmNlc1xuICAgICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xuICAgICAqL1xuICAgIGRlc3Ryb3koLi4uYXJncykge1xuICAgICAgICB0aGlzLmRlc3Ryb3lDb21wb25lbnRzKCk7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koLi4uYXJncylcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyBhbGwgY29tcG9uZW50cyBjcmVhdGVkIGJ5IHRoZSBsYXN0IHJlbmRlciBwYXNzLlxuICAgICAqL1xuICAgIGRlc3Ryb3lDb21wb25lbnRzKCkge1xuICAgICAgICBsZXQgbWUgPSB0aGlzO1xuXG4gICAgICAgIG1lLmFjdGl2ZUNvbXBvbmVudHMuZm9yRWFjaChjb21wb25lbnQgPT4gY29tcG9uZW50LmRlc3Ryb3koKSk7XG4gICAgICAgIG1lLmFjdGl2ZUNvbXBvbmVudHMgPSBbXVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICovXG4gICAgaW5zZXJ0TGFiRGl2cyhpbnB1dFN0cmluZykge1xuICAgICAgICBpbnB1dFN0cmluZyA9IGlucHV0U3RyaW5nLnJlcGxhY2UocmVnZXhMYWJPcGVuLCAnPGRpdiBjbGFzcz1cImxhYlwiPicpO1xuICAgICAgICBpbnB1dFN0cmluZyA9IGlucHV0U3RyaW5nLnJlcGxhY2UocmVnZXhMYWJDbG9zZSwgJzwvZGl2PicpO1xuICAgICAgICByZXR1cm4gaW5wdXRTdHJpbmdcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKi9cbiAgICBmb3JtYXRGcm9udE1hdHRlclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmpvaW4oJywgJylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgcmV0dXJuIGA8aSBjbGFzcz1cImZhLXNvbGlkIGZhLSR7dmFsdWUgPyAnY2hlY2snIDogJ3htYXJrJ31cIj48L2k+YFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIElTTyBEYXRlXG4gICAgICAgICAgICBpZiAoL15cXGR7NH0tXFxkezJ9LVxcZHsyfVQvLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHZhbHVlKS50b0xvY2FsZVN0cmluZygpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVSTFxuICAgICAgICAgICAgaWYgKC9eaHR0cHM/OlxcL1xcLy8udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYDxhIGhyZWY9XCIke3ZhbHVlfVwiIHRhcmdldD1cIl9ibGFua1wiPiR7dmFsdWV9PC9hPmBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKi9cbiAgICBmcm9udE1hdHRlclRvSHRtbChkYXRhKSB7XG4gICAgICAgIGxldCBtZSAgID0gdGhpcyxcbiAgICAgICAgICAgIGh0bWwgPSAnPHRhYmxlIGNsYXNzPVwibmVvLWZyb250bWF0dGVyLXRhYmxlXCI+PHRib2R5Pic7XG5cbiAgICAgICAgT2JqZWN0LmVudHJpZXMoZGF0YSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBodG1sICs9IGA8dHI+PHRkPiR7a2V5fTwvdGQ+PHRkPiR7bWUuZm9ybWF0RnJvbnRNYXR0ZXJWYWx1ZSh2YWx1ZSl9PC90ZD48L3RyPmBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaHRtbCArPSAnPC90Ym9keT48L3RhYmxlPic7XG5cbiAgICAgICAgaWYgKG1lLnVzZUZyb250bWF0dGVyRGV0YWlscykge1xuICAgICAgICAgICAgcmV0dXJuIGA8ZGV0YWlscz48c3VtbWFyeT5Gcm9udG1hdHRlcjwvc3VtbWFyeT4ke2h0bWx9PC9kZXRhaWxzPmBcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBodG1sXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW9kaWZpZXMgdGhlIG1hcmtkb3duIGNvbnRlbnQgYmVmb3JlIHJlbmRlcmluZy5cbiAgICAgKiBEZWZhdWx0IGltcGxlbWVudGF0aW9uIHBhcnNlcyBoZWFkbGluZXMgdG8gYWRkIHNwZWNpZmljIGNsYXNzZXMuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnRcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICAqL1xuICAgIG1vZGlmeU1hcmtkb3duKGNvbnRlbnQpIHtcbiAgICAgICAgbGV0IG1lID0gdGhpcztcblxuICAgICAgICBpZiAocmVnZXhGcm9udE1hdHRlci50ZXN0KGNvbnRlbnQpKSB7XG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKHJlZ2V4RnJvbnRNYXR0ZXIsIChtYXRjaCwgZnJvbnRtYXR0ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIW1lLnJlbmRlckZyb250bWF0dGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnJ1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZS5mcm9udE1hdHRlclRvSHRtbChtZS5wYXJzZUZyb250TWF0dGVyKGZyb250bWF0dGVyKSkgKyAnXFxuJ1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBGcm9udE1hdHRlcicsIGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1lLnJlcGxhY2VUaWNrZXRJZHMpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UocmVnZXhUaWNrZXRJZCwgYCQxPGEgaHJlZj1cIiR7bWUuaXNzdWVzVXJsfSQyXCIgdGFyZ2V0PVwiX2JsYW5rXCI+IyQyPC9hPmApXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcm93cyAgICAgICAgICA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpLFxuICAgICAgICAgICAgaSAgICAgICAgICAgICA9IDAsXG4gICAgICAgICAgICBsZW4gICAgICAgICAgID0gcm93cy5sZW5ndGgsXG4gICAgICAgICAgICBoZWFkbGluZUluZGV4ID0gMSxcbiAgICAgICAgICAgIHJvdywgdGFnO1xuXG4gICAgICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHJvdyA9IHJvd3NbaV07XG4gICAgICAgICAgICB0YWcgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAocm93LnN0YXJ0c1dpdGgoJyMnKSAmJiByb3cuY2hhckF0KDEpICE9PSAnIycpIHtcbiAgICAgICAgICAgICAgICByb3cgPSByb3cuc3Vic3RyaW5nKDEpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB0YWcgPSAnaDEnXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJvdy5zdGFydHNXaXRoKCcjIycpICYmIHJvdy5jaGFyQXQoMikgIT09ICcjJykge1xuICAgICAgICAgICAgICAgIHJvdyA9IHJvdy5zdWJzdHJpbmcoMikudHJpbSgpO1xuICAgICAgICAgICAgICAgIHRhZyA9ICdoMidcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocm93LnN0YXJ0c1dpdGgoJyMjIycpICYmIHJvdy5jaGFyQXQoMykgIT09ICcjJykge1xuICAgICAgICAgICAgICAgIHJvdyA9IHJvdy5zdWJzdHJpbmcoMykudHJpbSgpO1xuICAgICAgICAgICAgICAgIHRhZyA9ICdoMydcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRhZykge1xuICAgICAgICAgICAgICAgIHJvd3NbaV0gPSBtZS5vbkhlYWRsaW5lKHRhZywgcm93LCBoZWFkbGluZUluZGV4KTtcbiAgICAgICAgICAgICAgICBoZWFkbGluZUluZGV4Kys7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbmV4dCBsaW5lIGlzIG5vdCBlbXB0eSwgYWRkIG9uZVxuICAgICAgICAgICAgICAgIGlmIChyb3dzW2kgKyAxXSAmJiByb3dzW2kgKyAxXSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgcm93cy5zcGxpY2UoaSArIDEsIDAsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgbGVuKys7XG4gICAgICAgICAgICAgICAgICAgIGkrK1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByb3dzLmpvaW4oJ1xcbicpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRhZ1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4XG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKi9cbiAgICBvbkhlYWRsaW5lKHRhZywgdGV4dCwgaW5kZXgpIHtcbiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSh0aGlzLmNvbnN0cnVjdG9yLnJlZ2V4SW5saW5lQ29kZSwgJzxjb2RlPiQxPC9jb2RlPicpO1xuICAgICAgICByZXR1cm4gYDwke3RhZ30gY2xhc3M9XCJuZW8tJHt0YWd9XCI+JHt0ZXh0fTwvJHt0YWd9PmBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgcGFyc2VGcm9udE1hdHRlcih0ZXh0KSB7XG4gICAgICAgIGxldCBkYXRhICAgICAgID0ge30sXG4gICAgICAgICAgICBsaW5lcyAgICAgID0gdGV4dC50cmltKCkuc3BsaXQoJ1xcbicpLFxuICAgICAgICAgICAgY3VycmVudEtleTtcblxuICAgICAgICBsaW5lcy5mb3JFYWNoKGxpbmUgPT4ge1xuICAgICAgICAgICAgbGV0IHRyaW1MaW5lID0gbGluZS50cmltKCk7XG5cbiAgICAgICAgICAgIGlmICghdHJpbUxpbmUgfHwgdHJpbUxpbmUuc3RhcnRzV2l0aCgnIycpKSByZXR1cm47IC8vIFNraXAgZW1wdHkgb3IgY29tbWVudHNcblxuICAgICAgICAgICAgLy8gQXJyYXkgaXRlbVxuICAgICAgICAgICAgaWYgKHRyaW1MaW5lLnN0YXJ0c1dpdGgoJy0gJykpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEtleSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YVtjdXJyZW50S2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbY3VycmVudEtleV0gPSBbXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRhdGFbY3VycmVudEtleV0ucHVzaCh0aGlzLnBhcnNlVmFsdWUodHJpbUxpbmUuc3Vic3RyaW5nKDIpKSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEtleS1WYWx1ZVxuICAgICAgICAgICAgbGV0IG1hdGNoID0gdHJpbUxpbmUubWF0Y2goL14oW1xcd1xcZF8tXSspOlxccyooLiopJC8pO1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudEtleSAgICAgICA9IG1hdGNoWzFdO1xuICAgICAgICAgICAgICAgIGRhdGFbY3VycmVudEtleV0gPSB0aGlzLnBhcnNlVmFsdWUobWF0Y2hbMl0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBkYXRhXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG4gICAgICogQHJldHVybnMge0Jvb2xlYW58TnVtYmVyfFN0cmluZ3xudWxsfVxuICAgICAqL1xuICAgIHBhcnNlVmFsdWUodmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50cmltKCk7XG5cbiAgICAgICAgaWYgKHZhbHVlID09PSAndHJ1ZScpICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKHZhbHVlID09PSAnZmFsc2UnKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gJ251bGwnKSAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgaWYgKCFpc05hTihOdW1iZXIodmFsdWUpKSAmJiB2YWx1ZSAhPT0gJycpIHJldHVybiBOdW1iZXIodmFsdWUpO1xuXG4gICAgICAgIGlmICgodmFsdWUuc3RhcnRzV2l0aChcIidcIikgJiYgdmFsdWUuZW5kc1dpdGgoXCInXCIpKSB8fCAodmFsdWUuc3RhcnRzV2l0aCgnXCInKSAmJiB2YWx1ZS5lbmRzV2l0aCgnXCInKSkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zbGljZSgxLCAtMSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50U3RyaW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICovXG4gICAgcHJvY2Vzc0xpdmVQcmV2aWV3QmxvY2tzKGNvbnRlbnRTdHJpbmcsIG1hcCkge1xuICAgICAgICByZXR1cm4gY29udGVudFN0cmluZy5yZXBsYWNlKHJlZ2V4TGl2ZVByZXZpZXcsIChtYXRjaCwgbGFuZ3VhZ2UsIGNvZGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IElkR2VuZXJhdG9yLmdldElkKCdwcmUtbGl2ZS1wcmV2aWV3Jyk7XG4gICAgICAgICAgICBtYXBba2V5XSA9IHtjb2RlLCBsYW5ndWFnZX07XG4gICAgICAgICAgICByZXR1cm4gYDxkaXYgaWQ9XCIke2tleX1cIj48L2Rpdj5gXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnRTdHJpbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKi9cbiAgICBwcm9jZXNzTWVybWFpZEJsb2Nrcyhjb250ZW50U3RyaW5nLCBtYXApIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnRTdHJpbmcucmVwbGFjZShyZWdleE1lcm1haWQsIChtYXRjaCwgY29kZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gSWRHZW5lcmF0b3IuZ2V0SWQoJ21lcm1haWQnKTtcbiAgICAgICAgICAgIG1hcFtrZXldID0gY29kZTtcbiAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz1cIm5lby1tZXJtYWlkXCIgaWQ9XCIke2tleX1cIj48L2Rpdj5gXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnRTdHJpbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKi9cbiAgICBwcm9jZXNzTmVvQ29tcG9uZW50c0Jsb2Nrcyhjb250ZW50U3RyaW5nLCBtYXApIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnRTdHJpbmcucmVwbGFjZShyZWdleE5lb0NvbXBvbmVudCwgKG1hdGNoLCBjb2RlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBJZEdlbmVyYXRvci5nZXRJZCgnbGVhcm4tY29udGVudC1jb21wb25lbnQnKTtcbiAgICAgICAgICAgIG1hcFtrZXldID0gSlNPTi5wYXJzZShjb2RlKTtcbiAgICAgICAgICAgIHJldHVybiBgPGRpdiBpZD1cIiR7a2V5fVwiPjwvZGl2PmBcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudFN0cmluZ1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB3aW5kb3dJZFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFN0cmluZz59XG4gICAgICovXG4gICAgYXN5bmMgcHJvY2Vzc1JlYWRvbmx5Q29kZUJsb2Nrcyhjb250ZW50U3RyaW5nLCB3aW5kb3dJZCkge1xuICAgICAgICBsZXQgcmVwbGFjZW1lbnRQcm9taXNlcyA9IFtdLFxuICAgICAgICAgICAgY291bnQgICAgICAgICAgICAgICA9IDAsXG4gICAgICAgICAgICByZXBsYWNlbWVudHM7XG5cbiAgICAgICAgbGV0IHVwZGF0ZWRDb250ZW50ID0gY29udGVudFN0cmluZy5yZXBsYWNlKHJlZ2V4Q29kZUJsb2NrLCAobWF0Y2gsIGxhbmd1YWdlLCBjb2RlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IGBfX05FTy1SRUFET05MWS1UT0tFTi0keysrY291bnR9X19gO1xuICAgICAgICAgICAgY29uc3QgbGFuZyAgPSAoIWxhbmd1YWdlIHx8IGxhbmd1YWdlLnRyaW0oKSA9PT0gJycgfHwgbGFuZ3VhZ2UgPT09ICd0ZXh0JykgPyAncGxhaW50ZXh0JyA6IGxhbmd1YWdlO1xuXG4gICAgICAgICAgICByZXBsYWNlbWVudFByb21pc2VzLnB1c2goXG4gICAgICAgICAgICAgICAgSGlnaGxpZ2h0SnMuaGlnaGxpZ2h0KGNvZGUsIGxhbmcsIHdpbmRvd0lkKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgSGlnaGxpZ2h0aW5nIGZhaWxlZCBmb3IgbGFuZ3VhZ2UgJyR7bGFuZ30nLCBmYWxsaW5nIGJhY2sgdG8gcGxhaW50ZXh0LmAsIGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSGlnaGxpZ2h0SnMuaGlnaGxpZ2h0KGNvZGUsICdwbGFpbnRleHQnLCB3aW5kb3dJZCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGhpZ2hsaWdodGVkSHRtbCA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXI6IGA8cHJlIGRhdGEtJHtsYW5nfSBjbGFzcz1cImhsanNcIiBpZD1cInByZS1yZWFkb25seS0ke0lkR2VuZXJhdG9yLmdldElkKCl9XCI+JHtoaWdobGlnaHRlZEh0bWwucmVwbGFjZShyZWdleE5ld0xpbmVzLCAnJyl9PC9wcmU+YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuXG4gICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVwbGFjZW1lbnRzID0gYXdhaXQgUHJvbWlzZS5hbGwocmVwbGFjZW1lbnRQcm9taXNlcyk7XG5cbiAgICAgICAgcmVwbGFjZW1lbnRzLmZvckVhY2gocmVwbGFjZW1lbnQgPT4ge1xuICAgICAgICAgICAgdXBkYXRlZENvbnRlbnQgPSB1cGRhdGVkQ29udGVudC5yZXBsYWNlKHJlcGxhY2VtZW50LnRva2VuLCByZXBsYWNlbWVudC5hZnRlcilcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHVwZGF0ZWRDb250ZW50XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3JjaGVzdHJhdGVzIHRoZSBNYXJrZG93biByZW5kZXJpbmcgcGlwZWxpbmUuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpbXBsZW1lbnRzIGEgKiptdWx0aS1wYXNzIGNvbXBpbGF0aW9uIHN0cmF0ZWd5KiogdG8gb3ZlcmNvbWUgdGhlIGxpbWl0YXRpb25zIG9mIHN0YW5kYXJkIE1hcmtkb3duIHBhcnNlcnNcbiAgICAgKiB3aGVuIGRlYWxpbmcgd2l0aCBkeW5hbWljIGNvbnRlbnQgYW5kIGFzeW5jaHJvbm91cyBvcGVyYXRpb25zOlxuICAgICAqXG4gICAgICogMS4gICoqRXh0cmFjdGlvbiBQYXNzKio6IEl0IGZpcnN0IHNjYW5zIHRoZSByYXcgbWFya2Rvd24gdG8gZXh0cmFjdCBgbmVvLWNvbXBvbmVudGAgYW5kIGBsaXZlLXByZXZpZXdgIGJsb2Nrcy4gVGhlc2UgYXJlXG4gICAgICogICAgIHJlcGxhY2VkIHdpdGggcGxhY2Vob2xkZXIgRElWcy4gVGhpcyBwcmV2ZW50cyB0aGUgTWFya2Rvd24gcGFyc2VyIGZyb20gbWFuZ2xpbmcgdGhlIEpTT04vY29kZSBjb25maWd1cmF0aW9ucy5cbiAgICAgKiAyLiAgKipIaWdobGlnaHRpbmcgUGFzcyoqOiBJdCBhc3luY2hyb25vdXNseSBwcm9jZXNzZXMgYHJlYWRvbmx5YCBjb2RlIGJsb2NrcyB1c2luZyBIaWdobGlnaHRKUy4gU2luY2UgYG1hcmtlZC5qc2AgaXMgc3luY2hyb25vdXMsXG4gICAgICogICAgIHdlIG11c3QgaGFuZGxlIHRoaXMgcHJlLXByb2Nlc3Npbmcgc3RlcCB0byBzdXBwb3J0IHN5bnRheCBoaWdobGlnaHRpbmcuXG4gICAgICogMy4gICoqUGFyc2luZyBQYXNzKio6IFRoZSB0cmFuc2Zvcm1lZCBjb250ZW50ICh3aXRoIHBsYWNlaG9sZGVycyBhbmQgaGlnaGxpZ2h0ZWQgY29kZSkgaXMgY29udmVydGVkIHRvIEhUTUwgdXNpbmcgYG1hcmtlZC5wYXJzZWAuXG4gICAgICogNC4gICoqSW5qZWN0aW9uIFBhc3MqKjogRmluYWxseSwgaXQgaXRlcmF0ZXMgb3ZlciB0aGUgZXh0cmFjdGVkIGNvbXBvbmVudCBtYXBzIChgbmVvQ29tcG9uZW50c2AsIGBuZW9EaXZzYCkgYW5kIGluc3RhbnRpYXRlc1xuICAgICAqICAgICB0aGUgYWN0dWFsIE5lby5tanMgY29tcG9uZW50cywgcmVuZGVyaW5nIHRoZW0gaW50byB0aGUgcGxhY2Vob2xkZXIgRElWcyB3aXRoaW4gdGhlIGdlbmVyYXRlZCBIVE1MLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGEuY29kZVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59XG4gICAgICovXG4gICAgYXN5bmMgcmVuZGVyKHtjb2RlfSkge1xuICAgICAgICBsZXQgbWUgICAgICAgICAgICA9IHRoaXMsXG4gICAgICAgICAgICB7d2luZG93SWR9ICAgID0gbWUsXG4gICAgICAgICAgICBjb250ZW50ICAgICAgID0gY29kZSxcbiAgICAgICAgICAgIG5lb0NvbXBvbmVudHMgPSB7fSxcbiAgICAgICAgICAgIG5lb0RpdnMgICAgICAgPSB7fSxcbiAgICAgICAgICAgIG1lcm1haWREaXZzICAgPSB7fSxcbiAgICAgICAgICAgIGJhc2VDb25maWdzICAgPSB7XG4gICAgICAgICAgICAgICAgYXBwTmFtZSAgICAgICAgOiBtZS5hcHBOYW1lLFxuICAgICAgICAgICAgICAgIGF1dG9Jbml0Vm5vZGUgIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhdXRvTW91bnQgICAgICA6IHRydWUsXG4gICAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50OiBtZS5wYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgd2luZG93SWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBodG1sLCBpbnN0YW5jZTtcblxuICAgICAgICAvLyBJbml0aWFsaXplIG1hcHMgZm9yIGN1c3RvbSBjb21wb25lbnRzIGFuZCBsaXZlIHByZXZpZXdzXG4gICAgICAgIG5lb0NvbXBvbmVudHMgPSB7fTtcbiAgICAgICAgbmVvRGl2cyAgICAgICA9IHt9O1xuXG4gICAgICAgIC8vIFByb2Nlc3MgY3VzdG9tIE5lby5tanMgY29tcG9uZW50IGJsb2NrcyAoc3luY2hyb25vdXMpXG4gICAgICAgIGNvbnRlbnQgPSBtZS5wcm9jZXNzTmVvQ29tcG9uZW50c0Jsb2Nrcyhjb250ZW50LCBuZW9Db21wb25lbnRzKTtcblxuICAgICAgICAvLyBQcm9jZXNzIGN1c3RvbSBMaXZlIFByZXZpZXcgYmxvY2tzIChzeW5jaHJvbm91cylcbiAgICAgICAgY29udGVudCA9IG1lLnByb2Nlc3NMaXZlUHJldmlld0Jsb2Nrcyhjb250ZW50LCBuZW9EaXZzKTtcblxuICAgICAgICAvLyBQcm9jZXNzIE1lcm1haWQgYmxvY2tzIChzeW5jaHJvbm91cylcbiAgICAgICAgY29udGVudCA9IG1lLnByb2Nlc3NNZXJtYWlkQmxvY2tzKGNvbnRlbnQsIG1lcm1haWREaXZzKTtcblxuICAgICAgICAvLyBQcm9jZXNzIGN1c3RvbSBSZWFkb25seSBDb2RlIGJsb2NrcyAoYXN5bmNocm9ub3VzIGR1ZSB0byBIaWdobGlnaHRKUylcbiAgICAgICAgLy8gVGhpcyB3aWxsIHJlcGxhY2UgdGhlIG1hcmtkb3duIGZlbmNlZCBibG9jayB3aXRoIHRoZSBoaWdobGlnaHRlZCBIVE1MIDxwcmU+IHRhZy5cbiAgICAgICAgY29udGVudCA9IGF3YWl0IG1lLnByb2Nlc3NSZWFkb25seUNvZGVCbG9ja3MoY29udGVudCwgYmFzZUNvbmZpZ3Mud2luZG93SWQpO1xuXG4gICAgICAgIC8vIFBhcnNlIHRoZSAobm93IG1vZGlmaWVkKSBtYXJrZG93biBjb250ZW50IGludG8gSFRNTFxuICAgICAgICAvLyBUaGlzIGNvbnRlbnQgc3RyaW5nIG5vdyBjb250YWlucyBzdGFuZGFyZCBtYXJrZG93biBQTFVTIHRoZSBIVE1MIGRpdnMvcHJlcyB3ZSBpbmplY3RlZC5cbiAgICAgICAgaHRtbCA9IG1hcmtlZC5wYXJzZShjb250ZW50KTtcblxuICAgICAgICAvLyBXcmFwIHJhdyBIVE1MIGltZyB0YWdzIGluIGEgc2Nyb2xsYWJsZSBjb250YWluZXJcbiAgICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZSgvPGltZyhbXj5dKik+L2csICc8ZGl2IGNsYXNzPVwibmVvLW1hcmtkb3duLWltYWdlLXdyYXBwZXJcIj48aW1nJDE+PC9kaXY+Jyk7XG5cbiAgICAgICAgLy8gSW5zZXJ0IGxhYiBkaXZzICh0aGVzZSBhcmUgbWFya2Rvd24gY29tbWVudHMsIHNvIHByb2Nlc3Mgb24gdGhlIGZpbmFsIEhUTUwpXG4gICAgICAgIGF3YWl0IG1lLnNldCh7aHRtbDogbWUuaW5zZXJ0TGFiRGl2cyhodG1sKX0pO1xuICAgICAgICBhd2FpdCBtZS50aW1lb3V0KDEwKTtcblxuICAgICAgICBpZiAoT2JqZWN0LmtleXMobmVvQ29tcG9uZW50cykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMobmVvQ29tcG9uZW50cykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gTmVvLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmJhc2VDb25maWdzLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdOZW8uY29tcG9uZW50LkJhc2UnLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRJZCA6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgLi4ubmVvQ29tcG9uZW50c1trZXldXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbWUuYWN0aXZlQ29tcG9uZW50cy5wdXNoKGluc3RhbmNlKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoT2JqZWN0LmtleXMobmVvRGl2cykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgTGl2ZVByZXZpZXdNb2R1bGUgPSBhd2FpdCBpbXBvcnQoJy4uL2NvZGUvTGl2ZVByZXZpZXcubWpzJyk7XG4gICAgICAgICAgICBjb25zdCBMaXZlUHJldmlld0NsYXNzICA9IExpdmVQcmV2aWV3TW9kdWxlLmRlZmF1bHQ7XG5cbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG5lb0RpdnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmJhc2VDb25maWdzLFxuICAgICAgICAgICAgICAgICAgICBtb2R1bGUgIDogTGl2ZVByZXZpZXdDbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50SWQ6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgICA6IG5lb0RpdnNba2V5XS5jb2RlXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG1lLndpbmRvd1VybCkge1xuICAgICAgICAgICAgICAgICAgICBjb25maWcud2luZG93VXJsID0gbWUud2luZG93VXJsXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBOZW8uY3JlYXRlKGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgbWUuYWN0aXZlQ29tcG9uZW50cy5wdXNoKGluc3RhbmNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG1lcm1haWREaXZzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBNZXJtYWlkID0gYXdhaXQgTmVvLmN1cnJlbnRXb3JrZXIuZ2V0QWRkb24oJ01lcm1haWQnLCB3aW5kb3dJZCk7XG5cbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG1lcm1haWREaXZzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgTWVybWFpZC5yZW5kZXIoe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBtZXJtYWlkRGl2c1trZXldLFxuICAgICAgICAgICAgICAgICAgICBpZCAgOiBrZXksXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvd0lkXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge31cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBtb3VudGVkIHN0YXRlIG9mIGFsbCB0cmFja2VkIGNvbXBvbmVudHMuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBtb3VudGVkXG4gICAgICovXG4gICAgdXBkYXRlQ29tcG9uZW50U3RhdGUobW91bnRlZCkge1xuICAgICAgICB0aGlzLmFjdGl2ZUNvbXBvbmVudHMuZm9yRWFjaChjb21wb25lbnQgPT4ge1xuICAgICAgICAgICAgaWYgKG1vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuaW5pdFZub2RlKHRydWUpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudC5tb3VudGVkID0gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKE1hcmtkb3duKTtcbiIsImltcG9ydCBCYXNlICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL2NvcmUvQmFzZS5tanMnO1xuaW1wb3J0IEhpZ2hsaWdodEpzTGluZU51bWJlcnMgZnJvbSAnLi9IaWdobGlnaHRKc0xpbmVOdW1iZXJzLm1qcyc7XG5cbi8qKlxuICogQGNsYXNzIE5lby51dGlsLkhpZ2hsaWdodEpzXG4gKiBAZXh0ZW5kcyBOZW8uY29yZS5CYXNlXG4gKiBAc2luZ2xldG9uXG4gKi9cbmNsYXNzIEhpZ2hsaWdodEpzIGV4dGVuZHMgQmFzZSB7XG4gICAgc3RhdGljIGNvbmZpZyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gY2xhc3NOYW1lPSdOZW8udXRpbC5IaWdobGlnaHRKcydcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgY2xhc3NOYW1lOiAnTmVvLnV0aWwuSGlnaGxpZ2h0SnMnLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7Qm9vbGVhbn0gZGVidWc9ZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIGRlYnVnOiB0cnVlLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7Qm9vbGVhbn0gc2luZ2xldG9uPXRydWVcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgc2luZ2xldG9uOiB0cnVlLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1c3RvbSB3aW5kb3dJcyAodGltZXN0YW1wKSB0aGlzIGNvbXBvbmVudCBiZWxvbmdzIHRvXG4gICAgICAgICAqIEBtZW1iZXIge051bWJlcnxudWxsfSB3aW5kb3dJZF89bnVsbFxuICAgICAgICAgKiBAcmVhY3RpdmVcbiAgICAgICAgICovXG4gICAgICAgIHdpbmRvd0lkXzogbnVsbFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudWxsfVxuICAgICAqL1xuICAgIGhsanMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGFmdGVyIHRoZSB3aW5kb3dJZCBjb25maWcgZ290IGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcnxudWxsfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfG51bGx9IG9sZFZhbHVlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGFmdGVyU2V0V2luZG93SWQodmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHZhbHVlICYmIE5lby5jdXJyZW50V29ya2VyLmluc2VydFRoZW1lRmlsZXModmFsdWUsIHRoaXMuX19wcm90b19fKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb2RlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGxhbmd1YWdlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHdpbmRvd0lkXG4gICAgICogQHJldHVybnMge1Byb21pc2U8U3RyaW5nPn1cbiAgICAgKi9cbiAgICBhc3luYyBoaWdobGlnaHQoY29kZSwgbGFuZ3VhZ2UsIHdpbmRvd0lkKSB7XG4gICAgICAgIGxldCBtZSA9IHRoaXM7XG5cbiAgICAgICAgbWUud2luZG93SWQgPSB3aW5kb3dJZDtcblxuICAgICAgICBhd2FpdCBtZS5sb2FkKCk7XG4gICAgICAgIHJldHVybiBtZS5obGpzLmhpZ2hsaWdodChjb2RlLCB7bGFuZ3VhZ2V9KS52YWx1ZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb2RlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHdpbmRvd0lkXG4gICAgICogQHJldHVybnMge1Byb21pc2U8U3RyaW5nPn1cbiAgICAgKi9cbiAgICBhc3luYyBoaWdobGlnaHRBdXRvKGNvZGUsIHdpbmRvd0lkKSB7XG4gICAgICAgIGxldCBtZSA9IHRoaXM7XG5cbiAgICAgICAgbWUud2luZG93SWQgPSB3aW5kb3dJZDtcblxuICAgICAgICBhd2FpdCBtZS5sb2FkKCk7XG4gICAgICAgIHJldHVybiBtZS5obGpzLmhpZ2hsaWdodEF1dG8oY29kZSkudmFsdWVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29kZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBsYW5ndWFnZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB3aW5kb3dJZFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFN0cmluZz59XG4gICAgICovXG4gICAgYXN5bmMgaGlnaGxpZ2h0TGluZShjb2RlLCBsYW5ndWFnZSwgd2luZG93SWQpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gYXdhaXQgdGhpcy5oaWdobGlnaHQoY29kZSwgbGFuZ3VhZ2UsIHdpbmRvd0lkKTtcbiAgICAgICAgcmV0dXJuIEhpZ2hsaWdodEpzTGluZU51bWJlcnMuYWRkTGluZU51bWJlcnModmFsdWUsIHdpbmRvd0lkKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb2RlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHdpbmRvd0lkXG4gICAgICogQHJldHVybnMge1Byb21pc2U8U3RyaW5nPn1cbiAgICAgKi9cbiAgICBhc3luYyBoaWdobGlnaHRBdXRvTGluZShjb2RlLCB3aW5kb3dJZCkge1xuICAgICAgICBsZXQgdmFsdWUgPSBhd2FpdCB0aGlzLmhpZ2hsaWdodEF1dG8oY29kZSwgd2luZG93SWQpO1xuICAgICAgICByZXR1cm4gSGlnaGxpZ2h0SnNMaW5lTnVtYmVycy5hZGRMaW5lTnVtYmVycyh2YWx1ZSwgd2luZG93SWQpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAgICovXG4gICAgYXN5bmMgbG9hZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhsanMpIHtcbiAgICAgICAgICAgIGxldCBwYXRoICAgPSBOZW8uY29uZmlnLmJhc2VQYXRoICsgJ2Rpc3QvaGlnaGxpZ2h0L2hpZ2hsaWdodC5jdXN0b20nICsgKHRoaXMuZGVidWcgPyAnJyA6ICcubWluJykgKyAnLmpzJyxcbiAgICAgICAgICAgICAgICBtb2R1bGUgPSBhd2FpdCBpbXBvcnQoLyogd2VicGFja0lnbm9yZTogdHJ1ZSAqLyBwYXRoKTtcblxuICAgICAgICAgICAgdGhpcy5obGpzID0gbW9kdWxlLmRlZmF1bHRcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoSGlnaGxpZ2h0SnMpO1xuIiwiaW1wb3J0IEJhc2UgZnJvbSAnLi4vY29yZS9CYXNlLm1qcyc7XG5cbmNvbnN0XG4gICAgZm9ybWF0UmVnZXggPSAvXFx7KFxcZCspXFx9L2csXG4gICAgbGluZVJlZ2V4ICAgPSAvXFxcXHJcXFxcbnxcXFxccnxcXFxcbi9nO1xuXG4vKipcbiAqIE5vZGUuanMtY2FwYWJsZSB2ZXJzaW9uIG9mOiBodHRwczovL2dpdGh1Yi5jb20veWF1aGVuaXBha2FsYS9oaWdobGlnaHRqcy1saW5lLW51bWJlcnMuanNcbiAqIEBjbGFzcyBOZW8udXRpbC5IaWdobGlnaHRKc0xpbmVOdW1iZXJzXG4gKiBAZXh0ZW5kcyBOZW8uY29yZS5CYXNlXG4gKiBAc2luZ2xldG9uXG4gKi9cbmNsYXNzIEhpZ2hsaWdodEpzTGluZU51bWJlcnMgZXh0ZW5kcyBCYXNlIHtcbiAgICBzdGF0aWMgY29uZmlnID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBjbGFzc05hbWU9J05lby51dGlsLkhpZ2hsaWdodEpzTGluZU51bWJlcnMnXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGNsYXNzTmFtZTogJ05lby51dGlsLkhpZ2hsaWdodEpzTGluZU51bWJlcnMnLFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7Qm9vbGVhbn0gc2luZ2xldG9uPXRydWVcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgc2luZ2xldG9uOiB0cnVlXG4gICAgfVxuXG4gICAgVEFCTEVfTkFNRSAgICAgICAgID0gJ2hsanMtbG4nXG4gICAgTElORV9OQU1FICAgICAgICAgID0gJ2hsanMtbG4tbGluZSdcbiAgICBDT0RFX0JMT0NLX05BTUUgICAgPSAnaGxqcy1sbi1jb2RlJ1xuICAgIE5VTUJFUlNfQkxPQ0tfTkFNRSA9ICdobGpzLWxuLW51bWJlcnMnXG4gICAgTlVNQkVSX0xJTkVfTkFNRSAgID0gJ2hsanMtbG4tbidcbiAgICBEQVRBX0FUVFJfTkFNRSAgICAgPSAnZGF0YS1saW5lLW51bWJlcidcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBmb3JtYXRcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKi9cbiAgICBmb3JtYXQoZm9ybWF0LCBhcmdzKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQucmVwbGFjZShmb3JtYXRSZWdleCwgZnVuY3Rpb24obSwgbil7XG4gICAgICAgICAgICByZXR1cm4gYXJnc1tuXSAhPT0gdW5kZWZpbmVkID8gYXJnc1tuXSA6IG1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaHRtbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB3aW5kb3dJZFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICovXG4gICAgYWRkTGluZU51bWJlcnMoaHRtbCwgd2luZG93SWQpIHtcbiAgICAgICAgbGV0IG1lICAgICA9IHRoaXMsXG4gICAgICAgICAgICBsaW5lcyAgPSBtZS5nZXRMaW5lcyhodG1sKSxcbiAgICAgICAgICAgIHJlc3VsdCA9ICcnO1xuXG4gICAgICAgIGlmIChsaW5lcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGluc3RhbmNlIGlzIG5vdCBhIGNvbXBvbmVudCBhbmQgc2hvdWxkIGxvYWQgcmVsYXRlZCBDU1MgZmlsZXMgaW50byB0aGUgdXNlZCB3aW5kb3dzLlxuICAgICAgICAgICAgd2luZG93SWQgJiYgTmVvLmN1cnJlbnRXb3JrZXIuaW5zZXJ0VGhlbWVGaWxlcyh3aW5kb3dJZCwgbWUuX19wcm90b19fKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBtZS5mb3JtYXQoW1xuICAgICAgICAgICAgICAgICAgICAnPHRyPicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHRkIGNsYXNzPVwiezB9IHsxfVwiIHszfT1cIns1fVwiPicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJ7Mn1cIiB7M309XCJ7NX1cIj48L2Rpdj4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJzwvdGQ+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICc8dGQgY2xhc3M9XCJ7MH0gezR9XCIgezN9PVwiezV9XCI+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnezZ9JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICc8L3RkPicsXG4gICAgICAgICAgICAgICAgICAgICc8L3RyPidcbiAgICAgICAgICAgICAgICBdLmpvaW4oJycpLCBbXG4gICAgICAgICAgICAgICAgICAgIG1lLkxJTkVfTkFNRSxcbiAgICAgICAgICAgICAgICAgICAgbWUuTlVNQkVSU19CTE9DS19OQU1FLFxuICAgICAgICAgICAgICAgICAgICBtZS5OVU1CRVJfTElORV9OQU1FLFxuICAgICAgICAgICAgICAgICAgICBtZS5EQVRBX0FUVFJfTkFNRSxcbiAgICAgICAgICAgICAgICAgICAgbWUuQ09ERV9CTE9DS19OQU1FLFxuICAgICAgICAgICAgICAgICAgICBpICsgMSxcbiAgICAgICAgICAgICAgICAgICAgbGluZXNbaV0ubGVuZ3RoID4gMCA/IGxpbmVzW2ldIDogJyAnXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG1lLmZvcm1hdCgnPHRhYmxlIGNsYXNzPVwiezB9XCI+ezF9PC90YWJsZT4nLCBbbWUuVEFCTEVfTkFNRSwgcmVzdWx0XSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBodG1sXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRleHRcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nW119XG4gICAgICovXG4gICAgZ2V0TGluZXModGV4dCkge1xuICAgICAgICBpZiAodGV4dC5sZW5ndGggPT09IDApIHJldHVybiBbXTtcbiAgICAgICAgY29uc3QgbGluZXMgPSB0ZXh0LnNwbGl0KGxpbmVSZWdleCk7XG5cbiAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCA+IDAgJiYgbGluZXNbbGluZXMubGVuZ3RoIC0gMV0udHJpbSgpID09PSAnJykge1xuICAgICAgICAgICAgbGluZXMucG9wKClcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsaW5lc1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoSGlnaGxpZ2h0SnNMaW5lTnVtYmVycyk7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9