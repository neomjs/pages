export const __webpack_esm_id__ = "vendors-src_component_Markdown_mjs";
export const __webpack_esm_ids__ = ["vendors-src_component_Markdown_mjs"];
export const __webpack_esm_modules__ = {

/***/ "./node_modules/marked/lib/marked.esm.js"
/*!***********************************************!*\
  !*** ./node_modules/marked/lib/marked.esm.js ***!
  \***********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Hooks: () => (/* binding */ S),
/* harmony export */   Lexer: () => (/* binding */ x),
/* harmony export */   Marked: () => (/* binding */ B),
/* harmony export */   Parser: () => (/* binding */ b),
/* harmony export */   Renderer: () => (/* binding */ P),
/* harmony export */   TextRenderer: () => (/* binding */ $),
/* harmony export */   Tokenizer: () => (/* binding */ y),
/* harmony export */   defaults: () => (/* binding */ T),
/* harmony export */   getDefaults: () => (/* binding */ L),
/* harmony export */   lexer: () => (/* binding */ jt),
/* harmony export */   marked: () => (/* binding */ d),
/* harmony export */   options: () => (/* binding */ Dt),
/* harmony export */   parse: () => (/* binding */ Qt),
/* harmony export */   parseInline: () => (/* binding */ Nt),
/* harmony export */   parser: () => (/* binding */ Ft),
/* harmony export */   setOptions: () => (/* binding */ Ht),
/* harmony export */   use: () => (/* binding */ Zt),
/* harmony export */   walkTokens: () => (/* binding */ Gt)
/* harmony export */ });
/**
 * marked v17.0.1 - a markdown parser
 * Copyright (c) 2018-2025, MarkedJS. (MIT License)
 * Copyright (c) 2011-2018, Christopher Jeffrey. (MIT License)
 * https://github.com/markedjs/marked
 */

/**
 * DO NOT EDIT THIS FILE
 * The code in this file is generated from files in ./src/
 */

function L(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var T=L();function Z(u){T=u}var C={exec:()=>null};function k(u,e=""){let t=typeof u=="string"?u:u.source,n={replace:(r,i)=>{let s=typeof i=="string"?i:i.source;return s=s.replace(m.caret,"$1"),t=t.replace(r,s),n},getRegex:()=>new RegExp(t,e)};return n}var me=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),m={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:u=>new RegExp(`^( {0,3}${u})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}#`),htmlBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}<(?:[a-z].*>|!--)`,"i")},xe=/^(?:[ \t]*(?:\n|$))+/,be=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Re=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,I=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Te=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,N=/(?:[*+-]|\d{1,9}[.)])/,re=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,se=k(re).replace(/bull/g,N).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Oe=k(re).replace(/bull/g,N).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Q=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,we=/^[^\n]+/,F=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,ye=k(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",F).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Pe=k(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,N).getRegex(),v="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",j=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Se=k("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",j).replace("tag",v).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ie=k(Q).replace("hr",I).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v).getRegex(),$e=k(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ie).getRegex(),U={blockquote:$e,code:be,def:ye,fences:Re,heading:Te,hr:I,html:Se,lheading:se,list:Pe,newline:xe,paragraph:ie,table:C,text:we},te=k("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",I).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v).getRegex(),_e={...U,lheading:Oe,table:te,paragraph:k(Q).replace("hr",I).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",te).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v).getRegex()},Le={...U,html:k(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",j).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:C,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:k(Q).replace("hr",I).replace("heading",` *#{1,6} *[^
]`).replace("lheading",se).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Me=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,ze=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,oe=/^( {2,}|\\)\n(?!\s*$)/,Ae=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,D=/[\p{P}\p{S}]/u,K=/[\s\p{P}\p{S}]/u,ae=/[^\s\p{P}\p{S}]/u,Ce=k(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,K).getRegex(),le=/(?!~)[\p{P}\p{S}]/u,Ie=/(?!~)[\s\p{P}\p{S}]/u,Ee=/(?:[^\s\p{P}\p{S}]|~)/u,Be=k(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",me?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),ue=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,qe=k(ue,"u").replace(/punct/g,D).getRegex(),ve=k(ue,"u").replace(/punct/g,le).getRegex(),pe="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",De=k(pe,"gu").replace(/notPunctSpace/g,ae).replace(/punctSpace/g,K).replace(/punct/g,D).getRegex(),He=k(pe,"gu").replace(/notPunctSpace/g,Ee).replace(/punctSpace/g,Ie).replace(/punct/g,le).getRegex(),Ze=k("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ae).replace(/punctSpace/g,K).replace(/punct/g,D).getRegex(),Ge=k(/\\(punct)/,"gu").replace(/punct/g,D).getRegex(),Ne=k(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Qe=k(j).replace("(?:-->|$)","-->").getRegex(),Fe=k("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Qe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),q=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,je=k(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",q).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ce=k(/^!?\[(label)\]\[(ref)\]/).replace("label",q).replace("ref",F).getRegex(),he=k(/^!?\[(ref)\](?:\[\])?/).replace("ref",F).getRegex(),Ue=k("reflink|nolink(?!\\()","g").replace("reflink",ce).replace("nolink",he).getRegex(),ne=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,W={_backpedal:C,anyPunctuation:Ge,autolink:Ne,blockSkip:Be,br:oe,code:ze,del:C,emStrongLDelim:qe,emStrongRDelimAst:De,emStrongRDelimUnd:Ze,escape:Me,link:je,nolink:he,punctuation:Ce,reflink:ce,reflinkSearch:Ue,tag:Fe,text:Ae,url:C},Ke={...W,link:k(/^!?\[(label)\]\((.*?)\)/).replace("label",q).getRegex(),reflink:k(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",q).getRegex()},G={...W,emStrongRDelimAst:He,emStrongLDelim:ve,url:k(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",ne).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:k(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",ne).getRegex()},We={...G,br:k(oe).replace("{2,}","*").getRegex(),text:k(G.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},E={normal:U,gfm:_e,pedantic:Le},M={normal:W,gfm:G,breaks:We,pedantic:Ke};var Xe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ke=u=>Xe[u];function w(u,e){if(e){if(m.escapeTest.test(u))return u.replace(m.escapeReplace,ke)}else if(m.escapeTestNoEncode.test(u))return u.replace(m.escapeReplaceNoEncode,ke);return u}function X(u){try{u=encodeURI(u).replace(m.percentDecode,"%")}catch{return null}return u}function J(u,e){let t=u.replace(m.findPipe,(i,s,a)=>{let o=!1,l=s;for(;--l>=0&&a[l]==="\\";)o=!o;return o?"|":" |"}),n=t.split(m.splitPipe),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(m.slashPipe,"|");return n}function z(u,e,t){let n=u.length;if(n===0)return"";let r=0;for(;r<n;){let i=u.charAt(n-r-1);if(i===e&&!t)r++;else if(i!==e&&t)r++;else break}return u.slice(0,n-r)}function de(u,e){if(u.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<u.length;n++)if(u[n]==="\\")n++;else if(u[n]===e[0])t++;else if(u[n]===e[1]&&(t--,t<0))return n;return t>0?-2:-1}function ge(u,e,t,n,r){let i=e.href,s=e.title||null,a=u[1].replace(r.other.outputLinkReplace,"$1");n.state.inLink=!0;let o={type:u[0].charAt(0)==="!"?"image":"link",raw:t,href:i,title:s,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,o}function Je(u,e,t){let n=u.match(t.other.indentCodeCompensation);if(n===null)return e;let r=n[1];return e.split(`
`).map(i=>{let s=i.match(t.other.beginningSpace);if(s===null)return i;let[a]=s;return a.length>=r.length?i.slice(r.length):i}).join(`
`)}var y=class{options;rules;lexer;constructor(e){this.options=e||T}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:z(n,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=Je(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let r=z(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:z(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=z(t[0],`
`).split(`
`),r="",i="",s=[];for(;n.length>0;){let a=!1,o=[],l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))o.push(n[l]),a=!0;else if(!a)o.push(n[l]);else break;n=n.slice(l);let p=o.join(`
`),c=p.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${p}`:p,i=i?`${i}
${c}`:c;let g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,s,!0),this.lexer.state.top=g,n.length===0)break;let h=s.at(-1);if(h?.type==="code")break;if(h?.type==="blockquote"){let R=h,f=R.raw+`
`+n.join(`
`),O=this.blockquote(f);s[s.length-1]=O,r=r.substring(0,r.length-R.raw.length)+O.raw,i=i.substring(0,i.length-R.text.length)+O.text;break}else if(h?.type==="list"){let R=h,f=R.raw+`
`+n.join(`
`),O=this.list(f);s[s.length-1]=O,r=r.substring(0,r.length-h.raw.length)+O.raw,i=i.substring(0,i.length-R.raw.length)+O.raw,n=f.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:s,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let s=this.rules.other.listItemRegex(n),a=!1;for(;e;){let l=!1,p="",c="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;p=t[0],e=e.substring(p.length);let g=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,O=>" ".repeat(3*O.length)),h=e.split(`
`,1)[0],R=!g.trim(),f=0;if(this.options.pedantic?(f=2,c=g.trimStart()):R?f=t[1].length+1:(f=t[2].search(this.rules.other.nonSpaceChar),f=f>4?1:f,c=g.slice(f),f+=t[1].length),R&&this.rules.other.blankLine.test(h)&&(p+=h+`
`,e=e.substring(h.length+1),l=!0),!l){let O=this.rules.other.nextBulletRegex(f),V=this.rules.other.hrRegex(f),Y=this.rules.other.fencesBeginRegex(f),ee=this.rules.other.headingBeginRegex(f),fe=this.rules.other.htmlBeginRegex(f);for(;e;){let H=e.split(`
`,1)[0],A;if(h=H,this.options.pedantic?(h=h.replace(this.rules.other.listReplaceNesting,"  "),A=h):A=h.replace(this.rules.other.tabCharGlobal,"    "),Y.test(h)||ee.test(h)||fe.test(h)||O.test(h)||V.test(h))break;if(A.search(this.rules.other.nonSpaceChar)>=f||!h.trim())c+=`
`+A.slice(f);else{if(R||g.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||Y.test(g)||ee.test(g)||V.test(g))break;c+=`
`+h}!R&&!h.trim()&&(R=!0),p+=H+`
`,e=e.substring(H.length+1),g=A.slice(f)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(a=!0)),i.items.push({type:"list_item",raw:p,task:!!this.options.gfm&&this.rules.other.listIsTask.test(c),loose:!1,text:c,tokens:[]}),i.raw+=p}let o=i.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let l of i.items){if(this.lexer.state.top=!1,l.tokens=this.lexer.blockTokens(l.text,[]),l.task){if(l.text=l.text.replace(this.rules.other.listReplaceTask,""),l.tokens[0]?.type==="text"||l.tokens[0]?.type==="paragraph"){l.tokens[0].raw=l.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),l.tokens[0].text=l.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let c=this.lexer.inlineQueue.length-1;c>=0;c--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[c].src)){this.lexer.inlineQueue[c].src=this.lexer.inlineQueue[c].src.replace(this.rules.other.listReplaceTask,"");break}}let p=this.rules.other.listTaskCheckbox.exec(l.raw);if(p){let c={type:"checkbox",raw:p[0]+" ",checked:p[0]!=="[ ]"};l.checked=c.checked,i.loose?l.tokens[0]&&["paragraph","text"].includes(l.tokens[0].type)&&"tokens"in l.tokens[0]&&l.tokens[0].tokens?(l.tokens[0].raw=c.raw+l.tokens[0].raw,l.tokens[0].text=c.raw+l.tokens[0].text,l.tokens[0].tokens.unshift(c)):l.tokens.unshift({type:"paragraph",raw:c.raw,text:c.raw,tokens:[c]}):l.tokens.unshift(c)}}if(!i.loose){let p=l.tokens.filter(g=>g.type==="space"),c=p.length>0&&p.some(g=>this.rules.other.anyLine.test(g.raw));i.loose=c}}if(i.loose)for(let l of i.items){l.loose=!0;for(let p of l.tokens)p.type==="text"&&(p.type="paragraph")}return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:i}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=J(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let a of r)this.rules.other.tableAlignRight.test(a)?s.align.push("right"):this.rules.other.tableAlignCenter.test(a)?s.align.push("center"):this.rules.other.tableAlignLeft.test(a)?s.align.push("left"):s.align.push(null);for(let a=0;a<n.length;a++)s.header.push({text:n[a],tokens:this.lexer.inline(n[a]),header:!0,align:s.align[a]});for(let a of i)s.rows.push(J(a,s.header.length).map((o,l)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:s.align[l]})));return s}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let s=z(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{let s=de(t[2],"()");if(s===-2)return;if(s>-1){let o=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,o).trim(),t[3]=""}}let r=t[2],i="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),ge(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=t[r.toLowerCase()];if(!i){let s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return ge(n,i,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){let s=[...r[0]].length-1,a,o,l=s,p=0,c=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+s);(r=c.exec(t))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(o=[...a].length,r[3]||r[4]){l+=o;continue}else if((r[5]||r[6])&&s%3&&!((s+o)%3)){p+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+p);let g=[...r[0]][0].length,h=e.slice(0,s+r.index+g+o);if(Math.min(s,o)%2){let f=h.slice(1,-1);return{type:"em",raw:h,text:f,tokens:this.lexer.inlineTokens(f)}}let R=h.slice(2,-2);return{type:"strong",raw:h,text:R,tokens:this.lexer.inlineTokens(R)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if(t[2]==="@")n=t[0],r="mailto:"+n;else{let i;do i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(i!==t[0]);n=t[0],t[1]==="www."?r="http://"+t[0]:r=t[0]}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}};var x=class u{tokens;options;state;inlineQueue;tokenizer;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||T,this.options.tokenizer=this.options.tokenizer||new y,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:m,block:E.normal,inline:M.normal};this.options.pedantic?(t.block=E.pedantic,t.inline=M.pedantic):this.options.gfm&&(t.block=E.gfm,this.options.breaks?t.inline=M.breaks:t.inline=M.gfm),this.tokenizer.rules=t}static get rules(){return{block:E,inline:M}}static lex(e,t){return new u(t).lex(e)}static lexInline(e,t){return new u(t).inlineTokens(e)}lex(e){e=e.replace(m.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(m.tabCharGlobal,"    ").replace(m.spaceLine,""));e;){let r;if(this.options.extensions?.block?.some(s=>(r=s.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);let s=t.at(-1);r.raw.length===1&&s!==void 0?s.raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+r.raw,s.text+=`
`+r.text,this.inlineQueue.at(-1).src=s.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+r.raw,s.text+=`
`+r.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title},t.push(r));continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let i=e;if(this.options.extensions?.startBlock){let s=1/0,a=e.slice(1),o;this.options.extensions.startBlock.forEach(l=>{o=l.call({lexer:this},a),typeof o=="number"&&o>=0&&(s=Math.min(s,o))}),s<1/0&&s>=0&&(i=e.substring(0,s+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){let s=t.at(-1);n&&s?.type==="paragraph"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(r),n=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(r);continue}if(e){let s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,r=null;if(this.tokens.links){let o=Object.keys(this.tokens.links);if(o.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)o.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i;for(;(r=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)i=r[2]?r[2].length:0,n=n.slice(0,r.index+i)+"["+"a".repeat(r[0].length-i-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let s=!1,a="";for(;e;){s||(a=""),s=!1;let o;if(this.options.extensions?.inline?.some(p=>(o=p.call({lexer:this},e,t))?(e=e.substring(o.raw.length),t.push(o),!0):!1))continue;if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);let p=t.at(-1);o.type==="text"&&p?.type==="text"?(p.raw+=o.raw,p.text+=o.text):t.push(o);continue}if(o=this.tokenizer.emStrong(e,n,a)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length),t.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length),t.push(o);continue}let l=e;if(this.options.extensions?.startInline){let p=1/0,c=e.slice(1),g;this.options.extensions.startInline.forEach(h=>{g=h.call({lexer:this},c),typeof g=="number"&&g>=0&&(p=Math.min(p,g))}),p<1/0&&p>=0&&(l=e.substring(0,p+1))}if(o=this.tokenizer.inlineText(l)){e=e.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(a=o.raw.slice(-1)),s=!0;let p=t.at(-1);p?.type==="text"?(p.raw+=o.raw,p.text+=o.text):t.push(o);continue}if(e){let p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return t}};var P=class{options;parser;constructor(e){this.options=e||T}space(e){return""}code({text:e,lang:t,escaped:n}){let r=(t||"").match(m.notSpaceStart)?.[0],i=e.replace(m.endingNewline,"")+`
`;return r?'<pre><code class="language-'+w(r)+'">'+(n?i:w(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:w(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,n=e.start,r="";for(let a=0;a<e.items.length;a++){let o=e.items[a];r+=this.listitem(o)}let i=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+i+s+`>
`+r+"</"+i+`>
`}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);t+=this.tablerow({text:n});let r="";for(let i=0;i<e.rows.length;i++){let s=e.rows[i];n="";for(let a=0;a<s.length;a++)n+=this.tablecell(s[a]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${w(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),i=X(e);if(i===null)return r;e=i;let s='<a href="'+e+'"';return t&&(s+=' title="'+w(t)+'"'),s+=">"+r+"</a>",s}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=X(e);if(i===null)return w(n);e=i;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${w(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:w(e.text)}};var $=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}};var b=class u{options;renderer;textRenderer;constructor(e){this.options=e||T,this.options.renderer=this.options.renderer||new P,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $}static parse(e,t){return new u(t).parse(e)}static parseInline(e,t){return new u(t).parseInline(e)}parse(e){let t="";for(let n=0;n<e.length;n++){let r=e[n];if(this.options.extensions?.renderers?.[r.type]){let s=r,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(s.type)){t+=a||"";continue}}let i=r;switch(i.type){case"space":{t+=this.renderer.space(i);break}case"hr":{t+=this.renderer.hr(i);break}case"heading":{t+=this.renderer.heading(i);break}case"code":{t+=this.renderer.code(i);break}case"table":{t+=this.renderer.table(i);break}case"blockquote":{t+=this.renderer.blockquote(i);break}case"list":{t+=this.renderer.list(i);break}case"checkbox":{t+=this.renderer.checkbox(i);break}case"html":{t+=this.renderer.html(i);break}case"def":{t+=this.renderer.def(i);break}case"paragraph":{t+=this.renderer.paragraph(i);break}case"text":{t+=this.renderer.text(i);break}default:{let s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return t}parseInline(e,t=this.renderer){let n="";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions?.renderers?.[i.type]){let a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=a||"";continue}}let s=i;switch(s.type){case"escape":{n+=t.text(s);break}case"html":{n+=t.html(s);break}case"link":{n+=t.link(s);break}case"image":{n+=t.image(s);break}case"checkbox":{n+=t.checkbox(s);break}case"strong":{n+=t.strong(s);break}case"em":{n+=t.em(s);break}case"codespan":{n+=t.codespan(s);break}case"br":{n+=t.br(s);break}case"del":{n+=t.del(s);break}case"text":{n+=t.text(s);break}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return n}};var S=class{options;block;constructor(e){this.options=e||T}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?x.lex:x.lexInline}provideParser(){return this.block?b.parse:b.parseInline}};var B=class{defaults=L();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=b;Renderer=P;TextRenderer=$;Lexer=x;Tokenizer=y;Hooks=S;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{let i=r;for(let s of i.header)n=n.concat(this.walkTokens(s.tokens,t));for(let s of i.rows)for(let a of s)n=n.concat(this.walkTokens(a.tokens,t));break}case"list":{let i=r;n=n.concat(this.walkTokens(i.items,t));break}default:{let i=r;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{let a=i[s].flat(1/0);n=n.concat(this.walkTokens(a,t))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let s=t.renderers[i.name];s?t.renderers[i.name]=function(...a){let o=i.renderer.apply(this,a);return o===!1&&(o=s.apply(this,a)),o}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=t[i.level];s?s.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),r.extensions=t),n.renderer){let i=this.defaults.renderer||new P(this.defaults);for(let s in n.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let a=s,o=n.renderer[a],l=i[a];i[a]=(...p)=>{let c=o.apply(i,p);return c===!1&&(c=l.apply(i,p)),c||""}}r.renderer=i}if(n.tokenizer){let i=this.defaults.tokenizer||new y(this.defaults);for(let s in n.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let a=s,o=n.tokenizer[a],l=i[a];i[a]=(...p)=>{let c=o.apply(i,p);return c===!1&&(c=l.apply(i,p)),c}}r.tokenizer=i}if(n.hooks){let i=this.defaults.hooks||new S;for(let s in n.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let a=s,o=n.hooks[a],l=i[a];S.passThroughHooks.has(s)?i[a]=p=>{if(this.defaults.async&&S.passThroughHooksRespectAsync.has(s))return(async()=>{let g=await o.call(i,p);return l.call(i,g)})();let c=o.call(i,p);return l.call(i,c)}:i[a]=(...p)=>{if(this.defaults.async)return(async()=>{let g=await o.apply(i,p);return g===!1&&(g=await l.apply(i,p)),g})();let c=o.apply(i,p);return c===!1&&(c=l.apply(i,p)),c}}r.hooks=i}if(n.walkTokens){let i=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(a){let o=[];return o.push(s.call(this,a)),i&&(o=o.concat(i.call(this,a))),o}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return x.lex(e,t??this.defaults)}parser(e,t){return b.parse(e,t??this.defaults)}parseMarkdown(e){return(n,r)=>{let i={...r},s={...this.defaults,...i},a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let o=s.hooks?await s.hooks.preprocess(n):n,p=await(s.hooks?await s.hooks.provideLexer():e?x.lex:x.lexInline)(o,s),c=s.hooks?await s.hooks.processAllTokens(p):p;s.walkTokens&&await Promise.all(this.walkTokens(c,s.walkTokens));let h=await(s.hooks?await s.hooks.provideParser():e?b.parse:b.parseInline)(c,s);return s.hooks?await s.hooks.postprocess(h):h})().catch(a);try{s.hooks&&(n=s.hooks.preprocess(n));let l=(s.hooks?s.hooks.provideLexer():e?x.lex:x.lexInline)(n,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let c=(s.hooks?s.hooks.provideParser():e?b.parse:b.parseInline)(l,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(o){return a(o)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let r="<p>An error occurred:</p><pre>"+w(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}};var _=new B;function d(u,e){return _.parse(u,e)}d.options=d.setOptions=function(u){return _.setOptions(u),d.defaults=_.defaults,Z(d.defaults),d};d.getDefaults=L;d.defaults=T;d.use=function(...u){return _.use(...u),d.defaults=_.defaults,Z(d.defaults),d};d.walkTokens=function(u,e){return _.walkTokens(u,e)};d.parseInline=_.parseInline;d.Parser=b;d.parser=b.parse;d.Renderer=P;d.TextRenderer=$;d.Lexer=x;d.lexer=x.lex;d.Tokenizer=y;d.Hooks=S;d.parse=d;var Dt=d.options,Ht=d.setOptions,Zt=d.use,Gt=d.walkTokens,Nt=d.parseInline,Qt=d,Ft=b.parse,jt=x.lex;
//# sourceMappingURL=marked.esm.js.map


/***/ },

/***/ "./src/component/Markdown.mjs"
/*!************************************!*\
  !*** ./src/component/Markdown.mjs ***!
  \************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Base.mjs */ "./src/component/Base.mjs");
/* harmony import */ var _util_HighlightJs_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/HighlightJs.mjs */ "./src/util/HighlightJs.mjs");
/* harmony import */ var _core_IdGenerator_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/IdGenerator.mjs */ "./src/core/IdGenerator.mjs");
/* harmony import */ var _node_modules_marked_lib_marked_esm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../node_modules/marked/lib/marked.esm.js */ "./node_modules/marked/lib/marked.esm.js");





const
    regexFrontMatter  = /^---\r?\n([\s\S]*?)\r?\n---\r?\n/,
    regexLabClose     = /<!--\s*\/lab\s*-->/g,
    regexLabOpen      = /<!--\s*lab\s*-->/g,
    regexLivePreview  = /```(javascript|html|css|json)\s+live-preview\s*\n([\s\S]*?)\n\s*```/g,
    regexMermaid      = /```mermaid\s*\n([\s\S]*?)\n\s*```/g,
    regexNeoComponent = /```json\s+neo-component\s*\n([\s\S]*?)\n\s*```/g,
    regexNewLines     = /^\n+|\n+$/g,
    regexCodeBlock    = /```(\w*)(?:[^\n]*)?\n([\s\S]*?)\n\s*```/g,
    regexTicketId     = /(^|[\s(])#(\d+)\b/g;

/**
 * @summary A specialized component for rendering Markdown content.
 *
 * This component provides a declarative way to display Markdown within a Neo.mjs application.
 * It encapsulates the rendering logic and styling, ensuring consistency across different views.
 *
 * **Key Architectural Features:**
 * - **Reactive Content**: Updates automatically when the `value` config changes.
 * - **Multi-Pass Compilation**: Uses a sophisticated pipeline to extract, process, and re-inject dynamic content (components, live previews).
 * - **Lazy Loading**: Dynamically imports heavy dependencies (like the Mermaid wrapper) only when needed, optimizing initial bundle size.
 * - **Targeted Updates**: efficiently propagates theme changes to embedded components without re-parsing the entire markdown document.
 * - **Lifecycle Management**: Handles the destruction of embedded components when this component is destroyed.
 *
 * @class Neo.component.Markdown
 * @extends Neo.component.Base
 */
class Markdown extends _Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Neo.component.Markdown'
         * @protected
         */
        className: 'Neo.component.Markdown',
        /**
         * @member {String} ntype='markdown'
         * @protected
         */
        ntype: 'markdown',
        /**
         * @member {String[]} baseCls=['neo-markdown-component']
         * @protected
         */
        baseCls: ['neo-markdown-component'],
        /**
         * The base URL for issue tracking. Used when replaceTicketIds is true.
         * @member {String} issuesUrl='https://github.com/neomjs/neo/issues/'
         */
        issuesUrl: 'https://github.com/neomjs/neo/issues/',
        /**
         * True to parse and render YAML frontmatter (metadata) at the top of the content.
         * Useful for displaying file metadata like title, date, or tags.
         * @member {Boolean} renderFrontmatter=true
         */
        renderFrontmatter: true,
        /**
         * True to automatically replace ticket references (e.g. #123) with clickable links.
         * @member {Boolean} replaceTicketIds=false
         */
        replaceTicketIds: false,
        /**
         * True to wrap the rendered frontmatter table in a collapsible <details> tag.
         * This keeps the metadata accessible but unobtrusive, collapsed by default.
         * @member {Boolean} useFrontmatterDetails=true
         */
        useFrontmatterDetails: true,
        /**
         * @member {String|null} value_=null
         * @reactive
         */
        value_: null,
        /**
         * @member {String|null} windowUrl=null
         */
        windowUrl: null
    }

    /**
     * @member {Neo.component.Base[]} activeComponents=[]
     */
    activeComponents = []

    /**
     * @member {RegExp} regexInlineCode=/`([^`]+)`/g
     * @protected
     * @static
     */
    static regexInlineCode = /`([^`]+)`/g

    /**
     * Triggered after the mounted config got changed
     * @param {Boolean} value
     * @param {Boolean} oldValue
     * @protected
     */
    afterSetMounted(value, oldValue) {
        super.afterSetMounted(value, oldValue);
        this.updateComponentState(value)
    }

    /**
     * Triggered after the theme config got changed.
     *
     * **Optimization:**
     * Instead of triggering a full re-render (which would re-parse the markdown and destroy/recreate all components),
     * this method performs a **Targeted Component Update**. It iterates over all active embedded components
     * (like LivePreviews or Mermaid diagrams) and updates their `theme` config directly.
     *
     * This ensures smooth transitions and maintains the state of components that support dynamic theming.
     *
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    afterSetTheme(value, oldValue) {
        super.afterSetTheme(value, oldValue);
        this.activeComponents.forEach(component => component.theme = value)
    }

    /**
     * Triggered after the value config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    async afterSetValue(value, oldValue) {
        if (value) {
            let me = this;

            value = me.modifyMarkdown(value);

            // Clean up previous instances
            me.destroyComponents();

            await me.render({code: value})
        }
    }

    /**
     * Triggered after the windowId config got changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @protected
     */
    async afterSetWindowId(value, oldValue) {
        super.afterSetWindowId(value, oldValue);
        this.activeComponents.forEach(component => component.windowId = value)
    }

    /**
     * Triggered before the value config gets changed
     * @param {String|null} value
     * @param {String|null} oldValue
     * @returns {String|null}
     * @protected
     */
    beforeSetValue(value, oldValue) {
        if (value) {
            let lower = value.trim().toLowerCase();

            if (lower.startsWith('<!doctype html>') || lower.startsWith('<html')) {
                console.error('Markdown component received an HTML document instead of markdown content. This usually indicates a 404 or server error.', this.id);
                return oldValue
            }
        }

        return value
    }

    /**
     * Destroy all created child instances
     * @param {...*} args
     */
    destroy(...args) {
        this.destroyComponents();
        super.destroy(...args)
    }

    /**
     * Destroys all components created by the last render pass.
     */
    destroyComponents() {
        let me = this;

        me.activeComponents.forEach(component => component.destroy());
        me.activeComponents = []
    }

    /**
     * @returns {String}
     */
    insertLabDivs(inputString) {
        inputString = inputString.replace(regexLabOpen, '<div class="lab">');
        inputString = inputString.replace(regexLabClose, '</div>');
        return inputString
    }

    /**
     * @param {*} value
     * @returns {String}
     */
    formatFrontMatterValue(value) {
        if (Array.isArray(value)) {
            return value.join(', ')
        }

        if (typeof value === 'boolean') {
            return `<i class="fa-solid fa-${value ? 'check' : 'xmark'}"></i>`
        }

        if (typeof value === 'string') {
            // ISO Date
            if (/^\d{4}-\d{2}-\d{2}T/.test(value)) {
                return new Date(value).toLocaleString()
            }

            // URL
            if (/^https?:\/\//.test(value)) {
                return `<a href="${value}" target="_blank">${value}</a>`
            }
        }

        return value
    }

    /**
     * @param {Object} data
     * @returns {String}
     */
    frontMatterToHtml(data) {
        let me   = this,
            html = '<table class="neo-frontmatter-table"><tbody>';

        Object.entries(data).forEach(([key, value]) => {
            html += `<tr><td>${key}</td><td>${me.formatFrontMatterValue(value)}</td></tr>`
        });

        html += '</tbody></table>';

        if (me.useFrontmatterDetails) {
            return `<details><summary>Frontmatter</summary>${html}</details>`
        }

        return html
    }

    /**
     * Modifies the markdown content before rendering.
     * Default implementation parses headlines to add specific classes.
     * @param {String} content
     * @returns {String}
     */
    modifyMarkdown(content) {
        let me = this;

        if (regexFrontMatter.test(content)) {
            content = content.replace(regexFrontMatter, (match, frontmatter) => {
                if (!me.renderFrontmatter) {
                    return ''
                }

                try {
                    return me.frontMatterToHtml(me.parseFrontMatter(frontmatter)) + '\n'
                } catch (e) {
                    console.error('Error parsing FrontMatter', e);
                    return match
                }
            })
        }

        if (me.replaceTicketIds) {
            content = content.replace(regexTicketId, (match, prefix, id) => {
                const
                    isInternal = me.issuesUrl.startsWith('#'),
                    url        = me.issuesUrl + id,
                    target     = isInternal ? '' : ' target="_blank"';

                return `${prefix}<a href="${url}"${target}>#${id}</a>`
            })
        }

        let rows          = content.split('\n'),
            i             = 0,
            len           = rows.length,
            headlineIndex = 1,
            row, tag;

        for (; i < len; i++) {
            row = rows[i];
            tag = null;

            if (row.startsWith('#') && row.charAt(1) !== '#') {
                row = row.substring(1).trim();
                tag = 'h1'
            } else if (row.startsWith('##') && row.charAt(2) !== '#') {
                row = row.substring(2).trim();
                tag = 'h2'
            } else if (row.startsWith('###') && row.charAt(3) !== '#') {
                row = row.substring(3).trim();
                tag = 'h3'
            }

            if (tag) {
                rows[i] = me.onHeadline(tag, row, headlineIndex);
                headlineIndex++;

                // If the next line is not empty, add one
                if (rows[i + 1] && rows[i + 1] !== '') {
                    rows.splice(i + 1, 0, '');
                    len++;
                    i++
                }
            }
        }

        return rows.join('\n')
    }

    /**
     * @param {String} tag
     * @param {String} text
     * @param {Number} index
     * @returns {String}
     */
    onHeadline(tag, text, index) {
        text = text.replace(this.constructor.regexInlineCode, '<code>$1</code>');
        return `<${tag} class="neo-${tag}">${text}</${tag}>`
    }

    /**
     * @param {String} text
     * @returns {Object}
     */
    parseFrontMatter(text) {
        let data       = {},
            lines      = text.trim().split('\n'),
            currentKey;

        lines.forEach(line => {
            let trimLine = line.trim();

            if (!trimLine || trimLine.startsWith('#')) return; // Skip empty or comments

            // Array item
            if (trimLine.startsWith('- ')) {
                if (currentKey) {
                    if (!Array.isArray(data[currentKey])) {
                        data[currentKey] = []
                    }
                    data[currentKey].push(this.parseValue(trimLine.substring(2)))
                }
                return
            }

            // Key-Value
            let match = trimLine.match(/^([\w\d_-]+):\s*(.*)$/);
            if (match) {
                currentKey       = match[1];
                data[currentKey] = this.parseValue(match[2])
            }
        });

        return data
    }

    /**
     * @param {String} value
     * @returns {Boolean|Number|String|null}
     */
    parseValue(value) {
        value = value.trim();

        if (value === 'true')  return true;
        if (value === 'false') return false;
        if (value === 'null')  return null;

        if (!isNaN(Number(value)) && value !== '') return Number(value);

        if ((value.startsWith("'") && value.endsWith("'")) || (value.startsWith('"') && value.endsWith('"'))) {
            return value.slice(1, -1)
        }

        return value
    }

    /**
     * @param {String} contentString
     * @param {Object} map
     * @returns {String}
     */
    processLivePreviewBlocks(contentString, map) {
        return contentString.replace(regexLivePreview, (match, language, code) => {
            const key = _core_IdGenerator_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getId('pre-live-preview');
            map[key] = {code, language};
            return `<div id="${key}"></div>`
        })
    }

    /**
     * @param {String} contentString
     * @param {Object} map
     * @returns {String}
     */
    processMermaidBlocks(contentString, map) {
        return contentString.replace(regexMermaid, (match, code) => {
            const key = _core_IdGenerator_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getId('mermaid');
            map[key] = code;
            return `<div class="neo-mermaid" id="${key}"></div>`
        })
    }

    /**
     * @param {String} contentString
     * @param {Object} map
     * @returns {String}
     */
    processNeoComponentsBlocks(contentString, map) {
        return contentString.replace(regexNeoComponent, (match, code) => {
            const key = _core_IdGenerator_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getId('learn-content-component');
            map[key] = JSON.parse(code);
            return `<div id="${key}"></div>`
        })
    }

    /**
     * @param {String} contentString
     * @param {String} windowId
     * @returns {Promise<String>}
     */
    async processReadonlyCodeBlocks(contentString, windowId) {
        let replacementPromises = [],
            count               = 0,
            replacements;

        let updatedContent = contentString.replace(regexCodeBlock, (match, language, code) => {
            const token = `__NEO-READONLY-TOKEN-${++count}__`;
            const lang  = (!language || language.trim() === '' || language === 'text') ? 'plaintext' : language;

            replacementPromises.push(
                _util_HighlightJs_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].highlight(code, lang, windowId)
                    .catch(err => {
                        console.warn(`Highlighting failed for language '${lang}', falling back to plaintext.`, err);
                        return _util_HighlightJs_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].highlight(code, 'plaintext', windowId);
                    })
                    .then(highlightedHtml => ({
                        after: `<pre data-${lang} class="hljs" id="pre-readonly-${_core_IdGenerator_mjs__WEBPACK_IMPORTED_MODULE_2__["default"].getId()}">${highlightedHtml.replace(regexNewLines, '')}</pre>`,
                        token
                    }))
            );
            return token;
        });

        replacements = await Promise.all(replacementPromises);

        replacements.forEach(replacement => {
            updatedContent = updatedContent.replace(replacement.token, replacement.after)
        });

        return updatedContent
    }

    /**
     * Orchestrates the Markdown rendering pipeline.
     *
     * This method implements a **multi-pass compilation strategy** to overcome the limitations of standard Markdown parsers
     * when dealing with dynamic content and asynchronous operations:
     *
     * 1.  **Extraction Pass**: It first scans the raw markdown to extract `neo-component`, `mermaid`, and `live-preview` blocks.
     *     These are replaced with placeholder DIVs to protect them from the markdown parser.
     * 2.  **Highlighting Pass**: It asynchronously processes `readonly` code blocks using HighlightJS.
     * 3.  **Parsing Pass**: The transformed content is converted to HTML using `marked.parse`.
     * 4.  **Injection Pass**: It iterates over the extracted component maps (`neoComponents`, `neoDivs`, `mermaidDivs`) and instantiates
     *     the actual Neo.mjs components into the placeholders.
     *
     * **Lazy Loading Optimization:**
     * Heavy dependencies like the `Mermaid` wrapper and `LivePreview` editor are imported dynamically via `await import()`
     * only when their respective blocks are detected. This minimizes the initial bundle size.
     *
     * @param {Object} data
     * @param {String} data.code
     * @returns {Promise<Object>}
     */
    async render({code}) {
        let me            = this,
            {windowId}    = me,
            content       = code,
            neoComponents = {},
            neoDivs       = {},
            mermaidDivs   = {},
            baseConfigs   = {
                appName        : me.appName,
                autoInitVnode  : true,
                autoMount      : true,
                parentComponent: me.parentComponent,
                theme          : me.theme,
                windowId
            },
            html, instance;

        // Initialize maps for custom components and live previews
        neoComponents = {};
        neoDivs       = {};

        // Process custom Neo.mjs component blocks (synchronous)
        content = me.processNeoComponentsBlocks(content, neoComponents);

        // Process custom Live Preview blocks (synchronous)
        content = me.processLivePreviewBlocks(content, neoDivs);

        // Process Mermaid blocks (synchronous)
        content = me.processMermaidBlocks(content, mermaidDivs);

        // Process custom Readonly Code blocks (asynchronous due to HighlightJS)
        // This will replace the markdown fenced block with the highlighted HTML <pre> tag.
        content = await me.processReadonlyCodeBlocks(content, baseConfigs.windowId);

        // Parse the (now modified) markdown content into HTML
        // This content string now contains standard markdown PLUS the HTML divs/pres we injected.
        html = _node_modules_marked_lib_marked_esm_js__WEBPACK_IMPORTED_MODULE_3__.marked.parse(content);

        // Wrap raw HTML img tags in a scrollable container
        html = html.replace(/<img([^>]*)>/g, '<div class="neo-markdown-image-wrapper"><img$1></div>');

        // Insert lab divs (these are markdown comments, so process on the final HTML)
        await me.set({html: me.insertLabDivs(html)});
        await me.timeout(10);

        if (Object.keys(neoComponents).length > 0) {
            Object.keys(neoComponents).forEach(key => {
                instance = Neo.create({
                    ...baseConfigs,
                    className: 'Neo.component.Base',
                    parentId : key,
                    ...neoComponents[key]
                });
                me.activeComponents.push(instance)
            });
        }

        if (Object.keys(neoDivs).length > 0) {
            const LivePreviewModule = await Promise.all(/*! import() */[__webpack_require__.e("vendors-src_tab_Container_mjs"), __webpack_require__.e("vendors-src_component_wrapper_MonacoEditor_mjs"), __webpack_require__.e("vendors-src_code_LivePreview_mjs")]).then(__webpack_require__.bind(__webpack_require__, /*! ../code/LivePreview.mjs */ "./src/code/LivePreview.mjs"));
            const LivePreviewClass  = LivePreviewModule.default;

            Object.keys(neoDivs).forEach(key => {
                const config = {
                    ...baseConfigs,
                    module  : LivePreviewClass,
                    parentId: key,
                    value   : neoDivs[key].code
                }

                if (me.windowUrl) {
                    config.windowUrl = me.windowUrl
                }

                instance = Neo.create(config);
                me.activeComponents.push(instance);
            });
        }

        if (Object.keys(mermaidDivs).length > 0) {
            const MermaidModule = await __webpack_require__.e(/*! import() */ "src_component_wrapper_Mermaid_mjs").then(__webpack_require__.bind(__webpack_require__, /*! ./wrapper/Mermaid.mjs */ "./src/component/wrapper/Mermaid.mjs"));
            const MermaidClass  = MermaidModule.default;

            Object.keys(mermaidDivs).forEach(key => {
                instance = Neo.create({
                    ...baseConfigs,
                    module  : MermaidClass,
                    parentId: key,
                    theme   : me.theme,
                    value   : mermaidDivs[key]
                });
                me.activeComponents.push(instance)
            })
        }

        return {}
    }

    /**
     * Updates the mounted state of all tracked components.
     * @param {Boolean} mounted
     */
    updateComponentState(mounted) {
        this.activeComponents.forEach(component => {
            if (mounted) {
                component.initVnode(true)
            } else {
                component.mounted = false
            }
        })
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(Markdown));


/***/ },

/***/ "./src/util/HighlightJs.mjs"
/*!**********************************!*\
  !*** ./src/util/HighlightJs.mjs ***!
  \**********************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./src/core/Base.mjs");
/* harmony import */ var _HighlightJsLineNumbers_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./HighlightJsLineNumbers.mjs */ "./src/util/HighlightJsLineNumbers.mjs");



/**
 * @class Neo.util.HighlightJs
 * @extends Neo.core.Base
 * @singleton
 */
class HighlightJs extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Neo.util.HighlightJs'
         * @protected
         */
        className: 'Neo.util.HighlightJs',
        /**
         * @member {Boolean} debug=false
         */
        debug: true,
        /**
         * @member {Boolean} singleton=true
         * @protected
         */
        singleton: true,
        /**
         * The custom windowIs (timestamp) this component belongs to
         * @member {Number|null} windowId_=null
         * @reactive
         */
        windowId_: null
    }

    /**
     * @type {null}
     */
    hljs = null;

    /**
     * Triggered after the windowId config got changed
     * @param {Number|null} value
     * @param {Number|null} oldValue
     * @protected
     */
    afterSetWindowId(value, oldValue) {
        value && Neo.currentWorker.insertThemeFiles(value, this.__proto__)
    }

    /**
     * @param {String} code
     * @param {String} language
     * @param {String} windowId
     * @returns {Promise<String>}
     */
    async highlight(code, language, windowId) {
        let me = this;

        me.windowId = windowId;

        await me.load();
        return me.hljs.highlight(code, {language}).value
    }

    /**
     * @param {String} code
     * @param {String} windowId
     * @returns {Promise<String>}
     */
    async highlightAuto(code, windowId) {
        let me = this;

        me.windowId = windowId;

        await me.load();
        return me.hljs.highlightAuto(code).value
    }

    /**
     * @param {String} code
     * @param {String} language
     * @param {String} windowId
     * @returns {Promise<String>}
     */
    async highlightLine(code, language, windowId) {
        let value = await this.highlight(code, language, windowId);
        return _HighlightJsLineNumbers_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].addLineNumbers(value, windowId)
    }

    /**
     * @param {String} code
     * @param {String} windowId
     * @returns {Promise<String>}
     */
    async highlightAutoLine(code, windowId) {
        let value = await this.highlightAuto(code, windowId);
        return _HighlightJsLineNumbers_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].addLineNumbers(value, windowId)
    }

    /**
     * @returns {Promise<void>}
     */
    async load() {
        if (!this.hljs) {
            let path   = Neo.config.basePath + 'dist/highlight/highlight.custom' + (this.debug ? '' : '.min') + '.js',
                module = await import(/* webpackIgnore: true */ path);

            this.hljs = module.default
        }
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(HighlightJs));


/***/ },

/***/ "./src/util/HighlightJsLineNumbers.mjs"
/*!*********************************************!*\
  !*** ./src/util/HighlightJsLineNumbers.mjs ***!
  \*********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./src/core/Base.mjs");


const
    formatRegex = /\{(\d+)\}/g,
    lineRegex   = /\\r\\n|\\r|\\n/g;

/**
 * Node.js-capable version of: https://github.com/yauhenipakala/highlightjs-line-numbers.js
 * @class Neo.util.HighlightJsLineNumbers
 * @extends Neo.core.Base
 * @singleton
 */
class HighlightJsLineNumbers extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static config = {
        /**
         * @member {String} className='Neo.util.HighlightJsLineNumbers'
         * @protected
         */
        className: 'Neo.util.HighlightJsLineNumbers',
        /**
         * @member {Boolean} singleton=true
         * @protected
         */
        singleton: true
    }

    TABLE_NAME         = 'hljs-ln'
    LINE_NAME          = 'hljs-ln-line'
    CODE_BLOCK_NAME    = 'hljs-ln-code'
    NUMBERS_BLOCK_NAME = 'hljs-ln-numbers'
    NUMBER_LINE_NAME   = 'hljs-ln-n'
    DATA_ATTR_NAME     = 'data-line-number'

    /**
     * @param {String} format
     * @param {Array} args
     * @returns {String}
     */
    format(format, args) {
        return format.replace(formatRegex, function(m, n){
            return args[n] !== undefined ? args[n] : m
        })
    }

    /**
     * @param {String} html
     * @param {String} windowId
     * @returns {String}
     */
    addLineNumbers(html, windowId) {
        let me     = this,
            lines  = me.getLines(html),
            result = '';

        if (lines.length > 0) {
            // This instance is not a component and should load related CSS files into the used windows.
            windowId && Neo.currentWorker.insertThemeFiles(windowId, me.__proto__);

            for (let i = 0; i < lines.length; i++) {
                result += me.format([
                    '<tr>',
                        '<td class="{0} {1}" {3}="{5}">',
                            '<div class="{2}" {3}="{5}"></div>',
                        '</td>',
                        '<td class="{0} {4}" {3}="{5}">',
                            '{6}',
                        '</td>',
                    '</tr>'
                ].join(''), [
                    me.LINE_NAME,
                    me.NUMBERS_BLOCK_NAME,
                    me.NUMBER_LINE_NAME,
                    me.DATA_ATTR_NAME,
                    me.CODE_BLOCK_NAME,
                    i + 1,
                    lines[i].length > 0 ? lines[i] : ' '
                ])
            }

            return me.format('<table class="{0}">{1}</table>', [me.TABLE_NAME, result])
        }

        return html
    }

    /**
     * @param {String} text
     * @returns {String[]}
     */
    getLines(text) {
        if (text.length === 0) return [];
        const lines = text.split(lineRegex);

        if (lines.length > 0 && lines[lines.length - 1].trim() === '') {
            lines.pop()
        }

        return lines
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(HighlightJsLineNumbers));


/***/ }

};

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC92ZW5kb3JzLXNyY19jb21wb25lbnRfTWFya2Rvd25fbWpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYSxPQUFPLHlIQUF5SCxVQUFVLGNBQWMsSUFBSSxPQUFPLGVBQWUsbUJBQW1CLHVDQUF1QyxnQkFBZ0Isb0NBQW9DLG9EQUFvRCwrQkFBK0IsU0FBUyxhQUFhLElBQUksbUNBQW1DLE1BQU0sVUFBVSxPQUFPLHdCQUF3QixJQUFJLEdBQUcsSUFBSSx3VUFBd1UsSUFBSSxnQ0FBZ0MsSUFBSSxxREFBcUQsSUFBSSx5REFBeUQsSUFBSSxNQUFNLEVBQUUsa2pCQUFrakIsRUFBRSxHQUFHLEVBQUUsc0ZBQXNGLElBQUksa0JBQWtCLElBQUksTUFBTSwwQ0FBMEMsSUFBSSxrQkFBa0IsSUFBSSxNQUFNLHlEQUF5RCx1TkFBdU4sSUFBSSxFQUFFLEVBQUUsaUVBQWlFLElBQUksaUJBQWlCLGFBQWEsSUFBSSw2REFBNkQsSUFBSSxpQkFBaUIsU0FBUyxHQUFHLFNBQVMsR0FBRyxXQUFXLEdBQUcsaURBQWlELElBQUksaUJBQWlCLHFEQUFxRCxJQUFJLGlCQUFpQixxQ0FBcUMsSUFBSSxpQkFBaUIsd0JBQXdCLHNDQUFzQyxFQUFFLEdBQUcsSUFBSSw4Q0FBOEMsSUFBSSxHQUFHLEdBQUcsc0JBQXNCLEdBQUcsNkNBQTZDLElBQUksNEJBQTRCLElBQUksYUFBYSxHQUFHLGFBQWEsR0FBRyxjQUFjLEdBQUcsbUJBQW1CLElBQUksR0FBRyxJQUFJLHVDQUF1QyxJQUFJLG1KQUFtSixJQUFJLDJFQUEyRSxFQUFFLEdBQUcsSUFBSSwyQkFBMkIsSUFBSSxLQUFLLEdBQUcsR0FBRyxHQUFHLDZCQUE2QixJQUFJLDBCQUEwQixJQUFJLEVBQUUsSUFBSSxzQkFBc0IsSUFBSSx1R0FBdUcsRUFBRSxHQUFHLElB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QUM5QztBQUNBO0FBQ0EscUNBQXFDLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFO0FBQ3JELDBDQUEwQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUU7QUFDdEQ7QUFDQSxxQ0FBcUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUU7QUFDckQsOEJBQThCLEVBQUU7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZDQUE2QyxFQUFFLEdBQUcsRUFBRTtBQUNwRDs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGlFQUFlLHNDQUFzQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvLm1qcy8uL25vZGVfbW9kdWxlcy9tYXJrZWQvbGliL21hcmtlZC5lc20uanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL3NyYy9jb21wb25lbnQvTWFya2Rvd24ubWpzIiwid2VicGFjazovL25lby5tanMvLi9zcmMvdXRpbC9IaWdobGlnaHRKcy5tanMiLCJ3ZWJwYWNrOi8vbmVvLm1qcy8uL3NyYy91dGlsL0hpZ2hsaWdodEpzTGluZU51bWJlcnMubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogbWFya2VkIHYxNy4wLjEgLSBhIG1hcmtkb3duIHBhcnNlclxuICogQ29weXJpZ2h0IChjKSAyMDE4LTIwMjUsIE1hcmtlZEpTLiAoTUlUIExpY2Vuc2UpXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTEtMjAxOCwgQ2hyaXN0b3BoZXIgSmVmZnJleS4gKE1JVCBMaWNlbnNlKVxuICogaHR0cHM6Ly9naXRodWIuY29tL21hcmtlZGpzL21hcmtlZFxuICovXG5cbi8qKlxuICogRE8gTk9UIEVESVQgVEhJUyBGSUxFXG4gKiBUaGUgY29kZSBpbiB0aGlzIGZpbGUgaXMgZ2VuZXJhdGVkIGZyb20gZmlsZXMgaW4gLi9zcmMvXG4gKi9cblxuZnVuY3Rpb24gTCgpe3JldHVybnthc3luYzohMSxicmVha3M6ITEsZXh0ZW5zaW9uczpudWxsLGdmbTohMCxob29rczpudWxsLHBlZGFudGljOiExLHJlbmRlcmVyOm51bGwsc2lsZW50OiExLHRva2VuaXplcjpudWxsLHdhbGtUb2tlbnM6bnVsbH19dmFyIFQ9TCgpO2Z1bmN0aW9uIFoodSl7VD11fXZhciBDPXtleGVjOigpPT5udWxsfTtmdW5jdGlvbiBrKHUsZT1cIlwiKXtsZXQgdD10eXBlb2YgdT09XCJzdHJpbmdcIj91OnUuc291cmNlLG49e3JlcGxhY2U6KHIsaSk9PntsZXQgcz10eXBlb2YgaT09XCJzdHJpbmdcIj9pOmkuc291cmNlO3JldHVybiBzPXMucmVwbGFjZShtLmNhcmV0LFwiJDFcIiksdD10LnJlcGxhY2UocixzKSxufSxnZXRSZWdleDooKT0+bmV3IFJlZ0V4cCh0LGUpfTtyZXR1cm4gbn12YXIgbWU9KCgpPT57dHJ5e3JldHVybiEhbmV3IFJlZ0V4cChcIig/PD0xKSg/PCExKVwiKX1jYXRjaHtyZXR1cm4hMX19KSgpLG09e2NvZGVSZW1vdmVJbmRlbnQ6L14oPzogezEsNH18IHswLDN9XFx0KS9nbSxvdXRwdXRMaW5rUmVwbGFjZTovXFxcXChbXFxbXFxdXSkvZyxpbmRlbnRDb2RlQ29tcGVuc2F0aW9uOi9eKFxccyspKD86YGBgKS8sYmVnaW5uaW5nU3BhY2U6L15cXHMrLyxlbmRpbmdIYXNoOi8jJC8sc3RhcnRpbmdTcGFjZUNoYXI6L14gLyxlbmRpbmdTcGFjZUNoYXI6LyAkLyxub25TcGFjZUNoYXI6L1teIF0vLG5ld0xpbmVDaGFyR2xvYmFsOi9cXG4vZyx0YWJDaGFyR2xvYmFsOi9cXHQvZyxtdWx0aXBsZVNwYWNlR2xvYmFsOi9cXHMrL2csYmxhbmtMaW5lOi9eWyBcXHRdKiQvLGRvdWJsZUJsYW5rTGluZTovXFxuWyBcXHRdKlxcblsgXFx0XSokLyxibG9ja3F1b3RlU3RhcnQ6L14gezAsM30+LyxibG9ja3F1b3RlU2V0ZXh0UmVwbGFjZTovXFxuIHswLDN9KCg/Oj0rfC0rKSAqKSg/PVxcbnwkKS9nLGJsb2NrcXVvdGVTZXRleHRSZXBsYWNlMjovXiB7MCwzfT5bIFxcdF0/L2dtLGxpc3RSZXBsYWNlVGFiczovXlxcdCsvLGxpc3RSZXBsYWNlTmVzdGluZzovXiB7MSw0fSg/PSggezR9KSpbXiBdKS9nLGxpc3RJc1Rhc2s6L15cXFtbIHhYXVxcXSArXFxTLyxsaXN0UmVwbGFjZVRhc2s6L15cXFtbIHhYXVxcXSArLyxsaXN0VGFza0NoZWNrYm94Oi9cXFtbIHhYXVxcXS8sYW55TGluZTovXFxuLipcXG4vLGhyZWZCcmFja2V0czovXjwoLiopPiQvLHRhYmxlRGVsaW1pdGVyOi9bOnxdLyx0YWJsZUFsaWduQ2hhcnM6L15cXHx8XFx8ICokL2csdGFibGVSb3dCbGFua0xpbmU6L1xcblsgXFx0XSokLyx0YWJsZUFsaWduUmlnaHQ6L14gKi0rOiAqJC8sdGFibGVBbGlnbkNlbnRlcjovXiAqOi0rOiAqJC8sdGFibGVBbGlnbkxlZnQ6L14gKjotKyAqJC8sc3RhcnRBVGFnOi9ePGEgL2ksZW5kQVRhZzovXjxcXC9hPi9pLHN0YXJ0UHJlU2NyaXB0VGFnOi9ePChwcmV8Y29kZXxrYmR8c2NyaXB0KShcXHN8PikvaSxlbmRQcmVTY3JpcHRUYWc6L148XFwvKHByZXxjb2RlfGtiZHxzY3JpcHQpKFxcc3w+KS9pLHN0YXJ0QW5nbGVCcmFja2V0Oi9ePC8sZW5kQW5nbGVCcmFja2V0Oi8+JC8scGVkYW50aWNIcmVmVGl0bGU6L14oW14nXCJdKlteXFxzXSlcXHMrKFsnXCJdKSguKilcXDIvLHVuaWNvZGVBbHBoYU51bWVyaWM6L1tcXHB7TH1cXHB7Tn1dL3UsZXNjYXBlVGVzdDovWyY8PlwiJ10vLGVzY2FwZVJlcGxhY2U6L1smPD5cIiddL2csZXNjYXBlVGVzdE5vRW5jb2RlOi9bPD5cIiddfCYoPyEoI1xcZHsxLDd9fCNbWHhdW2EtZkEtRjAtOV17MSw2fXxcXHcrKTspLyxlc2NhcGVSZXBsYWNlTm9FbmNvZGU6L1s8PlwiJ118Jig/ISgjXFxkezEsN318I1tYeF1bYS1mQS1GMC05XXsxLDZ9fFxcdyspOykvZyx1bmVzY2FwZVRlc3Q6LyYoIyg/OlxcZCspfCg/OiN4WzAtOUEtRmEtZl0rKXwoPzpcXHcrKSk7Py9pZyxjYXJldDovKF58W15cXFtdKVxcXi9nLHBlcmNlbnREZWNvZGU6LyUyNS9nLGZpbmRQaXBlOi9cXHwvZyxzcGxpdFBpcGU6LyBcXHwvLHNsYXNoUGlwZTovXFxcXFxcfC9nLGNhcnJpYWdlUmV0dXJuOi9cXHJcXG58XFxyL2csc3BhY2VMaW5lOi9eICskL2dtLG5vdFNwYWNlU3RhcnQ6L15cXFMqLyxlbmRpbmdOZXdsaW5lOi9cXG4kLyxsaXN0SXRlbVJlZ2V4OnU9Pm5ldyBSZWdFeHAoYF4oIHswLDN9JHt1fSkoKD86W1x0IF1bXlxcXFxuXSopPyg/OlxcXFxufCQpKWApLG5leHRCdWxsZXRSZWdleDp1PT5uZXcgUmVnRXhwKGBeIHswLCR7TWF0aC5taW4oMyx1LTEpfX0oPzpbKistXXxcXFxcZHsxLDl9Wy4pXSkoKD86WyBcdF1bXlxcXFxuXSopPyg/OlxcXFxufCQpKWApLGhyUmVnZXg6dT0+bmV3IFJlZ0V4cChgXiB7MCwke01hdGgubWluKDMsdS0xKX19KCg/Oi0gKil7Myx9fCg/Ol8gKil7Myx9fCg/OlxcXFwqICopezMsfSkoPzpcXFxcbit8JClgKSxmZW5jZXNCZWdpblJlZ2V4OnU9Pm5ldyBSZWdFeHAoYF4gezAsJHtNYXRoLm1pbigzLHUtMSl9fSg/OlxcYFxcYFxcYHx+fn4pYCksaGVhZGluZ0JlZ2luUmVnZXg6dT0+bmV3IFJlZ0V4cChgXiB7MCwke01hdGgubWluKDMsdS0xKX19I2ApLGh0bWxCZWdpblJlZ2V4OnU9Pm5ldyBSZWdFeHAoYF4gezAsJHtNYXRoLm1pbigzLHUtMSl9fTwoPzpbYS16XS4qPnwhLS0pYCxcImlcIil9LHhlPS9eKD86WyBcXHRdKig/OlxcbnwkKSkrLyxiZT0vXigoPzogezR9fCB7MCwzfVxcdClbXlxcbl0rKD86XFxuKD86WyBcXHRdKig/OlxcbnwkKSkqKT8pKy8sUmU9L14gezAsM30oYHszLH0oPz1bXmBcXG5dKig/OlxcbnwkKSl8fnszLH0pKFteXFxuXSopKD86XFxufCQpKD86fChbXFxzXFxTXSo/KSg/OlxcbnwkKSkoPzogezAsM31cXDFbfmBdKiAqKD89XFxufCQpfCQpLyxJPS9eIHswLDN9KCg/Oi1bXFx0IF0qKXszLH18KD86X1sgXFx0XSopezMsfXwoPzpcXCpbIFxcdF0qKXszLH0pKD86XFxuK3wkKS8sVGU9L14gezAsM30oI3sxLDZ9KSg/PVxcc3wkKSguKikoPzpcXG4rfCQpLyxOPS8oPzpbKistXXxcXGR7MSw5fVsuKV0pLyxyZT0vXig/IWJ1bGwgfGJsb2NrQ29kZXxmZW5jZXN8YmxvY2txdW90ZXxoZWFkaW5nfGh0bWx8dGFibGUpKCg/Oi58XFxuKD8hXFxzKj9cXG58YnVsbCB8YmxvY2tDb2RlfGZlbmNlc3xibG9ja3F1b3RlfGhlYWRpbmd8aHRtbHx0YWJsZSkpKz8pXFxuIHswLDN9KD0rfC0rKSAqKD86XFxuK3wkKS8sc2U9ayhyZSkucmVwbGFjZSgvYnVsbC9nLE4pLnJlcGxhY2UoL2Jsb2NrQ29kZS9nLC8oPzogezR9fCB7MCwzfVxcdCkvKS5yZXBsYWNlKC9mZW5jZXMvZywvIHswLDN9KD86YHszLH18fnszLH0pLykucmVwbGFjZSgvYmxvY2txdW90ZS9nLC8gezAsM30+LykucmVwbGFjZSgvaGVhZGluZy9nLC8gezAsM30jezEsNn0vKS5yZXBsYWNlKC9odG1sL2csLyB7MCwzfTxbXlxcbj5dKz5cXG4vKS5yZXBsYWNlKC9cXHx0YWJsZS9nLFwiXCIpLmdldFJlZ2V4KCksT2U9ayhyZSkucmVwbGFjZSgvYnVsbC9nLE4pLnJlcGxhY2UoL2Jsb2NrQ29kZS9nLC8oPzogezR9fCB7MCwzfVxcdCkvKS5yZXBsYWNlKC9mZW5jZXMvZywvIHswLDN9KD86YHszLH18fnszLH0pLykucmVwbGFjZSgvYmxvY2txdW90ZS9nLC8gezAsM30+LykucmVwbGFjZSgvaGVhZGluZy9nLC8gezAsM30jezEsNn0vKS5yZXBsYWNlKC9odG1sL2csLyB7MCwzfTxbXlxcbj5dKz5cXG4vKS5yZXBsYWNlKC90YWJsZS9nLC8gezAsM31cXHw/KD86WzpcXC0gXSpcXHwpK1tcXDpcXC0gXSpcXG4vKS5nZXRSZWdleCgpLFE9L14oW15cXG5dKyg/Olxcbig/IWhyfGhlYWRpbmd8bGhlYWRpbmd8YmxvY2txdW90ZXxmZW5jZXN8bGlzdHxodG1sfHRhYmxlfCArXFxuKVteXFxuXSspKikvLHdlPS9eW15cXG5dKy8sRj0vKD8hXFxzKlxcXSkoPzpcXFxcW1xcc1xcU118W15cXFtcXF1cXFxcXSkrLyx5ZT1rKC9eIHswLDN9XFxbKGxhYmVsKVxcXTogKig/OlxcblsgXFx0XSopPyhbXjxcXHNdW15cXHNdKnw8Lio/PikoPzooPzogKyg/OlxcblsgXFx0XSopP3wgKlxcblsgXFx0XSopKHRpdGxlKSk/ICooPzpcXG4rfCQpLykucmVwbGFjZShcImxhYmVsXCIsRikucmVwbGFjZShcInRpdGxlXCIsLyg/OlwiKD86XFxcXFwiP3xbXlwiXFxcXF0pKlwifCdbXidcXG5dKig/OlxcblteJ1xcbl0rKSpcXG4/J3xcXChbXigpXSpcXCkpLykuZ2V0UmVnZXgoKSxQZT1rKC9eKCB7MCwzfWJ1bGwpKFsgXFx0XVteXFxuXSs/KT8oPzpcXG58JCkvKS5yZXBsYWNlKC9idWxsL2csTikuZ2V0UmVnZXgoKSx2PVwiYWRkcmVzc3xhcnRpY2xlfGFzaWRlfGJhc2V8YmFzZWZvbnR8YmxvY2txdW90ZXxib2R5fGNhcHRpb258Y2VudGVyfGNvbHxjb2xncm91cHxkZHxkZXRhaWxzfGRpYWxvZ3xkaXJ8ZGl2fGRsfGR0fGZpZWxkc2V0fGZpZ2NhcHRpb258ZmlndXJlfGZvb3Rlcnxmb3JtfGZyYW1lfGZyYW1lc2V0fGhbMS02XXxoZWFkfGhlYWRlcnxocnxodG1sfGlmcmFtZXxsZWdlbmR8bGl8bGlua3xtYWlufG1lbnV8bWVudWl0ZW18bWV0YXxuYXZ8bm9mcmFtZXN8b2x8b3B0Z3JvdXB8b3B0aW9ufHB8cGFyYW18c2VhcmNofHNlY3Rpb258c3VtbWFyeXx0YWJsZXx0Ym9keXx0ZHx0Zm9vdHx0aHx0aGVhZHx0aXRsZXx0cnx0cmFja3x1bFwiLGo9LzwhLS0oPzotPz58W1xcc1xcU10qPyg/Oi0tPnwkKSkvLFNlPWsoXCJeIHswLDN9KD86PChzY3JpcHR8cHJlfHN0eWxlfHRleHRhcmVhKVtcXFxccz5dW1xcXFxzXFxcXFNdKj8oPzo8L1xcXFwxPlteXFxcXG5dKlxcXFxuK3wkKXxjb21tZW50W15cXFxcbl0qKFxcXFxuK3wkKXw8XFxcXD9bXFxcXHNcXFxcU10qPyg/OlxcXFw/PlxcXFxuKnwkKXw8IVtBLVpdW1xcXFxzXFxcXFNdKj8oPzo+XFxcXG4qfCQpfDwhXFxcXFtDREFUQVxcXFxbW1xcXFxzXFxcXFNdKj8oPzpcXFxcXVxcXFxdPlxcXFxuKnwkKXw8Lz8odGFnKSg/OiArfFxcXFxufC8/PilbXFxcXHNcXFxcU10qPyg/Oig/OlxcXFxuWyBcdF0qKStcXFxcbnwkKXw8KD8hc2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYSkoW2Etel1bXFxcXHctXSopKD86YXR0cmlidXRlKSo/ICovPz4oPz1bIFxcXFx0XSooPzpcXFxcbnwkKSlbXFxcXHNcXFxcU10qPyg/Oig/OlxcXFxuWyBcdF0qKStcXFxcbnwkKXw8Lyg/IXNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWEpW2Etel1bXFxcXHctXSpcXFxccyo+KD89WyBcXFxcdF0qKD86XFxcXG58JCkpW1xcXFxzXFxcXFNdKj8oPzooPzpcXFxcblsgXHRdKikrXFxcXG58JCkpXCIsXCJpXCIpLnJlcGxhY2UoXCJjb21tZW50XCIsaikucmVwbGFjZShcInRhZ1wiLHYpLnJlcGxhY2UoXCJhdHRyaWJ1dGVcIiwvICtbYS16QS1aOl9dW1xcdy46LV0qKD86ICo9ICpcIlteXCJcXG5dKlwifCAqPSAqJ1teJ1xcbl0qJ3wgKj0gKlteXFxzXCInPTw+YF0rKT8vKS5nZXRSZWdleCgpLGllPWsoUSkucmVwbGFjZShcImhyXCIsSSkucmVwbGFjZShcImhlYWRpbmdcIixcIiB7MCwzfSN7MSw2fSg/OlxcXFxzfCQpXCIpLnJlcGxhY2UoXCJ8bGhlYWRpbmdcIixcIlwiKS5yZXBsYWNlKFwifHRhYmxlXCIsXCJcIikucmVwbGFjZShcImJsb2NrcXVvdGVcIixcIiB7MCwzfT5cIikucmVwbGFjZShcImZlbmNlc1wiLFwiIHswLDN9KD86YHszLH0oPz1bXmBcXFxcbl0qXFxcXG4pfH57Myx9KVteXFxcXG5dKlxcXFxuXCIpLnJlcGxhY2UoXCJsaXN0XCIsXCIgezAsM30oPzpbKistXXwxWy4pXSkgXCIpLnJlcGxhY2UoXCJodG1sXCIsXCI8Lz8oPzp0YWcpKD86ICt8XFxcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXx0ZXh0YXJlYXwhLS0pXCIpLnJlcGxhY2UoXCJ0YWdcIix2KS5nZXRSZWdleCgpLCRlPWsoL14oIHswLDN9PiA/KHBhcmFncmFwaHxbXlxcbl0qKSg/OlxcbnwkKSkrLykucmVwbGFjZShcInBhcmFncmFwaFwiLGllKS5nZXRSZWdleCgpLFU9e2Jsb2NrcXVvdGU6JGUsY29kZTpiZSxkZWY6eWUsZmVuY2VzOlJlLGhlYWRpbmc6VGUsaHI6SSxodG1sOlNlLGxoZWFkaW5nOnNlLGxpc3Q6UGUsbmV3bGluZTp4ZSxwYXJhZ3JhcGg6aWUsdGFibGU6Qyx0ZXh0OndlfSx0ZT1rKFwiXiAqKFteXFxcXG4gXS4qKVxcXFxuIHswLDN9KCg/OlxcXFx8ICopPzo/LSs6PyAqKD86XFxcXHwgKjo/LSs6PyAqKSooPzpcXFxcfCAqKT8pKD86XFxcXG4oKD86KD8hICpcXFxcbnxocnxoZWFkaW5nfGJsb2NrcXVvdGV8Y29kZXxmZW5jZXN8bGlzdHxodG1sKS4qKD86XFxcXG58JCkpKilcXFxcbip8JClcIikucmVwbGFjZShcImhyXCIsSSkucmVwbGFjZShcImhlYWRpbmdcIixcIiB7MCwzfSN7MSw2fSg/OlxcXFxzfCQpXCIpLnJlcGxhY2UoXCJibG9ja3F1b3RlXCIsXCIgezAsM30+XCIpLnJlcGxhY2UoXCJjb2RlXCIsXCIoPzogezR9fCB7MCwzfVx0KVteXFxcXG5dXCIpLnJlcGxhY2UoXCJmZW5jZXNcIixcIiB7MCwzfSg/OmB7Myx9KD89W15gXFxcXG5dKlxcXFxuKXx+ezMsfSlbXlxcXFxuXSpcXFxcblwiKS5yZXBsYWNlKFwibGlzdFwiLFwiIHswLDN9KD86WyorLV18MVsuKV0pIFwiKS5yZXBsYWNlKFwiaHRtbFwiLFwiPC8/KD86dGFnKSg/OiArfFxcXFxufC8/Pil8PCg/OnNjcmlwdHxwcmV8c3R5bGV8dGV4dGFyZWF8IS0tKVwiKS5yZXBsYWNlKFwidGFnXCIsdikuZ2V0UmVnZXgoKSxfZT17Li4uVSxsaGVhZGluZzpPZSx0YWJsZTp0ZSxwYXJhZ3JhcGg6ayhRKS5yZXBsYWNlKFwiaHJcIixJKS5yZXBsYWNlKFwiaGVhZGluZ1wiLFwiIHswLDN9I3sxLDZ9KD86XFxcXHN8JClcIikucmVwbGFjZShcInxsaGVhZGluZ1wiLFwiXCIpLnJlcGxhY2UoXCJ0YWJsZVwiLHRlKS5yZXBsYWNlKFwiYmxvY2txdW90ZVwiLFwiIHswLDN9PlwiKS5yZXBsYWNlKFwiZmVuY2VzXCIsXCIgezAsM30oPzpgezMsfSg/PVteYFxcXFxuXSpcXFxcbil8fnszLH0pW15cXFxcbl0qXFxcXG5cIikucmVwbGFjZShcImxpc3RcIixcIiB7MCwzfSg/OlsqKy1dfDFbLildKSBcIikucmVwbGFjZShcImh0bWxcIixcIjwvPyg/OnRhZykoPzogK3xcXFxcbnwvPz4pfDwoPzpzY3JpcHR8cHJlfHN0eWxlfHRleHRhcmVhfCEtLSlcIikucmVwbGFjZShcInRhZ1wiLHYpLmdldFJlZ2V4KCl9LExlPXsuLi5VLGh0bWw6ayhgXiAqKD86Y29tbWVudCAqKD86XFxcXG58XFxcXHMqJCl8PCh0YWcpW1xcXFxzXFxcXFNdKz88L1xcXFwxPiAqKD86XFxcXG57Mix9fFxcXFxzKiQpfDx0YWcoPzpcIlteXCJdKlwifCdbXiddKid8XFxcXHNbXidcIi8+XFxcXHNdKikqPy8/PiAqKD86XFxcXG57Mix9fFxcXFxzKiQpKWApLnJlcGxhY2UoXCJjb21tZW50XCIsaikucmVwbGFjZSgvdGFnL2csXCIoPyEoPzphfGVtfHN0cm9uZ3xzbWFsbHxzfGNpdGV8cXxkZm58YWJicnxkYXRhfHRpbWV8Y29kZXx2YXJ8c2FtcHxrYmR8c3VifHN1cHxpfGJ8dXxtYXJrfHJ1Ynl8cnR8cnB8YmRpfGJkb3xzcGFufGJyfHdicnxpbnN8ZGVsfGltZylcXFxcYilcXFxcdysoPyE6fFteXFxcXHdcXFxcc0BdKkApXFxcXGJcIikuZ2V0UmVnZXgoKSxkZWY6L14gKlxcWyhbXlxcXV0rKVxcXTogKjw/KFteXFxzPl0rKT4/KD86ICsoW1wiKF1bXlxcbl0rW1wiKV0pKT8gKig/Olxcbit8JCkvLGhlYWRpbmc6L14oI3sxLDZ9KSguKikoPzpcXG4rfCQpLyxmZW5jZXM6QyxsaGVhZGluZzovXiguKz8pXFxuIHswLDN9KD0rfC0rKSAqKD86XFxuK3wkKS8scGFyYWdyYXBoOmsoUSkucmVwbGFjZShcImhyXCIsSSkucmVwbGFjZShcImhlYWRpbmdcIixgICojezEsNn0gKlteXG5dYCkucmVwbGFjZShcImxoZWFkaW5nXCIsc2UpLnJlcGxhY2UoXCJ8dGFibGVcIixcIlwiKS5yZXBsYWNlKFwiYmxvY2txdW90ZVwiLFwiIHswLDN9PlwiKS5yZXBsYWNlKFwifGZlbmNlc1wiLFwiXCIpLnJlcGxhY2UoXCJ8bGlzdFwiLFwiXCIpLnJlcGxhY2UoXCJ8aHRtbFwiLFwiXCIpLnJlcGxhY2UoXCJ8dGFnXCIsXCJcIikuZ2V0UmVnZXgoKX0sTWU9L15cXFxcKFshXCIjJCUmJygpKissXFwtLi86Ozw9Pj9AXFxbXFxdXFxcXF5fYHt8fX5dKS8semU9L14oYCspKFteYF18W15gXVtcXHNcXFNdKj9bXmBdKVxcMSg/IWApLyxvZT0vXiggezIsfXxcXFxcKVxcbig/IVxccyokKS8sQWU9L14oYCt8W15gXSkoPzooPz0gezIsfVxcbil8W1xcc1xcU10qPyg/Oig/PVtcXFxcPCFcXFtgKl9dfFxcYl98JCl8W14gXSg/PSB7Mix9XFxuKSkpLyxEPS9bXFxwe1B9XFxwe1N9XS91LEs9L1tcXHNcXHB7UH1cXHB7U31dL3UsYWU9L1teXFxzXFxwe1B9XFxwe1N9XS91LENlPWsoL14oKD8hWypfXSlwdW5jdFNwYWNlKS8sXCJ1XCIpLnJlcGxhY2UoL3B1bmN0U3BhY2UvZyxLKS5nZXRSZWdleCgpLGxlPS8oPyF+KVtcXHB7UH1cXHB7U31dL3UsSWU9Lyg/IX4pW1xcc1xccHtQfVxccHtTfV0vdSxFZT0vKD86W15cXHNcXHB7UH1cXHB7U31dfH4pL3UsQmU9aygvbGlua3xwcmVjb2RlLWNvZGV8aHRtbC8sXCJnXCIpLnJlcGxhY2UoXCJsaW5rXCIsL1xcWyg/OlteXFxbXFxdYF18KD88YT5gKylbXmBdK1xcazxhPig/IWApKSo/XFxdXFwoKD86XFxcXFtcXHNcXFNdfFteXFxcXFxcKFxcKV18XFwoKD86XFxcXFtcXHNcXFNdfFteXFxcXFxcKFxcKV0pKlxcKSkqXFwpLykucmVwbGFjZShcInByZWNvZGUtXCIsbWU/XCIoPzwhYCkoKVwiOlwiKF5efFteYF0pXCIpLnJlcGxhY2UoXCJjb2RlXCIsLyg/PGI+YCspW15gXStcXGs8Yj4oPyFgKS8pLnJlcGxhY2UoXCJodG1sXCIsLzwoPyEgKVtePD5dKj8+LykuZ2V0UmVnZXgoKSx1ZT0vXig/OlxcKisoPzooKD8hXFwqKXB1bmN0KXxbXlxccypdKSl8Xl8rKD86KCg/IV8pcHVuY3QpfChbXlxcc19dKSkvLHFlPWsodWUsXCJ1XCIpLnJlcGxhY2UoL3B1bmN0L2csRCkuZ2V0UmVnZXgoKSx2ZT1rKHVlLFwidVwiKS5yZXBsYWNlKC9wdW5jdC9nLGxlKS5nZXRSZWdleCgpLHBlPVwiXlteXypdKj9fX1teXypdKj9cXFxcKlteXypdKj8oPz1fXyl8W14qXSsoPz1bXipdKXwoPyFcXFxcKilwdW5jdChcXFxcKispKD89W1xcXFxzXXwkKXxub3RQdW5jdFNwYWNlKFxcXFwqKykoPyFcXFxcKikoPz1wdW5jdFNwYWNlfCQpfCg/IVxcXFwqKXB1bmN0U3BhY2UoXFxcXCorKSg/PW5vdFB1bmN0U3BhY2UpfFtcXFxcc10oXFxcXCorKSg/IVxcXFwqKSg/PXB1bmN0KXwoPyFcXFxcKilwdW5jdChcXFxcKispKD8hXFxcXCopKD89cHVuY3QpfG5vdFB1bmN0U3BhY2UoXFxcXCorKSg/PW5vdFB1bmN0U3BhY2UpXCIsRGU9ayhwZSxcImd1XCIpLnJlcGxhY2UoL25vdFB1bmN0U3BhY2UvZyxhZSkucmVwbGFjZSgvcHVuY3RTcGFjZS9nLEspLnJlcGxhY2UoL3B1bmN0L2csRCkuZ2V0UmVnZXgoKSxIZT1rKHBlLFwiZ3VcIikucmVwbGFjZSgvbm90UHVuY3RTcGFjZS9nLEVlKS5yZXBsYWNlKC9wdW5jdFNwYWNlL2csSWUpLnJlcGxhY2UoL3B1bmN0L2csbGUpLmdldFJlZ2V4KCksWmU9ayhcIl5bXl8qXSo/XFxcXCpcXFxcKlteXypdKj9fW15fKl0qPyg/PVxcXFwqXFxcXCopfFteX10rKD89W15fXSl8KD8hXylwdW5jdChfKykoPz1bXFxcXHNdfCQpfG5vdFB1bmN0U3BhY2UoXyspKD8hXykoPz1wdW5jdFNwYWNlfCQpfCg/IV8pcHVuY3RTcGFjZShfKykoPz1ub3RQdW5jdFNwYWNlKXxbXFxcXHNdKF8rKSg/IV8pKD89cHVuY3QpfCg/IV8pcHVuY3QoXyspKD8hXykoPz1wdW5jdClcIixcImd1XCIpLnJlcGxhY2UoL25vdFB1bmN0U3BhY2UvZyxhZSkucmVwbGFjZSgvcHVuY3RTcGFjZS9nLEspLnJlcGxhY2UoL3B1bmN0L2csRCkuZ2V0UmVnZXgoKSxHZT1rKC9cXFxcKHB1bmN0KS8sXCJndVwiKS5yZXBsYWNlKC9wdW5jdC9nLEQpLmdldFJlZ2V4KCksTmU9aygvXjwoc2NoZW1lOlteXFxzXFx4MDAtXFx4MWY8Pl0qfGVtYWlsKT4vKS5yZXBsYWNlKFwic2NoZW1lXCIsL1thLXpBLVpdW2EtekEtWjAtOSsuLV17MSwzMX0vKS5yZXBsYWNlKFwiZW1haWxcIiwvW2EtekEtWjAtOS4hIyQlJicqKy89P15fYHt8fX4tXSsoQClbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKyg/IVstX10pLykuZ2V0UmVnZXgoKSxRZT1rKGopLnJlcGxhY2UoXCIoPzotLT58JClcIixcIi0tPlwiKS5nZXRSZWdleCgpLEZlPWsoXCJeY29tbWVudHxePC9bYS16QS1aXVtcXFxcdzotXSpcXFxccyo+fF48W2EtekEtWl1bXFxcXHctXSooPzphdHRyaWJ1dGUpKj9cXFxccyovPz58XjxcXFxcP1tcXFxcc1xcXFxTXSo/XFxcXD8+fF48IVthLXpBLVpdK1xcXFxzW1xcXFxzXFxcXFNdKj8+fF48IVxcXFxbQ0RBVEFcXFxcW1tcXFxcc1xcXFxTXSo/XFxcXF1cXFxcXT5cIikucmVwbGFjZShcImNvbW1lbnRcIixRZSkucmVwbGFjZShcImF0dHJpYnV0ZVwiLC9cXHMrW2EtekEtWjpfXVtcXHcuOi1dKig/Olxccyo9XFxzKlwiW15cIl0qXCJ8XFxzKj1cXHMqJ1teJ10qJ3xcXHMqPVxccypbXlxcc1wiJz08PmBdKyk/LykuZ2V0UmVnZXgoKSxxPS8oPzpcXFsoPzpcXFxcW1xcc1xcU118W15cXFtcXF1cXFxcXSkqXFxdfFxcXFxbXFxzXFxTXXxgK1teYF0qP2ArKD8hYCl8W15cXFtcXF1cXFxcYF0pKj8vLGplPWsoL14hP1xcWyhsYWJlbClcXF1cXChcXHMqKGhyZWYpKD86KD86WyBcXHRdKig/OlxcblsgXFx0XSopPykodGl0bGUpKT9cXHMqXFwpLykucmVwbGFjZShcImxhYmVsXCIscSkucmVwbGFjZShcImhyZWZcIiwvPCg/OlxcXFwufFteXFxuPD5cXFxcXSkrPnxbXiBcXHRcXG5cXHgwMC1cXHgxZl0qLykucmVwbGFjZShcInRpdGxlXCIsL1wiKD86XFxcXFwiP3xbXlwiXFxcXF0pKlwifCcoPzpcXFxcJz98W14nXFxcXF0pKid8XFwoKD86XFxcXFxcKT98W14pXFxcXF0pKlxcKS8pLmdldFJlZ2V4KCksY2U9aygvXiE/XFxbKGxhYmVsKVxcXVxcWyhyZWYpXFxdLykucmVwbGFjZShcImxhYmVsXCIscSkucmVwbGFjZShcInJlZlwiLEYpLmdldFJlZ2V4KCksaGU9aygvXiE/XFxbKHJlZilcXF0oPzpcXFtcXF0pPy8pLnJlcGxhY2UoXCJyZWZcIixGKS5nZXRSZWdleCgpLFVlPWsoXCJyZWZsaW5rfG5vbGluayg/IVxcXFwoKVwiLFwiZ1wiKS5yZXBsYWNlKFwicmVmbGlua1wiLGNlKS5yZXBsYWNlKFwibm9saW5rXCIsaGUpLmdldFJlZ2V4KCksbmU9L1toSF1bdFRdW3RUXVtwUF1bc1NdP3xbZkZdW3RUXVtwUF0vLFc9e19iYWNrcGVkYWw6QyxhbnlQdW5jdHVhdGlvbjpHZSxhdXRvbGluazpOZSxibG9ja1NraXA6QmUsYnI6b2UsY29kZTp6ZSxkZWw6QyxlbVN0cm9uZ0xEZWxpbTpxZSxlbVN0cm9uZ1JEZWxpbUFzdDpEZSxlbVN0cm9uZ1JEZWxpbVVuZDpaZSxlc2NhcGU6TWUsbGluazpqZSxub2xpbms6aGUscHVuY3R1YXRpb246Q2UscmVmbGluazpjZSxyZWZsaW5rU2VhcmNoOlVlLHRhZzpGZSx0ZXh0OkFlLHVybDpDfSxLZT17Li4uVyxsaW5rOmsoL14hP1xcWyhsYWJlbClcXF1cXCgoLio/KVxcKS8pLnJlcGxhY2UoXCJsYWJlbFwiLHEpLmdldFJlZ2V4KCkscmVmbGluazprKC9eIT9cXFsobGFiZWwpXFxdXFxzKlxcWyhbXlxcXV0qKVxcXS8pLnJlcGxhY2UoXCJsYWJlbFwiLHEpLmdldFJlZ2V4KCl9LEc9ey4uLlcsZW1TdHJvbmdSRGVsaW1Bc3Q6SGUsZW1TdHJvbmdMRGVsaW06dmUsdXJsOmsoL14oKD86cHJvdG9jb2wpOlxcL1xcL3x3d3dcXC4pKD86W2EtekEtWjAtOVxcLV0rXFwuPykrW15cXHM8XSp8XmVtYWlsLykucmVwbGFjZShcInByb3RvY29sXCIsbmUpLnJlcGxhY2UoXCJlbWFpbFwiLC9bQS1aYS16MC05Ll8rLV0rKEApW2EtekEtWjAtOS1fXSsoPzpcXC5bYS16QS1aMC05LV9dKlthLXpBLVowLTldKSsoPyFbLV9dKS8pLmdldFJlZ2V4KCksX2JhY2twZWRhbDovKD86W14/IS4sOjsqXydcIn4oKSZdK3xcXChbXildKlxcKXwmKD8hW2EtekEtWjAtOV0rOyQpfFs/IS4sOjsqXydcIn4pXSsoPyEkKSkrLyxkZWw6L14ofn4/KSg/PVteXFxzfl0pKCg/OlxcXFxbXFxzXFxTXXxbXlxcXFxdKSo/KD86XFxcXFtcXHNcXFNdfFteXFxzflxcXFxdKSlcXDEoPz1bXn5dfCQpLyx0ZXh0OmsoL14oW2B+XSt8W15gfl0pKD86KD89IHsyLH1cXG4pfCg/PVthLXpBLVowLTkuISMkJSYnKitcXC89P19ge1xcfH1+LV0rQCl8W1xcc1xcU10qPyg/Oig/PVtcXFxcPCFcXFtgKn5fXXxcXGJffHByb3RvY29sOlxcL1xcL3x3d3dcXC58JCl8W14gXSg/PSB7Mix9XFxuKXxbXmEtekEtWjAtOS4hIyQlJicqK1xcLz0/X2B7XFx8fX4tXSg/PVthLXpBLVowLTkuISMkJSYnKitcXC89P19ge1xcfH1+LV0rQCkpKS8pLnJlcGxhY2UoXCJwcm90b2NvbFwiLG5lKS5nZXRSZWdleCgpfSxXZT17Li4uRyxicjprKG9lKS5yZXBsYWNlKFwiezIsfVwiLFwiKlwiKS5nZXRSZWdleCgpLHRleHQ6ayhHLnRleHQpLnJlcGxhY2UoXCJcXFxcYl9cIixcIlxcXFxiX3wgezIsfVxcXFxuXCIpLnJlcGxhY2UoL1xcezIsXFx9L2csXCIqXCIpLmdldFJlZ2V4KCl9LEU9e25vcm1hbDpVLGdmbTpfZSxwZWRhbnRpYzpMZX0sTT17bm9ybWFsOlcsZ2ZtOkcsYnJlYWtzOldlLHBlZGFudGljOktlfTt2YXIgWGU9e1wiJlwiOlwiJmFtcDtcIixcIjxcIjpcIiZsdDtcIixcIj5cIjpcIiZndDtcIiwnXCInOlwiJnF1b3Q7XCIsXCInXCI6XCImIzM5O1wifSxrZT11PT5YZVt1XTtmdW5jdGlvbiB3KHUsZSl7aWYoZSl7aWYobS5lc2NhcGVUZXN0LnRlc3QodSkpcmV0dXJuIHUucmVwbGFjZShtLmVzY2FwZVJlcGxhY2Usa2UpfWVsc2UgaWYobS5lc2NhcGVUZXN0Tm9FbmNvZGUudGVzdCh1KSlyZXR1cm4gdS5yZXBsYWNlKG0uZXNjYXBlUmVwbGFjZU5vRW5jb2RlLGtlKTtyZXR1cm4gdX1mdW5jdGlvbiBYKHUpe3RyeXt1PWVuY29kZVVSSSh1KS5yZXBsYWNlKG0ucGVyY2VudERlY29kZSxcIiVcIil9Y2F0Y2h7cmV0dXJuIG51bGx9cmV0dXJuIHV9ZnVuY3Rpb24gSih1LGUpe2xldCB0PXUucmVwbGFjZShtLmZpbmRQaXBlLChpLHMsYSk9PntsZXQgbz0hMSxsPXM7Zm9yKDstLWw+PTAmJmFbbF09PT1cIlxcXFxcIjspbz0hbztyZXR1cm4gbz9cInxcIjpcIiB8XCJ9KSxuPXQuc3BsaXQobS5zcGxpdFBpcGUpLHI9MDtpZihuWzBdLnRyaW0oKXx8bi5zaGlmdCgpLG4ubGVuZ3RoPjAmJiFuLmF0KC0xKT8udHJpbSgpJiZuLnBvcCgpLGUpaWYobi5sZW5ndGg+ZSluLnNwbGljZShlKTtlbHNlIGZvcig7bi5sZW5ndGg8ZTspbi5wdXNoKFwiXCIpO2Zvcig7cjxuLmxlbmd0aDtyKyspbltyXT1uW3JdLnRyaW0oKS5yZXBsYWNlKG0uc2xhc2hQaXBlLFwifFwiKTtyZXR1cm4gbn1mdW5jdGlvbiB6KHUsZSx0KXtsZXQgbj11Lmxlbmd0aDtpZihuPT09MClyZXR1cm5cIlwiO2xldCByPTA7Zm9yKDtyPG47KXtsZXQgaT11LmNoYXJBdChuLXItMSk7aWYoaT09PWUmJiF0KXIrKztlbHNlIGlmKGkhPT1lJiZ0KXIrKztlbHNlIGJyZWFrfXJldHVybiB1LnNsaWNlKDAsbi1yKX1mdW5jdGlvbiBkZSh1LGUpe2lmKHUuaW5kZXhPZihlWzFdKT09PS0xKXJldHVybi0xO2xldCB0PTA7Zm9yKGxldCBuPTA7bjx1Lmxlbmd0aDtuKyspaWYodVtuXT09PVwiXFxcXFwiKW4rKztlbHNlIGlmKHVbbl09PT1lWzBdKXQrKztlbHNlIGlmKHVbbl09PT1lWzFdJiYodC0tLHQ8MCkpcmV0dXJuIG47cmV0dXJuIHQ+MD8tMjotMX1mdW5jdGlvbiBnZSh1LGUsdCxuLHIpe2xldCBpPWUuaHJlZixzPWUudGl0bGV8fG51bGwsYT11WzFdLnJlcGxhY2Uoci5vdGhlci5vdXRwdXRMaW5rUmVwbGFjZSxcIiQxXCIpO24uc3RhdGUuaW5MaW5rPSEwO2xldCBvPXt0eXBlOnVbMF0uY2hhckF0KDApPT09XCIhXCI/XCJpbWFnZVwiOlwibGlua1wiLHJhdzp0LGhyZWY6aSx0aXRsZTpzLHRleHQ6YSx0b2tlbnM6bi5pbmxpbmVUb2tlbnMoYSl9O3JldHVybiBuLnN0YXRlLmluTGluaz0hMSxvfWZ1bmN0aW9uIEplKHUsZSx0KXtsZXQgbj11Lm1hdGNoKHQub3RoZXIuaW5kZW50Q29kZUNvbXBlbnNhdGlvbik7aWYobj09PW51bGwpcmV0dXJuIGU7bGV0IHI9blsxXTtyZXR1cm4gZS5zcGxpdChgXG5gKS5tYXAoaT0+e2xldCBzPWkubWF0Y2godC5vdGhlci5iZWdpbm5pbmdTcGFjZSk7aWYocz09PW51bGwpcmV0dXJuIGk7bGV0W2FdPXM7cmV0dXJuIGEubGVuZ3RoPj1yLmxlbmd0aD9pLnNsaWNlKHIubGVuZ3RoKTppfSkuam9pbihgXG5gKX12YXIgeT1jbGFzc3tvcHRpb25zO3J1bGVzO2xleGVyO2NvbnN0cnVjdG9yKGUpe3RoaXMub3B0aW9ucz1lfHxUfXNwYWNlKGUpe2xldCB0PXRoaXMucnVsZXMuYmxvY2submV3bGluZS5leGVjKGUpO2lmKHQmJnRbMF0ubGVuZ3RoPjApcmV0dXJue3R5cGU6XCJzcGFjZVwiLHJhdzp0WzBdfX1jb2RlKGUpe2xldCB0PXRoaXMucnVsZXMuYmxvY2suY29kZS5leGVjKGUpO2lmKHQpe2xldCBuPXRbMF0ucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLmNvZGVSZW1vdmVJbmRlbnQsXCJcIik7cmV0dXJue3R5cGU6XCJjb2RlXCIscmF3OnRbMF0sY29kZUJsb2NrU3R5bGU6XCJpbmRlbnRlZFwiLHRleHQ6dGhpcy5vcHRpb25zLnBlZGFudGljP246eihuLGBcbmApfX19ZmVuY2VzKGUpe2xldCB0PXRoaXMucnVsZXMuYmxvY2suZmVuY2VzLmV4ZWMoZSk7aWYodCl7bGV0IG49dFswXSxyPUplKG4sdFszXXx8XCJcIix0aGlzLnJ1bGVzKTtyZXR1cm57dHlwZTpcImNvZGVcIixyYXc6bixsYW5nOnRbMl0/dFsyXS50cmltKCkucmVwbGFjZSh0aGlzLnJ1bGVzLmlubGluZS5hbnlQdW5jdHVhdGlvbixcIiQxXCIpOnRbMl0sdGV4dDpyfX19aGVhZGluZyhlKXtsZXQgdD10aGlzLnJ1bGVzLmJsb2NrLmhlYWRpbmcuZXhlYyhlKTtpZih0KXtsZXQgbj10WzJdLnRyaW0oKTtpZih0aGlzLnJ1bGVzLm90aGVyLmVuZGluZ0hhc2gudGVzdChuKSl7bGV0IHI9eihuLFwiI1wiKTsodGhpcy5vcHRpb25zLnBlZGFudGljfHwhcnx8dGhpcy5ydWxlcy5vdGhlci5lbmRpbmdTcGFjZUNoYXIudGVzdChyKSkmJihuPXIudHJpbSgpKX1yZXR1cm57dHlwZTpcImhlYWRpbmdcIixyYXc6dFswXSxkZXB0aDp0WzFdLmxlbmd0aCx0ZXh0Om4sdG9rZW5zOnRoaXMubGV4ZXIuaW5saW5lKG4pfX19aHIoZSl7bGV0IHQ9dGhpcy5ydWxlcy5ibG9jay5oci5leGVjKGUpO2lmKHQpcmV0dXJue3R5cGU6XCJoclwiLHJhdzp6KHRbMF0sYFxuYCl9fWJsb2NrcXVvdGUoZSl7bGV0IHQ9dGhpcy5ydWxlcy5ibG9jay5ibG9ja3F1b3RlLmV4ZWMoZSk7aWYodCl7bGV0IG49eih0WzBdLGBcbmApLnNwbGl0KGBcbmApLHI9XCJcIixpPVwiXCIscz1bXTtmb3IoO24ubGVuZ3RoPjA7KXtsZXQgYT0hMSxvPVtdLGw7Zm9yKGw9MDtsPG4ubGVuZ3RoO2wrKylpZih0aGlzLnJ1bGVzLm90aGVyLmJsb2NrcXVvdGVTdGFydC50ZXN0KG5bbF0pKW8ucHVzaChuW2xdKSxhPSEwO2Vsc2UgaWYoIWEpby5wdXNoKG5bbF0pO2Vsc2UgYnJlYWs7bj1uLnNsaWNlKGwpO2xldCBwPW8uam9pbihgXG5gKSxjPXAucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLmJsb2NrcXVvdGVTZXRleHRSZXBsYWNlLGBcbiAgICAkMWApLnJlcGxhY2UodGhpcy5ydWxlcy5vdGhlci5ibG9ja3F1b3RlU2V0ZXh0UmVwbGFjZTIsXCJcIik7cj1yP2Ake3J9XG4ke3B9YDpwLGk9aT9gJHtpfVxuJHtjfWA6YztsZXQgZz10aGlzLmxleGVyLnN0YXRlLnRvcDtpZih0aGlzLmxleGVyLnN0YXRlLnRvcD0hMCx0aGlzLmxleGVyLmJsb2NrVG9rZW5zKGMscywhMCksdGhpcy5sZXhlci5zdGF0ZS50b3A9ZyxuLmxlbmd0aD09PTApYnJlYWs7bGV0IGg9cy5hdCgtMSk7aWYoaD8udHlwZT09PVwiY29kZVwiKWJyZWFrO2lmKGg/LnR5cGU9PT1cImJsb2NrcXVvdGVcIil7bGV0IFI9aCxmPVIucmF3K2BcbmArbi5qb2luKGBcbmApLE89dGhpcy5ibG9ja3F1b3RlKGYpO3Nbcy5sZW5ndGgtMV09TyxyPXIuc3Vic3RyaW5nKDAsci5sZW5ndGgtUi5yYXcubGVuZ3RoKStPLnJhdyxpPWkuc3Vic3RyaW5nKDAsaS5sZW5ndGgtUi50ZXh0Lmxlbmd0aCkrTy50ZXh0O2JyZWFrfWVsc2UgaWYoaD8udHlwZT09PVwibGlzdFwiKXtsZXQgUj1oLGY9Ui5yYXcrYFxuYCtuLmpvaW4oYFxuYCksTz10aGlzLmxpc3QoZik7c1tzLmxlbmd0aC0xXT1PLHI9ci5zdWJzdHJpbmcoMCxyLmxlbmd0aC1oLnJhdy5sZW5ndGgpK08ucmF3LGk9aS5zdWJzdHJpbmcoMCxpLmxlbmd0aC1SLnJhdy5sZW5ndGgpK08ucmF3LG49Zi5zdWJzdHJpbmcocy5hdCgtMSkucmF3Lmxlbmd0aCkuc3BsaXQoYFxuYCk7Y29udGludWV9fXJldHVybnt0eXBlOlwiYmxvY2txdW90ZVwiLHJhdzpyLHRva2VuczpzLHRleHQ6aX19fWxpc3QoZSl7bGV0IHQ9dGhpcy5ydWxlcy5ibG9jay5saXN0LmV4ZWMoZSk7aWYodCl7bGV0IG49dFsxXS50cmltKCkscj1uLmxlbmd0aD4xLGk9e3R5cGU6XCJsaXN0XCIscmF3OlwiXCIsb3JkZXJlZDpyLHN0YXJ0OnI/K24uc2xpY2UoMCwtMSk6XCJcIixsb29zZTohMSxpdGVtczpbXX07bj1yP2BcXFxcZHsxLDl9XFxcXCR7bi5zbGljZSgtMSl9YDpgXFxcXCR7bn1gLHRoaXMub3B0aW9ucy5wZWRhbnRpYyYmKG49cj9uOlwiWyorLV1cIik7bGV0IHM9dGhpcy5ydWxlcy5vdGhlci5saXN0SXRlbVJlZ2V4KG4pLGE9ITE7Zm9yKDtlOyl7bGV0IGw9ITEscD1cIlwiLGM9XCJcIjtpZighKHQ9cy5leGVjKGUpKXx8dGhpcy5ydWxlcy5ibG9jay5oci50ZXN0KGUpKWJyZWFrO3A9dFswXSxlPWUuc3Vic3RyaW5nKHAubGVuZ3RoKTtsZXQgZz10WzJdLnNwbGl0KGBcbmAsMSlbMF0ucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLmxpc3RSZXBsYWNlVGFicyxPPT5cIiBcIi5yZXBlYXQoMypPLmxlbmd0aCkpLGg9ZS5zcGxpdChgXG5gLDEpWzBdLFI9IWcudHJpbSgpLGY9MDtpZih0aGlzLm9wdGlvbnMucGVkYW50aWM/KGY9MixjPWcudHJpbVN0YXJ0KCkpOlI/Zj10WzFdLmxlbmd0aCsxOihmPXRbMl0uc2VhcmNoKHRoaXMucnVsZXMub3RoZXIubm9uU3BhY2VDaGFyKSxmPWY+ND8xOmYsYz1nLnNsaWNlKGYpLGYrPXRbMV0ubGVuZ3RoKSxSJiZ0aGlzLnJ1bGVzLm90aGVyLmJsYW5rTGluZS50ZXN0KGgpJiYocCs9aCtgXG5gLGU9ZS5zdWJzdHJpbmcoaC5sZW5ndGgrMSksbD0hMCksIWwpe2xldCBPPXRoaXMucnVsZXMub3RoZXIubmV4dEJ1bGxldFJlZ2V4KGYpLFY9dGhpcy5ydWxlcy5vdGhlci5oclJlZ2V4KGYpLFk9dGhpcy5ydWxlcy5vdGhlci5mZW5jZXNCZWdpblJlZ2V4KGYpLGVlPXRoaXMucnVsZXMub3RoZXIuaGVhZGluZ0JlZ2luUmVnZXgoZiksZmU9dGhpcy5ydWxlcy5vdGhlci5odG1sQmVnaW5SZWdleChmKTtmb3IoO2U7KXtsZXQgSD1lLnNwbGl0KGBcbmAsMSlbMF0sQTtpZihoPUgsdGhpcy5vcHRpb25zLnBlZGFudGljPyhoPWgucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLmxpc3RSZXBsYWNlTmVzdGluZyxcIiAgXCIpLEE9aCk6QT1oLnJlcGxhY2UodGhpcy5ydWxlcy5vdGhlci50YWJDaGFyR2xvYmFsLFwiICAgIFwiKSxZLnRlc3QoaCl8fGVlLnRlc3QoaCl8fGZlLnRlc3QoaCl8fE8udGVzdChoKXx8Vi50ZXN0KGgpKWJyZWFrO2lmKEEuc2VhcmNoKHRoaXMucnVsZXMub3RoZXIubm9uU3BhY2VDaGFyKT49Znx8IWgudHJpbSgpKWMrPWBcbmArQS5zbGljZShmKTtlbHNle2lmKFJ8fGcucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLnRhYkNoYXJHbG9iYWwsXCIgICAgXCIpLnNlYXJjaCh0aGlzLnJ1bGVzLm90aGVyLm5vblNwYWNlQ2hhcik+PTR8fFkudGVzdChnKXx8ZWUudGVzdChnKXx8Vi50ZXN0KGcpKWJyZWFrO2MrPWBcbmAraH0hUiYmIWgudHJpbSgpJiYoUj0hMCkscCs9SCtgXG5gLGU9ZS5zdWJzdHJpbmcoSC5sZW5ndGgrMSksZz1BLnNsaWNlKGYpfX1pLmxvb3NlfHwoYT9pLmxvb3NlPSEwOnRoaXMucnVsZXMub3RoZXIuZG91YmxlQmxhbmtMaW5lLnRlc3QocCkmJihhPSEwKSksaS5pdGVtcy5wdXNoKHt0eXBlOlwibGlzdF9pdGVtXCIscmF3OnAsdGFzazohIXRoaXMub3B0aW9ucy5nZm0mJnRoaXMucnVsZXMub3RoZXIubGlzdElzVGFzay50ZXN0KGMpLGxvb3NlOiExLHRleHQ6Yyx0b2tlbnM6W119KSxpLnJhdys9cH1sZXQgbz1pLml0ZW1zLmF0KC0xKTtpZihvKW8ucmF3PW8ucmF3LnRyaW1FbmQoKSxvLnRleHQ9by50ZXh0LnRyaW1FbmQoKTtlbHNlIHJldHVybjtpLnJhdz1pLnJhdy50cmltRW5kKCk7Zm9yKGxldCBsIG9mIGkuaXRlbXMpe2lmKHRoaXMubGV4ZXIuc3RhdGUudG9wPSExLGwudG9rZW5zPXRoaXMubGV4ZXIuYmxvY2tUb2tlbnMobC50ZXh0LFtdKSxsLnRhc2spe2lmKGwudGV4dD1sLnRleHQucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLmxpc3RSZXBsYWNlVGFzayxcIlwiKSxsLnRva2Vuc1swXT8udHlwZT09PVwidGV4dFwifHxsLnRva2Vuc1swXT8udHlwZT09PVwicGFyYWdyYXBoXCIpe2wudG9rZW5zWzBdLnJhdz1sLnRva2Vuc1swXS5yYXcucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLmxpc3RSZXBsYWNlVGFzayxcIlwiKSxsLnRva2Vuc1swXS50ZXh0PWwudG9rZW5zWzBdLnRleHQucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLmxpc3RSZXBsYWNlVGFzayxcIlwiKTtmb3IobGV0IGM9dGhpcy5sZXhlci5pbmxpbmVRdWV1ZS5sZW5ndGgtMTtjPj0wO2MtLSlpZih0aGlzLnJ1bGVzLm90aGVyLmxpc3RJc1Rhc2sudGVzdCh0aGlzLmxleGVyLmlubGluZVF1ZXVlW2NdLnNyYykpe3RoaXMubGV4ZXIuaW5saW5lUXVldWVbY10uc3JjPXRoaXMubGV4ZXIuaW5saW5lUXVldWVbY10uc3JjLnJlcGxhY2UodGhpcy5ydWxlcy5vdGhlci5saXN0UmVwbGFjZVRhc2ssXCJcIik7YnJlYWt9fWxldCBwPXRoaXMucnVsZXMub3RoZXIubGlzdFRhc2tDaGVja2JveC5leGVjKGwucmF3KTtpZihwKXtsZXQgYz17dHlwZTpcImNoZWNrYm94XCIscmF3OnBbMF0rXCIgXCIsY2hlY2tlZDpwWzBdIT09XCJbIF1cIn07bC5jaGVja2VkPWMuY2hlY2tlZCxpLmxvb3NlP2wudG9rZW5zWzBdJiZbXCJwYXJhZ3JhcGhcIixcInRleHRcIl0uaW5jbHVkZXMobC50b2tlbnNbMF0udHlwZSkmJlwidG9rZW5zXCJpbiBsLnRva2Vuc1swXSYmbC50b2tlbnNbMF0udG9rZW5zPyhsLnRva2Vuc1swXS5yYXc9Yy5yYXcrbC50b2tlbnNbMF0ucmF3LGwudG9rZW5zWzBdLnRleHQ9Yy5yYXcrbC50b2tlbnNbMF0udGV4dCxsLnRva2Vuc1swXS50b2tlbnMudW5zaGlmdChjKSk6bC50b2tlbnMudW5zaGlmdCh7dHlwZTpcInBhcmFncmFwaFwiLHJhdzpjLnJhdyx0ZXh0OmMucmF3LHRva2VuczpbY119KTpsLnRva2Vucy51bnNoaWZ0KGMpfX1pZighaS5sb29zZSl7bGV0IHA9bC50b2tlbnMuZmlsdGVyKGc9PmcudHlwZT09PVwic3BhY2VcIiksYz1wLmxlbmd0aD4wJiZwLnNvbWUoZz0+dGhpcy5ydWxlcy5vdGhlci5hbnlMaW5lLnRlc3QoZy5yYXcpKTtpLmxvb3NlPWN9fWlmKGkubG9vc2UpZm9yKGxldCBsIG9mIGkuaXRlbXMpe2wubG9vc2U9ITA7Zm9yKGxldCBwIG9mIGwudG9rZW5zKXAudHlwZT09PVwidGV4dFwiJiYocC50eXBlPVwicGFyYWdyYXBoXCIpfXJldHVybiBpfX1odG1sKGUpe2xldCB0PXRoaXMucnVsZXMuYmxvY2suaHRtbC5leGVjKGUpO2lmKHQpcmV0dXJue3R5cGU6XCJodG1sXCIsYmxvY2s6ITAscmF3OnRbMF0scHJlOnRbMV09PT1cInByZVwifHx0WzFdPT09XCJzY3JpcHRcInx8dFsxXT09PVwic3R5bGVcIix0ZXh0OnRbMF19fWRlZihlKXtsZXQgdD10aGlzLnJ1bGVzLmJsb2NrLmRlZi5leGVjKGUpO2lmKHQpe2xldCBuPXRbMV0udG9Mb3dlckNhc2UoKS5yZXBsYWNlKHRoaXMucnVsZXMub3RoZXIubXVsdGlwbGVTcGFjZUdsb2JhbCxcIiBcIikscj10WzJdP3RbMl0ucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLmhyZWZCcmFja2V0cyxcIiQxXCIpLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuYW55UHVuY3R1YXRpb24sXCIkMVwiKTpcIlwiLGk9dFszXT90WzNdLnN1YnN0cmluZygxLHRbM10ubGVuZ3RoLTEpLnJlcGxhY2UodGhpcy5ydWxlcy5pbmxpbmUuYW55UHVuY3R1YXRpb24sXCIkMVwiKTp0WzNdO3JldHVybnt0eXBlOlwiZGVmXCIsdGFnOm4scmF3OnRbMF0saHJlZjpyLHRpdGxlOml9fX10YWJsZShlKXtsZXQgdD10aGlzLnJ1bGVzLmJsb2NrLnRhYmxlLmV4ZWMoZSk7aWYoIXR8fCF0aGlzLnJ1bGVzLm90aGVyLnRhYmxlRGVsaW1pdGVyLnRlc3QodFsyXSkpcmV0dXJuO2xldCBuPUoodFsxXSkscj10WzJdLnJlcGxhY2UodGhpcy5ydWxlcy5vdGhlci50YWJsZUFsaWduQ2hhcnMsXCJcIikuc3BsaXQoXCJ8XCIpLGk9dFszXT8udHJpbSgpP3RbM10ucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLnRhYmxlUm93QmxhbmtMaW5lLFwiXCIpLnNwbGl0KGBcbmApOltdLHM9e3R5cGU6XCJ0YWJsZVwiLHJhdzp0WzBdLGhlYWRlcjpbXSxhbGlnbjpbXSxyb3dzOltdfTtpZihuLmxlbmd0aD09PXIubGVuZ3RoKXtmb3IobGV0IGEgb2Ygcil0aGlzLnJ1bGVzLm90aGVyLnRhYmxlQWxpZ25SaWdodC50ZXN0KGEpP3MuYWxpZ24ucHVzaChcInJpZ2h0XCIpOnRoaXMucnVsZXMub3RoZXIudGFibGVBbGlnbkNlbnRlci50ZXN0KGEpP3MuYWxpZ24ucHVzaChcImNlbnRlclwiKTp0aGlzLnJ1bGVzLm90aGVyLnRhYmxlQWxpZ25MZWZ0LnRlc3QoYSk/cy5hbGlnbi5wdXNoKFwibGVmdFwiKTpzLmFsaWduLnB1c2gobnVsbCk7Zm9yKGxldCBhPTA7YTxuLmxlbmd0aDthKyspcy5oZWFkZXIucHVzaCh7dGV4dDpuW2FdLHRva2Vuczp0aGlzLmxleGVyLmlubGluZShuW2FdKSxoZWFkZXI6ITAsYWxpZ246cy5hbGlnblthXX0pO2ZvcihsZXQgYSBvZiBpKXMucm93cy5wdXNoKEooYSxzLmhlYWRlci5sZW5ndGgpLm1hcCgobyxsKT0+KHt0ZXh0Om8sdG9rZW5zOnRoaXMubGV4ZXIuaW5saW5lKG8pLGhlYWRlcjohMSxhbGlnbjpzLmFsaWduW2xdfSkpKTtyZXR1cm4gc319bGhlYWRpbmcoZSl7bGV0IHQ9dGhpcy5ydWxlcy5ibG9jay5saGVhZGluZy5leGVjKGUpO2lmKHQpcmV0dXJue3R5cGU6XCJoZWFkaW5nXCIscmF3OnRbMF0sZGVwdGg6dFsyXS5jaGFyQXQoMCk9PT1cIj1cIj8xOjIsdGV4dDp0WzFdLHRva2Vuczp0aGlzLmxleGVyLmlubGluZSh0WzFdKX19cGFyYWdyYXBoKGUpe2xldCB0PXRoaXMucnVsZXMuYmxvY2sucGFyYWdyYXBoLmV4ZWMoZSk7aWYodCl7bGV0IG49dFsxXS5jaGFyQXQodFsxXS5sZW5ndGgtMSk9PT1gXG5gP3RbMV0uc2xpY2UoMCwtMSk6dFsxXTtyZXR1cm57dHlwZTpcInBhcmFncmFwaFwiLHJhdzp0WzBdLHRleHQ6bix0b2tlbnM6dGhpcy5sZXhlci5pbmxpbmUobil9fX10ZXh0KGUpe2xldCB0PXRoaXMucnVsZXMuYmxvY2sudGV4dC5leGVjKGUpO2lmKHQpcmV0dXJue3R5cGU6XCJ0ZXh0XCIscmF3OnRbMF0sdGV4dDp0WzBdLHRva2Vuczp0aGlzLmxleGVyLmlubGluZSh0WzBdKX19ZXNjYXBlKGUpe2xldCB0PXRoaXMucnVsZXMuaW5saW5lLmVzY2FwZS5leGVjKGUpO2lmKHQpcmV0dXJue3R5cGU6XCJlc2NhcGVcIixyYXc6dFswXSx0ZXh0OnRbMV19fXRhZyhlKXtsZXQgdD10aGlzLnJ1bGVzLmlubGluZS50YWcuZXhlYyhlKTtpZih0KXJldHVybiF0aGlzLmxleGVyLnN0YXRlLmluTGluayYmdGhpcy5ydWxlcy5vdGhlci5zdGFydEFUYWcudGVzdCh0WzBdKT90aGlzLmxleGVyLnN0YXRlLmluTGluaz0hMDp0aGlzLmxleGVyLnN0YXRlLmluTGluayYmdGhpcy5ydWxlcy5vdGhlci5lbmRBVGFnLnRlc3QodFswXSkmJih0aGlzLmxleGVyLnN0YXRlLmluTGluaz0hMSksIXRoaXMubGV4ZXIuc3RhdGUuaW5SYXdCbG9jayYmdGhpcy5ydWxlcy5vdGhlci5zdGFydFByZVNjcmlwdFRhZy50ZXN0KHRbMF0pP3RoaXMubGV4ZXIuc3RhdGUuaW5SYXdCbG9jaz0hMDp0aGlzLmxleGVyLnN0YXRlLmluUmF3QmxvY2smJnRoaXMucnVsZXMub3RoZXIuZW5kUHJlU2NyaXB0VGFnLnRlc3QodFswXSkmJih0aGlzLmxleGVyLnN0YXRlLmluUmF3QmxvY2s9ITEpLHt0eXBlOlwiaHRtbFwiLHJhdzp0WzBdLGluTGluazp0aGlzLmxleGVyLnN0YXRlLmluTGluayxpblJhd0Jsb2NrOnRoaXMubGV4ZXIuc3RhdGUuaW5SYXdCbG9jayxibG9jazohMSx0ZXh0OnRbMF19fWxpbmsoZSl7bGV0IHQ9dGhpcy5ydWxlcy5pbmxpbmUubGluay5leGVjKGUpO2lmKHQpe2xldCBuPXRbMl0udHJpbSgpO2lmKCF0aGlzLm9wdGlvbnMucGVkYW50aWMmJnRoaXMucnVsZXMub3RoZXIuc3RhcnRBbmdsZUJyYWNrZXQudGVzdChuKSl7aWYoIXRoaXMucnVsZXMub3RoZXIuZW5kQW5nbGVCcmFja2V0LnRlc3QobikpcmV0dXJuO2xldCBzPXoobi5zbGljZSgwLC0xKSxcIlxcXFxcIik7aWYoKG4ubGVuZ3RoLXMubGVuZ3RoKSUyPT09MClyZXR1cm59ZWxzZXtsZXQgcz1kZSh0WzJdLFwiKClcIik7aWYocz09PS0yKXJldHVybjtpZihzPi0xKXtsZXQgbz0odFswXS5pbmRleE9mKFwiIVwiKT09PTA/NTo0KSt0WzFdLmxlbmd0aCtzO3RbMl09dFsyXS5zdWJzdHJpbmcoMCxzKSx0WzBdPXRbMF0uc3Vic3RyaW5nKDAsbykudHJpbSgpLHRbM109XCJcIn19bGV0IHI9dFsyXSxpPVwiXCI7aWYodGhpcy5vcHRpb25zLnBlZGFudGljKXtsZXQgcz10aGlzLnJ1bGVzLm90aGVyLnBlZGFudGljSHJlZlRpdGxlLmV4ZWMocik7cyYmKHI9c1sxXSxpPXNbM10pfWVsc2UgaT10WzNdP3RbM10uc2xpY2UoMSwtMSk6XCJcIjtyZXR1cm4gcj1yLnRyaW0oKSx0aGlzLnJ1bGVzLm90aGVyLnN0YXJ0QW5nbGVCcmFja2V0LnRlc3QocikmJih0aGlzLm9wdGlvbnMucGVkYW50aWMmJiF0aGlzLnJ1bGVzLm90aGVyLmVuZEFuZ2xlQnJhY2tldC50ZXN0KG4pP3I9ci5zbGljZSgxKTpyPXIuc2xpY2UoMSwtMSkpLGdlKHQse2hyZWY6ciYmci5yZXBsYWNlKHRoaXMucnVsZXMuaW5saW5lLmFueVB1bmN0dWF0aW9uLFwiJDFcIiksdGl0bGU6aSYmaS5yZXBsYWNlKHRoaXMucnVsZXMuaW5saW5lLmFueVB1bmN0dWF0aW9uLFwiJDFcIil9LHRbMF0sdGhpcy5sZXhlcix0aGlzLnJ1bGVzKX19cmVmbGluayhlLHQpe2xldCBuO2lmKChuPXRoaXMucnVsZXMuaW5saW5lLnJlZmxpbmsuZXhlYyhlKSl8fChuPXRoaXMucnVsZXMuaW5saW5lLm5vbGluay5leGVjKGUpKSl7bGV0IHI9KG5bMl18fG5bMV0pLnJlcGxhY2UodGhpcy5ydWxlcy5vdGhlci5tdWx0aXBsZVNwYWNlR2xvYmFsLFwiIFwiKSxpPXRbci50b0xvd2VyQ2FzZSgpXTtpZighaSl7bGV0IHM9blswXS5jaGFyQXQoMCk7cmV0dXJue3R5cGU6XCJ0ZXh0XCIscmF3OnMsdGV4dDpzfX1yZXR1cm4gZ2UobixpLG5bMF0sdGhpcy5sZXhlcix0aGlzLnJ1bGVzKX19ZW1TdHJvbmcoZSx0LG49XCJcIil7bGV0IHI9dGhpcy5ydWxlcy5pbmxpbmUuZW1TdHJvbmdMRGVsaW0uZXhlYyhlKTtpZighcnx8clszXSYmbi5tYXRjaCh0aGlzLnJ1bGVzLm90aGVyLnVuaWNvZGVBbHBoYU51bWVyaWMpKXJldHVybjtpZighKHJbMV18fHJbMl18fFwiXCIpfHwhbnx8dGhpcy5ydWxlcy5pbmxpbmUucHVuY3R1YXRpb24uZXhlYyhuKSl7bGV0IHM9Wy4uLnJbMF1dLmxlbmd0aC0xLGEsbyxsPXMscD0wLGM9clswXVswXT09PVwiKlwiP3RoaXMucnVsZXMuaW5saW5lLmVtU3Ryb25nUkRlbGltQXN0OnRoaXMucnVsZXMuaW5saW5lLmVtU3Ryb25nUkRlbGltVW5kO2ZvcihjLmxhc3RJbmRleD0wLHQ9dC5zbGljZSgtMSplLmxlbmd0aCtzKTsocj1jLmV4ZWModCkpIT1udWxsOyl7aWYoYT1yWzFdfHxyWzJdfHxyWzNdfHxyWzRdfHxyWzVdfHxyWzZdLCFhKWNvbnRpbnVlO2lmKG89Wy4uLmFdLmxlbmd0aCxyWzNdfHxyWzRdKXtsKz1vO2NvbnRpbnVlfWVsc2UgaWYoKHJbNV18fHJbNl0pJiZzJTMmJiEoKHMrbyklMykpe3ArPW87Y29udGludWV9aWYobC09byxsPjApY29udGludWU7bz1NYXRoLm1pbihvLG8rbCtwKTtsZXQgZz1bLi4uclswXV1bMF0ubGVuZ3RoLGg9ZS5zbGljZSgwLHMrci5pbmRleCtnK28pO2lmKE1hdGgubWluKHMsbyklMil7bGV0IGY9aC5zbGljZSgxLC0xKTtyZXR1cm57dHlwZTpcImVtXCIscmF3OmgsdGV4dDpmLHRva2Vuczp0aGlzLmxleGVyLmlubGluZVRva2VucyhmKX19bGV0IFI9aC5zbGljZSgyLC0yKTtyZXR1cm57dHlwZTpcInN0cm9uZ1wiLHJhdzpoLHRleHQ6Uix0b2tlbnM6dGhpcy5sZXhlci5pbmxpbmVUb2tlbnMoUil9fX19Y29kZXNwYW4oZSl7bGV0IHQ9dGhpcy5ydWxlcy5pbmxpbmUuY29kZS5leGVjKGUpO2lmKHQpe2xldCBuPXRbMl0ucmVwbGFjZSh0aGlzLnJ1bGVzLm90aGVyLm5ld0xpbmVDaGFyR2xvYmFsLFwiIFwiKSxyPXRoaXMucnVsZXMub3RoZXIubm9uU3BhY2VDaGFyLnRlc3QobiksaT10aGlzLnJ1bGVzLm90aGVyLnN0YXJ0aW5nU3BhY2VDaGFyLnRlc3QobikmJnRoaXMucnVsZXMub3RoZXIuZW5kaW5nU3BhY2VDaGFyLnRlc3Qobik7cmV0dXJuIHImJmkmJihuPW4uc3Vic3RyaW5nKDEsbi5sZW5ndGgtMSkpLHt0eXBlOlwiY29kZXNwYW5cIixyYXc6dFswXSx0ZXh0Om59fX1icihlKXtsZXQgdD10aGlzLnJ1bGVzLmlubGluZS5ici5leGVjKGUpO2lmKHQpcmV0dXJue3R5cGU6XCJiclwiLHJhdzp0WzBdfX1kZWwoZSl7bGV0IHQ9dGhpcy5ydWxlcy5pbmxpbmUuZGVsLmV4ZWMoZSk7aWYodClyZXR1cm57dHlwZTpcImRlbFwiLHJhdzp0WzBdLHRleHQ6dFsyXSx0b2tlbnM6dGhpcy5sZXhlci5pbmxpbmVUb2tlbnModFsyXSl9fWF1dG9saW5rKGUpe2xldCB0PXRoaXMucnVsZXMuaW5saW5lLmF1dG9saW5rLmV4ZWMoZSk7aWYodCl7bGV0IG4scjtyZXR1cm4gdFsyXT09PVwiQFwiPyhuPXRbMV0scj1cIm1haWx0bzpcIituKToobj10WzFdLHI9bikse3R5cGU6XCJsaW5rXCIscmF3OnRbMF0sdGV4dDpuLGhyZWY6cix0b2tlbnM6W3t0eXBlOlwidGV4dFwiLHJhdzpuLHRleHQ6bn1dfX19dXJsKGUpe2xldCB0O2lmKHQ9dGhpcy5ydWxlcy5pbmxpbmUudXJsLmV4ZWMoZSkpe2xldCBuLHI7aWYodFsyXT09PVwiQFwiKW49dFswXSxyPVwibWFpbHRvOlwiK247ZWxzZXtsZXQgaTtkbyBpPXRbMF0sdFswXT10aGlzLnJ1bGVzLmlubGluZS5fYmFja3BlZGFsLmV4ZWModFswXSk/LlswXT8/XCJcIjt3aGlsZShpIT09dFswXSk7bj10WzBdLHRbMV09PT1cInd3dy5cIj9yPVwiaHR0cDovL1wiK3RbMF06cj10WzBdfXJldHVybnt0eXBlOlwibGlua1wiLHJhdzp0WzBdLHRleHQ6bixocmVmOnIsdG9rZW5zOlt7dHlwZTpcInRleHRcIixyYXc6bix0ZXh0Om59XX19fWlubGluZVRleHQoZSl7bGV0IHQ9dGhpcy5ydWxlcy5pbmxpbmUudGV4dC5leGVjKGUpO2lmKHQpe2xldCBuPXRoaXMubGV4ZXIuc3RhdGUuaW5SYXdCbG9jaztyZXR1cm57dHlwZTpcInRleHRcIixyYXc6dFswXSx0ZXh0OnRbMF0sZXNjYXBlZDpufX19fTt2YXIgeD1jbGFzcyB1e3Rva2VucztvcHRpb25zO3N0YXRlO2lubGluZVF1ZXVlO3Rva2VuaXplcjtjb25zdHJ1Y3RvcihlKXt0aGlzLnRva2Vucz1bXSx0aGlzLnRva2Vucy5saW5rcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMub3B0aW9ucz1lfHxULHRoaXMub3B0aW9ucy50b2tlbml6ZXI9dGhpcy5vcHRpb25zLnRva2VuaXplcnx8bmV3IHksdGhpcy50b2tlbml6ZXI9dGhpcy5vcHRpb25zLnRva2VuaXplcix0aGlzLnRva2VuaXplci5vcHRpb25zPXRoaXMub3B0aW9ucyx0aGlzLnRva2VuaXplci5sZXhlcj10aGlzLHRoaXMuaW5saW5lUXVldWU9W10sdGhpcy5zdGF0ZT17aW5MaW5rOiExLGluUmF3QmxvY2s6ITEsdG9wOiEwfTtsZXQgdD17b3RoZXI6bSxibG9jazpFLm5vcm1hbCxpbmxpbmU6TS5ub3JtYWx9O3RoaXMub3B0aW9ucy5wZWRhbnRpYz8odC5ibG9jaz1FLnBlZGFudGljLHQuaW5saW5lPU0ucGVkYW50aWMpOnRoaXMub3B0aW9ucy5nZm0mJih0LmJsb2NrPUUuZ2ZtLHRoaXMub3B0aW9ucy5icmVha3M/dC5pbmxpbmU9TS5icmVha3M6dC5pbmxpbmU9TS5nZm0pLHRoaXMudG9rZW5pemVyLnJ1bGVzPXR9c3RhdGljIGdldCBydWxlcygpe3JldHVybntibG9jazpFLGlubGluZTpNfX1zdGF0aWMgbGV4KGUsdCl7cmV0dXJuIG5ldyB1KHQpLmxleChlKX1zdGF0aWMgbGV4SW5saW5lKGUsdCl7cmV0dXJuIG5ldyB1KHQpLmlubGluZVRva2VucyhlKX1sZXgoZSl7ZT1lLnJlcGxhY2UobS5jYXJyaWFnZVJldHVybixgXG5gKSx0aGlzLmJsb2NrVG9rZW5zKGUsdGhpcy50b2tlbnMpO2ZvcihsZXQgdD0wO3Q8dGhpcy5pbmxpbmVRdWV1ZS5sZW5ndGg7dCsrKXtsZXQgbj10aGlzLmlubGluZVF1ZXVlW3RdO3RoaXMuaW5saW5lVG9rZW5zKG4uc3JjLG4udG9rZW5zKX1yZXR1cm4gdGhpcy5pbmxpbmVRdWV1ZT1bXSx0aGlzLnRva2Vuc31ibG9ja1Rva2VucyhlLHQ9W10sbj0hMSl7Zm9yKHRoaXMub3B0aW9ucy5wZWRhbnRpYyYmKGU9ZS5yZXBsYWNlKG0udGFiQ2hhckdsb2JhbCxcIiAgICBcIikucmVwbGFjZShtLnNwYWNlTGluZSxcIlwiKSk7ZTspe2xldCByO2lmKHRoaXMub3B0aW9ucy5leHRlbnNpb25zPy5ibG9jaz8uc29tZShzPT4ocj1zLmNhbGwoe2xleGVyOnRoaXN9LGUsdCkpPyhlPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksdC5wdXNoKHIpLCEwKTohMSkpY29udGludWU7aWYocj10aGlzLnRva2VuaXplci5zcGFjZShlKSl7ZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpO2xldCBzPXQuYXQoLTEpO3IucmF3Lmxlbmd0aD09PTEmJnMhPT12b2lkIDA/cy5yYXcrPWBcbmA6dC5wdXNoKHIpO2NvbnRpbnVlfWlmKHI9dGhpcy50b2tlbml6ZXIuY29kZShlKSl7ZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpO2xldCBzPXQuYXQoLTEpO3M/LnR5cGU9PT1cInBhcmFncmFwaFwifHxzPy50eXBlPT09XCJ0ZXh0XCI/KHMucmF3Kz0ocy5yYXcuZW5kc1dpdGgoYFxuYCk/XCJcIjpgXG5gKStyLnJhdyxzLnRleHQrPWBcbmArci50ZXh0LHRoaXMuaW5saW5lUXVldWUuYXQoLTEpLnNyYz1zLnRleHQpOnQucHVzaChyKTtjb250aW51ZX1pZihyPXRoaXMudG9rZW5pemVyLmZlbmNlcyhlKSl7ZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLHQucHVzaChyKTtjb250aW51ZX1pZihyPXRoaXMudG9rZW5pemVyLmhlYWRpbmcoZSkpe2U9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7Y29udGludWV9aWYocj10aGlzLnRva2VuaXplci5ocihlKSl7ZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLHQucHVzaChyKTtjb250aW51ZX1pZihyPXRoaXMudG9rZW5pemVyLmJsb2NrcXVvdGUoZSkpe2U9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7Y29udGludWV9aWYocj10aGlzLnRva2VuaXplci5saXN0KGUpKXtlPWUuc3Vic3RyaW5nKHIucmF3Lmxlbmd0aCksdC5wdXNoKHIpO2NvbnRpbnVlfWlmKHI9dGhpcy50b2tlbml6ZXIuaHRtbChlKSl7ZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLHQucHVzaChyKTtjb250aW51ZX1pZihyPXRoaXMudG9rZW5pemVyLmRlZihlKSl7ZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpO2xldCBzPXQuYXQoLTEpO3M/LnR5cGU9PT1cInBhcmFncmFwaFwifHxzPy50eXBlPT09XCJ0ZXh0XCI/KHMucmF3Kz0ocy5yYXcuZW5kc1dpdGgoYFxuYCk/XCJcIjpgXG5gKStyLnJhdyxzLnRleHQrPWBcbmArci5yYXcsdGhpcy5pbmxpbmVRdWV1ZS5hdCgtMSkuc3JjPXMudGV4dCk6dGhpcy50b2tlbnMubGlua3Nbci50YWddfHwodGhpcy50b2tlbnMubGlua3Nbci50YWddPXtocmVmOnIuaHJlZix0aXRsZTpyLnRpdGxlfSx0LnB1c2gocikpO2NvbnRpbnVlfWlmKHI9dGhpcy50b2tlbml6ZXIudGFibGUoZSkpe2U9ZS5zdWJzdHJpbmcoci5yYXcubGVuZ3RoKSx0LnB1c2gocik7Y29udGludWV9aWYocj10aGlzLnRva2VuaXplci5saGVhZGluZyhlKSl7ZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpLHQucHVzaChyKTtjb250aW51ZX1sZXQgaT1lO2lmKHRoaXMub3B0aW9ucy5leHRlbnNpb25zPy5zdGFydEJsb2NrKXtsZXQgcz0xLzAsYT1lLnNsaWNlKDEpLG87dGhpcy5vcHRpb25zLmV4dGVuc2lvbnMuc3RhcnRCbG9jay5mb3JFYWNoKGw9PntvPWwuY2FsbCh7bGV4ZXI6dGhpc30sYSksdHlwZW9mIG89PVwibnVtYmVyXCImJm8+PTAmJihzPU1hdGgubWluKHMsbykpfSksczwxLzAmJnM+PTAmJihpPWUuc3Vic3RyaW5nKDAscysxKSl9aWYodGhpcy5zdGF0ZS50b3AmJihyPXRoaXMudG9rZW5pemVyLnBhcmFncmFwaChpKSkpe2xldCBzPXQuYXQoLTEpO24mJnM/LnR5cGU9PT1cInBhcmFncmFwaFwiPyhzLnJhdys9KHMucmF3LmVuZHNXaXRoKGBcbmApP1wiXCI6YFxuYCkrci5yYXcscy50ZXh0Kz1gXG5gK3IudGV4dCx0aGlzLmlubGluZVF1ZXVlLnBvcCgpLHRoaXMuaW5saW5lUXVldWUuYXQoLTEpLnNyYz1zLnRleHQpOnQucHVzaChyKSxuPWkubGVuZ3RoIT09ZS5sZW5ndGgsZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpO2NvbnRpbnVlfWlmKHI9dGhpcy50b2tlbml6ZXIudGV4dChlKSl7ZT1lLnN1YnN0cmluZyhyLnJhdy5sZW5ndGgpO2xldCBzPXQuYXQoLTEpO3M/LnR5cGU9PT1cInRleHRcIj8ocy5yYXcrPShzLnJhdy5lbmRzV2l0aChgXG5gKT9cIlwiOmBcbmApK3IucmF3LHMudGV4dCs9YFxuYCtyLnRleHQsdGhpcy5pbmxpbmVRdWV1ZS5wb3AoKSx0aGlzLmlubGluZVF1ZXVlLmF0KC0xKS5zcmM9cy50ZXh0KTp0LnB1c2gocik7Y29udGludWV9aWYoZSl7bGV0IHM9XCJJbmZpbml0ZSBsb29wIG9uIGJ5dGU6IFwiK2UuY2hhckNvZGVBdCgwKTtpZih0aGlzLm9wdGlvbnMuc2lsZW50KXtjb25zb2xlLmVycm9yKHMpO2JyZWFrfWVsc2UgdGhyb3cgbmV3IEVycm9yKHMpfX1yZXR1cm4gdGhpcy5zdGF0ZS50b3A9ITAsdH1pbmxpbmUoZSx0PVtdKXtyZXR1cm4gdGhpcy5pbmxpbmVRdWV1ZS5wdXNoKHtzcmM6ZSx0b2tlbnM6dH0pLHR9aW5saW5lVG9rZW5zKGUsdD1bXSl7bGV0IG49ZSxyPW51bGw7aWYodGhpcy50b2tlbnMubGlua3Mpe2xldCBvPU9iamVjdC5rZXlzKHRoaXMudG9rZW5zLmxpbmtzKTtpZihvLmxlbmd0aD4wKWZvcig7KHI9dGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLnJlZmxpbmtTZWFyY2guZXhlYyhuKSkhPW51bGw7KW8uaW5jbHVkZXMoclswXS5zbGljZShyWzBdLmxhc3RJbmRleE9mKFwiW1wiKSsxLC0xKSkmJihuPW4uc2xpY2UoMCxyLmluZGV4KStcIltcIitcImFcIi5yZXBlYXQoclswXS5sZW5ndGgtMikrXCJdXCIrbi5zbGljZSh0aGlzLnRva2VuaXplci5ydWxlcy5pbmxpbmUucmVmbGlua1NlYXJjaC5sYXN0SW5kZXgpKX1mb3IoOyhyPXRoaXMudG9rZW5pemVyLnJ1bGVzLmlubGluZS5hbnlQdW5jdHVhdGlvbi5leGVjKG4pKSE9bnVsbDspbj1uLnNsaWNlKDAsci5pbmRleCkrXCIrK1wiK24uc2xpY2UodGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLmFueVB1bmN0dWF0aW9uLmxhc3RJbmRleCk7bGV0IGk7Zm9yKDsocj10aGlzLnRva2VuaXplci5ydWxlcy5pbmxpbmUuYmxvY2tTa2lwLmV4ZWMobikpIT1udWxsOylpPXJbMl0/clsyXS5sZW5ndGg6MCxuPW4uc2xpY2UoMCxyLmluZGV4K2kpK1wiW1wiK1wiYVwiLnJlcGVhdChyWzBdLmxlbmd0aC1pLTIpK1wiXVwiK24uc2xpY2UodGhpcy50b2tlbml6ZXIucnVsZXMuaW5saW5lLmJsb2NrU2tpcC5sYXN0SW5kZXgpO249dGhpcy5vcHRpb25zLmhvb2tzPy5lbVN0cm9uZ01hc2s/LmNhbGwoe2xleGVyOnRoaXN9LG4pPz9uO2xldCBzPSExLGE9XCJcIjtmb3IoO2U7KXtzfHwoYT1cIlwiKSxzPSExO2xldCBvO2lmKHRoaXMub3B0aW9ucy5leHRlbnNpb25zPy5pbmxpbmU/LnNvbWUocD0+KG89cC5jYWxsKHtsZXhlcjp0aGlzfSxlLHQpKT8oZT1lLnN1YnN0cmluZyhvLnJhdy5sZW5ndGgpLHQucHVzaChvKSwhMCk6ITEpKWNvbnRpbnVlO2lmKG89dGhpcy50b2tlbml6ZXIuZXNjYXBlKGUpKXtlPWUuc3Vic3RyaW5nKG8ucmF3Lmxlbmd0aCksdC5wdXNoKG8pO2NvbnRpbnVlfWlmKG89dGhpcy50b2tlbml6ZXIudGFnKGUpKXtlPWUuc3Vic3RyaW5nKG8ucmF3Lmxlbmd0aCksdC5wdXNoKG8pO2NvbnRpbnVlfWlmKG89dGhpcy50b2tlbml6ZXIubGluayhlKSl7ZT1lLnN1YnN0cmluZyhvLnJhdy5sZW5ndGgpLHQucHVzaChvKTtjb250aW51ZX1pZihvPXRoaXMudG9rZW5pemVyLnJlZmxpbmsoZSx0aGlzLnRva2Vucy5saW5rcykpe2U9ZS5zdWJzdHJpbmcoby5yYXcubGVuZ3RoKTtsZXQgcD10LmF0KC0xKTtvLnR5cGU9PT1cInRleHRcIiYmcD8udHlwZT09PVwidGV4dFwiPyhwLnJhdys9by5yYXcscC50ZXh0Kz1vLnRleHQpOnQucHVzaChvKTtjb250aW51ZX1pZihvPXRoaXMudG9rZW5pemVyLmVtU3Ryb25nKGUsbixhKSl7ZT1lLnN1YnN0cmluZyhvLnJhdy5sZW5ndGgpLHQucHVzaChvKTtjb250aW51ZX1pZihvPXRoaXMudG9rZW5pemVyLmNvZGVzcGFuKGUpKXtlPWUuc3Vic3RyaW5nKG8ucmF3Lmxlbmd0aCksdC5wdXNoKG8pO2NvbnRpbnVlfWlmKG89dGhpcy50b2tlbml6ZXIuYnIoZSkpe2U9ZS5zdWJzdHJpbmcoby5yYXcubGVuZ3RoKSx0LnB1c2gobyk7Y29udGludWV9aWYobz10aGlzLnRva2VuaXplci5kZWwoZSkpe2U9ZS5zdWJzdHJpbmcoby5yYXcubGVuZ3RoKSx0LnB1c2gobyk7Y29udGludWV9aWYobz10aGlzLnRva2VuaXplci5hdXRvbGluayhlKSl7ZT1lLnN1YnN0cmluZyhvLnJhdy5sZW5ndGgpLHQucHVzaChvKTtjb250aW51ZX1pZighdGhpcy5zdGF0ZS5pbkxpbmsmJihvPXRoaXMudG9rZW5pemVyLnVybChlKSkpe2U9ZS5zdWJzdHJpbmcoby5yYXcubGVuZ3RoKSx0LnB1c2gobyk7Y29udGludWV9bGV0IGw9ZTtpZih0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucz8uc3RhcnRJbmxpbmUpe2xldCBwPTEvMCxjPWUuc2xpY2UoMSksZzt0aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5zdGFydElubGluZS5mb3JFYWNoKGg9PntnPWguY2FsbCh7bGV4ZXI6dGhpc30sYyksdHlwZW9mIGc9PVwibnVtYmVyXCImJmc+PTAmJihwPU1hdGgubWluKHAsZykpfSkscDwxLzAmJnA+PTAmJihsPWUuc3Vic3RyaW5nKDAscCsxKSl9aWYobz10aGlzLnRva2VuaXplci5pbmxpbmVUZXh0KGwpKXtlPWUuc3Vic3RyaW5nKG8ucmF3Lmxlbmd0aCksby5yYXcuc2xpY2UoLTEpIT09XCJfXCImJihhPW8ucmF3LnNsaWNlKC0xKSkscz0hMDtsZXQgcD10LmF0KC0xKTtwPy50eXBlPT09XCJ0ZXh0XCI/KHAucmF3Kz1vLnJhdyxwLnRleHQrPW8udGV4dCk6dC5wdXNoKG8pO2NvbnRpbnVlfWlmKGUpe2xldCBwPVwiSW5maW5pdGUgbG9vcCBvbiBieXRlOiBcIitlLmNoYXJDb2RlQXQoMCk7aWYodGhpcy5vcHRpb25zLnNpbGVudCl7Y29uc29sZS5lcnJvcihwKTticmVha31lbHNlIHRocm93IG5ldyBFcnJvcihwKX19cmV0dXJuIHR9fTt2YXIgUD1jbGFzc3tvcHRpb25zO3BhcnNlcjtjb25zdHJ1Y3RvcihlKXt0aGlzLm9wdGlvbnM9ZXx8VH1zcGFjZShlKXtyZXR1cm5cIlwifWNvZGUoe3RleHQ6ZSxsYW5nOnQsZXNjYXBlZDpufSl7bGV0IHI9KHR8fFwiXCIpLm1hdGNoKG0ubm90U3BhY2VTdGFydCk/LlswXSxpPWUucmVwbGFjZShtLmVuZGluZ05ld2xpbmUsXCJcIikrYFxuYDtyZXR1cm4gcj8nPHByZT48Y29kZSBjbGFzcz1cImxhbmd1YWdlLScrdyhyKSsnXCI+Jysobj9pOncoaSwhMCkpK2A8L2NvZGU+PC9wcmU+XG5gOlwiPHByZT48Y29kZT5cIisobj9pOncoaSwhMCkpK2A8L2NvZGU+PC9wcmU+XG5gfWJsb2NrcXVvdGUoe3Rva2VuczplfSl7cmV0dXJuYDxibG9ja3F1b3RlPlxuJHt0aGlzLnBhcnNlci5wYXJzZShlKX08L2Jsb2NrcXVvdGU+XG5gfWh0bWwoe3RleHQ6ZX0pe3JldHVybiBlfWRlZihlKXtyZXR1cm5cIlwifWhlYWRpbmcoe3Rva2VuczplLGRlcHRoOnR9KXtyZXR1cm5gPGgke3R9PiR7dGhpcy5wYXJzZXIucGFyc2VJbmxpbmUoZSl9PC9oJHt0fT5cbmB9aHIoZSl7cmV0dXJuYDxocj5cbmB9bGlzdChlKXtsZXQgdD1lLm9yZGVyZWQsbj1lLnN0YXJ0LHI9XCJcIjtmb3IobGV0IGE9MDthPGUuaXRlbXMubGVuZ3RoO2ErKyl7bGV0IG89ZS5pdGVtc1thXTtyKz10aGlzLmxpc3RpdGVtKG8pfWxldCBpPXQ/XCJvbFwiOlwidWxcIixzPXQmJm4hPT0xPycgc3RhcnQ9XCInK24rJ1wiJzpcIlwiO3JldHVyblwiPFwiK2krcytgPlxuYCtyK1wiPC9cIitpK2A+XG5gfWxpc3RpdGVtKGUpe3JldHVybmA8bGk+JHt0aGlzLnBhcnNlci5wYXJzZShlLnRva2Vucyl9PC9saT5cbmB9Y2hlY2tib3goe2NoZWNrZWQ6ZX0pe3JldHVyblwiPGlucHV0IFwiKyhlPydjaGVja2VkPVwiXCIgJzpcIlwiKSsnZGlzYWJsZWQ9XCJcIiB0eXBlPVwiY2hlY2tib3hcIj4gJ31wYXJhZ3JhcGgoe3Rva2VuczplfSl7cmV0dXJuYDxwPiR7dGhpcy5wYXJzZXIucGFyc2VJbmxpbmUoZSl9PC9wPlxuYH10YWJsZShlKXtsZXQgdD1cIlwiLG49XCJcIjtmb3IobGV0IGk9MDtpPGUuaGVhZGVyLmxlbmd0aDtpKyspbis9dGhpcy50YWJsZWNlbGwoZS5oZWFkZXJbaV0pO3QrPXRoaXMudGFibGVyb3coe3RleHQ6bn0pO2xldCByPVwiXCI7Zm9yKGxldCBpPTA7aTxlLnJvd3MubGVuZ3RoO2krKyl7bGV0IHM9ZS5yb3dzW2ldO249XCJcIjtmb3IobGV0IGE9MDthPHMubGVuZ3RoO2ErKyluKz10aGlzLnRhYmxlY2VsbChzW2FdKTtyKz10aGlzLnRhYmxlcm93KHt0ZXh0Om59KX1yZXR1cm4gciYmKHI9YDx0Ym9keT4ke3J9PC90Ym9keT5gKSxgPHRhYmxlPlxuPHRoZWFkPlxuYCt0K2A8L3RoZWFkPlxuYCtyK2A8L3RhYmxlPlxuYH10YWJsZXJvdyh7dGV4dDplfSl7cmV0dXJuYDx0cj5cbiR7ZX08L3RyPlxuYH10YWJsZWNlbGwoZSl7bGV0IHQ9dGhpcy5wYXJzZXIucGFyc2VJbmxpbmUoZS50b2tlbnMpLG49ZS5oZWFkZXI/XCJ0aFwiOlwidGRcIjtyZXR1cm4oZS5hbGlnbj9gPCR7bn0gYWxpZ249XCIke2UuYWxpZ259XCI+YDpgPCR7bn0+YCkrdCtgPC8ke259PlxuYH1zdHJvbmcoe3Rva2VuczplfSl7cmV0dXJuYDxzdHJvbmc+JHt0aGlzLnBhcnNlci5wYXJzZUlubGluZShlKX08L3N0cm9uZz5gfWVtKHt0b2tlbnM6ZX0pe3JldHVybmA8ZW0+JHt0aGlzLnBhcnNlci5wYXJzZUlubGluZShlKX08L2VtPmB9Y29kZXNwYW4oe3RleHQ6ZX0pe3JldHVybmA8Y29kZT4ke3coZSwhMCl9PC9jb2RlPmB9YnIoZSl7cmV0dXJuXCI8YnI+XCJ9ZGVsKHt0b2tlbnM6ZX0pe3JldHVybmA8ZGVsPiR7dGhpcy5wYXJzZXIucGFyc2VJbmxpbmUoZSl9PC9kZWw+YH1saW5rKHtocmVmOmUsdGl0bGU6dCx0b2tlbnM6bn0pe2xldCByPXRoaXMucGFyc2VyLnBhcnNlSW5saW5lKG4pLGk9WChlKTtpZihpPT09bnVsbClyZXR1cm4gcjtlPWk7bGV0IHM9JzxhIGhyZWY9XCInK2UrJ1wiJztyZXR1cm4gdCYmKHMrPScgdGl0bGU9XCInK3codCkrJ1wiJykscys9XCI+XCIrcitcIjwvYT5cIixzfWltYWdlKHtocmVmOmUsdGl0bGU6dCx0ZXh0Om4sdG9rZW5zOnJ9KXtyJiYobj10aGlzLnBhcnNlci5wYXJzZUlubGluZShyLHRoaXMucGFyc2VyLnRleHRSZW5kZXJlcikpO2xldCBpPVgoZSk7aWYoaT09PW51bGwpcmV0dXJuIHcobik7ZT1pO2xldCBzPWA8aW1nIHNyYz1cIiR7ZX1cIiBhbHQ9XCIke259XCJgO3JldHVybiB0JiYocys9YCB0aXRsZT1cIiR7dyh0KX1cImApLHMrPVwiPlwiLHN9dGV4dChlKXtyZXR1cm5cInRva2Vuc1wiaW4gZSYmZS50b2tlbnM/dGhpcy5wYXJzZXIucGFyc2VJbmxpbmUoZS50b2tlbnMpOlwiZXNjYXBlZFwiaW4gZSYmZS5lc2NhcGVkP2UudGV4dDp3KGUudGV4dCl9fTt2YXIgJD1jbGFzc3tzdHJvbmcoe3RleHQ6ZX0pe3JldHVybiBlfWVtKHt0ZXh0OmV9KXtyZXR1cm4gZX1jb2Rlc3Bhbih7dGV4dDplfSl7cmV0dXJuIGV9ZGVsKHt0ZXh0OmV9KXtyZXR1cm4gZX1odG1sKHt0ZXh0OmV9KXtyZXR1cm4gZX10ZXh0KHt0ZXh0OmV9KXtyZXR1cm4gZX1saW5rKHt0ZXh0OmV9KXtyZXR1cm5cIlwiK2V9aW1hZ2Uoe3RleHQ6ZX0pe3JldHVyblwiXCIrZX1icigpe3JldHVyblwiXCJ9Y2hlY2tib3goe3JhdzplfSl7cmV0dXJuIGV9fTt2YXIgYj1jbGFzcyB1e29wdGlvbnM7cmVuZGVyZXI7dGV4dFJlbmRlcmVyO2NvbnN0cnVjdG9yKGUpe3RoaXMub3B0aW9ucz1lfHxULHRoaXMub3B0aW9ucy5yZW5kZXJlcj10aGlzLm9wdGlvbnMucmVuZGVyZXJ8fG5ldyBQLHRoaXMucmVuZGVyZXI9dGhpcy5vcHRpb25zLnJlbmRlcmVyLHRoaXMucmVuZGVyZXIub3B0aW9ucz10aGlzLm9wdGlvbnMsdGhpcy5yZW5kZXJlci5wYXJzZXI9dGhpcyx0aGlzLnRleHRSZW5kZXJlcj1uZXcgJH1zdGF0aWMgcGFyc2UoZSx0KXtyZXR1cm4gbmV3IHUodCkucGFyc2UoZSl9c3RhdGljIHBhcnNlSW5saW5lKGUsdCl7cmV0dXJuIG5ldyB1KHQpLnBhcnNlSW5saW5lKGUpfXBhcnNlKGUpe2xldCB0PVwiXCI7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2xldCByPWVbbl07aWYodGhpcy5vcHRpb25zLmV4dGVuc2lvbnM/LnJlbmRlcmVycz8uW3IudHlwZV0pe2xldCBzPXIsYT10aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5yZW5kZXJlcnNbcy50eXBlXS5jYWxsKHtwYXJzZXI6dGhpc30scyk7aWYoYSE9PSExfHwhW1wic3BhY2VcIixcImhyXCIsXCJoZWFkaW5nXCIsXCJjb2RlXCIsXCJ0YWJsZVwiLFwiYmxvY2txdW90ZVwiLFwibGlzdFwiLFwiaHRtbFwiLFwiZGVmXCIsXCJwYXJhZ3JhcGhcIixcInRleHRcIl0uaW5jbHVkZXMocy50eXBlKSl7dCs9YXx8XCJcIjtjb250aW51ZX19bGV0IGk9cjtzd2l0Y2goaS50eXBlKXtjYXNlXCJzcGFjZVwiOnt0Kz10aGlzLnJlbmRlcmVyLnNwYWNlKGkpO2JyZWFrfWNhc2VcImhyXCI6e3QrPXRoaXMucmVuZGVyZXIuaHIoaSk7YnJlYWt9Y2FzZVwiaGVhZGluZ1wiOnt0Kz10aGlzLnJlbmRlcmVyLmhlYWRpbmcoaSk7YnJlYWt9Y2FzZVwiY29kZVwiOnt0Kz10aGlzLnJlbmRlcmVyLmNvZGUoaSk7YnJlYWt9Y2FzZVwidGFibGVcIjp7dCs9dGhpcy5yZW5kZXJlci50YWJsZShpKTticmVha31jYXNlXCJibG9ja3F1b3RlXCI6e3QrPXRoaXMucmVuZGVyZXIuYmxvY2txdW90ZShpKTticmVha31jYXNlXCJsaXN0XCI6e3QrPXRoaXMucmVuZGVyZXIubGlzdChpKTticmVha31jYXNlXCJjaGVja2JveFwiOnt0Kz10aGlzLnJlbmRlcmVyLmNoZWNrYm94KGkpO2JyZWFrfWNhc2VcImh0bWxcIjp7dCs9dGhpcy5yZW5kZXJlci5odG1sKGkpO2JyZWFrfWNhc2VcImRlZlwiOnt0Kz10aGlzLnJlbmRlcmVyLmRlZihpKTticmVha31jYXNlXCJwYXJhZ3JhcGhcIjp7dCs9dGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgoaSk7YnJlYWt9Y2FzZVwidGV4dFwiOnt0Kz10aGlzLnJlbmRlcmVyLnRleHQoaSk7YnJlYWt9ZGVmYXVsdDp7bGV0IHM9J1Rva2VuIHdpdGggXCInK2kudHlwZSsnXCIgdHlwZSB3YXMgbm90IGZvdW5kLic7aWYodGhpcy5vcHRpb25zLnNpbGVudClyZXR1cm4gY29uc29sZS5lcnJvcihzKSxcIlwiO3Rocm93IG5ldyBFcnJvcihzKX19fXJldHVybiB0fXBhcnNlSW5saW5lKGUsdD10aGlzLnJlbmRlcmVyKXtsZXQgbj1cIlwiO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtsZXQgaT1lW3JdO2lmKHRoaXMub3B0aW9ucy5leHRlbnNpb25zPy5yZW5kZXJlcnM/LltpLnR5cGVdKXtsZXQgYT10aGlzLm9wdGlvbnMuZXh0ZW5zaW9ucy5yZW5kZXJlcnNbaS50eXBlXS5jYWxsKHtwYXJzZXI6dGhpc30saSk7aWYoYSE9PSExfHwhW1wiZXNjYXBlXCIsXCJodG1sXCIsXCJsaW5rXCIsXCJpbWFnZVwiLFwic3Ryb25nXCIsXCJlbVwiLFwiY29kZXNwYW5cIixcImJyXCIsXCJkZWxcIixcInRleHRcIl0uaW5jbHVkZXMoaS50eXBlKSl7bis9YXx8XCJcIjtjb250aW51ZX19bGV0IHM9aTtzd2l0Y2gocy50eXBlKXtjYXNlXCJlc2NhcGVcIjp7bis9dC50ZXh0KHMpO2JyZWFrfWNhc2VcImh0bWxcIjp7bis9dC5odG1sKHMpO2JyZWFrfWNhc2VcImxpbmtcIjp7bis9dC5saW5rKHMpO2JyZWFrfWNhc2VcImltYWdlXCI6e24rPXQuaW1hZ2Uocyk7YnJlYWt9Y2FzZVwiY2hlY2tib3hcIjp7bis9dC5jaGVja2JveChzKTticmVha31jYXNlXCJzdHJvbmdcIjp7bis9dC5zdHJvbmcocyk7YnJlYWt9Y2FzZVwiZW1cIjp7bis9dC5lbShzKTticmVha31jYXNlXCJjb2Rlc3BhblwiOntuKz10LmNvZGVzcGFuKHMpO2JyZWFrfWNhc2VcImJyXCI6e24rPXQuYnIocyk7YnJlYWt9Y2FzZVwiZGVsXCI6e24rPXQuZGVsKHMpO2JyZWFrfWNhc2VcInRleHRcIjp7bis9dC50ZXh0KHMpO2JyZWFrfWRlZmF1bHQ6e2xldCBhPSdUb2tlbiB3aXRoIFwiJytzLnR5cGUrJ1wiIHR5cGUgd2FzIG5vdCBmb3VuZC4nO2lmKHRoaXMub3B0aW9ucy5zaWxlbnQpcmV0dXJuIGNvbnNvbGUuZXJyb3IoYSksXCJcIjt0aHJvdyBuZXcgRXJyb3IoYSl9fX1yZXR1cm4gbn19O3ZhciBTPWNsYXNze29wdGlvbnM7YmxvY2s7Y29uc3RydWN0b3IoZSl7dGhpcy5vcHRpb25zPWV8fFR9c3RhdGljIHBhc3NUaHJvdWdoSG9va3M9bmV3IFNldChbXCJwcmVwcm9jZXNzXCIsXCJwb3N0cHJvY2Vzc1wiLFwicHJvY2Vzc0FsbFRva2Vuc1wiLFwiZW1TdHJvbmdNYXNrXCJdKTtzdGF0aWMgcGFzc1Rocm91Z2hIb29rc1Jlc3BlY3RBc3luYz1uZXcgU2V0KFtcInByZXByb2Nlc3NcIixcInBvc3Rwcm9jZXNzXCIsXCJwcm9jZXNzQWxsVG9rZW5zXCJdKTtwcmVwcm9jZXNzKGUpe3JldHVybiBlfXBvc3Rwcm9jZXNzKGUpe3JldHVybiBlfXByb2Nlc3NBbGxUb2tlbnMoZSl7cmV0dXJuIGV9ZW1TdHJvbmdNYXNrKGUpe3JldHVybiBlfXByb3ZpZGVMZXhlcigpe3JldHVybiB0aGlzLmJsb2NrP3gubGV4OngubGV4SW5saW5lfXByb3ZpZGVQYXJzZXIoKXtyZXR1cm4gdGhpcy5ibG9jaz9iLnBhcnNlOmIucGFyc2VJbmxpbmV9fTt2YXIgQj1jbGFzc3tkZWZhdWx0cz1MKCk7b3B0aW9ucz10aGlzLnNldE9wdGlvbnM7cGFyc2U9dGhpcy5wYXJzZU1hcmtkb3duKCEwKTtwYXJzZUlubGluZT10aGlzLnBhcnNlTWFya2Rvd24oITEpO1BhcnNlcj1iO1JlbmRlcmVyPVA7VGV4dFJlbmRlcmVyPSQ7TGV4ZXI9eDtUb2tlbml6ZXI9eTtIb29rcz1TO2NvbnN0cnVjdG9yKC4uLmUpe3RoaXMudXNlKC4uLmUpfXdhbGtUb2tlbnMoZSx0KXtsZXQgbj1bXTtmb3IobGV0IHIgb2YgZSlzd2l0Y2gobj1uLmNvbmNhdCh0LmNhbGwodGhpcyxyKSksci50eXBlKXtjYXNlXCJ0YWJsZVwiOntsZXQgaT1yO2ZvcihsZXQgcyBvZiBpLmhlYWRlciluPW4uY29uY2F0KHRoaXMud2Fsa1Rva2VucyhzLnRva2Vucyx0KSk7Zm9yKGxldCBzIG9mIGkucm93cylmb3IobGV0IGEgb2YgcyluPW4uY29uY2F0KHRoaXMud2Fsa1Rva2VucyhhLnRva2Vucyx0KSk7YnJlYWt9Y2FzZVwibGlzdFwiOntsZXQgaT1yO249bi5jb25jYXQodGhpcy53YWxrVG9rZW5zKGkuaXRlbXMsdCkpO2JyZWFrfWRlZmF1bHQ6e2xldCBpPXI7dGhpcy5kZWZhdWx0cy5leHRlbnNpb25zPy5jaGlsZFRva2Vucz8uW2kudHlwZV0/dGhpcy5kZWZhdWx0cy5leHRlbnNpb25zLmNoaWxkVG9rZW5zW2kudHlwZV0uZm9yRWFjaChzPT57bGV0IGE9aVtzXS5mbGF0KDEvMCk7bj1uLmNvbmNhdCh0aGlzLndhbGtUb2tlbnMoYSx0KSl9KTppLnRva2VucyYmKG49bi5jb25jYXQodGhpcy53YWxrVG9rZW5zKGkudG9rZW5zLHQpKSl9fXJldHVybiBufXVzZSguLi5lKXtsZXQgdD10aGlzLmRlZmF1bHRzLmV4dGVuc2lvbnN8fHtyZW5kZXJlcnM6e30sY2hpbGRUb2tlbnM6e319O3JldHVybiBlLmZvckVhY2gobj0+e2xldCByPXsuLi5ufTtpZihyLmFzeW5jPXRoaXMuZGVmYXVsdHMuYXN5bmN8fHIuYXN5bmN8fCExLG4uZXh0ZW5zaW9ucyYmKG4uZXh0ZW5zaW9ucy5mb3JFYWNoKGk9PntpZighaS5uYW1lKXRocm93IG5ldyBFcnJvcihcImV4dGVuc2lvbiBuYW1lIHJlcXVpcmVkXCIpO2lmKFwicmVuZGVyZXJcImluIGkpe2xldCBzPXQucmVuZGVyZXJzW2kubmFtZV07cz90LnJlbmRlcmVyc1tpLm5hbWVdPWZ1bmN0aW9uKC4uLmEpe2xldCBvPWkucmVuZGVyZXIuYXBwbHkodGhpcyxhKTtyZXR1cm4gbz09PSExJiYobz1zLmFwcGx5KHRoaXMsYSkpLG99OnQucmVuZGVyZXJzW2kubmFtZV09aS5yZW5kZXJlcn1pZihcInRva2VuaXplclwiaW4gaSl7aWYoIWkubGV2ZWx8fGkubGV2ZWwhPT1cImJsb2NrXCImJmkubGV2ZWwhPT1cImlubGluZVwiKXRocm93IG5ldyBFcnJvcihcImV4dGVuc2lvbiBsZXZlbCBtdXN0IGJlICdibG9jaycgb3IgJ2lubGluZSdcIik7bGV0IHM9dFtpLmxldmVsXTtzP3MudW5zaGlmdChpLnRva2VuaXplcik6dFtpLmxldmVsXT1baS50b2tlbml6ZXJdLGkuc3RhcnQmJihpLmxldmVsPT09XCJibG9ja1wiP3Quc3RhcnRCbG9jaz90LnN0YXJ0QmxvY2sucHVzaChpLnN0YXJ0KTp0LnN0YXJ0QmxvY2s9W2kuc3RhcnRdOmkubGV2ZWw9PT1cImlubGluZVwiJiYodC5zdGFydElubGluZT90LnN0YXJ0SW5saW5lLnB1c2goaS5zdGFydCk6dC5zdGFydElubGluZT1baS5zdGFydF0pKX1cImNoaWxkVG9rZW5zXCJpbiBpJiZpLmNoaWxkVG9rZW5zJiYodC5jaGlsZFRva2Vuc1tpLm5hbWVdPWkuY2hpbGRUb2tlbnMpfSksci5leHRlbnNpb25zPXQpLG4ucmVuZGVyZXIpe2xldCBpPXRoaXMuZGVmYXVsdHMucmVuZGVyZXJ8fG5ldyBQKHRoaXMuZGVmYXVsdHMpO2ZvcihsZXQgcyBpbiBuLnJlbmRlcmVyKXtpZighKHMgaW4gaSkpdGhyb3cgbmV3IEVycm9yKGByZW5kZXJlciAnJHtzfScgZG9lcyBub3QgZXhpc3RgKTtpZihbXCJvcHRpb25zXCIsXCJwYXJzZXJcIl0uaW5jbHVkZXMocykpY29udGludWU7bGV0IGE9cyxvPW4ucmVuZGVyZXJbYV0sbD1pW2FdO2lbYV09KC4uLnApPT57bGV0IGM9by5hcHBseShpLHApO3JldHVybiBjPT09ITEmJihjPWwuYXBwbHkoaSxwKSksY3x8XCJcIn19ci5yZW5kZXJlcj1pfWlmKG4udG9rZW5pemVyKXtsZXQgaT10aGlzLmRlZmF1bHRzLnRva2VuaXplcnx8bmV3IHkodGhpcy5kZWZhdWx0cyk7Zm9yKGxldCBzIGluIG4udG9rZW5pemVyKXtpZighKHMgaW4gaSkpdGhyb3cgbmV3IEVycm9yKGB0b2tlbml6ZXIgJyR7c30nIGRvZXMgbm90IGV4aXN0YCk7aWYoW1wib3B0aW9uc1wiLFwicnVsZXNcIixcImxleGVyXCJdLmluY2x1ZGVzKHMpKWNvbnRpbnVlO2xldCBhPXMsbz1uLnRva2VuaXplclthXSxsPWlbYV07aVthXT0oLi4ucCk9PntsZXQgYz1vLmFwcGx5KGkscCk7cmV0dXJuIGM9PT0hMSYmKGM9bC5hcHBseShpLHApKSxjfX1yLnRva2VuaXplcj1pfWlmKG4uaG9va3Mpe2xldCBpPXRoaXMuZGVmYXVsdHMuaG9va3N8fG5ldyBTO2ZvcihsZXQgcyBpbiBuLmhvb2tzKXtpZighKHMgaW4gaSkpdGhyb3cgbmV3IEVycm9yKGBob29rICcke3N9JyBkb2VzIG5vdCBleGlzdGApO2lmKFtcIm9wdGlvbnNcIixcImJsb2NrXCJdLmluY2x1ZGVzKHMpKWNvbnRpbnVlO2xldCBhPXMsbz1uLmhvb2tzW2FdLGw9aVthXTtTLnBhc3NUaHJvdWdoSG9va3MuaGFzKHMpP2lbYV09cD0+e2lmKHRoaXMuZGVmYXVsdHMuYXN5bmMmJlMucGFzc1Rocm91Z2hIb29rc1Jlc3BlY3RBc3luYy5oYXMocykpcmV0dXJuKGFzeW5jKCk9PntsZXQgZz1hd2FpdCBvLmNhbGwoaSxwKTtyZXR1cm4gbC5jYWxsKGksZyl9KSgpO2xldCBjPW8uY2FsbChpLHApO3JldHVybiBsLmNhbGwoaSxjKX06aVthXT0oLi4ucCk9PntpZih0aGlzLmRlZmF1bHRzLmFzeW5jKXJldHVybihhc3luYygpPT57bGV0IGc9YXdhaXQgby5hcHBseShpLHApO3JldHVybiBnPT09ITEmJihnPWF3YWl0IGwuYXBwbHkoaSxwKSksZ30pKCk7bGV0IGM9by5hcHBseShpLHApO3JldHVybiBjPT09ITEmJihjPWwuYXBwbHkoaSxwKSksY319ci5ob29rcz1pfWlmKG4ud2Fsa1Rva2Vucyl7bGV0IGk9dGhpcy5kZWZhdWx0cy53YWxrVG9rZW5zLHM9bi53YWxrVG9rZW5zO3Iud2Fsa1Rva2Vucz1mdW5jdGlvbihhKXtsZXQgbz1bXTtyZXR1cm4gby5wdXNoKHMuY2FsbCh0aGlzLGEpKSxpJiYobz1vLmNvbmNhdChpLmNhbGwodGhpcyxhKSkpLG99fXRoaXMuZGVmYXVsdHM9ey4uLnRoaXMuZGVmYXVsdHMsLi4ucn19KSx0aGlzfXNldE9wdGlvbnMoZSl7cmV0dXJuIHRoaXMuZGVmYXVsdHM9ey4uLnRoaXMuZGVmYXVsdHMsLi4uZX0sdGhpc31sZXhlcihlLHQpe3JldHVybiB4LmxleChlLHQ/P3RoaXMuZGVmYXVsdHMpfXBhcnNlcihlLHQpe3JldHVybiBiLnBhcnNlKGUsdD8/dGhpcy5kZWZhdWx0cyl9cGFyc2VNYXJrZG93bihlKXtyZXR1cm4obixyKT0+e2xldCBpPXsuLi5yfSxzPXsuLi50aGlzLmRlZmF1bHRzLC4uLml9LGE9dGhpcy5vbkVycm9yKCEhcy5zaWxlbnQsISFzLmFzeW5jKTtpZih0aGlzLmRlZmF1bHRzLmFzeW5jPT09ITAmJmkuYXN5bmM9PT0hMSlyZXR1cm4gYShuZXcgRXJyb3IoXCJtYXJrZWQoKTogVGhlIGFzeW5jIG9wdGlvbiB3YXMgc2V0IHRvIHRydWUgYnkgYW4gZXh0ZW5zaW9uLiBSZW1vdmUgYXN5bmM6IGZhbHNlIGZyb20gdGhlIHBhcnNlIG9wdGlvbnMgb2JqZWN0IHRvIHJldHVybiBhIFByb21pc2UuXCIpKTtpZih0eXBlb2Ygbj5cInVcInx8bj09PW51bGwpcmV0dXJuIGEobmV3IEVycm9yKFwibWFya2VkKCk6IGlucHV0IHBhcmFtZXRlciBpcyB1bmRlZmluZWQgb3IgbnVsbFwiKSk7aWYodHlwZW9mIG4hPVwic3RyaW5nXCIpcmV0dXJuIGEobmV3IEVycm9yKFwibWFya2VkKCk6IGlucHV0IHBhcmFtZXRlciBpcyBvZiB0eXBlIFwiK09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKStcIiwgc3RyaW5nIGV4cGVjdGVkXCIpKTtpZihzLmhvb2tzJiYocy5ob29rcy5vcHRpb25zPXMscy5ob29rcy5ibG9jaz1lKSxzLmFzeW5jKXJldHVybihhc3luYygpPT57bGV0IG89cy5ob29rcz9hd2FpdCBzLmhvb2tzLnByZXByb2Nlc3Mobik6bixwPWF3YWl0KHMuaG9va3M/YXdhaXQgcy5ob29rcy5wcm92aWRlTGV4ZXIoKTplP3gubGV4OngubGV4SW5saW5lKShvLHMpLGM9cy5ob29rcz9hd2FpdCBzLmhvb2tzLnByb2Nlc3NBbGxUb2tlbnMocCk6cDtzLndhbGtUb2tlbnMmJmF3YWl0IFByb21pc2UuYWxsKHRoaXMud2Fsa1Rva2VucyhjLHMud2Fsa1Rva2VucykpO2xldCBoPWF3YWl0KHMuaG9va3M/YXdhaXQgcy5ob29rcy5wcm92aWRlUGFyc2VyKCk6ZT9iLnBhcnNlOmIucGFyc2VJbmxpbmUpKGMscyk7cmV0dXJuIHMuaG9va3M/YXdhaXQgcy5ob29rcy5wb3N0cHJvY2VzcyhoKTpofSkoKS5jYXRjaChhKTt0cnl7cy5ob29rcyYmKG49cy5ob29rcy5wcmVwcm9jZXNzKG4pKTtsZXQgbD0ocy5ob29rcz9zLmhvb2tzLnByb3ZpZGVMZXhlcigpOmU/eC5sZXg6eC5sZXhJbmxpbmUpKG4scyk7cy5ob29rcyYmKGw9cy5ob29rcy5wcm9jZXNzQWxsVG9rZW5zKGwpKSxzLndhbGtUb2tlbnMmJnRoaXMud2Fsa1Rva2VucyhsLHMud2Fsa1Rva2Vucyk7bGV0IGM9KHMuaG9va3M/cy5ob29rcy5wcm92aWRlUGFyc2VyKCk6ZT9iLnBhcnNlOmIucGFyc2VJbmxpbmUpKGwscyk7cmV0dXJuIHMuaG9va3MmJihjPXMuaG9va3MucG9zdHByb2Nlc3MoYykpLGN9Y2F0Y2gobyl7cmV0dXJuIGEobyl9fX1vbkVycm9yKGUsdCl7cmV0dXJuIG49PntpZihuLm1lc3NhZ2UrPWBcblBsZWFzZSByZXBvcnQgdGhpcyB0byBodHRwczovL2dpdGh1Yi5jb20vbWFya2VkanMvbWFya2VkLmAsZSl7bGV0IHI9XCI8cD5BbiBlcnJvciBvY2N1cnJlZDo8L3A+PHByZT5cIit3KG4ubWVzc2FnZStcIlwiLCEwKStcIjwvcHJlPlwiO3JldHVybiB0P1Byb21pc2UucmVzb2x2ZShyKTpyfWlmKHQpcmV0dXJuIFByb21pc2UucmVqZWN0KG4pO3Rocm93IG59fX07dmFyIF89bmV3IEI7ZnVuY3Rpb24gZCh1LGUpe3JldHVybiBfLnBhcnNlKHUsZSl9ZC5vcHRpb25zPWQuc2V0T3B0aW9ucz1mdW5jdGlvbih1KXtyZXR1cm4gXy5zZXRPcHRpb25zKHUpLGQuZGVmYXVsdHM9Xy5kZWZhdWx0cyxaKGQuZGVmYXVsdHMpLGR9O2QuZ2V0RGVmYXVsdHM9TDtkLmRlZmF1bHRzPVQ7ZC51c2U9ZnVuY3Rpb24oLi4udSl7cmV0dXJuIF8udXNlKC4uLnUpLGQuZGVmYXVsdHM9Xy5kZWZhdWx0cyxaKGQuZGVmYXVsdHMpLGR9O2Qud2Fsa1Rva2Vucz1mdW5jdGlvbih1LGUpe3JldHVybiBfLndhbGtUb2tlbnModSxlKX07ZC5wYXJzZUlubGluZT1fLnBhcnNlSW5saW5lO2QuUGFyc2VyPWI7ZC5wYXJzZXI9Yi5wYXJzZTtkLlJlbmRlcmVyPVA7ZC5UZXh0UmVuZGVyZXI9JDtkLkxleGVyPXg7ZC5sZXhlcj14LmxleDtkLlRva2VuaXplcj15O2QuSG9va3M9UztkLnBhcnNlPWQ7dmFyIER0PWQub3B0aW9ucyxIdD1kLnNldE9wdGlvbnMsWnQ9ZC51c2UsR3Q9ZC53YWxrVG9rZW5zLE50PWQucGFyc2VJbmxpbmUsUXQ9ZCxGdD1iLnBhcnNlLGp0PXgubGV4O2V4cG9ydHtTIGFzIEhvb2tzLHggYXMgTGV4ZXIsQiBhcyBNYXJrZWQsYiBhcyBQYXJzZXIsUCBhcyBSZW5kZXJlciwkIGFzIFRleHRSZW5kZXJlcix5IGFzIFRva2VuaXplcixUIGFzIGRlZmF1bHRzLEwgYXMgZ2V0RGVmYXVsdHMsanQgYXMgbGV4ZXIsZCBhcyBtYXJrZWQsRHQgYXMgb3B0aW9ucyxRdCBhcyBwYXJzZSxOdCBhcyBwYXJzZUlubGluZSxGdCBhcyBwYXJzZXIsSHQgYXMgc2V0T3B0aW9ucyxadCBhcyB1c2UsR3QgYXMgd2Fsa1Rva2Vuc307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXJrZWQuZXNtLmpzLm1hcFxuIiwiaW1wb3J0IENvbXBvbmVudCAgIGZyb20gJy4vQmFzZS5tanMnO1xuaW1wb3J0IEhpZ2hsaWdodEpzIGZyb20gJy4uL3V0aWwvSGlnaGxpZ2h0SnMubWpzJztcbmltcG9ydCBJZEdlbmVyYXRvciBmcm9tICcuLi9jb3JlL0lkR2VuZXJhdG9yLm1qcyc7XG5pbXBvcnQge21hcmtlZH0gICAgZnJvbSAnLi4vLi4vbm9kZV9tb2R1bGVzL21hcmtlZC9saWIvbWFya2VkLmVzbS5qcyc7XG5cbmNvbnN0XG4gICAgcmVnZXhGcm9udE1hdHRlciAgPSAvXi0tLVxccj9cXG4oW1xcc1xcU10qPylcXHI/XFxuLS0tXFxyP1xcbi8sXG4gICAgcmVnZXhMYWJDbG9zZSAgICAgPSAvPCEtLVxccypcXC9sYWJcXHMqLS0+L2csXG4gICAgcmVnZXhMYWJPcGVuICAgICAgPSAvPCEtLVxccypsYWJcXHMqLS0+L2csXG4gICAgcmVnZXhMaXZlUHJldmlldyAgPSAvYGBgKGphdmFzY3JpcHR8aHRtbHxjc3N8anNvbilcXHMrbGl2ZS1wcmV2aWV3XFxzKlxcbihbXFxzXFxTXSo/KVxcblxccypgYGAvZyxcbiAgICByZWdleE1lcm1haWQgICAgICA9IC9gYGBtZXJtYWlkXFxzKlxcbihbXFxzXFxTXSo/KVxcblxccypgYGAvZyxcbiAgICByZWdleE5lb0NvbXBvbmVudCA9IC9gYGBqc29uXFxzK25lby1jb21wb25lbnRcXHMqXFxuKFtcXHNcXFNdKj8pXFxuXFxzKmBgYC9nLFxuICAgIHJlZ2V4TmV3TGluZXMgICAgID0gL15cXG4rfFxcbiskL2csXG4gICAgcmVnZXhDb2RlQmxvY2sgICAgPSAvYGBgKFxcdyopKD86W15cXG5dKik/XFxuKFtcXHNcXFNdKj8pXFxuXFxzKmBgYC9nLFxuICAgIHJlZ2V4VGlja2V0SWQgICAgID0gLyhefFtcXHMoXSkjKFxcZCspXFxiL2c7XG5cbi8qKlxuICogQHN1bW1hcnkgQSBzcGVjaWFsaXplZCBjb21wb25lbnQgZm9yIHJlbmRlcmluZyBNYXJrZG93biBjb250ZW50LlxuICpcbiAqIFRoaXMgY29tcG9uZW50IHByb3ZpZGVzIGEgZGVjbGFyYXRpdmUgd2F5IHRvIGRpc3BsYXkgTWFya2Rvd24gd2l0aGluIGEgTmVvLm1qcyBhcHBsaWNhdGlvbi5cbiAqIEl0IGVuY2Fwc3VsYXRlcyB0aGUgcmVuZGVyaW5nIGxvZ2ljIGFuZCBzdHlsaW5nLCBlbnN1cmluZyBjb25zaXN0ZW5jeSBhY3Jvc3MgZGlmZmVyZW50IHZpZXdzLlxuICpcbiAqICoqS2V5IEFyY2hpdGVjdHVyYWwgRmVhdHVyZXM6KipcbiAqIC0gKipSZWFjdGl2ZSBDb250ZW50Kio6IFVwZGF0ZXMgYXV0b21hdGljYWxseSB3aGVuIHRoZSBgdmFsdWVgIGNvbmZpZyBjaGFuZ2VzLlxuICogLSAqKk11bHRpLVBhc3MgQ29tcGlsYXRpb24qKjogVXNlcyBhIHNvcGhpc3RpY2F0ZWQgcGlwZWxpbmUgdG8gZXh0cmFjdCwgcHJvY2VzcywgYW5kIHJlLWluamVjdCBkeW5hbWljIGNvbnRlbnQgKGNvbXBvbmVudHMsIGxpdmUgcHJldmlld3MpLlxuICogLSAqKkxhenkgTG9hZGluZyoqOiBEeW5hbWljYWxseSBpbXBvcnRzIGhlYXZ5IGRlcGVuZGVuY2llcyAobGlrZSB0aGUgTWVybWFpZCB3cmFwcGVyKSBvbmx5IHdoZW4gbmVlZGVkLCBvcHRpbWl6aW5nIGluaXRpYWwgYnVuZGxlIHNpemUuXG4gKiAtICoqVGFyZ2V0ZWQgVXBkYXRlcyoqOiBlZmZpY2llbnRseSBwcm9wYWdhdGVzIHRoZW1lIGNoYW5nZXMgdG8gZW1iZWRkZWQgY29tcG9uZW50cyB3aXRob3V0IHJlLXBhcnNpbmcgdGhlIGVudGlyZSBtYXJrZG93biBkb2N1bWVudC5cbiAqIC0gKipMaWZlY3ljbGUgTWFuYWdlbWVudCoqOiBIYW5kbGVzIHRoZSBkZXN0cnVjdGlvbiBvZiBlbWJlZGRlZCBjb21wb25lbnRzIHdoZW4gdGhpcyBjb21wb25lbnQgaXMgZGVzdHJveWVkLlxuICpcbiAqIEBjbGFzcyBOZW8uY29tcG9uZW50Lk1hcmtkb3duXG4gKiBAZXh0ZW5kcyBOZW8uY29tcG9uZW50LkJhc2VcbiAqL1xuY2xhc3MgTWFya2Rvd24gZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRpYyBjb25maWcgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGNsYXNzTmFtZT0nTmVvLmNvbXBvbmVudC5NYXJrZG93bidcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgY2xhc3NOYW1lOiAnTmVvLmNvbXBvbmVudC5NYXJrZG93bicsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IG50eXBlPSdtYXJrZG93bidcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgbnR5cGU6ICdtYXJrZG93bicsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmdbXX0gYmFzZUNscz1bJ25lby1tYXJrZG93bi1jb21wb25lbnQnXVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBiYXNlQ2xzOiBbJ25lby1tYXJrZG93bi1jb21wb25lbnQnXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIFVSTCBmb3IgaXNzdWUgdHJhY2tpbmcuIFVzZWQgd2hlbiByZXBsYWNlVGlja2V0SWRzIGlzIHRydWUuXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ30gaXNzdWVzVXJsPSdodHRwczovL2dpdGh1Yi5jb20vbmVvbWpzL25lby9pc3N1ZXMvJ1xuICAgICAgICAgKi9cbiAgICAgICAgaXNzdWVzVXJsOiAnaHR0cHM6Ly9naXRodWIuY29tL25lb21qcy9uZW8vaXNzdWVzLycsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcnVlIHRvIHBhcnNlIGFuZCByZW5kZXIgWUFNTCBmcm9udG1hdHRlciAobWV0YWRhdGEpIGF0IHRoZSB0b3Agb2YgdGhlIGNvbnRlbnQuXG4gICAgICAgICAqIFVzZWZ1bCBmb3IgZGlzcGxheWluZyBmaWxlIG1ldGFkYXRhIGxpa2UgdGl0bGUsIGRhdGUsIG9yIHRhZ3MuXG4gICAgICAgICAqIEBtZW1iZXIge0Jvb2xlYW59IHJlbmRlckZyb250bWF0dGVyPXRydWVcbiAgICAgICAgICovXG4gICAgICAgIHJlbmRlckZyb250bWF0dGVyOiB0cnVlLFxuICAgICAgICAvKipcbiAgICAgICAgICogVHJ1ZSB0byBhdXRvbWF0aWNhbGx5IHJlcGxhY2UgdGlja2V0IHJlZmVyZW5jZXMgKGUuZy4gIzEyMykgd2l0aCBjbGlja2FibGUgbGlua3MuXG4gICAgICAgICAqIEBtZW1iZXIge0Jvb2xlYW59IHJlcGxhY2VUaWNrZXRJZHM9ZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHJlcGxhY2VUaWNrZXRJZHM6IGZhbHNlLFxuICAgICAgICAvKipcbiAgICAgICAgICogVHJ1ZSB0byB3cmFwIHRoZSByZW5kZXJlZCBmcm9udG1hdHRlciB0YWJsZSBpbiBhIGNvbGxhcHNpYmxlIDxkZXRhaWxzPiB0YWcuXG4gICAgICAgICAqIFRoaXMga2VlcHMgdGhlIG1ldGFkYXRhIGFjY2Vzc2libGUgYnV0IHVub2J0cnVzaXZlLCBjb2xsYXBzZWQgYnkgZGVmYXVsdC5cbiAgICAgICAgICogQG1lbWJlciB7Qm9vbGVhbn0gdXNlRnJvbnRtYXR0ZXJEZXRhaWxzPXRydWVcbiAgICAgICAgICovXG4gICAgICAgIHVzZUZyb250bWF0dGVyRGV0YWlsczogdHJ1ZSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ3xudWxsfSB2YWx1ZV89bnVsbFxuICAgICAgICAgKiBAcmVhY3RpdmVcbiAgICAgICAgICovXG4gICAgICAgIHZhbHVlXzogbnVsbCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1N0cmluZ3xudWxsfSB3aW5kb3dVcmw9bnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgd2luZG93VXJsOiBudWxsXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7TmVvLmNvbXBvbmVudC5CYXNlW119IGFjdGl2ZUNvbXBvbmVudHM9W11cbiAgICAgKi9cbiAgICBhY3RpdmVDb21wb25lbnRzID0gW11cblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge1JlZ0V4cH0gcmVnZXhJbmxpbmVDb2RlPS9gKFteYF0rKWAvZ1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgc3RhdGljIHJlZ2V4SW5saW5lQ29kZSA9IC9gKFteYF0rKWAvZ1xuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGFmdGVyIHRoZSBtb3VudGVkIGNvbmZpZyBnb3QgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gdmFsdWVcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9sZFZhbHVlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGFmdGVyU2V0TW91bnRlZCh2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgc3VwZXIuYWZ0ZXJTZXRNb3VudGVkKHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50U3RhdGUodmFsdWUpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGFmdGVyIHRoZSB0aGVtZSBjb25maWcgZ290IGNoYW5nZWQuXG4gICAgICpcbiAgICAgKiAqKk9wdGltaXphdGlvbjoqKlxuICAgICAqIEluc3RlYWQgb2YgdHJpZ2dlcmluZyBhIGZ1bGwgcmUtcmVuZGVyICh3aGljaCB3b3VsZCByZS1wYXJzZSB0aGUgbWFya2Rvd24gYW5kIGRlc3Ryb3kvcmVjcmVhdGUgYWxsIGNvbXBvbmVudHMpLFxuICAgICAqIHRoaXMgbWV0aG9kIHBlcmZvcm1zIGEgKipUYXJnZXRlZCBDb21wb25lbnQgVXBkYXRlKiouIEl0IGl0ZXJhdGVzIG92ZXIgYWxsIGFjdGl2ZSBlbWJlZGRlZCBjb21wb25lbnRzXG4gICAgICogKGxpa2UgTGl2ZVByZXZpZXdzIG9yIE1lcm1haWQgZGlhZ3JhbXMpIGFuZCB1cGRhdGVzIHRoZWlyIGB0aGVtZWAgY29uZmlnIGRpcmVjdGx5LlxuICAgICAqXG4gICAgICogVGhpcyBlbnN1cmVzIHNtb290aCB0cmFuc2l0aW9ucyBhbmQgbWFpbnRhaW5zIHRoZSBzdGF0ZSBvZiBjb21wb25lbnRzIHRoYXQgc3VwcG9ydCBkeW5hbWljIHRoZW1pbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IG9sZFZhbHVlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGFmdGVyU2V0VGhlbWUodmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHN1cGVyLmFmdGVyU2V0VGhlbWUodmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgICAgdGhpcy5hY3RpdmVDb21wb25lbnRzLmZvckVhY2goY29tcG9uZW50ID0+IGNvbXBvbmVudC50aGVtZSA9IHZhbHVlKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciB0aGUgdmFsdWUgY29uZmlnIGdvdCBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtTdHJpbmd8bnVsbH0gdmFsdWVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSBvbGRWYWx1ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBhc3luYyBhZnRlclNldFZhbHVlKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGxldCBtZSA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhbHVlID0gbWUubW9kaWZ5TWFya2Rvd24odmFsdWUpO1xuXG4gICAgICAgICAgICAvLyBDbGVhbiB1cCBwcmV2aW91cyBpbnN0YW5jZXNcbiAgICAgICAgICAgIG1lLmRlc3Ryb3lDb21wb25lbnRzKCk7XG5cbiAgICAgICAgICAgIGF3YWl0IG1lLnJlbmRlcih7Y29kZTogdmFsdWV9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGFmdGVyIHRoZSB3aW5kb3dJZCBjb25maWcgZ290IGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IG9sZFZhbHVlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGFzeW5jIGFmdGVyU2V0V2luZG93SWQodmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHN1cGVyLmFmdGVyU2V0V2luZG93SWQodmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgICAgdGhpcy5hY3RpdmVDb21wb25lbnRzLmZvckVhY2goY29tcG9uZW50ID0+IGNvbXBvbmVudC53aW5kb3dJZCA9IHZhbHVlKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBiZWZvcmUgdGhlIHZhbHVlIGNvbmZpZyBnZXRzIGNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xudWxsfSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IG9sZFZhbHVlXG4gICAgICogQHJldHVybnMge1N0cmluZ3xudWxsfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBiZWZvcmVTZXRWYWx1ZSh2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBsZXQgbG93ZXIgPSB2YWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgaWYgKGxvd2VyLnN0YXJ0c1dpdGgoJzwhZG9jdHlwZSBodG1sPicpIHx8IGxvd2VyLnN0YXJ0c1dpdGgoJzxodG1sJykpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdNYXJrZG93biBjb21wb25lbnQgcmVjZWl2ZWQgYW4gSFRNTCBkb2N1bWVudCBpbnN0ZWFkIG9mIG1hcmtkb3duIGNvbnRlbnQuIFRoaXMgdXN1YWxseSBpbmRpY2F0ZXMgYSA0MDQgb3Igc2VydmVyIGVycm9yLicsIHRoaXMuaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBvbGRWYWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbGwgY3JlYXRlZCBjaGlsZCBpbnN0YW5jZXNcbiAgICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcbiAgICAgKi9cbiAgICBkZXN0cm95KC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95Q29tcG9uZW50cygpO1xuICAgICAgICBzdXBlci5kZXN0cm95KC4uLmFyZ3MpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgYWxsIGNvbXBvbmVudHMgY3JlYXRlZCBieSB0aGUgbGFzdCByZW5kZXIgcGFzcy5cbiAgICAgKi9cbiAgICBkZXN0cm95Q29tcG9uZW50cygpIHtcbiAgICAgICAgbGV0IG1lID0gdGhpcztcblxuICAgICAgICBtZS5hY3RpdmVDb21wb25lbnRzLmZvckVhY2goY29tcG9uZW50ID0+IGNvbXBvbmVudC5kZXN0cm95KCkpO1xuICAgICAgICBtZS5hY3RpdmVDb21wb25lbnRzID0gW11cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICAqL1xuICAgIGluc2VydExhYkRpdnMoaW5wdXRTdHJpbmcpIHtcbiAgICAgICAgaW5wdXRTdHJpbmcgPSBpbnB1dFN0cmluZy5yZXBsYWNlKHJlZ2V4TGFiT3BlbiwgJzxkaXYgY2xhc3M9XCJsYWJcIj4nKTtcbiAgICAgICAgaW5wdXRTdHJpbmcgPSBpbnB1dFN0cmluZy5yZXBsYWNlKHJlZ2V4TGFiQ2xvc2UsICc8L2Rpdj4nKTtcbiAgICAgICAgcmV0dXJuIGlucHV0U3RyaW5nXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICovXG4gICAgZm9ybWF0RnJvbnRNYXR0ZXJWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5qb2luKCcsICcpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHJldHVybiBgPGkgY2xhc3M9XCJmYS1zb2xpZCBmYS0ke3ZhbHVlID8gJ2NoZWNrJyA6ICd4bWFyayd9XCI+PC9pPmBcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyBJU08gRGF0ZVxuICAgICAgICAgICAgaWYgKC9eXFxkezR9LVxcZHsyfS1cXGR7Mn1ULy50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZSkudG9Mb2NhbGVTdHJpbmcoKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVUkxcbiAgICAgICAgICAgIGlmICgvXmh0dHBzPzpcXC9cXC8vLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGA8YSBocmVmPVwiJHt2YWx1ZX1cIiB0YXJnZXQ9XCJfYmxhbmtcIj4ke3ZhbHVlfTwvYT5gXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICovXG4gICAgZnJvbnRNYXR0ZXJUb0h0bWwoZGF0YSkge1xuICAgICAgICBsZXQgbWUgICA9IHRoaXMsXG4gICAgICAgICAgICBodG1sID0gJzx0YWJsZSBjbGFzcz1cIm5lby1mcm9udG1hdHRlci10YWJsZVwiPjx0Ym9keT4nO1xuXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGRhdGEpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgaHRtbCArPSBgPHRyPjx0ZD4ke2tleX08L3RkPjx0ZD4ke21lLmZvcm1hdEZyb250TWF0dGVyVmFsdWUodmFsdWUpfTwvdGQ+PC90cj5gXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGh0bWwgKz0gJzwvdGJvZHk+PC90YWJsZT4nO1xuXG4gICAgICAgIGlmIChtZS51c2VGcm9udG1hdHRlckRldGFpbHMpIHtcbiAgICAgICAgICAgIHJldHVybiBgPGRldGFpbHM+PHN1bW1hcnk+RnJvbnRtYXR0ZXI8L3N1bW1hcnk+JHtodG1sfTwvZGV0YWlscz5gXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaHRtbFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vZGlmaWVzIHRoZSBtYXJrZG93biBjb250ZW50IGJlZm9yZSByZW5kZXJpbmcuXG4gICAgICogRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBwYXJzZXMgaGVhZGxpbmVzIHRvIGFkZCBzcGVjaWZpYyBjbGFzc2VzLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50XG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKi9cbiAgICBtb2RpZnlNYXJrZG93bihjb250ZW50KSB7XG4gICAgICAgIGxldCBtZSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHJlZ2V4RnJvbnRNYXR0ZXIudGVzdChjb250ZW50KSkge1xuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZShyZWdleEZyb250TWF0dGVyLCAobWF0Y2gsIGZyb250bWF0dGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFtZS5yZW5kZXJGcm9udG1hdHRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJydcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWUuZnJvbnRNYXR0ZXJUb0h0bWwobWUucGFyc2VGcm9udE1hdHRlcihmcm9udG1hdHRlcikpICsgJ1xcbidcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgRnJvbnRNYXR0ZXInLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtZS5yZXBsYWNlVGlja2V0SWRzKSB7XG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKHJlZ2V4VGlja2V0SWQsIChtYXRjaCwgcHJlZml4LCBpZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0XG4gICAgICAgICAgICAgICAgICAgIGlzSW50ZXJuYWwgPSBtZS5pc3N1ZXNVcmwuc3RhcnRzV2l0aCgnIycpLFxuICAgICAgICAgICAgICAgICAgICB1cmwgICAgICAgID0gbWUuaXNzdWVzVXJsICsgaWQsXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCAgICAgPSBpc0ludGVybmFsID8gJycgOiAnIHRhcmdldD1cIl9ibGFua1wiJztcblxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtwcmVmaXh9PGEgaHJlZj1cIiR7dXJsfVwiJHt0YXJnZXR9PiMke2lkfTwvYT5gXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJvd3MgICAgICAgICAgPSBjb250ZW50LnNwbGl0KCdcXG4nKSxcbiAgICAgICAgICAgIGkgICAgICAgICAgICAgPSAwLFxuICAgICAgICAgICAgbGVuICAgICAgICAgICA9IHJvd3MubGVuZ3RoLFxuICAgICAgICAgICAgaGVhZGxpbmVJbmRleCA9IDEsXG4gICAgICAgICAgICByb3csIHRhZztcblxuICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICByb3cgPSByb3dzW2ldO1xuICAgICAgICAgICAgdGFnID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKHJvdy5zdGFydHNXaXRoKCcjJykgJiYgcm93LmNoYXJBdCgxKSAhPT0gJyMnKSB7XG4gICAgICAgICAgICAgICAgcm93ID0gcm93LnN1YnN0cmluZygxKS50cmltKCk7XG4gICAgICAgICAgICAgICAgdGFnID0gJ2gxJ1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyb3cuc3RhcnRzV2l0aCgnIyMnKSAmJiByb3cuY2hhckF0KDIpICE9PSAnIycpIHtcbiAgICAgICAgICAgICAgICByb3cgPSByb3cuc3Vic3RyaW5nKDIpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB0YWcgPSAnaDInXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJvdy5zdGFydHNXaXRoKCcjIyMnKSAmJiByb3cuY2hhckF0KDMpICE9PSAnIycpIHtcbiAgICAgICAgICAgICAgICByb3cgPSByb3cuc3Vic3RyaW5nKDMpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB0YWcgPSAnaDMnXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0YWcpIHtcbiAgICAgICAgICAgICAgICByb3dzW2ldID0gbWUub25IZWFkbGluZSh0YWcsIHJvdywgaGVhZGxpbmVJbmRleCk7XG4gICAgICAgICAgICAgICAgaGVhZGxpbmVJbmRleCsrO1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIG5leHQgbGluZSBpcyBub3QgZW1wdHksIGFkZCBvbmVcbiAgICAgICAgICAgICAgICBpZiAocm93c1tpICsgMV0gJiYgcm93c1tpICsgMV0gIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvd3Muc3BsaWNlKGkgKyAxLCAwLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIGxlbisrO1xuICAgICAgICAgICAgICAgICAgICBpKytcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcm93cy5qb2luKCdcXG4nKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0YWdcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICovXG4gICAgb25IZWFkbGluZSh0YWcsIHRleHQsIGluZGV4KSB7XG4gICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UodGhpcy5jb25zdHJ1Y3Rvci5yZWdleElubGluZUNvZGUsICc8Y29kZT4kMTwvY29kZT4nKTtcbiAgICAgICAgcmV0dXJuIGA8JHt0YWd9IGNsYXNzPVwibmVvLSR7dGFnfVwiPiR7dGV4dH08LyR7dGFnfT5gXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRleHRcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHBhcnNlRnJvbnRNYXR0ZXIodGV4dCkge1xuICAgICAgICBsZXQgZGF0YSAgICAgICA9IHt9LFxuICAgICAgICAgICAgbGluZXMgICAgICA9IHRleHQudHJpbSgpLnNwbGl0KCdcXG4nKSxcbiAgICAgICAgICAgIGN1cnJlbnRLZXk7XG5cbiAgICAgICAgbGluZXMuZm9yRWFjaChsaW5lID0+IHtcbiAgICAgICAgICAgIGxldCB0cmltTGluZSA9IGxpbmUudHJpbSgpO1xuXG4gICAgICAgICAgICBpZiAoIXRyaW1MaW5lIHx8IHRyaW1MaW5lLnN0YXJ0c1dpdGgoJyMnKSkgcmV0dXJuOyAvLyBTa2lwIGVtcHR5IG9yIGNvbW1lbnRzXG5cbiAgICAgICAgICAgIC8vIEFycmF5IGl0ZW1cbiAgICAgICAgICAgIGlmICh0cmltTGluZS5zdGFydHNXaXRoKCctICcpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGFbY3VycmVudEtleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2N1cnJlbnRLZXldID0gW11cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkYXRhW2N1cnJlbnRLZXldLnB1c2godGhpcy5wYXJzZVZhbHVlKHRyaW1MaW5lLnN1YnN0cmluZygyKSkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBLZXktVmFsdWVcbiAgICAgICAgICAgIGxldCBtYXRjaCA9IHRyaW1MaW5lLm1hdGNoKC9eKFtcXHdcXGRfLV0rKTpcXHMqKC4qKSQvKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRLZXkgICAgICAgPSBtYXRjaFsxXTtcbiAgICAgICAgICAgICAgICBkYXRhW2N1cnJlbnRLZXldID0gdGhpcy5wYXJzZVZhbHVlKG1hdGNoWzJdKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZGF0YVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufE51bWJlcnxTdHJpbmd8bnVsbH1cbiAgICAgKi9cbiAgICBwYXJzZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xuXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gJ3RydWUnKSAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gJ2ZhbHNlJykgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAodmFsdWUgPT09ICdudWxsJykgIHJldHVybiBudWxsO1xuXG4gICAgICAgIGlmICghaXNOYU4oTnVtYmVyKHZhbHVlKSkgJiYgdmFsdWUgIT09ICcnKSByZXR1cm4gTnVtYmVyKHZhbHVlKTtcblxuICAgICAgICBpZiAoKHZhbHVlLnN0YXJ0c1dpdGgoXCInXCIpICYmIHZhbHVlLmVuZHNXaXRoKFwiJ1wiKSkgfHwgKHZhbHVlLnN0YXJ0c1dpdGgoJ1wiJykgJiYgdmFsdWUuZW5kc1dpdGgoJ1wiJykpKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuc2xpY2UoMSwgLTEpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudFN0cmluZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXBcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICAqL1xuICAgIHByb2Nlc3NMaXZlUHJldmlld0Jsb2Nrcyhjb250ZW50U3RyaW5nLCBtYXApIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnRTdHJpbmcucmVwbGFjZShyZWdleExpdmVQcmV2aWV3LCAobWF0Y2gsIGxhbmd1YWdlLCBjb2RlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBJZEdlbmVyYXRvci5nZXRJZCgncHJlLWxpdmUtcHJldmlldycpO1xuICAgICAgICAgICAgbWFwW2tleV0gPSB7Y29kZSwgbGFuZ3VhZ2V9O1xuICAgICAgICAgICAgcmV0dXJuIGA8ZGl2IGlkPVwiJHtrZXl9XCI+PC9kaXY+YFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50U3RyaW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICovXG4gICAgcHJvY2Vzc01lcm1haWRCbG9ja3MoY29udGVudFN0cmluZywgbWFwKSB7XG4gICAgICAgIHJldHVybiBjb250ZW50U3RyaW5nLnJlcGxhY2UocmVnZXhNZXJtYWlkLCAobWF0Y2gsIGNvZGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IElkR2VuZXJhdG9yLmdldElkKCdtZXJtYWlkJyk7XG4gICAgICAgICAgICBtYXBba2V5XSA9IGNvZGU7XG4gICAgICAgICAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJuZW8tbWVybWFpZFwiIGlkPVwiJHtrZXl9XCI+PC9kaXY+YFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50U3RyaW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICovXG4gICAgcHJvY2Vzc05lb0NvbXBvbmVudHNCbG9ja3MoY29udGVudFN0cmluZywgbWFwKSB7XG4gICAgICAgIHJldHVybiBjb250ZW50U3RyaW5nLnJlcGxhY2UocmVnZXhOZW9Db21wb25lbnQsIChtYXRjaCwgY29kZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gSWRHZW5lcmF0b3IuZ2V0SWQoJ2xlYXJuLWNvbnRlbnQtY29tcG9uZW50Jyk7XG4gICAgICAgICAgICBtYXBba2V5XSA9IEpTT04ucGFyc2UoY29kZSk7XG4gICAgICAgICAgICByZXR1cm4gYDxkaXYgaWQ9XCIke2tleX1cIj48L2Rpdj5gXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnRTdHJpbmdcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gd2luZG93SWRcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxTdHJpbmc+fVxuICAgICAqL1xuICAgIGFzeW5jIHByb2Nlc3NSZWFkb25seUNvZGVCbG9ja3MoY29udGVudFN0cmluZywgd2luZG93SWQpIHtcbiAgICAgICAgbGV0IHJlcGxhY2VtZW50UHJvbWlzZXMgPSBbXSxcbiAgICAgICAgICAgIGNvdW50ICAgICAgICAgICAgICAgPSAwLFxuICAgICAgICAgICAgcmVwbGFjZW1lbnRzO1xuXG4gICAgICAgIGxldCB1cGRhdGVkQ29udGVudCA9IGNvbnRlbnRTdHJpbmcucmVwbGFjZShyZWdleENvZGVCbG9jaywgKG1hdGNoLCBsYW5ndWFnZSwgY29kZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBgX19ORU8tUkVBRE9OTFktVE9LRU4tJHsrK2NvdW50fV9fYDtcbiAgICAgICAgICAgIGNvbnN0IGxhbmcgID0gKCFsYW5ndWFnZSB8fCBsYW5ndWFnZS50cmltKCkgPT09ICcnIHx8IGxhbmd1YWdlID09PSAndGV4dCcpID8gJ3BsYWludGV4dCcgOiBsYW5ndWFnZTtcblxuICAgICAgICAgICAgcmVwbGFjZW1lbnRQcm9taXNlcy5wdXNoKFxuICAgICAgICAgICAgICAgIEhpZ2hsaWdodEpzLmhpZ2hsaWdodChjb2RlLCBsYW5nLCB3aW5kb3dJZClcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEhpZ2hsaWdodGluZyBmYWlsZWQgZm9yIGxhbmd1YWdlICcke2xhbmd9JywgZmFsbGluZyBiYWNrIHRvIHBsYWludGV4dC5gLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEhpZ2hsaWdodEpzLmhpZ2hsaWdodChjb2RlLCAncGxhaW50ZXh0Jywgd2luZG93SWQpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihoaWdobGlnaHRlZEh0bWwgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyOiBgPHByZSBkYXRhLSR7bGFuZ30gY2xhc3M9XCJobGpzXCIgaWQ9XCJwcmUtcmVhZG9ubHktJHtJZEdlbmVyYXRvci5nZXRJZCgpfVwiPiR7aGlnaGxpZ2h0ZWRIdG1sLnJlcGxhY2UocmVnZXhOZXdMaW5lcywgJycpfTwvcHJlPmAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlblxuICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlcGxhY2VtZW50cyA9IGF3YWl0IFByb21pc2UuYWxsKHJlcGxhY2VtZW50UHJvbWlzZXMpO1xuXG4gICAgICAgIHJlcGxhY2VtZW50cy5mb3JFYWNoKHJlcGxhY2VtZW50ID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZWRDb250ZW50ID0gdXBkYXRlZENvbnRlbnQucmVwbGFjZShyZXBsYWNlbWVudC50b2tlbiwgcmVwbGFjZW1lbnQuYWZ0ZXIpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB1cGRhdGVkQ29udGVudFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9yY2hlc3RyYXRlcyB0aGUgTWFya2Rvd24gcmVuZGVyaW5nIHBpcGVsaW5lLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaW1wbGVtZW50cyBhICoqbXVsdGktcGFzcyBjb21waWxhdGlvbiBzdHJhdGVneSoqIHRvIG92ZXJjb21lIHRoZSBsaW1pdGF0aW9ucyBvZiBzdGFuZGFyZCBNYXJrZG93biBwYXJzZXJzXG4gICAgICogd2hlbiBkZWFsaW5nIHdpdGggZHluYW1pYyBjb250ZW50IGFuZCBhc3luY2hyb25vdXMgb3BlcmF0aW9uczpcbiAgICAgKlxuICAgICAqIDEuICAqKkV4dHJhY3Rpb24gUGFzcyoqOiBJdCBmaXJzdCBzY2FucyB0aGUgcmF3IG1hcmtkb3duIHRvIGV4dHJhY3QgYG5lby1jb21wb25lbnRgLCBgbWVybWFpZGAsIGFuZCBgbGl2ZS1wcmV2aWV3YCBibG9ja3MuXG4gICAgICogICAgIFRoZXNlIGFyZSByZXBsYWNlZCB3aXRoIHBsYWNlaG9sZGVyIERJVnMgdG8gcHJvdGVjdCB0aGVtIGZyb20gdGhlIG1hcmtkb3duIHBhcnNlci5cbiAgICAgKiAyLiAgKipIaWdobGlnaHRpbmcgUGFzcyoqOiBJdCBhc3luY2hyb25vdXNseSBwcm9jZXNzZXMgYHJlYWRvbmx5YCBjb2RlIGJsb2NrcyB1c2luZyBIaWdobGlnaHRKUy5cbiAgICAgKiAzLiAgKipQYXJzaW5nIFBhc3MqKjogVGhlIHRyYW5zZm9ybWVkIGNvbnRlbnQgaXMgY29udmVydGVkIHRvIEhUTUwgdXNpbmcgYG1hcmtlZC5wYXJzZWAuXG4gICAgICogNC4gICoqSW5qZWN0aW9uIFBhc3MqKjogSXQgaXRlcmF0ZXMgb3ZlciB0aGUgZXh0cmFjdGVkIGNvbXBvbmVudCBtYXBzIChgbmVvQ29tcG9uZW50c2AsIGBuZW9EaXZzYCwgYG1lcm1haWREaXZzYCkgYW5kIGluc3RhbnRpYXRlc1xuICAgICAqICAgICB0aGUgYWN0dWFsIE5lby5tanMgY29tcG9uZW50cyBpbnRvIHRoZSBwbGFjZWhvbGRlcnMuXG4gICAgICpcbiAgICAgKiAqKkxhenkgTG9hZGluZyBPcHRpbWl6YXRpb246KipcbiAgICAgKiBIZWF2eSBkZXBlbmRlbmNpZXMgbGlrZSB0aGUgYE1lcm1haWRgIHdyYXBwZXIgYW5kIGBMaXZlUHJldmlld2AgZWRpdG9yIGFyZSBpbXBvcnRlZCBkeW5hbWljYWxseSB2aWEgYGF3YWl0IGltcG9ydCgpYFxuICAgICAqIG9ubHkgd2hlbiB0aGVpciByZXNwZWN0aXZlIGJsb2NrcyBhcmUgZGV0ZWN0ZWQuIFRoaXMgbWluaW1pemVzIHRoZSBpbml0aWFsIGJ1bmRsZSBzaXplLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YS5jb2RlXG4gICAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn1cbiAgICAgKi9cbiAgICBhc3luYyByZW5kZXIoe2NvZGV9KSB7XG4gICAgICAgIGxldCBtZSAgICAgICAgICAgID0gdGhpcyxcbiAgICAgICAgICAgIHt3aW5kb3dJZH0gICAgPSBtZSxcbiAgICAgICAgICAgIGNvbnRlbnQgICAgICAgPSBjb2RlLFxuICAgICAgICAgICAgbmVvQ29tcG9uZW50cyA9IHt9LFxuICAgICAgICAgICAgbmVvRGl2cyAgICAgICA9IHt9LFxuICAgICAgICAgICAgbWVybWFpZERpdnMgICA9IHt9LFxuICAgICAgICAgICAgYmFzZUNvbmZpZ3MgICA9IHtcbiAgICAgICAgICAgICAgICBhcHBOYW1lICAgICAgICA6IG1lLmFwcE5hbWUsXG4gICAgICAgICAgICAgICAgYXV0b0luaXRWbm9kZSAgOiB0cnVlLFxuICAgICAgICAgICAgICAgIGF1dG9Nb3VudCAgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnQ6IG1lLnBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICB0aGVtZSAgICAgICAgICA6IG1lLnRoZW1lLFxuICAgICAgICAgICAgICAgIHdpbmRvd0lkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaHRtbCwgaW5zdGFuY2U7XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBtYXBzIGZvciBjdXN0b20gY29tcG9uZW50cyBhbmQgbGl2ZSBwcmV2aWV3c1xuICAgICAgICBuZW9Db21wb25lbnRzID0ge307XG4gICAgICAgIG5lb0RpdnMgICAgICAgPSB7fTtcblxuICAgICAgICAvLyBQcm9jZXNzIGN1c3RvbSBOZW8ubWpzIGNvbXBvbmVudCBibG9ja3MgKHN5bmNocm9ub3VzKVxuICAgICAgICBjb250ZW50ID0gbWUucHJvY2Vzc05lb0NvbXBvbmVudHNCbG9ja3MoY29udGVudCwgbmVvQ29tcG9uZW50cyk7XG5cbiAgICAgICAgLy8gUHJvY2VzcyBjdXN0b20gTGl2ZSBQcmV2aWV3IGJsb2NrcyAoc3luY2hyb25vdXMpXG4gICAgICAgIGNvbnRlbnQgPSBtZS5wcm9jZXNzTGl2ZVByZXZpZXdCbG9ja3MoY29udGVudCwgbmVvRGl2cyk7XG5cbiAgICAgICAgLy8gUHJvY2VzcyBNZXJtYWlkIGJsb2NrcyAoc3luY2hyb25vdXMpXG4gICAgICAgIGNvbnRlbnQgPSBtZS5wcm9jZXNzTWVybWFpZEJsb2Nrcyhjb250ZW50LCBtZXJtYWlkRGl2cyk7XG5cbiAgICAgICAgLy8gUHJvY2VzcyBjdXN0b20gUmVhZG9ubHkgQ29kZSBibG9ja3MgKGFzeW5jaHJvbm91cyBkdWUgdG8gSGlnaGxpZ2h0SlMpXG4gICAgICAgIC8vIFRoaXMgd2lsbCByZXBsYWNlIHRoZSBtYXJrZG93biBmZW5jZWQgYmxvY2sgd2l0aCB0aGUgaGlnaGxpZ2h0ZWQgSFRNTCA8cHJlPiB0YWcuXG4gICAgICAgIGNvbnRlbnQgPSBhd2FpdCBtZS5wcm9jZXNzUmVhZG9ubHlDb2RlQmxvY2tzKGNvbnRlbnQsIGJhc2VDb25maWdzLndpbmRvd0lkKTtcblxuICAgICAgICAvLyBQYXJzZSB0aGUgKG5vdyBtb2RpZmllZCkgbWFya2Rvd24gY29udGVudCBpbnRvIEhUTUxcbiAgICAgICAgLy8gVGhpcyBjb250ZW50IHN0cmluZyBub3cgY29udGFpbnMgc3RhbmRhcmQgbWFya2Rvd24gUExVUyB0aGUgSFRNTCBkaXZzL3ByZXMgd2UgaW5qZWN0ZWQuXG4gICAgICAgIGh0bWwgPSBtYXJrZWQucGFyc2UoY29udGVudCk7XG5cbiAgICAgICAgLy8gV3JhcCByYXcgSFRNTCBpbWcgdGFncyBpbiBhIHNjcm9sbGFibGUgY29udGFpbmVyXG4gICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoLzxpbWcoW14+XSopPi9nLCAnPGRpdiBjbGFzcz1cIm5lby1tYXJrZG93bi1pbWFnZS13cmFwcGVyXCI+PGltZyQxPjwvZGl2PicpO1xuXG4gICAgICAgIC8vIEluc2VydCBsYWIgZGl2cyAodGhlc2UgYXJlIG1hcmtkb3duIGNvbW1lbnRzLCBzbyBwcm9jZXNzIG9uIHRoZSBmaW5hbCBIVE1MKVxuICAgICAgICBhd2FpdCBtZS5zZXQoe2h0bWw6IG1lLmluc2VydExhYkRpdnMoaHRtbCl9KTtcbiAgICAgICAgYXdhaXQgbWUudGltZW91dCgxMCk7XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG5lb0NvbXBvbmVudHMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG5lb0NvbXBvbmVudHMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IE5lby5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAuLi5iYXNlQ29uZmlncyxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnTmVvLmNvbXBvbmVudC5CYXNlJyxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50SWQgOiBrZXksXG4gICAgICAgICAgICAgICAgICAgIC4uLm5lb0NvbXBvbmVudHNba2V5XVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG1lLmFjdGl2ZUNvbXBvbmVudHMucHVzaChpbnN0YW5jZSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG5lb0RpdnMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IExpdmVQcmV2aWV3TW9kdWxlID0gYXdhaXQgaW1wb3J0KCcuLi9jb2RlL0xpdmVQcmV2aWV3Lm1qcycpO1xuICAgICAgICAgICAgY29uc3QgTGl2ZVByZXZpZXdDbGFzcyAgPSBMaXZlUHJldmlld01vZHVsZS5kZWZhdWx0O1xuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhuZW9EaXZzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5iYXNlQ29uZmlncyxcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlICA6IExpdmVQcmV2aWV3Q2xhc3MsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudElkOiBrZXksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICAgOiBuZW9EaXZzW2tleV0uY29kZVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChtZS53aW5kb3dVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLndpbmRvd1VybCA9IG1lLndpbmRvd1VybFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gTmVvLmNyZWF0ZShjb25maWcpO1xuICAgICAgICAgICAgICAgIG1lLmFjdGl2ZUNvbXBvbmVudHMucHVzaChpbnN0YW5jZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhtZXJtYWlkRGl2cykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgTWVybWFpZE1vZHVsZSA9IGF3YWl0IGltcG9ydCgnLi93cmFwcGVyL01lcm1haWQubWpzJyk7XG4gICAgICAgICAgICBjb25zdCBNZXJtYWlkQ2xhc3MgID0gTWVybWFpZE1vZHVsZS5kZWZhdWx0O1xuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhtZXJtYWlkRGl2cykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gTmVvLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmJhc2VDb25maWdzLFxuICAgICAgICAgICAgICAgICAgICBtb2R1bGUgIDogTWVybWFpZENsYXNzLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRJZDoga2V5LFxuICAgICAgICAgICAgICAgICAgICB0aGVtZSAgIDogbWUudGhlbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICAgOiBtZXJtYWlkRGl2c1trZXldXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbWUuYWN0aXZlQ29tcG9uZW50cy5wdXNoKGluc3RhbmNlKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7fVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG1vdW50ZWQgc3RhdGUgb2YgYWxsIHRyYWNrZWQgY29tcG9uZW50cy5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IG1vdW50ZWRcbiAgICAgKi9cbiAgICB1cGRhdGVDb21wb25lbnRTdGF0ZShtb3VudGVkKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlQ29tcG9uZW50cy5mb3JFYWNoKGNvbXBvbmVudCA9PiB7XG4gICAgICAgICAgICBpZiAobW91bnRlZCkge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudC5pbml0Vm5vZGUodHJ1ZSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50Lm1vdW50ZWQgPSBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoTWFya2Rvd24pO1xuIiwiaW1wb3J0IEJhc2UgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vY29yZS9CYXNlLm1qcyc7XG5pbXBvcnQgSGlnaGxpZ2h0SnNMaW5lTnVtYmVycyBmcm9tICcuL0hpZ2hsaWdodEpzTGluZU51bWJlcnMubWpzJztcblxuLyoqXG4gKiBAY2xhc3MgTmVvLnV0aWwuSGlnaGxpZ2h0SnNcbiAqIEBleHRlbmRzIE5lby5jb3JlLkJhc2VcbiAqIEBzaW5nbGV0b25cbiAqL1xuY2xhc3MgSGlnaGxpZ2h0SnMgZXh0ZW5kcyBCYXNlIHtcbiAgICBzdGF0aWMgY29uZmlnID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7U3RyaW5nfSBjbGFzc05hbWU9J05lby51dGlsLkhpZ2hsaWdodEpzJ1xuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBjbGFzc05hbWU6ICdOZW8udXRpbC5IaWdobGlnaHRKcycsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtCb29sZWFufSBkZWJ1Zz1mYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgZGVidWc6IHRydWUsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtCb29sZWFufSBzaW5nbGV0b249dHJ1ZVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBzaW5nbGV0b246IHRydWUsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VzdG9tIHdpbmRvd0lzICh0aW1lc3RhbXApIHRoaXMgY29tcG9uZW50IGJlbG9uZ3MgdG9cbiAgICAgICAgICogQG1lbWJlciB7TnVtYmVyfG51bGx9IHdpbmRvd0lkXz1udWxsXG4gICAgICAgICAqIEByZWFjdGl2ZVxuICAgICAgICAgKi9cbiAgICAgICAgd2luZG93SWRfOiBudWxsXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bGx9XG4gICAgICovXG4gICAgaGxqcyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgdGhlIHdpbmRvd0lkIGNvbmZpZyBnb3QgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfG51bGx9IHZhbHVlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ8bnVsbH0gb2xkVmFsdWVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgYWZ0ZXJTZXRXaW5kb3dJZCh2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgdmFsdWUgJiYgTmVvLmN1cnJlbnRXb3JrZXIuaW5zZXJ0VGhlbWVGaWxlcyh2YWx1ZSwgdGhpcy5fX3Byb3RvX18pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvZGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbGFuZ3VhZ2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gd2luZG93SWRcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxTdHJpbmc+fVxuICAgICAqL1xuICAgIGFzeW5jIGhpZ2hsaWdodChjb2RlLCBsYW5ndWFnZSwgd2luZG93SWQpIHtcbiAgICAgICAgbGV0IG1lID0gdGhpcztcblxuICAgICAgICBtZS53aW5kb3dJZCA9IHdpbmRvd0lkO1xuXG4gICAgICAgIGF3YWl0IG1lLmxvYWQoKTtcbiAgICAgICAgcmV0dXJuIG1lLmhsanMuaGlnaGxpZ2h0KGNvZGUsIHtsYW5ndWFnZX0pLnZhbHVlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvZGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gd2luZG93SWRcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxTdHJpbmc+fVxuICAgICAqL1xuICAgIGFzeW5jIGhpZ2hsaWdodEF1dG8oY29kZSwgd2luZG93SWQpIHtcbiAgICAgICAgbGV0IG1lID0gdGhpcztcblxuICAgICAgICBtZS53aW5kb3dJZCA9IHdpbmRvd0lkO1xuXG4gICAgICAgIGF3YWl0IG1lLmxvYWQoKTtcbiAgICAgICAgcmV0dXJuIG1lLmhsanMuaGlnaGxpZ2h0QXV0byhjb2RlKS52YWx1ZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb2RlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGxhbmd1YWdlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHdpbmRvd0lkXG4gICAgICogQHJldHVybnMge1Byb21pc2U8U3RyaW5nPn1cbiAgICAgKi9cbiAgICBhc3luYyBoaWdobGlnaHRMaW5lKGNvZGUsIGxhbmd1YWdlLCB3aW5kb3dJZCkge1xuICAgICAgICBsZXQgdmFsdWUgPSBhd2FpdCB0aGlzLmhpZ2hsaWdodChjb2RlLCBsYW5ndWFnZSwgd2luZG93SWQpO1xuICAgICAgICByZXR1cm4gSGlnaGxpZ2h0SnNMaW5lTnVtYmVycy5hZGRMaW5lTnVtYmVycyh2YWx1ZSwgd2luZG93SWQpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvZGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gd2luZG93SWRcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxTdHJpbmc+fVxuICAgICAqL1xuICAgIGFzeW5jIGhpZ2hsaWdodEF1dG9MaW5lKGNvZGUsIHdpbmRvd0lkKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGF3YWl0IHRoaXMuaGlnaGxpZ2h0QXV0byhjb2RlLCB3aW5kb3dJZCk7XG4gICAgICAgIHJldHVybiBIaWdobGlnaHRKc0xpbmVOdW1iZXJzLmFkZExpbmVOdW1iZXJzKHZhbHVlLCB3aW5kb3dJZClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICBhc3luYyBsb2FkKCkge1xuICAgICAgICBpZiAoIXRoaXMuaGxqcykge1xuICAgICAgICAgICAgbGV0IHBhdGggICA9IE5lby5jb25maWcuYmFzZVBhdGggKyAnZGlzdC9oaWdobGlnaHQvaGlnaGxpZ2h0LmN1c3RvbScgKyAodGhpcy5kZWJ1ZyA/ICcnIDogJy5taW4nKSArICcuanMnLFxuICAgICAgICAgICAgICAgIG1vZHVsZSA9IGF3YWl0IGltcG9ydCgvKiB3ZWJwYWNrSWdub3JlOiB0cnVlICovIHBhdGgpO1xuXG4gICAgICAgICAgICB0aGlzLmhsanMgPSBtb2R1bGUuZGVmYXVsdFxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhIaWdobGlnaHRKcyk7XG4iLCJpbXBvcnQgQmFzZSBmcm9tICcuLi9jb3JlL0Jhc2UubWpzJztcblxuY29uc3RcbiAgICBmb3JtYXRSZWdleCA9IC9cXHsoXFxkKylcXH0vZyxcbiAgICBsaW5lUmVnZXggICA9IC9cXFxcclxcXFxufFxcXFxyfFxcXFxuL2c7XG5cbi8qKlxuICogTm9kZS5qcy1jYXBhYmxlIHZlcnNpb24gb2Y6IGh0dHBzOi8vZ2l0aHViLmNvbS95YXVoZW5pcGFrYWxhL2hpZ2hsaWdodGpzLWxpbmUtbnVtYmVycy5qc1xuICogQGNsYXNzIE5lby51dGlsLkhpZ2hsaWdodEpzTGluZU51bWJlcnNcbiAqIEBleHRlbmRzIE5lby5jb3JlLkJhc2VcbiAqIEBzaW5nbGV0b25cbiAqL1xuY2xhc3MgSGlnaGxpZ2h0SnNMaW5lTnVtYmVycyBleHRlbmRzIEJhc2Uge1xuICAgIHN0YXRpYyBjb25maWcgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IGNsYXNzTmFtZT0nTmVvLnV0aWwuSGlnaGxpZ2h0SnNMaW5lTnVtYmVycydcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgY2xhc3NOYW1lOiAnTmVvLnV0aWwuSGlnaGxpZ2h0SnNMaW5lTnVtYmVycycsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtCb29sZWFufSBzaW5nbGV0b249dHJ1ZVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBzaW5nbGV0b246IHRydWVcbiAgICB9XG5cbiAgICBUQUJMRV9OQU1FICAgICAgICAgPSAnaGxqcy1sbidcbiAgICBMSU5FX05BTUUgICAgICAgICAgPSAnaGxqcy1sbi1saW5lJ1xuICAgIENPREVfQkxPQ0tfTkFNRSAgICA9ICdobGpzLWxuLWNvZGUnXG4gICAgTlVNQkVSU19CTE9DS19OQU1FID0gJ2hsanMtbG4tbnVtYmVycydcbiAgICBOVU1CRVJfTElORV9OQU1FICAgPSAnaGxqcy1sbi1uJ1xuICAgIERBVEFfQVRUUl9OQU1FICAgICA9ICdkYXRhLWxpbmUtbnVtYmVyJ1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGZvcm1hdFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3NcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICAqL1xuICAgIGZvcm1hdChmb3JtYXQsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdC5yZXBsYWNlKGZvcm1hdFJlZ2V4LCBmdW5jdGlvbihtLCBuKXtcbiAgICAgICAgICAgIHJldHVybiBhcmdzW25dICE9PSB1bmRlZmluZWQgPyBhcmdzW25dIDogbVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBodG1sXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHdpbmRvd0lkXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKi9cbiAgICBhZGRMaW5lTnVtYmVycyhodG1sLCB3aW5kb3dJZCkge1xuICAgICAgICBsZXQgbWUgICAgID0gdGhpcyxcbiAgICAgICAgICAgIGxpbmVzICA9IG1lLmdldExpbmVzKGh0bWwpLFxuICAgICAgICAgICAgcmVzdWx0ID0gJyc7XG5cbiAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaW5zdGFuY2UgaXMgbm90IGEgY29tcG9uZW50IGFuZCBzaG91bGQgbG9hZCByZWxhdGVkIENTUyBmaWxlcyBpbnRvIHRoZSB1c2VkIHdpbmRvd3MuXG4gICAgICAgICAgICB3aW5kb3dJZCAmJiBOZW8uY3VycmVudFdvcmtlci5pbnNlcnRUaGVtZUZpbGVzKHdpbmRvd0lkLCBtZS5fX3Byb3RvX18pO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IG1lLmZvcm1hdChbXG4gICAgICAgICAgICAgICAgICAgICc8dHI+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICc8dGQgY2xhc3M9XCJ7MH0gezF9XCIgezN9PVwiezV9XCI+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInsyfVwiIHszfT1cIns1fVwiPjwvZGl2PicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC90ZD4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJzx0ZCBjbGFzcz1cInswfSB7NH1cIiB7M309XCJ7NX1cIj4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd7Nn0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJzwvdGQ+JyxcbiAgICAgICAgICAgICAgICAgICAgJzwvdHI+J1xuICAgICAgICAgICAgICAgIF0uam9pbignJyksIFtcbiAgICAgICAgICAgICAgICAgICAgbWUuTElORV9OQU1FLFxuICAgICAgICAgICAgICAgICAgICBtZS5OVU1CRVJTX0JMT0NLX05BTUUsXG4gICAgICAgICAgICAgICAgICAgIG1lLk5VTUJFUl9MSU5FX05BTUUsXG4gICAgICAgICAgICAgICAgICAgIG1lLkRBVEFfQVRUUl9OQU1FLFxuICAgICAgICAgICAgICAgICAgICBtZS5DT0RFX0JMT0NLX05BTUUsXG4gICAgICAgICAgICAgICAgICAgIGkgKyAxLFxuICAgICAgICAgICAgICAgICAgICBsaW5lc1tpXS5sZW5ndGggPiAwID8gbGluZXNbaV0gOiAnICdcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbWUuZm9ybWF0KCc8dGFibGUgY2xhc3M9XCJ7MH1cIj57MX08L3RhYmxlPicsIFttZS5UQUJMRV9OQU1FLCByZXN1bHRdKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGh0bWxcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmdbXX1cbiAgICAgKi9cbiAgICBnZXRMaW5lcyh0ZXh0KSB7XG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIFtdO1xuICAgICAgICBjb25zdCBsaW5lcyA9IHRleHQuc3BsaXQobGluZVJlZ2V4KTtcblxuICAgICAgICBpZiAobGluZXMubGVuZ3RoID4gMCAmJiBsaW5lc1tsaW5lcy5sZW5ndGggLSAxXS50cmltKCkgPT09ICcnKSB7XG4gICAgICAgICAgICBsaW5lcy5wb3AoKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxpbmVzXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhIaWdobGlnaHRKc0xpbmVOdW1iZXJzKTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=