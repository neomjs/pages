"use strict";
(self["webpackChunkneo_mjs"] = self["webpackChunkneo_mjs"] || []).push([["vendors-dist_esm_src_plugin_Resizable_mjs"],{

/***/ "./dist/esm/src/draggable/DragProxyComponent.mjs"
/*!*******************************************************!*\
  !*** ./dist/esm/src/draggable/DragProxyComponent.mjs ***!
  \*******************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _component_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.draggable.DragProxyComponent",ntype:"dragproxy",autoInitVnode:!0,autoMount:!0,baseCls:["neo-dragproxy"],moveInMainThread:!0};afterSetMounted(e,a){if(super.afterSetMounted(e,a),e&&this.moveInMainThread){let{appName:e,id:a,windowId:o}=this;Neo.main.addon.DragDrop.setDragProxyElement({appName:e,id:a,windowId:o})}}}));

/***/ },

/***/ "./dist/esm/src/draggable/DragProxyContainer.mjs"
/*!*******************************************************!*\
  !*** ./dist/esm/src/draggable/DragProxyContainer.mjs ***!
  \*******************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../container/Base.mjs */ "./dist/esm/src/container/Base.mjs");
/* harmony import */ var _DragProxyComponent_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DragProxyComponent.mjs */ "./dist/esm/src/draggable/DragProxyComponent.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _container_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.draggable.DragProxyContainer",ntype:"dragproxycontainer",autoInitVnode:!0,autoMount:!0,baseCls:["neo-dragproxy"],layout:"fit",moveInMainThread:!0};afterSetMounted(e,t){if(super.afterSetMounted(e,t),e&&this.moveInMainThread){let{appName:e,id:t,windowId:o}=this;Neo.main.addon.DragDrop.setDragProxyElement({appName:e,id:t,windowId:o})}}afterSetWindowId(e,o){super.afterSetWindowId(e,o),e&&Neo.currentWorker.insertThemeFiles(e,_DragProxyComponent_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].prototype)}destroy(...e){this.items=[],super.destroy(...e)}}));

/***/ },

/***/ "./dist/esm/src/draggable/DragZone.mjs"
/*!*********************************************!*\
  !*** ./dist/esm/src/draggable/DragZone.mjs ***!
  \*********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony import */ var _component_Base_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component/Base.mjs */ "./dist/esm/src/component/Base.mjs");
/* harmony import */ var _DragProxyComponent_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DragProxyComponent.mjs */ "./dist/esm/src/draggable/DragProxyComponent.mjs");
/* harmony import */ var _DragProxyContainer_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DragProxyContainer.mjs */ "./dist/esm/src/draggable/DragProxyContainer.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _core_Observable_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/Observable.mjs */ "./dist/esm/src/core/Observable.mjs");
/* harmony import */ var _util_VDom_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util/VDom.mjs */ "./dist/esm/src/util/VDom.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static observable=!0;static config={className:"Neo.draggable.DragZone",ntype:"dragzone",addDragProxyCls:!0,allowOverdrag:!1,alwaysFireDragMove:!1,appName_:null,bodyCursorStyle:null,boundaryContainerId:null,boundaryContainerRect:null,data:null,dragElement:null,dragElementRect:null,dragProxy:null,dragProxyConfig_:null,dragProxyCls:"neo-dragproxy",dropZoneIdentifier:null,moveHorizontal:!0,moveInMainThread:!0,moveVertical:!0,offsetX:0,offsetY:0,owner:null,proxyParentId_:"document.body",scrollContainerId:null,scrollFactorLeft:1,scrollFactorTop:1,useProxyWrapper:!0,windowId_:null};construct(e){super.construct(e),Neo.main.addon.DragDrop||console.error("You can not use Neo.draggable.DragZone without adding Neo.main.addon.DragDrop to the main thread addons",this.id)}afterSetWindowId(e,r){e&&Neo.currentWorker.insertThemeFiles(e,this.__proto__)}beforeGetDragProxyConfig(e){return Neo.clone(e,!0,!0)}async createDragProxy(e,n=!0){let l,i,s=this,g=Neo.getComponent(s.getDragElementRoot().id)||s.owner,c=s.dragElementRect,m=s.dragProxyConfig||{},p=m.module===_DragProxyContainer_mjs__WEBPACK_IMPORTED_MODULE_3__["default"],h=m.vdom,u=!p&&_util_VDom_mjs__WEBPACK_IMPORTED_MODULE_6__["default"].clone(h||s.dragElement);if(l={module:_DragProxyComponent_mjs__WEBPACK_IMPORTED_MODULE_2__["default"],appName:s.appName,moveInMainThread:s.moveInMainThread,parentId:s.proxyParentId,windowId:s.windowId,...m},p?(l.height=`${e.height}px`,l.items=[],l.parentComponent=s.owner,l.width=`${e.width}px`,l.cls=l.cls||[],l.cls.push("neo-draggable")):(l.vdom=s.useProxyWrapper?{cn:[u]}:u,u.cls&&!s.useProxyWrapper&&(l.cls=l.cls||[],l.cls.push(...u.cls))),l.cls=l.cls||[],g&&l.cls.push(g.getTheme()),s.addDragProxyCls&&l.cls&&_util_Array_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].add(l.cls,s.dragProxyCls),l.style=l.style||{},Object.assign(l.style,{height:`${e.height}px`,left:`${s.moveHorizontal?e.x:c.x}px`,top:`${s.moveVertical?e.y:c.y}px`,width:`${e.width}px`}),n){if(p&&(l.autoInitVnode=!0,l.autoMount=!0),s.dragProxy=i=Neo.create(l),p){await i.mountedPromise,s.dragPlaceholder=Neo.create({module:_component_Base_mjs__WEBPACK_IMPORTED_MODULE_1__["default"],flex:g.flex,style:{height:`${e.height}px`,visibility:"hidden",width:`${e.width}px`}}),g.minHeight&&(s.dragPlaceholder.minHeight=g.minHeight),g.minWidth&&(s.dragPlaceholder.minWidth=g.minWidth),s.dragStartIndex=s.owner.items.indexOf(g);const{vnode:o}=await Neo.vdom.Helper.create({vdom:s.dragPlaceholder.vdom});await Neo.applyDeltas(s.windowId,[{action:"insertNode",index:s.dragStartIndex,parentId:s.owner.getVdomItemsRoot().id,vnode:o},{action:"moveNode",id:g.id,index:0,parentId:i.id}]),s.dragPlaceholder.set({vnode:o,mounted:!0,vnodeInitialized:!0})}return i}return l}destroyDragProxy(){let e=this,r=e.dragProxy.id;e.timeout(e.moveInMainThread?0:30).then(()=>{Neo.applyDeltas(e.windowId,[{action:"removeNode",id:r}])}),e.dragProxy.destroy()}dragEnd(e){let r=this,{owner:o}=r,{cls:t}=o;_util_Array_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].remove(t,"neo-is-dragging"),o.cls=t,r.dragProxy&&(r.dragPlaceholder&&(r.dragPlaceholder.destroy(),r.dragPlaceholder=null),r.destroyDragProxy(),r.dragProxy=null),Object.assign(r,{dragElementRect:null,dragStartIndex:null,offsetX:0,offsetY:0,scrollContainerId:null}),r.fire("dragEnd",e),r.resetData()}dragMove(e,r=!1){let o,t=this;t.moveInMainThread&&!r||!t.dragProxy||(o=t.dragProxy.style,t.moveHorizontal&&(o.left=e.clientX-t.offsetX+"px"),t.moveVertical&&(o.top=e.clientY-t.offsetY+"px"),t.dragProxy.style=o),t.fire("dragMove",e)}async dragStart(e){let r,o,t,n=this,{appName:d,owner:l,windowId:i}=n,{cls:s}=l,g=n.getDragElementRect(e);n.setData(),r=await Neo.main.addon.DragDrop.setConfigs({appName:d,windowId:i,...n.getMainThreadConfigs()}),n.boundaryContainerRect=r.boundaryContainerRect,_util_Array_mjs__WEBPACK_IMPORTED_MODULE_4__["default"].add(s,"neo-is-dragging"),l.cls=s,o=e.clientX-g.left,t=e.clientY-g.top,Object.assign(n,{dragElementRect:g,offsetX:o,offsetY:t}),await n.createDragProxy(g),n.fire("dragStart",{clientX:e.clientX,clientY:e.clientY,dragElementRect:g,eventData:e,id:n.id,offsetX:o,offsetY:t})}getDragElementRect(e){let r=this.getDragElementRoot().id;for(let o of e.path)if(o.id===r)return o.rect;for(let o of e.targetPath)if(o.id===r)return o.rect;return null}getDragElementRoot(){return this.dragElement}getMainThreadConfigs(){let e=this;return{allowOverdrag:e.allowOverdrag,alwaysFireDragMove:e.alwaysFireDragMove,bodyCursorStyle:e.bodyCursorStyle,boundaryContainerId:e.boundaryContainerId,dragElementRootId:e.getDragElementRoot().id,dragProxyCls:e.dragProxyCls,dragZoneId:e.id,dropZoneIdentifier:e.dropZoneIdentifier,moveHorizontal:e.moveHorizontal,moveVertical:e.moveVertical,scrollContainerId:e.scrollContainerId,scrollFactorLeft:e.scrollFactorLeft,scrollFactorTop:e.scrollFactorTop}}onDrop(e){this.fire("drop",e)}onDropEnter(e){this.fire("drop:enter",e)}onDropLeave(e){this.fire("drop:leave",e)}resetData(){this.timeout(50).then(()=>{this.data=null})}setData(e={}){let r=this;r.data={dragElement:r.getDragElementRoot(),dragZoneId:r.id,...e}}}));

/***/ },

/***/ "./dist/esm/src/plugin/Base.mjs"
/*!**************************************!*\
  !*** ./dist/esm/src/plugin/Base.mjs ***!
  \**************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Base.mjs */ "./dist/esm/src/core/Base.mjs");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(class extends _core_Base_mjs__WEBPACK_IMPORTED_MODULE_0__["default"]{static config={className:"Neo.plugin.Base",ntype:"plugin",owner:null,windowId_:null};construct(e){super.construct(e);let n=this,{owner:o}=n;o.isConstructed?n.onOwnerConstructed():o.on("constructed",()=>{n.onOwnerConstructed()},n,{once:!0}),o.mounted?n.onOwnerMounted():o.on("mounted",n.onOwnerMounted,n)}afterSetWindowId(e,n){e&&Neo.currentWorker.insertThemeFiles(e,this.__proto__)}onOwnerConstructed(){let{owner:e}=this;e.windowId&&(this.windowId=e.windowId)}onOwnerMounted(){}}));

/***/ },

/***/ "./dist/esm/src/plugin/Resizable.mjs"
/*!*******************************************!*\
  !*** ./dist/esm/src/plugin/Resizable.mjs ***!
  \*******************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _draggable_DragZone_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../draggable/DragZone.mjs */ "./dist/esm/src/draggable/DragZone.mjs");
/* harmony import */ var _util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Array.mjs */ "./dist/esm/src/util/Array.mjs");
/* harmony import */ var _Base_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Base.mjs */ "./dist/esm/src/plugin/Base.mjs");
class n extends _Base_mjs__WEBPACK_IMPORTED_MODULE_2__["default"]{static cursorPositions=["s","sw","se","w","e","n","nw","ne"];static nameRegEx=/-([a-z])/g;static positions=["bottom","bottom-left","bottom-right","left","right","top","top-left","top-right"];static validDirections=["b","bl","br","l","r","t","tl","tr"];static config={className:"Neo.plugin.Resizable",ntype:"plugin-resizable",appName_:null,boundaryContainerId:"document.body",boundaryContainerRect:null,currentNodeName:null,delegationCls:null,directions_:["b","bl","br","l","r","t","tl","tr"],dragZone:null,dragZoneConfig:null,gap:10,initialRect:null,isDragging:!1,maxHeight:null,maxWidth:null,minHeight:200,minWidth:200,nodeBottom:null,nodeBottomLeft:null,nodeBottomRight:null,nodeLeft:null,nodeRight:null,nodeTop:null,nodeTopLeft:null,nodeTopRight:null,targetNode:null};construct(e){super.construct(e);let t=this;t.owner.addDomListeners([{"drag:end":t.onDragEnd,scope:t,delegate:".neo-resizable"},{"drag:move":t.onDragMove,scope:t,delegate:".neo-resizable"},{"drag:start":t.onDragStart,scope:t,delegate:".neo-resizable"},{mousedown:t.onMouseDown,scope:t,delegate:".neo-resizable"},{mousemove:t.onMouseMove,scope:t,local:!0},{mouseleave:t.onMouseLeave,scope:t,delegate:`.${t.delegationCls}`},{mouseup:t.onMouseUp,scope:t,delegate:".neo-resizable"}])}addBodyCursorCls(){Neo.applyDeltas(this.windowId,{id:"document.body",cls:{add:[`neo-cursor-${n.cursorPositions[n.positions.indexOf(this.currentNodeName)]}-resize`],remove:[]}})}addNode(e){let t=this,o="node"+Neo.capitalize(e.replace(n.nameRegEx,(e,t)=>t.toUpperCase())),{targetNode:r}=t;return!!r&&(t.currentNodeName=e,t[o]={cls:["neo-resizable",`neo-resizable-${e}`]},r.cn=r.cn||[],r.cn.push(t[o]),!0)}afterSetAppName(e,t){this.dragZone&&(this.dragZone.appName=e)}afterSetWindowId(e,t){let o=this;e&&Neo.currentWorker.insertThemeFiles(e,o.__proto__),o.dragZone&&(o.dragZone.windowId=e)}beforeSetDirections(e,t){if(Array.isArray(e)){let o=0,n=e.length;for(;o<n;o++)if(this.beforeSetEnumValue(e[o],t,"directions","validDirections")!==e[o])return t}return e}onDragEnd(e){let t=this,{owner:o}=t,n=o.wrapperStyle;Object.assign(t,{boundaryContainerRect:null,initialRect:null,isDragging:!1}),Object.assign(n,{opacity:1,transform:"none",...t.dragZone.dragProxy.wrapperStyle}),o.wrapperStyle=n,t.removeBodyCursorCls(),t.dragZone.dragEnd(),t.removeAllNodes(),o.focus(o.id,!0)}onDragMove(e){let t,o,n,r=this,i=r.currentNodeName,a=r.boundaryContainerRect,{maxHeight:d,maxWidth:l,minHeight:s,minWidth:g}=r,m=r.initialRect;i?r.dragZone.dragProxy&&(n=r.dragZone.dragProxy.wrapperStyle,i.includes("bottom")?(o=Math.max(s,e.clientY-m.top),d&&(o=Math.min(o,d)),a&&(o=Math.min(o,a.bottom-m.top)),n.height=`${o}px`):i.includes("top")&&(t=Math.min(m.bottom-s,e.clientY),o=Math.max(s,m.height+m.top-e.clientY),d&&(t=Math.max(t,m.bottom-d),o=Math.min(o,d)),a&&(t=Math.max(t,a.top),o=Math.min(o,m.bottom-a.top)),n.height=`${o}px`,n.top=`${t}px`),i.includes("left")?(t=Math.min(m.right-g,e.clientX),o=Math.max(g,m.width+m.left-e.clientX),l&&(t=Math.max(t,m.right-l),o=Math.min(o,l)),a&&(t=Math.max(t,a.left),o=Math.min(o,m.right-a.left)),n.left=`${t}px`,n.width=`${o}px`):i.includes("right")&&(o=Math.max(g,m.width-m.right+e.clientX),l&&(o=Math.min(o,l)),a&&(o=Math.min(o,a.right-m.left)),n.width=`${o}px`),r.dragZone.dragProxy.wrapperStyle=n):r.onDragEnd({})}onDragStart(t){let o,n,r,i=this,a=i.boundaryContainerId,d=0,l=t.path.length,{appName:s,owner:g,windowId:m}=i,c=g.wrapperStyle;for(i.isDragging=!0,c.opacity=.3,g.wrapperStyle=c;d<l;d++)if(o=t.path[d],o.cls.includes(i.delegationCls)&&(i.initialRect=o.rect),a&&("document.body"===a&&"body"===o.tagName||a===o.id)){i.boundaryContainerRect=o.rect;break}i.boundaryContainerRect||g.getDomRect(i.boundaryContainerRect).then(e=>{i.boundaryContainerRect=e}),i.addBodyCursorCls(),i.dragZone?i.dragZone.boundaryContainerId=g.boundaryContainerId:(n=Neo.clone(g.vdom,!0),r=n.style,delete n.height,delete n.width,delete r.height,delete r.left,delete r.top,delete r.width,r.opacity=.7,i.dragZone=Neo.create({module:_draggable_DragZone_mjs__WEBPACK_IMPORTED_MODULE_0__["default"],appName:s,boundaryContainerId:g.boundaryContainerId,dragElement:n,moveInMainThread:!1,owner:g,windowId:m,...i.dragZoneConfig})),i.dragZone.dragStart(t)}onMouseDown(e){this.isDragging=!0}onMouseMove(e){let t,o,n,r,i,a=this,d=a.directions,l=0,{gap:s,owner:g,targetNode:m}=a,c=!1,u=e.path.length;if(!a.isDragging&&!g.isDragging){for(;l<u;l++)if(e.path[l].cls.includes(a.delegationCls)){r=e.path[l];break}r&&(r.id!==m?.id&&(m&&a.removeAllNodes(),a.targetNode=g.getVdomChild(r.id)),t=e.clientY>=r.rect.y-s+r.rect.height,o=e.clientX<=r.rect.x+s,n=e.clientX>=r.rect.x-s+r.rect.width,i=e.clientY<=r.rect.y+s,a.nodeBottom&&(!t||t&&o||t&&n)&&(c=a.removeNode("bottom")),a.nodeLeft&&(!o||t&&o||i&&o)&&(c=a.removeNode("left")),a.nodeRight&&(!n||t&&n||i&&n)&&(c=a.removeNode("right")),a.nodeTop&&(!i||i&&o||i&&n)&&(c=a.removeNode("top")),!a.nodeBottomLeft||t&&o||(c=a.removeNode("bottom-left")),!a.nodeBottomRight||t&&n||(c=a.removeNode("bottom-right")),!a.nodeTopLeft||i&&o||(c=a.removeNode("top-left")),!a.nodeTopRight||i&&n||(c=a.removeNode("top-right")),d.includes("bl")&&t&&o?a.nodeBottomLeft||(c=a.addNode("bottom-left")):d.includes("br")&&t&&n?a.nodeBottomRight||(c=a.addNode("bottom-right")):d.includes("tl")&&i&&o?a.nodeTopLeft||(c=a.addNode("top-left")):d.includes("tr")&&i&&n?a.nodeTopRight||(c=a.addNode("top-right")):d.includes("b")&&t?a.nodeBottom||(c=a.addNode("bottom")):d.includes("l")&&o?a.nodeLeft||(c=a.addNode("left")):d.includes("r")&&n?a.nodeRight||(c=a.addNode("right")):d.includes("t")&&i&&(a.nodeTop||(c=a.addNode("top"))),c&&g.update())}}onMouseLeave(e){let t=this;t.isDragging||t.owner.isDragging||e.path[0].cls.includes(t.delegationCls)&&t.removeAllNodes()}onMouseUp(e){this.isDragging=!1}removeAllNodes(){let e=this;e.currentNodeName&&(e.removeNode(e.currentNodeName),e.owner.update(),e.currentNodeName=null,e.targetNode=null)}removeBodyCursorCls(){Neo.applyDeltas(this.windowId,{id:"document.body",cls:{add:[],remove:[`neo-cursor-${n.cursorPositions[n.positions.indexOf(this.currentNodeName)]}-resize`]}})}removeNode(e){let o=this,r="node"+Neo.capitalize(e.replace(n.nameRegEx,(e,t)=>t.toUpperCase()));return!!o[r]&&(o.currentNodeName=null,_util_Array_mjs__WEBPACK_IMPORTED_MODULE_1__["default"].remove(o.targetNode.cn,o[r]),o[r]=null,!0)}}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Neo.setupClass(n));

/***/ }

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL2FwcC92ZW5kb3JzLWRpc3RfZXNtX3NyY19wbHVnaW5fUmVzaXphYmxlX21qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFxQyxpRUFBZSw2QkFBNkIsMkRBQUMsQ0FBQyxlQUFlLDRJQUE0SSxxQkFBcUIsd0RBQXdELElBQUksMEJBQTBCLE1BQU0sNkNBQTZDLDBCQUEwQixJQUFJLENBQUMsRTs7Ozs7Ozs7Ozs7Ozs7OztBQ0E5VixpRUFBZSw2QkFBNkIsMkRBQUMsQ0FBQyxlQUFlLGtLQUFrSyxxQkFBcUIsd0RBQXdELElBQUksMEJBQTBCLE1BQU0sNkNBQTZDLDBCQUEwQixHQUFHLHNCQUFzQixvRUFBb0UsK0RBQUMsWUFBWSxjQUFjLG1DQUFtQyxDQUFDLEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FwWSxpRUFBZSw2QkFBNkIsc0RBQUMsQ0FBQyxxQkFBcUIsZUFBZSxraUJBQWtpQixhQUFhLDZLQUE2SyxzQkFBc0Isd0RBQXdELDRCQUE0QiwwQkFBMEIsOEJBQThCLGlIQUFpSCxjQUFjLCtEQUFDLGdCQUFnQixzREFBQyx5QkFBeUIsTUFBTSxPQUFPLCtEQUFDLHlHQUF5RyxnQkFBZ0IsU0FBUyxvREFBb0QsUUFBUSw0RUFBNEUsT0FBTyw0SUFBNEksdURBQUMsOENBQThDLHdCQUF3QixVQUFVLFNBQVMsWUFBWSx5QkFBeUIsV0FBVyx1QkFBdUIsYUFBYSxRQUFRLElBQUksS0FBSyx5RUFBeUUscURBQXFELE9BQU8sMkRBQUMsb0JBQW9CLFVBQVUsU0FBUyxpQ0FBaUMsUUFBUSxLQUFLLHVKQUF1SixNQUFNLFFBQVEsK0JBQStCLDRCQUE0QixFQUFFLG1DQUFtQywwRkFBMEYsRUFBRSxnREFBZ0QsMEJBQTBCLHVDQUF1QyxFQUFFLFNBQVMsU0FBUyxtQkFBbUIsNEJBQTRCLDZDQUE2Qyw2QkFBNkIseUJBQXlCLEdBQUcsd0JBQXdCLFdBQVcsWUFBWSxRQUFRLElBQUksTUFBTSxHQUFHLHVEQUFDLG1MQUFtTCxvRkFBb0Ysb0NBQW9DLGlCQUFpQixhQUFhLDBNQUEwTSxtQkFBbUIsa0JBQWtCLDZCQUE2QixJQUFJLE1BQU0sNkJBQTZCLHdEQUF3RCxpREFBaUQsa0RBQWtELHVEQUFDLHdGQUF3RixzQ0FBc0MsaURBQWlELDhGQUE4RixFQUFFLHNCQUFzQixtQ0FBbUMsOENBQThDLG9EQUFvRCxZQUFZLHFCQUFxQix3QkFBd0IsdUJBQXVCLFdBQVcsT0FBTywyYkFBMmIsVUFBVSxvQkFBb0IsZUFBZSwwQkFBMEIsZUFBZSwwQkFBMEIsWUFBWSwyQkFBMkIsZUFBZSxFQUFFLFlBQVksRUFBRSxXQUFXLFFBQVEsMERBQTBELENBQUMsRTs7Ozs7Ozs7Ozs7Ozs7O0FDQTl6SixpRUFBZSw2QkFBNkIsc0RBQUMsQ0FBQyxlQUFlLHNFQUFzRSxhQUFhLG1CQUFtQixZQUFZLFFBQVEsR0FBRywrREFBK0QsdUJBQXVCLElBQUksUUFBUSxrRUFBa0Usc0JBQXNCLHdEQUF3RCxxQkFBcUIsSUFBSSxRQUFRLE1BQU0sdUNBQXVDLG1CQUFtQixDQUFDLEU7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQTFjLGdCQUFnQixpREFBQyxDQUFDLDZEQUE2RCw2QkFBNkIscUdBQXFHLDZEQUE2RCxlQUFlLHdmQUF3ZixhQUFhLG1CQUFtQixXQUFXLDBCQUEwQix5REFBeUQsRUFBRSwyREFBMkQsRUFBRSw2REFBNkQsRUFBRSwwREFBMEQsRUFBRSx5Q0FBeUMsRUFBRSwrQ0FBK0MsZ0JBQWdCLEVBQUUsRUFBRSxzREFBc0QsR0FBRyxtQkFBbUIsK0JBQStCLHdCQUF3QixtQkFBbUIsNkRBQTZELHFCQUFxQixFQUFFLFdBQVcsbUZBQW1GLGFBQWEsR0FBRyxzQ0FBc0Msc0NBQXNDLEVBQUUsR0FBRyxtQ0FBbUMscUJBQXFCLHlDQUF5QyxzQkFBc0IsV0FBVyx5RkFBeUYseUJBQXlCLHFCQUFxQixtQkFBbUIsS0FBSyxJQUFJLHNGQUFzRixTQUFTLGFBQWEsWUFBWSxRQUFRLG9CQUFvQixpQkFBaUIsMERBQTBELG1CQUFtQixnRUFBZ0Usb0dBQW9HLGNBQWMsZ0VBQWdFLDhDQUE4QyxtQkFBbUIsb0xBQW9MLEVBQUUsaU5BQWlOLEVBQUUsYUFBYSxFQUFFLDhNQUE4TSxFQUFFLGVBQWUsRUFBRSxxSUFBcUksRUFBRSx3REFBd0QsRUFBRSxlQUFlLDhEQUE4RCw2QkFBNkIsb0JBQW9CLGtEQUFrRCxJQUFJLG1JQUFtSSwrQkFBK0IsTUFBTSx3RUFBd0UsMEJBQTBCLHNQQUFzUCxPQUFPLCtEQUFDLDhIQUE4SCwyQkFBMkIsZUFBZSxtQkFBbUIsZUFBZSx5Q0FBeUMsMkJBQTJCLHdCQUF3QixpQ0FBaUMsS0FBSyxJQUFJLGdEQUFnRCxZQUFZLE1BQU0sOG5DQUE4bkMsZ0JBQWdCLFdBQVcsOEZBQThGLGFBQWEsbUJBQW1CLGlCQUFpQixXQUFXLCtHQUErRyxzQkFBc0IsK0JBQStCLHdCQUF3Qiw2QkFBNkIsNkRBQTZELFdBQVcsRUFBRSxjQUFjLGtGQUFrRixzQ0FBc0MsdURBQUMsNkNBQTZDLGlFQUFlLGlCQUFpQixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmVvLm1qcy8uL2Rpc3QvZXNtL3NyYy9kcmFnZ2FibGUvRHJhZ1Byb3h5Q29tcG9uZW50Lm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL2RyYWdnYWJsZS9EcmFnUHJveHlDb250YWluZXIubWpzIiwid2VicGFjazovL25lby5tanMvLi9kaXN0L2VzbS9zcmMvZHJhZ2dhYmxlL0RyYWdab25lLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL3BsdWdpbi9CYXNlLm1qcyIsIndlYnBhY2s6Ly9uZW8ubWpzLy4vZGlzdC9lc20vc3JjL3BsdWdpbi9SZXNpemFibGUubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlIGZyb21cIi4uL2NvbXBvbmVudC9CYXNlLm1qc1wiO2V4cG9ydCBkZWZhdWx0IE5lby5zZXR1cENsYXNzKGNsYXNzIGV4dGVuZHMgZXtzdGF0aWMgY29uZmlnPXtjbGFzc05hbWU6XCJOZW8uZHJhZ2dhYmxlLkRyYWdQcm94eUNvbXBvbmVudFwiLG50eXBlOlwiZHJhZ3Byb3h5XCIsYXV0b0luaXRWbm9kZTohMCxhdXRvTW91bnQ6ITAsYmFzZUNsczpbXCJuZW8tZHJhZ3Byb3h5XCJdLG1vdmVJbk1haW5UaHJlYWQ6ITB9O2FmdGVyU2V0TW91bnRlZChlLGEpe2lmKHN1cGVyLmFmdGVyU2V0TW91bnRlZChlLGEpLGUmJnRoaXMubW92ZUluTWFpblRocmVhZCl7bGV0e2FwcE5hbWU6ZSxpZDphLHdpbmRvd0lkOm99PXRoaXM7TmVvLm1haW4uYWRkb24uRHJhZ0Ryb3Auc2V0RHJhZ1Byb3h5RWxlbWVudCh7YXBwTmFtZTplLGlkOmEsd2luZG93SWQ6b30pfX19KTsiLCJpbXBvcnQgZSBmcm9tXCIuLi9jb250YWluZXIvQmFzZS5tanNcIjtpbXBvcnQgdCBmcm9tXCIuL0RyYWdQcm94eUNvbXBvbmVudC5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGV7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLmRyYWdnYWJsZS5EcmFnUHJveHlDb250YWluZXJcIixudHlwZTpcImRyYWdwcm94eWNvbnRhaW5lclwiLGF1dG9Jbml0Vm5vZGU6ITAsYXV0b01vdW50OiEwLGJhc2VDbHM6W1wibmVvLWRyYWdwcm94eVwiXSxsYXlvdXQ6XCJmaXRcIixtb3ZlSW5NYWluVGhyZWFkOiEwfTthZnRlclNldE1vdW50ZWQoZSx0KXtpZihzdXBlci5hZnRlclNldE1vdW50ZWQoZSx0KSxlJiZ0aGlzLm1vdmVJbk1haW5UaHJlYWQpe2xldHthcHBOYW1lOmUsaWQ6dCx3aW5kb3dJZDpvfT10aGlzO05lby5tYWluLmFkZG9uLkRyYWdEcm9wLnNldERyYWdQcm94eUVsZW1lbnQoe2FwcE5hbWU6ZSxpZDp0LHdpbmRvd0lkOm99KX19YWZ0ZXJTZXRXaW5kb3dJZChlLG8pe3N1cGVyLmFmdGVyU2V0V2luZG93SWQoZSxvKSxlJiZOZW8uY3VycmVudFdvcmtlci5pbnNlcnRUaGVtZUZpbGVzKGUsdC5wcm90b3R5cGUpfWRlc3Ryb3koLi4uZSl7dGhpcy5pdGVtcz1bXSxzdXBlci5kZXN0cm95KC4uLmUpfX0pOyIsImltcG9ydCBlIGZyb21cIi4uL2NvcmUvQmFzZS5tanNcIjtpbXBvcnQgciBmcm9tXCIuLi9jb21wb25lbnQvQmFzZS5tanNcIjtpbXBvcnQgbyBmcm9tXCIuL0RyYWdQcm94eUNvbXBvbmVudC5tanNcIjtpbXBvcnQgdCBmcm9tXCIuL0RyYWdQcm94eUNvbnRhaW5lci5tanNcIjtpbXBvcnQgYSBmcm9tXCIuLi91dGlsL0FycmF5Lm1qc1wiO2ltcG9ydCBuIGZyb21cIi4uL2NvcmUvT2JzZXJ2YWJsZS5tanNcIjtpbXBvcnQgZCBmcm9tXCIuLi91dGlsL1ZEb20ubWpzXCI7ZXhwb3J0IGRlZmF1bHQgTmVvLnNldHVwQ2xhc3MoY2xhc3MgZXh0ZW5kcyBle3N0YXRpYyBvYnNlcnZhYmxlPSEwO3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5kcmFnZ2FibGUuRHJhZ1pvbmVcIixudHlwZTpcImRyYWd6b25lXCIsYWRkRHJhZ1Byb3h5Q2xzOiEwLGFsbG93T3ZlcmRyYWc6ITEsYWx3YXlzRmlyZURyYWdNb3ZlOiExLGFwcE5hbWVfOm51bGwsYm9keUN1cnNvclN0eWxlOm51bGwsYm91bmRhcnlDb250YWluZXJJZDpudWxsLGJvdW5kYXJ5Q29udGFpbmVyUmVjdDpudWxsLGRhdGE6bnVsbCxkcmFnRWxlbWVudDpudWxsLGRyYWdFbGVtZW50UmVjdDpudWxsLGRyYWdQcm94eTpudWxsLGRyYWdQcm94eUNvbmZpZ186bnVsbCxkcmFnUHJveHlDbHM6XCJuZW8tZHJhZ3Byb3h5XCIsZHJvcFpvbmVJZGVudGlmaWVyOm51bGwsbW92ZUhvcml6b250YWw6ITAsbW92ZUluTWFpblRocmVhZDohMCxtb3ZlVmVydGljYWw6ITAsb2Zmc2V0WDowLG9mZnNldFk6MCxvd25lcjpudWxsLHByb3h5UGFyZW50SWRfOlwiZG9jdW1lbnQuYm9keVwiLHNjcm9sbENvbnRhaW5lcklkOm51bGwsc2Nyb2xsRmFjdG9yTGVmdDoxLHNjcm9sbEZhY3RvclRvcDoxLHVzZVByb3h5V3JhcHBlcjohMCx3aW5kb3dJZF86bnVsbH07Y29uc3RydWN0KGUpe3N1cGVyLmNvbnN0cnVjdChlKSxOZW8ubWFpbi5hZGRvbi5EcmFnRHJvcHx8Y29uc29sZS5lcnJvcihcIllvdSBjYW4gbm90IHVzZSBOZW8uZHJhZ2dhYmxlLkRyYWdab25lIHdpdGhvdXQgYWRkaW5nIE5lby5tYWluLmFkZG9uLkRyYWdEcm9wIHRvIHRoZSBtYWluIHRocmVhZCBhZGRvbnNcIix0aGlzLmlkKX1hZnRlclNldFdpbmRvd0lkKGUscil7ZSYmTmVvLmN1cnJlbnRXb3JrZXIuaW5zZXJ0VGhlbWVGaWxlcyhlLHRoaXMuX19wcm90b19fKX1iZWZvcmVHZXREcmFnUHJveHlDb25maWcoZSl7cmV0dXJuIE5lby5jbG9uZShlLCEwLCEwKX1hc3luYyBjcmVhdGVEcmFnUHJveHkoZSxuPSEwKXtsZXQgbCxpLHM9dGhpcyxnPU5lby5nZXRDb21wb25lbnQocy5nZXREcmFnRWxlbWVudFJvb3QoKS5pZCl8fHMub3duZXIsYz1zLmRyYWdFbGVtZW50UmVjdCxtPXMuZHJhZ1Byb3h5Q29uZmlnfHx7fSxwPW0ubW9kdWxlPT09dCxoPW0udmRvbSx1PSFwJiZkLmNsb25lKGh8fHMuZHJhZ0VsZW1lbnQpO2lmKGw9e21vZHVsZTpvLGFwcE5hbWU6cy5hcHBOYW1lLG1vdmVJbk1haW5UaHJlYWQ6cy5tb3ZlSW5NYWluVGhyZWFkLHBhcmVudElkOnMucHJveHlQYXJlbnRJZCx3aW5kb3dJZDpzLndpbmRvd0lkLC4uLm19LHA/KGwuaGVpZ2h0PWAke2UuaGVpZ2h0fXB4YCxsLml0ZW1zPVtdLGwucGFyZW50Q29tcG9uZW50PXMub3duZXIsbC53aWR0aD1gJHtlLndpZHRofXB4YCxsLmNscz1sLmNsc3x8W10sbC5jbHMucHVzaChcIm5lby1kcmFnZ2FibGVcIikpOihsLnZkb209cy51c2VQcm94eVdyYXBwZXI/e2NuOlt1XX06dSx1LmNscyYmIXMudXNlUHJveHlXcmFwcGVyJiYobC5jbHM9bC5jbHN8fFtdLGwuY2xzLnB1c2goLi4udS5jbHMpKSksbC5jbHM9bC5jbHN8fFtdLGcmJmwuY2xzLnB1c2goZy5nZXRUaGVtZSgpKSxzLmFkZERyYWdQcm94eUNscyYmbC5jbHMmJmEuYWRkKGwuY2xzLHMuZHJhZ1Byb3h5Q2xzKSxsLnN0eWxlPWwuc3R5bGV8fHt9LE9iamVjdC5hc3NpZ24obC5zdHlsZSx7aGVpZ2h0OmAke2UuaGVpZ2h0fXB4YCxsZWZ0OmAke3MubW92ZUhvcml6b250YWw/ZS54OmMueH1weGAsdG9wOmAke3MubW92ZVZlcnRpY2FsP2UueTpjLnl9cHhgLHdpZHRoOmAke2Uud2lkdGh9cHhgfSksbil7aWYocCYmKGwuYXV0b0luaXRWbm9kZT0hMCxsLmF1dG9Nb3VudD0hMCkscy5kcmFnUHJveHk9aT1OZW8uY3JlYXRlKGwpLHApe2F3YWl0IGkubW91bnRlZFByb21pc2Uscy5kcmFnUGxhY2Vob2xkZXI9TmVvLmNyZWF0ZSh7bW9kdWxlOnIsZmxleDpnLmZsZXgsc3R5bGU6e2hlaWdodDpgJHtlLmhlaWdodH1weGAsdmlzaWJpbGl0eTpcImhpZGRlblwiLHdpZHRoOmAke2Uud2lkdGh9cHhgfX0pLGcubWluSGVpZ2h0JiYocy5kcmFnUGxhY2Vob2xkZXIubWluSGVpZ2h0PWcubWluSGVpZ2h0KSxnLm1pbldpZHRoJiYocy5kcmFnUGxhY2Vob2xkZXIubWluV2lkdGg9Zy5taW5XaWR0aCkscy5kcmFnU3RhcnRJbmRleD1zLm93bmVyLml0ZW1zLmluZGV4T2YoZyk7Y29uc3R7dm5vZGU6b309YXdhaXQgTmVvLnZkb20uSGVscGVyLmNyZWF0ZSh7dmRvbTpzLmRyYWdQbGFjZWhvbGRlci52ZG9tfSk7YXdhaXQgTmVvLmFwcGx5RGVsdGFzKHMud2luZG93SWQsW3thY3Rpb246XCJpbnNlcnROb2RlXCIsaW5kZXg6cy5kcmFnU3RhcnRJbmRleCxwYXJlbnRJZDpzLm93bmVyLmdldFZkb21JdGVtc1Jvb3QoKS5pZCx2bm9kZTpvfSx7YWN0aW9uOlwibW92ZU5vZGVcIixpZDpnLmlkLGluZGV4OjAscGFyZW50SWQ6aS5pZH1dKSxzLmRyYWdQbGFjZWhvbGRlci5zZXQoe3Zub2RlOm8sbW91bnRlZDohMCx2bm9kZUluaXRpYWxpemVkOiEwfSl9cmV0dXJuIGl9cmV0dXJuIGx9ZGVzdHJveURyYWdQcm94eSgpe2xldCBlPXRoaXMscj1lLmRyYWdQcm94eS5pZDtlLnRpbWVvdXQoZS5tb3ZlSW5NYWluVGhyZWFkPzA6MzApLnRoZW4oKCk9PntOZW8uYXBwbHlEZWx0YXMoZS53aW5kb3dJZCxbe2FjdGlvbjpcInJlbW92ZU5vZGVcIixpZDpyfV0pfSksZS5kcmFnUHJveHkuZGVzdHJveSgpfWRyYWdFbmQoZSl7bGV0IHI9dGhpcyx7b3duZXI6b309cix7Y2xzOnR9PW87YS5yZW1vdmUodCxcIm5lby1pcy1kcmFnZ2luZ1wiKSxvLmNscz10LHIuZHJhZ1Byb3h5JiYoci5kcmFnUGxhY2Vob2xkZXImJihyLmRyYWdQbGFjZWhvbGRlci5kZXN0cm95KCksci5kcmFnUGxhY2Vob2xkZXI9bnVsbCksci5kZXN0cm95RHJhZ1Byb3h5KCksci5kcmFnUHJveHk9bnVsbCksT2JqZWN0LmFzc2lnbihyLHtkcmFnRWxlbWVudFJlY3Q6bnVsbCxkcmFnU3RhcnRJbmRleDpudWxsLG9mZnNldFg6MCxvZmZzZXRZOjAsc2Nyb2xsQ29udGFpbmVySWQ6bnVsbH0pLHIuZmlyZShcImRyYWdFbmRcIixlKSxyLnJlc2V0RGF0YSgpfWRyYWdNb3ZlKGUscj0hMSl7bGV0IG8sdD10aGlzO3QubW92ZUluTWFpblRocmVhZCYmIXJ8fCF0LmRyYWdQcm94eXx8KG89dC5kcmFnUHJveHkuc3R5bGUsdC5tb3ZlSG9yaXpvbnRhbCYmKG8ubGVmdD1lLmNsaWVudFgtdC5vZmZzZXRYK1wicHhcIiksdC5tb3ZlVmVydGljYWwmJihvLnRvcD1lLmNsaWVudFktdC5vZmZzZXRZK1wicHhcIiksdC5kcmFnUHJveHkuc3R5bGU9byksdC5maXJlKFwiZHJhZ01vdmVcIixlKX1hc3luYyBkcmFnU3RhcnQoZSl7bGV0IHIsbyx0LG49dGhpcyx7YXBwTmFtZTpkLG93bmVyOmwsd2luZG93SWQ6aX09bix7Y2xzOnN9PWwsZz1uLmdldERyYWdFbGVtZW50UmVjdChlKTtuLnNldERhdGEoKSxyPWF3YWl0IE5lby5tYWluLmFkZG9uLkRyYWdEcm9wLnNldENvbmZpZ3Moe2FwcE5hbWU6ZCx3aW5kb3dJZDppLC4uLm4uZ2V0TWFpblRocmVhZENvbmZpZ3MoKX0pLG4uYm91bmRhcnlDb250YWluZXJSZWN0PXIuYm91bmRhcnlDb250YWluZXJSZWN0LGEuYWRkKHMsXCJuZW8taXMtZHJhZ2dpbmdcIiksbC5jbHM9cyxvPWUuY2xpZW50WC1nLmxlZnQsdD1lLmNsaWVudFktZy50b3AsT2JqZWN0LmFzc2lnbihuLHtkcmFnRWxlbWVudFJlY3Q6ZyxvZmZzZXRYOm8sb2Zmc2V0WTp0fSksYXdhaXQgbi5jcmVhdGVEcmFnUHJveHkoZyksbi5maXJlKFwiZHJhZ1N0YXJ0XCIse2NsaWVudFg6ZS5jbGllbnRYLGNsaWVudFk6ZS5jbGllbnRZLGRyYWdFbGVtZW50UmVjdDpnLGV2ZW50RGF0YTplLGlkOm4uaWQsb2Zmc2V0WDpvLG9mZnNldFk6dH0pfWdldERyYWdFbGVtZW50UmVjdChlKXtsZXQgcj10aGlzLmdldERyYWdFbGVtZW50Um9vdCgpLmlkO2ZvcihsZXQgbyBvZiBlLnBhdGgpaWYoby5pZD09PXIpcmV0dXJuIG8ucmVjdDtmb3IobGV0IG8gb2YgZS50YXJnZXRQYXRoKWlmKG8uaWQ9PT1yKXJldHVybiBvLnJlY3Q7cmV0dXJuIG51bGx9Z2V0RHJhZ0VsZW1lbnRSb290KCl7cmV0dXJuIHRoaXMuZHJhZ0VsZW1lbnR9Z2V0TWFpblRocmVhZENvbmZpZ3MoKXtsZXQgZT10aGlzO3JldHVybnthbGxvd092ZXJkcmFnOmUuYWxsb3dPdmVyZHJhZyxhbHdheXNGaXJlRHJhZ01vdmU6ZS5hbHdheXNGaXJlRHJhZ01vdmUsYm9keUN1cnNvclN0eWxlOmUuYm9keUN1cnNvclN0eWxlLGJvdW5kYXJ5Q29udGFpbmVySWQ6ZS5ib3VuZGFyeUNvbnRhaW5lcklkLGRyYWdFbGVtZW50Um9vdElkOmUuZ2V0RHJhZ0VsZW1lbnRSb290KCkuaWQsZHJhZ1Byb3h5Q2xzOmUuZHJhZ1Byb3h5Q2xzLGRyYWdab25lSWQ6ZS5pZCxkcm9wWm9uZUlkZW50aWZpZXI6ZS5kcm9wWm9uZUlkZW50aWZpZXIsbW92ZUhvcml6b250YWw6ZS5tb3ZlSG9yaXpvbnRhbCxtb3ZlVmVydGljYWw6ZS5tb3ZlVmVydGljYWwsc2Nyb2xsQ29udGFpbmVySWQ6ZS5zY3JvbGxDb250YWluZXJJZCxzY3JvbGxGYWN0b3JMZWZ0OmUuc2Nyb2xsRmFjdG9yTGVmdCxzY3JvbGxGYWN0b3JUb3A6ZS5zY3JvbGxGYWN0b3JUb3B9fW9uRHJvcChlKXt0aGlzLmZpcmUoXCJkcm9wXCIsZSl9b25Ecm9wRW50ZXIoZSl7dGhpcy5maXJlKFwiZHJvcDplbnRlclwiLGUpfW9uRHJvcExlYXZlKGUpe3RoaXMuZmlyZShcImRyb3A6bGVhdmVcIixlKX1yZXNldERhdGEoKXt0aGlzLnRpbWVvdXQoNTApLnRoZW4oKCk9Pnt0aGlzLmRhdGE9bnVsbH0pfXNldERhdGEoZT17fSl7bGV0IHI9dGhpcztyLmRhdGE9e2RyYWdFbGVtZW50OnIuZ2V0RHJhZ0VsZW1lbnRSb290KCksZHJhZ1pvbmVJZDpyLmlkLC4uLmV9fX0pOyIsImltcG9ydCBlIGZyb21cIi4uL2NvcmUvQmFzZS5tanNcIjtleHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhjbGFzcyBleHRlbmRzIGV7c3RhdGljIGNvbmZpZz17Y2xhc3NOYW1lOlwiTmVvLnBsdWdpbi5CYXNlXCIsbnR5cGU6XCJwbHVnaW5cIixvd25lcjpudWxsLHdpbmRvd0lkXzpudWxsfTtjb25zdHJ1Y3QoZSl7c3VwZXIuY29uc3RydWN0KGUpO2xldCBuPXRoaXMse293bmVyOm99PW47by5pc0NvbnN0cnVjdGVkP24ub25Pd25lckNvbnN0cnVjdGVkKCk6by5vbihcImNvbnN0cnVjdGVkXCIsKCk9PntuLm9uT3duZXJDb25zdHJ1Y3RlZCgpfSxuLHtvbmNlOiEwfSksby5tb3VudGVkP24ub25Pd25lck1vdW50ZWQoKTpvLm9uKFwibW91bnRlZFwiLG4ub25Pd25lck1vdW50ZWQsbil9YWZ0ZXJTZXRXaW5kb3dJZChlLG4pe2UmJk5lby5jdXJyZW50V29ya2VyLmluc2VydFRoZW1lRmlsZXMoZSx0aGlzLl9fcHJvdG9fXyl9b25Pd25lckNvbnN0cnVjdGVkKCl7bGV0e293bmVyOmV9PXRoaXM7ZS53aW5kb3dJZCYmKHRoaXMud2luZG93SWQ9ZS53aW5kb3dJZCl9b25Pd25lck1vdW50ZWQoKXt9fSk7IiwiaW1wb3J0IGUgZnJvbVwiLi4vZHJhZ2dhYmxlL0RyYWdab25lLm1qc1wiO2ltcG9ydCB0IGZyb21cIi4uL3V0aWwvQXJyYXkubWpzXCI7aW1wb3J0IG8gZnJvbVwiLi9CYXNlLm1qc1wiO2NsYXNzIG4gZXh0ZW5kcyBve3N0YXRpYyBjdXJzb3JQb3NpdGlvbnM9W1wic1wiLFwic3dcIixcInNlXCIsXCJ3XCIsXCJlXCIsXCJuXCIsXCJud1wiLFwibmVcIl07c3RhdGljIG5hbWVSZWdFeD0vLShbYS16XSkvZztzdGF0aWMgcG9zaXRpb25zPVtcImJvdHRvbVwiLFwiYm90dG9tLWxlZnRcIixcImJvdHRvbS1yaWdodFwiLFwibGVmdFwiLFwicmlnaHRcIixcInRvcFwiLFwidG9wLWxlZnRcIixcInRvcC1yaWdodFwiXTtzdGF0aWMgdmFsaWREaXJlY3Rpb25zPVtcImJcIixcImJsXCIsXCJiclwiLFwibFwiLFwiclwiLFwidFwiLFwidGxcIixcInRyXCJdO3N0YXRpYyBjb25maWc9e2NsYXNzTmFtZTpcIk5lby5wbHVnaW4uUmVzaXphYmxlXCIsbnR5cGU6XCJwbHVnaW4tcmVzaXphYmxlXCIsYXBwTmFtZV86bnVsbCxib3VuZGFyeUNvbnRhaW5lcklkOlwiZG9jdW1lbnQuYm9keVwiLGJvdW5kYXJ5Q29udGFpbmVyUmVjdDpudWxsLGN1cnJlbnROb2RlTmFtZTpudWxsLGRlbGVnYXRpb25DbHM6bnVsbCxkaXJlY3Rpb25zXzpbXCJiXCIsXCJibFwiLFwiYnJcIixcImxcIixcInJcIixcInRcIixcInRsXCIsXCJ0clwiXSxkcmFnWm9uZTpudWxsLGRyYWdab25lQ29uZmlnOm51bGwsZ2FwOjEwLGluaXRpYWxSZWN0Om51bGwsaXNEcmFnZ2luZzohMSxtYXhIZWlnaHQ6bnVsbCxtYXhXaWR0aDpudWxsLG1pbkhlaWdodDoyMDAsbWluV2lkdGg6MjAwLG5vZGVCb3R0b206bnVsbCxub2RlQm90dG9tTGVmdDpudWxsLG5vZGVCb3R0b21SaWdodDpudWxsLG5vZGVMZWZ0Om51bGwsbm9kZVJpZ2h0Om51bGwsbm9kZVRvcDpudWxsLG5vZGVUb3BMZWZ0Om51bGwsbm9kZVRvcFJpZ2h0Om51bGwsdGFyZ2V0Tm9kZTpudWxsfTtjb25zdHJ1Y3QoZSl7c3VwZXIuY29uc3RydWN0KGUpO2xldCB0PXRoaXM7dC5vd25lci5hZGREb21MaXN0ZW5lcnMoW3tcImRyYWc6ZW5kXCI6dC5vbkRyYWdFbmQsc2NvcGU6dCxkZWxlZ2F0ZTpcIi5uZW8tcmVzaXphYmxlXCJ9LHtcImRyYWc6bW92ZVwiOnQub25EcmFnTW92ZSxzY29wZTp0LGRlbGVnYXRlOlwiLm5lby1yZXNpemFibGVcIn0se1wiZHJhZzpzdGFydFwiOnQub25EcmFnU3RhcnQsc2NvcGU6dCxkZWxlZ2F0ZTpcIi5uZW8tcmVzaXphYmxlXCJ9LHttb3VzZWRvd246dC5vbk1vdXNlRG93bixzY29wZTp0LGRlbGVnYXRlOlwiLm5lby1yZXNpemFibGVcIn0se21vdXNlbW92ZTp0Lm9uTW91c2VNb3ZlLHNjb3BlOnQsbG9jYWw6ITB9LHttb3VzZWxlYXZlOnQub25Nb3VzZUxlYXZlLHNjb3BlOnQsZGVsZWdhdGU6YC4ke3QuZGVsZWdhdGlvbkNsc31gfSx7bW91c2V1cDp0Lm9uTW91c2VVcCxzY29wZTp0LGRlbGVnYXRlOlwiLm5lby1yZXNpemFibGVcIn1dKX1hZGRCb2R5Q3Vyc29yQ2xzKCl7TmVvLmFwcGx5RGVsdGFzKHRoaXMud2luZG93SWQse2lkOlwiZG9jdW1lbnQuYm9keVwiLGNsczp7YWRkOltgbmVvLWN1cnNvci0ke24uY3Vyc29yUG9zaXRpb25zW24ucG9zaXRpb25zLmluZGV4T2YodGhpcy5jdXJyZW50Tm9kZU5hbWUpXX0tcmVzaXplYF0scmVtb3ZlOltdfX0pfWFkZE5vZGUoZSl7bGV0IHQ9dGhpcyxvPVwibm9kZVwiK05lby5jYXBpdGFsaXplKGUucmVwbGFjZShuLm5hbWVSZWdFeCwoZSx0KT0+dC50b1VwcGVyQ2FzZSgpKSkse3RhcmdldE5vZGU6cn09dDtyZXR1cm4hIXImJih0LmN1cnJlbnROb2RlTmFtZT1lLHRbb109e2NsczpbXCJuZW8tcmVzaXphYmxlXCIsYG5lby1yZXNpemFibGUtJHtlfWBdfSxyLmNuPXIuY258fFtdLHIuY24ucHVzaCh0W29dKSwhMCl9YWZ0ZXJTZXRBcHBOYW1lKGUsdCl7dGhpcy5kcmFnWm9uZSYmKHRoaXMuZHJhZ1pvbmUuYXBwTmFtZT1lKX1hZnRlclNldFdpbmRvd0lkKGUsdCl7bGV0IG89dGhpcztlJiZOZW8uY3VycmVudFdvcmtlci5pbnNlcnRUaGVtZUZpbGVzKGUsby5fX3Byb3RvX18pLG8uZHJhZ1pvbmUmJihvLmRyYWdab25lLndpbmRvd0lkPWUpfWJlZm9yZVNldERpcmVjdGlvbnMoZSx0KXtpZihBcnJheS5pc0FycmF5KGUpKXtsZXQgbz0wLG49ZS5sZW5ndGg7Zm9yKDtvPG47bysrKWlmKHRoaXMuYmVmb3JlU2V0RW51bVZhbHVlKGVbb10sdCxcImRpcmVjdGlvbnNcIixcInZhbGlkRGlyZWN0aW9uc1wiKSE9PWVbb10pcmV0dXJuIHR9cmV0dXJuIGV9b25EcmFnRW5kKGUpe2xldCB0PXRoaXMse293bmVyOm99PXQsbj1vLndyYXBwZXJTdHlsZTtPYmplY3QuYXNzaWduKHQse2JvdW5kYXJ5Q29udGFpbmVyUmVjdDpudWxsLGluaXRpYWxSZWN0Om51bGwsaXNEcmFnZ2luZzohMX0pLE9iamVjdC5hc3NpZ24obix7b3BhY2l0eToxLHRyYW5zZm9ybTpcIm5vbmVcIiwuLi50LmRyYWdab25lLmRyYWdQcm94eS53cmFwcGVyU3R5bGV9KSxvLndyYXBwZXJTdHlsZT1uLHQucmVtb3ZlQm9keUN1cnNvckNscygpLHQuZHJhZ1pvbmUuZHJhZ0VuZCgpLHQucmVtb3ZlQWxsTm9kZXMoKSxvLmZvY3VzKG8uaWQsITApfW9uRHJhZ01vdmUoZSl7bGV0IHQsbyxuLHI9dGhpcyxpPXIuY3VycmVudE5vZGVOYW1lLGE9ci5ib3VuZGFyeUNvbnRhaW5lclJlY3Qse21heEhlaWdodDpkLG1heFdpZHRoOmwsbWluSGVpZ2h0OnMsbWluV2lkdGg6Z309cixtPXIuaW5pdGlhbFJlY3Q7aT9yLmRyYWdab25lLmRyYWdQcm94eSYmKG49ci5kcmFnWm9uZS5kcmFnUHJveHkud3JhcHBlclN0eWxlLGkuaW5jbHVkZXMoXCJib3R0b21cIik/KG89TWF0aC5tYXgocyxlLmNsaWVudFktbS50b3ApLGQmJihvPU1hdGgubWluKG8sZCkpLGEmJihvPU1hdGgubWluKG8sYS5ib3R0b20tbS50b3ApKSxuLmhlaWdodD1gJHtvfXB4YCk6aS5pbmNsdWRlcyhcInRvcFwiKSYmKHQ9TWF0aC5taW4obS5ib3R0b20tcyxlLmNsaWVudFkpLG89TWF0aC5tYXgocyxtLmhlaWdodCttLnRvcC1lLmNsaWVudFkpLGQmJih0PU1hdGgubWF4KHQsbS5ib3R0b20tZCksbz1NYXRoLm1pbihvLGQpKSxhJiYodD1NYXRoLm1heCh0LGEudG9wKSxvPU1hdGgubWluKG8sbS5ib3R0b20tYS50b3ApKSxuLmhlaWdodD1gJHtvfXB4YCxuLnRvcD1gJHt0fXB4YCksaS5pbmNsdWRlcyhcImxlZnRcIik/KHQ9TWF0aC5taW4obS5yaWdodC1nLGUuY2xpZW50WCksbz1NYXRoLm1heChnLG0ud2lkdGgrbS5sZWZ0LWUuY2xpZW50WCksbCYmKHQ9TWF0aC5tYXgodCxtLnJpZ2h0LWwpLG89TWF0aC5taW4obyxsKSksYSYmKHQ9TWF0aC5tYXgodCxhLmxlZnQpLG89TWF0aC5taW4obyxtLnJpZ2h0LWEubGVmdCkpLG4ubGVmdD1gJHt0fXB4YCxuLndpZHRoPWAke299cHhgKTppLmluY2x1ZGVzKFwicmlnaHRcIikmJihvPU1hdGgubWF4KGcsbS53aWR0aC1tLnJpZ2h0K2UuY2xpZW50WCksbCYmKG89TWF0aC5taW4obyxsKSksYSYmKG89TWF0aC5taW4obyxhLnJpZ2h0LW0ubGVmdCkpLG4ud2lkdGg9YCR7b31weGApLHIuZHJhZ1pvbmUuZHJhZ1Byb3h5LndyYXBwZXJTdHlsZT1uKTpyLm9uRHJhZ0VuZCh7fSl9b25EcmFnU3RhcnQodCl7bGV0IG8sbixyLGk9dGhpcyxhPWkuYm91bmRhcnlDb250YWluZXJJZCxkPTAsbD10LnBhdGgubGVuZ3RoLHthcHBOYW1lOnMsb3duZXI6Zyx3aW5kb3dJZDptfT1pLGM9Zy53cmFwcGVyU3R5bGU7Zm9yKGkuaXNEcmFnZ2luZz0hMCxjLm9wYWNpdHk9LjMsZy53cmFwcGVyU3R5bGU9YztkPGw7ZCsrKWlmKG89dC5wYXRoW2RdLG8uY2xzLmluY2x1ZGVzKGkuZGVsZWdhdGlvbkNscykmJihpLmluaXRpYWxSZWN0PW8ucmVjdCksYSYmKFwiZG9jdW1lbnQuYm9keVwiPT09YSYmXCJib2R5XCI9PT1vLnRhZ05hbWV8fGE9PT1vLmlkKSl7aS5ib3VuZGFyeUNvbnRhaW5lclJlY3Q9by5yZWN0O2JyZWFrfWkuYm91bmRhcnlDb250YWluZXJSZWN0fHxnLmdldERvbVJlY3QoaS5ib3VuZGFyeUNvbnRhaW5lclJlY3QpLnRoZW4oZT0+e2kuYm91bmRhcnlDb250YWluZXJSZWN0PWV9KSxpLmFkZEJvZHlDdXJzb3JDbHMoKSxpLmRyYWdab25lP2kuZHJhZ1pvbmUuYm91bmRhcnlDb250YWluZXJJZD1nLmJvdW5kYXJ5Q29udGFpbmVySWQ6KG49TmVvLmNsb25lKGcudmRvbSwhMCkscj1uLnN0eWxlLGRlbGV0ZSBuLmhlaWdodCxkZWxldGUgbi53aWR0aCxkZWxldGUgci5oZWlnaHQsZGVsZXRlIHIubGVmdCxkZWxldGUgci50b3AsZGVsZXRlIHIud2lkdGgsci5vcGFjaXR5PS43LGkuZHJhZ1pvbmU9TmVvLmNyZWF0ZSh7bW9kdWxlOmUsYXBwTmFtZTpzLGJvdW5kYXJ5Q29udGFpbmVySWQ6Zy5ib3VuZGFyeUNvbnRhaW5lcklkLGRyYWdFbGVtZW50Om4sbW92ZUluTWFpblRocmVhZDohMSxvd25lcjpnLHdpbmRvd0lkOm0sLi4uaS5kcmFnWm9uZUNvbmZpZ30pKSxpLmRyYWdab25lLmRyYWdTdGFydCh0KX1vbk1vdXNlRG93bihlKXt0aGlzLmlzRHJhZ2dpbmc9ITB9b25Nb3VzZU1vdmUoZSl7bGV0IHQsbyxuLHIsaSxhPXRoaXMsZD1hLmRpcmVjdGlvbnMsbD0wLHtnYXA6cyxvd25lcjpnLHRhcmdldE5vZGU6bX09YSxjPSExLHU9ZS5wYXRoLmxlbmd0aDtpZighYS5pc0RyYWdnaW5nJiYhZy5pc0RyYWdnaW5nKXtmb3IoO2w8dTtsKyspaWYoZS5wYXRoW2xdLmNscy5pbmNsdWRlcyhhLmRlbGVnYXRpb25DbHMpKXtyPWUucGF0aFtsXTticmVha31yJiYoci5pZCE9PW0/LmlkJiYobSYmYS5yZW1vdmVBbGxOb2RlcygpLGEudGFyZ2V0Tm9kZT1nLmdldFZkb21DaGlsZChyLmlkKSksdD1lLmNsaWVudFk+PXIucmVjdC55LXMrci5yZWN0LmhlaWdodCxvPWUuY2xpZW50WDw9ci5yZWN0LngrcyxuPWUuY2xpZW50WD49ci5yZWN0LngtcytyLnJlY3Qud2lkdGgsaT1lLmNsaWVudFk8PXIucmVjdC55K3MsYS5ub2RlQm90dG9tJiYoIXR8fHQmJm98fHQmJm4pJiYoYz1hLnJlbW92ZU5vZGUoXCJib3R0b21cIikpLGEubm9kZUxlZnQmJighb3x8dCYmb3x8aSYmbykmJihjPWEucmVtb3ZlTm9kZShcImxlZnRcIikpLGEubm9kZVJpZ2h0JiYoIW58fHQmJm58fGkmJm4pJiYoYz1hLnJlbW92ZU5vZGUoXCJyaWdodFwiKSksYS5ub2RlVG9wJiYoIWl8fGkmJm98fGkmJm4pJiYoYz1hLnJlbW92ZU5vZGUoXCJ0b3BcIikpLCFhLm5vZGVCb3R0b21MZWZ0fHx0JiZvfHwoYz1hLnJlbW92ZU5vZGUoXCJib3R0b20tbGVmdFwiKSksIWEubm9kZUJvdHRvbVJpZ2h0fHx0JiZufHwoYz1hLnJlbW92ZU5vZGUoXCJib3R0b20tcmlnaHRcIikpLCFhLm5vZGVUb3BMZWZ0fHxpJiZvfHwoYz1hLnJlbW92ZU5vZGUoXCJ0b3AtbGVmdFwiKSksIWEubm9kZVRvcFJpZ2h0fHxpJiZufHwoYz1hLnJlbW92ZU5vZGUoXCJ0b3AtcmlnaHRcIikpLGQuaW5jbHVkZXMoXCJibFwiKSYmdCYmbz9hLm5vZGVCb3R0b21MZWZ0fHwoYz1hLmFkZE5vZGUoXCJib3R0b20tbGVmdFwiKSk6ZC5pbmNsdWRlcyhcImJyXCIpJiZ0JiZuP2Eubm9kZUJvdHRvbVJpZ2h0fHwoYz1hLmFkZE5vZGUoXCJib3R0b20tcmlnaHRcIikpOmQuaW5jbHVkZXMoXCJ0bFwiKSYmaSYmbz9hLm5vZGVUb3BMZWZ0fHwoYz1hLmFkZE5vZGUoXCJ0b3AtbGVmdFwiKSk6ZC5pbmNsdWRlcyhcInRyXCIpJiZpJiZuP2Eubm9kZVRvcFJpZ2h0fHwoYz1hLmFkZE5vZGUoXCJ0b3AtcmlnaHRcIikpOmQuaW5jbHVkZXMoXCJiXCIpJiZ0P2Eubm9kZUJvdHRvbXx8KGM9YS5hZGROb2RlKFwiYm90dG9tXCIpKTpkLmluY2x1ZGVzKFwibFwiKSYmbz9hLm5vZGVMZWZ0fHwoYz1hLmFkZE5vZGUoXCJsZWZ0XCIpKTpkLmluY2x1ZGVzKFwiclwiKSYmbj9hLm5vZGVSaWdodHx8KGM9YS5hZGROb2RlKFwicmlnaHRcIikpOmQuaW5jbHVkZXMoXCJ0XCIpJiZpJiYoYS5ub2RlVG9wfHwoYz1hLmFkZE5vZGUoXCJ0b3BcIikpKSxjJiZnLnVwZGF0ZSgpKX19b25Nb3VzZUxlYXZlKGUpe2xldCB0PXRoaXM7dC5pc0RyYWdnaW5nfHx0Lm93bmVyLmlzRHJhZ2dpbmd8fGUucGF0aFswXS5jbHMuaW5jbHVkZXModC5kZWxlZ2F0aW9uQ2xzKSYmdC5yZW1vdmVBbGxOb2RlcygpfW9uTW91c2VVcChlKXt0aGlzLmlzRHJhZ2dpbmc9ITF9cmVtb3ZlQWxsTm9kZXMoKXtsZXQgZT10aGlzO2UuY3VycmVudE5vZGVOYW1lJiYoZS5yZW1vdmVOb2RlKGUuY3VycmVudE5vZGVOYW1lKSxlLm93bmVyLnVwZGF0ZSgpLGUuY3VycmVudE5vZGVOYW1lPW51bGwsZS50YXJnZXROb2RlPW51bGwpfXJlbW92ZUJvZHlDdXJzb3JDbHMoKXtOZW8uYXBwbHlEZWx0YXModGhpcy53aW5kb3dJZCx7aWQ6XCJkb2N1bWVudC5ib2R5XCIsY2xzOnthZGQ6W10scmVtb3ZlOltgbmVvLWN1cnNvci0ke24uY3Vyc29yUG9zaXRpb25zW24ucG9zaXRpb25zLmluZGV4T2YodGhpcy5jdXJyZW50Tm9kZU5hbWUpXX0tcmVzaXplYF19fSl9cmVtb3ZlTm9kZShlKXtsZXQgbz10aGlzLHI9XCJub2RlXCIrTmVvLmNhcGl0YWxpemUoZS5yZXBsYWNlKG4ubmFtZVJlZ0V4LChlLHQpPT50LnRvVXBwZXJDYXNlKCkpKTtyZXR1cm4hIW9bcl0mJihvLmN1cnJlbnROb2RlTmFtZT1udWxsLHQucmVtb3ZlKG8udGFyZ2V0Tm9kZS5jbixvW3JdKSxvW3JdPW51bGwsITApfX1leHBvcnQgZGVmYXVsdCBOZW8uc2V0dXBDbGFzcyhuKTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9