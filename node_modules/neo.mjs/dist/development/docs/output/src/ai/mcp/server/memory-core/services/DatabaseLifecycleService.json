{"classData":[{"comment":"/**\n * @summary Manages the lifecycle of the ChromaDB process for the Memory Core.\n *\n * This service is responsible for starting, stopping, and monitoring the ChromaDB background process.\n * It handles the spawning of the `chroma` command, tracks the process ID (PID), and provides a mechanism\n * to ensure the database is running before other services attempt to connect. It also handles graceful shutdown.\n *\n * @class Neo.ai.mcp.server.memory-core.services.DatabaseLifecycleService\n * @extends Neo.core.Base\n * @singleton\n */","meta":{"filename":"DatabaseLifecycleService.mjs","lineno":6,"columnno":0,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/memory-core/services","code":{}},"summary":"Manages the lifecycle of the ChromaDB process for the Memory Core.\n\nThis service is responsible for starting, stopping, and monitoring the ChromaDB background process.\nIt handles the spawning of the `chroma` command, tracks the process ID (PID), and provides a mechanism\nto ensure the database is running before other services attempt to connect. It also handles graceful shutdown.","kind":"class","name":"DatabaseLifecycleService","augments":["Neo.core.Base"],"tags":[{"originalTitle":"singleton","title":"singleton","text":""}],"memberof":"Neo.ai.mcp.server.memory-core.services","longname":"Neo.ai.mcp.server.memory-core.services.DatabaseLifecycleService","scope":"static","$longname":"Neo.ai.mcp.server.memory-core.services.DatabaseLifecycleService","$kind":"class","id":6513,"neoClassName":"Neo.ai.mcp.server.memory-core.services.DatabaseLifecycleService"},{"comment":"/**\n     * True automatically applies the core.Observable mixin\n     * @member {Boolean} observable=true\n     * @static\n     */","meta":{"filename":"DatabaseLifecycleService.mjs","lineno":23,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/memory-core/services","code":{}},"description":"<p>True automatically applies the core.Observable mixin</p>\n","kind":"member","name":"observable","type":{"names":["Boolean"]},"defaultvalue":true,"scope":"static","longname":"observable","$longname":"observable","$kind":"property","id":6514,"neoClassName":"Neo.ai.mcp.server.memory-core.services.DatabaseLifecycleService"},{"comment":"/**\n         * @member {String} className='Neo.ai.mcp.server.memory-core.services.DatabaseLifecycleService'\n         * @protected\n         */","meta":{"filename":"DatabaseLifecycleService.mjs","lineno":30,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/memory-core/services","code":{}},"kind":"member","name":"className","type":{"names":["String"]},"defaultvalue":"'Neo.ai.mcp.server.memory-core.services.DatabaseLifecycleService'","access":"protected","longname":"className","scope":"global","$longname":"className","$kind":"property","id":6515,"neoClassName":"Neo.ai.mcp.server.memory-core.services.DatabaseLifecycleService"},{"comment":"/**\n         * Holds the child process object for the ChromaDB server.\n         * @member {ChildProcess|null} chromaProcess=null\n         * @protected\n         */","meta":{"filename":"DatabaseLifecycleService.mjs","lineno":36,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/memory-core/services","code":{}},"description":"<p>Holds the child process object for the ChromaDB server.</p>\n","kind":"member","name":"chromaProcess","type":{"names":["ChildProcess","null"]},"defaultvalue":null,"access":"protected","longname":"chromaProcess","scope":"global","$longname":"chromaProcess","$kind":"property","id":6516,"neoClassName":"Neo.ai.mcp.server.memory-core.services.DatabaseLifecycleService"},{"comment":"/**\n         * @member {Boolean} singleton=true\n         * @protected\n         */","meta":{"filename":"DatabaseLifecycleService.mjs","lineno":41,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/memory-core/services","code":{}},"kind":"member","name":"singleton","type":{"names":["Boolean"]},"defaultvalue":true,"access":"protected","longname":"singleton","scope":"global","$longname":"singleton","$kind":"property","id":6517,"neoClassName":"Neo.ai.mcp.server.memory-core.services.DatabaseLifecycleService"},{"comment":"/**\n     * @returns {Promise<void>}\n     */","meta":{"range":[1542,1636],"filename":"DatabaseLifecycleService.mjs","lineno":47,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/memory-core/services","code":{"id":"astnode100023238","name":"DatabaseLifecycleService#initAsync","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"returns":[{"type":{"names":["Promise.<void>"]}}],"name":"initAsync","longname":"DatabaseLifecycleService#initAsync","kind":"function","memberof":"DatabaseLifecycleService","scope":"instance","params":[],"async":true,"$longname":"DatabaseLifecycleService#initAsync","$kind":"method","id":6518,"neoClassName":"Neo.ai.mcp.server.memory-core.services.DatabaseLifecycleService"},{"comment":"/**\n     * Checks if a ChromaDB instance is already running on the configured port.\n     * @returns {Promise<boolean>}\n     */","meta":{"range":[1773,2030],"filename":"DatabaseLifecycleService.mjs","lineno":56,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/memory-core/services","code":{"id":"astnode100023254","name":"DatabaseLifecycleService#isDbRunning","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Checks if a ChromaDB instance is already running on the configured port.</p>\n","returns":[{"type":{"names":["Promise.<boolean>"]}}],"name":"isDbRunning","longname":"DatabaseLifecycleService#isDbRunning","kind":"function","memberof":"DatabaseLifecycleService","scope":"instance","params":[],"async":true,"$longname":"DatabaseLifecycleService#isDbRunning","$kind":"method","id":6519,"neoClassName":"Neo.ai.mcp.server.memory-core.services.DatabaseLifecycleService"},{"comment":"/**\n     * Manages the database lifecycle based on the provided action.\n     * @param {Object} params\n     * @param {String} params.action - 'start' or 'stop'\n     * @returns {Promise<Object>}\n     */","meta":{"range":[2241,2547],"filename":"DatabaseLifecycleService.mjs","lineno":72,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/memory-core/services","code":{"id":"astnode100023280","name":"DatabaseLifecycleService#manageDatabase","type":"MethodDefinition","paramnames":[""]},"vars":{"":null}},"description":"<p>Manages the database lifecycle based on the provided action.</p>\n","params":[{"type":{"names":["Object"]},"name":"params"},{"type":{"names":["String"]},"description":"<p>&#39;start&#39; or &#39;stop&#39;</p>\n","name":"params.action"}],"returns":[{"type":{"names":["Promise.<Object>"]}}],"name":"manageDatabase","longname":"DatabaseLifecycleService#manageDatabase","kind":"function","memberof":"DatabaseLifecycleService","scope":"instance","async":true,"$longname":"DatabaseLifecycleService#manageDatabase","$kind":"method","id":6520,"neoClassName":"Neo.ai.mcp.server.memory-core.services.DatabaseLifecycleService"},{"comment":"/**\n     * Starts the ChromaDB server as a background process, if not already running.\n     * @returns {Promise<object>} A promise that resolves with the status.\n     */","meta":{"range":[2727,5174],"filename":"DatabaseLifecycleService.mjs","lineno":86,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/memory-core/services","code":{"id":"astnode100023315","name":"DatabaseLifecycleService#startDatabase","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Starts the ChromaDB server as a background process, if not already running.</p>\n","returns":[{"type":{"names":["Promise.<object>"]},"description":"A promise that resolves with the status."}],"name":"startDatabase","longname":"DatabaseLifecycleService#startDatabase","kind":"function","memberof":"DatabaseLifecycleService","scope":"instance","params":[],"async":true,"$longname":"DatabaseLifecycleService#startDatabase","$kind":"method","id":6521,"neoClassName":"Neo.ai.mcp.server.memory-core.services.DatabaseLifecycleService"},{"comment":"/**\n     * Handles process termination signals to ensure the child process is killed.\n     * @param {string|number} signalOrCode\n     */","meta":{"range":[5321,6035],"filename":"DatabaseLifecycleService.mjs","lineno":150,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/memory-core/services","code":{"id":"astnode100023582","name":"DatabaseLifecycleService#cleanup","type":"MethodDefinition","paramnames":["signalOrCode"]},"vars":{"":null}},"description":"<p>Handles process termination signals to ensure the child process is killed.</p>\n","params":[{"type":{"names":["string","number"]},"name":"signalOrCode"}],"name":"cleanup","longname":"DatabaseLifecycleService#cleanup","kind":"function","memberof":"DatabaseLifecycleService","scope":"instance","async":true,"$longname":"DatabaseLifecycleService#cleanup","$kind":"method","id":6522,"neoClassName":"Neo.ai.mcp.server.memory-core.services.DatabaseLifecycleService"},{"comment":"/**\n     * Waits for the ChromaDB server to respond to a heartbeat.\n     * @returns {Promise<void>}\n     */","meta":{"range":[6153,6587],"filename":"DatabaseLifecycleService.mjs","lineno":173,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/memory-core/services","code":{"id":"astnode100023634","name":"DatabaseLifecycleService#waitForHeartbeat","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Waits for the ChromaDB server to respond to a heartbeat.</p>\n","returns":[{"type":{"names":["Promise.<void>"]}}],"name":"waitForHeartbeat","longname":"DatabaseLifecycleService#waitForHeartbeat","kind":"function","memberof":"DatabaseLifecycleService","scope":"instance","params":[],"async":true,"$longname":"DatabaseLifecycleService#waitForHeartbeat","$kind":"method","id":6523,"neoClassName":"Neo.ai.mcp.server.memory-core.services.DatabaseLifecycleService"},{"comment":"/**\n     * Stops the ChromaDB server process if it was started by this server.\n     * @returns {Promise<object>} A promise that resolves with the status.\n     */","meta":{"range":[6759,8220],"filename":"DatabaseLifecycleService.mjs","lineno":189,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/memory-core/services","code":{"id":"astnode100023683","name":"DatabaseLifecycleService#stopDatabase","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Stops the ChromaDB server process if it was started by this server.</p>\n","returns":[{"type":{"names":["Promise.<object>"]},"description":"A promise that resolves with the status."}],"name":"stopDatabase","longname":"DatabaseLifecycleService#stopDatabase","kind":"function","memberof":"DatabaseLifecycleService","scope":"instance","params":[],"async":true,"$longname":"DatabaseLifecycleService#stopDatabase","$kind":"method","id":6524,"neoClassName":"Neo.ai.mcp.server.memory-core.services.DatabaseLifecycleService"},{"comment":"/**\n     * Gets the status of the ChromaDB process.\n     * @returns {object} The status of the ChromaDB process.\n     */","meta":{"range":[8351,8592],"filename":"DatabaseLifecycleService.mjs","lineno":230,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/memory-core/services","code":{"id":"astnode100023835","name":"DatabaseLifecycleService#getDatabaseStatus","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Gets the status of the ChromaDB process.</p>\n","returns":[{"type":{"names":["object"]},"description":"The status of the ChromaDB process."}],"name":"getDatabaseStatus","longname":"DatabaseLifecycleService#getDatabaseStatus","kind":"function","memberof":"DatabaseLifecycleService","scope":"instance","params":[],"$longname":"DatabaseLifecycleService#getDatabaseStatus","$kind":"method","id":6525,"neoClassName":"Neo.ai.mcp.server.memory-core.services.DatabaseLifecycleService"}]}