{"classData":[{"comment":"/**\n * @summary The programmable network layer of the Neo Application Engine.\n *\n * Unlike traditional Service Workers which are often static scripts, `ServiceBase` is a fully reactive\n * Neo.mjs class that allows the App Worker (and by extension, AI Agents via Neural Link) to orchestrate\n * the application's \"physical reality\"—network requests, caching, and asset availability—in real-time.\n *\n * **Key Responsibilities:**\n * 1.  **Asset Caching:** Manages the `neo-runtime` cache, storing core framework files, app logic, and resources.\n * 2.  **Offline Support:** Intercepts fetch requests to serve cached assets when offline (`onFetch`).\n * 3.  **Pre-emptive Asset Resolution:** Exposes the `preloadAssets` remote method, enabling AI Agents to\n *     time-shift network latency by predicting user intent and physically preparing the application state\n *     (assets, chunks) *before* the user acts. This achieves true \"Just-in-Time\" UX without page reloads.\n * 4.  **Multi-Context Communication:** Establishes message channels with all connected clients (browser tabs),\n *     enabling the \"Shared Worker\" pattern where one App Worker can control multiple windows.\n * 5.  **Lifecycle Management:** Handles `install` and `activate` events to manage cache versioning and cleanup.\n *\n * **Architectural Note:**\n * This class transforms the Service Worker from a passive cache into an active **Runtime Actor**.\n * Because it participates in the `RemoteMethodAccess` system, an AI Agent can inspect the current cache state,\n * decide what resources are needed for a future task, and command the Service Worker to fetch them immediately—\n * effectively bridging the gap between \"Generative UI\" and \"Instant Performance.\"\n *\n * @class Neo.worker.ServiceBase\n * @extends Neo.core.Base\n * @abstract\n * @see Neo.main.addon.ServiceWorker\n */","meta":{"filename":"ServiceBase.mjs","lineno":5,"columnno":0,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{}},"summary":"The programmable network layer of the Neo Application Engine.\n\nUnlike traditional Service Workers which are often static scripts, `ServiceBase` is a fully reactive\nNeo.mjs class that allows the App Worker (and by extension, AI Agents via Neural Link) to orchestrate\nthe application's \"physical reality\"—network requests, caching, and asset availability—in real-time.\n\n**Key Responsibilities:**\n1.  **Asset Caching:** Manages the `neo-runtime` cache, storing core framework files, app logic, and resources.\n2.  **Offline Support:** Intercepts fetch requests to serve cached assets when offline (`onFetch`).\n3.  **Pre-emptive Asset Resolution:** Exposes the `preloadAssets` remote method, enabling AI Agents to\n    time-shift network latency by predicting user intent and physically preparing the application state\n    (assets, chunks) *before* the user acts. This achieves true \"Just-in-Time\" UX without page reloads.\n4.  **Multi-Context Communication:** Establishes message channels with all connected clients (browser tabs),\n    enabling the \"Shared Worker\" pattern where one App Worker can control multiple windows.\n5.  **Lifecycle Management:** Handles `install` and `activate` events to manage cache versioning and cleanup.\n\n**Architectural Note:**\nThis class transforms the Service Worker from a passive cache into an active **Runtime Actor**.\nBecause it participates in the `RemoteMethodAccess` system, an AI Agent can inspect the current cache state,\ndecide what resources are needed for a future task, and command the Service Worker to fetch them immediately—\neffectively bridging the gap between \"Generative UI\" and \"Instant Performance.\"","kind":"class","name":"ServiceBase","augments":["Neo.core.Base"],"virtual":true,"see":["Neo.main.addon.ServiceWorker"],"memberof":"Neo.worker","longname":"Neo.worker.ServiceBase","scope":"static","$longname":"Neo.worker.ServiceBase","$kind":"class","id":3544,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n         * @member {String} className='Neo.worker.ServiceBase'\n         * @protected\n         */","meta":{"filename":"ServiceBase.mjs","lineno":39,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{}},"kind":"member","name":"className","type":{"names":["String"]},"defaultvalue":"'Neo.worker.ServiceBase'","access":"protected","longname":"className","scope":"global","$longname":"className","$kind":"property","id":3545,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n         * The name of the CacheStorage key.\n         * Appends the `version` property to create unique cache entries (e.g., \"neo-runtime-1.0.0\").\n         * @member {String} cacheName_='neo-runtime'\n         * @reactive\n         */","meta":{"filename":"ServiceBase.mjs","lineno":46,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{}},"description":"<p>The name of the CacheStorage key.\nAppends the <code>version</code> property to create unique cache entries (e.g., &quot;neo-runtime-1.0.0&quot;).</p>\n","kind":"member","name":"cacheName_","type":{"names":["String"]},"defaultvalue":"'neo-runtime'","tags":[{"originalTitle":"reactive","title":"reactive","text":""}],"longname":"cacheName_","scope":"global","$longname":"cacheName_","$kind":"property","id":3546,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n         * @member {String[]|Neo.core.Base[]|null} mixins=[RemoteMethodAccess]\n         */","meta":{"filename":"ServiceBase.mjs","lineno":50,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{}},"kind":"member","name":"mixins","type":{"names":["Array.<String>","Array.<Neo.core.Base>","null"]},"defaultvalue":"[RemoteMethodAccess]","longname":"mixins","scope":"global","$longname":"mixins","$kind":"property","id":3547,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n         * Flag to enable the automatic 404 recovery strategy.\n         * If true, 404 errors on guarded paths will trigger a client reload.\n         * @member {Boolean} reloadOn404=true\n         */","meta":{"filename":"ServiceBase.mjs","lineno":56,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{}},"description":"<p>Flag to enable the automatic 404 recovery strategy.\nIf true, 404 errors on guarded paths will trigger a client reload.</p>\n","kind":"member","name":"reloadOn404","type":{"names":["Boolean"]},"defaultvalue":true,"longname":"reloadOn404","scope":"global","$longname":"reloadOn404","$kind":"property","id":3548,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n         * Remote method access for other workers.\n         * Defines which methods can be called via RPC from the App Worker.\n         * @member {Object} remote={app: [//...]}\n         * @protected\n         * @reactive\n         */","meta":{"filename":"ServiceBase.mjs","lineno":64,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{}},"description":"<p>Remote method access for other workers.\nDefines which methods can be called via RPC from the App Worker.</p>\n","kind":"member","name":"remote","type":{"names":["Object"]},"defaultvalue":"{app: [//...]}","access":"protected","tags":[{"originalTitle":"reactive","title":"reactive","text":""}],"longname":"remote","scope":"global","$longname":"remote","$kind":"property","id":3549,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * List of path partials that should be cached dynamically.\n     * Requests matching these strings will be cached upon successful fetch.\n     * @member {String[]} cachePaths\n     */","meta":{"filename":"ServiceBase.mjs","lineno":79,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{}},"description":"<p>List of path partials that should be cached dynamically.\nRequests matching these strings will be cached upon successful fetch.</p>\n","kind":"member","name":"cachePaths","type":{"names":["Array.<String>"]},"longname":"cachePaths","scope":"global","$longname":"cachePaths","$kind":"property","id":3550,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * Registry of active message ports for connected clients (tabs/windows).\n     * Used to route messages to specific windows.\n     * @member {Object[]|null} channelPorts=null\n     * @protected\n     */","meta":{"filename":"ServiceBase.mjs","lineno":93,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{}},"description":"<p>Registry of active message ports for connected clients (tabs/windows).\nUsed to route messages to specific windows.</p>\n","kind":"member","name":"channelPorts","type":{"names":["Array.<Object>","null"]},"defaultvalue":null,"access":"protected","longname":"channelPorts","scope":"global","$longname":"channelPorts","$kind":"property","id":3551,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * The most recently active client (source of the last message).\n     * @member {Client|null} lastClient=null\n     * @protected\n     */","meta":{"filename":"ServiceBase.mjs","lineno":99,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{}},"description":"<p>The most recently active client (source of the last message).</p>\n","kind":"member","name":"lastClient","type":{"names":["Client","null"]},"defaultvalue":null,"access":"protected","longname":"lastClient","scope":"global","$longname":"lastClient","$kind":"property","id":3552,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * Timestamp of the last triggered reload to prevent loops.\n     * @member {Number|null} lastReload=null\n     * @protected\n     */","meta":{"filename":"ServiceBase.mjs","lineno":105,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{}},"description":"<p>Timestamp of the last triggered reload to prevent loops.</p>\n","kind":"member","name":"lastReload","type":{"names":["Number","null"]},"defaultvalue":null,"access":"protected","longname":"lastReload","scope":"global","$longname":"lastReload","$kind":"property","id":3553,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * List of path partials that should be forced to load from network first.\n     *\n     * **Strategy: Network First, Cache Fallback**\n     * These files (`DefaultConfig.mjs`, `neo-config.json`) contain the application version.\n     * If they are served from a stale cache, the App Worker will initialize with an old version string.\n     * It will then perform a handshake with the Service Worker (which is likely new).\n     * The SW will detect the mismatch (`App v1 !== SW v2`) and command a reload.\n     * Without Network First, the browser might serve the stale config again, causing an infinite reload loop.\n     *\n     * @member {String[]} networkFirstPaths=['DefaultConfig.mjs','neo-config.json']\n     */","meta":{"filename":"ServiceBase.mjs","lineno":118,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{}},"description":"<p>List of path partials that should be forced to load from network first.</p>\n<p><strong>Strategy: Network First, Cache Fallback</strong>\nThese files (<code>DefaultConfig.mjs</code>, <code>neo-config.json</code>) contain the application version.\nIf they are served from a stale cache, the App Worker will initialize with an old version string.\nIt will then perform a handshake with the Service Worker (which is likely new).\nThe SW will detect the mismatch (<code>App v1 !== SW v2</code>) and command a reload.\nWithout Network First, the browser might serve the stale config again, causing an infinite reload loop.</p>\n","kind":"member","name":"networkFirstPaths","type":{"names":["Array.<String>"]},"defaultvalue":"= SW v2`) and command a reload.","longname":"networkFirstPaths","scope":"global","$longname":"networkFirstPaths","$kind":"property","id":3554,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * @member {Object[]} promises=[]\n     * @protected\n     */","meta":{"filename":"ServiceBase.mjs","lineno":126,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{}},"kind":"member","name":"promises","type":{"names":["Array.<Object>"]},"defaultvalue":"[]","access":"protected","longname":"promises","scope":"global","$longname":"promises","$kind":"property","id":3555,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * @member {String[]} remotes=[]\n     * @protected\n     */","meta":{"filename":"ServiceBase.mjs","lineno":131,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{}},"kind":"member","name":"remotes","type":{"names":["Array.<String>"]},"defaultvalue":"[]","access":"protected","longname":"remotes","scope":"global","$longname":"remotes","$kind":"property","id":3556,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * @member {Object[]} remotesToRegister=[]\n     * @protected\n     */","meta":{"filename":"ServiceBase.mjs","lineno":136,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{}},"kind":"member","name":"remotesToRegister","type":{"names":["Array.<Object>"]},"defaultvalue":"[]","access":"protected","longname":"remotesToRegister","scope":"global","$longname":"remotesToRegister","$kind":"property","id":3557,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * @member {String|null} workerId=null\n     * @protected\n     */","meta":{"filename":"ServiceBase.mjs","lineno":141,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{}},"kind":"member","name":"workerId","type":{"names":["String","null"]},"defaultvalue":null,"access":"protected","longname":"workerId","scope":"global","$longname":"workerId","$kind":"property","id":3558,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * @param {Object} config\n     */","meta":{"range":[5500,6028],"filename":"ServiceBase.mjs","lineno":146,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100035534","name":"ServiceBase#construct","type":"MethodDefinition","paramnames":["config"]},"vars":{"":null}},"params":[{"type":{"names":["Object"]},"name":"config"}],"name":"construct","longname":"ServiceBase#construct","kind":"function","memberof":"ServiceBase","scope":"instance","$longname":"ServiceBase#construct","$kind":"method","id":3559,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * Triggered when accessing the cacheName config.\n     * Appends the application version to ensure cache invalidation on upgrades.\n     * @param {String} value\n     * @protected\n     */","meta":{"range":[6232,6307],"filename":"ServiceBase.mjs","lineno":172,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100035603","name":"ServiceBase#beforeGetCacheName","type":"MethodDefinition","paramnames":["value"]},"vars":{"":null}},"description":"<p>Triggered when accessing the cacheName config.\nAppends the application version to ensure cache invalidation on upgrades.</p>\n","params":[{"type":{"names":["String"]},"name":"value"}],"access":"protected","name":"beforeGetCacheName","longname":"ServiceBase#beforeGetCacheName","kind":"function","memberof":"ServiceBase","scope":"instance","$longname":"ServiceBase#beforeGetCacheName","$kind":"method","id":3560,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * Lazy cleanup of old caches.\n     * Iterates over all caches and removes those matching the prefix but not the current version.\n     * @returns {Promise<void>}\n     */","meta":{"range":[6495,6917],"filename":"ServiceBase.mjs","lineno":181,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100035616","name":"ServiceBase#cleanUpCaches","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Lazy cleanup of old caches.\nIterates over all caches and removes those matching the prefix but not the current version.</p>\n","returns":[{"type":{"names":["Promise.<void>"]}}],"name":"cleanUpCaches","longname":"ServiceBase#cleanUpCaches","kind":"function","memberof":"ServiceBase","scope":"instance","params":[],"async":true,"$longname":"ServiceBase#cleanUpCaches","$kind":"method","id":3561,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * Deletes a specific named cache.\n     * Accessible remotely from the App Worker.\n     * @param {String} name=this.cacheName\n     * @returns {Promise<Object>}\n     */","meta":{"range":[7103,7214],"filename":"ServiceBase.mjs","lineno":201,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100035666","name":"ServiceBase#clearCache","type":"MethodDefinition","paramnames":["name"]},"vars":{"":null}},"description":"<p>Deletes a specific named cache.\nAccessible remotely from the App Worker.</p>\n","params":[{"type":{"names":["String"]},"defaultvalue":"this.cacheName","name":"name"}],"returns":[{"type":{"names":["Promise.<Object>"]}}],"name":"clearCache","longname":"ServiceBase#clearCache","kind":"function","memberof":"ServiceBase","scope":"instance","async":true,"$longname":"ServiceBase#clearCache","$kind":"method","id":3562,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * Nuke option: Deletes ALL caches managed by this origin.\n     * Use with caution. Accessible remotely.\n     * @returns {Promise<Object>}\n     */","meta":{"range":[7379,7543],"filename":"ServiceBase.mjs","lineno":211,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100035686","name":"ServiceBase#clearCaches","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Nuke option: Deletes ALL caches managed by this origin.\nUse with caution. Accessible remotely.</p>\n","returns":[{"type":{"names":["Promise.<Object>"]}}],"name":"clearCaches","longname":"ServiceBase#clearCaches","kind":"function","memberof":"ServiceBase","scope":"instance","params":[],"async":true,"$longname":"ServiceBase#clearCaches","$kind":"method","id":3563,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * Establishes a 2-way MessageChannel with a connecting client (window).\n     * This is the handshake that allows the App Worker to control this Service Worker.\n     * @param {Client} client\n     */","meta":{"range":[7760,8650],"filename":"ServiceBase.mjs","lineno":222,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100035719","name":"ServiceBase#createMessageChannel","type":"MethodDefinition","paramnames":["client"]},"vars":{"":null}},"description":"<p>Establishes a 2-way MessageChannel with a connecting client (window).\nThis is the handshake that allows the App Worker to control this Service Worker.</p>\n","params":[{"type":{"names":["Client"]},"name":"client"}],"name":"createMessageChannel","longname":"ServiceBase#createMessageChannel","kind":"function","memberof":"ServiceBase","scope":"instance","$longname":"ServiceBase#createMessageChannel","$kind":"method","id":3564,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * @param {String} destination\n     * @param {String} clientId=this.lastClient.id\n     * @returns {MessagePort|null}\n     */","meta":{"range":[8793,9057],"filename":"ServiceBase.mjs","lineno":254,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100035806","name":"ServiceBase#getPort","type":"MethodDefinition","paramnames":["destination","clientId"]},"vars":{"":null}},"params":[{"type":{"names":["String"]},"name":"destination"},{"type":{"names":["String"]},"defaultvalue":"this.lastClient.id","name":"clientId"}],"returns":[{"type":{"names":["MessagePort","null"]}}],"name":"getPort","longname":"ServiceBase#getPort","kind":"function","memberof":"ServiceBase","scope":"instance","$longname":"ServiceBase#getPort","$kind":"method","id":3565,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * @param {String} name\n     * @returns {Boolean}\n     */","meta":{"range":[9133,9213],"filename":"ServiceBase.mjs","lineno":268,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100035841","name":"ServiceBase#hasWorker","type":"MethodDefinition","paramnames":["name"]},"vars":{"":null}},"params":[{"type":{"names":["String"]},"name":"name"}],"returns":[{"type":{"names":["Boolean"]}}],"name":"hasWorker","longname":"ServiceBase#hasWorker","kind":"function","memberof":"ServiceBase","scope":"instance","$longname":"ServiceBase#hasWorker","$kind":"method","id":3566,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * Ignore the call in case there is no connected client in place yet\n     */","meta":{"range":[9308,9558],"filename":"ServiceBase.mjs","lineno":275,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100035860","name":"ServiceBase#initRemote","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Ignore the call in case there is no connected client in place yet</p>\n","name":"initRemote","longname":"ServiceBase#initRemote","kind":"function","memberof":"ServiceBase","scope":"instance","params":[],"$longname":"ServiceBase#initRemote","$kind":"method","id":3567,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * Intercepts 404 errors on guarded paths (dist/production, src) to detect version mismatches.\n     * If a mismatch is suspected (old app asking for deleted asset), triggers a forced client reload.\n     *\n     * Use Case: \"Reactive Recovery\" for when the Boot-Time check passes (or hasn't run) but the\n     * environment changes mid-session (Atomic Deployment deletes assets).\n     *\n     * @param {ExtendableMessageEvent} event\n     */","meta":{"range":[10013,11012],"filename":"ServiceBase.mjs","lineno":294,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100035896","name":"ServiceBase#on404","type":"MethodDefinition","paramnames":["event"]},"vars":{"":null}},"description":"<p>Intercepts 404 errors on guarded paths (dist/production, src) to detect version mismatches.\nIf a mismatch is suspected (old app asking for deleted asset), triggers a forced client reload.</p>\n<p>Use Case: &quot;Reactive Recovery&quot; for when the Boot-Time check passes (or hasn&#39;t run) but the\nenvironment changes mid-session (Atomic Deployment deletes assets).</p>\n","params":[{"type":{"names":["ExtendableMessageEvent"]},"name":"event"}],"name":"on404","longname":"ServiceBase#on404","kind":"function","memberof":"ServiceBase","scope":"instance","async":true,"$longname":"ServiceBase#on404","$kind":"method","id":3568,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * Handle the 'activate' event.\n     * Cleans up old caches that don't match the current version.\n     * @param {ExtendableMessageEvent} event\n     */","meta":{"range":[11181,11494],"filename":"ServiceBase.mjs","lineno":328,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100036001","name":"ServiceBase#onActivate","type":"MethodDefinition","paramnames":["event"]},"vars":{"":null}},"description":"<p>Handle the &#39;activate&#39; event.\nCleans up old caches that don&#39;t match the current version.</p>\n","params":[{"type":{"names":["ExtendableMessageEvent"]},"name":"event"}],"name":"onActivate","longname":"ServiceBase#onActivate","kind":"function","memberof":"ServiceBase","scope":"instance","$longname":"ServiceBase#onActivate","$kind":"method","id":3569,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * Handle the 'connect' event (e.g. from shared workers or multiple tabs).\n     * @param {Client} source\n     */","meta":{"range":[11625,11725],"filename":"ServiceBase.mjs","lineno":342,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100036031","name":"ServiceBase#onConnect","type":"MethodDefinition","paramnames":["source"]},"vars":{"":null}},"description":"<p>Handle the &#39;connect&#39; event (e.g. from shared workers or multiple tabs).</p>\n","params":[{"type":{"names":["Client"]},"name":"source"}],"name":"onConnect","longname":"ServiceBase#onConnect","kind":"function","memberof":"ServiceBase","scope":"instance","async":true,"$longname":"ServiceBase#onConnect","$kind":"method","id":3570,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * The core interceptor for network requests.\n     *\n     * Implements a hybrid caching strategy:\n     * 1.  **Network First:** For `networkFirstPaths` (Configs). Priority is getting the latest version to prevent handshake loops.\n     * 2.  **Cache First:** For `cachePaths` (Assets). Priority is speed and offline capability.\n     *\n     * @param {ExtendableMessageEvent} event\n     */","meta":{"range":[12130,14330],"filename":"ServiceBase.mjs","lineno":356,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100036047","name":"ServiceBase#onFetch","type":"MethodDefinition","paramnames":["event"]},"vars":{"":null}},"description":"<p>The core interceptor for network requests.</p>\n<p>Implements a hybrid caching strategy:</p>\n<ol>\n<li><strong>Network First:</strong> For <code>networkFirstPaths</code> (Configs). Priority is getting the latest version to prevent handshake loops.</li>\n<li><strong>Cache First:</strong> For <code>cachePaths</code> (Assets). Priority is speed and offline capability.</li>\n</ol>\n","params":[{"type":{"names":["ExtendableMessageEvent"]},"name":"event"}],"name":"onFetch","longname":"ServiceBase#onFetch","kind":"function","memberof":"ServiceBase","scope":"instance","$longname":"ServiceBase#onFetch","$kind":"method","id":3571,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * @param {Object} msg\n     * @param {ExtendableMessageEvent} event\n     */","meta":{"range":[14424,14507],"filename":"ServiceBase.mjs","lineno":423,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100036278","name":"ServiceBase#onGetVersion","type":"MethodDefinition","paramnames":["msg","event"]},"vars":{"":null}},"params":[{"type":{"names":["Object"]},"name":"msg"},{"type":{"names":["ExtendableMessageEvent"]},"name":"event"}],"name":"onGetVersion","longname":"ServiceBase#onGetVersion","kind":"function","memberof":"ServiceBase","scope":"instance","$longname":"ServiceBase#onGetVersion","$kind":"method","id":3572,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * Handle the 'install' event.\n     * Forces the waiting Service Worker to become the active one.\n     * @param {ExtendableMessageEvent} event\n     */","meta":{"range":[14676,14818],"filename":"ServiceBase.mjs","lineno":432,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100036295","name":"ServiceBase#onInstall","type":"MethodDefinition","paramnames":["event"]},"vars":{"":null}},"description":"<p>Handle the &#39;install&#39; event.\nForces the waiting Service Worker to become the active one.</p>\n","params":[{"type":{"names":["ExtendableMessageEvent"]},"name":"event"}],"name":"onInstall","longname":"ServiceBase#onInstall","kind":"function","memberof":"ServiceBase","scope":"instance","$longname":"ServiceBase#onInstall","$kind":"method","id":3573,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * For a client based message we receive an ExtendableMessageEvent,\n     * for a MessageChannel based message a MessageEvent\n     * @param {ExtendableMessageEvent|MessageEvent} event\n     */","meta":{"range":[15027,15920],"filename":"ServiceBase.mjs","lineno":442,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100036318","name":"ServiceBase#onMessage","type":"MethodDefinition","paramnames":["event"]},"vars":{"":null}},"description":"<p>For a client based message we receive an ExtendableMessageEvent,\nfor a MessageChannel based message a MessageEvent</p>\n","params":[{"type":{"names":["ExtendableMessageEvent","MessageEvent"]},"name":"event"}],"name":"onMessage","longname":"ServiceBase#onMessage","kind":"function","memberof":"ServiceBase","scope":"instance","$longname":"ServiceBase#onMessage","$kind":"method","id":3574,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * @param {Object} msg\n     * @param {ExtendableMessageEvent} event\n     */","meta":{"range":[16014,16084],"filename":"ServiceBase.mjs","lineno":476,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100036444","name":"ServiceBase#onPing","type":"MethodDefinition","paramnames":["msg","event"]},"vars":{"":null}},"params":[{"type":{"names":["Object"]},"name":"msg"},{"type":{"names":["ExtendableMessageEvent"]},"name":"event"}],"name":"onPing","longname":"ServiceBase#onPing","kind":"function","memberof":"ServiceBase","scope":"instance","$longname":"ServiceBase#onPing","$kind":"method","id":3575,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * @param {Object} msg\n     * @param {ExtendableMessageEvent} event\n     */","meta":{"range":[16178,16260],"filename":"ServiceBase.mjs","lineno":484,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100036459","name":"ServiceBase#onRegisterNeoConfig","type":"MethodDefinition","paramnames":["msg","event"]},"vars":{"":null}},"params":[{"type":{"names":["Object"]},"name":"msg"},{"type":{"names":["ExtendableMessageEvent"]},"name":"event"}],"name":"onRegisterNeoConfig","longname":"ServiceBase#onRegisterNeoConfig","kind":"function","memberof":"ServiceBase","scope":"instance","async":true,"$longname":"ServiceBase#onRegisterNeoConfig","$kind":"method","id":3576,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * @param {Object} msg\n     * @param {ExtendableMessageEvent} event\n     */","meta":{"range":[16354,16432],"filename":"ServiceBase.mjs","lineno":492,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100036473","name":"ServiceBase#onSkipWaiting","type":"MethodDefinition","paramnames":["msg","event"]},"vars":{"":null}},"params":[{"type":{"names":["Object"]},"name":"msg"},{"type":{"names":["ExtendableMessageEvent"]},"name":"event"}],"name":"onSkipWaiting","longname":"ServiceBase#onSkipWaiting","kind":"function","memberof":"ServiceBase","scope":"instance","async":true,"$longname":"ServiceBase#onSkipWaiting","$kind":"method","id":3577,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * @param {Object} msg\n     * @param {ExtendableMessageEvent} event\n     */","meta":{"range":[16526,16780],"filename":"ServiceBase.mjs","lineno":500,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100036485","name":"ServiceBase#onUnregisterPort","type":"MethodDefinition","paramnames":["msg","event"]},"vars":{"":null}},"params":[{"type":{"names":["Object"]},"name":"msg"},{"type":{"names":["ExtendableMessageEvent"]},"name":"event"}],"name":"onUnregisterPort","longname":"ServiceBase#onUnregisterPort","kind":"function","memberof":"ServiceBase","scope":"instance","$longname":"ServiceBase#onUnregisterPort","$kind":"method","id":3578,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * Speculatively loads and caches assets before they are requested by the browser.\n     *\n     * **Use Case:** \"Predictive Code Splitting\". The App Worker (or an AI agent) anticipates\n     * where the user is going next and preloads the necessary JS modules or images.\n     *\n     * @param {Object} data\n     * @param {String} [data.cacheName=this.cacheName] Target cache\n     * @param {String[]|String} data.files List of URLs to preload\n     * @param {Boolean} [data.forceReload=false] True to bypass existing cache\n     * @returns {Promise<Object>} Status report {failed, ratio, success}\n     */","meta":{"range":[17397,18625],"filename":"ServiceBase.mjs","lineno":521,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100036523","name":"ServiceBase#preloadAssets","type":"MethodDefinition","paramnames":["data"]},"vars":{"":null}},"description":"<p>Speculatively loads and caches assets before they are requested by the browser.</p>\n<p><strong>Use Case:</strong> &quot;Predictive Code Splitting&quot;. The App Worker (or an AI agent) anticipates\nwhere the user is going next and preloads the necessary JS modules or images.</p>\n","params":[{"type":{"names":["Object"]},"name":"data"},{"type":{"names":["String"]},"optional":true,"defaultvalue":"this.cacheName","description":"<p>Target cache</p>\n","name":"data.cacheName"},{"type":{"names":["Array.<String>","String"]},"description":"<p>List of URLs to preload</p>\n","name":"data.files"},{"type":{"names":["Boolean"]},"optional":true,"defaultvalue":false,"description":"<p>True to bypass existing cache</p>\n","name":"data.forceReload"}],"returns":[{"type":{"names":["Promise.<Object>"]},"description":"Status report {failed, ratio, success}"}],"name":"preloadAssets","longname":"ServiceBase#preloadAssets","kind":"function","memberof":"ServiceBase","scope":"instance","async":true,"$longname":"ServiceBase#preloadAssets","$kind":"method","id":3579,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * @param {String} dest app, data, main or vdom (excluding the current worker)\n     * @param {Object} opts configs for Neo.worker.Message\n     * @param {Array} [transfer] An optional array of Transferable objects to transfer ownership of.\n     * If the ownership of an object is transferred, it becomes unusable (neutered) in the context it was sent from\n     * and becomes available only to the worker it was sent to.\n     * @returns {Promise<any>}\n     */","meta":{"range":[19101,19389],"filename":"ServiceBase.mjs","lineno":573,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100036708","name":"ServiceBase#promiseMessage","type":"MethodDefinition","paramnames":["dest","opts","transfer"]},"vars":{"":null}},"params":[{"type":{"names":["String"]},"description":"<p>app, data, main or vdom (excluding the current worker)</p>\n","name":"dest"},{"type":{"names":["Object"]},"description":"<p>configs for Neo.worker.Message</p>\n","name":"opts"},{"type":{"names":["Array"]},"optional":true,"description":"<p>An optional array of Transferable objects to transfer ownership of.\nIf the ownership of an object is transferred, it becomes unusable (neutered) in the context it was sent from\nand becomes available only to the worker it was sent to.</p>\n","name":"transfer"}],"returns":[{"type":{"names":["Promise.<any>"]}}],"name":"promiseMessage","longname":"ServiceBase#promiseMessage","kind":"function","memberof":"ServiceBase","scope":"instance","$longname":"ServiceBase#promiseMessage","$kind":"method","id":3580,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * Removes specific assets from the cache.\n     *\n     * See: https://developer.mozilla.org/en-US/docs/Web/API/Cache/delete\n     * @param {String|String[]|Object} data\n     * @param {String|String[]} data.assets URL(s) to remove\n     * @param {String} data.cacheName=this.cacheName\n     * @param {Object} data.options Options for cache.delete (ignoreMethod, etc.)\n     * @param {Boolean} data.options.ignoreMethod=false\n     * @param {Boolean} data.options.ignoreSearch=false\n     * @param {Boolean} data.options.ignoreVary=false\n     * @returns {Promise<Object>}\n     */","meta":{"range":[19979,20557],"filename":"ServiceBase.mjs","lineno":597,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100036753","name":"ServiceBase#removeAssets","type":"MethodDefinition","paramnames":["data"]},"vars":{"":null}},"description":"<p>Removes specific assets from the cache.</p>\n<p>See: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Cache/delete\">https://developer.mozilla.org/en-US/docs/Web/API/Cache/delete</a></p>\n","params":[{"type":{"names":["String","Array.<String>","Object"]},"name":"data"},{"type":{"names":["String","Array.<String>"]},"description":"<p>URL(s) to remove</p>\n","name":"data.assets"},{"type":{"names":["String"]},"defaultvalue":"this.cacheName","name":"data.cacheName"},{"type":{"names":["Object"]},"description":"<p>Options for cache.delete (ignoreMethod, etc.)</p>\n","name":"data.options"},{"type":{"names":["Boolean"]},"defaultvalue":false,"name":"data.options.ignoreMethod"},{"type":{"names":["Boolean"]},"defaultvalue":false,"name":"data.options.ignoreSearch"},{"type":{"names":["Boolean"]},"defaultvalue":false,"name":"data.options.ignoreVary"}],"returns":[{"type":{"names":["Promise.<Object>"]}}],"name":"removeAssets","longname":"ServiceBase#removeAssets","kind":"function","memberof":"ServiceBase","scope":"instance","async":true,"$longname":"ServiceBase#removeAssets","$kind":"method","id":3581,"neoClassName":"Neo.worker.ServiceBase"},{"comment":"/**\n     * @param {String} dest app, data, main or vdom (excluding the current worker)\n     * @param {Object} opts configs for Neo.worker.Message\n     * @param {Array} [transfer] An optional array of Transferable objects to transfer ownership of.\n     * If the ownership of an object is transferred, it becomes unusable (neutered) in the context it was sent from\n     * and becomes available only to the worker it was sent to.\n     * @returns {Neo.worker.Message}\n     * @protected\n     */","meta":{"range":[21057,21303],"filename":"ServiceBase.mjs","lineno":629,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/worker","code":{"id":"astnode100036845","name":"ServiceBase#sendMessage","type":"MethodDefinition","paramnames":["dest","opts","transfer"]},"vars":{"":null}},"params":[{"type":{"names":["String"]},"description":"<p>app, data, main or vdom (excluding the current worker)</p>\n","name":"dest"},{"type":{"names":["Object"]},"description":"<p>configs for Neo.worker.Message</p>\n","name":"opts"},{"type":{"names":["Array"]},"optional":true,"description":"<p>An optional array of Transferable objects to transfer ownership of.\nIf the ownership of an object is transferred, it becomes unusable (neutered) in the context it was sent from\nand becomes available only to the worker it was sent to.</p>\n","name":"transfer"}],"returns":[{"type":{"names":["Neo.worker.Message"]}}],"access":"protected","name":"sendMessage","longname":"ServiceBase#sendMessage","kind":"function","memberof":"ServiceBase","scope":"instance","$longname":"ServiceBase#sendMessage","$kind":"method","id":3582,"neoClassName":"Neo.worker.ServiceBase"}]}