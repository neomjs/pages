{"classData":[{"comment":"/**\n * @summary Orchestrates Retrieval-Augmented Generation (RAG) by combining semantic search with LLM synthesis.\n *\n * This service acts as the bridge between the user's natural language question and the project's knowledge base.\n * Instead of simply returning a list of files, it:\n * 1.  **Retrieves**: Uses `QueryService` to find the most relevant files based on semantic similarity and intelligent scoring (boosting guides, architectural docs).\n * 2.  **Reads**: Fetches the full content of these files from the local filesystem to ensure the LLM has complete context (avoiding truncated metadata).\n * 3.  **Synthesizes**: Sends the query and the file contents to the Google Gemini model to generate a precise, grounded answer.\n *\n * This \"Read-Eval-Generate\" loop allows agents to ask complex questions like \"How do I implement a Store?\" and get a\n * code-complete answer without manually searching and reading multiple files.\n *\n * @class Neo.ai.mcp.server.knowledge-base.services.SearchService\n * @extends Neo.core.Base\n * @singleton\n * @see Neo.ai.mcp.server.knowledge-base.services.QueryService\n */","meta":{"filename":"SearchService.mjs","lineno":9,"columnno":0,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/knowledge-base/services","code":{}},"summary":"Orchestrates Retrieval-Augmented Generation (RAG) by combining semantic search with LLM synthesis.\n\nThis service acts as the bridge between the user's natural language question and the project's knowledge base.\nInstead of simply returning a list of files, it:\n1.  **Retrieves**: Uses `QueryService` to find the most relevant files based on semantic similarity and intelligent scoring (boosting guides, architectural docs).\n2.  **Reads**: Fetches the full content of these files from the local filesystem to ensure the LLM has complete context (avoiding truncated metadata).\n3.  **Synthesizes**: Sends the query and the file contents to the Google Gemini model to generate a precise, grounded answer.\n\nThis \"Read-Eval-Generate\" loop allows agents to ask complex questions like \"How do I implement a Store?\" and get a\ncode-complete answer without manually searching and reading multiple files.","kind":"class","name":"SearchService","augments":["Neo.core.Base"],"tags":[{"originalTitle":"singleton","title":"singleton","text":""}],"see":["Neo.ai.mcp.server.knowledge-base.services.QueryService"],"memberof":"Neo.ai.mcp.server.knowledge-base.services","longname":"Neo.ai.mcp.server.knowledge-base.services.SearchService","scope":"static","$longname":"Neo.ai.mcp.server.knowledge-base.services.SearchService","$kind":"class","id":6713,"neoClassName":"Neo.ai.mcp.server.knowledge-base.services.SearchService"},{"comment":"/**\n         * @member {String} className='Neo.ai.mcp.server.knowledge-base.services.SearchService'\n         * @protected\n         */","meta":{"filename":"SearchService.mjs","lineno":32,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/knowledge-base/services","code":{}},"kind":"member","name":"className","type":{"names":["String"]},"defaultvalue":"'Neo.ai.mcp.server.knowledge-base.services.SearchService'","access":"protected","longname":"className","scope":"global","$longname":"className","$kind":"property","id":6714,"neoClassName":"Neo.ai.mcp.server.knowledge-base.services.SearchService"},{"comment":"/**\n         * @member {Boolean} singleton=true\n         * @protected\n         */","meta":{"filename":"SearchService.mjs","lineno":37,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/knowledge-base/services","code":{}},"kind":"member","name":"singleton","type":{"names":["Boolean"]},"defaultvalue":true,"access":"protected","longname":"singleton","scope":"global","$longname":"singleton","$kind":"property","id":6715,"neoClassName":"Neo.ai.mcp.server.knowledge-base.services.SearchService"},{"comment":"/**\n     * @member {Object|null} embeddingModel=null\n     * @protected\n     */","meta":{"filename":"SearchService.mjs","lineno":44,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/knowledge-base/services","code":{}},"kind":"member","name":"embeddingModel","type":{"names":["Object","null"]},"defaultvalue":null,"access":"protected","longname":"embeddingModel","scope":"global","$longname":"embeddingModel","$kind":"property","id":6716,"neoClassName":"Neo.ai.mcp.server.knowledge-base.services.SearchService"},{"comment":"/**\n     * @member {Object|null} model=null\n     * @protected\n     */","meta":{"filename":"SearchService.mjs","lineno":49,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/knowledge-base/services","code":{}},"kind":"member","name":"model","type":{"names":["Object","null"]},"defaultvalue":null,"access":"protected","longname":"model","scope":"global","$longname":"model","$kind":"property","id":6717,"neoClassName":"Neo.ai.mcp.server.knowledge-base.services.SearchService"},{"comment":"/**\n     * Initializes the Gemini AI models.\n     * @param {Object} config\n     */","meta":{"range":[2183,2590],"filename":"SearchService.mjs","lineno":55,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/knowledge-base/services","code":{"id":"astnode100023358","name":"SearchService#construct","type":"MethodDefinition","paramnames":["config"]},"vars":{"":null}},"description":"<p>Initializes the Gemini AI models.</p>\n","params":[{"type":{"names":["Object"]},"name":"config"}],"name":"construct","longname":"SearchService#construct","kind":"function","memberof":"SearchService","scope":"instance","$longname":"SearchService#construct","$kind":"method","id":6718,"neoClassName":"Neo.ai.mcp.server.knowledge-base.services.SearchService"},{"comment":"/**\n     * Ensures the service dependencies are ready.\n     * @returns {Promise<void>}\n     */","meta":{"range":[2695,2790],"filename":"SearchService.mjs","lineno":70,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/knowledge-base/services","code":{"id":"astnode100023414","name":"SearchService#initAsync","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Ensures the service dependencies are ready.</p>\n","returns":[{"type":{"names":["Promise.<void>"]}}],"name":"initAsync","longname":"SearchService#initAsync","kind":"function","memberof":"SearchService","scope":"instance","params":[],"async":true,"$longname":"SearchService#initAsync","$kind":"method","id":6719,"neoClassName":"Neo.ai.mcp.server.knowledge-base.services.SearchService"},{"comment":"/**\n     * Performs a semantic search via QueryService and synthesizes an answer using the LLM.\n     *\n     * @param {Object} params\n     * @param {String} params.query The natural language query.\n     * @param {String} [params.type='all'] Optional content type filter (e.g., 'guide', 'src').\n     * @param {Number} [params.limit=5] Number of source files to include in the context.\n     * @returns {Promise<Object>} The synthesized answer and references.\n     */","meta":{"range":[3264,5747],"filename":"SearchService.mjs","lineno":84,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/ai/mcp/server/knowledge-base/services","code":{"id":"astnode100023430","name":"SearchService#ask","type":"MethodDefinition","paramnames":[""]},"vars":{"":null}},"description":"<p>Performs a semantic search via QueryService and synthesizes an answer using the LLM.</p>\n","params":[{"type":{"names":["Object"]},"name":"params"},{"type":{"names":["String"]},"description":"<p>The natural language query.</p>\n","name":"params.query"},{"type":{"names":["String"]},"optional":true,"defaultvalue":"'all'","description":"<p>Optional content type filter (e.g., &#39;guide&#39;, &#39;src&#39;).</p>\n","name":"params.type"},{"type":{"names":["Number"]},"optional":true,"defaultvalue":5,"description":"<p>Number of source files to include in the context.</p>\n","name":"params.limit"}],"returns":[{"type":{"names":["Promise.<Object>"]},"description":"The synthesized answer and references."}],"name":"ask","longname":"SearchService#ask","kind":"function","memberof":"SearchService","scope":"instance","async":true,"$longname":"SearchService#ask","$kind":"method","id":6720,"neoClassName":"Neo.ai.mcp.server.knowledge-base.services.SearchService"}]}