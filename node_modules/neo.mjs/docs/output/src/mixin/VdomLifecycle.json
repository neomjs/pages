{"classData":[{"comment":"/**\n * @class Neo.mixin.VdomLifecycle\n * @extends Neo.core.Base\n */","meta":{"filename":"VdomLifecycle.mjs","lineno":11,"columnno":0,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{}},"kind":"class","name":"VdomLifecycle","augments":["Neo.core.Base"],"memberof":"Neo.mixin","longname":"Neo.mixin.VdomLifecycle","scope":"static","$longname":"Neo.mixin.VdomLifecycle","$kind":"class","id":2649,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n         * @member {String} className='Neo.mixin.VdomLifecycle'\n         * @protected\n         */","meta":{"filename":"VdomLifecycle.mjs","lineno":21,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{}},"kind":"member","name":"className","type":{"names":["String"]},"defaultvalue":"'Neo.mixin.VdomLifecycle'","access":"protected","longname":"className","scope":"global","$longname":"className","$kind":"property","id":2650,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n         * True automatically initializes the vnode of a component after being created inside the init call.\n         * Recommended for dialogs & drag-proxies.\n         * Top level views should definitely use false.\n         * @member {Boolean} autoInitVnode=false\n         */","meta":{"filename":"VdomLifecycle.mjs","lineno":28,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{}},"description":"<p>True automatically initializes the vnode of a component after being created inside the init call.\nRecommended for dialogs &amp; drag-proxies.\nTop level views should definitely use false.</p>\n","kind":"member","name":"autoInitVnode","type":{"names":["Boolean"]},"defaultvalue":false,"longname":"autoInitVnode","scope":"global","$longname":"autoInitVnode","$kind":"property","id":2651,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n         * True automatically mounts a component after being rendered.\n         * Use this for the top level component of your app.\n         * @member {Boolean} autoMount=false\n         */","meta":{"filename":"VdomLifecycle.mjs","lineno":34,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{}},"description":"<p>True automatically mounts a component after being rendered.\nUse this for the top level component of your app.</p>\n","kind":"member","name":"autoMount","type":{"names":["Boolean"]},"defaultvalue":false,"longname":"autoMount","scope":"global","$longname":"autoMount","$kind":"property","id":2652,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n         * Internal flag which will get set to true while an update request (worker messages) is in progress\n         * @member {Boolean} isVdomUpdating_=false\n         * @protected\n         * @reactive\n         */","meta":{"filename":"VdomLifecycle.mjs","lineno":41,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{}},"description":"<p>Internal flag which will get set to true while an update request (worker messages) is in progress</p>\n","kind":"member","name":"isVdomUpdating_","type":{"names":["Boolean"]},"defaultvalue":false,"access":"protected","tags":[{"originalTitle":"reactive","title":"reactive","text":""}],"longname":"isVdomUpdating_","scope":"global","$longname":"isVdomUpdating_","$kind":"property","id":2653,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n         * True in case the component is initializing the vnode\n         * @member {Boolean} isVnodeInitializing_=false\n         * @protected\n         * @reactive\n         */","meta":{"filename":"VdomLifecycle.mjs","lineno":48,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{}},"description":"<p>True in case the component is initializing the vnode</p>\n","kind":"member","name":"isVnodeInitializing_","type":{"names":["Boolean"]},"defaultvalue":false,"access":"protected","tags":[{"originalTitle":"reactive","title":"reactive","text":""}],"longname":"isVnodeInitializing_","scope":"global","$longname":"isVnodeInitializing_","$kind":"property","id":2654,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n         * True in case the component is mounted to the DOM\n         * @member {Boolean} mounted_=false\n         * @protected\n         * @reactive\n         */","meta":{"filename":"VdomLifecycle.mjs","lineno":55,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{}},"description":"<p>True in case the component is mounted to the DOM</p>\n","kind":"member","name":"mounted_","type":{"names":["Boolean"]},"defaultvalue":false,"access":"protected","tags":[{"originalTitle":"reactive","title":"reactive","text":""}],"longname":"mounted_","scope":"global","$longname":"mounted_","$kind":"property","id":2655,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n         * Internal flag which will get set to true in case an update call arrives while another update is running\n         * @member {Boolean} needsVdomUpdate_=false\n         * @protected\n         * @reactive\n         */","meta":{"filename":"VdomLifecycle.mjs","lineno":62,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{}},"description":"<p>Internal flag which will get set to true in case an update call arrives while another update is running</p>\n","kind":"member","name":"needsVdomUpdate_","type":{"names":["Boolean"]},"defaultvalue":false,"access":"protected","tags":[{"originalTitle":"reactive","title":"reactive","text":""}],"longname":"needsVdomUpdate_","scope":"global","$longname":"needsVdomUpdate_","$kind":"property","id":2656,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n         * Set this to true for bulk updates. Ensure to set it back to false afterwards.\n         * Internally the value will get saved as a number to ensure that child methods won't stop the silent mode too early.\n         * @member {Boolean} silentVdomUpdate_=false\n         * @reactive\n         */","meta":{"filename":"VdomLifecycle.mjs","lineno":69,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{}},"description":"<p>Set this to true for bulk updates. Ensure to set it back to false afterwards.\nInternally the value will get saved as a number to ensure that child methods won&#39;t stop the silent mode too early.</p>\n","kind":"member","name":"silentVdomUpdate_","type":{"names":["Boolean"]},"defaultvalue":false,"tags":[{"originalTitle":"reactive","title":"reactive","text":""}],"longname":"silentVdomUpdate_","scope":"global","$longname":"silentVdomUpdate_","$kind":"property","id":2657,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n         * Defines the depth of the vdom tree for the next update cycle.\n         * - The value 1 will only send the current vdom structure as it is\n         * - The value of 2 will include the vdom of direct children\n         * - The value of 3 will include the vdom of grandchildren\n         * - The value of -1 will include the full tree of any depth\n         * @member {Number} updateDepth_=1\n         * @reactive\n         */","meta":{"filename":"VdomLifecycle.mjs","lineno":79,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{}},"description":"<p>Defines the depth of the vdom tree for the next update cycle.</p>\n<ul>\n<li>The value 1 will only send the current vdom structure as it is</li>\n<li>The value of 2 will include the vdom of direct children</li>\n<li>The value of 3 will include the vdom of grandchildren</li>\n<li>The value of -1 will include the full tree of any depth</li>\n</ul>\n","kind":"member","name":"updateDepth_","type":{"names":["Number"]},"defaultvalue":1,"tags":[{"originalTitle":"reactive","title":"reactive","text":""}],"longname":"updateDepth_","scope":"global","$longname":"updateDepth_","$kind":"property","id":2658,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n         * The component vnode tree. Available after the component got vnodeInitialized.\n         * @member {Object} vnode_=={[isDescriptor]: true, value: null, isEqual: (a, b) => a === b,}\n         * @protected\n         * @reactive\n         */","meta":{"filename":"VdomLifecycle.mjs","lineno":86,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{}},"description":"<p>The component vnode tree. Available after the component got vnodeInitialized.</p>\n","kind":"member","name":"vnode_","type":{"names":["Object"]},"defaultvalue":"={[isDescriptor]: true, value: null, isEqual: (a, b) => a === b,}","access":"protected","tags":[{"originalTitle":"reactive","title":"reactive","text":""}],"longname":"vnode_","scope":"global","$longname":"vnode_","$kind":"property","id":2659,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n         * True after the component initVnode() method was called. Also fires the vnodeInitialized event.\n         * @member {Boolean} vnodeInitialized_=false\n         * @protected\n         * @reactive\n         */","meta":{"filename":"VdomLifecycle.mjs","lineno":99,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{}},"description":"<p>True after the component initVnode() method was called. Also fires the vnodeInitialized event.</p>\n","kind":"member","name":"vnodeInitialized_","type":{"names":["Boolean"]},"defaultvalue":false,"access":"protected","tags":[{"originalTitle":"reactive","title":"reactive","text":""}],"longname":"vnodeInitialized_","scope":"global","$longname":"vnodeInitialized_","$kind":"property","id":2660,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Triggered after the vdom pseudo-config got changed\n     * @param {Object} value\n     * @param {Object|null} oldValue\n     * @protected\n     */","meta":{"range":[3971,4034],"filename":"VdomLifecycle.mjs","lineno":108,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100000322","name":"VdomLifecycle#afterSetVdom","type":"MethodDefinition","paramnames":["value","oldValue"]},"vars":{"":null}},"description":"<p>Triggered after the vdom pseudo-config got changed</p>\n","params":[{"type":{"names":["Object"]},"name":"value"},{"type":{"names":["Object","null"]},"name":"oldValue"}],"access":"protected","name":"afterSetVdom","longname":"VdomLifecycle#afterSetVdom","kind":"function","memberof":"VdomLifecycle","scope":"instance","$longname":"VdomLifecycle#afterSetVdom","$kind":"method","id":2661,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Triggered after the vnode config got changed\n     * @param {Object} value\n     * @param {Object|null} oldValue\n     * @protected\n     */","meta":{"range":[4192,4268],"filename":"VdomLifecycle.mjs","lineno":118,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100000333","name":"VdomLifecycle#afterSetVnode","type":"MethodDefinition","paramnames":["value","oldValue"]},"vars":{"":null}},"description":"<p>Triggered after the vnode config got changed</p>\n","params":[{"type":{"names":["Object"]},"name":"value"},{"type":{"names":["Object","null"]},"name":"oldValue"}],"access":"protected","name":"afterSetVnode","longname":"VdomLifecycle#afterSetVnode","kind":"function","memberof":"VdomLifecycle","scope":"instance","$longname":"VdomLifecycle#afterSetVnode","$kind":"method","id":2662,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Triggered after the vnodeInitialized config got changed\n     * @param {Boolean} value\n     * @param {Boolean} oldValue\n     * @protected\n     */","meta":{"range":[4434,4667],"filename":"VdomLifecycle.mjs","lineno":128,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100000346","name":"VdomLifecycle#afterSetVnodeInitialized","type":"MethodDefinition","paramnames":["value","oldValue"]},"vars":{"":null}},"description":"<p>Triggered after the vnodeInitialized config got changed</p>\n","params":[{"type":{"names":["Boolean"]},"name":"value"},{"type":{"names":["Boolean"]},"name":"oldValue"}],"access":"protected","name":"afterSetVnodeInitialized","longname":"VdomLifecycle#afterSetVnodeInitialized","kind":"function","memberof":"VdomLifecycle","scope":"instance","$longname":"VdomLifecycle#afterSetVnodeInitialized","$kind":"method","id":2663,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Creates a lightweight, serializable placeholder for this component, intended for injection\n     * into the VDOM of other components.\n     *\n     * This is the **only recommended way** to nest a component within another component's VDOM tree.\n     * Directly embedding one component's full `vdom` object into another's is an anti-pattern\n     * that violates the principle of scoped VDOM, leading to unpredictable rendering behavior\n     * and making updates inefficient.\n     *\n     * At its core, the returned object contains a `componentId` that uniquely identifies the\n     * component instance. In cases where a component's structure is wrapped by another element\n     * (e.g., a Button in a Table Header being wrapped by a `<td>`), the reference will also\n     * include the wrapper's `id`. This happens when a component uses `getVdomRoot()` to\n     * designate a deeper node as its logical root, causing the component's `id` and its\n     * VDOM root's `id` to differ. The framework uses this dual-ID reference to correctly\n     * assemble the final VDOM tree.\n     *\n     * @returns {{componentId: String, id: String|undefined}} The VDOM reference object.\n     */","meta":{"range":[5858,6112],"filename":"VdomLifecycle.mjs","lineno":159,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100000378","name":"VdomLifecycle#createVdomReference","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Creates a lightweight, serializable placeholder for this component, intended for injection\ninto the VDOM of other components.</p>\n<p>This is the <strong>only recommended way</strong> to nest a component within another component&#39;s VDOM tree.\nDirectly embedding one component&#39;s full <code>vdom</code> object into another&#39;s is an anti-pattern\nthat violates the principle of scoped VDOM, leading to unpredictable rendering behavior\nand making updates inefficient.</p>\n<p>At its core, the returned object contains a <code>componentId</code> that uniquely identifies the\ncomponent instance. In cases where a component&#39;s structure is wrapped by another element\n(e.g., a Button in a Table Header being wrapped by a <code>&lt;td&gt;</code>), the reference will also\ninclude the wrapper&#39;s <code>id</code>. This happens when a component uses <code>getVdomRoot()</code> to\ndesignate a deeper node as its logical root, causing the component&#39;s <code>id</code> and its\nVDOM root&#39;s <code>id</code> to differ. The framework uses this dual-ID reference to correctly\nassemble the final VDOM tree.</p>\n","returns":[{"type":{"names":["Object"]},"description":"The VDOM reference object."}],"name":"createVdomReference","longname":"VdomLifecycle#createVdomReference","kind":"function","memberof":"VdomLifecycle","scope":"instance","params":[],"$longname":"VdomLifecycle#createVdomReference","$kind":"method","id":2664,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Ensures that the root VDOM node and its wrapper (if any) have stable, unique IDs\n     * derived from the component instance ID. This prevents auto-generated ID collisions\n     * in `ComponentManager.wrapperNodes`.\n     * @protected\n     */","meta":{"range":[6373,6680],"filename":"VdomLifecycle.mjs","lineno":177,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100000417","name":"VdomLifecycle#ensureStableIds","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Ensures that the root VDOM node and its wrapper (if any) have stable, unique IDs\nderived from the component instance ID. This prevents auto-generated ID collisions\nin <code>ComponentManager.wrapperNodes</code>.</p>\n","access":"protected","name":"ensureStableIds","longname":"VdomLifecycle#ensureStableIds","kind":"function","memberof":"VdomLifecycle","scope":"instance","params":[],"$longname":"VdomLifecycle#ensureStableIds","$kind":"method","id":2665,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Internal method to send update requests to the vdom worker.\n     *\n     * **Teleportation / Batched Disjoint Updates:**\n     * This method implements the core logic for \"Teleportation\". Instead of merging child updates\n     * into the parent's VDOM tree (which requires expanding the parent's tree to reach the child),\n     * we collect all merged child updates and send them as a **batch of disjoint payloads**.\n     *\n     * 1. **Recursive Collection:** We recursively collect all `mergedChildIds` from the component\n     *    and its descendants.\n     * 2. **Disjoint Payloads:** For each component in the batch, we generate a \"self-only\" VDOM\n     *    payload (`updateDepth: 1`). This allows the VDOM engine to update the child directly\n     *    without needing the parent to \"bridge\" to it.\n     * 3. **Collision Filtering:** We filter out child updates that are already covered by a\n     *    parent update in the same batch (e.g., if the parent is doing a full tree update).\n     *\n     * @param {function} [resolve] used by promiseUpdate()\n     * @param {function} [reject] used by promiseUpdate()\n     * @private\n     */","meta":{"range":[7833,14309],"filename":"VdomLifecycle.mjs","lineno":212,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100000462","name":"VdomLifecycle#executeVdomUpdate","type":"MethodDefinition","paramnames":["resolve","reject"]},"vars":{"":null}},"description":"<p>Internal method to send update requests to the vdom worker.</p>\n<p><strong>Teleportation / Batched Disjoint Updates:</strong>\nThis method implements the core logic for &quot;Teleportation&quot;. Instead of merging child updates\ninto the parent&#39;s VDOM tree (which requires expanding the parent&#39;s tree to reach the child),\nwe collect all merged child updates and send them as a <strong>batch of disjoint payloads</strong>.</p>\n<ol>\n<li><strong>Recursive Collection:</strong> We recursively collect all <code>mergedChildIds</code> from the component\nand its descendants.</li>\n<li><strong>Disjoint Payloads:</strong> For each component in the batch, we generate a &quot;self-only&quot; VDOM\npayload (<code>updateDepth: 1</code>). This allows the VDOM engine to update the child directly\nwithout needing the parent to &quot;bridge&quot; to it.</li>\n<li><strong>Collision Filtering:</strong> We filter out child updates that are already covered by a\nparent update in the same batch (e.g., if the parent is doing a full tree update).</li>\n</ol>\n","params":[{"type":{"names":["function"]},"optional":true,"description":"<p>used by promiseUpdate()</p>\n","name":"resolve"},{"type":{"names":["function"]},"optional":true,"description":"<p>used by promiseUpdate()</p>\n","name":"reject"}],"access":"private","name":"executeVdomUpdate","longname":"VdomLifecycle#executeVdomUpdate","kind":"function","memberof":"VdomLifecycle","scope":"instance","async":true,"$longname":"VdomLifecycle#executeVdomUpdate","$kind":"method","id":2666,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Honors different item roots for mount / render OPs\n     * @returns {String}\n     */","meta":{"range":[14414,14639],"filename":"VdomLifecycle.mjs","lineno":351,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100000851","name":"VdomLifecycle#getMountedParentId","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Honors different item roots for mount / render OPs</p>\n","returns":[{"type":{"names":["String"]}}],"name":"getMountedParentId","longname":"VdomLifecycle#getMountedParentId","kind":"function","memberof":"VdomLifecycle","scope":"instance","params":[],"$longname":"VdomLifecycle#getMountedParentId","$kind":"method","id":2667,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Calculate the real parentIndex inside the DOM\n     * @returns {Number|undefined}\n     */","meta":{"range":[14749,15209],"filename":"VdomLifecycle.mjs","lineno":363,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100000878","name":"VdomLifecycle#getMountedParentIndex","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Calculate the real parentIndex inside the DOM</p>\n","returns":[{"type":{"names":["Number","undefined"]}}],"name":"getMountedParentIndex","longname":"VdomLifecycle#getMountedParentIndex","kind":"function","memberof":"VdomLifecycle","scope":"instance","params":[],"$longname":"VdomLifecycle#getMountedParentIndex","$kind":"method","id":2668,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Generates the update payload for this component.\n     * @param {Set<String>|null} mergedChildIds\n     * @param {Number} [depth] Override the update depth\n     * @returns {Object} opts\n     */","meta":{"range":[15422,16309],"filename":"VdomLifecycle.mjs","lineno":390,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100000941","name":"VdomLifecycle#getVdomUpdatePayload","type":"MethodDefinition","paramnames":["mergedChildIds","depth"]},"vars":{"":null}},"description":"<p>Generates the update payload for this component.</p>\n","params":[{"type":{"names":["Set.<String>","null"]},"name":"mergedChildIds"},{"type":{"names":["Number"]},"optional":true,"description":"<p>Override the update depth</p>\n","name":"depth"}],"returns":[{"type":{"names":["Object"]},"description":"opts"}],"name":"getVdomUpdatePayload","longname":"VdomLifecycle#getVdomUpdatePayload","kind":"function","memberof":"VdomLifecycle","scope":"instance","$longname":"VdomLifecycle#getVdomUpdatePayload","$kind":"method","id":2669,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Search a vdom child node by id for a given vdom tree\n     * @param {String} id\n     * @param {Object} vdom=this.vdom\n     * @returns {Object}\n     */","meta":{"range":[16480,16565],"filename":"VdomLifecycle.mjs","lineno":421,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100001025","name":"VdomLifecycle#getVdomChild","type":"MethodDefinition","paramnames":["id","vdom"]},"vars":{"":null}},"description":"<p>Search a vdom child node by id for a given vdom tree</p>\n","params":[{"type":{"names":["String"]},"name":"id"},{"type":{"names":["Object"]},"defaultvalue":"this.vdom","name":"vdom"}],"returns":[{"type":{"names":["Object"]}}],"name":"getVdomChild","longname":"VdomLifecycle#getVdomChild","kind":"function","memberof":"VdomLifecycle","scope":"instance","$longname":"VdomLifecycle#getVdomChild","$kind":"method","id":2670,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Specify a different vdom root if needed to apply the top level style attributes on a different level.\n     * Make sure to use getVnodeRoot() as well, to keep the vdom & vnode trees in sync.\n     * @returns {Object} The new vdom root\n     */","meta":{"range":[16827,16873],"filename":"VdomLifecycle.mjs","lineno":430,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100001037","name":"VdomLifecycle#getVdomRoot","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Specify a different vdom root if needed to apply the top level style attributes on a different level.\nMake sure to use getVnodeRoot() as well, to keep the vdom &amp; vnode trees in sync.</p>\n","returns":[{"type":{"names":["Object"]},"description":"The new vdom root"}],"name":"getVdomRoot","longname":"VdomLifecycle#getVdomRoot","kind":"function","memberof":"VdomLifecycle","scope":"instance","params":[],"$longname":"VdomLifecycle#getVdomRoot","$kind":"method","id":2671,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Specify a different vnode root if needed to apply the top level style attributes on a different level.\n     * Make sure to use getVdomRoot() as well, to keep the vdom & vnode trees in sync.\n     * @returns {Object} The new vnode root\n     */","meta":{"range":[17136,17184],"filename":"VdomLifecycle.mjs","lineno":439,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100001045","name":"VdomLifecycle#getVnodeRoot","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Specify a different vnode root if needed to apply the top level style attributes on a different level.\nMake sure to use getVdomRoot() as well, to keep the vdom &amp; vnode trees in sync.</p>\n","returns":[{"type":{"names":["Object"]},"description":"The new vnode root"}],"name":"getVnodeRoot","longname":"VdomLifecycle#getVnodeRoot","kind":"function","memberof":"VdomLifecycle","scope":"instance","params":[],"$longname":"VdomLifecycle#getVnodeRoot","$kind":"method","id":2672,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Checks if a child update can be merged into a parent update.\n     *\n     * **Merge Strategy (Optimization):**\n     * We allow merging regardless of distance (Teleportation).\n     * The `executeVdomUpdate` logic will distinguish between Connected (merged into tree)\n     * and Disjoint (batched separately) updates.\n     *\n     * @param {Number} updateDepth\n     * @param {Number} distance\n     * @returns {Boolean}\n     */","meta":{"range":[17628,17693],"filename":"VdomLifecycle.mjs","lineno":455,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100001053","name":"VdomLifecycle#canMergeUpdate","type":"MethodDefinition","paramnames":["updateDepth","distance"]},"vars":{"":null}},"description":"<p>Checks if a child update can be merged into a parent update.</p>\n<p><strong>Merge Strategy (Optimization):</strong>\nWe allow merging regardless of distance (Teleportation).\nThe <code>executeVdomUpdate</code> logic will distinguish between Connected (merged into tree)\nand Disjoint (batched separately) updates.</p>\n","params":[{"type":{"names":["Number"]},"name":"updateDepth"},{"type":{"names":["Number"]},"name":"distance"}],"returns":[{"type":{"names":["Boolean"]}}],"name":"canMergeUpdate","longname":"VdomLifecycle#canMergeUpdate","kind":"function","memberof":"VdomLifecycle","scope":"instance","$longname":"VdomLifecycle#canMergeUpdate","$kind":"method","id":2673,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Checks if a given updateDepth & distance would result in an update collision.\n     * The check must use `<` because `updateDepth` is 1-based.\n     *\n     * **Scoped VDOM Update Rationale:**\n     * - `updateDepth: 1` means the update is scoped to the component itself.\n     * - The Parent's VDOM payload naturally contains only its own structure and **reference nodes**\n     *   (placeholders) for its children (e.g. `{componentId: '...'}`).\n     * - At Depth 1, these references are **not expanded** into the children's full VDOM trees.\n     * - Therefore, a Parent (Depth 1) update and a Child update operate on **disjoint** sets of DOM nodes.\n     * - They **do not collide** and **should not merge**. They should run as independent, parallel updates.\n     *\n     * - A direct child is at `distance: 1`.\n     * Therefore, an update with depth 1 should NOT collide with a child at distance 1 (1 < 1 is false).\n     *\n     * @param {Number} updateDepth\n     * @param {Number} distance\n     * @returns {Boolean}\n     */","meta":{"range":[18733,18848],"filename":"VdomLifecycle.mjs","lineno":478,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100001061","name":"VdomLifecycle#hasUpdateCollision","type":"MethodDefinition","paramnames":["updateDepth","distance"]},"vars":{"":null}},"description":"<p>Checks if a given updateDepth &amp; distance would result in an update collision.\nThe check must use <code>&lt;</code> because <code>updateDepth</code> is 1-based.</p>\n<p><strong>Scoped VDOM Update Rationale:</strong></p>\n<ul>\n<li><p><code>updateDepth: 1</code> means the update is scoped to the component itself.</p>\n</li>\n<li><p>The Parent&#39;s VDOM payload naturally contains only its own structure and <strong>reference nodes</strong>\n(placeholders) for its children (e.g. <code>{componentId: &#39;...&#39;}</code>).</p>\n</li>\n<li><p>At Depth 1, these references are <strong>not expanded</strong> into the children&#39;s full VDOM trees.</p>\n</li>\n<li><p>Therefore, a Parent (Depth 1) update and a Child update operate on <strong>disjoint</strong> sets of DOM nodes.</p>\n</li>\n<li><p>They <strong>do not collide</strong> and <strong>should not merge</strong>. They should run as independent, parallel updates.</p>\n</li>\n<li><p>A direct child is at <code>distance: 1</code>.\nTherefore, an update with depth 1 should NOT collide with a child at distance 1 (1 &lt; 1 is false).</p>\n</li>\n</ul>\n","params":[{"type":{"names":["Number"]},"name":"updateDepth"},{"type":{"names":["Number"]},"name":"distance"}],"returns":[{"type":{"names":["Boolean"]}}],"name":"hasUpdateCollision","longname":"VdomLifecycle#hasUpdateCollision","kind":"function","memberof":"VdomLifecycle","scope":"instance","$longname":"VdomLifecycle#hasUpdateCollision","$kind":"method","id":2674,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Creates the vnode tree for this component and mounts the component in case\n     * - you pass true for the mount param\n     * - or the autoMount config is set to true\n     * @param {Boolean} [mount] Mount the DOM after the vnode got created\n     * @returns {Promise<any>} If getting there, we return the data from vdom.Helper: create(), containing the vnode.\n     */","meta":{"range":[19235,21978],"filename":"VdomLifecycle.mjs","lineno":489,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100001077","name":"VdomLifecycle#initVnode","type":"MethodDefinition","paramnames":["mount"]},"vars":{"":null}},"description":"<p>Creates the vnode tree for this component and mounts the component in case</p>\n<ul>\n<li>you pass true for the mount param</li>\n<li>or the autoMount config is set to true</li>\n</ul>\n","params":[{"type":{"names":["Boolean"]},"optional":true,"description":"<p>Mount the DOM after the vnode got created</p>\n","name":"mount"}],"returns":[{"type":{"names":["Promise.<any>"]},"description":"If getting there, we return the data from vdom.Helper: create(), containing the vnode."}],"name":"initVnode","longname":"VdomLifecycle#initVnode","kind":"function","memberof":"VdomLifecycle","scope":"instance","async":true,"$longname":"VdomLifecycle#initVnode","$kind":"method","id":2675,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Synchronization Guard: Checks if any descendant component is currently updating its VDOM.\n     *\n     * If a descendant is in-flight, this method registers a post-update callback on the\n     * blocking descendant and returns `true`, signaling the caller (`updateVdom`) to yield.\n     * This prevents the Parent from starting an update that might overwrite or conflict\n     * with the Child's concurrent work, effectively serializing the updates.\n     *\n     * @param {Function} [resolve] Gets passed by updateVdom() to be called after the blocking update finishes.\n     * @returns {Boolean} True if a child update conflict exists (Parent should yield).\n     */","meta":{"range":[22660,23194],"filename":"VdomLifecycle.mjs","lineno":577,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100001357","name":"VdomLifecycle#isChildUpdating","type":"MethodDefinition","paramnames":["resolve"]},"vars":{"":null}},"description":"<p>Synchronization Guard: Checks if any descendant component is currently updating its VDOM.</p>\n<p>If a descendant is in-flight, this method registers a post-update callback on the\nblocking descendant and returns <code>true</code>, signaling the caller (<code>updateVdom</code>) to yield.\nThis prevents the Parent from starting an update that might overwrite or conflict\nwith the Child&#39;s concurrent work, effectively serializing the updates.</p>\n","params":[{"type":{"names":["function"]},"optional":true,"description":"<p>Gets passed by updateVdom() to be called after the blocking update finishes.</p>\n","name":"resolve"}],"returns":[{"type":{"names":["Boolean"]},"description":"True if a child update conflict exists (Parent should yield)."}],"name":"isChildUpdating","longname":"VdomLifecycle#isChildUpdating","kind":"function","memberof":"VdomLifecycle","scope":"instance","$longname":"VdomLifecycle#isChildUpdating","$kind":"method","id":2676,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Checks for vdom updates inside the parent chain and if found.\n     * Registers the component for a vdom update once done.\n     * @param {String} parentId=this.parentId\n     * @param {Function} [resolve] Gets passed by updateVdom()\n     * @param {Number} distance=1 Distance inside the component tree\n     * @returns {Boolean}\n     */","meta":{"range":[23549,24697],"filename":"VdomLifecycle.mjs","lineno":603,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100001428","name":"VdomLifecycle#isParentUpdating","type":"MethodDefinition","paramnames":["parentId","resolve","distance"]},"vars":{"":null}},"description":"<p>Checks for vdom updates inside the parent chain and if found.\nRegisters the component for a vdom update once done.</p>\n","params":[{"type":{"names":["String"]},"defaultvalue":"this.parentId","name":"parentId"},{"type":{"names":["function"]},"optional":true,"description":"<p>Gets passed by updateVdom()</p>\n","name":"resolve"},{"type":{"names":["Number"]},"defaultvalue":1,"description":"<p>Distance inside the component tree</p>\n","name":"distance"}],"returns":[{"type":{"names":["Boolean"]}}],"name":"isParentUpdating","longname":"VdomLifecycle#isParentUpdating","kind":"function","memberof":"VdomLifecycle","scope":"instance","$longname":"VdomLifecycle#isParentUpdating","$kind":"method","id":2677,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Traverses the parent chain to find an ancestor that is pending a VDOM update.\n     * If found, and if the update scope allows (see `canMergeUpdate`), this component's\n     * update is merged into the ancestor's cycle.\n     *\n     * **Recursive Traversal:**\n     * This method recursively walks up the component tree (`distance + 1`). This enables\n     * transitive merging (Grandchild -> Child -> Parent) and merging into ancestors even\n     * if intermediate parents are not updating.\n     *\n     * @param {String} parentId=this.parentId\n     * @param {Function} [resolve] gets passed by updateVdom()\n     * @param {Number} distance=1 Distance inside the component tree\n     * @returns {Boolean} True if the update was successfully merged.\n     */","meta":{"range":[25467,26163],"filename":"VdomLifecycle.mjs","lineno":648,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100001529","name":"VdomLifecycle#mergeIntoParentUpdate","type":"MethodDefinition","paramnames":["parentId","distance"]},"vars":{"":null}},"description":"<p>Traverses the parent chain to find an ancestor that is pending a VDOM update.\nIf found, and if the update scope allows (see <code>canMergeUpdate</code>), this component&#39;s\nupdate is merged into the ancestor&#39;s cycle.</p>\n<p><strong>Recursive Traversal:</strong>\nThis method recursively walks up the component tree (<code>distance + 1</code>). This enables\ntransitive merging (Grandchild -&gt; Child -&gt; Parent) and merging into ancestors even\nif intermediate parents are not updating.</p>\n","params":[{"type":{"names":["String"]},"defaultvalue":"this.parentId","name":"parentId"},{"type":{"names":["function"]},"optional":true,"description":"<p>gets passed by updateVdom()</p>\n","name":"resolve"},{"type":{"names":["Number"]},"defaultvalue":1,"description":"<p>Distance inside the component tree</p>\n","name":"distance"}],"returns":[{"type":{"names":["Boolean"]},"description":"True if the update was successfully merged."}],"name":"mergeIntoParentUpdate","longname":"VdomLifecycle#mergeIntoParentUpdate","kind":"function","memberof":"VdomLifecycle","scope":"instance","$longname":"VdomLifecycle#mergeIntoParentUpdate","$kind":"method","id":2678,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Gets called from the initVnode() promise success handler\n     * @param {Object} vnode\n     * @param {Boolean} autoMount Mount the DOM after the vnode got created\n     * @protected\n     */","meta":{"range":[26372,27502],"filename":"VdomLifecycle.mjs","lineno":673,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100001604","name":"VdomLifecycle#onInitVnode","type":"MethodDefinition","paramnames":["vnode","autoMount"]},"vars":{"":null}},"description":"<p>Gets called from the initVnode() promise success handler</p>\n","params":[{"type":{"names":["Object"]},"name":"vnode"},{"type":{"names":["Boolean"]},"description":"<p>Mount the DOM after the vnode got created</p>\n","name":"autoMount"}],"access":"protected","name":"onInitVnode","longname":"VdomLifecycle#onInitVnode","kind":"function","memberof":"VdomLifecycle","scope":"instance","$longname":"VdomLifecycle#onInitVnode","$kind":"method","id":2679,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * @returns {Promise<any>}\n     */","meta":{"range":[27555,27909],"filename":"VdomLifecycle.mjs","lineno":718,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100001735","name":"VdomLifecycle#promiseUpdate","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"returns":[{"type":{"names":["Promise.<any>"]}}],"name":"promiseUpdate","longname":"VdomLifecycle#promiseUpdate","kind":"function","memberof":"VdomLifecycle","scope":"instance","params":[],"$longname":"VdomLifecycle#promiseUpdate","$kind":"method","id":2680,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Internal helper fn to resolve the Promise for updateVdom()\n     * @param {Object} [data] The return value of vdom.Helper.update()\n     * @param {Set<String>|null} [mergedChildIds] IDs of children included in this update\n     * @protected\n     */","meta":{"range":[28176,28758],"filename":"VdomLifecycle.mjs","lineno":739,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100001793","name":"VdomLifecycle#resolveVdomUpdate","type":"MethodDefinition","paramnames":["data","mergedChildIds"]},"vars":{"":null}},"description":"<p>Internal helper fn to resolve the Promise for updateVdom()</p>\n","params":[{"type":{"names":["Object"]},"optional":true,"description":"<p>The return value of vdom.Helper.update()</p>\n","name":"data"},{"type":{"names":["Set.<String>","null"]},"optional":true,"description":"<p>IDs of children included in this update</p>\n","name":"mergedChildIds"}],"access":"protected","name":"resolveVdomUpdate","longname":"VdomLifecycle#resolveVdomUpdate","kind":"function","memberof":"VdomLifecycle","scope":"instance","$longname":"VdomLifecycle#resolveVdomUpdate","$kind":"method","id":2681,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Placeholder method for util.VDom.syncVdomState to allow overriding (disabling) it\n     * @param {Neo.vdom.VNode} [vnode=this.vnode]\n     * @param {Object} [vdom=this.vdom]\n     * @param {Boolean} force=false\n     */","meta":{"range":[28995,29114],"filename":"VdomLifecycle.mjs","lineno":765,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100001845","name":"VdomLifecycle#syncVdomState","type":"MethodDefinition","paramnames":["vnode","vdom","force"]},"vars":{"":null}},"description":"<p>Placeholder method for util.VDom.syncVdomState to allow overriding (disabling) it</p>\n","params":[{"type":{"names":["Neo.vdom.VNode"]},"optional":true,"defaultvalue":"this.vnode","name":"vnode"},{"type":{"names":["Object"]},"optional":true,"defaultvalue":"this.vdom","name":"vdom"},{"type":{"names":["Boolean"]},"defaultvalue":false,"name":"force"}],"name":"syncVdomState","longname":"VdomLifecycle#syncVdomState","kind":"function","memberof":"VdomLifecycle","scope":"instance","$longname":"VdomLifecycle#syncVdomState","$kind":"method","id":2682,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * In case a component receives a new vnode, we want to do:\n     * - sync the vdom ids\n     * - setting vnodeInitialized to true for child components\n     * - updating the parent component to ensure that the vnode tree stays persistent\n     * @param {Neo.vdom.VNode} [vnode=this.vnode]\n     */","meta":{"range":[29426,31178],"filename":"VdomLifecycle.mjs","lineno":776,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100001870","name":"VdomLifecycle#syncVnodeTree","type":"MethodDefinition","paramnames":["vnode"]},"vars":{"":null}},"description":"<p>In case a component receives a new vnode, we want to do:</p>\n<ul>\n<li>sync the vdom ids</li>\n<li>setting vnodeInitialized to true for child components</li>\n<li>updating the parent component to ensure that the vnode tree stays persistent</li>\n</ul>\n","params":[{"type":{"names":["Neo.vdom.VNode"]},"optional":true,"defaultvalue":"this.vnode","name":"vnode"}],"name":"syncVnodeTree","longname":"VdomLifecycle#syncVnodeTree","kind":"function","memberof":"VdomLifecycle","scope":"instance","$longname":"VdomLifecycle#syncVnodeTree","$kind":"method","id":2683,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     *\n     */","meta":{"range":[31207,31266],"filename":"VdomLifecycle.mjs","lineno":830,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100002063","name":"VdomLifecycle#update","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"name":"update","longname":"VdomLifecycle#update","kind":"function","memberof":"VdomLifecycle","scope":"instance","params":[],"$longname":"VdomLifecycle#update","$kind":"method","id":2684,"neoClassName":"Neo.mixin.VdomLifecycle"},{"comment":"/**\n     * Gets called after the vdom config gets changed in case the component is already mounted (delta updates).\n     * @param {function} [resolve] used by promiseUpdate()\n     * @param {function} [reject] used by promiseUpdate()\n     * @protected\n     */","meta":{"range":[31535,34408],"filename":"VdomLifecycle.mjs","lineno":840,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/mixin","code":{"id":"astnode100002076","name":"VdomLifecycle#updateVdom","type":"MethodDefinition","paramnames":["resolve","reject"]},"vars":{"":null}},"description":"<p>Gets called after the vdom config gets changed in case the component is already mounted (delta updates).</p>\n","params":[{"type":{"names":["function"]},"optional":true,"description":"<p>used by promiseUpdate()</p>\n","name":"resolve"},{"type":{"names":["function"]},"optional":true,"description":"<p>used by promiseUpdate()</p>\n","name":"reject"}],"access":"protected","name":"updateVdom","longname":"VdomLifecycle#updateVdom","kind":"function","memberof":"VdomLifecycle","scope":"instance","$longname":"VdomLifecycle#updateVdom","$kind":"method","id":2685,"neoClassName":"Neo.mixin.VdomLifecycle"}]}