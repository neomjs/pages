{"classData":[{"comment":"/**\n * @class Neo.data.proxy.Stream\n * @extends Neo.data.proxy.Base\n *\n * @summary A Proxy implementation for streaming newline-delimited JSON (NDJSON/JSONL).\n *\n * This proxy uses the modern `fetch` and `ReadableStream` APIs to process data incrementally.\n * Unlike standard JSON parsing (which requires the entire file to be downloaded and parsed at once),\n * this proxy yields records as they arrive.\n *\n * **Performance & Batching:**\n * To avoid overwhelming the main thread (App Worker) with thousands of micro-events, this class\n * implements a buffering strategy. It accumulates parsed records into a chunk (defined by `chunkSize`)\n * and fires a single `data` event containing the array of records. This allows the consumer (Store)\n * to perform bulk updates, drastically reducing overhead.\n *\n * **Compression Support:**\n * You can configure the proxy to use `DecompressionStream` (gzip/deflate) by setting the `compression` config.\n * This allows serving pre-compressed files (`.jsonl.gz`), significantly reducing network transfer size\n * (often >60% reduction) while keeping the client-side parsing logic identical.\n *\n * **Requirements:**\n * - The backend must serve data in NDJSON format (one valid JSON object per line).\n * - The environment must support `TextDecoderStream` (Modern Browsers, Workers).\n */","meta":{"filename":"Stream.mjs","lineno":3,"columnno":0,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/data/proxy","code":{}},"kind":"class","name":"Stream","augments":["Neo.data.proxy.Base"],"summary":"A Proxy implementation for streaming newline-delimited JSON (NDJSON/JSONL).\n\nThis proxy uses the modern `fetch` and `ReadableStream` APIs to process data incrementally.\nUnlike standard JSON parsing (which requires the entire file to be downloaded and parsed at once),\nthis proxy yields records as they arrive.\n\n**Performance & Batching:**\nTo avoid overwhelming the main thread (App Worker) with thousands of micro-events, this class\nimplements a buffering strategy. It accumulates parsed records into a chunk (defined by `chunkSize`)\nand fires a single `data` event containing the array of records. This allows the consumer (Store)\nto perform bulk updates, drastically reducing overhead.\n\n**Compression Support:**\nYou can configure the proxy to use `DecompressionStream` (gzip/deflate) by setting the `compression` config.\nThis allows serving pre-compressed files (`.jsonl.gz`), significantly reducing network transfer size\n(often >60% reduction) while keeping the client-side parsing logic identical.\n\n**Requirements:**\n- The backend must serve data in NDJSON format (one valid JSON object per line).\n- The environment must support `TextDecoderStream` (Modern Browsers, Workers).","memberof":"Neo.data.proxy","longname":"Neo.data.proxy.Stream","scope":"static","$longname":"Neo.data.proxy.Stream","$kind":"class","id":4599,"neoClassName":"Neo.data.proxy.Stream"},{"comment":"/**\n         * @member {String} className='Neo.data.proxy.Stream'\n         * @protected\n         */","meta":{"filename":"Stream.mjs","lineno":34,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/data/proxy","code":{}},"kind":"member","name":"className","type":{"names":["String"]},"defaultvalue":"'Neo.data.proxy.Stream'","access":"protected","longname":"className","scope":"global","$longname":"className","$kind":"property","id":4600,"neoClassName":"Neo.data.proxy.Stream"},{"comment":"/**\n         * @member {String} ntype='proxy-stream'\n         * @protected\n         */","meta":{"filename":"Stream.mjs","lineno":39,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/data/proxy","code":{}},"kind":"member","name":"ntype","type":{"names":["String"]},"defaultvalue":"'proxy-stream'","access":"protected","longname":"ntype","scope":"global","$longname":"ntype","$kind":"property","id":4601,"neoClassName":"Neo.data.proxy.Stream"},{"comment":"/**\n         * Number of records to batch before firing a 'data' event.\n         * @member {Number} chunkSize=500\n         */","meta":{"filename":"Stream.mjs","lineno":44,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/data/proxy","code":{}},"description":"<p>Number of records to batch before firing a &#39;data&#39; event.</p>\n","kind":"member","name":"chunkSize","type":{"names":["Number"]},"defaultvalue":500,"longname":"chunkSize","scope":"global","$longname":"chunkSize","$kind":"property","id":4602,"neoClassName":"Neo.data.proxy.Stream"},{"comment":"/**\n         * Set the compression algorithm to use for the stream.\n         * Valid values: 'gzip', 'deflate', null.\n         *\n         * Uses the browser's `DecompressionStream` API to transparently unzip data on the fly.\n         * This can reduce bandwidth usage by 60-80% for JSONL data, enabling significantly larger datasets.\n         *\n         * @member {String|null} compression=null\n         */","meta":{"filename":"Stream.mjs","lineno":54,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/data/proxy","code":{}},"description":"<p>Set the compression algorithm to use for the stream.\nValid values: &#39;gzip&#39;, &#39;deflate&#39;, null.</p>\n<p>Uses the browser&#39;s <code>DecompressionStream</code> API to transparently unzip data on the fly.\nThis can reduce bandwidth usage by 60-80% for JSONL data, enabling significantly larger datasets.</p>\n","kind":"member","name":"compression","type":{"names":["String","null"]},"defaultvalue":null,"longname":"compression","scope":"global","$longname":"compression","$kind":"property","id":4603,"neoClassName":"Neo.data.proxy.Stream"},{"comment":"/**\n         * How many chunks to send at initialChunkSize before switching to chunkSize.\n         * @member {Number} initialBurstCount=5\n         */","meta":{"filename":"Stream.mjs","lineno":59,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/data/proxy","code":{}},"description":"<p>How many chunks to send at initialChunkSize before switching to chunkSize.</p>\n","kind":"member","name":"initialBurstCount","type":{"names":["Number"]},"defaultvalue":5,"longname":"initialBurstCount","scope":"global","$longname":"initialBurstCount","$kind":"property","id":4604,"neoClassName":"Neo.data.proxy.Stream"},{"comment":"/**\n         * The chunk size for the first few batches.\n         * Useful to speed up the initial render (Time To First Content).\n         * @member {Number|null} initialChunkSize=100\n         */","meta":{"filename":"Stream.mjs","lineno":65,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/data/proxy","code":{}},"description":"<p>The chunk size for the first few batches.\nUseful to speed up the initial render (Time To First Content).</p>\n","kind":"member","name":"initialChunkSize","type":{"names":["Number","null"]},"defaultvalue":100,"longname":"initialChunkSize","scope":"global","$longname":"initialChunkSize","$kind":"property","id":4605,"neoClassName":"Neo.data.proxy.Stream"},{"comment":"/**\n         * True to automatically increase the chunkSize based on the total number of loaded items.\n         *\n         * **Progressive Enhancement Strategy:**\n         * When loading large datasets (e.g., 30k+ records), the cost of `store.add()` (sorting + event propagation)\n         * becomes the dominant bottleneck. However, the user needs immediate feedback.\n         *\n         * - **Phase 1 (Start):** Small chunks (100-250) for immediate \"Time to First Content\" and frequent UI updates.\n         * - **Phase 2 (Ramp):** Medium chunks (500-1500) as the user processes the initial data.\n         * - **Phase 3 (Bulk):** Massive chunks (2500-10000) for the tail end of the dataset. At this point,\n         *   throughput matters more than interactivity, as the user already has a screen full of data.\n         *\n         * This mode overrides `initialBurstCount` and `chunkSize`.\n         *\n         * @member {Boolean} progressiveChunkSize=false\n         */","meta":{"filename":"Stream.mjs","lineno":82,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/data/proxy","code":{}},"description":"<p>True to automatically increase the chunkSize based on the total number of loaded items.</p>\n<p><strong>Progressive Enhancement Strategy:</strong>\nWhen loading large datasets (e.g., 30k+ records), the cost of <code>store.add()</code> (sorting + event propagation)\nbecomes the dominant bottleneck. However, the user needs immediate feedback.</p>\n<ul>\n<li><strong>Phase 1 (Start):</strong> Small chunks (100-250) for immediate &quot;Time to First Content&quot; and frequent UI updates.</li>\n<li><strong>Phase 2 (Ramp):</strong> Medium chunks (500-1500) as the user processes the initial data.</li>\n<li><strong>Phase 3 (Bulk):</strong> Massive chunks (2500-10000) for the tail end of the dataset. At this point,\nthroughput matters more than interactivity, as the user already has a screen full of data.</li>\n</ul>\n<p>This mode overrides <code>initialBurstCount</code> and <code>chunkSize</code>.</p>\n","kind":"member","name":"progressiveChunkSize","type":{"names":["Boolean"]},"defaultvalue":false,"longname":"progressiveChunkSize","scope":"global","$longname":"progressiveChunkSize","$kind":"property","id":4606,"neoClassName":"Neo.data.proxy.Stream"},{"comment":"/**\n     * @member {AbortController|null} abortController=null\n     * @protected\n     */","meta":{"filename":"Stream.mjs","lineno":89,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/data/proxy","code":{}},"kind":"member","name":"abortController","type":{"names":["AbortController","null"]},"defaultvalue":null,"access":"protected","longname":"abortController","scope":"global","$longname":"abortController","$kind":"property","id":4607,"neoClassName":"Neo.data.proxy.Stream"},{"comment":"/**\n     * Aborts the current stream request.\n     */","meta":{"range":[3907,3960],"filename":"Stream.mjs","lineno":94,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/data/proxy","code":{"id":"astnode100057209","name":"Stream#abort","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Aborts the current stream request.</p>\n","name":"abort","longname":"Stream#abort","kind":"function","memberof":"Stream","scope":"instance","params":[],"$longname":"Stream#abort","$kind":"method","id":4608,"neoClassName":"Neo.data.proxy.Stream"},{"comment":"/**\n     * @param {Object} operation\n     * @returns {Promise}\n     */","meta":{"range":[4041,7813],"filename":"Stream.mjs","lineno":102,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/data/proxy","code":{"id":"astnode100057215","name":"Stream#read","type":"MethodDefinition","paramnames":["operation"]},"vars":{"":null}},"params":[{"type":{"names":["Object"]},"name":"operation"}],"returns":[{"type":{"names":["Promise"]}}],"name":"read","longname":"Stream#read","kind":"function","memberof":"Stream","scope":"instance","async":true,"$longname":"Stream#read","$kind":"method","id":4609,"neoClassName":"Neo.data.proxy.Stream"},{"comment":"/**\n     * Calculates the next chunk size based on the total number of records processed so far.\n     * Implements a tiered ramping strategy to balance initial responsiveness with long-term throughput.\n     *\n     * @param {Number} total The total number of records processed\n     * @returns {Number} The recommended chunk size for the next batch\n     */","meta":{"range":[8178,8513],"filename":"Stream.mjs","lineno":217,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/data/proxy","code":{"id":"astnode100057605","name":"Stream#getProgressiveChunkSize","type":"MethodDefinition","paramnames":["total"]},"vars":{"":null}},"description":"<p>Calculates the next chunk size based on the total number of records processed so far.\nImplements a tiered ramping strategy to balance initial responsiveness with long-term throughput.</p>\n","params":[{"type":{"names":["Number"]},"description":"<p>The total number of records processed</p>\n","name":"total"}],"returns":[{"type":{"names":["Number"]},"description":"The recommended chunk size for the next batch"}],"name":"getProgressiveChunkSize","longname":"Stream#getProgressiveChunkSize","kind":"function","memberof":"Stream","scope":"instance","$longname":"Stream#getProgressiveChunkSize","$kind":"method","id":4610,"neoClassName":"Neo.data.proxy.Stream"},{"comment":"/**\n     * @param {String} line\n     * @param {Array} chunk\n     */","meta":{"range":[8591,8783],"filename":"Stream.mjs","lineno":232,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/data/proxy","code":{"id":"astnode100057654","name":"Stream#processLine","type":"MethodDefinition","paramnames":["line","chunk"]},"vars":{"":null}},"params":[{"type":{"names":["String"]},"name":"line"},{"type":{"names":["Array"]},"name":"chunk"}],"name":"processLine","longname":"Stream#processLine","kind":"function","memberof":"Stream","scope":"instance","$longname":"Stream#processLine","$kind":"method","id":4611,"neoClassName":"Neo.data.proxy.Stream"}]}