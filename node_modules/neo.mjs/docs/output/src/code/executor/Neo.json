{"classData":[{"comment":"/**\n * @summary Executor implementation for Neo.mjs source code.\n *\n * This executor is responsible for taking raw Neo.mjs component code (as a string), resolving its dependencies,\n * and executing it within a container. It handles:\n * - **Dynamic Imports**: Parsing `import` statements and resolving them at runtime using `Promise.all` and `import()`.\n * - **Environment Handling**: Adjusting import paths based on the running environment (`development`, `dist/development`, `dist/production`) to ensure correct file resolution.\n * - **Code Execution**: Wrapping the code in a `new Function` context to execute it safely and inject the result into the target container.\n * - **Namespace Management**: Cleaning up previous class definitions to allow for iterative development and re-execution.\n *\n * @class Neo.code.executor.Neo\n * @extends Neo.core.Base\n */","meta":{"filename":"Neo.mjs","lineno":8,"columnno":0,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/code/executor","code":{}},"summary":"Executor implementation for Neo.mjs source code.\n\nThis executor is responsible for taking raw Neo.mjs component code (as a string), resolving its dependencies,\nand executing it within a container. It handles:\n- **Dynamic Imports**: Parsing `import` statements and resolving them at runtime using `Promise.all` and `import()`.\n- **Environment Handling**: Adjusting import paths based on the running environment (`development`, `dist/development`, `dist/production`) to ensure correct file resolution.\n- **Code Execution**: Wrapping the code in a `new Function` context to execute it safely and inject the result into the target container.\n- **Namespace Management**: Cleaning up previous class definitions to allow for iterative development and re-execution.","kind":"class","name":"Neo","augments":["Neo.core.Base"],"memberof":"Neo.code.executor","longname":"Neo.code.executor.Neo","scope":"static","$longname":"Neo.code.executor.Neo","$kind":"class","id":4305,"neoClassName":"Neo.code.executor.Neo"},{"comment":"/**\n         * @member {String} className='Neo.code.executor.Neo'\n         * @protected\n         */","meta":{"filename":"Neo.mjs","lineno":27,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/code/executor","code":{}},"kind":"member","name":"className","type":{"names":["String"]},"defaultvalue":"'Neo.code.executor.Neo'","access":"protected","longname":"className","scope":"global","$longname":"className","$kind":"property","id":4306,"neoClassName":"Neo.code.executor.Neo"},{"comment":"/**\n     * @param {String} sourceCode\n     * @returns {String[]}\n     */","meta":{"range":[1507,1734],"filename":"Neo.mjs","lineno":34,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/code/executor","code":{"id":"astnode100050632","name":"NeoExecutor#findClassNames","type":"MethodDefinition","paramnames":["sourceCode"]},"vars":{"":null}},"params":[{"type":{"names":["String"]},"name":"sourceCode"}],"returns":[{"type":{"names":["Array.<String>"]}}],"name":"findClassNames","longname":"NeoExecutor#findClassNames","kind":"function","memberof":"NeoExecutor","scope":"instance","$longname":"NeoExecutor#findClassNames","$kind":"method","id":4307,"neoClassName":"Neo.code.executor.Neo"},{"comment":"/**\n     * @param {String} sourceCode\n     * @returns {String|null}\n     */","meta":{"range":[1820,2422],"filename":"Neo.mjs","lineno":49,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/code/executor","code":{"id":"astnode100050664","name":"NeoExecutor#findMainClassName","type":"MethodDefinition","paramnames":["sourceCode"]},"vars":{"":null}},"params":[{"type":{"names":["String"]},"name":"sourceCode"}],"returns":[{"type":{"names":["String","null"]}}],"name":"findMainClassName","longname":"NeoExecutor#findMainClassName","kind":"function","memberof":"NeoExecutor","scope":"instance","$longname":"NeoExecutor#findMainClassName","$kind":"method","id":4308,"neoClassName":"Neo.code.executor.Neo"},{"comment":"/**\n     * Executes the provided Neo.mjs source code within the given container.\n     *\n     * This method performs a complex transformation to emulate a native module environment within the browser:\n     * 1.  **Import Rewriting**: It parses the source for `import` statements and maps them to dynamic `import()` calls.\n     *     Crucially, it adjusts relative paths based on the `environment` (dev vs. dist) to ensure the browser can resolve the files.\n     * 2.  **Promise Resolution**: It wraps all imports in a `Promise.all` to ensure dependencies are ready before code execution.\n     * 3.  **Sandbox Execution**: It constructs a function body string and executes it using `new Function`. This allows the code\n     *     to run in the global scope but with injected variables (`container`, `module`).\n     * 4.  **Namespace Cleaning**: It actively deletes the target class from the `Neo` namespace before execution. This is critical\n     *     for **Hot Module Replacement (HMR)** workflows, ensuring that re-running the code actually updates the class definition\n     *     instead of using a cached version.\n     * @param {Object} data\n     * @param {String} data.code\n     * @param {Neo.container.Base} data.container\n     * @returns {Promise<Object>}\n     */","meta":{"range":[3702,7974],"filename":"Neo.mjs","lineno":87,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/src/code/executor","code":{"id":"astnode100050734","name":"NeoExecutor#execute","type":"MethodDefinition","paramnames":[""]},"vars":{"":null}},"description":"<p>Executes the provided Neo.mjs source code within the given container.</p>\n<p>This method performs a complex transformation to emulate a native module environment within the browser:</p>\n<ol>\n<li><strong>Import Rewriting</strong>: It parses the source for <code>import</code> statements and maps them to dynamic <code>import()</code> calls.\nCrucially, it adjusts relative paths based on the <code>environment</code> (dev vs. dist) to ensure the browser can resolve the files.</li>\n<li><strong>Promise Resolution</strong>: It wraps all imports in a <code>Promise.all</code> to ensure dependencies are ready before code execution.</li>\n<li><strong>Sandbox Execution</strong>: It constructs a function body string and executes it using <code>new Function</code>. This allows the code\nto run in the global scope but with injected variables (<code>container</code>, <code>module</code>).</li>\n<li><strong>Namespace Cleaning</strong>: It actively deletes the target class from the <code>Neo</code> namespace before execution. This is critical\nfor <strong>Hot Module Replacement (HMR)</strong> workflows, ensuring that re-running the code actually updates the class definition\ninstead of using a cached version.</li>\n</ol>\n","params":[{"type":{"names":["Object"]},"name":"data"},{"type":{"names":["String"]},"name":"data.code"},{"type":{"names":["Neo.container.Base"]},"name":"data.container"}],"returns":[{"type":{"names":["Promise.<Object>"]}}],"name":"execute","longname":"NeoExecutor#execute","kind":"function","memberof":"NeoExecutor","scope":"instance","async":true,"$longname":"NeoExecutor#execute","$kind":"method","id":4309,"neoClassName":"Neo.code.executor.Neo"}]}