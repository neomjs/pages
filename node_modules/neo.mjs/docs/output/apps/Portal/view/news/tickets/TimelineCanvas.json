{"classData":[{"comment":"/**\n * @summary The \"Coordinator\" component for the Neural Timeline, bridging the App Worker and Canvas Worker.\n *\n * This component renders a transparent canvas overlay on top of the Ticket List. It is responsible for:\n * 1. **Data Bridge**: Listening to the `sections` store and passing ticket data to the `TicketCanvas` (SharedWorker).\n * 2. **Visual Alignment**: Calculating the precise DOM positions of Ticket Avatars/Badges to ensure the\n *    canvas nodes align perfectly with the HTML content.\n * 3. **Lifecycle Management**: initializing the offscreen canvas transfer and handling resize events.\n *\n * It uses the `Portal.canvas.TicketCanvas` singleton (via Remote Method Access) to drive the actual animation.\n *\n * @class Portal.view.news.tickets.TimelineCanvas\n * @extends Portal.view.shared.Canvas\n */","meta":{"filename":"TimelineCanvas.mjs","lineno":3,"columnno":0,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/view/news/tickets","code":{}},"summary":"The \"Coordinator\" component for the Neural Timeline, bridging the App Worker and Canvas Worker.\n\nThis component renders a transparent canvas overlay on top of the Ticket List. It is responsible for:\n1. **Data Bridge**: Listening to the `sections` store and passing ticket data to the `TicketCanvas` (SharedWorker).\n2. **Visual Alignment**: Calculating the precise DOM positions of Ticket Avatars/Badges to ensure the\n   canvas nodes align perfectly with the HTML content.\n3. **Lifecycle Management**: initializing the offscreen canvas transfer and handling resize events.\n\nIt uses the `Portal.canvas.TicketCanvas` singleton (via Remote Method Access) to drive the actual animation.","kind":"class","name":"TimelineCanvas","augments":["Portal.view.shared.Canvas"],"memberof":"Portal.view.news.tickets","longname":"Portal.view.news.tickets.TimelineCanvas","scope":"static","$longname":"Portal.view.news.tickets.TimelineCanvas","$kind":"class","id":8334,"neoClassName":"Portal.view.news.tickets.TimelineCanvas"},{"comment":"/**\n     * @member {Object} delayable\n     */","meta":{"filename":"TimelineCanvas.mjs","lineno":21,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/view/news/tickets","code":{}},"kind":"member","name":"delayable","type":{"names":["Object"]},"longname":"delayable","scope":"global","$longname":"delayable","$kind":"property","id":8335,"neoClassName":"Portal.view.news.tickets.TimelineCanvas"},{"comment":"/**\n         * @member {String} className='Portal.view.news.tickets.TimelineCanvas'\n         * @protected\n         */","meta":{"filename":"TimelineCanvas.mjs","lineno":33,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/view/news/tickets","code":{}},"kind":"member","name":"className","type":{"names":["String"]},"defaultvalue":"'Portal.view.news.tickets.TimelineCanvas'","access":"protected","longname":"className","scope":"global","$longname":"className","$kind":"property","id":8336,"neoClassName":"Portal.view.news.tickets.TimelineCanvas"},{"comment":"/**\n         * @member {String} importMethodName='importTicketCanvas'\n         */","meta":{"filename":"TimelineCanvas.mjs","lineno":37,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/view/news/tickets","code":{}},"kind":"member","name":"importMethodName","type":{"names":["String"]},"defaultvalue":"'importTicketCanvas'","longname":"importMethodName","scope":"global","$longname":"importMethodName","$kind":"property","id":8337,"neoClassName":"Portal.view.news.tickets.TimelineCanvas"},{"comment":"/**\n         * @member {String} rendererClassName='Portal.canvas.TicketCanvas'\n         */","meta":{"filename":"TimelineCanvas.mjs","lineno":41,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/view/news/tickets","code":{}},"kind":"member","name":"rendererClassName","type":{"names":["String"]},"defaultvalue":"'Portal.canvas.TicketCanvas'","longname":"rendererClassName","scope":"global","$longname":"rendererClassName","$kind":"property","id":8338,"neoClassName":"Portal.view.news.tickets.TimelineCanvas"},{"comment":"/**\n         * @member {Object} _vdom\n         */","meta":{"filename":"TimelineCanvas.mjs","lineno":45,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/view/news/tickets","code":{}},"kind":"member","name":"_vdom","type":{"names":["Object"]},"longname":"_vdom","scope":"global","$longname":"_vdom","$kind":"property","id":8339,"neoClassName":"Portal.view.news.tickets.TimelineCanvas"},{"comment":"/**\n     * @member {Object[]} lastRecords=null\n     */","meta":{"filename":"TimelineCanvas.mjs","lineno":54,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/view/news/tickets","code":{}},"kind":"member","name":"lastRecords","type":{"names":["Array.<Object>"]},"defaultvalue":null,"longname":"lastRecords","scope":"global","$longname":"lastRecords","$kind":"property","id":8340,"neoClassName":"Portal.view.news.tickets.TimelineCanvas"},{"comment":"/**\n     *\n     */","meta":{"range":[1968,2118],"filename":"TimelineCanvas.mjs","lineno":59,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/view/news/tickets","code":{"id":"astnode100003285","name":"TimelineCanvas#ensureFinalAlignment","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"name":"ensureFinalAlignment","longname":"TimelineCanvas#ensureFinalAlignment","kind":"function","memberof":"TimelineCanvas","scope":"instance","params":[],"$longname":"TimelineCanvas#ensureFinalAlignment","$kind":"method","id":8341,"neoClassName":"Portal.view.news.tickets.TimelineCanvas"},{"comment":"/**\n     * Lifecycle hook that runs once the `OffscreenCanvas` has been transferred to the Canvas Worker.\n     *\n     * This method:\n     * 1. Imports the `TicketCanvas` logic into the Canvas Worker context.\n     * 2. Initializes the graph in the worker via Remote Method Access (`initGraph`).\n     * 3. Sets up a `ResizeObserver` to keep the canvas size synced with the DOM.\n     * 4. Triggers the initial data load if store data is available.\n     *\n     * @param {Boolean} value\n     * @param {Boolean} oldValue\n     * @protected\n     */","meta":{"range":[2669,3057],"filename":"TimelineCanvas.mjs","lineno":80,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/view/news/tickets","code":{"id":"astnode100003307","name":"TimelineCanvas#afterSetOffscreenRegistered","type":"MethodDefinition","paramnames":["value","oldValue"]},"vars":{"":null}},"description":"<p>Lifecycle hook that runs once the <code>OffscreenCanvas</code> has been transferred to the Canvas Worker.</p>\n<p>This method:</p>\n<ol>\n<li>Imports the <code>TicketCanvas</code> logic into the Canvas Worker context.</li>\n<li>Initializes the graph in the worker via Remote Method Access (<code>initGraph</code>).</li>\n<li>Sets up a <code>ResizeObserver</code> to keep the canvas size synced with the DOM.</li>\n<li>Triggers the initial data load if store data is available.</li>\n</ol>\n","params":[{"type":{"names":["Boolean"]},"name":"value"},{"type":{"names":["Boolean"]},"name":"oldValue"}],"access":"protected","name":"afterSetOffscreenRegistered","longname":"TimelineCanvas#afterSetOffscreenRegistered","kind":"function","memberof":"TimelineCanvas","scope":"instance","async":true,"$longname":"TimelineCanvas#afterSetOffscreenRegistered","$kind":"method","id":8342,"neoClassName":"Portal.view.news.tickets.TimelineCanvas"},{"comment":"/**\n     * Override to return the inner canvas ID\n     */","meta":{"range":[3125,3278],"filename":"TimelineCanvas.mjs","lineno":98,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/view/news/tickets","code":{"id":"astnode100003355","name":"TimelineCanvas#getCanvasId","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Override to return the inner canvas ID</p>\n","name":"getCanvasId","longname":"TimelineCanvas#getCanvasId","kind":"function","memberof":"TimelineCanvas","scope":"instance","params":[],"$longname":"TimelineCanvas#getCanvasId","$kind":"method","id":8343,"neoClassName":"Portal.view.news.tickets.TimelineCanvas"},{"comment":"/**\n     *\n     */","meta":{"range":[3307,3505],"filename":"TimelineCanvas.mjs","lineno":110,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/view/news/tickets","code":{"id":"astnode100003387","name":"TimelineCanvas#onConstructed","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"name":"onConstructed","longname":"TimelineCanvas#onConstructed","kind":"function","memberof":"TimelineCanvas","scope":"instance","params":[],"$longname":"TimelineCanvas#onConstructed","$kind":"method","id":8344,"neoClassName":"Portal.view.news.tickets.TimelineCanvas"},{"comment":"/**\n     * @param {Object} data\n     */","meta":{"range":[3555,4231],"filename":"TimelineCanvas.mjs","lineno":122,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/view/news/tickets","code":{"id":"astnode100003420","name":"TimelineCanvas#onResize","type":"MethodDefinition","paramnames":["data"]},"vars":{"":null}},"params":[{"type":{"names":["Object"]},"name":"data"}],"name":"onResize","longname":"TimelineCanvas#onResize","kind":"function","memberof":"TimelineCanvas","scope":"instance","async":true,"$longname":"TimelineCanvas#onResize","$kind":"method","id":8345,"neoClassName":"Portal.view.news.tickets.TimelineCanvas"},{"comment":"/**\n     * The core \"Alignment Engine\" of the timeline.\n     *\n     * This method synchronizes the Canvas nodes with the DOM elements (Avatars/Badges).\n     *\n     * **Strategy:**\n     * 1. **Targeting**: It uses the `-target` ID suffix to find the specific DOM elements (Avatars) within the ticket list.\n     * 2. **Measurement**: It fetches the `DOMRect` for every target to get its exact screen position.\n     * 3. **Translation**: It converts these screen coordinates into Canvas-local coordinates.\n     * 4. **Handoff**: It packages this geometric data (x, y, radius, color) and sends it to the\n     *    `TicketCanvas` worker to update the physics simulation.\n     *\n     * @param {Object[]|Object} records Array of records or Store load event object {items: [...]}\n     * @param {Boolean} [isResize=false]\n     */","meta":{"range":[5062,8184],"filename":"TimelineCanvas.mjs","lineno":155,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/view/news/tickets","code":{"id":"astnode100003458","name":"TimelineCanvas#onTimelineDataLoad","type":"MethodDefinition","paramnames":["records","isResize"]},"vars":{"":null}},"description":"<p>The core &quot;Alignment Engine&quot; of the timeline.</p>\n<p>This method synchronizes the Canvas nodes with the DOM elements (Avatars/Badges).</p>\n<p><strong>Strategy:</strong></p>\n<ol>\n<li><strong>Targeting</strong>: It uses the <code>-target</code> ID suffix to find the specific DOM elements (Avatars) within the ticket list.</li>\n<li><strong>Measurement</strong>: It fetches the <code>DOMRect</code> for every target to get its exact screen position.</li>\n<li><strong>Translation</strong>: It converts these screen coordinates into Canvas-local coordinates.</li>\n<li><strong>Handoff</strong>: It packages this geometric data (x, y, radius, color) and sends it to the\n<code>TicketCanvas</code> worker to update the physics simulation.</li>\n</ol>\n","params":[{"type":{"names":["Array.<Object>","Object"]},"description":"<p>Array of records or Store load event object {items: [...]}</p>\n","name":"records"},{"type":{"names":["Boolean"]},"optional":true,"defaultvalue":false,"name":"isResize"}],"name":"onTimelineDataLoad","longname":"TimelineCanvas#onTimelineDataLoad","kind":"function","memberof":"TimelineCanvas","scope":"instance","async":true,"$longname":"TimelineCanvas#onTimelineDataLoad","$kind":"method","id":8346,"neoClassName":"Portal.view.news.tickets.TimelineCanvas"}]}