{"classData":[{"comment":"/**\n * @summary SharedWorker renderer for the HeaderToolbar overlay.\n *\n * Implements the **\"Luminous Flux\"** visual theme, an ambient, interactive energy simulation that\n * serves as the backdrop for the Portal header.\n *\n * **Visual Architecture:**\n * 1. **Neo Ether (Background):** A volumetric particle field composed of faint \"dust\" and larger \"nebula\" orbs.\n *    This provides atmospheric depth, fluid interactivity (mouse repulsion), and bridges the contrast gap\n *    between the white background and the foreground elements.\n * 2. **Ambient Helix (Midground):** A large-scale, slow-moving sine wave pattern that provides structural\n *    texture to the negative space. Now enhanced with a **volumetric Ribbon fill** to add depth.\n * 3. **Split Stream (Foreground):** Two intertwined energy strands (Helix/DNA) that flow across the canvas.\n *    - **3D Ribbon Effect:** A subtle gradient fills the space between strands, simulating a twisting surface.\n  *   - **Neon Tube Effect:** Strands are rendered with a bright white core inside a colored glow, creating a physical light-emitting look.\n  *   - **Adaptive Geometry:** The strands flow loosely around text buttons but tighten into a \"high-gravity orbit\"\n  *     around social icons.\n  *   - **Energy Surge (Active State):** The segment of the stream passing through the active navigation item\n  *     is rendered with a high-intensity white glow and a nervous pulse, semantically highlighting the current view.\n  *\n  * **Performance Architecture (Zero-Allocation):**\n * To maintain 60fps on high-refresh displays without GC stutters, this class employs a **Zero-Allocation** strategy during the render loop.\n * 1. **TypedArray Buffers:** Wave geometry is stored in pre-allocated `Float32Array` buffers (`waveBuffers`), reused every frame.\n * 2. **Gradient Caching:** CanvasGradients are created only on resize (`updateResources`) and cached, avoiding expensive generator calls per frame.\n * 3. **Reusable Objects:** Physics calculations write directly to buffers instead of returning new Arrays of Objects.\n *\n * @class Portal.canvas.HeaderCanvas\n * @extends Neo.core.Base\n * @singleton\n * @see Portal.view.HeaderCanvas\n */","meta":{"filename":"HeaderCanvas.mjs","lineno":8,"columnno":0,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{}},"summary":"SharedWorker renderer for the HeaderToolbar overlay.\n\nImplements the **\"Luminous Flux\"** visual theme, an ambient, interactive energy simulation that\nserves as the backdrop for the Portal header.\n\n**Visual Architecture:**\n1. **Neo Ether (Background):** A volumetric particle field composed of faint \"dust\" and larger \"nebula\" orbs.\n   This provides atmospheric depth, fluid interactivity (mouse repulsion), and bridges the contrast gap\n   between the white background and the foreground elements.\n2. **Ambient Helix (Midground):** A large-scale, slow-moving sine wave pattern that provides structural\n   texture to the negative space. Now enhanced with a **volumetric Ribbon fill** to add depth.\n3. **Split Stream (Foreground):** Two intertwined energy strands (Helix/DNA) that flow across the canvas.\n   - **3D Ribbon Effect:** A subtle gradient fills the space between strands, simulating a twisting surface.\n  - **Neon Tube Effect:** Strands are rendered with a bright white core inside a colored glow, creating a physical light-emitting look.\n  - **Adaptive Geometry:** The strands flow loosely around text buttons but tighten into a \"high-gravity orbit\"\n    around social icons.\n  - **Energy Surge (Active State):** The segment of the stream passing through the active navigation item\n    is rendered with a high-intensity white glow and a nervous pulse, semantically highlighting the current view.\n\n**Performance Architecture (Zero-Allocation):**\nTo maintain 60fps on high-refresh displays without GC stutters, this class employs a **Zero-Allocation** strategy during the render loop.\n1. **TypedArray Buffers:** Wave geometry is stored in pre-allocated `Float32Array` buffers (`waveBuffers`), reused every frame.\n2. **Gradient Caching:** CanvasGradients are created only on resize (`updateResources`) and cached, avoiding expensive generator calls per frame.\n3. **Reusable Objects:** Physics calculations write directly to buffers instead of returning new Arrays of Objects.","kind":"class","name":"HeaderCanvas","augments":["Neo.core.Base"],"tags":[{"originalTitle":"singleton","title":"singleton","text":""}],"see":["Portal.view.HeaderCanvas"],"memberof":"Portal.canvas","longname":"Portal.canvas.HeaderCanvas","scope":"static","$longname":"Portal.canvas.HeaderCanvas","$kind":"class","id":7489,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n         * @member {String} className='Portal.canvas.HeaderCanvas'\n         * @protected\n         */","meta":{"filename":"HeaderCanvas.mjs","lineno":45,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{}},"kind":"member","name":"className","type":{"names":["String"]},"defaultvalue":"'Portal.canvas.HeaderCanvas'","access":"protected","longname":"className","scope":"global","$longname":"className","$kind":"property","id":7490,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n         * Remote method access\n         * @member {Object} remote\n         * @protected\n         */","meta":{"filename":"HeaderCanvas.mjs","lineno":51,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{}},"description":"<p>Remote method access</p>\n","kind":"member","name":"remote","type":{"names":["Object"]},"access":"protected","longname":"remote","scope":"global","$longname":"remote","$kind":"property","id":7491,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n         * @member {Boolean} singleton=true\n         * @protected\n         */","meta":{"filename":"HeaderCanvas.mjs","lineno":66,"columnno":8,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{}},"kind":"member","name":"singleton","type":{"names":["Boolean"]},"defaultvalue":true,"access":"protected","longname":"singleton","scope":"global","$longname":"singleton","$kind":"property","id":7492,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * @member {String|null} activeId=null\n     */","meta":{"filename":"HeaderCanvas.mjs","lineno":72,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{}},"kind":"member","name":"activeId","type":{"names":["String","null"]},"defaultvalue":null,"longname":"activeId","scope":"global","$longname":"activeId","$kind":"property","id":7493,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * @member {Number|null} animationId=null\n     */","meta":{"filename":"HeaderCanvas.mjs","lineno":76,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{}},"kind":"member","name":"animationId","type":{"names":["Number","null"]},"defaultvalue":null,"longname":"animationId","scope":"global","$longname":"animationId","$kind":"property","id":7494,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * @member {String|null} canvasId=null\n     */","meta":{"filename":"HeaderCanvas.mjs","lineno":80,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{}},"kind":"member","name":"canvasId","type":{"names":["String","null"]},"defaultvalue":null,"longname":"canvasId","scope":"global","$longname":"canvasId","$kind":"property","id":7495,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * @member {Object|null} canvasSize=null\n     */","meta":{"filename":"HeaderCanvas.mjs","lineno":84,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{}},"kind":"member","name":"canvasSize","type":{"names":["Object","null"]},"defaultvalue":null,"longname":"canvasSize","scope":"global","$longname":"canvasSize","$kind":"property","id":7496,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * @member {Object|null} context=null\n     */","meta":{"filename":"HeaderCanvas.mjs","lineno":88,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{}},"kind":"member","name":"context","type":{"names":["Object","null"]},"defaultvalue":null,"longname":"context","scope":"global","$longname":"context","$kind":"property","id":7497,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * @member {Object} gradients={}\n     */","meta":{"filename":"HeaderCanvas.mjs","lineno":92,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{}},"kind":"member","name":"gradients","type":{"names":["Object"]},"defaultvalue":"{}","longname":"gradients","scope":"global","$longname":"gradients","$kind":"property","id":7498,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * @member {Object} mouse={x: -1000, y: -1000}\n     */","meta":{"filename":"HeaderCanvas.mjs","lineno":96,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{}},"kind":"member","name":"mouse","type":{"names":["Object"]},"defaultvalue":"{x: -1000, y: -1000}","description":"<p>1000, y: -1000}</p>\n","longname":"mouse","scope":"global","$longname":"mouse","$kind":"property","id":7499,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * @member {Object[]} navRects=[]\n     */","meta":{"filename":"HeaderCanvas.mjs","lineno":100,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{}},"kind":"member","name":"navRects","type":{"names":["Array.<Object>"]},"defaultvalue":"[]","longname":"navRects","scope":"global","$longname":"navRects","$kind":"property","id":7500,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * @member {Object[]} particles=[]\n     */","meta":{"filename":"HeaderCanvas.mjs","lineno":104,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{}},"kind":"member","name":"particles","type":{"names":["Array.<Object>"]},"defaultvalue":"[]","longname":"particles","scope":"global","$longname":"particles","$kind":"property","id":7501,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * @member {Object[]} shockwaves=[]\n     */","meta":{"filename":"HeaderCanvas.mjs","lineno":108,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{}},"kind":"member","name":"shockwaves","type":{"names":["Array.<Object>"]},"defaultvalue":"[]","longname":"shockwaves","scope":"global","$longname":"shockwaves","$kind":"property","id":7502,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * @member {Number} time=0\n     */","meta":{"filename":"HeaderCanvas.mjs","lineno":112,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{}},"kind":"member","name":"time","type":{"names":["Number"]},"defaultvalue":0,"longname":"time","scope":"global","$longname":"time","$kind":"property","id":7503,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * Pre-allocated buffers for wave geometry.\n     * Uses `Float32Array` to eliminate Garbage Collection pressure during the render loop.\n     * @member {Object} waveBuffers={bgA: null, bgB: null, fgA: null, fgB: null}\n     */","meta":{"filename":"HeaderCanvas.mjs","lineno":118,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{}},"description":"<p>Pre-allocated buffers for wave geometry.\nUses <code>Float32Array</code> to eliminate Garbage Collection pressure during the render loop.</p>\n","kind":"member","name":"waveBuffers","type":{"names":["Object"]},"defaultvalue":"{bgA: null, bgB: null, fgA: null, fgB: null}","longname":"waveBuffers","scope":"global","$longname":"waveBuffers","$kind":"property","id":7504,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * Clears the graph state and stops the render loop.\n     */","meta":{"range":[4299,4621],"filename":"HeaderCanvas.mjs","lineno":123,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{"id":"astnode100010960","name":"HeaderCanvas#clearGraph","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Clears the graph state and stops the render loop.</p>\n","name":"clearGraph","longname":"HeaderCanvas#clearGraph","kind":"function","memberof":"HeaderCanvas","scope":"instance","params":[],"$longname":"HeaderCanvas#clearGraph","$kind":"method","id":7505,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * Initializes the canvas context.\n     * @param {Object} opts\n     * @param {String} opts.canvasId\n     * @param {String} opts.windowId\n     */","meta":{"range":[4784,5467],"filename":"HeaderCanvas.mjs","lineno":141,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{"id":"astnode100011024","name":"HeaderCanvas#initGraph","type":"MethodDefinition","paramnames":[""]},"vars":{"":null}},"description":"<p>Initializes the canvas context.</p>\n","params":[{"type":{"names":["Object"]},"name":"opts"},{"type":{"names":["String"]},"name":"opts.canvasId"},{"type":{"names":["String"]},"name":"opts.windowId"}],"name":"initGraph","longname":"HeaderCanvas#initGraph","kind":"function","memberof":"HeaderCanvas","scope":"instance","$longname":"HeaderCanvas#initGraph","$kind":"method","id":7506,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * Initializes the particle system for the \"Neo Ether\" effect.\n     *\n     * Creates a mix of large, slow-moving \"nebula\" particles and smaller, faster \"dust\" particles\n     * to create depth and atmosphere.\n     *\n     * @param {Number} width\n     * @param {Number} height\n     */","meta":{"range":[5767,6684],"filename":"HeaderCanvas.mjs","lineno":171,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{"id":"astnode100011110","name":"HeaderCanvas#initParticles","type":"MethodDefinition","paramnames":["width","height"]},"vars":{"":null}},"description":"<p>Initializes the particle system for the &quot;Neo Ether&quot; effect.</p>\n<p>Creates a mix of large, slow-moving &quot;nebula&quot; particles and smaller, faster &quot;dust&quot; particles\nto create depth and atmosphere.</p>\n","params":[{"type":{"names":["Number"]},"name":"width"},{"type":{"names":["Number"]},"name":"height"}],"name":"initParticles","longname":"HeaderCanvas#initParticles","kind":"function","memberof":"HeaderCanvas","scope":"instance","$longname":"HeaderCanvas#initParticles","$kind":"method","id":7507,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * @member {Function} renderLoop=this.render.bind(this)\n     */","meta":{"filename":"HeaderCanvas.mjs","lineno":195,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{}},"kind":"member","name":"renderLoop","type":{"names":["function"]},"defaultvalue":"this.render.bind(this)","longname":"renderLoop","scope":"global","$longname":"renderLoop","$kind":"property","id":7508,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * Main render loop.\n     *\n     * Orchestrates the rendering of all visual layers:\n     * 1. Ambient Background (Ribbon + Helix)\n     * 2. Neo Ether (Particles)\n     * 3. Split Stream (Foreground Auras)\n     * 4. Shockwaves (Interaction)\n     *\n     * Uses `setTimeout` instead of `requestAnimationFrame` because this runs in a SharedWorker\n     * where `rAF` is not available. Targets ~60fps (16ms).\n     */","meta":{"range":[7229,8265],"filename":"HeaderCanvas.mjs","lineno":209,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{"id":"astnode100011267","name":"HeaderCanvas#render","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"<p>Main render loop.</p>\n<p>Orchestrates the rendering of all visual layers:</p>\n<ol>\n<li>Ambient Background (Ribbon + Helix)</li>\n<li>Neo Ether (Particles)</li>\n<li>Split Stream (Foreground Auras)</li>\n<li>Shockwaves (Interaction)</li>\n</ol>\n<p>Uses <code>setTimeout</code> instead of <code>requestAnimationFrame</code> because this runs in a SharedWorker\nwhere <code>rAF</code> is not available. Targets ~60fps (16ms).</p>\n","name":"render","longname":"HeaderCanvas#render","kind":"function","memberof":"HeaderCanvas","scope":"instance","params":[],"$longname":"HeaderCanvas#render","$kind":"method","id":7509,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * Calculates the points for the two energy strands based on physics and interaction.\n     *\n     * **Zero-Allocation Contract:**\n     * This method writes directly to the pre-allocated `this.waveBuffers` `Float32Array`s.\n     * It does **not** allocate new arrays or objects, ensuring zero GC pressure.\n     *\n     * @param {Number} width\n     * @param {Number} height\n     * @returns {Object} {shimmerA, shimmerB, count} Metadata for rendering (scalars only)\n     */","meta":{"range":[8752,11696],"filename":"HeaderCanvas.mjs","lineno":259,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{"id":"astnode100011376","name":"HeaderCanvas#calculateStrandGeometry","type":"MethodDefinition","paramnames":["width","height"]},"vars":{"":null}},"description":"<p>Calculates the points for the two energy strands based on physics and interaction.</p>\n<p><strong>Zero-Allocation Contract:</strong>\nThis method writes directly to the pre-allocated <code>this.waveBuffers</code> <code>Float32Array</code>s.\nIt does <strong>not</strong> allocate new arrays or objects, ensuring zero GC pressure.</p>\n","params":[{"type":{"names":["Number"]},"name":"width"},{"type":{"names":["Number"]},"name":"height"}],"returns":[{"type":{"names":["Object"]},"description":"{shimmerA, shimmerB, count} Metadata for rendering (scalars only)"}],"name":"calculateStrandGeometry","longname":"HeaderCanvas#calculateStrandGeometry","kind":"function","memberof":"HeaderCanvas","scope":"instance","$longname":"HeaderCanvas#calculateStrandGeometry","$kind":"method","id":7510,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * Draws the \"Ether\" particle field to add volumetric depth and interactivity.\n     *\n     * **Intent:**\n     * Creates a living, breathing atmosphere (\"Neo Ether\") that fills the negative space.\n     * This bridges the visual gap between the stark white background and the high-contrast foreground lines.\n     *\n     * **Physics:**\n     * - **Drift:** Particles move with a constant `vx` to simulate data flow or wind.\n     * - **Repulsion:** The mouse cursor acts as a \"repulsor field,\" pushing particles away and brightening them\n     *   to create a \"hole\" in the fog.\n     * - **Nebulae:** Large, faint particles create a \"fog\" effect, while small, bright particles act as \"dust.\"\n     *\n     * @param {CanvasRenderingContext2D} ctx\n     * @param {Number} width\n     * @param {Number} height\n     */","meta":{"range":[12519,15530],"filename":"HeaderCanvas.mjs","lineno":346,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{"id":"astnode100011784","name":"HeaderCanvas#drawParticles","type":"MethodDefinition","paramnames":["ctx","width","height"]},"vars":{"":null}},"description":"<p>Draws the &quot;Ether&quot; particle field to add volumetric depth and interactivity.</p>\n<p><strong>Intent:</strong>\nCreates a living, breathing atmosphere (&quot;Neo Ether&quot;) that fills the negative space.\nThis bridges the visual gap between the stark white background and the high-contrast foreground lines.</p>\n<p><strong>Physics:</strong></p>\n<ul>\n<li><strong>Drift:</strong> Particles move with a constant <code>vx</code> to simulate data flow or wind.</li>\n<li><strong>Repulsion:</strong> The mouse cursor acts as a &quot;repulsor field,&quot; pushing particles away and brightening them\nto create a &quot;hole&quot; in the fog.</li>\n<li><strong>Nebulae:</strong> Large, faint particles create a &quot;fog&quot; effect, while small, bright particles act as &quot;dust.&quot;</li>\n</ul>\n","params":[{"type":{"names":["CanvasRenderingContext2D"]},"name":"ctx"},{"type":{"names":["Number"]},"name":"width"},{"type":{"names":["Number"]},"name":"height"}],"name":"drawParticles","longname":"HeaderCanvas#drawParticles","kind":"function","memberof":"HeaderCanvas","scope":"instance","$longname":"HeaderCanvas#drawParticles","$kind":"method","id":7511,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * Draws an additional highlight for the active navigation item.\n     * **\"Energy Surge\" Effect:**\n     * Renders a high-intensity pass of the energy strands *only* within the active zone.\n     * This makes the lines appear to \"power up\" or glow white-hot as they pass through the active view,\n     * fully integrated with the existing geometry.\n     *\n     * @param {CanvasRenderingContext2D} ctx\n     * @param {Number} width\n     */","meta":{"range":[15983,17559],"filename":"HeaderCanvas.mjs","lineno":434,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{"id":"astnode100012280","name":"HeaderCanvas#drawActiveOverlay","type":"MethodDefinition","paramnames":["ctx","width"]},"vars":{"":null}},"description":"<p>Draws an additional highlight for the active navigation item.\n<strong>&quot;Energy Surge&quot; Effect:</strong>\nRenders a high-intensity pass of the energy strands <em>only</em> within the active zone.\nThis makes the lines appear to &quot;power up&quot; or glow white-hot as they pass through the active view,\nfully integrated with the existing geometry.</p>\n","params":[{"type":{"names":["CanvasRenderingContext2D"]},"name":"ctx"},{"type":{"names":["Number"]},"name":"width"}],"name":"drawActiveOverlay","longname":"HeaderCanvas#drawActiveOverlay","kind":"function","memberof":"HeaderCanvas","scope":"instance","$longname":"HeaderCanvas#drawActiveOverlay","$kind":"method","id":7512,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * Draws a subtle, large-scale background Helix pattern with a 3D Ribbon effect.\n     *\n     * **Intent:**\n     * Provides a structural backbone to the negative space. Unlike the particle field (which is chaotic),\n     * this layer is ordered and rhythmic, reinforcing the \"DNA/Helix\" theme even in the background.\n     *\n     * **Visuals:**\n     * 1. **Ribbon Fill:** A barely-visible volumetric gradient fills the space between the helices.\n     * 2. **Depth of Field:** Uses wide, very low opacity strokes to appear \"out of focus\" behind the sharp foreground.\n     *\n     * @param {CanvasRenderingContext2D} ctx\n     * @param {Number} width\n     * @param {Number} height\n     */","meta":{"range":[18259,19903],"filename":"HeaderCanvas.mjs","lineno":498,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{"id":"astnode100012515","name":"HeaderCanvas#drawAmbientBackground","type":"MethodDefinition","paramnames":["ctx","width","height"]},"vars":{"":null}},"description":"<p>Draws a subtle, large-scale background Helix pattern with a 3D Ribbon effect.</p>\n<p><strong>Intent:</strong>\nProvides a structural backbone to the negative space. Unlike the particle field (which is chaotic),\nthis layer is ordered and rhythmic, reinforcing the &quot;DNA/Helix&quot; theme even in the background.</p>\n<p><strong>Visuals:</strong></p>\n<ol>\n<li><strong>Ribbon Fill:</strong> A barely-visible volumetric gradient fills the space between the helices.</li>\n<li><strong>Depth of Field:</strong> Uses wide, very low opacity strokes to appear &quot;out of focus&quot; behind the sharp foreground.</li>\n</ol>\n","params":[{"type":{"names":["CanvasRenderingContext2D"]},"name":"ctx"},{"type":{"names":["Number"]},"name":"width"},{"type":{"names":["Number"]},"name":"height"}],"name":"drawAmbientBackground","longname":"HeaderCanvas#drawAmbientBackground","kind":"function","memberof":"HeaderCanvas","scope":"instance","$longname":"HeaderCanvas#drawAmbientBackground","$kind":"method","id":7513,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * Draws the main foreground \"Split Stream\" energy strands with 3D effects.\n     *\n     * **3D Architecture:**\n     * 1. **Ribbon Fill:** Draws a low-opacity gradient between Strand A and Strand B, creating a twisting surface.\n     * 2. **Neon Tube (Outer):** The colored glow of the strands.\n     * 3. **Neon Tube (Core):** A bright white inner core to simulate volumetric light.\n     *\n     * @param {CanvasRenderingContext2D} ctx\n     * @param {Number} width\n     * @param {Number} height\n     */","meta":{"range":[20421,22588],"filename":"HeaderCanvas.mjs","lineno":566,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{"id":"astnode100012805","name":"HeaderCanvas#drawAuras","type":"MethodDefinition","paramnames":["ctx","width","height"]},"vars":{"":null}},"description":"<p>Draws the main foreground &quot;Split Stream&quot; energy strands with 3D effects.</p>\n<p><strong>3D Architecture:</strong></p>\n<ol>\n<li><strong>Ribbon Fill:</strong> Draws a low-opacity gradient between Strand A and Strand B, creating a twisting surface.</li>\n<li><strong>Neon Tube (Outer):</strong> The colored glow of the strands.</li>\n<li><strong>Neon Tube (Core):</strong> A bright white inner core to simulate volumetric light.</li>\n</ol>\n","params":[{"type":{"names":["CanvasRenderingContext2D"]},"name":"ctx"},{"type":{"names":["Number"]},"name":"width"},{"type":{"names":["Number"]},"name":"height"}],"name":"drawAuras","longname":"HeaderCanvas#drawAuras","kind":"function","memberof":"HeaderCanvas","scope":"instance","$longname":"HeaderCanvas#drawAuras","$kind":"method","id":7514,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * Calculates the physics for diverting the stream around UI elements.\n     *\n     * **Logic:**\n     * 1. **Detection:** Iterates through `navRects` to find if the current `x` is near a button.\n     * 2. **Adaptive Geometry:**\n     *    - **Text Buttons:** Uses a wide Cosine envelope for smooth flow.\n     *    - **Icon Buttons:** Uses a sharp Cubed envelope (`Math.pow(x, 3)`) to create a \"Tight Orbit\" effect.\n     * 3. **Vertical Clamping:** Ensures the diversion never pushes the wave off-canvas.\n     *\n     * @param {Number} x\n     * @param {Number} height (Canvas height)\n     * @returns {Object} {offsetY, intensity, isIconZone}\n     */","meta":{"range":[23252,26798],"filename":"HeaderCanvas.mjs","lineno":650,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{"id":"astnode100013113","name":"HeaderCanvas#getStreamOffset","type":"MethodDefinition","paramnames":["x","height"]},"vars":{"":null}},"description":"<p>Calculates the physics for diverting the stream around UI elements.</p>\n<p><strong>Logic:</strong></p>\n<ol>\n<li><strong>Detection:</strong> Iterates through <code>navRects</code> to find if the current <code>x</code> is near a button.</li>\n<li><strong>Adaptive Geometry:</strong><ul>\n<li><strong>Text Buttons:</strong> Uses a wide Cosine envelope for smooth flow.</li>\n<li><strong>Icon Buttons:</strong> Uses a sharp Cubed envelope (<code>Math.pow(x, 3)</code>) to create a &quot;Tight Orbit&quot; effect.</li>\n</ul>\n</li>\n<li><strong>Vertical Clamping:</strong> Ensures the diversion never pushes the wave off-canvas.</li>\n</ol>\n","params":[{"type":{"names":["Number"]},"name":"x"},{"type":{"names":["Number"]},"description":"<p>(Canvas height)</p>\n","name":"height"}],"returns":[{"type":{"names":["Object"]},"description":"{offsetY, intensity, isIconZone}"}],"name":"getStreamOffset","longname":"HeaderCanvas#getStreamOffset","kind":"function","memberof":"HeaderCanvas","scope":"instance","$longname":"HeaderCanvas#getStreamOffset","$kind":"method","id":7515,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * Draws expanding shockwaves from clicks.\n     * @param {CanvasRenderingContext2D} ctx\n     * @param {Number} width\n     */","meta":{"range":[26941,28229],"filename":"HeaderCanvas.mjs","lineno":732,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{"id":"astnode100013398","name":"HeaderCanvas#drawShockwaves","type":"MethodDefinition","paramnames":["ctx","width"]},"vars":{"":null}},"description":"<p>Draws expanding shockwaves from clicks.</p>\n","params":[{"type":{"names":["CanvasRenderingContext2D"]},"name":"ctx"},{"type":{"names":["Number"]},"name":"width"}],"name":"drawShockwaves","longname":"HeaderCanvas#drawShockwaves","kind":"function","memberof":"HeaderCanvas","scope":"instance","$longname":"HeaderCanvas#drawShockwaves","$kind":"method","id":7516,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * @param {Object} data\n     * @param {String} [data.id]\n     */","meta":{"range":[28312,28381],"filename":"HeaderCanvas.mjs","lineno":779,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{"id":"astnode100013591","name":"HeaderCanvas#updateActiveId","type":"MethodDefinition","paramnames":["data"]},"vars":{"":null}},"params":[{"type":{"names":["Object"]},"name":"data"},{"type":{"names":["String"]},"optional":true,"name":"data.id"}],"name":"updateActiveId","longname":"HeaderCanvas#updateActiveId","kind":"function","memberof":"HeaderCanvas","scope":"instance","$longname":"HeaderCanvas#updateActiveId","$kind":"method","id":7517,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * @param {Object} data\n     */","meta":{"range":[28431,28520],"filename":"HeaderCanvas.mjs","lineno":786,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{"id":"astnode100013604","name":"HeaderCanvas#updateGraphData","type":"MethodDefinition","paramnames":["data"]},"vars":{"":null}},"params":[{"type":{"names":["Object"]},"name":"data"}],"name":"updateGraphData","longname":"HeaderCanvas#updateGraphData","kind":"function","memberof":"HeaderCanvas","scope":"instance","$longname":"HeaderCanvas#updateGraphData","$kind":"method","id":7518,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * @param {Object} data\n     * @param {Boolean} [data.click]\n     * @param {Boolean} [data.leave]\n     * @param {Number} [data.x]\n     * @param {Number} [data.y]\n     */","meta":{"range":[28708,29285],"filename":"HeaderCanvas.mjs","lineno":797,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{"id":"astnode100013609","name":"HeaderCanvas#updateMouseState","type":"MethodDefinition","paramnames":["data"]},"vars":{"":null}},"params":[{"type":{"names":["Object"]},"name":"data"},{"type":{"names":["Boolean"]},"optional":true,"name":"data.click"},{"type":{"names":["Boolean"]},"optional":true,"name":"data.leave"},{"type":{"names":["Number"]},"optional":true,"name":"data.x"},{"type":{"names":["Number"]},"optional":true,"name":"data.y"}],"name":"updateMouseState","longname":"HeaderCanvas#updateMouseState","kind":"function","memberof":"HeaderCanvas","scope":"instance","$longname":"HeaderCanvas#updateMouseState","$kind":"method","id":7519,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * @param {Object} data\n     * @param {Object[]} data.rects\n     */","meta":{"range":[29371,29561],"filename":"HeaderCanvas.mjs","lineno":823,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{"id":"astnode100013701","name":"HeaderCanvas#updateNavRects","type":"MethodDefinition","paramnames":["data"]},"vars":{"":null}},"params":[{"type":{"names":["Object"]},"name":"data"},{"type":{"names":["Array.<Object>"]},"name":"data.rects"}],"name":"updateNavRects","longname":"HeaderCanvas#updateNavRects","kind":"function","memberof":"HeaderCanvas","scope":"instance","$longname":"HeaderCanvas#updateNavRects","$kind":"method","id":7520,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * Creates and caches gradients and geometry buffers based on canvas size.\n     * This eliminates per-frame allocation of TypedArrays and CanvasGradients.\n     *\n     * @param {Number} width\n     * @param {Number} height\n     */","meta":{"range":[29808,32109],"filename":"HeaderCanvas.mjs","lineno":840,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{"id":"astnode100013730","name":"HeaderCanvas#updateResources","type":"MethodDefinition","paramnames":["width","height"]},"vars":{"":null}},"description":"<p>Creates and caches gradients and geometry buffers based on canvas size.\nThis eliminates per-frame allocation of TypedArrays and CanvasGradients.</p>\n","params":[{"type":{"names":["Number"]},"name":"width"},{"type":{"names":["Number"]},"name":"height"}],"name":"updateResources","longname":"HeaderCanvas#updateResources","kind":"function","memberof":"HeaderCanvas","scope":"instance","$longname":"HeaderCanvas#updateResources","$kind":"method","id":7521,"neoClassName":"Portal.canvas.HeaderCanvas"},{"comment":"/**\n     * @param {Object} size\n     * @param {Number} size.height\n     * @param {Number} size.width\n     */","meta":{"range":[32228,32545],"filename":"HeaderCanvas.mjs","lineno":902,"columnno":4,"path":"/Users/Shared/github/neomjs/pages/node_modules/neo.mjs/apps/portal/canvas","code":{"id":"astnode100014053","name":"HeaderCanvas#updateSize","type":"MethodDefinition","paramnames":["size"]},"vars":{"":null}},"params":[{"type":{"names":["Object"]},"name":"size"},{"type":{"names":["Number"]},"name":"size.height"},{"type":{"names":["Number"]},"name":"size.width"}],"name":"updateSize","longname":"HeaderCanvas#updateSize","kind":"function","memberof":"HeaderCanvas","scope":"instance","$longname":"HeaderCanvas#updateSize","$kind":"method","id":7522,"neoClassName":"Portal.canvas.HeaderCanvas"}]}